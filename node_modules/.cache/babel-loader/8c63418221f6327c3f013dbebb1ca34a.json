{"ast":null,"code":"import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useState}from'react';import{Base,Column,Flex,Grid,LayoutBadgeImageView}from'../../../common';import{GroupBadgePart}from'../common/GroupBadgePart';import{useGroupsContext}from'../GroupsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const POSITIONS=[0,1,2,3,4,5,6,7,8];export const GroupBadgeCreatorView=props=>{const{badgeParts=[],setBadgeParts=null}=props;const[selectedIndex,setSelectedIndex]=useState(-1);const{groupCustomize=null}=useGroupsContext();const setPartProperty=(partIndex,property,value)=>{const newBadgeParts=[...badgeParts];newBadgeParts[partIndex][property]=value;setBadgeParts(newBadgeParts);if(property==='key')setSelectedIndex(-1);};if(!badgeParts||!badgeParts.length)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[selectedIndex<0&&badgeParts&&badgeParts.length>0&&badgeParts.map((part,index)=>{return/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:2,className:\"bg-muted rounded px-2 py-1\",children:[/*#__PURE__*/_jsxs(Flex,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:event=>setSelectedIndex(index),children:[badgeParts[index].code&&badgeParts[index].code.length>0&&/*#__PURE__*/_jsx(LayoutBadgeImageView,{badgeCode:badgeParts[index].code,isGroup:true}),(!badgeParts[index].code||!badgeParts[index].code.length)&&/*#__PURE__*/_jsx(Flex,{center:true,className:\"badge-image group-badge\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"plus\"})})]}),part.type!==GroupBadgePart.BASE&&/*#__PURE__*/_jsx(Grid,{gap:1,columnCount:3,children:POSITIONS.map((position,posIndex)=>{return/*#__PURE__*/_jsx(Base,{pointer:true,className:`group-badge-position-swatch ${badgeParts[index].position===position?'active':''}`,onClick:event=>setPartProperty(index,'position',position)},posIndex);})}),/*#__PURE__*/_jsx(Grid,{gap:1,columnCount:8,children:groupCustomize.badgePartColors.length>0&&groupCustomize.badgePartColors.map((item,colorIndex)=>{return/*#__PURE__*/_jsx(Base,{pointer:true,className:`group-badge-color-swatch ${badgeParts[index].color===colorIndex+1?'active':''}`,style:{backgroundColor:'#'+item.color},onClick:event=>setPartProperty(index,'color',colorIndex+1)},colorIndex);})})]},index);}),selectedIndex>=0&&/*#__PURE__*/_jsxs(Grid,{gap:1,columnCount:5,children:[badgeParts[selectedIndex].type===GroupBadgePart.SYMBOL&&/*#__PURE__*/_jsx(Column,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:event=>setPartProperty(selectedIndex,'key',0),children:/*#__PURE__*/_jsx(Flex,{center:true,className:\"badge-image group-badge\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"times\"})})}),(badgeParts[selectedIndex].type===GroupBadgePart.BASE?groupCustomize.badgeBases:groupCustomize.badgeSymbols).map((item,index)=>{return/*#__PURE__*/_jsx(Column,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:event=>setPartProperty(selectedIndex,'key',item.id),children:/*#__PURE__*/_jsx(LayoutBadgeImageView,{badgeCode:GroupBadgePart.getCode(badgeParts[selectedIndex].type,item.id,badgeParts[selectedIndex].color,4),isGroup:true})},index);})]})]});};","map":null,"metadata":{},"sourceType":"module"}