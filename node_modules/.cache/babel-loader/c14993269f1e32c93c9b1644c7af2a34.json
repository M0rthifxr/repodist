{"ast":null,"code":"import{ObjectDataFactory}from'../../../../room/object/data/ObjectDataFactory';import{LegacyDataType}from'../../../../room/object/data/type/LegacyDataType';import{MarketplaceOffer}from'../../incoming/marketplace/MarketplaceOffer';import{FurnitureDataParser}from'../room/furniture/FurnitureDataParser';export class MarketplaceOffersParser{constructor(){this.MAX_LIST_LENGTH=500;this._offers=void 0;this._totalItemsFound=void 0;}flush(){this._offers=[];this._totalItemsFound=0;return true;}parse(wrapper){if(!wrapper)return false;const count=wrapper.readInt();let i=0;while(i<count){const offerId=wrapper.readInt();const status=wrapper.readInt();let furniType=wrapper.readInt();let furniId=-1;let extraData='';let stuffData=null;if(furniType===MarketplaceOffersParser.FURNITYPE_STUFF){furniId=wrapper.readInt();stuffData=FurnitureDataParser.parseObjectData(wrapper);}else if(furniType===MarketplaceOffersParser.FURNITYPE_WALL){furniId=wrapper.readInt();extraData=wrapper.readString();}else if(furniType==MarketplaceOffersParser.FAKE_FURNITYPE_UNIQUE){furniId=wrapper.readInt();stuffData=ObjectDataFactory.getData(LegacyDataType.FORMAT_KEY);stuffData.uniqueNumber=wrapper.readInt();stuffData.uniqueSeries=wrapper.readInt();furniType=MarketplaceOffersParser.FURNITYPE_STUFF;}const price=wrapper.readInt();const timeLeftMinutes=wrapper.readInt();const averagePrice=wrapper.readInt();const offerCount=wrapper.readInt();const offerItem=new MarketplaceOffer(offerId,furniId,furniType,extraData,stuffData,price,status,timeLeftMinutes,averagePrice,offerCount);if(i<this.MAX_LIST_LENGTH)this._offers.push(offerItem);i++;}this._totalItemsFound=wrapper.readInt();return true;}get offers(){return this._offers;}get totalItemsFound(){return this._totalItemsFound;}}MarketplaceOffersParser.FURNITYPE_STUFF=1;MarketplaceOffersParser.FURNITYPE_WALL=2;MarketplaceOffersParser.FAKE_FURNITYPE_UNIQUE=3;","map":null,"metadata":{},"sourceType":"module"}