{"ast":null,"code":"import{NitroRectangle}from'@nitrots/nitro-renderer';import{useCallback,useRef}from'react';import{GetRoomEngine,LocalizeText,SoundNames}from'../../api';import{PlaySound}from'../../api/utils/PlaySound';import{Button}from'../Button';import{DraggableWindow}from'../draggable-window';import{Flex}from'../Flex';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const LayoutMiniCameraView=props=>{const{roomId=-1,textureReceiver=null,onClose=null}=props;const elementRef=useRef();const getCameraBounds=useCallback(()=>{if(!elementRef||!elementRef.current)return null;const frameBounds=elementRef.current.getBoundingClientRect();return new NitroRectangle(Math.floor(frameBounds.x),Math.floor(frameBounds.y),Math.floor(frameBounds.width),Math.floor(frameBounds.height));},[]);const takePicture=useCallback(()=>{PlaySound(SoundNames.CAMERA_SHUTTER);textureReceiver(GetRoomEngine().createTextureFromRoom(roomId,1,getCameraBounds()));},[roomId,getCameraBounds,textureReceiver]);return/*#__PURE__*/_jsx(DraggableWindow,{handleSelector:\".nitro-room-thumbnail-camera\",children:/*#__PURE__*/_jsxs(Flex,{className:\"nitro-room-thumbnail-camera pt-2 px-1\",children:[/*#__PURE__*/_jsx(Flex,{ref:elementRef,className:'camera-frame'}),/*#__PURE__*/_jsxs(Flex,{gap:1,className:\"align-items-end camera-buttons\",children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:onClose,children:LocalizeText('cancel')}),/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:takePicture,children:LocalizeText('navigator.thumbeditor.save')})]})]})});};","map":null,"metadata":{},"sourceType":"module"}