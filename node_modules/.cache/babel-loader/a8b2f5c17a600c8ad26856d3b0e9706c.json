{"ast":null,"code":"import{ConditionDefinition,TriggerDefinition,UpdateActionMessageComposer,UpdateConditionMessageComposer,UpdateTriggerMessageComposer,WiredActionDefinition}from'@nitrots/nitro-renderer';import{useState}from'react';import{IsOwnerOfFloorFurniture,LocalizeText,NotificationUtilities,SendMessageComposer}from'../../api';import{GetWiredLayout}from'./common/GetWiredLayout';import{WiredContextProvider}from'./WiredContext';import{WiredMessageHandler}from'./WiredMessageHandler';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const WiredView=props=>{const[trigger,setTrigger]=useState(null);const[intParams,setIntParams]=useState([]);const[stringParam,setStringParam]=useState('');const[furniIds,setFurniIds]=useState([]);const[actionDelay,setActionDelay]=useState(0);const saveWired=()=>{const save=trigger=>{if(!trigger)return;if(trigger instanceof WiredActionDefinition){SendMessageComposer(new UpdateActionMessageComposer(trigger.id,intParams,stringParam,furniIds,actionDelay,trigger.stuffTypeSelectionCode));}else if(trigger instanceof TriggerDefinition){SendMessageComposer(new UpdateTriggerMessageComposer(trigger.id,intParams,stringParam,furniIds,trigger.stuffTypeSelectionCode));}else if(trigger instanceof ConditionDefinition){SendMessageComposer(new UpdateConditionMessageComposer(trigger.id,intParams,stringParam,furniIds,trigger.stuffTypeSelectionCode));}};if(!IsOwnerOfFloorFurniture(trigger.id)){NotificationUtilities.confirm(LocalizeText('wiredfurni.nonowner.change.confirm.body'),()=>{save(trigger);},null,null,null,LocalizeText('wiredfurni.nonowner.change.confirm.title'));}else{save(trigger);}};return/*#__PURE__*/_jsxs(WiredContextProvider,{value:{trigger,setTrigger,intParams,setIntParams,stringParam,setStringParam,furniIds,setFurniIds,actionDelay,setActionDelay,saveWired},children:[/*#__PURE__*/_jsx(WiredMessageHandler,{}),trigger!==null&&GetWiredLayout(trigger)]});};","map":null,"metadata":{},"sourceType":"module"}