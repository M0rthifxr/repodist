{"ast":null,"code":"import{RoomObjectPlaySoundIdEvent}from'../../../events';import{ObjectDataUpdateMessage}from'../../../messages';import{FurnitureMultiStateLogic}from'./FurnitureMultiStateLogic';export class FurnitureCuckooClockLogic extends FurnitureMultiStateLogic{constructor(){super(...arguments);this._state=1;}getEventTypes(){const types=[RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH];return this.mergeTypes(super.getEventTypes(),types);}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage){if(this._state!==-1&&message.state!==this._state){this.dispatchSoundEvent(this.object.location.z);}this._state=message.state;}}dispatchSoundEvent(height){const pitch=Math.pow(2,height-1.2);this.eventDispatcher.dispatchEvent(new RoomObjectPlaySoundIdEvent(RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH,this.object,'FURNITURE_cuckoo_clock',pitch));}}","map":null,"metadata":{},"sourceType":"module"}