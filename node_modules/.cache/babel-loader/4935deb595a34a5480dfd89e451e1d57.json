{"ast":null,"code":"import{ContextMenuEnum}from'../../../../ui';import{RoomObjectWidgetRequestEvent}from'../../../events/RoomObjectWidgetRequestEvent';import{ObjectDataUpdateMessage}from'../../../messages/ObjectDataUpdateMessage';import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureMultiStateLogic}from'./FurnitureMultiStateLogic';export class FurnitureFriendFurniLogic extends FurnitureMultiStateLogic{constructor(){super(...arguments);this._state=-1;}initialize(asset){super.initialize(asset);if(this.object)this.object.model.setValue(RoomObjectVariable.FURNITURE_FRIENDFURNI_ENGRAVING,this.engravingDialogType);}processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage){const data=message.data;if(data){this._state=data.state;}else{this._state=message.state;}}super.processUpdateMessage(message);}getEventTypes(){const types=[RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;if(this._state===FurnitureFriendFurniLogic.STATE_LOCKED){this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING,this.object));}else{super.useObject();}}get engravingDialogType(){return 0;}get contextMenu(){return this._state===FurnitureFriendFurniLogic.STATE_UNLOCKED?ContextMenuEnum.FRIEND_FURNITURE:ContextMenuEnum.DUMMY;}}FurnitureFriendFurniLogic.STATE_UNINITIALIZED=-1;FurnitureFriendFurniLogic.STATE_UNLOCKED=0;FurnitureFriendFurniLogic.STATE_LOCKED=1;","map":null,"metadata":{},"sourceType":"module"}