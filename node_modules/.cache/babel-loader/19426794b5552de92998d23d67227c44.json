{"ast":null,"code":"import{RoomObjectLogicBase}from'../../../../../room/object/logic/RoomObjectLogicBase';import{ObjectTileCursorUpdateMessage}from'../../../messages/ObjectTileCursorUpdateMessage';import{RoomObjectVariable}from'../../RoomObjectVariable';export class TileCursorLogic extends RoomObjectLogicBase{constructor(){super();this._lastEventId=void 0;this._isHidden=void 0;this._lastEventId=null;this._isHidden=false;}initialize(data){if(!this.object)return;this.object.model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,1);this.object.setState(TileCursorLogic.CURSOR_HIDDEN_STATE,0);}processUpdateMessage(message){if(!(message instanceof ObjectTileCursorUpdateMessage))return;if(this._lastEventId&&this._lastEventId===message.sourceEventId)return;if(message.toggleVisibility)this._isHidden=!this._isHidden;super.processUpdateMessage(message);if(this.object){if(this._isHidden){this.object.setState(TileCursorLogic.CURSOR_HIDDEN_STATE,0);}else{if(!message.visible){this.object.setState(TileCursorLogic.CURSOR_HIDDEN_STATE,0);}else{this.object.model.setValue(RoomObjectVariable.TILE_CURSOR_HEIGHT,message.height);this.object.setState(message.height>0.8?TileCursorLogic.CURSOR_HEIGHT_STATE:TileCursorLogic.CURSOR_VISIBLE_STATE);}}}this._lastEventId=message.sourceEventId;}}TileCursorLogic.CURSOR_VISIBLE_STATE=0;TileCursorLogic.CURSOR_HIDDEN_STATE=1;TileCursorLogic.CURSOR_HEIGHT_STATE=6;","map":null,"metadata":{},"sourceType":"module"}