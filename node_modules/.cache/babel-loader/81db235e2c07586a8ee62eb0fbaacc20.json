{"ast":null,"code":"import{AdvancedMap,StringDataType}from'@nitrots/nitro-renderer';import{GetSessionDataManager}from'../nitro';import{FurniCategory}from'./FurniCategory';import{FurnitureItem}from'./FurnitureItem';import{createGroupItem}from'./FurnitureUtilities';const isExternalImage=spriteId=>{var _GetSessionDataManage;return((_GetSessionDataManage=GetSessionDataManager().getWallItemData(spriteId))===null||_GetSessionDataManage===void 0?void 0:_GetSessionDataManage.isExternalImage)||false;};export const parseTradeItems=items=>{const existingItems=new AdvancedMap();const totalItems=items.length;if(totalItems){for(const item of items){const spriteId=item.spriteId;const category=item.category;let name=item.furniType+spriteId;if(!item.isGroupable||isExternalImage(spriteId)){name='itemid'+item.itemId;}if(item.category===FurniCategory.POSTER){name=item.itemId+'poster'+item.stuffData.getLegacyString();}else if(item.category===FurniCategory.GUILD_FURNI){name='';}let groupItem=item.isGroupable&&!isExternalImage(item.spriteId)?existingItems.getValue(name):null;if(!groupItem){groupItem=createGroupItem(spriteId,category,item.stuffData);existingItems.add(name,groupItem);}groupItem.push(new FurnitureItem(item));}}return existingItems;};export const getGuildFurniType=(spriteId,stuffData)=>{let type=spriteId.toString();if(!(stuffData instanceof StringDataType))return type;let i=1;while(i<5){type=type+(','+stuffData.getValue(i));i++;}return type;};","map":null,"metadata":{},"sourceType":"module"}