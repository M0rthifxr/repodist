{"ast":null,"code":"import{RoomSessionPollEvent,RoomWidgetEnum}from'@nitrots/nitro-renderer';import{RoomWidgetPollUpdateEvent}from'../events';import{RoomWidgetPollMessage}from'../messages';import{RoomWidgetHandler}from'./RoomWidgetHandler';export class PollWidgetHandler extends RoomWidgetHandler{processEvent(event){const pollEvent=event;let widgetEvent;switch(event.type){case RoomSessionPollEvent.OFFER:widgetEvent=new RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent.OFFER,pollEvent.id);widgetEvent.summary=pollEvent.summary;widgetEvent.headline=pollEvent.headline;break;case RoomSessionPollEvent.ERROR:widgetEvent=new RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent.ERROR,pollEvent.id);widgetEvent.summary=pollEvent.summary;widgetEvent.headline=pollEvent.headline;break;case RoomSessionPollEvent.CONTENT:widgetEvent=new RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent.CONTENT,pollEvent.id);widgetEvent.startMessage=pollEvent.startMessage;widgetEvent.endMessage=pollEvent.endMessage;widgetEvent.numQuestions=pollEvent.numQuestions;widgetEvent.questionArray=pollEvent.questionArray;widgetEvent.npsPoll=pollEvent.npsPoll;break;}if(!widgetEvent)return;this.container.eventDispatcher.dispatchEvent(widgetEvent);}processWidgetMessage(message){const pollMessage=message;switch(message.type){case RoomWidgetPollMessage.START:this.container.roomSession.sendPollStartMessage(pollMessage.id);break;case RoomWidgetPollMessage.REJECT:this.container.roomSession.sendPollRejectMessage(pollMessage.id);break;case RoomWidgetPollMessage.ANSWER:this.container.roomSession.sendPollAnswerMessage(pollMessage.id,pollMessage.questionId,pollMessage.answers);break;}return null;}get type(){return RoomWidgetEnum.ROOM_POLL;}get eventTypes(){return[RoomSessionPollEvent.OFFER,RoomSessionPollEvent.ERROR,RoomSessionPollEvent.CONTENT];}get messageTypes(){return[RoomWidgetPollMessage.ANSWER,RoomWidgetPollMessage.REJECT,RoomWidgetPollMessage.START];}}","map":null,"metadata":{},"sourceType":"module"}