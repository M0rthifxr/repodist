{"ast":null,"code":"import{useEffect,useState}from'react';import{Column,Flex,Text}from'../../../../../common';import{useCatalog}from'../../../../../hooks';import{CatalogItemGridWidgetView}from'../widgets/CatalogItemGridWidgetView';import{CatalogPurchaseWidgetView}from'../widgets/CatalogPurchaseWidgetView';import{CatalogTotalPriceWidget}from'../widgets/CatalogTotalPriceWidget';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const CatalogLayoutTrophiesView=props=>{const{page=null}=props;const[trophyText,setTrophyText]=useState('');const{currentOffer=null,setPurchaseOptions=null}=useCatalog();useEffect(()=>{if(!currentOffer)return;setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.extraData=trophyText;return newValue;});},[currentOffer,trophyText,setPurchaseOptions]);return/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsx(Column,{className:\"pt-2\",center:!currentOffer,overflow:\"hidden\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[!!page.localization.getImage(1)&&/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/_jsx(Text,{small:true,center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]})}),/*#__PURE__*/_jsxs(Column,{size:7,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Column,{className:\"grid-bg item-picker p-2\",size:7,overflow:\"hidden\",children:/*#__PURE__*/_jsx(CatalogItemGridWidgetView,{})}),currentOffer&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Column,{grow:true,gap:1,children:[/*#__PURE__*/_jsx(Text,{grow:true,center:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/_jsx(Flex,{justifyContent:\"end\",children:/*#__PURE__*/_jsx(CatalogTotalPriceWidget,{alignItems:\"end\",className:\"credits-bg py-1 px-2\"})}),/*#__PURE__*/_jsx(Flex,{gap:2,className:\"purchase-buttons align-items-end mt-2\",children:/*#__PURE__*/_jsx(CatalogPurchaseWidgetView,{})})]})}),/*#__PURE__*/_jsx(\"textarea\",{className:\"flex-grow-1 form-control w-100 trophy-text\",defaultValue:trophyText||'',onChange:event=>setTrophyText(event.target.value)})]})]});};","map":null,"metadata":{},"sourceType":"module"}