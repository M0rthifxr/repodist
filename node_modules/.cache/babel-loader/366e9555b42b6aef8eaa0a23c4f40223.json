{"ast":null,"code":"import{BotSkillSaveComposer}from'@nitrots/nitro-renderer';import{useMemo,useState}from'react';import{GetRoomObjectBounds,GetRoomSession,LocalizeText,SendMessageComposer}from'../../../../api';import{Base,Button,Column,DraggableWindow,DraggableWindowPosition,Flex,Text}from'../../../../common';import{ContextMenuHeaderView}from'../context-menu/ContextMenuHeaderView';import{BotSkillsEnum}from'./common/BotSkillsEnum';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const AvatarInfoRentableBotChatView=props=>{const{chatEvent=null,close=null}=props;// eslint-disable-next-line no-template-curly-in-string\nconst[newText,setNewText]=useState(chatEvent.chat==='${bot.skill.chatter.configuration.text.placeholder}'?'':chatEvent.chat);const[automaticChat,setAutomaticChat]=useState(chatEvent.automaticChat);const[mixSentences,setMixSentences]=useState(chatEvent.mixSentences);const[chatDelay,setChatDelay]=useState(chatEvent.chatDelay);const getObjectLocation=useMemo(()=>GetRoomObjectBounds(GetRoomSession().roomId,chatEvent.objectId,chatEvent.category,1),[chatEvent]);const formatChatString=value=>value.replace(/;#;/g,' ').replace(/\\r\\n|\\r|\\n/g,'\\r');const save=()=>{const chatConfiguration=formatChatString(newText)+';#;'+automaticChat+';#;'+chatDelay+';#;'+mixSentences;SendMessageComposer(new BotSkillSaveComposer(chatEvent.botId,BotSkillsEnum.SETUP_CHAT,chatConfiguration));close();};return/*#__PURE__*/_jsx(DraggableWindow,{windowPosition:DraggableWindowPosition.NOTHING,handleSelector:\".drag-handler\",dragStyle:{top:getObjectLocation.y,left:getObjectLocation.x},children:/*#__PURE__*/_jsxs(Base,{className:\"nitro-context-menu bot-chat\",children:[/*#__PURE__*/_jsx(ContextMenuHeaderView,{className:\"drag-handler\",children:LocalizeText('bot.skill.chatter.configuration.title')}),/*#__PURE__*/_jsxs(Column,{className:\"p-1\",children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.chat.text')}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control form-control-sm\",placeholder:LocalizeText('bot.skill.chatter.configuration.text.placeholder'),value:newText,rows:7,onChange:e=>setNewText(e.target.value)})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsxs(Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/_jsx(Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.automatic.chat')}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:automaticChat,onChange:event=>setAutomaticChat(event.target.checked)})]}),/*#__PURE__*/_jsxs(Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/_jsx(Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.markov')}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:mixSentences,onChange:event=>setMixSentences(event.target.checked)})]}),/*#__PURE__*/_jsxs(Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/_jsx(Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.chat.delay')}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:chatDelay,onChange:event=>setChatDelay(event.target.valueAsNumber)})]})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"primary\",onClick:close,children:LocalizeText('cancel')}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"success\",onClick:save,children:LocalizeText('save')})]})]})]})});};","map":null,"metadata":{},"sourceType":"module"}