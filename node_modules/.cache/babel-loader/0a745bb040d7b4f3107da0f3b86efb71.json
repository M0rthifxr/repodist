{"ast":null,"code":"import{RoomObjectWidgetRequestEvent}from'../../../events';import{ObjectDataUpdateMessage}from'../../../messages';import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureLogic}from'./FurnitureLogic';export class FurnitureClothingChangeLogic extends FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent.CLOTHING_CHANGE];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);const furniData=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);this.updateClothingData(furniData);}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage)message.data&&this.updateClothingData(message.data.getLegacyString());}updateClothingData(furnitureData){if(!furnitureData||!furnitureData.length)return;const[boyClothing,girlClothing]=furnitureData.split(',');if(boyClothing&&boyClothing.length)this.object.model.setValue(RoomObjectVariable.FURNITURE_CLOTHING_BOY,boyClothing);if(girlClothing&&girlClothing.length)this.object.model.setValue(RoomObjectVariable.FURNITURE_CLOTHING_GIRL,girlClothing);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.CLOTHING_CHANGE,this.object));}}","map":null,"metadata":{},"sourceType":"module"}