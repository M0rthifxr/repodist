{"ast":null,"code":"export class FurnitureStackingHeightMap{constructor(width,height){this._width=void 0;this._height=void 0;this._heights=void 0;this._isNotStackable=void 0;this._isRoomTile=void 0;this._width=width;this._height=height;this._heights=[];this._isNotStackable=[];this._isRoomTile=[];let total=width*height;while(total>0){this._heights.push(0);this._isNotStackable.push(false);this._isRoomTile.push(false);total--;}}dispose(){this._width=0;this._height=0;this._height=null;this._isNotStackable=null;this._isRoomTile=null;}validPosition(x,y){return x>=0&&x<this._width&&y>=0&&y<this._height;}getTileHeight(x,y){return this.validPosition(x,y)?this._heights[y*this._width+x]:0;}setTileHeight(x,y,height){if(this.validPosition(x,y))this._heights[y*this._width+x]=height;}setStackingBlocked(x,y,isNotStackable){if(this.validPosition(x,y))this._isNotStackable[y*this._width+x]=isNotStackable;}setIsRoomTile(x,y,isRoomTile){if(this.validPosition(x,y))this._isRoomTile[y*this._width+x]=isRoomTile;}validateLocation(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7,_arg_8,_arg_9){let _arg_10=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;let _local_12=0;let _local_13=0;if(!this.validPosition(k,_arg_2)||!this.validPosition(k+_arg_3-1,_arg_2+_arg_4-1))return false;if(_arg_5<0||_arg_5>=this._width)_arg_5=0;if(_arg_6<0||_arg_6>=this._height)_arg_6=0;_arg_7=Math.min(_arg_7,this._width-_arg_5);_arg_8=Math.min(_arg_8,this._height-_arg_6);if(_arg_10===-1)_arg_10=this.getTileHeight(k,_arg_2);let _local_11=_arg_2;while(_local_11<_arg_2+_arg_4){_local_12=k;while(_local_12<k+_arg_3){if(_local_12<_arg_5||_local_12>=_arg_5+_arg_7||_local_11<_arg_6||_local_11>=_arg_6+_arg_8){_local_13=_local_11*this._width+_local_12;if(_arg_9){if(!this._isRoomTile[_local_13])return false;}else{if(this._isNotStackable[_local_13]||!this._isRoomTile[_local_13]||Math.abs(this._heights[_local_13]-_arg_10)>0.01)return false;}}_local_12++;}_local_11++;}return true;}get width(){return this._width;}get height(){return this._height;}}","map":null,"metadata":{},"sourceType":"module"}