{"ast":null,"code":"import{MouseEventType,RoomObjectCategory}from'@nitrots/nitro-renderer';import{useEffect,useRef}from'react';import{CreateLinkEvent,GetRoomEngine,GetRoomSession,GetSessionDataManager,GetUserProfile,LocalizeText}from'../../api';import{Base,Column,Flex,LayoutItemCountView,Text}from'../../common';import{GuideToolEvent}from'../../events';import{DispatchUiEvent}from'../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const ToolbarMeView=props=>{const{useGuideTool=false,unseenAchievementCount=0,setMeExpanded=null,children=null,...rest}=props;const elementRef=useRef();useEffect(()=>{const roomSession=GetRoomSession();if(!roomSession)return;GetRoomEngine().selectRoomObject(roomSession.roomId,roomSession.ownRoomIndex,RoomObjectCategory.UNIT);},[]);useEffect(()=>{const onClick=event=>setMeExpanded(false);document.addEventListener('click',onClick);return()=>document.removeEventListener(MouseEventType.MOUSE_CLICK,onClick);},[setMeExpanded]);return/*#__PURE__*/_jsxs(Flex,{innerRef:elementRef,alignItems:\"center\",className:\"nitro-toolbar-me p-2\",gap:3,children:[useGuideTool&&/*#__PURE__*/_jsxs(Column,{gap:1,alignItems:\"center\",onClick:event=>DispatchUiEvent(new GuideToolEvent(GuideToolEvent.TOGGLE_GUIDE_TOOL)),children:[/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-helper-tool\"}),/*#__PURE__*/_jsx(Text,{className:\"me-text\",children:LocalizeText('widget.memenu.guide')})]}),/*#__PURE__*/_jsxs(Column,{gap:1,alignItems:\"center\",onClick:event=>CreateLinkEvent('achievements/toggle'),children:[/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-achievements\",children:unseenAchievementCount>0&&/*#__PURE__*/_jsx(LayoutItemCountView,{count:unseenAchievementCount})}),/*#__PURE__*/_jsx(Text,{className:\"me-text\",children:LocalizeText('widget.memenu.achievements')})]}),/*#__PURE__*/_jsxs(Column,{gap:1,alignItems:\"center\",onClick:event=>GetUserProfile(GetSessionDataManager().userId),children:[/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-profile\"}),/*#__PURE__*/_jsx(Text,{className:\"me-text\",children:LocalizeText('widget.memenu.profile')})]}),/*#__PURE__*/_jsxs(Column,{gap:1,alignItems:\"center\",onClick:event=>CreateLinkEvent('navigator/search/myworld_view'),children:[/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-rooms\"}),/*#__PURE__*/_jsx(Text,{className:\"me-text\",children:LocalizeText('widget.memenu.myrooms')})]}),/*#__PURE__*/_jsxs(Column,{gap:1,alignItems:\"center\",onClick:event=>CreateLinkEvent('avatar-editor/toggle'),children:[/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-clothing\"}),/*#__PURE__*/_jsx(Text,{className:\"me-text\",children:LocalizeText('widget.memenu.myclothes')})]}),children]});};","map":null,"metadata":{},"sourceType":"module"}