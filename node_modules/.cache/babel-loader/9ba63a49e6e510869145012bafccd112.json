{"ast":null,"code":"import{RoomDataParser}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{LocalizeText}from'../../../../api';import{Column,Flex,Text}from'../../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const NavigatorRoomSettingsAccessTabView=props=>{const{roomData=null,handleChange=null}=props;const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[isTryingPassword,setIsTryingPassword]=useState(false);const saveRoomPassword=()=>{if(!isTryingPassword||password.length<=0||confirmPassword.length<=0||password!==confirmPassword)return;handleChange('password',password);};useEffect(()=>{setPassword('');setConfirmPassword('');setIsTryingPassword(false);},[roomData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('navigator.roomsettings.roomaccess.caption')}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.roomaccess.info')})]}),/*#__PURE__*/_jsxs(Column,{overflow:\"auto\",children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('navigator.roomsettings.doormode')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===RoomDataParser.OPEN_STATE&&!isTryingPassword,onChange:event=>handleChange('lock_state',RoomDataParser.OPEN_STATE)}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.doormode.open')})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===RoomDataParser.DOORBELL_STATE&&!isTryingPassword,onChange:event=>handleChange('lock_state',RoomDataParser.DOORBELL_STATE)}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.doormode.doorbell')})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===RoomDataParser.INVISIBLE_STATE&&!isTryingPassword,onChange:event=>handleChange('lock_state',RoomDataParser.INVISIBLE_STATE)}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.doormode.invisible')})]}),/*#__PURE__*/_jsxs(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===RoomDataParser.PASSWORD_STATE||isTryingPassword,onChange:event=>setIsTryingPassword(event.target.checked)}),!isTryingPassword&&roomData.lockState!==RoomDataParser.PASSWORD_STATE&&/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.doormode.password')}),(isTryingPassword||roomData.lockState===RoomDataParser.PASSWORD_STATE)&&/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.doormode.password')}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:password,onChange:event=>setPassword(event.target.value),placeholder:LocalizeText('navigator.roomsettings.password'),onFocus:event=>setIsTryingPassword(true)}),isTryingPassword&&password.length<=0&&/*#__PURE__*/_jsx(Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.passwordismandatory')}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:confirmPassword,onChange:event=>setConfirmPassword(event.target.value),onBlur:saveRoomPassword,placeholder:LocalizeText('navigator.roomsettings.passwordconfirm')}),isTryingPassword&&password.length>0&&password!==confirmPassword&&/*#__PURE__*/_jsx(Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.invalidconfirm')})]})]})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('navigator.roomsettings.pets')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowPets,onChange:event=>handleChange('allow_pets',event.target.checked)}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.allowpets')})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowPetsEat,onChange:event=>handleChange('allow_pets_eat',event.target.checked)}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.allowfoodconsume')})]})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}