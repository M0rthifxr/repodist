{"ast":null,"code":"import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{RoomDataParser}from'@nitrots/nitro-renderer';import{CreateRoomSession,DoorStateType,GetSessionDataManager,TryVisitRoom}from'../../../../api';import{Column,Flex,LayoutBadgeImageView,LayoutRoomThumbnailView,Text}from'../../../../common';import{useNavigatorContext}from'../../NavigatorContext';import{NavigatorSearchResultItemInfoView}from'./NavigatorSearchResultItemInfoView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const NavigatorSearchResultItemView=props=>{const{roomData=null,children=null,thumbnail=false,...rest}=props;const{setDoorData=null}=useNavigatorContext();const getUserCounterColor=()=>{const num=100*(roomData.userCount/roomData.maxUserCount);let bg='badge-empty';if(num>=92){bg='badge-danger';}else if(num>=50){bg='badge-warning';}else if(num>0){bg='badge-success';}return bg;};const visitRoom=event=>{if(roomData.ownerId!==GetSessionDataManager().userId){if(roomData.habboGroupId!==0){TryVisitRoom(roomData.roomId);return;}switch(roomData.doorMode){case RoomDataParser.DOORBELL_STATE:setDoorData(prevValue=>{const newValue={...prevValue};newValue.roomInfo=roomData;newValue.state=DoorStateType.START_DOORBELL;return newValue;});return;case RoomDataParser.PASSWORD_STATE:setDoorData(prevValue=>{const newValue={...prevValue};newValue.roomInfo=roomData;newValue.state=DoorStateType.START_PASSWORD;return newValue;});return;}}CreateRoomSession(roomData.roomId);};if(thumbnail)return/*#__PURE__*/_jsxs(Column,{pointer:true,overflow:\"hidden\",alignItems:\"center\",onClick:visitRoom,gap:0,className:\"nav-thumbnail p-1 rounded-3 small mb-1 flex-column\",...rest,children:[/*#__PURE__*/_jsxs(LayoutRoomThumbnailView,{roomId:roomData.roomId,customUrl:roomData.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[roomData.habboGroupId>0&&/*#__PURE__*/_jsx(LayoutBadgeImageView,{badgeCode:roomData.groupBadgeCode,isGroup:true,className:'position-absolute top-0 start-0 m-1'}),/*#__PURE__*/_jsxs(Flex,{center:true,className:'badge p-1 position-absolute m-1 '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"user\"}),roomData.userCount]}),roomData.doorMode!==RoomDataParser.OPEN_STATE&&/*#__PURE__*/_jsx(\"i\",{className:'position-absolute end-0 mb-1 me-1 icon icon-navigator-room-'+(roomData.doorMode===RoomDataParser.DOORBELL_STATE?'locked':roomData.doorMode===RoomDataParser.PASSWORD_STATE?'password':roomData.doorMode===RoomDataParser.INVISIBLE_STATE?'invisible':'')})]}),/*#__PURE__*/_jsxs(Flex,{className:\"w-100\",children:[/*#__PURE__*/_jsx(Text,{truncate:true,className:\"flex-grow-1\",children:roomData.roomName}),/*#__PURE__*/_jsx(Flex,{reverse:true,alignItems:\"center\",gap:1,children:/*#__PURE__*/_jsx(NavigatorSearchResultItemInfoView,{roomData:roomData})}),children]})]});return/*#__PURE__*/_jsxs(Flex,{pointer:true,overflow:\"hidden\",alignItems:\"center\",onClick:visitRoom,gap:2,className:\"navigator-item px-2 small\",...rest,children:[/*#__PURE__*/_jsxs(Flex,{center:true,className:'p-1 fw-bold '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-avatar-icon\"}),roomData.userCount]}),/*#__PURE__*/_jsx(Text,{truncate:true,grow:true,children:roomData.roomName}),/*#__PURE__*/_jsxs(Flex,{reverse:true,alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(NavigatorSearchResultItemInfoView,{roomData:roomData}),roomData.habboGroupId>0&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-navigator-room-group\"}),roomData.doorMode!==RoomDataParser.OPEN_STATE&&/*#__PURE__*/_jsx(\"i\",{className:'icon icon-navigator-room-'+(roomData.doorMode===RoomDataParser.DOORBELL_STATE?'locked':roomData.doorMode===RoomDataParser.PASSWORD_STATE?'password':roomData.doorMode===RoomDataParser.INVISIBLE_STATE?'invisible':'')})]}),children]});};","map":null,"metadata":{},"sourceType":"module"}