{"ast":null,"code":"import{FriendlyTime,RequestFriendComposer}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{GetSessionDataManager,LocalizeText,SendMessageComposer}from'../../../api';import{Column,Flex,LayoutAvatarImageView,Text}from'../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const UserContainerView=props=>{const{userProfile=null}=props;const[requestSent,setRequestSent]=useState(userProfile.requestSent);const isOwnProfile=userProfile.id===GetSessionDataManager().userId;const canSendFriendRequest=!requestSent&&!isOwnProfile&&!userProfile.isMyFriend&&!userProfile.requestSent;const addFriend=()=>{setRequestSent(true);SendMessageComposer(new RequestFriendComposer(userProfile.username));};useEffect(()=>{setRequestSent(userProfile.requestSent);},[userProfile]);return/*#__PURE__*/_jsxs(Flex,{gap:2,children:[/*#__PURE__*/_jsx(Column,{center:true,className:\"avatar-container\",children:/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:userProfile.figure,direction:2})}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Column,{gap:0,children:[/*#__PURE__*/_jsx(Text,{bold:true,small:true,children:userProfile.username}),/*#__PURE__*/_jsxs(Text,{italics:true,textBreak:true,small:true,children:[userProfile.motto,\"\\xA0\"]})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsxs(Text,{small:true,children:[/*#__PURE__*/_jsx(\"b\",{children:LocalizeText('extendedprofile.created')}),\" \",userProfile.registration]}),/*#__PURE__*/_jsxs(Text,{small:true,children:[/*#__PURE__*/_jsx(\"b\",{children:LocalizeText('extendedprofile.last.login')}),\" \",FriendlyTime.format(userProfile.secondsSinceLastVisit,'.ago',2)]}),/*#__PURE__*/_jsxs(Text,{small:true,children:[/*#__PURE__*/_jsx(\"b\",{children:LocalizeText('extendedprofile.achievementscore')}),\" \",userProfile.achievementPoints]})]}),/*#__PURE__*/_jsxs(Flex,{gap:1,children:[userProfile.isOnline&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-pf-online\"}),!userProfile.isOnline&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-pf-offline\"}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[canSendFriendRequest&&/*#__PURE__*/_jsx(Text,{small:true,underline:true,pointer:true,onClick:addFriend,children:LocalizeText('extendedprofile.addasafriend')}),!canSendFriendRequest&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-pf-tick\"}),isOwnProfile&&/*#__PURE__*/_jsx(Text,{bold:true,small:true,children:LocalizeText('extendedprofile.me')}),userProfile.isMyFriend&&/*#__PURE__*/_jsx(Text,{children:LocalizeText('extendedprofile.friend')}),(requestSent||userProfile.requestSent)&&/*#__PURE__*/_jsx(Text,{children:LocalizeText('extendedprofile.friendrequestsent')})]})]})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}