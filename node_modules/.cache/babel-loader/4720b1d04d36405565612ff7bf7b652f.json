{"ast":null,"code":"import{GetYoutubeDisplayStatusMessageComposer,RoomWidgetEnum,SecurityLevel}from'@nitrots/nitro-renderer';import{RoomEngineTriggerWidgetEvent}from'@nitrots/nitro-renderer/';import{GetSessionDataManager,IsOwnerOfFurniture,SendMessageComposer}from'../../..';import{GetRoomEngine}from'../../GetRoomEngine';import{RoomWidgetUpdateYoutubeDisplayEvent}from'../events';import{RoomWidgetHandler}from'./RoomWidgetHandler';export class FurnitureYoutubeDisplayWidgetHandler extends RoomWidgetHandler{constructor(){super(...arguments);this._lastFurniId=-1;}processEvent(event){switch(event.type){case RoomEngineTriggerWidgetEvent.OPEN_WIDGET:{const widgetEvent=event;const roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;this._lastFurniId=widgetEvent.objectId;const hasControl=GetSessionDataManager().hasSecurity(SecurityLevel.EMPLOYEE)||IsOwnerOfFurniture(roomObject);this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateYoutubeDisplayEvent(roomObject.id,hasControl));SendMessageComposer(new GetYoutubeDisplayStatusMessageComposer(this._lastFurniId));return;}case RoomEngineTriggerWidgetEvent.CLOSE_WIDGET:{const widgetEvent=event;if(widgetEvent.objectId!==this._lastFurniId)return;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateYoutubeDisplayEvent(-1));return;}}}processWidgetMessage(message){switch(message.type){}return null;}get type(){return RoomWidgetEnum.YOUTUBE;}get eventTypes(){return[];}get messageTypes(){return[];}}FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_PREVIOUS_VIDEO=0;FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_NEXT_VIDEO=1;FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_PAUSE_VIDEO=2;FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_CONTINUE_VIDEO=3;","map":null,"metadata":{},"sourceType":"module"}