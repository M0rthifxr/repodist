{"ast":null,"code":"import{SelectClubGiftComposer}from'@nitrots/nitro-renderer';import{useCallback}from'react';import{LocalizeText,NotificationUtilities,SendMessageComposer}from'../../../../../../api';import{AutoGrid,Text}from'../../../../../../common';import{useCatalog,usePurse}from'../../../../../../hooks';import{VipGiftItem}from'./VipGiftItemView';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const CatalogLayoutVipGiftsView=props=>{const{purse=null}=usePurse();const{catalogOptions=null,setCatalogOptions=null}=useCatalog();const{clubGifts=null}=catalogOptions;const giftsAvailable=useCallback(()=>{if(!clubGifts)return'';if(clubGifts.giftsAvailable>0)return LocalizeText('catalog.club_gift.available',['amount'],[clubGifts.giftsAvailable.toString()]);if(clubGifts.daysUntilNextGift>0)return LocalizeText('catalog.club_gift.days_until_next',['days'],[clubGifts.daysUntilNextGift.toString()]);if(purse.isVip)return LocalizeText('catalog.club_gift.not_available');return LocalizeText('catalog.club_gift.no_club');},[clubGifts,purse]);const selectGift=useCallback(localizationId=>{NotificationUtilities.confirm(LocalizeText('catalog.club_gift.confirm'),()=>{SendMessageComposer(new SelectClubGiftComposer(localizationId));setCatalogOptions(prevValue=>{prevValue.clubGifts.giftsAvailable--;return{...prevValue};});},null);},[setCatalogOptions]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:giftsAvailable()}),/*#__PURE__*/_jsx(AutoGrid,{columnCount:1,className:\"nitro-catalog-layout-vip-gifts-grid\",children:clubGifts.offers.length>0&&clubGifts.offers.map(offer=>/*#__PURE__*/_jsx(VipGiftItem,{offer:offer,isAvailable:clubGifts.getOfferExtraData(offer.offerId).isSelectable&&clubGifts.giftsAvailable>0,onSelect:selectGift},offer.offerId))})]});};","map":null,"metadata":{},"sourceType":"module"}