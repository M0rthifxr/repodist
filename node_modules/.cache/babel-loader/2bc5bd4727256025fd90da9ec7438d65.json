{"ast":null,"code":"import{RoomObjectVariable}from'../../RoomObjectVariable';import{ObjectDataBase}from'../ObjectDataBase';import{ObjectDataKey}from'../ObjectDataKey';import{HighScoreData}from'./HighScoreData';export class HighScoreDataType extends ObjectDataBase{constructor(){super();this._state=void 0;this._scoreType=void 0;this._clearType=void 0;this._entries=void 0;this._state='';this._scoreType=-1;this._clearType=-1;this._entries=[];}parseWrapper(wrapper){if(!wrapper)return;this._state=wrapper.readString();this._scoreType=wrapper.readInt();this._clearType=wrapper.readInt();let totalScores=wrapper.readInt();while(totalScores>0){const data=new HighScoreData();data.score=wrapper.readInt();let totalUsers=wrapper.readInt();while(totalUsers>0){data.addUsername(wrapper.readString());totalUsers--;}this._entries.push(data);totalScores--;}super.parseWrapper(wrapper);}initializeFromRoomObjectModel(model){this._scoreType=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE);this._clearType=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE);this._entries=[];const totalEntries=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT);let i=0;while(i<totalEntries){const data=new HighScoreData();data.score=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+i);data.users=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+i);this._entries.push(data);i++;}super.initializeFromRoomObjectModel(model);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,HighScoreDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE,this._scoreType);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE,this._clearType);if(this._entries){model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT,this._entries.length);let i=0;while(i<this._entries.length){const entry=this._entries[i];model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+i,entry.score);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+i,entry.users);i++;}}}getLegacyString(){return this._state;}get entries(){return this._entries;}get clearType(){return this._clearType;}get scoreType(){return this._scoreType;}}HighScoreDataType.FORMAT_KEY=ObjectDataKey.HIGHSCORE_KEY;","map":null,"metadata":{},"sourceType":"module"}