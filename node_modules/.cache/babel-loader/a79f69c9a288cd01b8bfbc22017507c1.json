{"ast":null,"code":"import{RoomObjectCategory}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{FurniCategory,GetFurnitureDataForRoomObject,LocalizeText,RoomWidgetUseProductMessage}from'../../../../../api';import{Base,Button,Column,Flex,NitroCardContentView,NitroCardHeaderView,NitroCardView,Text}from'../../../../../common';import{useRoomContext}from'../../../RoomContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MODE_DEFAULT=-1;const MODE_MONSTERPLANT_SEED=0;export const MonsterPlantSeedConfirmView=props=>{const{objectId=-1,close=null}=props;const[furniData,setFurniData]=useState(null);const[mode,setMode]=useState(MODE_DEFAULT);const{roomSession=null,widgetHandler=null}=useRoomContext();const useProduct=()=>{widgetHandler.processWidgetMessage(new RoomWidgetUseProductMessage(RoomWidgetUseProductMessage.MONSTERPLANT_SEED,objectId));close();};useEffect(()=>{if(!roomSession||objectId===-1)return;const furniData=GetFurnitureDataForRoomObject(roomSession.roomId,objectId,RoomObjectCategory.FLOOR);if(!furniData)return;setFurniData(furniData);let mode=MODE_DEFAULT;switch(furniData.specialType){case FurniCategory.MONSTERPLANT_SEED:mode=MODE_MONSTERPLANT_SEED;break;}if(mode===MODE_DEFAULT){close();return;}setMode(mode);},[roomSession,objectId,close]);if(mode===MODE_DEFAULT)return null;return/*#__PURE__*/_jsxs(NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText('useproduct.widget.title.plant_seed',['name'],[furniData.name]),onCloseClick:close}),/*#__PURE__*/_jsx(NitroCardContentView,{center:true,children:/*#__PURE__*/_jsxs(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Column,{children:/*#__PURE__*/_jsx(Base,{className:\"product-preview\",children:/*#__PURE__*/_jsx(Base,{className:\"monsterplant-image\"})})}),/*#__PURE__*/_jsxs(Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/_jsxs(Column,{gap:2,children:[/*#__PURE__*/_jsx(Text,{children:LocalizeText('useproduct.widget.text.plant_seed',['productName'],[furniData.name])}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('useproduct.widget.info.plant_seed')})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:close,children:LocalizeText('useproduct.widget.cancel')}),/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('widget.monsterplant_seed.button.use')})]})]})]})})]});};","map":null,"metadata":{},"sourceType":"module"}