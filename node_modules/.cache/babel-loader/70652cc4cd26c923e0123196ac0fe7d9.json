{"ast":null,"code":"import{NitroLogger}from'../../../core/common/logger/NitroLogger';import{EventDispatcher}from'../../../core/events/EventDispatcher';import{NitroEvent}from'../../../core/events/NitroEvent';export class AvatarStructureDownload extends EventDispatcher{constructor(downloadUrl,dataReceiver){super();this._dataReceiver=void 0;this._dataReceiver=dataReceiver;this.download(downloadUrl);}download(url){const request=new XMLHttpRequest();try{request.open('GET',url);request.send();request.onloadend=e=>{const response=request.responseText;if(!response||!response.length)throw new Error('invalid_figure_data');if(this._dataReceiver)this._dataReceiver.appendJSON(JSON.parse(response));this.dispatchEvent(new NitroEvent(AvatarStructureDownload.AVATAR_STRUCTURE_DONE));};request.onerror=e=>{throw new Error('invalid_avatar_figure_data');};}catch(e){NitroLogger.log(e);}}}AvatarStructureDownload.AVATAR_STRUCTURE_DONE='AVATAR_STRUCTURE_DONE';","map":null,"metadata":{},"sourceType":"module"}