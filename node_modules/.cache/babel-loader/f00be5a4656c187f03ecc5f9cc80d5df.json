{"ast":null,"code":"import{FurnitureExchangeComposer,RoomObjectVariable,RoomWidgetEnum}from'@nitrots/nitro-renderer';import{RoomWidgetCreditFurniRedeemMessage,RoomWidgetUpdateCreditFurniEvent}from'..';import{GetRoomEngine}from'../..';import{IsOwnerOfFurniture}from'../../..';import{RoomWidgetFurniToWidgetMessage}from'../messages';import{RoomWidgetHandler}from'./RoomWidgetHandler';export class FurnitureCreditWidgetHandler extends RoomWidgetHandler{processEvent(event){return;}processWidgetMessage(message){switch(message.type){case RoomWidgetFurniToWidgetMessage.REQUEST_CREDITFURNI:{const creditMessage=message;const roomObject=GetRoomEngine().getRoomObject(creditMessage.roomId,creditMessage.objectId,creditMessage.category);if(!roomObject||!IsOwnerOfFurniture(roomObject))return;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateCreditFurniEvent(RoomWidgetUpdateCreditFurniEvent.CREDIT_FURNI_UPDATE,creditMessage.objectId,roomObject.model.getValue(RoomObjectVariable.FURNITURE_CREDIT_VALUE),roomObject.model.getValue(RoomObjectVariable.FURNITURE_TYPE_ID)+'_'+creditMessage.type+'_'+creditMessage.objectId));break;}case RoomWidgetCreditFurniRedeemMessage.REDEEM:{const redeemMessage=message;this.container.roomSession.connection.send(new FurnitureExchangeComposer(redeemMessage.objectId));break;}}return null;}get type(){return RoomWidgetEnum.FURNI_CREDIT_WIDGET;}get eventTypes(){return[];}get messageTypes(){return[RoomWidgetFurniToWidgetMessage.REQUEST_CREDITFURNI,RoomWidgetCreditFurniRedeemMessage.REDEEM];}}","map":null,"metadata":{},"sourceType":"module"}