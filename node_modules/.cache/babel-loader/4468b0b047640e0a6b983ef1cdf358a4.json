{"ast":null,"code":"import{useEffect,useState}from'react';import{LocalizeBadgeName,LocalizeText,UnseenItemCategory}from'../../../../api';import{AutoGrid,Button,Column,Flex,Grid,LayoutBadgeImageView,Text}from'../../../../common';import{useInventoryBadges,useInventoryUnseenTracker}from'../../../../hooks';import{InventoryBadgeItemView}from'./InventoryBadgeItemView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const InventoryBadgeView=props=>{const[isVisible,setIsVisible]=useState(false);const{badgeCodes=[],activeBadgeCodes=[],selectedBadgeCode=null,isWearingBadge=null,canWearBadges=null,toggleBadge=null,getBadgeId=null,activate=null,deactivate=null}=useInventoryBadges();const{isUnseen=null,removeUnseen=null}=useInventoryUnseenTracker();useEffect(()=>{if(!selectedBadgeCode||!isUnseen(UnseenItemCategory.BADGE,getBadgeId(selectedBadgeCode)))return;removeUnseen(UnseenItemCategory.BADGE,getBadgeId(selectedBadgeCode));},[selectedBadgeCode,isUnseen,removeUnseen,getBadgeId]);useEffect(()=>{if(!isVisible)return;const id=activate();return()=>deactivate(id);},[isVisible,activate,deactivate]);useEffect(()=>{setIsVisible(true);return()=>setIsVisible(false);},[]);return/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/_jsx(AutoGrid,{columnCount:4,children:badgeCodes&&badgeCodes.length>0&&badgeCodes.map((badgeCode,index)=>{if(activeBadgeCodes.indexOf(badgeCode)>=0)return null;return/*#__PURE__*/_jsx(InventoryBadgeItemView,{badgeCode:badgeCode},index);})})}),/*#__PURE__*/_jsxs(Column,{className:\"justify-content-between\",size:5,overflow:\"auto\",children:[/*#__PURE__*/_jsxs(Column,{overflow:\"hidden\",gap:2,children:[/*#__PURE__*/_jsx(Text,{children:LocalizeText('inventory.badges.activebadges')}),/*#__PURE__*/_jsx(AutoGrid,{columnCount:3,children:activeBadgeCodes&&activeBadgeCodes.length>0&&activeBadgeCodes.map((badgeCode,index)=>/*#__PURE__*/_jsx(InventoryBadgeItemView,{badgeCode:badgeCode},index))})]}),!!selectedBadgeCode&&/*#__PURE__*/_jsxs(Column,{grow:true,justifyContent:\"end\",gap:2,children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/_jsx(LayoutBadgeImageView,{shrink:true,badgeCode:selectedBadgeCode}),/*#__PURE__*/_jsx(Text,{children:LocalizeBadgeName(selectedBadgeCode)})]}),/*#__PURE__*/_jsx(Button,{disabled:!isWearingBadge(selectedBadgeCode)&&!canWearBadges(),onClick:event=>toggleBadge(selectedBadgeCode),children:LocalizeText(isWearingBadge(selectedBadgeCode)?'inventory.badges.clearbadge':'inventory.badges.wearbadge')})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}