{"ast":null,"code":"import{RoomSessionEvent}from'@nitrots/nitro-renderer';import{useCallback,useState}from'react';import{GetConfiguration,GetConfigurationManager}from'../../api';import{LayoutAvatarImageView}from'../../common';import{UseRoomSessionManagerEvent,useSessionInfo}from'../../hooks';import{WidgetSlotView}from'./views/widgets/WidgetSlotView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const widgetSlotCount=7;export const HotelView=props=>{const[isVisible,setIsVisible]=useState(true);const{userFigure=null}=useSessionInfo();const onRoomSessionEvent=useCallback(event=>{switch(event.type){case RoomSessionEvent.CREATED:setIsVisible(false);return;case RoomSessionEvent.ENDED:setIsVisible(event.openLandingView);return;}},[]);UseRoomSessionManagerEvent(RoomSessionEvent.CREATED,onRoomSessionEvent);UseRoomSessionManagerEvent(RoomSessionEvent.ENDED,onRoomSessionEvent);if(!isVisible)return null;const backgroundColor=GetConfiguration('hotelview')['images']['background.colour'];const background=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['background']);const sun=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['sun']);const drape=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['drape']);const left=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['left']);const rightRepeat=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['right.repeat']);const right=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['right']);return/*#__PURE__*/_jsxs(\"div\",{className:\"nitro-hotel-view\",style:backgroundColor&&backgroundColor?{background:backgroundColor}:{},children:[/*#__PURE__*/_jsx(\"div\",{className:\"container h-100 py-3 overflow-hidden landing-widgets\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row h-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-9 h-100 d-flex flex-column\",children:[/*#__PURE__*/_jsx(WidgetSlotView,{widgetSlot:1,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+1+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+1+'.conf'],className:\"col-6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 row mx-0\",children:[/*#__PURE__*/_jsx(WidgetSlotView,{widgetSlot:2,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+2+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+2+'.conf'],className:\"col-7\"}),/*#__PURE__*/_jsx(WidgetSlotView,{widgetSlot:3,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+3+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+3+'.conf'],className:\"col-5\"}),/*#__PURE__*/_jsx(WidgetSlotView,{widgetSlot:4,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+4+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+4+'.conf'],className:\"col-7\"}),/*#__PURE__*/_jsx(WidgetSlotView,{widgetSlot:5,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+5+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+5+'.conf'],className:\"col-5\"})]}),/*#__PURE__*/_jsx(WidgetSlotView,{widgetSlot:6,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+6+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+6+'.conf'],className:\"mt-auto\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3 h-100\",children:/*#__PURE__*/_jsx(WidgetSlotView,{widgetSlot:7,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+7+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+7+'.conf']})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"background position-absolute\",style:background&&background.length?{backgroundImage:`url(${background})`}:{}}),/*#__PURE__*/_jsx(\"div\",{className:\"sun position-absolute\",style:sun&&sun.length?{backgroundImage:`url(${sun})`}:{}}),/*#__PURE__*/_jsx(\"div\",{className:\"drape position-absolute\",style:drape&&drape.length?{backgroundImage:`url(${drape})`}:{}}),/*#__PURE__*/_jsx(\"div\",{className:\"left position-absolute\",style:left&&left.length?{backgroundImage:`url(${left})`}:{}}),/*#__PURE__*/_jsx(\"div\",{className:\"right-repeat position-absolute\",style:rightRepeat&&rightRepeat.length?{backgroundImage:`url(${rightRepeat})`}:{}}),/*#__PURE__*/_jsx(\"div\",{className:\"right position-absolute\",style:right&&right.length?{backgroundImage:`url(${right})`}:{}}),GetConfiguration('hotelview')['show.avatar']&&/*#__PURE__*/_jsx(\"div\",{className:\"avatar-image\",children:/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:userFigure,direction:2})})]});};","map":null,"metadata":{},"sourceType":"module"}