{"ast":null,"code":"import{BaseTexture}from'@pixi/core';import{inflate}from'pako';import{BinaryReader}from'../communication/codec/BinaryReader';import{ArrayBufferToBase64}from'../utils';export class NitroBundle{constructor(arrayBuffer){this._jsonFile=null;this._image=null;this._imageData=null;this._baseTexture=null;this.parse(arrayBuffer);}parse(arrayBuffer){const binaryReader=new BinaryReader(arrayBuffer);let fileCount=binaryReader.readShort();while(fileCount>0){const fileNameLength=binaryReader.readShort();const fileName=binaryReader.readBytes(fileNameLength).toString();const fileLength=binaryReader.readInt();const buffer=binaryReader.readBytes(fileLength);if(fileName.endsWith('.json')){const decompressed=inflate(buffer.toArrayBuffer());this._jsonFile=JSON.parse(NitroBundle.TEXT_DECODER.decode(decompressed));}else{const decompressed=inflate(buffer.toArrayBuffer());const base64=ArrayBufferToBase64(decompressed);this._baseTexture=new BaseTexture('data:image/png;base64,'+base64);}fileCount--;}}get jsonFile(){return this._jsonFile;}get baseTexture(){return this._baseTexture;}}NitroBundle.TEXT_DECODER=new TextDecoder('utf-8');","map":null,"metadata":{},"sourceType":"module"}