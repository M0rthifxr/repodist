{"ast":null,"code":"import{GetPromoArticlesComposer,PromoArticlesMessageEvent}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{LocalizeText,NotificationUtilities,SendMessageComposer}from'../../../../../api';import{UseMessageEventHook}from'../../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const PromoArticleWidgetView=props=>{const[articles,setArticles]=useState(null);const[index,setIndex]=useState(0);const onPromoArticlesMessageEvent=useCallback(event=>{const parser=event.getParser();setArticles(parser.articles);},[]);UseMessageEventHook(PromoArticlesMessageEvent,onPromoArticlesMessageEvent);useEffect(()=>{SendMessageComposer(new GetPromoArticlesComposer());},[]);if(!articles)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"promo-articles widget mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center w-100 mb-1\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"flex-shrink-0 pe-1\",children:LocalizeText('landing.view.promo.article.header')}),/*#__PURE__*/_jsx(\"hr\",{className:\"w-100 my-0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row mb-1\",children:articles&&articles.length>0&&articles.map((article,ind)=>/*#__PURE__*/_jsx(\"div\",{className:'promo-articles-bullet cursor-pointer '+(article===articles[index]?'promo-articles-bullet-active':''),onClick:event=>setIndex(ind)},article.id))}),articles&&articles[index]&&/*#__PURE__*/_jsxs(\"div\",{className:\"promo-article d-flex flex-row row mx-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"promo-article-image\",style:{backgroundImage:`url(${articles[index].imageUrl})`}}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-3 d-flex flex-column h-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"my-0\",children:articles[index].title}),/*#__PURE__*/_jsx(\"b\",{children:articles[index].bodyText}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm mt-auto btn-gainsboro\",onClick:event=>NotificationUtilities.openUrl(articles[index].linkContent),children:articles[index].buttonText})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}