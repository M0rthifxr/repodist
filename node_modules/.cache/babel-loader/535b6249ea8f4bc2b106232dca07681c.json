{"ast":null,"code":"import{useEffect}from'react';import{AddEventLinkTracker,LocalizeText,RemoveLinkEventTracker}from'../../api';import{Column,Grid,NitroCardContentView,NitroCardHeaderView,NitroCardTabsItemView,NitroCardTabsView,NitroCardView}from'../../common';import{useCatalog}from'../../hooks';import{CatalogGiftView}from'./views/gift/CatalogGiftView';import{CatalogNavigationView}from'./views/navigation/CatalogNavigationView';import{CatalogHeaderView}from'./views/page/common/CatalogHeaderView';import{GetCatalogLayout}from'./views/page/layout/GetCatalogLayout';import{MarketplacePostOfferView}from'./views/page/layout/marketplace/MarketplacePostOfferView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const CatalogView=props=>{const{isVisible=false,setIsVisible=null,rootNode=null,currentPage=null,navigationHidden=false,setNavigationHidden=null,activeNodes=[],searchResult=null,setSearchResult=null,openPageByName=null,openPageByOfferId=null,getNodeById=null,activateNode=null}=useCatalog();useEffect(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;case'open':if(parts.length>2){if(parts.length===4){switch(parts[2]){case'offerId':openPageByOfferId(parseInt(parts[3]));return;}}else{openPageByName(parts[2]);}}else{setIsVisible(true);}return;}},eventUrlPrefix:'catalog/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[setIsVisible,openPageByOfferId,openPageByName]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isVisible&&/*#__PURE__*/_jsxs(NitroCardView,{uniqueKey:\"catalog\",className:\"nitro-catalog\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText('catalog.title'),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/_jsx(NitroCardTabsView,{subClassName:\"w-100\",children:rootNode&&rootNode.children.length>0&&rootNode.children.map(child=>{if(!child.isVisible)return null;return/*#__PURE__*/_jsx(NitroCardTabsItemView,{isActive:child.isActive,onClick:event=>{if(searchResult)setSearchResult(null);activateNode(child);},children:child.localization},child.pageId);})}),/*#__PURE__*/_jsx(CatalogHeaderView,{node:rootNode}),/*#__PURE__*/_jsx(NitroCardContentView,{children:/*#__PURE__*/_jsxs(Grid,{children:[!navigationHidden&&/*#__PURE__*/_jsx(Column,{className:\"catalog-left\",size:4,overflow:\"hidden\",children:activeNodes&&activeNodes.length>0&&/*#__PURE__*/_jsx(CatalogNavigationView,{node:activeNodes[0]})}),/*#__PURE__*/_jsx(Column,{size:!navigationHidden?8:12,overflow:\"hidden\",children:GetCatalogLayout(currentPage,()=>setNavigationHidden(true))})]})})]}),/*#__PURE__*/_jsx(CatalogGiftView,{}),/*#__PURE__*/_jsx(MarketplacePostOfferView,{})]});};","map":null,"metadata":{},"sourceType":"module"}