{"ast":null,"code":"import{useCallback,useState}from'react';import{LocalizeText,NotificationAlertType,NotificationUtilities}from'../../../../api';import{Base,Button,Column,Flex,LayoutNotificationAlertView}from'../../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const NotificationDefaultAlertView=props=>{const{item=null,title=props.item&&props.item.title||'',close=null,...rest}=props;const[imageFailed,setImageFailed]=useState(false);const visitUrl=useCallback(()=>{NotificationUtilities.openUrl(item.clickUrl);close();},[item,close]);const hasFrank=item.alertType===NotificationAlertType.DEFAULT;return/*#__PURE__*/_jsxs(LayoutNotificationAlertView,{title:title,close:close,...rest,type:hasFrank?NotificationAlertType.DEFAULT:item.alertType,children:[/*#__PURE__*/_jsxs(Flex,{fullHeight:true,overflow:\"auto\",gap:hasFrank||item.imageUrl&&!imageFailed?2:0,children:[item.imageUrl&&!imageFailed&&/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.title,onError:()=>{setImageFailed(true);},className:\"align-self-baseline\"}),/*#__PURE__*/_jsxs(Base,{classNames:['notification-text overflow-y-auto d-flex flex-column w-100',item.clickUrl&&!hasFrank?'justify-content-center':''],children:[item.messages.length>0&&item.messages.map((message,index)=>{const htmlText=message.replace(/\\r\\n|\\r|\\n/g,'<br />');return/*#__PURE__*/_jsx(Base,{dangerouslySetInnerHTML:{__html:htmlText}},index);}),item.clickUrl&&item.clickUrl.length>0&&item.imageUrl&&!imageFailed&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{className:\"my-2 w-100\"}),/*#__PURE__*/_jsx(Button,{onClick:visitUrl,className:\"align-self-center px-3\",children:LocalizeText(item.clickUrlText)})]})]})]}),(!item.imageUrl||item.imageUrl&&imageFailed)&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Column,{alignItems:\"center\",center:true,gap:0,children:[/*#__PURE__*/_jsx(\"hr\",{className:\"my-2 w-100\"}),!item.clickUrl&&/*#__PURE__*/_jsx(Button,{onClick:close,children:LocalizeText('generic.close')}),item.clickUrl&&item.clickUrl.length>0&&/*#__PURE__*/_jsx(Button,{onClick:visitUrl,children:LocalizeText(item.clickUrlText)})]})})]});};","map":null,"metadata":{},"sourceType":"module"}