{"ast":null,"code":"import{useCallback,useEffect,useState}from'react';import{LocalizeText,NotificationUtilities}from'../../../../api';import{AutoGrid,Button,Column,Flex,LayoutNotificationAlertView}from'../../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const NotificationSeachAlertView=props=>{const{item=null,title=props.item&&props.item.title||'',close=null,...rest}=props;const[searchValue,setSearchValue]=useState('');const[results,setResults]=useState([]);const visitUrl=useCallback(()=>{NotificationUtilities.openUrl(item.clickUrl);close();},[item,close]);useEffect(()=>{setResults(JSON.parse(item.messages[0]));},[item]);const updateSearchValue=useCallback(value=>{let res=JSON.parse(item.messages[0]);setResults(res.filter(val=>val.includes(value)));setSearchValue(value);},[item]);const isAction=item.clickUrl&&item.clickUrl.startsWith('event:');return/*#__PURE__*/_jsxs(LayoutNotificationAlertView,{title:title,close:close,...rest,children:[/*#__PURE__*/_jsx(Flex,{fullWidth:true,alignItems:\"center\",position:\"relative\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:event=>updateSearchValue(event.target.value)})}),/*#__PURE__*/_jsx(Column,{fullHeight:true,className:\"py-1\",overflow:\"hidden\",children:/*#__PURE__*/_jsx(AutoGrid,{gap:1,columnCount:1,children:results&&results.map((n,index)=>{return/*#__PURE__*/_jsx(\"span\",{children:n},index);})})}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsxs(Column,{alignItems:\"center\",center:true,gap:1,children:[!isAction&&!item.clickUrl&&/*#__PURE__*/_jsx(Button,{onClick:close,children:LocalizeText('generic.close')}),item.clickUrl&&item.clickUrl.length>0&&/*#__PURE__*/_jsx(Button,{onClick:visitUrl,children:LocalizeText(item.clickUrlText)})]})]});};","map":null,"metadata":{},"sourceType":"module"}