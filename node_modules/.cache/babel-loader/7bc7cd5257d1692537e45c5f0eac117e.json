{"ast":null,"code":"import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useState}from'react';import ReactSlider from'react-slider';import{LocalizeText}from'../../../api';import{Column,Flex,LayoutGridItem,Text}from'../../../common';import{COLORMAP,FloorAction}from'../common/Constants';import{FloorplanEditor}from'../common/FloorplanEditor';import{useFloorplanEditorContext}from'../FloorplanEditorContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MIN_WALL_HEIGHT=0;const MAX_WALL_HEIGHT=16;const MIN_FLOOR_HEIGHT=0;const MAX_FLOOR_HEIGHT=26;export const FloorplanOptionsView=props=>{const{visualizationSettings=null,setVisualizationSettings=null}=useFloorplanEditorContext();const[floorAction,setFloorAction]=useState(FloorAction.SET);const[floorHeight,setFloorHeight]=useState(0);const selectAction=action=>{setFloorAction(action);FloorplanEditor.instance.actionSettings.currentAction=action;};const changeDoorDirection=()=>{setVisualizationSettings(prevValue=>{const newValue={...prevValue};if(newValue.entryPointDir<7){++newValue.entryPointDir;}else{newValue.entryPointDir=0;}return newValue;});};const onFloorHeightChange=value=>{if(isNaN(value)||value<=0)value=0;if(value>26)value=26;setFloorHeight(value);FloorplanEditor.instance.actionSettings.currentHeight=value.toString(36);};const onFloorThicknessChange=value=>{setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.thicknessFloor=value;return newValue;});};const onWallThicknessChange=value=>{setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.thicknessWall=value;return newValue;});};const onWallHeightChange=value=>{if(isNaN(value)||value<=0)value=MIN_WALL_HEIGHT;if(value>MAX_WALL_HEIGHT)value=MAX_WALL_HEIGHT;setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.wallHeight=value;return newValue;});};const increaseWallHeight=()=>{let height=visualizationSettings.wallHeight+1;if(height>MAX_WALL_HEIGHT)height=MAX_WALL_HEIGHT;onWallHeightChange(height);};const decreaseWallHeight=()=>{let height=visualizationSettings.wallHeight-1;if(height<=0)height=MIN_WALL_HEIGHT;onWallHeightChange(height);};return/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsxs(Column,{size:5,gap:1,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('floor.plan.editor.draw.mode')}),/*#__PURE__*/_jsxs(Flex,{gap:3,children:[/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(LayoutGridItem,{itemActive:floorAction===FloorAction.SET,onClick:event=>selectAction(FloorAction.SET),children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-set-tile\"})}),/*#__PURE__*/_jsx(LayoutGridItem,{itemActive:floorAction===FloorAction.UNSET,onClick:event=>selectAction(FloorAction.UNSET),children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-unset-tile\"})})]}),/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(LayoutGridItem,{itemActive:floorAction===FloorAction.UP,onClick:event=>selectAction(FloorAction.UP),children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-increase-height\"})}),/*#__PURE__*/_jsx(LayoutGridItem,{itemActive:floorAction===FloorAction.DOWN,onClick:event=>selectAction(FloorAction.DOWN),children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-decrease-height\"})})]}),/*#__PURE__*/_jsx(LayoutGridItem,{itemActive:floorAction===FloorAction.DOOR,onClick:event=>selectAction(FloorAction.DOOR),children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-set-door\"})})]})]}),/*#__PURE__*/_jsxs(Column,{alignItems:\"center\",size:4,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('floor.plan.editor.enter.direction')}),/*#__PURE__*/_jsx(\"i\",{className:`icon icon-door-direction-${visualizationSettings.entryPointDir} cursor-pointer`,onClick:changeDoorDirection})]}),/*#__PURE__*/_jsxs(Column,{size:3,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('floor.editor.wall.height')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"caret-left\",className:\"cursor-pointer\",onClick:decreaseWallHeight}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:visualizationSettings.wallHeight,onChange:event=>onWallHeightChange(event.target.valueAsNumber)}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"caret-right\",className:\"cursor-pointer\",onClick:increaseWallHeight})]})]})]}),/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsxs(Column,{size:6,children:[/*#__PURE__*/_jsxs(Text,{bold:true,children:[LocalizeText('floor.plan.editor.tile.height'),\": \",floorHeight]}),/*#__PURE__*/_jsx(ReactSlider,{className:\"nitro-slider\",min:MIN_FLOOR_HEIGHT,max:MAX_FLOOR_HEIGHT,step:1,value:floorHeight,onChange:event=>onFloorHeightChange(event),renderThumb:(_ref,state)=>{let{style,...rest}=_ref;return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:`#${COLORMAP[state.valueNow.toString(33)]}`,...style},...rest,children:state.valueNow});}})]}),/*#__PURE__*/_jsxs(Column,{size:6,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('floor.plan.editor.room.options')}),/*#__PURE__*/_jsxs(Flex,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-control form-control-sm\",value:visualizationSettings.thicknessWall,onChange:event=>onWallThicknessChange(parseInt(event.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:LocalizeText('navigator.roomsettings.wall_thickness.thinnest')}),/*#__PURE__*/_jsx(\"option\",{value:1,children:LocalizeText('navigator.roomsettings.wall_thickness.thin')}),/*#__PURE__*/_jsx(\"option\",{value:2,children:LocalizeText('navigator.roomsettings.wall_thickness.normal')}),/*#__PURE__*/_jsx(\"option\",{value:3,children:LocalizeText('navigator.roomsettings.wall_thickness.thick')})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control form-control-sm\",value:visualizationSettings.thicknessFloor,onChange:event=>onFloorThicknessChange(parseInt(event.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:LocalizeText('navigator.roomsettings.floor_thickness.thinnest')}),/*#__PURE__*/_jsx(\"option\",{value:1,children:LocalizeText('navigator.roomsettings.floor_thickness.thin')}),/*#__PURE__*/_jsx(\"option\",{value:2,children:LocalizeText('navigator.roomsettings.floor_thickness.normal')}),/*#__PURE__*/_jsx(\"option\",{value:3,children:LocalizeText('navigator.roomsettings.floor_thickness.thick')})]})]})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}