{"ast":null,"code":"import{useState}from'react';import{LocalizeText,MessengerFriend,OpenMessengerChat}from'../../../../../api';import{Base,Flex,NitroCardAccordionItemView,UserProfileIconView}from'../../../../../common';import{useFriends}from'../../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const FriendsListGroupItemView=props=>{const{friend=null,selected=false,selectFriend=null}=props;const[isRelationshipOpen,setIsRelationshipOpen]=useState(false);const{followFriend=null,updateRelationship=null}=useFriends();const clickFollowFriend=event=>{event.stopPropagation();followFriend(friend);};const openMessengerChat=event=>{event.stopPropagation();OpenMessengerChat(friend.id);};const openRelationship=event=>{event.stopPropagation();setIsRelationshipOpen(true);};const clickUpdateRelationship=(event,type)=>{event.stopPropagation();updateRelationship(friend,type);setIsRelationshipOpen(false);};const getCurrentRelationshipName=()=>{if(!friend)return'none';switch(friend.relationshipStatus){case MessengerFriend.RELATIONSHIP_HEART:return'heart';case MessengerFriend.RELATIONSHIP_SMILE:return'smile';case MessengerFriend.RELATIONSHIP_BOBBA:return'bobba';default:return'none';}};if(!friend)return null;return/*#__PURE__*/_jsxs(NitroCardAccordionItemView,{justifyContent:\"between\",className:`friend-tab px-2 py-1 ${selected&&'bg-primary text-white'}`,onClick:event=>selectFriend(friend.id),children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Base,{onClick:event=>event.stopPropagation(),children:/*#__PURE__*/_jsx(UserProfileIconView,{userId:friend.id})}),/*#__PURE__*/_jsx(\"div\",{children:friend.name})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[!isRelationshipOpen&&/*#__PURE__*/_jsxs(_Fragment,{children:[friend.followingAllowed&&/*#__PURE__*/_jsx(Base,{pointer:true,onClick:clickFollowFriend,className:\"nitro-friends-spritesheet icon-follow\",title:LocalizeText('friendlist.tip.follow')}),friend.online&&/*#__PURE__*/_jsx(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-chat\",onClick:openMessengerChat,title:LocalizeText('friendlist.tip.im')}),friend.id>0&&/*#__PURE__*/_jsx(Base,{className:`nitro-friends-spritesheet icon-${getCurrentRelationshipName()} cursor-pointer`,onClick:openRelationship,title:LocalizeText('infostand.link.relationship')})]}),isRelationshipOpen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-heart\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_HEART)}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-smile\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_SMILE)}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-bobba\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_BOBBA)}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-none\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_NONE)})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}