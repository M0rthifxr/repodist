{"ast":null,"code":"import{Vector3d}from'./Vector3d';export class ColorConverter{static hex2rgb(hex){let out=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];out[0]=(hex>>16&0xFF)/255;out[1]=(hex>>8&0xFF)/255;out[2]=(hex&0xFF)/255;return out;}static hex2rgba(hex){let out=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];out[0]=(hex>>16&0xFF)/255;out[1]=(hex>>8&0xFF)/255;out[2]=(hex&0xFF)/255;out[3]=hex&0xFF;return out;}static rgb2hex(rgb){return(rgb[0]*255<<16)+(rgb[1]*255<<8)+(rgb[2]*255|0);}static rgba2hex(rgb){return(rgb[0]*255<<16)+(rgb[1]*255<<8)+(rgb[2]*255|0)+(rgb[3]|0);}static rgbStringToHex(rgb){const extracted=rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);return'#'+ColorConverter.getHex(extracted[1])+ColorConverter.getHex(extracted[2])+ColorConverter.getHex(extracted[3]);}static getHex(x){return isNaN(x)?'00':ColorConverter.HEX_DIGITS[(x-x%16)/16]+ColorConverter.HEX_DIGITS[x%16];}static int2rgb(color){color>>>=0;const b=color&0xFF;const g=(color&0xFF00)>>>8;const r=(color&0xFF0000)>>>16;const a=((color&0xFF000000)>>>24)/255;return'rgba('+[r,g,b,1].join(',')+')';}static rgbToHSL(k){const _local_2=(k>>16&0xFF)/0xFF;const _local_3=(k>>8&0xFF)/0xFF;const _local_4=(k&0xFF)/0xFF;const _local_5=Math.max(_local_2,_local_3,_local_4);const _local_6=Math.min(_local_2,_local_3,_local_4);const _local_7=_local_5-_local_6;let _local_8=0;let _local_9=0;let _local_10=0;if(_local_7==0){_local_8=0;}else{if(_local_5==_local_2){if(_local_3>_local_4){_local_8=60*(_local_3-_local_4)/_local_7;}else{_local_8=60*(_local_3-_local_4)/_local_7+360;}}else{if(_local_5==_local_3){_local_8=60*(_local_4-_local_2)/_local_7+120;}else{if(_local_5==_local_4){_local_8=60*(_local_2-_local_3)/_local_7+240;}}}}_local_9=0.5*(_local_5+_local_6);if(_local_7==0){_local_10=0;}else{if(_local_9<=0.5){_local_10=_local_7/_local_9*0.5;}else{_local_10=_local_7/(1-_local_9)*0.5;}}const _local_11=Math.round(_local_8/360*0xFF);const _local_12=Math.round(_local_10*0xFF);const _local_13=Math.round(_local_9*0xFF);const _local_14=(_local_11<<16)+(_local_12<<8)+_local_13;return _local_14;}static hslToRGB(k){let _local_12;let _local_13;let _local_14;let _local_15;let _local_16;const _local_2=(k>>16&0xFF)/0xFF;const _local_3=(k>>8&0xFF)/0xFF;const _local_4=(k&0xFF)/0xFF;let _local_5=0;let _local_6=0;let _local_7=0;if(_local_3>0){_local_12=0;_local_13=0;if(_local_4<0.5){_local_12=_local_4*(1+_local_3);}else{_local_12=_local_4+_local_3-_local_4*_local_3;}_local_13=2*_local_4-_local_12;_local_14=_local_2+1/3;_local_15=_local_2;_local_16=_local_2-1/3;if(_local_14<0){_local_14=_local_14+1;}else{if(_local_14>1){_local_14--;}}if(_local_15<0){_local_15=_local_15+1;}else{if(_local_15>1){_local_15--;}}if(_local_16<0){_local_16=_local_16+1;}else{if(_local_16>1){_local_16--;}}if(_local_14*6<1){_local_5=_local_13+(_local_12-_local_13)*6*_local_14;}else{if(_local_14*2<1){_local_5=_local_12;}else{if(_local_14*3<2){_local_5=_local_13+(_local_12-_local_13)*6*(2/3-_local_14);}else{_local_5=_local_13;}}}if(_local_15*6<1){_local_6=_local_13+(_local_12-_local_13)*6*_local_15;}else{if(_local_15*2<1){_local_6=_local_12;}else{if(_local_15*3<2){_local_6=_local_13+(_local_12-_local_13)*6*(2/3-_local_15);}else{_local_6=_local_13;}}}if(_local_16*6<1){_local_7=_local_13+(_local_12-_local_13)*6*_local_16;}else{if(_local_16*2<1){_local_7=_local_12;}else{if(_local_16*3<2){_local_7=_local_13+(_local_12-_local_13)*6*(2/3-_local_16);}else{_local_7=_local_13;}}}}else{_local_5=_local_4;_local_6=_local_4;_local_7=_local_4;}const _local_8=Math.round(_local_5*0xFF);const _local_9=Math.round(_local_6*0xFF);const _local_10=Math.round(_local_7*0xFF);const _local_11=(_local_8<<16)+(_local_9<<8)+_local_10;return _local_11;}static rgb2xyz(k){let _local_2=(k>>16&0xFF)/0xFF;let _local_3=(k>>8&0xFF)/0xFF;let _local_4=(k>>0&0xFF)/0xFF;if(_local_2>0.04045){_local_2=Math.pow((_local_2+0.055)/1.055,2.4);}else{_local_2=_local_2/12.92;}if(_local_3>0.04045){_local_3=Math.pow((_local_3+0.055)/1.055,2.4);}else{_local_3=_local_3/12.92;}if(_local_4>0.04045){_local_4=Math.pow((_local_4+0.055)/1.055,2.4);}else{_local_4=_local_4/12.92;}_local_2=_local_2*100;_local_3=_local_3*100;_local_4=_local_4*100;return new Vector3d(_local_2*0.4124+_local_3*0.3576+_local_4*0.1805,_local_2*0.2126+_local_3*0.7152+_local_4*0.0722,_local_2*0.0193+_local_3*0.1192+_local_4*0.9505);}static xyz2CieLab(k){let _local_2=k.x/95.047;let _local_3=k.y/100;let _local_4=k.z/108.883;if(_local_2>0.008856){_local_2=Math.pow(_local_2,1/3);}else{_local_2=7.787*_local_2+16/116;}if(_local_3>0.008856){_local_3=Math.pow(_local_3,1/3);}else{_local_3=7.787*_local_3+16/116;}if(_local_4>0.008856){_local_4=Math.pow(_local_4,1/3);}else{_local_4=7.787*_local_4+16/116;}return new Vector3d(116*_local_3-16,500*(_local_2-_local_3),200*(_local_3-_local_4));}static rgb2CieLab(k){return ColorConverter.xyz2CieLab(ColorConverter.rgb2xyz(k));}}ColorConverter.HEX_DIGITS=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'];","map":null,"metadata":{},"sourceType":"module"}