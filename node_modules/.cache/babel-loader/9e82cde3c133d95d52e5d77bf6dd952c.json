{"ast":null,"code":"import{RoomEngineTriggerWidgetEvent,RoomObjectVariable,RoomWidgetEnum}from'@nitrots/nitro-renderer';import{CreateLinkEvent}from'../../../CreateLinkEvent';import{GetRoomEngine}from'../../GetRoomEngine';import{RoomWidgetHandler}from'./RoomWidgetHandler';export class FurnitureRoomLinkHandler extends RoomWidgetHandler{onRoomInfo(event){//todo\n}processEvent(event){if(!event)return;switch(event.type){case RoomEngineTriggerWidgetEvent.REQUEST_ROOM_LINK:const roomLinkEvent=event;const roomEngine=GetRoomEngine();if(!roomLinkEvent||!roomEngine)return;const object=roomEngine.getRoomObject(roomLinkEvent.roomId,roomLinkEvent.objectId,roomLinkEvent.category);if(object){const data=object.model.getValue(RoomObjectVariable.FURNITURE_DATA);let roomId=data[FurnitureRoomLinkHandler.INTERNALLINK];if(!roomId||!roomId.length)roomId=object.model.getValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK);if(roomId&&roomId.length)CreateLinkEvent('navigator/goto/'+roomId);}}}processWidgetMessage(message){return null;}get type(){return RoomWidgetEnum.ROOM_LINK;}get eventTypes(){return[RoomEngineTriggerWidgetEvent.REQUEST_ROOM_LINK];}get messageTypes(){return[];}}FurnitureRoomLinkHandler.INTERNALLINK='internalLink';","map":null,"metadata":{},"sourceType":"module"}