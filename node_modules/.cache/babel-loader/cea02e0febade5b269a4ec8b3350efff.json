{"ast":null,"code":"import{useCallback,useState}from'react';import{GetRoomEngine}from'../../../../api';import{LayoutMiniCameraView}from'../../../../common';import{RoomWidgetThumbnailEvent}from'../../../../events';import{UseUiEvent}from'../../../../hooks';import{useRoomContext}from'../../RoomContext';import{jsx as _jsx}from\"react/jsx-runtime\";export const RoomThumbnailWidgetView=props=>{const[isVisible,setIsVisible]=useState(false);const{roomSession=null}=useRoomContext();const onNitroEvent=useCallback(event=>{switch(event.type){case RoomWidgetThumbnailEvent.SHOW_THUMBNAIL:setIsVisible(true);return;case RoomWidgetThumbnailEvent.HIDE_THUMBNAIL:setIsVisible(false);return;case RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL:setIsVisible(value=>!value);return;}},[]);UseUiEvent(RoomWidgetThumbnailEvent.SHOW_THUMBNAIL,onNitroEvent);UseUiEvent(RoomWidgetThumbnailEvent.HIDE_THUMBNAIL,onNitroEvent);UseUiEvent(RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL,onNitroEvent);const receiveTexture=useCallback(texture=>{GetRoomEngine().saveTextureAsScreenshot(texture,true);setIsVisible(false);},[]);if(!isVisible)return null;return/*#__PURE__*/_jsx(LayoutMiniCameraView,{roomId:roomSession.roomId,textureReceiver:receiveTexture,onClose:()=>setIsVisible(false)});};","map":null,"metadata":{},"sourceType":"module"}