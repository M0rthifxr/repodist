{"ast":null,"code":"import{Vector3D}from'../../../../avatar/geometry/Vector3D';export class FurnitureParticleSystemParticle{constructor(){this._x=void 0;this._y=void 0;this._z=void 0;this._lastX=void 0;this._lastY=void 0;this._lastZ=void 0;this._hasMoved=false;this._particleDirection=void 0;this._age=0;this._lifeTime=void 0;this._isEmitter=false;this._fade=false;this._fadeTime=void 0;this._alphaMultiplier=1;this._frames=void 0;}init(x,y,z,direction,energy,timeStep,lifeTime){let isEmitter=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;let frames=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let fade=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;this._x=x;this._y=y;this._z=z;this._particleDirection=new Vector3D(direction.x,direction.y,direction.z);this._particleDirection.scaleBy(energy);this._lastX=this._x-this._particleDirection.x*timeStep;this._lastY=this._y-this._particleDirection.y*timeStep;this._lastZ=this._z-this._particleDirection.z*timeStep;this._age=0;this._hasMoved=false;this._lifeTime=lifeTime;this._isEmitter=isEmitter;this._frames=frames;this._fade=fade;this._alphaMultiplier=1;this._fadeTime=0.5+Math.random()*0.5;}dispose(){this._particleDirection=null;}update(){this._age++;if(this._age===this._lifeTime)this.ignite();if(this._fade){if(this._age/this._lifeTime>this._fadeTime){this._alphaMultiplier=(this._lifeTime-this._age)/(this._lifeTime*(1-this._fadeTime));}}}getAsset(){if(this._frames&&this._frames.length>0){return this._frames[this._age%this._frames.length];}return null;}ignite(){}get fade(){return this._fade;}get alphaMultiplier(){return this._alphaMultiplier;}get direction(){return this._particleDirection;}get age(){return this._age;}get isEmitter(){return this._isEmitter;}get isAlive(){return this._age<=this._lifeTime;}get x(){return this._x;}set x(x){this._x=x;}get y(){return this._y;}set y(y){this._y=y;}get z(){return this._z;}set z(z){this._z=z;}get lastX(){return this._lastX;}set lastX(y){this._hasMoved=true;this._lastX=y;}get lastY(){return this._lastY;}set lastY(k){this._hasMoved=true;this._lastY=k;}get lastZ(){return this._lastZ;}set lastZ(z){this._hasMoved=true;this._lastZ=z;}get hasMoved(){return this._hasMoved;}toString(){return[this._x,this._y,this._z].toString();}copy(particle,scale){this._x=particle._x*scale;this._y=particle._y*scale;this._z=particle._z*scale;this._lastX=particle._lastX*scale;this._lastY=particle._lastY*scale;this._lastZ=particle._lastZ*scale;this._hasMoved=particle.hasMoved;this._particleDirection=particle._particleDirection;this._age=particle._age;this._lifeTime=particle._lifeTime;this._isEmitter=particle._isEmitter;this._fade=particle._fade;this._fadeTime=particle._fadeTime;this._alphaMultiplier=particle._alphaMultiplier;}}","map":null,"metadata":{},"sourceType":"module"}