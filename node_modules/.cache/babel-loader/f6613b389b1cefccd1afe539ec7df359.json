{"ast":null,"code":"import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureAnimatedVisualization}from'./FurnitureAnimatedVisualization';export class FurnitureBadgeDisplayVisualization extends FurnitureAnimatedVisualization{constructor(){super();this._badgeId=void 0;this._badgeAssetNameNormalScale=void 0;this._badgeAssetNameSmallScale=void 0;this._badgeVisibleInState=void 0;this._badgeId='';this._badgeAssetNameNormalScale='';this._badgeAssetNameSmallScale='';this._badgeVisibleInState=-1;}updateModel(scale){let updateModel=super.updateModel(scale);const badgeStatus=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS);const badgeId=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_ASSET_NAME);if(badgeStatus===-1){this._badgeAssetNameNormalScale='';this._badgeAssetNameSmallScale='';}else if(badgeStatus===1&&badgeId!==this._badgeId){this._badgeId=badgeId;this._badgeAssetNameNormalScale=this._badgeId;if(this._badgeAssetNameSmallScale==='')this._badgeAssetNameSmallScale=this._badgeAssetNameNormalScale+'_32';const visibleInState=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_VISIBLE_IN_STATE);if(!isNaN(visibleInState))this._badgeVisibleInState=visibleInState;updateModel=true;}return updateModel;}getSpriteAssetName(scale,layerId){const tag=this.getLayerTag(scale,this.direction,layerId);if(tag!==FurnitureBadgeDisplayVisualization.BADGE||this._badgeVisibleInState!==-1&&this.object.getState(0)!==this._badgeVisibleInState)return super.getSpriteAssetName(scale,layerId);if(scale===32)return this._badgeAssetNameSmallScale;return this._badgeAssetNameNormalScale;}getLayerXOffset(scale,direction,layerId){let offset=super.getLayerXOffset(scale,direction,layerId);if(this.getLayerTag(scale,direction,layerId)===FurnitureBadgeDisplayVisualization.BADGE){const asset=this.getAsset(scale===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,layerId);if(asset){if(scale===64)offset+=(40-asset.width)/2;else offset+=(20-asset.width)/2;}}return offset;}getLayerYOffset(scale,direction,layerId){let offset=super.getLayerYOffset(scale,direction,layerId);if(this.getLayerTag(scale,direction,layerId)===FurnitureBadgeDisplayVisualization.BADGE){const asset=this.getAsset(scale===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,layerId);if(asset){if(scale===64)offset+=(40-asset.height)/2;else offset+=(20-asset.height)/2;}}return offset;}}FurnitureBadgeDisplayVisualization.BADGE='BADGE';","map":null,"metadata":{},"sourceType":"module"}