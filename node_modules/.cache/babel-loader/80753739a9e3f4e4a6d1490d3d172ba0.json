{"ast":null,"code":"import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureFireworksVisualization}from'./FurnitureFireworksVisualization';export class FurnitureGiftWrappedFireworksVisualization extends FurnitureFireworksVisualization{constructor(){super(...arguments);this._packetType=0;this._ribbonType=0;this._lastAnimationId=0;}update(geometry,time,update,skipUpdate){this.updatePresentWrap();super.update(geometry,time,update,skipUpdate);}updatePresentWrap(){if(!this.object)return;const local3=1000;const extras=this.object.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS);const typeIndex=parseInt(extras);const packetType=Math.floor(typeIndex/local3);const ribbonType=typeIndex%local3;this._packetType=packetType>FurnitureGiftWrappedFireworksVisualization.MAX_PACKET_TYPE_VALUE?0:packetType;this._ribbonType=ribbonType>FurnitureGiftWrappedFireworksVisualization.MAX_RIBBON_TYPE_VALUE?0:ribbonType;}getFrameNumber(scale,layerId){if(this._lastAnimationId===FurnitureGiftWrappedFireworksVisualization.PRESENT_DEFAULT_STATE){if(layerId<=1)return this._packetType;if(layerId===2)return this._ribbonType;}return super.getFrameNumber(scale,layerId);}getSpriteAssetName(scale,layerId){const size=this.getValidSize(scale);let assetName=this._type;let layerCode='';if(layerId<this.spriteCount-1){layerCode=String.fromCharCode('a'.charCodeAt(0)+layerId);}else{layerCode='sd';}const frameNumber=this.getFrameNumber(scale,layerId);assetName=assetName+('_'+size+'_'+layerCode+'_'+this.direction);assetName=assetName+('_'+frameNumber);return assetName;}setAnimation(animationId){this._lastAnimationId=animationId;super.setAnimation(animationId);}}FurnitureGiftWrappedFireworksVisualization.PRESENT_DEFAULT_STATE=0;FurnitureGiftWrappedFireworksVisualization.MAX_PACKET_TYPE_VALUE=9;FurnitureGiftWrappedFireworksVisualization.MAX_RIBBON_TYPE_VALUE=11;","map":null,"metadata":{},"sourceType":"module"}