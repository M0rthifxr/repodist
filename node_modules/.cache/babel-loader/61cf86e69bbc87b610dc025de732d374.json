{"ast":null,"code":"import{useCallback,useMemo}from'react';import{LocalizeText,ProductTypeEnum}from'../../../../../../api';import{Button,Column,LayoutFurniIconImageView,LayoutGridItem,Text}from'../../../../../../common';import{MarketplaceOfferData}from'./common/MarketplaceOfferData';import{MarketPlaceOfferState}from'./common/MarketplaceOfferState';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const OWN_OFFER=1;export const PUBLIC_OFFER=2;export const CatalogLayoutMarketplaceItemView=props=>{const{offerData=null,type=PUBLIC_OFFER,onClick=null}=props;const getMarketplaceOfferTitle=useMemo(()=>{if(!offerData)return'';// desc\nreturn LocalizeText((offerData.furniType===2?'wallItem':'roomItem')+`.name.${offerData.furniId}`);},[offerData]);const offerTime=useCallback(()=>{if(!offerData)return'';if(offerData.status===MarketPlaceOfferState.SOLD)return LocalizeText('catalog.marketplace.offer.sold');if(offerData.timeLeftMinutes<=0)return LocalizeText('catalog.marketplace.offer.expired');const time=Math.max(1,offerData.timeLeftMinutes);const hours=Math.floor(time/60);const minutes=time-hours*60;let text=minutes+' '+LocalizeText('catalog.marketplace.offer.minutes');if(hours>0){text=hours+' '+LocalizeText('catalog.marketplace.offer.hours')+' '+text;}return LocalizeText('catalog.marketplace.offer.time_left',['time'],[text]);},[offerData]);return/*#__PURE__*/_jsxs(LayoutGridItem,{shrink:true,center:false,column:false,alignItems:\"center\",className:\"p-1\",children:[/*#__PURE__*/_jsx(LayoutFurniIconImageView,{productType:offerData.furniType===MarketplaceOfferData.TYPE_FLOOR?ProductTypeEnum.FLOOR:ProductTypeEnum.WALL,productClassId:offerData.furniId,extraData:offerData.extraData,style:{width:50,height:50}}),/*#__PURE__*/_jsxs(Column,{grow:true,gap:0,children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",children:getMarketplaceOfferTitle}),type===OWN_OFFER&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{children:LocalizeText('catalog.marketplace.offer.price_own_item',['price'],[offerData.price.toString()])}),/*#__PURE__*/_jsx(Text,{children:offerTime()})]}),type===PUBLIC_OFFER&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{children:LocalizeText('catalog.marketplace.offer.price_public_item',['price','average'],[offerData.price.toString(),offerData.averagePrice.toString()])}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('catalog.marketplace.offer_count',['count'],[offerData.offerCount.toString()])})]})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[type===OWN_OFFER&&offerData.status!==MarketPlaceOfferState.SOLD&&/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>onClick(offerData),children:LocalizeText('catalog.marketplace.offer.pick')}),type===PUBLIC_OFFER&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>onClick(offerData),children:LocalizeText('buy')}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",disabled:true,children:LocalizeText('catalog.marketplace.view_more')})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}