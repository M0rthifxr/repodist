{"ast":null,"code":"import{RoomObjectCategory,RoomObjectType}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{FurniCategory,GetFurnitureDataForRoomObject,LocalizeText}from'../../../../api';import{useRoomContext}from'../../RoomContext';import{ContextMenuHeaderView}from'../context-menu/ContextMenuHeaderView';import{ContextMenuListItemView}from'../context-menu/ContextMenuListItemView';import{ContextMenuView}from'../context-menu/ContextMenuView';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PRODUCT_PAGE_UKNOWN=0;const PRODUCT_PAGE_SHAMPOO=1;const PRODUCT_PAGE_CUSTOM_PART=2;const PRODUCT_PAGE_CUSTOM_PART_SHAMPOO=3;const PRODUCT_PAGE_SADDLE=4;const PRODUCT_PAGE_REVIVE=5;const PRODUCT_PAGE_REBREED=6;const PRODUCT_PAGE_FERTILIZE=7;export const AvatarInfoUseProductView=props=>{const{item=null,updateConfirmingProduct=null,close=null}=props;const[mode,setMode]=useState(0);const{roomSession=null}=useRoomContext();useEffect(()=>{if(!item)return;const furniData=GetFurnitureDataForRoomObject(roomSession.roomId,item.requestRoomObjectId,RoomObjectCategory.FLOOR);if(!furniData)return;let mode=PRODUCT_PAGE_UKNOWN;switch(furniData.specialType){case FurniCategory.PET_SHAMPOO:mode=PRODUCT_PAGE_SHAMPOO;break;case FurniCategory.PET_CUSTOM_PART:mode=PRODUCT_PAGE_CUSTOM_PART;break;case FurniCategory.PET_CUSTOM_PART_SHAMPOO:mode=PRODUCT_PAGE_CUSTOM_PART_SHAMPOO;break;case FurniCategory.PET_SADDLE:mode=PRODUCT_PAGE_SADDLE;break;case FurniCategory.MONSTERPLANT_REVIVAL:mode=PRODUCT_PAGE_REVIVE;break;case FurniCategory.MONSTERPLANT_REBREED:mode=PRODUCT_PAGE_REBREED;break;case FurniCategory.MONSTERPLANT_FERTILIZE:mode=PRODUCT_PAGE_FERTILIZE;break;}setMode(mode);},[roomSession,item]);const processAction=useCallback(name=>{if(!name)return;switch(name){case'use_product':case'use_product_shampoo':case'use_product_custom_part':case'use_product_custom_part_shampoo':case'use_product_saddle':case'replace_product_saddle':case'revive_monsterplant':case'rebreed_monsterplant':case'fertilize_monsterplant':updateConfirmingProduct(item);break;}},[item,updateConfirmingProduct]);return/*#__PURE__*/_jsxs(ContextMenuView,{objectId:item.id,category:RoomObjectCategory.UNIT,userType:RoomObjectType.PET,close:close,collapsable:true,children:[/*#__PURE__*/_jsx(ContextMenuHeaderView,{children:item.name}),mode===PRODUCT_PAGE_UKNOWN&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('use_product'),children:LocalizeText('infostand.button.useproduct')}),mode===PRODUCT_PAGE_SHAMPOO&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('use_product_shampoo'),children:LocalizeText('infostand.button.useproduct_shampoo')}),mode===PRODUCT_PAGE_CUSTOM_PART&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('use_product_custom_part'),children:LocalizeText('infostand.button.useproduct_custom_part')}),mode===PRODUCT_PAGE_CUSTOM_PART_SHAMPOO&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('use_product_custom_part_shampoo'),children:LocalizeText('infostand.button.useproduct_custom_part_shampoo')}),mode===PRODUCT_PAGE_SADDLE&&/*#__PURE__*/_jsxs(_Fragment,{children:[item.replace&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('replace_product_saddle'),children:LocalizeText('infostand.button.replaceproduct_saddle')}),!item.replace&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('use_product_saddle'),children:LocalizeText('infostand.button.useproduct_saddle')})]}),mode===PRODUCT_PAGE_REVIVE&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('revive_monsterplant'),children:LocalizeText('infostand.button.revive_monsterplant')}),mode===PRODUCT_PAGE_REBREED&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('rebreed_monsterplant'),children:LocalizeText('infostand.button.rebreed_monsterplant')}),mode===PRODUCT_PAGE_FERTILIZE&&/*#__PURE__*/_jsx(ContextMenuListItemView,{onClick:event=>processAction('fertilize_monsterplant'),children:LocalizeText('infostand.button.fertilize_monsterplant')})]});};","map":null,"metadata":{},"sourceType":"module"}