{"ast":null,"code":"import{useCallback,useState}from'react';import{LocalizeText,RoomWidgetUpdateExternalImageEvent}from'../../../../../api';import{Flex,NitroCardContentView,NitroCardHeaderView,NitroCardView,Text}from'../../../../../common';import{UseEventDispatcherHook}from'../../../../../hooks';import{useRoomContext}from'../../../RoomContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const FurnitureExternalImageView=props=>{const[objectId,setObjectId]=useState(-1);const[photoData,setPhotoData]=useState(null);const{eventDispatcher=null}=useRoomContext();const close=()=>{setObjectId(-1);setPhotoData(null);};const onRoomWidgetUpdateExternalImageEvent=useCallback(event=>{switch(event.type){case RoomWidgetUpdateExternalImageEvent.UPDATE_EXTERNAL_IMAGE:setObjectId(event.objectId);setPhotoData(event.photoData);return;}},[]);UseEventDispatcherHook(RoomWidgetUpdateExternalImageEvent.UPDATE_EXTERNAL_IMAGE,eventDispatcher,onRoomWidgetUpdateExternalImageEvent);if(objectId===-1||!photoData)return null;return/*#__PURE__*/_jsxs(NitroCardView,{className:\"nitro-external-image-widget\",theme:\"primary\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:'',onCloseClick:close}),/*#__PURE__*/_jsxs(NitroCardContentView,{children:[/*#__PURE__*/_jsx(Flex,{center:true,className:\"picture-preview border border-black\",style:photoData.w?{backgroundImage:'url('+photoData.w+')'}:{},children:!photoData.w&&/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('camera.loading')})}),photoData.m&&photoData.m.length&&/*#__PURE__*/_jsx(Text,{center:true,children:photoData.m}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/_jsx(Text,{children:photoData.n||''}),/*#__PURE__*/_jsx(Text,{children:new Date(photoData.t*1000).toLocaleDateString()})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}