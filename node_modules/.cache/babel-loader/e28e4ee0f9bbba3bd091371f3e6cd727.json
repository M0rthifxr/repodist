{"ast":null,"code":"import{RoomObjectWidgetRequestEvent}from'../../../events/RoomObjectWidgetRequestEvent';import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureLogic}from'./FurnitureLogic';export class FurnitureEditableRoomLinkLogic extends FurnitureLogic{constructor(){super(...arguments);this._timer=void 0;}getEventTypes(){const types=[RoomObjectWidgetRequestEvent.ROOM_LINK];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.action){if(asset.logic.action.link&&asset.logic.action.link!==''&&asset.logic.action.link.length>0){this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK,asset.logic.action.link);}}}}onDispose(){if(this._timer){clearTimeout(this._timer);this._timer=null;}super.onDispose();}setAutomaticStateIndex(state){if(!this.object)return;if(this.object.model){this.object.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,state);}}useObject(){this.setAutomaticStateIndex(1);if(this._timer){clearTimeout(this._timer);this._timer=null;}this._timer=setTimeout(()=>{this.setAutomaticStateIndex(0);this._timer=null;},2500);if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.ROOM_LINK,this.object));}}","map":null,"metadata":{},"sourceType":"module"}