{"ast":null,"code":"import{Nitro}from'../../../../Nitro';import{ObjectDataUpdateMessage}from'../../../messages/ObjectDataUpdateMessage';import{FurnitureLogic}from'./FurnitureLogic';export class FurnitureScoreLogic extends FurnitureLogic{constructor(){super();this._score=void 0;this._scoreIncreaser=void 0;this._scoreTimer=void 0;this._score=0;this._scoreIncreaser=50;this._scoreTimer=0;}processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage)return this.updateScore(message.state);super.processUpdateMessage(message);}updateScore(count){this._score=count;const currentScore=this.object.getState(0);if(this._score!==currentScore){let difference=this._score-currentScore;if(difference<0)difference=-difference;if(difference*FurnitureScoreLogic.UPDATE_INTERVAL>FurnitureScoreLogic.MAX_UPDATE_TIME)this._scoreIncreaser=FurnitureScoreLogic.MAX_UPDATE_TIME/difference;else this._scoreIncreaser=FurnitureScoreLogic.UPDATE_INTERVAL;this._scoreTimer=Nitro.instance.time;}}update(time){super.update(time);const currentScore=this.object.getState(0);if(currentScore!==this._score&&time>=this._scoreTimer+this._scoreIncreaser){const _local_3=time-this._scoreTimer;let _local_4=_local_3/this._scoreIncreaser;let _local_5=1;if(this._score<currentScore)_local_5=-1;if(_local_4>_local_5*(this._score-currentScore))_local_4=_local_5*(this._score-currentScore);this.object.setState(currentScore+_local_5*_local_4,0);this._scoreTimer=time-(_local_3-_local_4*this._scoreIncreaser);}}}FurnitureScoreLogic.UPDATE_INTERVAL=50;FurnitureScoreLogic.MAX_UPDATE_TIME=3000;","map":null,"metadata":{},"sourceType":"module"}