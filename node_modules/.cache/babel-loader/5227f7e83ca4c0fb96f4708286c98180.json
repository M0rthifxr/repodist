{"ast":null,"code":"import{AnimationFrame}from'./AnimationFrame';export class AnimationStateData{constructor(){this._animationId=void 0;this._animationAfterTransitionId=void 0;this._animationOver=void 0;this._frameCounter=void 0;this._frames=void 0;this._lastFramePlayed=void 0;this._animationPlayed=void 0;this._layerCount=void 0;this._animationId=-1;this._animationAfterTransitionId=0;this._animationOver=false;this._frameCounter=0;this._frames=[];this._lastFramePlayed=[];this._animationPlayed=[];this._layerCount=0;}get animationOver(){return this._animationOver;}set animationOver(k){this._animationOver=k;}get frameCounter(){return this._frameCounter;}set frameCounter(k){this._frameCounter=k;}get animationId(){return this._animationId;}set animationId(animationId){if(animationId===this._animationId)return;this._animationId=animationId;this.resetAnimationFrames(false);}get animationAfterTransitionId(){return this._animationAfterTransitionId;}set animationAfterTransitionId(k){this._animationAfterTransitionId=k;}dispose(){this.recycleFrames();this._frames=null;this._lastFramePlayed=null;this._animationPlayed=null;}setLayerCount(k){this._layerCount=k;this.resetAnimationFrames();}resetAnimationFrames(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(k||!this._frames){this.recycleFrames();this._frames=[];}this._lastFramePlayed=[];this._animationPlayed=[];this._animationOver=false;this._frameCounter=0;let layerId=0;while(layerId<this._layerCount){if(k||this._frames.length<=layerId){this._frames[layerId]=null;}else{const frame=this._frames[layerId];if(frame){frame.recycle();this._frames[layerId]=AnimationFrame.allocate(frame.id,frame.x,frame.y,frame.repeats,0,frame.isLastFrame);}}this._lastFramePlayed[layerId]=false;this._animationPlayed[layerId]=false;layerId++;}}recycleFrames(){if(!this._frames||!this._frames.length)return;for(const frame of this._frames){if(!frame)continue;frame.recycle();}}getFrame(layerId){if(layerId<0||layerId>=this._layerCount)return null;return this._frames[layerId];}setFrame(layerId,frame){if(layerId<0||layerId>=this._layerCount)return;const existingFrame=this._frames[layerId];if(existingFrame)existingFrame.recycle();this._frames[layerId]=frame;}getAnimationPlayed(layerId){if(layerId<0||layerId>=this._layerCount)return true;return this._animationPlayed[layerId];}setAnimationPlayed(layerId,flag){if(layerId<0||layerId>=this._layerCount)return;this._animationPlayed[layerId]=flag;}getLastFramePlayed(layerId){if(layerId<0||layerId>=this._layerCount)return true;return this._lastFramePlayed[layerId];}setLastFramePlayed(layerId,flag){if(layerId<0||layerId>=this._layerCount)return;this._lastFramePlayed[layerId]=flag;}}","map":null,"metadata":{},"sourceType":"module"}