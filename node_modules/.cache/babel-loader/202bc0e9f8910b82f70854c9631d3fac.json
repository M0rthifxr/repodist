{"ast":null,"code":"import{GroupSavePreferencesComposer}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{SendMessageComposer}from'../../../../api';import{LocalizeText}from'../../../../api/utils/LocalizeText';import{Column,Flex,HorizontalRule,Text}from'../../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const STATES=['regular','exclusive','private'];export const GroupTabSettingsView=props=>{const{groupData=null,setGroupData=null,setCloseAction=null}=props;const[groupState,setGroupState]=useState(groupData.groupState);const[groupDecorate,setGroupDecorate]=useState(groupData.groupCanMembersDecorate);const saveSettings=useCallback(()=>{if(!groupData)return false;if(groupState===groupData.groupState&&groupDecorate===groupData.groupCanMembersDecorate)return true;if(groupData.groupId<=0){setGroupData(prevValue=>{const newValue={...prevValue};newValue.groupState=groupState;newValue.groupCanMembersDecorate=groupDecorate;return newValue;});return true;}SendMessageComposer(new GroupSavePreferencesComposer(groupData.groupId,groupState,groupDecorate?0:1));return true;},[groupData,groupState,groupDecorate,setGroupData]);useEffect(()=>{setGroupState(groupData.groupState);setGroupDecorate(groupData.groupCanMembersDecorate);},[groupData]);useEffect(()=>{setCloseAction({action:saveSettings});return()=>setCloseAction(null);},[setCloseAction,saveSettings]);return/*#__PURE__*/_jsxs(Column,{overflow:\"auto\",children:[/*#__PURE__*/_jsx(Column,{children:STATES.map((state,index)=>{return/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"groupState\",checked:groupState===index,onChange:event=>setGroupState(index)}),/*#__PURE__*/_jsxs(Column,{gap:0,children:[/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(\"i\",{className:`icon icon-group-type-${index}`}),/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText(`group.edit.settings.type.${state}.label`)})]}),/*#__PURE__*/_jsx(Text,{children:LocalizeText(`group.edit.settings.type.${state}.help`)})]})]},index);})}),/*#__PURE__*/_jsx(HorizontalRule,{}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:groupDecorate,onChange:event=>setGroupDecorate(prevValue=>!prevValue)}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('group.edit.settings.rights.caption')}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('group.edit.settings.rights.members.help')})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}