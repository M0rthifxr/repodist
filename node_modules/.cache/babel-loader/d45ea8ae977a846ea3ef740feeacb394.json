{"ast":null,"code":"import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{RoomDeleteComposer}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{CreateLinkEvent,GetMaxVisitorsList,LocalizeText,NotificationUtilities,SendMessageComposer}from'../../../../api';import{Base,Column,Flex,Text}from'../../../../common';import{useNavigatorContext}from'../../NavigatorContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ROOM_NAME_MIN_LENGTH=3;const ROOM_NAME_MAX_LENGTH=60;const DESC_MAX_LENGTH=255;export const NavigatorRoomSettingsBasicTabView=props=>{const{roomData=null,handleChange=null,close=null}=props;const[roomName,setRoomName]=useState('');const[roomDescription,setRoomDescription]=useState('');const{categories=null}=useNavigatorContext();const deleteRoom=()=>{NotificationUtilities.confirm(LocalizeText('navigator.roomsettings.deleteroom.confirm.message',['room_name'],[roomData.roomName]),()=>{SendMessageComposer(new RoomDeleteComposer(roomData.roomId));if(close)close();CreateLinkEvent('navigator/search/myworld_view');},null,null,null,LocalizeText('navigator.roomsettings.deleteroom.confirm.title'));};const saveRoomName=()=>{if(roomName===roomData.roomName||roomName.length<ROOM_NAME_MIN_LENGTH||roomName.length>ROOM_NAME_MAX_LENGTH)return;handleChange('name',roomName);};const saveRoomDescription=()=>{if(roomDescription===roomData.roomDescription||roomDescription.length>DESC_MAX_LENGTH)return;handleChange('description',roomDescription);};useEffect(()=>{setRoomName(roomData.roomName);setRoomDescription(roomData.roomDescription);},[roomData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{className:\"col-3\",children:LocalizeText('navigator.roomname')}),/*#__PURE__*/_jsxs(Column,{fullWidth:true,gap:0,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",value:roomName,maxLength:ROOM_NAME_MAX_LENGTH,onChange:event=>setRoomName(event.target.value),onBlur:saveRoomName}),roomName.length<ROOM_NAME_MIN_LENGTH&&/*#__PURE__*/_jsx(Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.roomnameismandatory')})]})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{className:\"col-3\",children:LocalizeText('navigator.roomsettings.desc')}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control form-control-sm\",value:roomDescription,maxLength:DESC_MAX_LENGTH,onChange:event=>setRoomDescription(event.target.value),onBlur:saveRoomDescription})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{className:\"col-3\",children:LocalizeText('navigator.category')}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select form-select-sm\",value:roomData.categoryId,onChange:event=>handleChange('category',event.target.value),children:categories&&categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:LocalizeText(category.name)},category.id))})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{className:\"col-3\",children:LocalizeText('navigator.maxvisitors')}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select form-select-sm\",value:roomData.userCount,onChange:event=>handleChange('max_visitors',event.target.value),children:GetMaxVisitorsList&&GetMaxVisitorsList.map(value=>/*#__PURE__*/_jsx(\"option\",{value:value,children:value},value))})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{className:\"col-3\",children:LocalizeText('navigator.tradesettings')}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",value:roomData.tradeState,onChange:event=>handleChange('trade_state',event.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.trade_not_allowed')}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.trade_not_with_Controller')}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:LocalizeText('navigator.roomsettings.trade_allowed')})]})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Base,{className:\"col-3\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowWalkthrough,onChange:event=>handleChange('allow_walkthrough',event.target.checked)}),/*#__PURE__*/_jsx(Text,{children:LocalizeText('navigator.roomsettings.allow_walk_through')})]}),/*#__PURE__*/_jsxs(Text,{variant:\"danger\",underline:true,bold:true,pointer:true,className:\"d-flex justify-content-center align-items-center gap-1\",onClick:deleteRoom,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"times\"}),LocalizeText('navigator.roomsettings.delete')]})]});};","map":null,"metadata":{},"sourceType":"module"}