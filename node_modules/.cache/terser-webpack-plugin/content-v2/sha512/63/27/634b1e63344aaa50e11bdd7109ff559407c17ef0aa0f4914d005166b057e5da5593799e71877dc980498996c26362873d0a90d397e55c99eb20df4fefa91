{"code":"(this[\"webpackJsonpnitro-react\"]=this[\"webpackJsonpnitro-react\"]||[]).push([[1],{2:function(t,e,s){\"use strict\";var i=s(50);s.d(e,\"a\",(function(){return i.a})),s.d(e,\"b\",(function(){return i.b})),s.d(e,\"c\",(function(){return i.c})),s.d(e,\"d\",(function(){return i.d})),s.d(e,\"e\",(function(){return i.e})),s.d(e,\"f\",(function(){return i.f})),s.d(e,\"g\",(function(){return i.g})),s.d(e,\"h\",(function(){return i.i})),s.d(e,\"i\",(function(){return i.j})),s.d(e,\"j\",(function(){return i.k})),s.d(e,\"k\",(function(){return i.l})),s.d(e,\"l\",(function(){return i.m})),s.d(e,\"m\",(function(){return i.n})),s.d(e,\"n\",(function(){return i.o})),s.d(e,\"o\",(function(){return i.p})),s.d(e,\"p\",(function(){return i.q})),s.d(e,\"q\",(function(){return i.r})),s.d(e,\"r\",(function(){return i.s})),s.d(e,\"s\",(function(){return i.t})),s.d(e,\"t\",(function(){return i.u})),s.d(e,\"u\",(function(){return i.v})),s.d(e,\"v\",(function(){return i.w})),s.d(e,\"w\",(function(){return i.x})),s.d(e,\"x\",(function(){return i.y})),s.d(e,\"y\",(function(){return i.z})),s.d(e,\"z\",(function(){return i.A})),s.d(e,\"A\",(function(){return i.B})),s.d(e,\"B\",(function(){return i.C})),s.d(e,\"C\",(function(){return i.D})),s.d(e,\"D\",(function(){return i.E})),s.d(e,\"E\",(function(){return i.F})),s.d(e,\"F\",(function(){return i.G})),s.d(e,\"G\",(function(){return i.H})),s.d(e,\"H\",(function(){return i.I})),s.d(e,\"I\",(function(){return i.J})),s.d(e,\"J\",(function(){return i.K})),s.d(e,\"K\",(function(){return i.L})),s.d(e,\"L\",(function(){return i.M})),s.d(e,\"M\",(function(){return i.N})),s.d(e,\"N\",(function(){return i.O})),s.d(e,\"O\",(function(){return i.P})),s.d(e,\"P\",(function(){return i.Q})),s.d(e,\"Q\",(function(){return i.R})),s.d(e,\"R\",(function(){return i.S})),s.d(e,\"S\",(function(){return i.T})),s.d(e,\"T\",(function(){return i.U})),s.d(e,\"U\",(function(){return i.V})),s.d(e,\"V\",(function(){return i.W})),s.d(e,\"W\",(function(){return i.X})),s.d(e,\"X\",(function(){return i.Y})),s.d(e,\"Y\",(function(){return i.Z})),s.d(e,\"Z\",(function(){return i.ab})),s.d(e,\"ab\",(function(){return i.bb})),s.d(e,\"bb\",(function(){return i.cb})),s.d(e,\"cb\",(function(){return i.db})),s.d(e,\"db\",(function(){return i.eb})),s.d(e,\"eb\",(function(){return i.fb})),s.d(e,\"fb\",(function(){return i.gb})),s.d(e,\"gb\",(function(){return i.hb})),s.d(e,\"hb\",(function(){return i.ib})),s.d(e,\"ib\",(function(){return i.jb})),s.d(e,\"jb\",(function(){return i.kb})),s.d(e,\"kb\",(function(){return i.lb})),s.d(e,\"lb\",(function(){return i.mb})),s.d(e,\"mb\",(function(){return i.nb})),s.d(e,\"nb\",(function(){return i.ob})),s.d(e,\"ob\",(function(){return i.pb})),s.d(e,\"pb\",(function(){return i.qb})),s.d(e,\"qb\",(function(){return i.rb})),s.d(e,\"rb\",(function(){return i.sb})),s.d(e,\"sb\",(function(){return i.tb})),s.d(e,\"tb\",(function(){return i.ub})),s.d(e,\"ub\",(function(){return i.vb})),s.d(e,\"vb\",(function(){return i.wb})),s.d(e,\"wb\",(function(){return i.xb})),s.d(e,\"xb\",(function(){return i.yb})),s.d(e,\"yb\",(function(){return i.zb})),s.d(e,\"zb\",(function(){return i.Ab})),s.d(e,\"Ab\",(function(){return i.Bb})),s.d(e,\"Bb\",(function(){return i.Cb})),s.d(e,\"Cb\",(function(){return i.Db})),s.d(e,\"Db\",(function(){return i.Eb})),s.d(e,\"Eb\",(function(){return i.Fb})),s.d(e,\"Fb\",(function(){return i.Gb})),s.d(e,\"Gb\",(function(){return i.Hb})),s.d(e,\"Hb\",(function(){return i.Ib})),s.d(e,\"Ib\",(function(){return i.Jb})),s.d(e,\"Jb\",(function(){return i.Kb})),s.d(e,\"Kb\",(function(){return i.Lb})),s.d(e,\"Lb\",(function(){return i.Mb})),s.d(e,\"Mb\",(function(){return i.Nb})),s.d(e,\"Nb\",(function(){return i.Ob})),s.d(e,\"Ob\",(function(){return i.Pb})),s.d(e,\"Pb\",(function(){return i.Qb})),s.d(e,\"Qb\",(function(){return i.Rb})),s.d(e,\"Rb\",(function(){return i.Sb})),s.d(e,\"Sb\",(function(){return i.Tb})),s.d(e,\"Tb\",(function(){return i.Ub})),s.d(e,\"Ub\",(function(){return i.Vb})),s.d(e,\"Vb\",(function(){return i.Wb})),s.d(e,\"Wb\",(function(){return i.Xb})),s.d(e,\"Xb\",(function(){return i.Yb})),s.d(e,\"Yb\",(function(){return i.Zb})),s.d(e,\"Zb\",(function(){return i.ac})),s.d(e,\"ac\",(function(){return i.bc})),s.d(e,\"bc\",(function(){return i.cc})),s.d(e,\"cc\",(function(){return i.dc})),s.d(e,\"dc\",(function(){return i.ec})),s.d(e,\"ec\",(function(){return i.fc})),s.d(e,\"fc\",(function(){return i.gc})),s.d(e,\"gc\",(function(){return i.hc})),s.d(e,\"hc\",(function(){return i.ic})),s.d(e,\"ic\",(function(){return i.jc})),s.d(e,\"jc\",(function(){return i.kc})),s.d(e,\"kc\",(function(){return i.lc})),s.d(e,\"lc\",(function(){return i.mc})),s.d(e,\"mc\",(function(){return i.nc})),s.d(e,\"nc\",(function(){return i.oc})),s.d(e,\"oc\",(function(){return i.pc})),s.d(e,\"pc\",(function(){return i.qc})),s.d(e,\"qc\",(function(){return i.rc})),s.d(e,\"rc\",(function(){return i.sc})),s.d(e,\"sc\",(function(){return i.tc})),s.d(e,\"tc\",(function(){return i.uc})),s.d(e,\"uc\",(function(){return i.vc})),s.d(e,\"vc\",(function(){return i.wc})),s.d(e,\"wc\",(function(){return i.xc})),s.d(e,\"xc\",(function(){return i.yc})),s.d(e,\"yc\",(function(){return i.zc})),s.d(e,\"zc\",(function(){return i.Ac})),s.d(e,\"Ac\",(function(){return i.Bc})),s.d(e,\"Bc\",(function(){return i.Cc})),s.d(e,\"Cc\",(function(){return i.Dc})),s.d(e,\"Dc\",(function(){return i.Ec})),s.d(e,\"Ec\",(function(){return i.Fc})),s.d(e,\"Fc\",(function(){return i.Gc})),s.d(e,\"Gc\",(function(){return i.Hc})),s.d(e,\"Hc\",(function(){return i.Ic})),s.d(e,\"Ic\",(function(){return i.Jc})),s.d(e,\"Jc\",(function(){return i.Kc})),s.d(e,\"Kc\",(function(){return i.Lc})),s.d(e,\"Lc\",(function(){return i.Mc})),s.d(e,\"Mc\",(function(){return i.Nc})),s.d(e,\"Nc\",(function(){return i.Oc})),s.d(e,\"Oc\",(function(){return i.Pc})),s.d(e,\"Pc\",(function(){return i.Qc})),s.d(e,\"Qc\",(function(){return i.Rc})),s.d(e,\"Rc\",(function(){return i.Sc})),s.d(e,\"Sc\",(function(){return i.Tc})),s.d(e,\"Tc\",(function(){return i.Uc})),s.d(e,\"Uc\",(function(){return i.Vc})),s.d(e,\"Vc\",(function(){return i.Wc})),s.d(e,\"Wc\",(function(){return i.Xc})),s.d(e,\"Xc\",(function(){return i.Yc})),s.d(e,\"Yc\",(function(){return i.Zc})),s.d(e,\"Zc\",(function(){return i.ad})),s.d(e,\"ad\",(function(){return i.bd})),s.d(e,\"bd\",(function(){return i.cd})),s.d(e,\"cd\",(function(){return i.dd})),s.d(e,\"dd\",(function(){return i.ed})),s.d(e,\"ed\",(function(){return i.fd})),s.d(e,\"fd\",(function(){return i.gd})),s.d(e,\"gd\",(function(){return i.hd})),s.d(e,\"hd\",(function(){return i.id})),s.d(e,\"id\",(function(){return i.jd})),s.d(e,\"jd\",(function(){return i.kd})),s.d(e,\"kd\",(function(){return i.ld})),s.d(e,\"ld\",(function(){return i.md})),s.d(e,\"md\",(function(){return i.nd})),s.d(e,\"nd\",(function(){return i.od})),s.d(e,\"od\",(function(){return i.pd})),s.d(e,\"pd\",(function(){return i.qd})),s.d(e,\"qd\",(function(){return i.rd})),s.d(e,\"rd\",(function(){return i.sd})),s.d(e,\"sd\",(function(){return i.td})),s.d(e,\"td\",(function(){return i.ud})),s.d(e,\"ud\",(function(){return i.vd})),s.d(e,\"vd\",(function(){return i.wd})),s.d(e,\"wd\",(function(){return i.xd})),s.d(e,\"xd\",(function(){return i.yd})),s.d(e,\"yd\",(function(){return i.zd})),s.d(e,\"zd\",(function(){return i.Ad})),s.d(e,\"Ad\",(function(){return i.Bd})),s.d(e,\"Bd\",(function(){return i.Cd})),s.d(e,\"Cd\",(function(){return i.Dd})),s.d(e,\"Dd\",(function(){return i.Ed})),s.d(e,\"Ed\",(function(){return i.Fd})),s.d(e,\"Fd\",(function(){return i.Gd})),s.d(e,\"Gd\",(function(){return i.Hd})),s.d(e,\"Hd\",(function(){return i.Id})),s.d(e,\"Id\",(function(){return i.Jd})),s.d(e,\"Jd\",(function(){return i.Kd})),s.d(e,\"Kd\",(function(){return i.Ld})),s.d(e,\"Ld\",(function(){return i.Md})),s.d(e,\"Md\",(function(){return i.Nd})),s.d(e,\"Nd\",(function(){return i.Od})),s.d(e,\"Od\",(function(){return i.Pd})),s.d(e,\"Pd\",(function(){return i.Qd})),s.d(e,\"Qd\",(function(){return i.Rd})),s.d(e,\"Rd\",(function(){return i.Sd})),s.d(e,\"Sd\",(function(){return i.Td})),s.d(e,\"Td\",(function(){return i.Ud})),s.d(e,\"Ud\",(function(){return i.Vd})),s.d(e,\"Vd\",(function(){return i.Wd})),s.d(e,\"Wd\",(function(){return i.Xd})),s.d(e,\"Xd\",(function(){return i.Yd})),s.d(e,\"Yd\",(function(){return i.Zd})),s.d(e,\"Zd\",(function(){return i.ae})),s.d(e,\"ae\",(function(){return i.be})),s.d(e,\"be\",(function(){return i.ce})),s.d(e,\"ce\",(function(){return i.de})),s.d(e,\"de\",(function(){return i.ee})),s.d(e,\"ee\",(function(){return i.fe})),s.d(e,\"fe\",(function(){return i.ge})),s.d(e,\"ge\",(function(){return i.he})),s.d(e,\"he\",(function(){return i.ie})),s.d(e,\"ie\",(function(){return i.je})),s.d(e,\"je\",(function(){return i.ke})),s.d(e,\"ke\",(function(){return i.le})),s.d(e,\"le\",(function(){return i.me})),s.d(e,\"me\",(function(){return i.ne})),s.d(e,\"ne\",(function(){return i.oe})),s.d(e,\"oe\",(function(){return i.pe})),s.d(e,\"pe\",(function(){return i.qe})),s.d(e,\"qe\",(function(){return i.re})),s.d(e,\"re\",(function(){return i.se})),s.d(e,\"se\",(function(){return i.te})),s.d(e,\"te\",(function(){return i.ue})),s.d(e,\"ue\",(function(){return i.ve})),s.d(e,\"ve\",(function(){return i.we})),s.d(e,\"we\",(function(){return i.xe})),s.d(e,\"xe\",(function(){return i.ye})),s.d(e,\"ye\",(function(){return i.ze})),s.d(e,\"ze\",(function(){return i.Ae})),s.d(e,\"Ae\",(function(){return i.Be})),s.d(e,\"Be\",(function(){return i.Ce})),s.d(e,\"Ce\",(function(){return i.De})),s.d(e,\"De\",(function(){return i.Ee})),s.d(e,\"Ee\",(function(){return i.Fe})),s.d(e,\"Fe\",(function(){return i.Ge})),s.d(e,\"Ge\",(function(){return i.He})),s.d(e,\"He\",(function(){return i.Ie})),s.d(e,\"Ie\",(function(){return i.Je})),s.d(e,\"Je\",(function(){return i.Ke})),s.d(e,\"Ke\",(function(){return i.Le})),s.d(e,\"Le\",(function(){return i.Me})),s.d(e,\"Me\",(function(){return i.Ne})),s.d(e,\"Ne\",(function(){return i.Oe})),s.d(e,\"Oe\",(function(){return i.Pe})),s.d(e,\"Pe\",(function(){return i.Qe})),s.d(e,\"Qe\",(function(){return i.Re})),s.d(e,\"Re\",(function(){return i.Se})),s.d(e,\"Se\",(function(){return i.Te})),s.d(e,\"Te\",(function(){return i.Ue})),s.d(e,\"Ue\",(function(){return i.Ve})),s.d(e,\"Ve\",(function(){return i.We})),s.d(e,\"We\",(function(){return i.Xe})),s.d(e,\"Xe\",(function(){return i.Ye})),s.d(e,\"Ye\",(function(){return i.Ze})),s.d(e,\"Ze\",(function(){return i.af})),s.d(e,\"af\",(function(){return i.bf})),s.d(e,\"bf\",(function(){return i.cf})),s.d(e,\"cf\",(function(){return i.df})),s.d(e,\"df\",(function(){return i.ef})),s.d(e,\"ef\",(function(){return i.ff})),s.d(e,\"ff\",(function(){return i.gf})),s.d(e,\"gf\",(function(){return i.hf})),s.d(e,\"hf\",(function(){return i.if})),s.d(e,\"if\",(function(){return i.jf})),s.d(e,\"jf\",(function(){return i.kf})),s.d(e,\"kf\",(function(){return i.lf})),s.d(e,\"lf\",(function(){return i.mf})),s.d(e,\"mf\",(function(){return i.nf})),s.d(e,\"nf\",(function(){return i.of})),s.d(e,\"of\",(function(){return i.pf})),s.d(e,\"pf\",(function(){return i.qf})),s.d(e,\"qf\",(function(){return i.rf})),s.d(e,\"rf\",(function(){return i.sf})),s.d(e,\"sf\",(function(){return i.tf})),s.d(e,\"tf\",(function(){return i.uf})),s.d(e,\"uf\",(function(){return i.vf})),s.d(e,\"vf\",(function(){return i.wf})),s.d(e,\"wf\",(function(){return i.xf})),s.d(e,\"xf\",(function(){return i.yf})),s.d(e,\"yf\",(function(){return i.zf})),s.d(e,\"zf\",(function(){return i.Af})),s.d(e,\"Af\",(function(){return i.Bf})),s.d(e,\"Bf\",(function(){return i.Cf})),s.d(e,\"Cf\",(function(){return i.Df})),s.d(e,\"Df\",(function(){return i.Ef})),s.d(e,\"Ef\",(function(){return i.Ff})),s.d(e,\"Ff\",(function(){return i.Gf})),s.d(e,\"Gf\",(function(){return i.Hf})),s.d(e,\"Hf\",(function(){return i.If})),s.d(e,\"If\",(function(){return i.Jf})),s.d(e,\"Jf\",(function(){return i.Kf})),s.d(e,\"Kf\",(function(){return i.Lf})),s.d(e,\"Lf\",(function(){return i.Mf})),s.d(e,\"Mf\",(function(){return i.Nf})),s.d(e,\"Nf\",(function(){return i.Of})),s.d(e,\"Of\",(function(){return i.Pf})),s.d(e,\"Pf\",(function(){return i.Qf})),s.d(e,\"Qf\",(function(){return i.Rf})),s.d(e,\"Rf\",(function(){return i.Sf})),s.d(e,\"Sf\",(function(){return i.Tf})),s.d(e,\"Tf\",(function(){return i.Uf})),s.d(e,\"Uf\",(function(){return i.Vf})),s.d(e,\"Vf\",(function(){return i.Wf})),s.d(e,\"Wf\",(function(){return i.Xf})),s.d(e,\"Xf\",(function(){return i.Yf})),s.d(e,\"Yf\",(function(){return i.Zf})),s.d(e,\"Zf\",(function(){return i.ag})),s.d(e,\"ag\",(function(){return i.bg})),s.d(e,\"bg\",(function(){return i.cg})),s.d(e,\"cg\",(function(){return i.dg})),s.d(e,\"dg\",(function(){return i.eg})),s.d(e,\"eg\",(function(){return i.fg})),s.d(e,\"fg\",(function(){return i.gg})),s.d(e,\"gg\",(function(){return i.hg})),s.d(e,\"hg\",(function(){return i.ig})),s.d(e,\"ig\",(function(){return i.jg})),s.d(e,\"jg\",(function(){return i.kg})),s.d(e,\"kg\",(function(){return i.lg})),s.d(e,\"lg\",(function(){return i.mg})),s.d(e,\"mg\",(function(){return i.ng})),s.d(e,\"ng\",(function(){return i.og})),s.d(e,\"og\",(function(){return i.pg})),s.d(e,\"pg\",(function(){return i.qg})),s.d(e,\"qg\",(function(){return i.rg})),s.d(e,\"rg\",(function(){return i.sg})),s.d(e,\"sg\",(function(){return i.ug})),s.d(e,\"tg\",(function(){return i.vg})),s.d(e,\"ug\",(function(){return i.wg})),s.d(e,\"vg\",(function(){return i.xg})),s.d(e,\"wg\",(function(){return i.yg})),s.d(e,\"xg\",(function(){return i.zg})),s.d(e,\"yg\",(function(){return i.Ag})),s.d(e,\"zg\",(function(){return i.Bg})),s.d(e,\"Ag\",(function(){return i.Cg})),s.d(e,\"Bg\",(function(){return i.Dg})),s.d(e,\"Cg\",(function(){return i.Eg})),s.d(e,\"Dg\",(function(){return i.Fg})),s.d(e,\"Eg\",(function(){return i.Gg})),s.d(e,\"Fg\",(function(){return i.Hg})),s.d(e,\"Gg\",(function(){return i.Ig})),s.d(e,\"Hg\",(function(){return i.Jg})),s.d(e,\"Ig\",(function(){return i.Kg})),s.d(e,\"Jg\",(function(){return i.Lg})),s.d(e,\"Kg\",(function(){return i.Mg})),s.d(e,\"Lg\",(function(){return i.Ng})),s.d(e,\"Mg\",(function(){return i.Og})),s.d(e,\"Ng\",(function(){return i.Pg})),s.d(e,\"Og\",(function(){return i.Qg})),s.d(e,\"Pg\",(function(){return i.Rg})),s.d(e,\"Qg\",(function(){return i.Sg})),s.d(e,\"Rg\",(function(){return i.Tg})),s.d(e,\"Sg\",(function(){return i.Ug})),s.d(e,\"Tg\",(function(){return i.Vg})),s.d(e,\"Ug\",(function(){return i.Wg})),s.d(e,\"Vg\",(function(){return i.Xg})),s.d(e,\"Wg\",(function(){return i.Yg})),s.d(e,\"Xg\",(function(){return i.Zg})),s.d(e,\"Yg\",(function(){return i.ah})),s.d(e,\"Zg\",(function(){return i.bh})),s.d(e,\"ah\",(function(){return i.ch})),s.d(e,\"bh\",(function(){return i.dh})),s.d(e,\"ch\",(function(){return i.eh})),s.d(e,\"dh\",(function(){return i.fh})),s.d(e,\"eh\",(function(){return i.gh})),s.d(e,\"fh\",(function(){return i.hh})),s.d(e,\"gh\",(function(){return i.ih})),s.d(e,\"hh\",(function(){return i.jh})),s.d(e,\"ih\",(function(){return i.kh})),s.d(e,\"jh\",(function(){return i.lh})),s.d(e,\"kh\",(function(){return i.mh})),s.d(e,\"lh\",(function(){return i.nh})),s.d(e,\"mh\",(function(){return i.oh})),s.d(e,\"nh\",(function(){return i.ph})),s.d(e,\"oh\",(function(){return i.qh})),s.d(e,\"ph\",(function(){return i.rh})),s.d(e,\"qh\",(function(){return i.sh})),s.d(e,\"rh\",(function(){return i.th})),s.d(e,\"sh\",(function(){return i.uh})),s.d(e,\"th\",(function(){return i.vh})),s.d(e,\"uh\",(function(){return i.wh})),s.d(e,\"vh\",(function(){return i.xh})),s.d(e,\"wh\",(function(){return i.yh})),s.d(e,\"xh\",(function(){return i.zh})),s.d(e,\"yh\",(function(){return i.Ah})),s.d(e,\"zh\",(function(){return i.Bh})),s.d(e,\"Ah\",(function(){return i.Ch})),s.d(e,\"Bh\",(function(){return i.Dh})),s.d(e,\"Ch\",(function(){return i.Eh})),s.d(e,\"Dh\",(function(){return i.Fh})),s.d(e,\"Eh\",(function(){return i.Gh})),s.d(e,\"Fh\",(function(){return i.Hh})),s.d(e,\"Gh\",(function(){return i.Ih})),s.d(e,\"Hh\",(function(){return i.Jh})),s.d(e,\"Ih\",(function(){return i.Kh})),s.d(e,\"Jh\",(function(){return i.Lh})),s.d(e,\"Kh\",(function(){return i.Mh})),s.d(e,\"Lh\",(function(){return i.Nh})),s.d(e,\"Mh\",(function(){return i.Oh})),s.d(e,\"Nh\",(function(){return i.Ph})),s.d(e,\"Oh\",(function(){return i.Qh})),s.d(e,\"Ph\",(function(){return i.Rh})),s.d(e,\"Qh\",(function(){return i.Sh})),s.d(e,\"Rh\",(function(){return i.Th})),s.d(e,\"Sh\",(function(){return i.Uh})),s.d(e,\"Th\",(function(){return i.Vh})),s.d(e,\"Uh\",(function(){return i.Wh})),s.d(e,\"Vh\",(function(){return i.Xh})),s.d(e,\"Wh\",(function(){return i.Yh})),s.d(e,\"Xh\",(function(){return i.Zh})),s.d(e,\"Yh\",(function(){return i.ai})),s.d(e,\"Zh\",(function(){return i.bi})),s.d(e,\"ai\",(function(){return i.ci})),s.d(e,\"bi\",(function(){return i.di})),s.d(e,\"ci\",(function(){return i.ei})),s.d(e,\"di\",(function(){return i.fi})),s.d(e,\"ei\",(function(){return i.gi})),s.d(e,\"fi\",(function(){return i.hi})),s.d(e,\"gi\",(function(){return i.ii})),s.d(e,\"hi\",(function(){return i.ji})),s.d(e,\"ii\",(function(){return i.ki})),s.d(e,\"ji\",(function(){return i.li})),s.d(e,\"ki\",(function(){return i.mi})),s.d(e,\"li\",(function(){return i.ni})),s.d(e,\"mi\",(function(){return i.oi})),s.d(e,\"ni\",(function(){return i.pi})),s.d(e,\"oi\",(function(){return i.qi})),s.d(e,\"pi\",(function(){return i.ri})),s.d(e,\"qi\",(function(){return i.si})),s.d(e,\"ri\",(function(){return i.ti})),s.d(e,\"si\",(function(){return i.ui})),s.d(e,\"ti\",(function(){return i.vi})),s.d(e,\"ui\",(function(){return i.wi})),s.d(e,\"vi\",(function(){return i.xi})),s.d(e,\"wi\",(function(){return i.yi})),s.d(e,\"xi\",(function(){return i.zi})),s.d(e,\"yi\",(function(){return i.Ai})),s.d(e,\"zi\",(function(){return i.Bi})),s.d(e,\"Ai\",(function(){return i.Ci})),s.d(e,\"Bi\",(function(){return i.Di})),s.d(e,\"Ci\",(function(){return i.Ei})),s.d(e,\"Di\",(function(){return i.Fi})),s.d(e,\"Ei\",(function(){return i.Gi})),s.d(e,\"Fi\",(function(){return i.Hi})),s.d(e,\"Gi\",(function(){return i.Ii})),s.d(e,\"Hi\",(function(){return i.Ji})),s.d(e,\"Ii\",(function(){return i.Ki})),s.d(e,\"Ji\",(function(){return i.Li})),s.d(e,\"Ki\",(function(){return i.Mi})),s.d(e,\"Li\",(function(){return i.Ni})),s.d(e,\"Mi\",(function(){return i.Oi})),s.d(e,\"Ni\",(function(){return i.Pi})),s.d(e,\"Oi\",(function(){return i.Qi})),s.d(e,\"Pi\",(function(){return i.Ri})),s.d(e,\"Qi\",(function(){return i.Si})),s.d(e,\"Ri\",(function(){return i.Ti})),s.d(e,\"Si\",(function(){return i.Ui})),s.d(e,\"Ti\",(function(){return i.Vi})),s.d(e,\"Ui\",(function(){return i.Wi})),s.d(e,\"Vi\",(function(){return i.Xi})),s.d(e,\"Wi\",(function(){return i.Yi})),s.d(e,\"Xi\",(function(){return i.Zi})),s.d(e,\"Yi\",(function(){return i.aj})),s.d(e,\"Zi\",(function(){return i.bj})),s.d(e,\"aj\",(function(){return i.cj})),s.d(e,\"bj\",(function(){return i.dj})),s.d(e,\"cj\",(function(){return i.ej})),s.d(e,\"dj\",(function(){return i.fj})),s.d(e,\"ej\",(function(){return i.gj})),s.d(e,\"fj\",(function(){return i.hj})),s.d(e,\"gj\",(function(){return i.ij})),s.d(e,\"hj\",(function(){return i.jj})),s.d(e,\"ij\",(function(){return i.kj})),s.d(e,\"jj\",(function(){return i.lj}))},35:function(t,e,s){\"use strict\";s.d(e,\"a\",(function(){return r}));var i=s(9);class r extends i.a{constructor(t,e){super(t),this._sampleCode=void 0,this._sampleCode=e}get sampleCode(){return this._sampleCode}}r.PLAY_SOUND=\"NSOE_PLAY_SOUND\"},50:function(t,e,s){\"use strict\";s.d(e,\"Xe\",(function(){return l})),s.d(e,\"nb\",(function(){return u})),s.d(e,\"yb\",(function(){return g})),s.d(e,\"Ue\",(function(){return d.a})),s.d(e,\"ff\",(function(){return pL})),s.d(e,\"g\",(function(){return U})),s.d(e,\"Qe\",(function(){return w})),s.d(e,\"Re\",(function(){return x})),s.d(e,\"Te\",(function(){return H})),s.d(e,\"Ve\",(function(){return V})),s.d(e,\"Ye\",(function(){return k})),s.d(e,\"Ze\",(function(){return z})),s.d(e,\"bf\",(function(){return W})),s.d(e,\"cf\",(function(){return K})),s.d(e,\"yf\",(function(){return X})),s.d(e,\"kf\",(function(){return Q.a})),s.d(e,\"df\",(function(){return Z})),s.d(e,\"p\",(function(){return Rt})),s.d(e,\"l\",(function(){return Bt})),s.d(e,\"m\",(function(){return Mt})),s.d(e,\"n\",(function(){return xN})),s.d(e,\"q\",(function(){return Ct})),s.d(e,\"r\",(function(){return Lt})),s.d(e,\"s\",(function(){return Gt})),s.d(e,\"of\",(function(){return bA})),s.d(e,\"pf\",(function(){return wA})),s.d(e,\"wf\",(function(){return er})),s.d(e,\"ag\",(function(){return os})),s.d(e,\"bg\",(function(){return mL})),s.d(e,\"Se\",(function(){return Ts})),s.d(e,\"Ld\",(function(){return ou})),s.d(e,\"Md\",(function(){return hu})),s.d(e,\"Nd\",(function(){return _u})),s.d(e,\"de\",(function(){return du})),s.d(e,\"fb\",(function(){return cu})),s.d(e,\"Ab\",(function(){return lu})),s.d(e,\"z\",(function(){return pu})),s.d(e,\"B\",(function(){return mu})),s.d(e,\"D\",(function(){return fu})),s.d(e,\"bb\",(function(){return Vs})),s.d(e,\"cb\",(function(){return zs})),s.d(e,\"Eh\",(function(){return Ys})),s.d(e,\"N\",(function(){return Tu})),s.d(e,\"O\",(function(){return Ru})),s.d(e,\"P\",(function(){return vu})),s.d(e,\"Pd\",(function(){return Au})),s.d(e,\"Q\",(function(){return Nu})),s.d(e,\"R\",(function(){return yu})),s.d(e,\"y\",(function(){return Du})),s.d(e,\"F\",(function(){return Mu})),s.d(e,\"J\",(function(){return Cu})),s.d(e,\"W\",(function(){return bu})),s.d(e,\"X\",(function(){return ui})),s.d(e,\"Y\",(function(){return wu})),s.d(e,\"Z\",(function(){return xu})),s.d(e,\"hb\",(function(){return Bu})),s.d(e,\"jb\",(function(){return Gu})),s.d(e,\"Mb\",(function(){return li})),s.d(e,\"Fc\",(function(){return Vu})),s.d(e,\"Gc\",(function(){return ju})),s.d(e,\"Gd\",(function(){return zu})),s.d(e,\"Yd\",(function(){return Wu})),s.d(e,\"zf\",(function(){return qu})),s.d(e,\"Cf\",(function(){return Qu})),s.d(e,\"Ff\",(function(){return Zu})),s.d(e,\"Gf\",(function(){return Ju})),s.d(e,\"Lh\",(function(){return ec})),s.d(e,\"Xi\",(function(){return rc})),s.d(e,\"Yi\",(function(){return nc})),s.d(e,\"ub\",(function(){return dc})),s.d(e,\"Ib\",(function(){return gc})),s.d(e,\"Jb\",(function(){return Ec})),s.d(e,\"Kb\",(function(){return mc})),s.d(e,\"Jd\",(function(){return Ic})),s.d(e,\"me\",(function(){return Rc})),s.d(e,\"Ne\",(function(){return Ac})),s.d(e,\"Oe\",(function(){return Sc})),s.d(e,\"Fg\",(function(){return Nc})),s.d(e,\"Gg\",(function(){return yc})),s.d(e,\"cc\",(function(){return Mc})),s.d(e,\"Lc\",(function(){return Cc})),s.d(e,\"Oc\",(function(){return Lc})),s.d(e,\"Pc\",(function(){return Uc})),s.d(e,\"Vc\",(function(){return Pc})),s.d(e,\"Yc\",(function(){return bc})),s.d(e,\"bd\",(function(){return wc})),s.d(e,\"jd\",(function(){return Fc})),s.d(e,\"Hd\",(function(){return xc})),s.d(e,\"M\",(function(){return ul})),s.d(e,\"ld\",(function(){return ml})),s.d(e,\"md\",(function(){return Il})),s.d(e,\"od\",(function(){return fl})),s.d(e,\"pd\",(function(){return Tl})),s.d(e,\"ud\",(function(){return vl})),s.d(e,\"wd\",(function(){return Ol})),s.d(e,\"yd\",(function(){return Al})),s.d(e,\"Ad\",(function(){return Sl})),s.d(e,\"Cd\",(function(){return Nl})),s.d(e,\"Qd\",(function(){return Cl})),s.d(e,\"b\",(function(){return bl})),s.d(e,\"d\",(function(){return Fl})),s.d(e,\"e\",(function(){return xl})),s.d(e,\"u\",(function(){return jl})),s.d(e,\"v\",(function(){return kl})),s.d(e,\"w\",(function(){return zl})),s.d(e,\"zb\",(function(){return Wl})),s.d(e,\"Ob\",(function(){return Kl})),s.d(e,\"Qb\",(function(){return Xl})),s.d(e,\"Rb\",(function(){return ql})),s.d(e,\"Sb\",(function(){return Ql})),s.d(e,\"Yb\",(function(){return Zl})),s.d(e,\"nf\",(function(){return $l})),s.d(e,\"qf\",(function(){return tg})),s.d(e,\"sf\",(function(){return eg})),s.d(e,\"tf\",(function(){return sg})),s.d(e,\"Xh\",(function(){return ig})),s.d(e,\"ai\",(function(){return rg})),s.d(e,\"ci\",(function(){return ng})),s.d(e,\"ei\",(function(){return ag})),s.d(e,\"hi\",(function(){return og})),s.d(e,\"ji\",(function(){return hg})),s.d(e,\"li\",(function(){return _g})),s.d(e,\"mi\",(function(){return dg})),s.d(e,\"ni\",(function(){return ug})),s.d(e,\"pi\",(function(){return cg})),s.d(e,\"Af\",(function(){return lg})),s.d(e,\"ge\",(function(){return Eg})),s.d(e,\"he\",(function(){return pg})),s.d(e,\"ie\",(function(){return Ig})),s.d(e,\"je\",(function(){return Tg})),s.d(e,\"fe\",(function(){return Rg})),s.d(e,\"ke\",(function(){return vg})),s.d(e,\"ab\",(function(){return Og})),s.d(e,\"Rd\",(function(){return Ag})),s.d(e,\"Sd\",(function(){return Sg})),s.d(e,\"Ud\",(function(){return Ng})),s.d(e,\"ve\",(function(){return yg})),s.d(e,\"we\",(function(){return Dg})),s.d(e,\"xe\",(function(){return Mg})),s.d(e,\"ye\",(function(){return Cg})),s.d(e,\"ze\",(function(){return Lg})),s.d(e,\"Ae\",(function(){return Ug})),s.d(e,\"Be\",(function(){return Pg})),s.d(e,\"eg\",(function(){return bg})),s.d(e,\"yh\",(function(){return wg})),s.d(e,\"yi\",(function(){return Fg})),s.d(e,\"zi\",(function(){return xg})),s.d(e,\"S\",(function(){return Gg})),s.d(e,\"Fe\",(function(){return Hg})),s.d(e,\"Ge\",(function(){return kg})),s.d(e,\"Ie\",(function(){return Yg})),s.d(e,\"Je\",(function(){return Wg})),s.d(e,\"Le\",(function(){return Xg})),s.d(e,\"c\",(function(){return Zg})),s.d(e,\"f\",(function(){return Jg})),s.d(e,\"ib\",(function(){return tE})),s.d(e,\"Ed\",(function(){return eE})),s.d(e,\"Od\",(function(){return sE})),s.d(e,\"ce\",(function(){return iE})),s.d(e,\"gf\",(function(){return rE})),s.d(e,\"rf\",(function(){return nE})),s.d(e,\"ri\",(function(){return oE})),s.d(e,\"lf\",(function(){return hE})),s.d(e,\"lb\",(function(){return pE})),s.d(e,\"kg\",(function(){return NE})),s.d(e,\"lg\",(function(){return yE})),s.d(e,\"mg\",(function(){return DE})),s.d(e,\"xg\",(function(){return UE})),s.d(e,\"yg\",(function(){return PE})),s.d(e,\"Bg\",(function(){return bE})),s.d(e,\"A\",(function(){return wE})),s.d(e,\"oc\",(function(){return FE})),s.d(e,\"dg\",(function(){return xE})),s.d(e,\"zg\",(function(){return BE})),s.d(e,\"Ug\",(function(){return GE})),s.d(e,\"lh\",(function(){return VE})),s.d(e,\"mh\",(function(){return kE})),s.d(e,\"hg\",(function(){return WE})),s.d(e,\"ac\",(function(){return sp})),s.d(e,\"Tc\",(function(){return ip})),s.d(e,\"Zd\",(function(){return np})),s.d(e,\"ae\",(function(){return ap})),s.d(e,\"be\",(function(){return op})),s.d(e,\"jj\",(function(){return gp})),s.d(e,\"kj\",(function(){return Ep})),s.d(e,\"lj\",(function(){return pp})),s.d(e,\"Fb\",(function(){return mp})),s.d(e,\"Ag\",(function(){return Ip})),s.d(e,\"Rg\",(function(){return Rp})),s.d(e,\"zh\",(function(){return Ap})),s.d(e,\"mb\",(function(){return Rd})),s.d(e,\"qi\",(function(){return Od})),s.d(e,\"bj\",(function(){return fd})),s.d(e,\"cj\",(function(){return Kp})),s.d(e,\"dj\",(function(){return Xp})),s.d(e,\"ej\",(function(){return qp})),s.d(e,\"fj\",(function(){return Qp})),s.d(e,\"gj\",(function(){return Zp})),s.d(e,\"hj\",(function(){return Jp})),s.d(e,\"ij\",(function(){return $p})),s.d(e,\"x\",(function(){return tm})),s.d(e,\"Cb\",(function(){return em})),s.d(e,\"Db\",(function(){return sm})),s.d(e,\"Eb\",(function(){return im})),s.d(e,\"Ji\",(function(){return nm})),s.d(e,\"k\",(function(){return am})),s.d(e,\"Nf\",(function(){return om})),s.d(e,\"Ei\",(function(){return hm})),s.d(e,\"Hi\",(function(){return _m})),s.d(e,\"Ii\",(function(){return dm})),s.d(e,\"Li\",(function(){return um})),s.d(e,\"Oi\",(function(){return cm})),s.d(e,\"Dd\",(function(){return gm})),s.d(e,\"Ai\",(function(){return fm})),s.d(e,\"Ci\",(function(){return Tm})),s.d(e,\"Ti\",(function(){return Rm})),s.d(e,\"Xf\",(function(){return Am})),s.d(e,\"Ih\",(function(){return Sm})),s.d(e,\"Vi\",(function(){return Nm})),s.d(e,\"Rf\",(function(){return Mm})),s.d(e,\"db\",(function(){return Cm})),s.d(e,\"eb\",(function(){return Lm})),s.d(e,\"Dc\",(function(){return Um})),s.d(e,\"Gh\",(function(){return Pm})),s.d(e,\"Bf\",(function(){return wm})),s.d(e,\"Hf\",(function(){return Fm})),s.d(e,\"Uf\",(function(){return Gm})),s.d(e,\"if\",(function(){return Hm})),s.d(e,\"jf\",(function(){return Vm})),s.d(e,\"G\",(function(){return jm})),s.d(e,\"H\",(function(){return km})),s.d(e,\"I\",(function(){return zm})),s.d(e,\"dc\",(function(){return Ym})),s.d(e,\"fc\",(function(){return Km})),s.d(e,\"gc\",(function(){return Xm})),s.d(e,\"jc\",(function(){return Zm})),s.d(e,\"kc\",(function(){return Jm})),s.d(e,\"nc\",(function(){return tI})),s.d(e,\"wc\",(function(){return aI})),s.d(e,\"Bc\",(function(){return _I})),s.d(e,\"Df\",(function(){return lI})),s.d(e,\"Ef\",(function(){return gI})),s.d(e,\"Lf\",(function(){return II})),s.d(e,\"Kh\",(function(){return TI})),s.d(e,\"tb\",(function(){return xI})),s.d(e,\"Hb\",(function(){return BI})),s.d(e,\"a\",(function(){return GI})),s.d(e,\"rb\",(function(){return HI})),s.d(e,\"Gb\",(function(){return jI})),s.d(e,\"mc\",(function(){return zI})),s.d(e,\"Id\",(function(){return YI})),s.d(e,\"le\",(function(){return WI})),s.d(e,\"Qf\",(function(){return KI})),s.d(e,\"Vf\",(function(){return XI})),s.d(e,\"Mh\",(function(){return qI})),s.d(e,\"Nh\",(function(){return QI})),s.d(e,\"Qh\",(function(){return ZI})),s.d(e,\"Hc\",(function(){return af})),s.d(e,\"Ic\",(function(){return of})),s.d(e,\"Kc\",(function(){return hf})),s.d(e,\"Mc\",(function(){return _f})),s.d(e,\"Nc\",(function(){return df})),s.d(e,\"Qc\",(function(){return uf})),s.d(e,\"Rc\",(function(){return cf})),s.d(e,\"Sc\",(function(){return lf})),s.d(e,\"Uc\",(function(){return gf})),s.d(e,\"Wc\",(function(){return Ef})),s.d(e,\"Xc\",(function(){return pf})),s.d(e,\"Zc\",(function(){return mf})),s.d(e,\"ad\",(function(){return If})),s.d(e,\"dd\",(function(){return ff})),s.d(e,\"ed\",(function(){return Tf})),s.d(e,\"fd\",(function(){return Rf})),s.d(e,\"gd\",(function(){return vf})),s.d(e,\"hd\",(function(){return Of})),s.d(e,\"id\",(function(){return Af})),s.d(e,\"kd\",(function(){return Sf})),s.d(e,\"L\",(function(){return Kf})),s.d(e,\"ic\",(function(){return $f})),s.d(e,\"vc\",(function(){return iT})),s.d(e,\"nd\",(function(){return nT})),s.d(e,\"qd\",(function(){return aT})),s.d(e,\"rd\",(function(){return oT})),s.d(e,\"sd\",(function(){return hT})),s.d(e,\"td\",(function(){return _T})),s.d(e,\"vd\",(function(){return uT})),s.d(e,\"xd\",(function(){return cT})),s.d(e,\"zd\",(function(){return gT})),s.d(e,\"Bd\",(function(){return ET})),s.d(e,\"Sf\",(function(){return IT})),s.d(e,\"Oh\",(function(){return fT})),s.d(e,\"ec\",(function(){return TT})),s.d(e,\"Pb\",(function(){return vT})),s.d(e,\"Wf\",(function(){return OT})),s.d(e,\"Wh\",(function(){return AT})),s.d(e,\"Yh\",(function(){return ST})),s.d(e,\"Zh\",(function(){return NT})),s.d(e,\"di\",(function(){return yT})),s.d(e,\"fi\",(function(){return DT})),s.d(e,\"gi\",(function(){return MT})),s.d(e,\"ii\",(function(){return CT})),s.d(e,\"ki\",(function(){return LT})),s.d(e,\"oi\",(function(){return UT})),s.d(e,\"si\",(function(){return PT})),s.d(e,\"ti\",(function(){return bT})),s.d(e,\"xc\",(function(){return wT})),s.d(e,\"K\",(function(){return xT})),s.d(e,\"T\",(function(){return GT})),s.d(e,\"pc\",(function(){return VT})),s.d(e,\"qc\",(function(){return kT})),s.d(e,\"rc\",(function(){return zT})),s.d(e,\"ee\",(function(){return YT})),s.d(e,\"Kf\",(function(){return WT})),s.d(e,\"gb\",(function(){return XT})),s.d(e,\"sb\",(function(){return QT})),s.d(e,\"hc\",(function(){return ZT})),s.d(e,\"sc\",(function(){return JT})),s.d(e,\"tc\",(function(){return $T})),s.d(e,\"yc\",(function(){return tR})),s.d(e,\"Ac\",(function(){return eR})),s.d(e,\"Cc\",(function(){return sR})),s.d(e,\"ne\",(function(){return iR})),s.d(e,\"oe\",(function(){return qT})),s.d(e,\"te\",(function(){return rR})),s.d(e,\"ue\",(function(){return nR})),s.d(e,\"pe\",(function(){return aR})),s.d(e,\"qe\",(function(){return oR})),s.d(e,\"re\",(function(){return hR})),s.d(e,\"se\",(function(){return uR})),s.d(e,\"xf\",(function(){return cR})),s.d(e,\"Of\",(function(){return lR})),s.d(e,\"qb\",(function(){return gR})),s.d(e,\"Ee\",(function(){return ER})),s.d(e,\"He\",(function(){return mR})),s.d(e,\"Ke\",(function(){return fR})),s.d(e,\"Me\",(function(){return vR})),s.d(e,\"uf\",(function(){return yR})),s.d(e,\"vf\",(function(){return DR})),s.d(e,\"lc\",(function(){return jR})),s.d(e,\"Pf\",(function(){return ev})),s.d(e,\"jg\",(function(){return rv})),s.d(e,\"Hg\",(function(){return ov})),s.d(e,\"oh\",(function(){return _v})),s.d(e,\"ph\",(function(){return dv})),s.d(e,\"rh\",(function(){return uv})),s.d(e,\"Tf\",(function(){return cv})),s.d(e,\"Zf\",(function(){return lv})),s.d(e,\"Eg\",(function(){return gv})),s.d(e,\"kh\",(function(){return Ev})),s.d(e,\"wh\",(function(){return pv})),s.d(e,\"Fh\",(function(){return mv})),s.d(e,\"C\",(function(){return fv})),s.d(e,\"E\",(function(){return Tv})),s.d(e,\"Ph\",(function(){return Cv})),s.d(e,\"Wb\",(function(){return Bv})),s.d(e,\"Xb\",(function(){return Gv})),s.d(e,\"Nb\",(function(){return Yv})),s.d(e,\"Vb\",(function(){return Wv})),s.d(e,\"Zb\",(function(){return qv})),s.d(e,\"Tb\",(function(){return Zv})),s.d(e,\"Ub\",(function(){return Jv})),s.d(e,\"i\",(function(){return tO})),s.d(e,\"pb\",(function(){return sO})),s.d(e,\"Ec\",(function(){return iO})),s.d(e,\"Rh\",(function(){return rO})),s.d(e,\"uc\",(function(){return nO})),s.d(e,\"zc\",(function(){return oO})),s.d(e,\"wi\",(function(){return hO})),s.d(e,\"Jf\",(function(){return _O})),s.d(e,\"gg\",(function(){return dO})),s.d(e,\"sh\",(function(){return TO})),s.d(e,\"th\",(function(){return RO})),s.d(e,\"uh\",(function(){return vO})),s.d(e,\"Jg\",(function(){return MO})),s.d(e,\"ui\",(function(){return CO})),s.d(e,\"vi\",(function(){return LO})),s.d(e,\"xi\",(function(){return UO})),s.d(e,\"j\",(function(){return kO})),s.d(e,\"V\",(function(){return zO})),s.d(e,\"Di\",(function(){return QO})),s.d(e,\"Fi\",(function(){return ZO})),s.d(e,\"Gi\",(function(){return JO})),s.d(e,\"Ki\",(function(){return tA})),s.d(e,\"Mi\",(function(){return eA})),s.d(e,\"Bi\",(function(){return iA})),s.d(e,\"Si\",(function(){return rA})),s.d(e,\"Hh\",(function(){return nA})),s.d(e,\"Ni\",(function(){return aA})),s.d(e,\"Pi\",(function(){return oA})),s.d(e,\"Qi\",(function(){return hA})),s.d(e,\"Ri\",(function(){return _A})),s.d(e,\"cd\",(function(){return dn})),s.d(e,\"bi\",(function(){return Pa})),s.d(e,\"Td\",(function(){return oo})),s.d(e,\"mf\",(function(){return hh})),s.d(e,\"U\",(function(){return bh})),s.d(e,\"cg\",(function(){return Yh})),s.d(e,\"ig\",(function(){return Yo})),s.d(e,\"Ig\",(function(){return Xh})),s.d(e,\"Ui\",(function(){return tr})),s.d(e,\"Mf\",(function(){return Bi})),s.d(e,\"af\",(function(){return XC})),s.d(e,\"ef\",(function(){return BA})),s.d(e,\"Xd\",(function(){return AA})),s.d(e,\"We\",(function(){return yA})),s.d(e,\"Pe\",(function(){return lL})),s.d(e,\"Ng\",(function(){return iD})),s.d(e,\"Yf\",(function(){return jA})),s.d(e,\"ng\",(function(){return kA})),s.d(e,\"og\",(function(){return zA})),s.d(e,\"pg\",(function(){return PA})),s.d(e,\"qg\",(function(){return YA})),s.d(e,\"rg\",(function(){return WA})),s.d(e,\"sg\",(function(){return qA})),s.d(e,\"tg\",(function(){return QA})),s.d(e,\"ug\",(function(){return ZA})),s.d(e,\"vg\",(function(){return JA})),s.d(e,\"Lg\",(function(){return rS})),s.d(e,\"Dh\",(function(){return pS})),s.d(e,\"hf\",(function(){return Ia})),s.d(e,\"Wd\",(function(){return la})),s.d(e,\"Sh\",(function(){return pa})),s.d(e,\"Kg\",(function(){return st})),s.d(e,\"Mg\",(function(){return hD})),s.d(e,\"Og\",(function(){return dd})),s.d(e,\"Pg\",(function(){return it})),s.d(e,\"Qg\",(function(){return rt})),s.d(e,\"Sg\",(function(){return IL})),s.d(e,\"xh\",(function(){return $y})),s.d(e,\"Jc\",(function(){return ZC})),s.d(e,\"fg\",(function(){return Hh})),s.d(e,\"qh\",(function(){return zC})),s.d(e,\"Jh\",(function(){return tL})),s.d(e,\"t\",(function(){return GA})),s.d(e,\"Vg\",(function(){return sC})),s.d(e,\"Wg\",(function(){return fC})),s.d(e,\"Xg\",(function(){return oC})),s.d(e,\"Yg\",(function(){return cC})),s.d(e,\"Zg\",(function(){return ZM})),s.d(e,\"ah\",(function(){return HA})),s.d(e,\"bh\",(function(){return TC})),s.d(e,\"ch\",(function(){return yC})),s.d(e,\"dh\",(function(){return CC})),s.d(e,\"eh\",(function(){return tC})),s.d(e,\"fh\",(function(){return dC})),s.d(e,\"gh\",(function(){return UC})),s.d(e,\"hh\",(function(){return PC})),s.d(e,\"ih\",(function(){return bC})),s.d(e,\"jh\",(function(){return xC})),s.d(e,\"bc\",(function(){return et})),s.d(e,\"Fd\",(function(){return fL})),s.d(e,\"vh\",(function(){return VC})),s.d(e,\"De\",(function(){return ts})),s.d(e,\"Vh\",(function(){return TD})),s.d(e,\"o\",(function(){return RD})),s.d(e,\"ob\",(function(){return vD})),s.d(e,\"Ah\",(function(){return AD})),s.d(e,\"Bh\",(function(){return ID})),s.d(e,\"Ch\",(function(){return SD})),s.d(e,\"Th\",(function(){return ND})),s.d(e,\"Bb\",(function(){return mM})),s.d(e,\"Lb\",(function(){return IM})),s.d(e,\"Kd\",(function(){return fM})),s.d(e,\"aj\",(function(){return TM})),s.d(e,\"vb\",(function(){return RL})),s.d(e,\"wb\",(function(){return OL})),s.d(e,\"xb\",(function(){return NL})),s.d(e,\"Vd\",(function(){return yL})),s.d(e,\"Ce\",(function(){return DL})),s.d(e,\"If\",(function(){return ML})),s.d(e,\"Zi\",(function(){return CL})),s.d(e,\"h\",(function(){return Pe})),s.d(e,\"kb\",(function(){return Ge})),s.d(e,\"wg\",(function(){return ke})),s.d(e,\"Cg\",(function(){return ze})),s.d(e,\"Dg\",(function(){return Ye})),s.d(e,\"Tg\",(function(){return We})),s.d(e,\"nh\",(function(){return Ke})),s.d(e,\"Uh\",(function(){return At})),s.d(e,\"Wi\",(function(){return dt}));var i=s(6),r=s(25),n=s(32),a=s(34),o=s(3),h=s(11),_=s(27),d=s(9);class u extends d.a{constructor(t){super(t)}}u.LOADED=\"NCE_LOADED\",u.FAILED=\"NCE_FAILED\";class c{constructor(){this._isDisposed=void 0,this._isDisposing=void 0,this._isDisposed=!1,this._isDisposing=!1}dispose(){this._isDisposed||this._isDisposing||(this._isDisposing=!0,this.onDispose(),this._isDisposed=!0,this._isDisposing=!1)}onDispose(){}get disposed(){return this._isDisposed}get isDisposing(){return this._isDisposing}}class l{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._name=void 0,this._description=void 0,this._print=void 0,this._name=t,this._description=e,this._print=!0}log(t){this.printMessage(t,\"log\")}error(t,e){this.printMessage(e||t,\"error\")}warn(t){this.printMessage(t,\"warn\")}printMessage(t,e){this._print&&l.log(t,this._name,e)}static log(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=`[Nitro] [${arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"Nitro\"}] ${t} ${this.getTimestamp()}`;switch(e){case\"error\":console.error(s);break;case\"warn\":console.warn(s);break;default:console.log(s)}}static error(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"Nitro\";return this.log(t,e,\"error\")}static warn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"Nitro\";return this.log(t,e,\"warn\")}static getTimestamp(){const t=Date.now(),e=` +${t-l.LAST_TIMESTAMP||0}ms`;return this.LAST_TIMESTAMP=t,e}get description(){return this._description}set description(t){this._description=t}get print(){return this._print}set print(t){this._print=t}}l.LAST_TIMESTAMP=Date.now();class g extends c{constructor(){super(),this._logger=void 0,this._listeners=void 0,this._logger=new l(this.constructor.name),this._listeners=new Map}onDispose(){this.removeAllListeners(),super.onDispose()}addEventListener(t,e){if(!t||!e)return;const s=this._listeners.get(t);s?s.push(e):this._listeners.set(t,[e])}removeEventListener(t,e){if(!t||!e)return;const s=this._listeners.get(t);if(s&&s.length)for(const[i,r]of s.entries())if(r&&r===e)return s.splice(i,1),void(s.length||this._listeners.delete(t))}dispatchEvent(t){return!!t&&(lL.instance.getConfiguration(\"system.dispatcher.log\")&&this._logger.log(`DISPATCHED: ${t.type}`),this.processEvent(t),!0)}processEvent(t){const e=this._listeners.get(t.type);if(!e||!e.length)return;const s=[];for(const r of e)r&&s.push(r);for(;s.length;){const e=s.shift();try{e(t)}catch(i){return void this._logger.error(i.stack)}}}removeAllListeners(){this._listeners.clear()}}class E{constructor(t){this._position=void 0,this._dataView=void 0,this._position=0,this._dataView=new DataView(t)}readBytes(t){const e=new E(this._dataView.buffer.slice(this._position,this._position+t));return this._position+=t,e}readByte(){const t=this._dataView.getInt8(this._position);return this._position++,t}readShort(){const t=this._dataView.getInt16(this._position);return this._position+=2,t}readInt(){const t=this._dataView.getInt32(this._position);return this._position+=4,t}readFloat(){const t=this._dataView.getFloat32(this._position);return this._position+=4,t}readDouble(){const t=this._dataView.getFloat64(this._position);return this._position+=8,t}remaining(){return this._dataView.byteLength-this._position}toString(t){return(new TextDecoder).decode(this._dataView.buffer)}toArrayBuffer(){return this._dataView.buffer}}class p{constructor(){this._buffer=void 0,this._position=void 0,this._buffer=new Uint8Array,this._position=0}writeByte(t){const e=new Uint8Array(1);return e[0]=t,this.appendArray(e),this}writeBytes(t){const e=new Uint8Array(t);return this.appendArray(e),this}writeShort(t){const e=new Uint8Array(2);return e[0]=t>>8,e[1]=255&t,this.appendArray(e),this}writeInt(t){const e=new Uint8Array(4);return e[0]=t>>24,e[1]=t>>16,e[2]=t>>8,e[3]=255&t,this.appendArray(e),this}writeString(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=(new TextEncoder).encode(t);return e?(this.writeShort(s.length),this.appendArray(s)):this.appendArray(s),this}appendArray(t){if(!t)return;const e=new Uint8Array(this.position+t.length>this._buffer.length?this.position+t.length:this._buffer.length);e.set(this._buffer),e.set(t,this.position),this._buffer=e,this.position+=t.length}getBuffer(){return this._buffer.buffer}get position(){return this._position}set position(t){this._position=t}toString(t){return new TextDecoder(t).decode(this._buffer)}}class m{constructor(t){this._value=void 0,this._value=t}get value(){return this._value}}class I{constructor(t){this._value=void 0,this._value=t}get value(){return this._value}}class f{constructor(t,e){this._header=void 0,this._buffer=void 0,this._header=t,this._buffer=e}readBytes(t){return this._buffer?this._buffer.readBytes(t):null}readByte(){return this._buffer?this._buffer.readByte():-1}readBoolean(){return 1===this.readByte()}readShort(){return this._buffer?this._buffer.readShort():-1}readInt(){return this._buffer?this._buffer.readInt():-1}readFloat(){return this._buffer?this._buffer.readFloat():-1}readDouble(){return this._buffer?this._buffer.readDouble():-1}readString(){const t=this.readShort();return this._buffer.readBytes(t).toString(\"utf8\")}get header(){return this._header}get bytesAvailable(){return this._buffer&&this._buffer.remaining()>0}}class T{encode(t,e){const s=new p;s.writeShort(t);for(const r of e){let t=typeof r;switch(\"object\"===t&&(null===r?t=\"null\":r instanceof m?t=\"byte\":r instanceof I?t=\"short\":r instanceof ArrayBuffer&&(t=\"arraybuffer\")),t){case\"undefined\":case\"null\":s.writeShort(0);break;case\"byte\":s.writeByte(r.value);break;case\"short\":s.writeShort(r.value);break;case\"number\":s.writeInt(r);break;case\"boolean\":s.writeByte(r?1:0);break;case\"string\":r?s.writeString(r,!0):s.writeShort(0);break;case\"arraybuffer\":s.writeBytes(r)}}const i=s.getBuffer();return i?(new p).writeInt(i.byteLength).writeBytes(i):null}decode(t){if(!t||!t.dataBuffer||!t.dataBuffer.byteLength)return null;const e=[];for(;t.dataBuffer.byteLength&&!(t.dataBuffer.byteLength<4);){const s=new E(t.dataBuffer),i=s.readInt();if(i>t.dataBuffer.byteLength-4)break;const r=s.readBytes(i);e.push(new f(r.readShort(),r)),t.dataBuffer=t.dataBuffer.slice(i+4)}return e}}class R extends d.a{constructor(t,e,s){super(t),this._connection=void 0,this._originalEvent=void 0,this._connection=e,this._originalEvent=event}get connection(){return this._connection}get originalEvent(){return this._originalEvent}}R.CONNECTION_OPENED=\"SCE_OPEN\",R.CONNECTION_CLOSED=\"SCE_CLOSED\",R.CONNECTION_ERROR=\"SCE_ERROR\",R.CONNECTION_MESSAGE=\"SCE_MESSAGE\";class v{constructor(t,e){this._callBack=void 0,this._parserClass=void 0,this._parser=void 0,this._connection=void 0,this._callBack=t,this._parserClass=e,this._parser=null,this._connection=null}dispose(){this._callBack=null,this._parserClass=null,this._parser=null,this._connection=null}get callBack(){return this._callBack}get parserClass(){return this._parserClass}get parser(){return this._parser}set parser(t){this._parser=t}get connection(){return this._connection}set connection(t){this._connection=t}}class O{constructor(){this._messageIdByEvent=void 0,this._messageIdByComposer=void 0,this._messageInstancesById=void 0,this._messageIdByEvent=new Map,this._messageIdByComposer=new Map,this._messageInstancesById=new Map}dispose(){this._messageIdByEvent.clear(),this._messageIdByComposer.clear(),this._messageInstancesById.clear()}registerMessages(t){for(const[e,s]of t.events)this.registerMessageEventClass(e,s);for(const[e,s]of t.composers)this.registerMessageComposerClass(e,s)}registerMessageEventClass(t,e){t&&e&&this._messageIdByEvent.set(e,t)}registerMessageComposerClass(t,e){t&&e&&this._messageIdByComposer.set(e,t)}registerMessageEvent(t){if(!t)return;const e=this.getEventId(t);if(!e)return;let s=this._messageInstancesById.get(e);s&&s.length||(s=[],this._messageInstancesById.set(e,s)),s.push(t)}removeMessageEvent(t){if(!t)return;const e=this.getEventId(t);if(!e)return;const s=this._messageInstancesById.get(e);if(s)for(const[i,r]of s.entries())if(r&&r===t)return s.splice(i,1),0===s.length&&this._messageInstancesById.delete(e),void r.dispose()}getEvents(t){if(!t)return;const e=this._messageInstancesById.get(t);return e||void 0}getEventId(t){if(!t)return-1;const e=t instanceof v?t.constructor:t,s=this._messageIdByEvent.get(e);return s||-1}getComposerId(t){if(!t)return-1;const e=this._messageIdByComposer.get(t.constructor);return e||-1}}class A{}A.CONNECTION_OPENED=\"open\",A.CONNECTION_CLOSED=\"close\",A.CONNECTION_ERROR=\"error\",A.CONNECTION_MESSAGE=\"message\";class S extends g{constructor(t,e){super(),this._communicationManager=void 0,this._stateListener=void 0,this._socket=void 0,this._messages=void 0,this._codec=void 0,this._dataBuffer=void 0,this._isReady=void 0,this._pendingClientMessages=void 0,this._pendingServerMessages=void 0,this._isAuthenticated=void 0,this._communicationManager=t,this._stateListener=e,this._socket=null,this._messages=new O,this._codec=new T,this._dataBuffer=null,this._isReady=!1,this._pendingClientMessages=[],this._pendingServerMessages=[],this._isAuthenticated=!1,this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.onError=this.onError.bind(this),this.onMessage=this.onMessage.bind(this)}init(t){this._stateListener&&this._stateListener.connectionInit(t),this.createSocket(t)}onDispose(){super.onDispose(),this.destroySocket(),this._communicationManager=null,this._stateListener=null,this._messages=null,this._codec=null,this._dataBuffer=null}onReady(){this._isReady||(this._isReady=!0,this._pendingServerMessages&&this._pendingServerMessages.length&&this.processWrappers(...this._pendingServerMessages),this._pendingClientMessages&&this._pendingClientMessages.length&&this.send(...this._pendingClientMessages),this._pendingServerMessages=[],this._pendingClientMessages=[])}createSocket(t){t&&(this.destroySocket(),this._dataBuffer=new ArrayBuffer(0),this._socket=new WebSocket(t),this._socket.addEventListener(A.CONNECTION_OPENED,this.onOpen),this._socket.addEventListener(A.CONNECTION_CLOSED,this.onClose),this._socket.addEventListener(A.CONNECTION_ERROR,this.onError),this._socket.addEventListener(A.CONNECTION_MESSAGE,this.onMessage))}destroySocket(){this._socket&&(this._socket.removeEventListener(A.CONNECTION_OPENED,this.onOpen),this._socket.removeEventListener(A.CONNECTION_CLOSED,this.onClose),this._socket.removeEventListener(A.CONNECTION_ERROR,this.onError),this._socket.removeEventListener(A.CONNECTION_MESSAGE,this.onMessage),this._socket.readyState===WebSocket.OPEN&&this._socket.close(),this._socket=null)}onOpen(t){this.dispatchConnectionEvent(R.CONNECTION_OPENED,t)}onClose(t){this.dispatchConnectionEvent(R.CONNECTION_CLOSED,t)}onError(t){this.dispatchConnectionEvent(R.CONNECTION_ERROR,t)}onMessage(t){if(!t)return;const e=new FileReader;e.readAsArrayBuffer(t.data),e.onloadend=()=>{this._dataBuffer=this.concatArrayBuffers(this._dataBuffer,e.result),this.processReceivedData()}}dispatchConnectionEvent(t,e){this.dispatchEvent(new R(t,this,e))}authenticated(){this._isAuthenticated=!0}send(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];if(this.disposed||!e)return!1;if(e=[...e],this._isAuthenticated&&!this._isReady)return this._pendingClientMessages||(this._pendingClientMessages=[]),this._pendingClientMessages.push(...e),!1;for(const i of e){if(!i)continue;const t=this._messages.getComposerId(i);if(-1===t){l.log(`Unknown Composer: ${i.constructor.name}`);continue}const e=i.getMessageArray(),s=this._codec.encode(t,e);s?(lL.instance.getConfiguration(\"system.packet.log\")&&console.log(`OutgoingComposer: [${t}] ${i.constructor.name}`,e),this.write(s.getBuffer())):lL.instance.getConfiguration(\"system.packet.log\")&&console.log(`Encoding Failed: ${i.constructor.name}`)}return!0}write(t){this._socket.readyState===WebSocket.OPEN&&this._socket.send(t)}processReceivedData(){try{this.processData()}catch(t){l.log(t)}}processData(){const t=this.splitReceivedMessages();if(t&&t.length)return this._isAuthenticated&&!this._isReady?(this._pendingServerMessages||(this._pendingServerMessages=[]),void this._pendingServerMessages.push(...t)):void this.processWrappers(...t)}processWrappers(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];if(e&&e.length)for(const i of e){if(!i)continue;const t=this.getMessagesForWrapper(i);t&&t.length&&(lL.instance.getConfiguration(\"system.packet.log\")&&console.log(`IncomingMessage: [${i.header}] ${t[0].constructor.name}`,t[0].parser),this.handleMessages(...t))}}splitReceivedMessages(){return this._dataBuffer&&this._dataBuffer.byteLength?this._codec.decode(this):null}concatArrayBuffers(t,e){const s=new Uint8Array(t.byteLength+e.byteLength);return s.set(new Uint8Array(t),0),s.set(new Uint8Array(e),t.byteLength),s.buffer}getMessagesForWrapper(t){if(!t)return null;const e=this._messages.getEvents(t.header);if(e&&e.length){try{const s=new e[0].parserClass;if(!s||!s.flush()||!s.parse(t))return null;for(const t of e)t.parser=s}catch(s){return l.log(`Error parsing message: ${s}`,e[0].constructor.name),null}return e}lL.instance.getConfiguration(\"system.packet.log\")&&console.log(`IncomingMessage: [${t.header}] UNREGISTERED`,t)}handleMessages(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];e=[...e];for(const i of e)i&&(i.connection=this,i.callBack&&i.callBack(i))}registerMessages(t){t&&this._messages.registerMessages(t)}addMessageEvent(t){t&&this._messages&&this._messages.registerMessageEvent(t)}removeMessageEvent(t){t&&this._messages&&this._messages.removeMessageEvent(t)}get isAuthenticated(){return this._isAuthenticated}get dataBuffer(){return this._dataBuffer}set dataBuffer(t){this._dataBuffer=t}}class N extends c{constructor(){super(),this._connections=void 0,this._connections=[]}onDispose(){if(this._connections&&this._connections.length)for(const t of this._connections.values())t&&t.dispose()}createConnection(){const t=new S(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:null);if(t)return this._connections.push(t),t}update(t){let e=0;for(;e<this._connections.length;){const t=this._connections[e];if(t.processReceivedData(),this.disposed)return;t.disposed?this._connections.splice(e,1):e++}}}class y extends c{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this._logger=void 0,this._events=void 0,this._isLoaded=void 0,this._isLoading=void 0,this._logger=t instanceof l?t:new l(this.constructor.name),this._events=new g,this._isLoaded=!1,this._isLoading=!1}init(){this._isLoaded||this._isLoading||this.isDisposing||(this._isLoading=!0,this.onInit(),this._isLoaded=!0,this._isLoading=!1)}onInit(){}onDispose(){this._events&&this._events.dispose(),super.onDispose()}reload(){this.dispose(),this.init()}get logger(){return this._logger}get events(){return this._events}get isLoaded(){return this._isLoaded}get isLoading(){return this._isLoading}}class D extends y{constructor(){super(),this._definitions=void 0,this._pendingUrls=void 0,this._missingKeys=void 0,this._definitions=new Map,this._pendingUrls=[],this._missingKeys=[],this.onConfigurationLoaded=this.onConfigurationLoaded.bind(this)}onInit(){this.parseConfiguration(this.getDefaultConfig(),!0),this._pendingUrls=this.getValue(\"config.urls\").slice(),this.loadNextConfiguration()}loadNextConfiguration(){this._pendingUrls.length?this.loadConfigurationFromUrl(this._pendingUrls[0]):this.dispatchConfigurationEvent(u.LOADED)}loadConfigurationFromUrl(t){t&&\"\"!==t?fetch(t).then((t=>t.json())).then((e=>this.onConfigurationLoaded(e,t))).catch((t=>this.onConfigurationFailed(t))):this.dispatchConfigurationEvent(u.FAILED)}onConfigurationLoaded(t,e){if(t){if(this.parseConfiguration(t)){const t=this._pendingUrls.indexOf(e);return t>=0&&this._pendingUrls.splice(t,1),void this.loadNextConfiguration()}this.dispatchConfigurationEvent(u.FAILED)}}onConfigurationFailed(t){this.dispatchConfigurationEvent(u.FAILED)}dispatchConfigurationEvent(t){this.events&&this.events.dispatchEvent(new u(t))}parseConfiguration(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;try{const s=new RegExp(/\\${(.*?)}/g);for(const i in t){let r=t[i];\"string\"===typeof r&&(r=this.interpolate(r,s)),this._definitions.has(i)?e&&this.setValue(i,r):this.setValue(i,r)}return!0}catch(s){return this.logger.error(s.stack),!1}}interpolate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||(e=new RegExp(/\\${(.*?)}/g));const s=t.match(e);if(s&&s.length)for(const i of s){const e=this._definitions.get(this.removeInterpolateKey(i));e&&(t=t.replace(i,e))}return t}removeInterpolateKey(t){return t.replace(\"${\",\"\").replace(\"}\",\"\")}getValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this._definitions.get(t);if(void 0===s){if(this._missingKeys.indexOf(t)>=0)return e;this._missingKeys.push(t),this.logger.warn(`Missing configuration key: ${t}`),s=e}return s}setValue(t,e){this._definitions.set(t,e)}getDefaultConfig(){return NitroConfig}get definitions(){return this._definitions}}class M extends c{constructor(){super(),this._configuration=void 0,this._communication=void 0,this._asset=void 0,(()=>{if(navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1){const t=[`\\n %c %c %c Nitro ${pL.UI_VERSION} - Renderer ${pL.RENDERER_VERSION} %c %c %c https://discord.nitrodev.co %c %c \\n\\n`,\"background: #ffffff; padding:5px 0;\",\"background: #ffffff; padding:5px 0;\",\"color: #ffffff; background: #000000; padding:5px 0;\",\"background: #ffffff; padding:5px 0;\",\"background: #ffffff; padding:5px 0;\",\"background: #000000; padding:5px 0;\",\"background: #ffffff; padding:5px 0;\",\"background: #ffffff; padding:5px 0;\"];self.console.log(...t)}else self.console&&self.console.log(`Nitro ${pL.UI_VERSION} - Renderer ${pL.RENDERER_VERSION} `)})(),this._configuration=new D,this._communication=new N,this._asset=new EL}onDispose(){this._asset&&(this._asset.dispose(),this._asset=null),this._communication&&(this._communication.dispose(),this._communication=null)}get configuration(){return this._configuration}get communication(){return this._communication}get asset(){return this._asset}}class C{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._elapsedTime=void 0,this._percision=void 0,this._timer=void 0,this._elapsedTime=0,this._percision=t,this._timer=null,this.start()}start(){this._elapsedTime=0,this._timer||(this._timer=setInterval((()=>this.increase()),this._percision))}stop(){this._timer&&clearTimeout(this._timer)}increase(){this._elapsedTime+=this._percision}getTimer(){return this._elapsedTime}}var L=s(62);class U{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._length=void 0,this._dictionary=void 0,this._array=void 0,this._keys=void 0,this._length=0,this._dictionary=new Map,this._array=[],this._keys=[],t)for(const[e,s]of t.entries())this.add(e,s)}get length(){return this._length}get disposed(){return!this._dictionary}dispose(){if(!this._dictionary){for(const t of this._dictionary.keys())this._dictionary.delete(t);this._dictionary=null}this._length=0,this._array=null,this._keys=null}reset(){for(const t of this._dictionary.keys())this._dictionary.delete(t);this._length=0,this._array=[],this._keys=[]}unshift(t,e){return null===this._dictionary.get(t)&&(this._dictionary.set(t,e),this._array.unshift(e),this._keys.unshift(t),this._length++,!0)}add(t,e){return void 0===this._dictionary.get(t)&&(this._dictionary.set(t,e),this._array[this._length]=e,this._keys[this._length]=t,this._length++,!0)}remove(t){const e=this._dictionary.get(t);if(!e)return null;const s=this._array.indexOf(e);return s>=0&&(this._array.splice(s,1),this._keys.splice(s,1),this._length--),this._dictionary.delete(t),e}getWithIndex(t){return t<0||t>=this._length?null:this._array[t]}getKey(t){return t<0||t>=this._length?null:this._keys[t]}getKeys(){return this._keys.slice()}hasKey(t){return this._keys.indexOf(t)>-1}getValue(t){return this._dictionary.get(t)}getValues(){return this._array.slice()}hasValue(t){return this._array.indexOf(t)>-1}indexOf(t){return this._array.indexOf(t)}concatenate(t){for(const e of t._keys)this.add(e,t.getValue(e))}clone(){const t=new U;return t.concatenate(this),t}}const P=t=>{let e=\"\";const s=new Uint8Array(t),i=s.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(s[r]);return window.btoa(e)};var b=s(51);class w extends b.a{}var F=s(45);class x extends F.a{}class B extends i.c{}var G=s(13);class H extends G.b{}class V extends i.j{}var j=s(4);class k extends j.g{}j.h;class z extends j.j{}i.o;var Y=s(26);class W extends Y.a{}n.a;class K extends i.t{}class X extends a.a{}var q=s(52);q.a;r.b;var Q=s(42);class Z extends Q.c{}class J{constructor(t){this._jsonFile=null,this._image=null,this._imageData=null,this._baseTexture=null,this.parse(t)}parse(t){const e=new E(t);let s=e.readShort();for(;s>0;){const t=e.readShort(),r=e.readBytes(t).toString(),n=e.readInt(),a=e.readBytes(n);if(r.endsWith(\".json\")){const t=Object(L.a)(a.toArrayBuffer());this._jsonFile=JSON.parse(J.TEXT_DECODER.decode(t))}else{const t=Object(L.a)(a.toArrayBuffer()),e=P(t);this._baseTexture=new i.c(\"data:image/png;base64,\"+e)}s--}}get jsonFile(){return this._jsonFile}get baseTexture(){return this._baseTexture}}J.TEXT_DECODER=new TextDecoder(\"utf-8\");class $ extends d.a{constructor(t,e){super(t),this._contentType=void 0,this._contentType=e}get contentType(){return this._contentType}}$.RCLE_SUCCESS=\"RCLE_SUCCESS\",$.RCLE_FAILURE=\"RCLE_FAILURE\",$.RCLE_CANCEL=\"RCLE_CANCEL\";class tt{constructor(t,e,s){this.name=t,this.textures=e,this.durations=s}}let et;!function(t){t.FLOOR=\"S\",t.WALL=\"I\",t.EFFECT=\"E\",t.BADGE=\"B\",t.ROBOT=\"R\",t.HABBO_CLUB=\"H\",t.PET=\"P\"}(et||(et={}));class st{}st.MINIMUM=-2,st.ROOM=0,st.FLOOR=10,st.WALL=20,st.UNIT=100,st.CURSOR=200;class it{static getTypeNumber(t){return it.AVATAR_TYPES[t]}static getTypeString(t){for(const e in it.AVATAR_TYPES)if(e&&it.AVATAR_TYPES[e]===t)return e;return null}static getRealType(t){switch(t){case it.BOT:case it.RENTABLE_BOT:return it.USER;default:return t}}}it.USER=\"user\",it.PET=\"pet\",it.BOT=\"bot\",it.RENTABLE_BOT=\"rentable_bot\",it.MONSTER_PLANT=\"monsterplant\",it.AVATAR_TYPES={user:1,pet:2,bot:3,rentable_bot:4};class rt{}rt.OBJECT_ROOM_ID=\"object_room_id\",rt.OBJECT_ACCURATE_Z_VALUE=\"object_accurate_z_value\",rt.TILE_CURSOR_HEIGHT=\"tile_cursor_height\",rt.FIGURE=\"figure\",rt.GENDER=\"gender\",rt.OWN_USER=\"own_user\",rt.FIGURE_CAN_STAND_UP=\"figure_can_stand_up\",rt.FIGURE_VERTICAL_OFFSET=\"figure_vertical_offset\",rt.FIGURE_TALK=\"figure_talk\",rt.FIGURE_DANCE=\"figure_dance\",rt.FIGURE_SLEEP=\"figure_sleep\",rt.FIGURE_BLINK=\"figure_blink\",rt.FIGURE_EFFECT=\"figure_effect\",rt.FIGURE_CARRY_OBJECT=\"figure_carry_object\",rt.FIGURE_USE_OBJECT=\"figure_use_object\",rt.FIGURE_GESTURE=\"figure_gesture\",rt.FIGURE_POSTURE=\"figure_posture\",rt.FIGURE_POSTURE_PARAMETER=\"figure_posture_parameter\",rt.FIGURE_HIGHLIGHT_ENABLE=\"figure_highlight_enable\",rt.FIGURE_HIGHLIGHT=\"figure_highlight\",rt.FURNITURE_PURCHASER_NAME=\"furniture_purchaser_name\",rt.FURNITURE_PURCHASER_FIGURE=\"furniture_purchaser_figure\",rt.STD=\"std\",rt.FIGURE_SIGN=\"figure_sign\",rt.FIGURE_FLAT_CONTROL=\"figure_flat_control\",rt.FIGURE_IS_TYPING=\"figure_is_typing\",rt.FIGURE_IS_MUTED=\"figure_is_muted\",rt.FIGURE_GAINED_EXPERIENCE=\"figure_gained_experience\",rt.FIGURE_EXPERIENCE_TIMESTAMP=\"figure_experience_timestamp\",rt.FIGURE_NUMBER_VALUE=\"figure_number_value\",rt.FIGURE_IS_PLAYING_GAME=\"figure_is_playing_game\",rt.FIGURE_GUIDE_STATUS=\"figure_guide_status\",rt.FIGURE_EXPRESSION=\"figure_expression\",rt.HEAD_DIRECTION=\"head_direction\",rt.FURNITURE_CUSTOM_VARIABLES=\"furniture_custom_variables\",rt.FURNITURE_AUTOMATIC_STATE_INDEX=\"furniture_automatic_state_index\",rt.FURNITURE_ALWAYS_STACKABLE=\"furniture_always_stackable\",rt.FURNITURE_DISABLE_PICKING_ANIMATION=\"furniture_disable_picking_animation\",rt.FURNITURE_DATA_FORMAT=\"furniture_data_format\",rt.FURNITURE_UNIQUE_SERIAL_NUMBER=\"furniture_unique_serial_number\",rt.FURNITURE_UNIQUE_EDITION_SIZE=\"furniture_unique_edition_size\",rt.FURNITURE_CRACKABLE_STATE=\"furniture_crackable_state\",rt.FURNITURE_CRACKABLE_HITS=\"furniture_crackable_hits\",rt.FURNITURE_CRACKABLE_TARGET=\"furniture_crackable_target\",rt.FURNITURE_CREDIT_VALUE=\"furniture_credit_value\",rt.FURNITURE_DATA=\"furniture_data\",rt.FURNITURE_ITEMDATA=\"furniture_itemdata\",rt.FURNITURE_COLOR=\"furniture_color\",rt.FURNITURE_LIFT_AMOUNT=\"furniure_lift_amount\",rt.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID=\"furniture_guild_customized_guild_id\",rt.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME=\"furniture_guild_customized_asset_name\",rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_1=\"furniture_guild_customized_color_1\",rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_2=\"furniture_guild_customized_color_2\",rt.FURNITURE_STATE_UPDATE_TIME=\"furniture_state_update_time\",rt.FURNITURE_SELECTION_DISABLED=\"furniture_selection_disabled\",rt.FURNITURE_SIZE_X=\"furniture_size_x\",rt.FURNITURE_SIZE_Y=\"furniture_size_y\",rt.FURNITURE_SIZE_Z=\"furniture_size_z\",rt.FURNITURE_CENTER_X=\"furniture_center_x\",rt.FURNITURE_CENTER_Y=\"furniture_center_y\",rt.FURNITURE_CENTER_Z=\"furniture_center_z\",rt.FURNITURE_ALLOWED_DIRECTIONS=\"furniture_allowed_directions\",rt.FURNITURE_AD_URL=\"furniture_ad_url\",rt.FURNITURE_TYPE_ID=\"furniture_type_id\",rt.FURNITURE_EXTRAS=\"furniture_extras\",rt.FURNITURE_EXPIRY_TIME=\"furniture_expiry_time\",rt.FURNITURE_EXPIRTY_TIMESTAMP=\"furniture_expiry_timestamp\",rt.FURNITURE_REAL_ROOM_OBJECT=\"furniture_real_room_object\",rt.FURNITURE_IS_STICKIE=\"furniture_is_stickie\",rt.FURNITURE_BRANDING_IMAGE_STATUS=\"furniture_branding_image_status\",rt.FURNITURE_BRANDING_IMAGE_URL=\"furniture_branding_image_url\",rt.FURNITURE_BRANDING_URL=\"furniture_branding_url\",rt.FURNITURE_BRANDING_OFFSET_X=\"furniture_branding_offset_x\",rt.FURNITURE_BRANDING_OFFSET_Y=\"furniture_branding_offset_y\",rt.FURNITURE_BRANDING_OFFSET_Z=\"furniture_branding_offset_z\",rt.FURNITURE_BRANDING_IS_ANIMATED=\"furniture_branding_is_animated\",rt.FURNITURE_BADGE_IMAGE_STATUS=\"furniture_badge_image_status\",rt.FURNITURE_BADGE_ASSET_NAME=\"furniture_badge_asset_name\",rt.FURNITURE_BADGE_VISIBLE_IN_STATE=\"furniture_badge_visible_in_state\",rt.FURNITURE_ALPHA_MULTIPLIER=\"furniture_alpha_multiplier\",rt.FURNITURE_USAGE_POLICY=\"furniture_usage_policy\",rt.FURNITURE_OWNER_ID=\"furniture_owner_id\",rt.FURNITURE_OWNER_NAME=\"furniture_owner_name\",rt.FURNITURE_ROOM_BACKGROUND_COLOR_HUE=\"furniture_room_background_color_hue\",rt.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION=\"furniture_room_background_color_saturation\",rt.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS=\"furniture_room_background_color_lightness\",rt.FURNITURE_USES_PLANE_MASK=\"furniture_uses_plane_mask\",rt.FURNITURE_PLANE_MASK_TYPE=\"furniture_plane_mask_type\",rt.FURNITURE_IS_VARIABLE_HEIGHT=\"furniture_is_variable_height\",rt.FURNITURE_VOTE_MAJORITY_RESULT=\"furniture_vote_majority_result\",rt.FURNITURE_VOTE_COUNTER_COUNT=\"furniture_vote_counter_count\",rt.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED=\"furniture_soundblock_relative_animation_speed\",rt.FURNITURE_MANNEQUIN_NAME=\"furniture_mannequin_name\",rt.FURNITURE_MANNEQUIN_GENDER=\"furniture_mannequin_gender\",rt.FURNITURE_MANNEQUIN_FIGURE=\"furniture_mannequin_figure\",rt.FURNITURE_HIGHSCORE_SCORE_TYPE=\"furniture_highscore_score_type\",rt.FURNITURE_HIGHSCORE_CLEAR_TYPE=\"furniture_highscore_clear_type\",rt.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT=\"furniture_highscore_data_entry_count\",rt.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_=\"furniture_highscore_data_entry_base_users_\",rt.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_=\"furniture_highscore_data_entry_base_score_\",rt.FURNITURE_INTERNAL_LINK=\"furniture_internal_link\",rt.FURNITURE_CLOTHING_BOY=\"furniture_clothing_boy\",rt.FURNITURE_CLOTHING_GIRL=\"furniture_clothing_girl\",rt.FURNITURE_PLANETSYSTEM_DATA=\"furniture_planetsystem_data\",rt.FURNITURE_FIREWORKS_DATA=\"furniture_fireworks_data\",rt.PET_PALETTE_INDEX=\"pet_palette_index\",rt.PET_COLOR=\"pet_color\",rt.PET_HEAD_ONLY=\"pet_head_only\",rt.PET_CUSTOM_LAYER_IDS=\"pet_custom_layer_ids\",rt.PET_CUSTOM_PARTS_IDS=\"pet_custom_part_ids\",rt.PET_CUSTOM_PALETTE_IDS=\"pet_custom_palette_ids\",rt.PET_IS_RIDING=\"pet_is_riding\",rt.PET_TYPE=\"pet_type\",rt.PET_ALLOWED_DIRECTIONS=\"pet_allowed_directions\",rt.RACE=\"race\",rt.ROOM_MAP_DATA=\"room_map_data\",rt.ROOM_PLANE_MASK_XML=\"room_plane_mask_xml\",rt.ROOM_FLOOR_TYPE=\"room_floor_type\",rt.ROOM_WALL_TYPE=\"room_wall_type\",rt.ROOM_LANDSCAPE_TYPE=\"room_landscape_type\",rt.ROOM_WALL_THICKNESS=\"room_wall_thickness\",rt.ROOM_FLOOR_THICKNESS=\"room_floor_thickness\",rt.ROOM_FLOOR_HOLE_UPDATE_TIME=\"room_floor_hole_update_time\",rt.ROOM_FLOOR_VISIBILITY=\"room_floor_visibility\",rt.ROOM_WALL_VISIBILITY=\"room_wall_visibility\",rt.ROOM_LANDSCAPE_VISIBILITY=\"room_landscape_visibility\",rt.ROOM_DOOR_X=\"room_door_x\",rt.ROOM_DOOR_Y=\"room_door_y\",rt.ROOM_DOOR_Z=\"room_door_z\",rt.ROOM_DOOR_DIR=\"room_door_dir\",rt.ROOM_BACKGROUND_COLOR=\"room_background_color\",rt.ROOM_COLORIZE_BG_ONLY=\"room_colorize_bg_only\",rt.ROOM_RANDOM_SEED=\"room_random_seed\",rt.ROOM_WORLD_TYPE=\"room_world_type\",rt.ROOM_SELECTED_X=\"room_selected_x\",rt.ROOM_SELECTED_Y=\"room_selected_y\",rt.ROOM_SELECTED_Z=\"room_selected_z\",rt.ROOM_SELECTED_PLANE=\"room_selected_plane\",rt.IMAGE_QUERY_SCALE=\"image_query_scale\",rt.FURNITURE_FRIENDFURNI_ENGRAVING=\"furniture_friendfurni_engraving_type\",rt.SESSION_URL_PREFIX=\"session_url_prefix\",rt.SESSION_CURRENT_USER_ID=\"session_current_user_id\";class nt{}nt.FURNITURE_STATIC=\"furniture_static\",nt.FURNITURE_ANIMATED=\"furniture_animated\",nt.FURNITURE_RESETTING_ANIMATED=\"furniture_resetting_animated\",nt.FURNITURE_POSTER=\"furniture_poster\",nt.FURNITURE_EXTERNAL_IMAGE=\"furniture_external_image\",nt.FURNITURE_HABBOWHEEL=\"furniture_habbowheel\",nt.FURNITURE_VAL_RANDOMIZER=\"furniture_val_randomizer\",nt.FURNITURE_BOTTLE=\"furniture_bottle\",nt.FURNITURE_PLANET_SYSTEM=\"furniture_planet_system\",nt.FURNITURE_QUEUE_TILE=\"furniture_queue_tile\",nt.FURNITURE_PARTY_BEAMER=\"furniture_party_beamer\",nt.FURNITURE_CUBOID=\"furniture_cuboid\",nt.FURNITURE_GIFT_WRAPPED=\"furniture_gift_wrapped\",nt.FURNITURE_GIFT_WRAPPED_FIREWORKS=\"furniture_gift_wrapped_fireworks\",nt.FURNITURE_COUNTER_CLOCK=\"furniture_counter_clock\",nt.FURNITURE_WATER_AREA=\"furniture_water_area\",nt.FURNITURE_SCORE_BOARD=\"furniture_score_board\",nt.FURNITURE_FIREWORKS=\"furniture_fireworks\",nt.FURNITURE_BB=\"furniture_bb\",nt.FURNITURE_ISOMETRIC_BB=\"furniture_isometric_bb\",nt.FURNITURE_BG=\"furniture_bg\",nt.FURNITURE_STICKIE=\"furniture_stickie\",nt.FURNITURE_MANNEQUIN=\"furniture_mannequin\",nt.FURNITURE_GUILD_CUSTOMIZED=\"furniture_guild_customized\",nt.FURNITURE_GUILD_ISOMETRIC_BADGE=\"furniture_guild_isometric_badge\",nt.FURNITURE_VOTE_COUNTER=\"furniture_vote_counter\",nt.FURNITURE_VOTE_MAJORITY=\"furniture_vote_majority\",nt.FURNITURE_SOUNDBLOCK=\"furniture_soundblock\",nt.FURNITURE_BADGE_DISPLAY=\"furniture_badge_display\",nt.FURNITURE_YOUTUBE=\"furniture_youtube\",nt.FURNITURE_BUILDER_PLACEHOLDER=\"furniture_builder_placeholder\",nt.ROOM=\"room\",nt.USER=\"user\",nt.PET_ANIMATED=\"pet_animated\",nt.BOT=\"bot\",nt.RENTABLE_BOT=\"rentable_bot\",nt.TILE_CURSOR=\"tile_cursor\";class at{constructor(t,e,s,i,r,n,a){this._breed=void 0,this._tag=void 0,this._id=void 0,this._primaryColor=void 0,this._secondaryColor=void 0,this._isMaster=void 0,this._layerTags=void 0,this._layerTags=[],this._primaryColor=16777215&t,this._secondaryColor=16777215&e,this._breed=s,this._tag=i>-1&&i<at.COLOR_TAGS.length?at.COLOR_TAGS[i]:\"\",this._id=r,this._isMaster=n,this._layerTags=a}get primaryColor(){return this._primaryColor}get secondaryColor(){return this._secondaryColor}get breed(){return this._breed}get tag(){return this._tag}get id(){return this._id}get isMaster(){return this._isMaster}get layerTags(){return this._layerTags}}at.COLOR_TAGS=[\"Null\",\"Black\",\"White\",\"Grey\",\"Red\",\"Orange\",\"Pink\",\"Green\",\"Lime\",\"Blue\",\"Light-Blue\",\"Dark-Blue\",\"Yellow\",\"Brown\",\"Dark-Brown\",\"Beige\",\"Cyan\",\"Purple\",\"Gold\"];class ot{constructor(){this._logger=void 0,this._stateEvents=void 0,this._sessionDataManager=void 0,this._waitingForSessionDataManager=void 0,this._iconListener=void 0,this._collections=void 0,this._gifCollections=void 0,this._images=void 0,this._events=void 0,this._activeObjects=void 0,this._activeObjectTypes=void 0,this._activeObjectTypeIds=void 0,this._objectTypeAdUrls=void 0,this._wallItems=void 0,this._wallItemTypes=void 0,this._wallItemTypeIds=void 0,this._furniRevisions=void 0,this._pets=void 0,this._petColors=void 0,this._objectAliases=void 0,this._objectOriginalNames=void 0,this._pendingContentTypes=void 0,this._dataInitialized=void 0,this._logger=new l(this.constructor.name),this._stateEvents=null,this._sessionDataManager=null,this._waitingForSessionDataManager=!1,this._iconListener=null,this._collections=new Map,this._gifCollections=new Map,this._images=new Map,this._events=new Map,this._activeObjects={},this._activeObjectTypes=new Map,this._activeObjectTypeIds=new Map,this._objectTypeAdUrls=new Map,this._wallItems={},this._wallItemTypes=new Map,this._wallItemTypeIds=new Map,this._furniRevisions=new Map,this._pets={},this._petColors=new Map,this._objectAliases=new Map,this._objectOriginalNames=new Map,this._pendingContentTypes=[],this._dataInitialized=!1}initialize(t){this._stateEvents=t,this.setFurnitureData();for(const[e,s]of lL.instance.getConfiguration(\"pet.types\").entries())this._pets[s]=e}dispose(){}setSessionDataManager(t){this._sessionDataManager=t,this._waitingForSessionDataManager&&(this._waitingForSessionDataManager=!1,this.setFurnitureData())}loadFurnitureData(){this.setFurnitureData()}setFurnitureData(){if(!this._sessionDataManager)return void(this._waitingForSessionDataManager=!0);const t=this._sessionDataManager.getAllFurnitureData(this);t&&(this._sessionDataManager.removePendingFurniDataListener(this),this.processFurnitureData(t),this._stateEvents.dispatchEvent(new d.a(ot.LOADER_READY)))}processFurnitureData(t){if(t)for(const e of t){if(!e)continue;const t=e.id;let s=e.className;e.hasIndexedColor&&(s=s+\"*\"+e.colorIndex);const i=e.revision,r=e.adUrl;r&&r.length>0&&this._objectTypeAdUrls.set(s,r);let n=e.className;e.type===et.FLOOR?(this._activeObjectTypes.set(t,s),this._activeObjectTypeIds.set(s,t),this._activeObjects[n]||(this._activeObjects[n]=1)):e.type===et.WALL&&(\"post.it\"===n&&(s=\"post_it\",n=\"post_it\"),\"post.it.vd\"===n&&(s=\"post_it_vd\",n=\"post_id_vd\"),this._wallItemTypes.set(t,s),this._wallItemTypeIds.set(s,t),this._wallItems[n]||(this._wallItems[n]=1));i>this._furniRevisions.get(n)&&(this._furniRevisions.delete(n),this._furniRevisions.set(n,i))}}getFurnitureFloorNameForTypeId(t){const e=this._activeObjectTypes.get(t);return this.removeColorIndex(e)}getFurnitureWallNameForTypeId(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this._wallItemTypes.get(t);return\"poster\"===s&&null!==e&&(s+=e),this.removeColorIndex(s)}getFurnitureFloorColorIndex(t){const e=this._activeObjectTypes.get(t);return e?this.getColorIndexFromName(e):-1}getFurnitureWallColorIndex(t){const e=this._wallItemTypes.get(t);return e?this.getColorIndexFromName(e):-1}getColorIndexFromName(t){if(!t)return-1;const e=t.indexOf(\"*\");return-1===e?0:parseInt(t.substr(e+1))}removeColorIndex(t){if(!t)return null;const e=t.indexOf(\"*\");return-1===e?t:t.substr(0,e)}getRoomObjectAdUrl(t){const e=this._objectTypeAdUrls.get(t);return e||\"\"}getPetColorResult(t,e){const s=this._petColors.get(t);return s?s.get(e):null}getPetColorResultsForTag(t,e){const s=this._petColors.get(t),i=[];if(s)for(const r of s.values())r.tag===e&&i.push(r);return i}getCollection(t){if(!t)return null;const e=this._collections.get(t);if(!e){const e=lL.instance.core.asset.getCollection(t);return e?(this._collections.set(t,e),e):null}return e}getGifCollection(t){return t&&this._gifCollections.get(t)||null}getImage(t){if(!t)return null;const e=this._images.get(t);if(!e)return null;const s=new Image;return s.src=e.src,s}addAssetToCollection(t,e,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=this.getCollection(t);return!!r&&r.addAsset(e,s,i,0,0,!1,!1)}createGifCollection(t,e,s){if(!t||!e||!s)return null;const i=new tt(t,e,s);return this._gifCollections.set(t,i),i}createCollection(t,e){if(!t||!e)return null;const s=new gL(t,e);this._collections.set(s.name,s);const i=this._pets[s.name];if(void 0!==i){const e=s.getPaletteNames(),r=new Map;for(const i of e){const e=s.getPalette(i),n=t.palettes[i],a=e.primaryColor,o=e.secondaryColor,h=void 0!==n.breed?n.breed:0,_=void 0!==n.colorTag?n.colorTag:-1,d=void 0!==n.master&&n.master,u=void 0!==n.tags?n.tags:[];r.set(parseInt(i),new at(a,o,h,_,i,d,u))}this._petColors.set(i,r)}}getPlaceholderName(t){switch(this.getCategoryForType(t)){case st.FLOOR:return ot.PLACE_HOLDER;case st.WALL:return ot.PLACE_HOLDER_WALL;default:return void 0!==this._pets[t]?ot.PLACE_HOLDER_PET:ot.PLACE_HOLDER_DEFAULT}}getCategoryForType(t){return t?void 0!==this._activeObjects[t]?st.FLOOR:void 0!==this._wallItems[t]?st.WALL:void 0!==this._pets[t]?st.UNIT:0===t.indexOf(\"poster\")?st.WALL:\"room\"===t?st.ROOM:t===it.USER||t===it.PET||t===it.BOT||t===it.RENTABLE_BOT?st.UNIT:t===ot.TILE_CURSOR||t===ot.SELECTION_ARROW?st.CURSOR:st.MINIMUM:st.MINIMUM}getPetNameForType(t){return lL.instance.getConfiguration(\"pet.types\")[t]||null}isLoaderType(t){return(t=it.getRealType(t))!==nt.USER}downloadImage(t,e,s){let i=null,r=[];if(e&&e.indexOf(\",\")>=0&&(i=e,e=i.split(\",\")[0]),r=i?this.getAssetUrls(i,s,!0):this.getAssetUrls(e,s,!0),r&&r.length){const i=r[0],n=new Image;return n.src=i,n.onload=()=>{n.onerror=null,this._images.set([e,s].join(\"_\"),n),this._iconListener.onRoomContentLoaded(t,[e,s].join(\"_\"),!0)},n.onerror=()=>{n.onload=null,this._logger.error(\"Failed to download asset: \"+i),this._iconListener.onRoomContentLoaded(t,[e,s].join(\"_\"),!1)},!0}return!1}downloadAsset(t,e){const s=this.getAssetUrls(t);if(!s||!s.length)return;if(this._pendingContentTypes.indexOf(t)>=0||this.getOrRemoveEventDispatcher(t))return;this._pendingContentTypes.push(t),this._events.set(t,e);const i=new r.b;for(const o of s)o&&o.length&&i.add({url:o,crossOrigin:\"anonymous\",loadType:r.c.LOAD_TYPE.XHR,xhrType:r.c.XHR_RESPONSE_TYPE.BUFFER});let n=s.length;const a=(s,r)=>{if(!s)return this._logger.error(\"Failed to download asset: \"+r),i.destroy(),void e.dispatchEvent(new $($.RCLE_FAILURE,t));if(n--,n);else{i.destroy();const e=this._events.get(t);if(!e)return;e.dispatchEvent(new $($.RCLE_SUCCESS,t))}};i.load(((t,e)=>{for(const s in e){const t=e[s];if(!t||t.error||!t.xhr)return void a(!1,t.url);if(\"application/octet-stream\"!==(t.xhr.getResponseHeader(\"Content-Type\")||\"application/octet-stream\"));else{const e=new J(t.data);this.processAsset(e.baseTexture,e.jsonFile,(e=>{a(e,t.url)}))}}}))}processAsset(t,e,s){const i=e.spritesheet;if(!t||!i||!Object.keys(i).length)return this.createCollection(e,null),void s(!0);const r=()=>{const r=new n.a(t,i);r.parse((()=>{this.createCollection(e,r),s(!0)}))};t.valid?r():t.once(\"update\",(()=>r()))}setAssetAliasName(t,e){this._objectAliases.set(t,e),this._objectOriginalNames.set(e,t)}getAssetAliasName(t){const e=this._objectAliases.get(t);return e||t}getAssetOriginalName(t){const e=this._objectOriginalNames.get(t);return e||t}getAssetUrls(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(t){case ot.PLACE_HOLDER:return[this.getAssetUrlWithGenericBase(ot.PLACE_HOLDER)];case ot.PLACE_HOLDER_WALL:return[this.getAssetUrlWithGenericBase(ot.PLACE_HOLDER_WALL)];case ot.PLACE_HOLDER_PET:return[this.getAssetUrlWithGenericBase(ot.PLACE_HOLDER_PET)];case ot.ROOM:return[this.getAssetUrlWithGenericBase(\"room\")];case ot.TILE_CURSOR:return[this.getAssetUrlWithGenericBase(ot.TILE_CURSOR)];case ot.SELECTION_ARROW:return[this.getAssetUrlWithGenericBase(ot.SELECTION_ARROW)];default:{const i=this.getCategoryForType(t);if(i===st.FLOOR||i===st.WALL){const i=this.getAssetAliasName(t);let r=s?this.getAssetUrlWithFurniIconBase(i):this.getAssetUrlWithFurniBase(t);if(s){const t=e&&\"\"!==e&&this._activeObjectTypeIds.has(i+\"*\"+e);r=r.replace(/%param%/gi,t?\"_\"+e:\"\")}return[r]}return i===st.UNIT?[this.getAssetUrlWithPetBase(t)]:null}}}getAssetIconUrl(t,e){let s=null,i=[];return t&&t.indexOf(\",\")>=0&&(s=t,t=s.split(\",\")[0]),i=s?this.getAssetUrls(s,e,!0):this.getAssetUrls(t,e,!0),i&&i.length?i[0]:null}getAssetUrlWithGenericBase(t){return lL.instance.getConfiguration(\"generic.asset.url\").replace(/%libname%/gi,t)}getAssetUrlWithFurniBase(t){return lL.instance.getConfiguration(\"furni.asset.url\").replace(/%libname%/gi,t)}getAssetUrlWithFurniIconBase(t){return lL.instance.getConfiguration(\"furni.asset.icon.url\").replace(/%libname%/gi,t)}getAssetUrlWithPetBase(t){return lL.instance.getConfiguration(\"pet.asset.url\").replace(/%libname%/gi,t)}setRoomObjectRoomId(t,e){const s=t&&t.model;s&&s.setValue(rt.OBJECT_ROOM_ID,e)}getOrRemoveEventDispatcher(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=this._events.get(t);return e&&this._events.delete(t),s}setIconListener(t){this._iconListener=t}}ot.PLACE_HOLDER=\"place_holder\",ot.PLACE_HOLDER_WALL=\"place_holder_wall\",ot.PLACE_HOLDER_PET=\"place_holder_pet\",ot.PLACE_HOLDER_DEFAULT=ot.PLACE_HOLDER,ot.ROOM=\"room\",ot.TILE_CURSOR=\"tile_cursor\",ot.SELECTION_ARROW=\"selection_arrow\",ot.LOADER_READY=\"RCL_LOADER_READY\",ot.MANDATORY_LIBRARIES=[ot.PLACE_HOLDER,ot.PLACE_HOLDER_WALL,ot.PLACE_HOLDER_PET,ot.ROOM,ot.TILE_CURSOR,ot.SELECTION_ARROW];class ht{constructor(){this._map=void 0,this._updateCounter=void 0,this._map=new Map,this._updateCounter=0}dispose(){this._map.clear(),this._updateCounter=0}getValue(t){return this._map.get(t)}setValue(t,e){this._map.has(t)&&this._map.get(t)===e||(this._map.set(t,e),this._updateCounter++)}removeKey(t){t&&(this._map.delete(t),this._updateCounter++)}get updateCounter(){return this._updateCounter}}class _t extends c{constructor(t,e){super(),this._id=void 0,this._container=void 0,this._renderer=void 0,this._managers=void 0,this._updateCategories=void 0,this._model=void 0,this._id=t,this._container=e,this._renderer=null,this._managers=new Map,this._updateCategories=[],this._model=new ht}onDispose(){this.removeAllManagers(),this.destroyRenderer(),this._container=null,this._model.dispose()}setRenderer(t){if(t!==this._renderer&&(this._renderer&&this.destroyRenderer(),this._renderer=t,this._renderer&&(this._renderer.reset(),this._managers.size)))for(const e of this._managers.values()){if(!e)continue;const t=e.objects;if(t.length)for(const e of t.getValues())e&&this._renderer.addObject(e)}}destroyRenderer(){this._renderer&&(this._renderer.dispose(),this._renderer=null)}getManager(t){const e=this._managers.get(t);return e||null}getManagerOrCreate(t){let e=this.getManager(t);return e||(e=this._container.createRoomObjectManager(t),e?(this._managers.set(t,e),e):null)}getTotalObjectsForManager(t){const e=this.getManager(t);return e?e.totalObjects:0}getRoomObject(t,e){const s=this.getManager(e);if(!s)return null;const i=s.getObject(t);return i||null}getRoomObjectsForCategory(t){const e=this.getManager(t);return e?e.objects.getValues():[]}getRoomObjectByIndex(t,e){const s=this.getManager(e);if(!s)return null;const i=s.getObjectByIndex(t);return i||null}createRoomObject(t,e,s,i){const r=this.getManagerOrCreate(i);if(!r)return null;const n=r.createObject(t,e,s);return n?(this._renderer&&this._renderer.addObject(n),n):null}createRoomObjectAndInitalize(t,e,s){return this._container?this._container.createRoomObjectAndInitalize(this._id,t,e,s):null}removeRoomObject(t,e){const s=this.getManager(e);if(!s)return;const i=s.getObject(t);i&&(i.tearDown(),this._renderer&&this._renderer.removeObject(i),s.removeObject(t))}removeAllManagers(){for(const t of this._managers.values())if(t){if(this._renderer){const e=t.objects;if(e.length)for(const t of e.getValues())t&&this._renderer.removeObject(t)}t.dispose()}this._managers.clear()}addUpdateCategory(t){this._updateCategories.indexOf(t)>=0||this._updateCategories.push(t)}removeUpdateCategory(t){const e=this._updateCategories.indexOf(t);-1!==e&&this._updateCategories.splice(e,1)}update(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const s of this._updateCategories){const e=this.getManager(s);if(!e)continue;const i=e.objects;if(i.length)for(const s of i.getValues()){if(!s)continue;const e=s.logic;e&&e.update(t)}}this._renderer&&this._renderer.update(t,e)}hasUninitializedObjects(){for(const t of this._managers.values())if(t)for(const e of t.objects.getValues())if(e&&!e.isReady)return!0;return!1}get id(){return this._id}get container(){return this._container}get renderer(){return this._renderer}get managers(){return this._managers}get model(){return this._model}}class dt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._x=void 0,this._y=void 0,this._z=void 0,this._length=void 0,this._x=t,this._y=e,this._z=s,this._length=NaN}static sum(t,e){return t&&e?new dt(t.x+e.x,t.y+e.y,t.z+e.z):null}static dif(t,e){return t&&e?new dt(t.x-e.x,t.y-e.y,t.z-e.z):null}static product(t,e){return t?new dt(t.x*e,t.y*e,t.z*e):null}static dotProduct(t,e){return t&&e?t.x*e.x+t.y*e.y+t.z*e.z:0}static crossProduct(t,e){return t&&e?new dt(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x):null}static scalarProjection(t,e){if(!t||!e)return-1;const s=e.length;return s>0?(t.x*e.x+t.y*e.y+t.z*e.z)/s:-1}static cosAngle(t,e){if(!t||!e)return 0;const s=t.length*e.length;return s?dt.dotProduct(t,e)/s:0}static isEqual(t,e){return!(!t||!e)&&(t.x===e.x&&t.y===e.y&&t.z===e.z)}negate(){this._x=-this._x,this._y=-this._y,this._z=-this._z}add(t){t&&(this._x+=t.x,this._y+=t.y,this._z+=t.z,this._length=NaN)}subtract(t){t&&(this._x-=t.x,this._y-=t.y,this._z-=t.z,this._length=NaN)}multiply(t){this._x*=t,this._y*=t,this._z*=t,this._length=NaN}divide(t){t&&(this._x/=t,this._y/=t,this._z/=t,this._length=NaN)}assign(t){t&&(this._x=t.x,this._y=t.y,this._z=t.z,this._length=NaN)}get x(){return this._x}set x(t){this._x=t,this._length=NaN}get y(){return this._y}set y(t){this._y=t,this._length=NaN}get z(){return this._z}set z(t){this._z=t,this._length=NaN}get length(){return isNaN(this._length)&&(this._length=Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)),this._length}toString(){return`[Vector3d: ${this._x}, ${this._y}, ${this._z}]`}}class ut extends c{constructor(t,e,s){super(),this._id=void 0,this._instanceId=void 0,this._type=void 0,this._model=void 0,this._location=void 0,this._direction=void 0,this._states=void 0,this._visualization=void 0,this._logic=void 0,this._pendingLogicMessages=void 0,this._updateCounter=void 0,this._isReady=void 0,this._id=t,this._instanceId=ut.OBJECT_COUNTER++,this._type=s,this._model=new ht,this._location=new dt,this._direction=new dt,this._states=[],this._visualization=null,this._logic=null,this._pendingLogicMessages=[],this._updateCounter=0,this._isReady=!1;let i=e-1;for(;i>=0;)this._states[i]=0,i--}onDispose(){this._pendingLogicMessages=[],this.setVisualization(null),this.setLogic(null),this._model&&this._model.dispose(),super.onDispose()}getLocation(){return this._location}setLocation(t){t&&(t.x===this._location.x&&t.y===this._location.y&&t.z===this._location.z||(this._location.x=t.x,this._location.y=t.y,this._location.z=t.z,this._updateCounter++))}getDirection(){return this._direction}setDirection(t){t&&(t.x===this._direction.x&&t.y===this._direction.y&&t.z===this._direction.z||(this._direction.x=(t.x%360+360)%360,this._direction.y=(t.y%360+360)%360,this._direction.z=(t.z%360+360)%360,this._updateCounter++))}getState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t>=0&&t<this._states.length?this._states[t]:-1}setState(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>=0&&e<this._states.length&&(this._states[e]!==t&&(this._states[e]=t,this._updateCounter++),!0)}setVisualization(t){this._visualization!==t&&(this._visualization&&this._visualization.dispose(),this._visualization=t,this._visualization&&(this._visualization.object=this))}setLogic(t){if(this._logic===t)return;const e=this._logic;if(e&&(this._logic=null,e.setObject(null)),this._logic=t,this._logic)for(this._logic.setObject(this);this._pendingLogicMessages.length;){const t=this._pendingLogicMessages.shift();this._logic.processUpdateMessage(t)}}processUpdateMessage(t){if(this._logic)return this._logic.processUpdateMessage(t);this._pendingLogicMessages.push(t)}tearDown(){this._logic&&this._logic.tearDown()}get id(){return this._id}get instanceId(){return this._instanceId}get type(){return this._type}get model(){return this._model}get visualization(){return this._visualization}get mouseHandler(){return this._logic}get logic(){return this._logic}get location(){return this._location}get direction(){return this._direction}get updateCounter(){return this._updateCounter}set updateCounter(t){this._updateCounter=t}get isReady(){return this._isReady}set isReady(t){this._isReady=t}}ut.OBJECT_COUNTER=0;class ct{constructor(){this._objects=void 0,this._objectsPerType=void 0,this._objects=new U,this._objectsPerType=new U}dispose(){this.removeAllObjects()}getObject(t){const e=this._objects.getValue(t);return e||null}getObjectByIndex(t){const e=this._objects.getWithIndex(t);return e||null}createObject(t,e,s){const i=new ut(t,e,s);return this.addObject(t,s,i)}addObject(t,e,s){if(this._objects.getValue(t))return s.dispose(),null;this._objects.add(t,s);const i=this.getTypeMap(e);return i&&i.add(t,s),s}removeObject(t){const e=this._objects.remove(t);if(e){const t=this.getTypeMap(e.type);t&&t.remove(e.id),e.dispose()}}removeAllObjects(){let t=0;for(;t<this._objects.length;){const e=this._objects.getWithIndex(t);e&&e.dispose(),t++}for(this._objects.reset(),t=0;t<this._objectsPerType.length;){const e=this._objectsPerType.getWithIndex(t);e&&e.dispose(),t++}this._objectsPerType.reset()}getTypeMap(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this._objectsPerType.getValue(t);return!s&&e&&(s=new U,this._objectsPerType.add(t,s)),s}get objects(){return this._objects}get totalObjects(){return this._objects.length}}class lt extends y{constructor(t,e,s){super(),this._state=void 0,this._rooms=void 0,this._contentLoader=void 0,this._updateCategories=void 0,this._listener=void 0,this._visualizationFactory=void 0,this._logicFactory=void 0,this._initialLoadList=void 0,this._pendingContentTypes=void 0,this._skipContentProcessing=void 0,this._disposed=void 0,this._state=lt.ROOM_MANAGER_LOADED,this._rooms=new Map,this._contentLoader=null,this._updateCategories=[],this._listener=t,this._visualizationFactory=e,this._logicFactory=s,this._initialLoadList=[],this._pendingContentTypes=[],this._skipContentProcessing=!1,this._disposed=!1,this.onRoomContentLoadedEvent=this.onRoomContentLoadedEvent.bind(this),this.events.addEventListener($.RCLE_SUCCESS,this.onRoomContentLoadedEvent),this.events.addEventListener($.RCLE_FAILURE,this.onRoomContentLoadedEvent),this.events.addEventListener($.RCLE_CANCEL,this.onRoomContentLoadedEvent)}onInit(){if(this._state>=lt.ROOM_MANAGER_INITIALIZING||!this._contentLoader)return;const t=ot.MANDATORY_LIBRARIES;for(const e of t)e&&-1===this._initialLoadList.indexOf(e)&&(this._contentLoader.downloadAsset(e,this.events),this._initialLoadList.push(e));this._state=lt.ROOM_MANAGER_INITIALIZING}getRoomInstance(t){const e=this._rooms.get(t);return e||null}createRoomInstance(t){if(this._rooms.get(t))return null;const e=new _t(t,this);if(this._rooms.set(e.id,e),this._updateCategories.length)for(const s of this._updateCategories)e.addUpdateCategory(s);return e}removeRoomInstance(t){const e=this._rooms.get(t);return!!e&&(this._rooms.delete(t),e.dispose(),!0)}createRoomObjectAndInitalize(t,e,s,i){const r=this.getRoomInstance(t);if(!r)return null;let n=s,a=s,o=s,h=null,_=!1;if(this._contentLoader.isLoaderType(s)){if(h=this._contentLoader.getCollection(s),!h&&(_=!0,this._contentLoader.downloadAsset(s,this.events),o=this._contentLoader.getPlaceholderName(s),h=this._contentLoader.getCollection(o),!h))return null;n=h.data.visualizationType,a=h.data.logicType}const d=r.createRoomObject(e,1,s,i);if(!d)return null;if(this._visualizationFactory){const t=this._visualizationFactory.getVisualization(n);if(!t)return r.removeRoomObject(e,i),null;t.asset=h;const s=this._visualizationFactory.getVisualizationData(o,n,h&&h.data||null);if(!s||!t.initialize(s))return r.removeRoomObject(e,i),null;d.setVisualization(t)}if(this._logicFactory){const t=this._logicFactory.getLogic(a);d.setLogic(t),t&&t.initialize(h&&h.data||null)}return _||(d.isReady=!0),this._contentLoader.setRoomObjectRoomId(d,t),d}reinitializeRoomObjectsByType(t){if(!t||!this._contentLoader||!this._visualizationFactory||!this._logicFactory)return;const e=this._contentLoader.getCollection(t);if(!e)return;const s=e.data.visualizationType,i=e.data.logicType,r=this._visualizationFactory.getVisualizationData(t,s,e.data);for(const n of this._rooms.values())if(n)for(const[a,o]of n.managers.entries())if(o)for(const h of o.objects.getValues()){if(!h||h.type!==t)continue;const _=this._visualizationFactory.getVisualization(s);if(_)if(_.asset=e,r&&_.initialize(r)){h.setVisualization(_);const t=this._logicFactory.getLogic(i);h.setLogic(t),t&&t.initialize(e.data),h.isReady=!0,this._listener&&this._listener.objectInitialized(n.id,h.id,a)}else o.removeObject(h.id);else o.removeObject(h.id)}}addUpdateCategory(t){if(!(this._updateCategories.indexOf(t)>=0)&&(this._updateCategories.push(t),this._rooms.size))for(const e of this._rooms.values())e&&e.addUpdateCategory(t)}removeUpdateCategory(t){const e=this._updateCategories.indexOf(t);if(-1!==e&&(this._updateCategories.splice(e,1),this._rooms.size))for(const s of this._rooms.values())s&&s.removeUpdateCategory(t)}setContentLoader(t){this._contentLoader&&this._contentLoader.dispose(),this._contentLoader=t}processPendingContentTypes(t){if(this._skipContentProcessing)this._skipContentProcessing=!1;else for(;this._pendingContentTypes.length;){const t=this._pendingContentTypes.shift();this._contentLoader.getCollection(t)?(this.reinitializeRoomObjectsByType(t),this._listener&&this._listener.initalizeTemporaryObjectsByType(t,!0),this._initialLoadList.length>0&&this.removeFromInitialLoad(t)):(this._listener&&this._listener.initalizeTemporaryObjectsByType(t,!1),this.logger.log(`Invalid Collection: ${t}`))}}removeFromInitialLoad(t){if(t&&this._state!==lt.ROOM_MANAGER_ERROR)if(this._contentLoader||(this._state=lt.ROOM_MANAGER_ERROR),this._contentLoader.getCollection(t)){const e=this._initialLoadList.indexOf(t);e>=0&&this._initialLoadList.splice(e,1),this._initialLoadList.length||(this._state=lt.ROOM_MANAGER_INITIALIZED,this._listener&&this._listener.onRoomEngineInitalized(!0))}else this._state=lt.ROOM_MANAGER_ERROR,this._listener&&this._listener.onRoomEngineInitalized(!1)}onRoomContentLoadedEvent(t){if(!this._contentLoader)return;const e=t.contentType;this._pendingContentTypes.indexOf(e)>=0||this._pendingContentTypes.push(e)}update(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.processPendingContentTypes(t),this._rooms.size)for(const s of this._rooms.values())s&&s.update(t,e)}createRoomObjectManager(t){return new ct}get rooms(){return this._rooms}get disposed(){return this._disposed}}lt.ROOM_MANAGER_ERROR=-1,lt.ROOM_MANAGER_LOADING=0,lt.ROOM_MANAGER_LOADED=1,lt.ROOM_MANAGER_INITIALIZING=2,lt.ROOM_MANAGER_INITIALIZED=3,lt.CONTENT_PROCESSING_TIME_LIMIT_MILLISECONDS=40;class gt{constructor(){this._data=void 0,this._colors=void 0,this._gender=\"M\",this._isDisposed=void 0,this._avatarEffectType=-1}loadAvatarData(t,e){this._data=new Map,this._colors=new Map,this._gender=e,this.parseFigureString(t)}dispose(){this._data=null,this._colors=null,this._isDisposed=!0}get disposed(){return this._isDisposed}parseFigureString(t){if(t)for(const e of t.split(\".\")){const t=e.split(\"-\");if(t.length>0){const e=t[0],s=parseInt(t[1]),i=[];let r=2;for(;r<t.length;)i.push(parseInt(t[r])),r++;i.length||i.push(0),this.savePartSetId(e,s,!1),this.savePartSetColourId(e,i,!1)}}}hasSetType(t){return!!this._data.get(t)}getPartSetId(t){return this.hasSetType(t)?this._data.get(t):-1}getColourIds(t){return this._colors.get(t)?this._colors.get(t):[]}getFigureString(){let t=\"\";const e=[];for(const[i,r]of this._data.entries()){let t=i+\"-\"+r;const s=this._colors.get(i);if(s)for(const e of s)t=t+\"-\"+e;e.push(t)}let s=0;for(;s<e.length;)t+=e[s],s<e.length-1&&(t+=\".\"),s++;return t}savePartData(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.savePartSetId(t,e,i),this.savePartSetColourId(t,s,i)}savePartSetId(t,e){switch(t){case gt.HD:case gt.HAIR:case gt.HAT:case gt.HEAD_ACCESSORIES:case gt.EYE_ACCESSORIES:case gt.FACE_ACCESSORIES:case gt.SHIRT:case gt.JACKET:case gt.CHEST_ACCESSORIES:case gt.CHEST_PRINTS:case gt.TROUSERS:case gt.SHOES:case gt.TROUSER_ACCESSORIES:e>=0?this._data.set(t,e):this._data.delete(t)}}savePartSetColourId(t,e){switch(t){case gt.HD:case gt.HAIR:case gt.HAT:case gt.HEAD_ACCESSORIES:case gt.EYE_ACCESSORIES:case gt.FACE_ACCESSORIES:case gt.SHIRT:case gt.JACKET:case gt.CHEST_ACCESSORIES:case gt.CHEST_PRINTS:case gt.TROUSERS:case gt.SHOES:case gt.TROUSER_ACCESSORIES:return void this._colors.set(t,e)}}getFigureStringWithFace(t){const e=[gt.HD];let s=\"\";const i=[];for(const n of e){const e=this._colors.get(n);if(e){let s=this._data.get(n);n===gt.HD&&(s=t);let r=n+\"-\"+s;if(s>=0){let t=0;for(;t<e.length;)r=r+\"-\"+e[t],t++}i.push(r)}}let r=0;for(;r<i.length;)s+=i[r],r<i.length-1&&(s+=\".\"),r++;return s}get gender(){return this._gender}}gt.MALE=\"M\",gt.FEMALE=\"F\",gt.UNISEX=\"U\",gt.SCALE=\"h\",gt.STD=\"std\",gt.DEFAULT_FRAME=\"0\",gt.HD=\"hd\",gt.HAIR=\"hr\",gt.HAT=\"ha\",gt.HEAD_ACCESSORIES=\"he\",gt.EYE_ACCESSORIES=\"ea\",gt.FACE_ACCESSORIES=\"fa\",gt.JACKET=\"cc\",gt.SHIRT=\"ch\",gt.CHEST_ACCESSORIES=\"ca\",gt.CHEST_PRINTS=\"cp\",gt.TROUSERS=\"lg\",gt.SHOES=\"sh\",gt.TROUSER_ACCESSORIES=\"wa\",gt.BLOCKED_FX_TYPES=[28,29,30,33,34,35,36,37,38,39,40,41,42,43,68];class Et{constructor(t,e){this._name=void 0,this._link=void 0,this._flipH=void 0,this._flipV=void 0,this._name=t,this._link=e.link,this._flipH=e.flipH,this._flipV=e.flipV}get name(){return this._name}get link(){return this._link}get flipH(){return this._flipH}get flipV(){return this._flipV}}class pt{constructor(t,e){this._assets=void 0,this._aliases=void 0,this._avatarRenderManager=void 0,this._missingAssetNames=void 0,this._avatarRenderManager=t,this._aliases=new Map,this._assets=e,this._missingAssetNames=[]}dispose(){this._assets=null,this._aliases=null}reset(){this.init()}init(){for(const t of this._assets.collections.values()){if(!t)continue;const e=t.data&&t.data.aliases;if(e)for(const t in e){const s=e[t];s&&this._aliases.set(t,new Et(t,s))}}}hasAlias(t){return!!this._aliases.get(t)}getAssetName(t){let e=t,s=5;for(;this.hasAlias(e)&&s>=0;){e=this._aliases.get(e).link,s--}return e}getAsset(t){if(!this._assets)return null;t=this.getAssetName(t);const e=this._assets.getAsset(t);return e||null}}class mt extends d.a{constructor(t,e){super(t),this._library=void 0,this._library=e}get library(){return this._library}}mt.DOWNLOAD_COMPLETE=\"ARLE_DOWNLOAD_COMPLETE\";class It extends g{constructor(t,e,s,i){super(),this._state=void 0,this._libraryName=void 0,this._revision=void 0,this._downloadUrl=void 0,this._assets=void 0,this._state=It.NOT_LOADED,this._libraryName=t,this._revision=e,this._downloadUrl=i,this._assets=s,this._downloadUrl=this._downloadUrl.replace(/%libname%/gi,this._libraryName),this._downloadUrl=this._downloadUrl.replace(/%revision%/gi,this._revision);this._assets.getCollection(this._libraryName)&&(this._state=It.LOADED)}downloadAsset(){if(!this._assets||this._state===It.LOADING||this._state===It.LOADED)return;if(this._assets.getCollection(this._libraryName))return this._state=It.LOADED,void this.dispatchEvent(new mt(mt.DOWNLOAD_COMPLETE,this));this._state=It.LOADING,this._assets.downloadAsset(this._downloadUrl,(t=>{t&&(this._state=It.LOADED,this.dispatchEvent(new mt(mt.DOWNLOAD_COMPLETE,this)))}))}get libraryName(){return this._libraryName}get isLoaded(){return this._state===It.LOADED}}It.DOWNLOAD_COMPLETE=\"AADL_DOWNLOAD_COMPLETE\",It.NOT_LOADED=0,It.LOADING=1,It.LOADED=2;class ft{}ft.AVATAR_RENDER_READY=\"AVATAR_RENDER_READY\";class Tt extends g{constructor(t,e){super(),this._assets=void 0,this._structure=void 0,this._missingMandatoryLibs=void 0,this._figureMap=void 0,this._pendingContainers=void 0,this._figureListeners=void 0,this._incompleteFigures=void 0,this._pendingDownloadQueue=void 0,this._currentDownloads=void 0,this._libraryNames=void 0,this._isReady=void 0,this._assets=t,this._structure=e,this._missingMandatoryLibs=lL.instance.getConfiguration(\"avatar.mandatory.libraries\"),this._figureMap=new Map,this._pendingContainers=[],this._figureListeners=new Map,this._incompleteFigures=new Map,this._pendingDownloadQueue=[],this._currentDownloads=[],this._libraryNames=[],this._isReady=!1,this.onLibraryLoaded=this.onLibraryLoaded.bind(this),this.onAvatarRenderReady=this.onAvatarRenderReady.bind(this),this.loadFigureMap(),this._structure.renderManager.events.addEventListener(ft.AVATAR_RENDER_READY,this.onAvatarRenderReady)}loadFigureMap(){const t=new XMLHttpRequest;try{t.open(\"GET\",lL.instance.getConfiguration(\"avatar.figuremap.url\")),t.send(),t.onloadend=e=>{if(t.responseText){const e=JSON.parse(t.responseText);this.processFigureMap(e.libraries),this.processMissingLibraries(),this._isReady=!0,this.dispatchEvent(new d.a(Tt.DOWNLOADER_READY))}},t.onerror=t=>{throw new Error(\"invalid_avatar_figure_map\")}}catch(e){l.log(e)}}processFigureMap(t){if(t)for(const e of t){if(!e)continue;const t=e.id,s=e.revision||\"\";if(this._libraryNames.indexOf(t)>=0)continue;this._libraryNames.push(t);const i=new It(t,s,this._assets,lL.instance.getConfiguration(\"avatar.asset.url\"));i.addEventListener(mt.DOWNLOAD_COMPLETE,this.onLibraryLoaded);for(const r of e.parts){const t=r.id,e=r.type+\":\"+t;let s=this._figureMap.get(e);s||(s=[]),s.push(i),this._figureMap.set(e,s)}}}onAvatarRenderReady(t){if(t){for(const[t,e]of this._pendingContainers)this.downloadAvatarFigure(t,e);this._pendingContainers=[]}}onLibraryLoaded(t){if(!t||!t.library)return;const e=[];for(const[i,r]of this._incompleteFigures.entries()){let t=!0;for(const e of r)if(e&&!e.isLoaded){t=!1;break}if(t){e.push(i);const t=this._figureListeners.get(i);if(t)for(const e of t)e&&!e.disposed&&e.resetFigure(i);this._figureListeners.delete(i),this.dispatchEvent(new d.a(Tt.LIBRARY_LOADED))}}for(const i of e)i&&this._incompleteFigures.delete(i);let s=0;for(;s<this._currentDownloads.length;){const e=this._currentDownloads[s];e&&e.libraryName===t.library.libraryName&&this._currentDownloads.splice(s,1),s++}}processMissingLibraries(){const t=this._missingMandatoryLibs.slice();for(const e of t){if(!e)continue;const t=this._figureMap.get(e);if(t)for(const e of t)e&&this.downloadLibrary(e)}}isAvatarFigureContainerReady(t){if(!this._isReady||!this._structure.renderManager.isReady)return!1;return!this.getAvatarFigurePendingLibraries(t).length}getAvatarFigurePendingLibraries(t){const e=[];if(!t||!this._structure)return e;const s=this._structure.figureData;if(!s)return e;const i=t.getPartTypeIds();for(const r of i){const i=s.getSetType(r);if(!i)continue;const n=i.getPartSet(t.getPartSetId(r));if(n)for(const t of n.parts){if(!t)continue;const s=t.type+\":\"+t.id,i=this._figureMap.get(s);if(void 0!==i)for(const t of i)t&&!t.isLoaded&&(e.indexOf(t)>=0||e.push(t))}}return e}downloadAvatarFigure(t,e){if(!this._isReady||!this._structure.renderManager.isReady)return void this._pendingContainers.push([t,e]);const s=t.getFigureString(),i=this.getAvatarFigurePendingLibraries(t);if(i&&i.length){if(e&&!e.disposed){let t=this._figureListeners.get(s);t||(t=[],this._figureListeners.set(s,t)),t.push(e)}this._incompleteFigures.set(s,i);for(const t of i)t&&this.downloadLibrary(t)}else e&&!e.disposed&&e.resetFigure(s)}downloadLibrary(t){t&&!t.isLoaded&&(this._pendingDownloadQueue.indexOf(t)>=0||this._currentDownloads.indexOf(t)>=0||(this._pendingDownloadQueue.push(t),this.processDownloadQueue()))}processDownloadQueue(){for(;this._pendingDownloadQueue.length;){this._pendingDownloadQueue[0].downloadAsset(),this._currentDownloads.push(this._pendingDownloadQueue.shift())}}}Tt.DOWNLOADER_READY=\"AADM_DOWNLOADER_READY\",Tt.LIBRARY_LOADED=\"AADM_LIBRARY_LOADED\",Tt.MAX_DOWNLOADS=2;class Rt{constructor(t){this._parts=void 0,this._parts=new Map,this.parseFigure(t)}getPartTypeIds(){return this.partSets().keys()}hasPartType(t){return!!this.partSets().get(t)}getPartSetId(t){const e=this.partSets().get(t);return e?e.get(\"setid\"):0}getPartColorIds(t){const e=this.partSets().get(t);return e?e.get(\"colorids\"):null}updatePart(t,e,s){const i=new Map;i.set(\"type\",t),i.set(\"setid\",e),i.set(\"colorids\",s);const r=this.partSets();r.delete(t),r.set(t,i)}removePart(t){this.partSets().delete(t)}getFigureString(){const t=[];for(const e of this.partSets().keys()){if(!e)continue;let s=[];s.push(e),s.push(this.getPartSetId(e)),s=s.concat(this.getPartColorIds(e)),t.push(s.join(\"-\"))}return t.join(\".\")}partSets(){return this._parts||(this._parts=new Map),this._parts}parseFigure(t){t||(t=\"\");for(const e of t.split(\".\")){const t=e.split(\"-\");if(t.length>=2){const e=t[0],s=parseInt(t[1]),i=[];let r=2;for(;r<t.length;)i.push(parseInt(t[r])),r++;this.updatePart(e,s,i)}}}}var vt=s(53);class Ot extends V{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot.CHANNEL_RED;super(\"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nuniform mat3 projectionMatrix;\\nvarying vec2 vTextureCoord;\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform sampler2D lut;\\nuniform int channel;\\n\\nvoid main(void) {\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\n    vec4 adjusted = currentColor;\\n\\n    if(currentColor.a > 0.0)\\n    {\\n        if(channel == 0)\\n        {\\n            adjusted = texture2D(lut, vec2((currentColor.r * 255.0 + 0.5) / 256.0, 0.5));\\n        } else if(channel == 1) {\\n            adjusted = texture2D(lut, vec2((currentColor.g * 255.0 + 0.5) / 256.0, 0.5));\\n        } else if(channel == 2) {\\n            adjusted = texture2D(lut, vec2((currentColor.b * 255.0 + 0.5) / 256.0, 0.5));\\n        } else if(channel == 3) {\\n            adjusted = texture2D(lut, vec2((currentColor.a * 255.0 + 0.5) / 256.0, 0.5));\\n        }\\n    }\\n\\n    gl_FragColor = vec4(adjusted.r, adjusted.g, adjusted.b, currentColor.a);\\n}\"),this._lut=void 0,this._channel=void 0,this._channel=e;let s=[];s=this.getLutForPalette(t),this._lut=B.fromBuffer(Uint8Array.from(s),s.length/4,1,{mipmap:0,scaleMode:0}),this.uniforms.lut=this._lut,this.uniforms.channel=this._channel}getLutForPalette(t){const e=[];for(let s=0;s<t.length;s++)e[4*s+Ot.CHANNEL_RED]=t[s]>>16&255,e[4*s+Ot.CHANNEL_GREEN]=t[s]>>8&255,e[4*s+Ot.CHANNEL_BLUE]=255&t[s],e[4*s+Ot.CHANNEL_ALPHA]=t[s]>>24&255;return e}get lut(){return this._lut}get channel(){return this._channel}}Ot.CHANNEL_RED=0,Ot.CHANNEL_GREEN=1,Ot.CHANNEL_BLUE=2,Ot.CHANNEL_ALPHA=3;class At{static generateTexture(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.p.NEAREST,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return t?this.getRenderer().generateTexture(t,{scaleMode:s,resolution:i,region:e}):null}static generateTextureFromImage(t){return t?i.t.from(t):null}static generateImage(t){return t?this.getExtractor().image(t):null}static generateImageUrl(t){return t?this.getExtractor().base64(t):null}static generateCanvas(t){return t?this.getExtractor().canvas(t):null}static getRenderer(){return lL.instance.renderer}static getExtractor(){return this.getRenderer().plugins.extract}}class St{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._actionType=void 0,this._actionParameter=void 0,this._definition=void 0,this._startFrame=void 0,this._overridingAction=void 0,this._actionType=t||\"\",this._actionParameter=e||\"\",this._definition=null,this._startFrame=s||0,this._overridingAction=null}dispose(){this._actionType=null,this._actionParameter=null,this._definition=null}get id(){return this._definition?this._definition.id+\"_\"+this._actionParameter:\"\"}get actionType(){return this._actionType}get actionParameter(){return this._actionParameter}set actionParameter(t){this._actionParameter=t}get definition(){return this._definition}set definition(t){this._definition=t}get startFrame(){return this._startFrame}get overridingAction(){return this._overridingAction}set overridingAction(t){this._overridingAction=t}}class Nt{constructor(){this.objectId=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.name=void 0,this.blendMode=void 0,this.flipH=void 0,this.skew=void 0,this.frame=void 0,this.color=void 0,this.alpha=void 0,this.width=void 0,this.height=void 0,this.type=void 0,this.posture=void 0}}class yt{constructor(t,e,s){if(this._id=void 0,this._action=void 0,this._animationFrame=void 0,this._dx=void 0,this._dy=void 0,this._dz=void 0,this._directionOffset=void 0,this._type=void 0,this._base=void 0,this._items=void 0,this._id=t.id,this._animationFrame=t.frame||0,this._dx=t.dx||0,this._dy=t.dy||0,this._dz=t.dz||0,this._directionOffset=t.dd||0,this._type=e,this._base=t.base||\"\",this._items=new Map,t.items)for(const r of t.items)this._items.set(r.id,r.base);let i=\"\";\"\"!==this._base&&this.baseAsInt().toString(),s&&(this._action=new St(s.state,this.base),this._action.definition=s)}get items(){return this._items}baseAsInt(){let t=0,e=0;for(;e<this._base.length;)t+=this._base.charCodeAt(e),e++;return t}get id(){return this._id}get animationFrame(){return this._animationFrame}get dx(){return this._dx}get dy(){return this._dy}get dz(){return this._dz}get dd(){return this._directionOffset}get type(){return this._type}get base(){return this._base}get action(){return this._action}}yt.BODYPART=\"bodypart\",yt.FX=\"fx\";class Dt{constructor(t,e,s){this._image=void 0,this._regPoint=void 0,this._offset=void 0,this._isCacheable=void 0,this._image=t,this._regPoint=e,this._offset=new j.g(0,0),this._regPoint=e,this._isCacheable=s,this.cleanPoints()}dispose(){this._image&&this._image.destroy({children:!0}),this._image=null,this._regPoint=null,this._offset=null}cleanPoints(){}setRegPoint(t){this._regPoint=t,this.cleanPoints()}get image(){return this._image}set image(t){this._image&&this._image!==t&&this._image.destroy({children:!0}),this._image=t}get regPoint(){const t=this._regPoint.clone();return t.x+=this._offset.x,t.y+=this._offset.y,t}set offset(t){this._offset=t,this.cleanPoints()}get isCacheable(){return this._isCacheable}}class Mt{}Mt.DIRECTION_TO_ANGLE=[45,90,135,180,225,270,315,0],Mt.DIRECTION_IS_FLIPPED=[!1,!1,!1,!1,!0,!0,!0,!1],Mt.MIN_DIRECTION=0,Mt.MAX_DIRECTION=7;class Ct{}Ct.BODY=\"bd\",Ct.SHOES=\"sh\",Ct.LEGS=\"lg\",Ct.CHEST=\"ch\",Ct.WAIST_ACCESSORY=\"wa\",Ct.CHEST_ACCESSORY=\"ca\",Ct.HEAD=\"hd\",Ct.HAIR=\"hr\",Ct.FACE_ACCESSORY=\"fa\",Ct.EYE_ACCESSORY=\"ea\",Ct.HEAD_ACCESSORY=\"ha\",Ct.HEAD_ACCESSORY_EXTRA=\"he\",Ct.COAT_CHEST=\"cc\",Ct.CHEST_PRINT=\"cp\",Ct.LEFT_HAND_ITEM=\"li\",Ct.LEFT_HAND=\"lh\",Ct.LEFT_SLEEVE=\"ls\",Ct.RIGHT_HAND=\"rh\",Ct.RIGHT_SLEEVE=\"rs\",Ct.FACE=\"fc\",Ct.EYES=\"ey\",Ct.HAIR_BIG=\"hrb\",Ct.RIGHT_HAND_ITEM=\"ri\",Ct.LEFT_COAT_SLEEVE=\"lc\",Ct.RIGHT_COAT_SLEEVE=\"rc\",Ct.FIGURE_SETS=[Ct.SHOES,Ct.LEGS,Ct.CHEST,Ct.WAIST_ACCESSORY,Ct.CHEST_ACCESSORY,Ct.HEAD,Ct.HAIR,Ct.FACE_ACCESSORY,Ct.EYE_ACCESSORY,Ct.HEAD_ACCESSORY,Ct.HEAD_ACCESSORY_EXTRA,Ct.COAT_CHEST,Ct.CHEST_PRINT];class Lt{}Lt.LARGE=\"h\",Lt.SMALL=\"sh\";class Ut{}Ut.VERTICAL=\"vertical\",Ut.SITTING=\"sitting\",Ut.HORIZONTAL=\"horizontal\",Ut.SWIM=\"swim\",Ut.SNOWWARS_HORIZONTAL=\"swhorizontal\";class Pt{constructor(){this._cache=void 0,this._lastAccessTime=void 0,this._cache=new Map,this.setLastAccessTime(lL.instance.time)}dispose(){if(this.debugInfo(\"[dispose]\"),this._cache){for(const t of this._cache.values())t&&t.dispose();this._cache.clear()}}getDirectionCache(t){const e=this._cache.get(t.toString());return e||null}updateDirectionCache(t,e){this._cache.set(t.toString(),e)}setLastAccessTime(t){this._lastAccessTime=t}getLastAccessTime(){return this._lastAccessTime}debugInfo(t){}}class bt{constructor(){this._cache=void 0,this._currentAction=void 0,this._currentDirection=void 0,this._disposed=void 0,this._cache=new Map}setAction(t,e){this._currentAction||(this._currentAction=t);const s=this.getActionCache(this._currentAction);s&&s.setLastAccessTime(e),this._currentAction=t}dispose(){if(!this._disposed){if(!this._cache)return;this.disposeActions(0,2147483647),this._cache.clear(),this._cache=null,this._disposed=!0}}disposeActions(t,e){if(this._cache&&!this._disposed)for(const[s,i]of this._cache.entries()){if(!i)continue;e-i.getLastAccessTime()>=t&&(i.dispose(),this._cache.delete(s))}}getAction(){return this._currentAction}setDirection(t){this._currentDirection=t}getDirection(){return this._currentDirection}getActionCache(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._currentAction?(t||(t=this._currentAction),t.overridingAction?this._cache.get(t.overridingAction):this._cache.get(t.id)):null}updateActionCache(t,e){t.overridingAction?this._cache.set(t.overridingAction,e):this._cache.set(t.id,e)}debugInfo(t){}}class wt{constructor(t){this._partList=void 0,this._images=void 0,this._partList=t,this._images=new Map}dispose(){for(const t of this._images.values())t&&t.dispose();this._images=null}getPartList(){return this._partList}getImageContainer(t){const e=this._images.get(this.getCacheKey(t));return e||null}updateImageContainer(t,e){const s=this.getCacheKey(e),i=this._images.get(s);i&&i.dispose(),this._images.set(s,t)}getCacheKey(t){let e=\"\";for(const s of this._partList)e+=s.getCacheableKey(t)+\"/\";return e}debugInfo(t){}}class Ft{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this._texture=void 0,this._container=void 0,this._rect=void 0,this._regPoint=void 0,this._flipH=void 0,this._colorTransform=void 0,this._texture=t,this._container=n,this._rect=e,this._regPoint=s,this._flipH=i,this._colorTransform=r,i&&(this._regPoint.x=-this._regPoint.x+e.width)}dispose(){this._texture=null,this._regPoint=null,this._colorTransform=null}get texture(){return this._texture}get container(){return this._container}get rect(){return this._rect}get regPoint(){return this._regPoint}get flipH(){return this._flipH}get colorTransform(){return this._colorTransform}get offsetRect(){return new j.j(-this._regPoint.x,-this._regPoint.y,this._rect.width,this._rect.height)}}class xt{constructor(t,e,s,i){this._structure=void 0,this._avatar=void 0,this._assets=void 0,this._scale=void 0,this._cache=void 0,this._canvas=void 0,this._disposed=void 0,this._geometryType=void 0,this._unionImages=void 0,this._matrix=void 0,this._serverRenderData=void 0,this._structure=t,this._avatar=e,this._assets=s,this._scale=i,this._cache=new Map,this._canvas=null,this._disposed=!1,this._unionImages=[],this._matrix=new j.d,this._serverRenderData=[]}dispose(){if(!this._disposed){if(this._structure=null,this._avatar=null,this._assets=null,this._canvas=null,this._disposed=!0,this._cache){for(const t of this._cache.values())t&&t.dispose();this._cache=null}if(this._unionImages){for(const t of this._unionImages)t&&t.dispose();this._unionImages=[]}}}disposeInactiveActions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4;const e=lL.instance.time;if(this._cache)for(const s of this._cache.values())s&&s.disposeActions(t,e)}resetBodyPartCache(t){if(this._cache)for(const e of this._cache.values())e&&e.setAction(t,0)}setDirection(t,e){const s=this._structure.getBodyPartsUnordered(t);if(s)for(const i of s){const t=this.getBodyPartCache(i);t&&t.setDirection(e)}}setAction(t,e){const s=this._structure.getActiveBodyPartIds(t,this._avatar);for(const i of s){const s=this.getBodyPartCache(i);s&&s.setAction(t,e)}}setGeometryType(t){if(this._geometryType!==t){if(this._geometryType===Ut.SITTING&&t===Ut.VERTICAL||this._geometryType===Ut.VERTICAL&&t===Ut.SITTING||this._geometryType===Ut.SNOWWARS_HORIZONTAL&&(t=Ut.SNOWWARS_HORIZONTAL))return this._geometryType=t,void(this._canvas=null);this.disposeInactiveActions(0),this._geometryType=t,this._canvas=null}}getImageContainer(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getBodyPartCache(t);i||(i=new bt,this._cache.set(t,i));let r=i.getDirection(),n=i.getAction(),a=e;n.definition.startFromFrameZero&&(a-=n.startFrame);let o=n,h=[],_=new Map;const d=new j.g;if(n&&n.definition&&n.definition.isAnimation){let s=r;const i=this._structure.getAnimation(n.definition.state+\".\"+n.actionParameter),u=e-n.startFrame;if(i){const e=i.getLayerData(u,t,n.overridingAction);e&&(s=r+e.dd,e.dd<0?s<0?s=8+s:s>7&&(s=8-s):s<0?s+=8:s>7&&(s-=8),this._scale===Lt.LARGE?(d.x=e.dx,d.y=e.dy):(d.x=e.dx/2,d.y=e.dy/2),a=e.animationFrame,e.action&&(n=e.action),e.type===yt.BODYPART?(null!=e.action&&(o=e.action),r=s):e.type===yt.FX&&(r=s),_=e.items),h=i.removeData}}let u=i.getActionCache(o);u&&!s||(u=new Pt,i.updateActionCache(o,u));let c=u.getDirectionCache(r);if(!c||s){const e=this._structure.getParts(t,this._avatar.getFigure(),o,this._geometryType,r,h,this._avatar,_);c=new wt(e),u.updateDirectionCache(r,c)}let l=c.getImageContainer(a);if(!l||s){const t=c.getPartList();if(l=this.renderBodyPart(r,t,a,n,s),!l||s)return null;l.isCacheable&&c.updateImageContainer(l,a)}const g=this._structure.getFrameBodyPartOffset(o,r,a,t);return d.x+=g.x,d.y+=g.y,l.offset=d,l}getServerRenderData(){return this._serverRenderData=[],this._serverRenderData}getBodyPartCache(t){let e=this._cache.get(t);return e||(e=new bt,this._cache.set(t,e)),e}renderBodyPart(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!e||!e.length)return null;if(!this._canvas&&(this._canvas=this._structure.getCanvas(this._scale,this._geometryType),!this._canvas))return null;const n=Mt.DIRECTION_IS_FLIPPED[t]||!1;let a=i.definition.assetPartDefinition,o=!0,h=e.length-1;for(;h>=0;){const i=e[h];let _=16777215;if((7!=t||\"fc\"!==i.partType&&\"ey\"!==i.partType)&&(\"ri\"!==i.partType||i.partId)){const e=i.partId,h=i.getFrameDefinition(s);let d=i.partType,u=0;h?(u=h.number,h.assetPartDefinition&&\"\"!==h.assetPartDefinition&&(a=h.assetPartDefinition)):u=i.getFrameIndex(s);let c=t,l=!1;n&&(\"wav\"===a&&(d===Ct.LEFT_HAND||d===Ct.LEFT_SLEEVE||d===Ct.LEFT_COAT_SLEEVE)||\"drk\"===a&&(d===Ct.RIGHT_HAND||d===Ct.RIGHT_SLEEVE||d===Ct.RIGHT_COAT_SLEEVE)||\"blw\"===a&&d===Ct.RIGHT_HAND||\"sig\"===a&&d===Ct.LEFT_HAND||\"respect\"===a&&d===Ct.LEFT_HAND||d===Ct.RIGHT_HAND_ITEM||d===Ct.LEFT_HAND_ITEM||d===Ct.CHEST_PRINT?l=!0:(4===t?c=2:5===t?c=1:6===t&&(c=0),i.flippedPartType!==d&&(d=i.flippedPartType)));let g=this._scale+\"_\"+a+\"_\"+d+\"_\"+e+\"_\"+c+\"_\"+u,E=this._assets.getAsset(g);if(E||(g=this._scale+\"_std_\"+d+\"_\"+e+\"_\"+c+\"_0\",E=this._assets.getAsset(g)),E){const t=E.texture;if(t&&t.valid&&t.baseTexture){i.isColorable&&i.color&&(_=i.color.rgb);const e=new j.g(-E.x,-E.y);if(l&&(e.x=e.x+(this._scale===Lt.LARGE?65:31)),r){const s=new Nt;s.name=this._assets.getAssetName(g),s.x=-e.x-33,s.y=-e.y,s.z=-1e-4*this._serverRenderData.length,s.width=E.rectangle.width,s.height=E.rectangle.height,s.flipH=l,\"lay\"===a&&(s.x=s.x+53),n&&(s.flipH=!s.flipH,s.flipH?s.x=-s.x-t.width:s.x=s.x+65),i.isColorable&&(s.color=`${_}`),this._serverRenderData.push(s)}this._unionImages.push(new Ft(t,E.rectangle,e,l,_))}else o=!1}}h--}if(!this._unionImages.length)return null;const _=this.createUnionImage(this._unionImages,n),d=this._scale===Lt.LARGE?this._canvas.height-16:this._canvas.height-8,u=new j.g(-_.regPoint.x,d-_.regPoint.y);n&&\"lay\"!==a&&(u.x=u.x+(this._scale===Lt.LARGE?67:31));let c=this._unionImages.length-1;for(;c>=0;){const t=this._unionImages.pop();t&&t.dispose(),c--}return new Dt(_.container,u,o)}convertColorToHex(t){let e=(255*t).toString(16);return e.length<2&&(e=\"0\"+e),e}createUnionImage(t,e){const s=new j.j;for(const i of t)i&&s.enlarge(i.offsetRect);const r=new j.g(-s.x,-s.y),n=new H,a=new W(i.t.EMPTY);a.width=s.width,a.height=s.height,n.addChild(a);for(const i of t){if(!i)continue;const t=i.texture,s=i.colorTransform,a=!(e&&i.flipH)&&(e||i.flipH),o=r.clone();o.x-=i.regPoint.x,o.y-=i.regPoint.y,e&&(o.x=n.width-(o.x+i.rect.width)),a?(this._matrix.a=-1,this._matrix.tx=i.rect.x+i.rect.width+o.x,this._matrix.ty=o.y-i.rect.y):(this._matrix.a=1,this._matrix.tx=o.x-i.rect.x,this._matrix.ty=o.y-i.rect.y);const h=new W(t);h.tint=s,h.transform.setFromMatrix(this._matrix),n.addChild(h)}return new Ft(null,n.getLocalBounds(),r,e,null,n)}}xt.DEFAULT_MAX_CACHE_STORAGE_TIME_MS=6e4;class Bt{static getExpressionTimeout(t){switch(t=parseInt(t)){case 1:return 5e3;case 2:return 1400;case 3:case 4:case 7:return 2e3;case 5:default:return 0;case 6:return 700;case 8:case 9:case 10:return 1500}}static getExpressionId(t){return Bt.EXPRESSION_MAP.indexOf(t)}static getExpression(t){return t>Bt.EXPRESSION_MAP.length?null:Bt.EXPRESSION_MAP[t]}static getGestureId(t){return Bt.GESTURE_MAP.indexOf(t)}static getGesture(t){return t>Bt.GESTURE_MAP.length?null:Bt.GESTURE_MAP[t]}static idToAvatarActionState(t){return\"Lay\"===t?\"lay\":\"Float\"===t?\"float\":\"Swim\"===t?\"swim\":\"Sit\"===t?\"sit\":\"Respect\"===t?\"respect\":\"Wave\"===t?\"wave\":\"Idle\"===t?\"idle\":\"Dance\"===t?\"dance\":\"UseItem\"===t?\"usei\":\"CarryItem\"===t?\"cri\":\"Talk\"===t?\"talk\":\"Sleep\"===t?\"Sleep\":\"Move\"===t?\"mv\":\"std\"}}Bt.CARRY_OBJECT=\"cri\",Bt.DANCE=\"dance\",Bt.EFFECT=\"fx\",Bt.EXPRESSION=\"expression\",Bt.EXPRESSION_BLOW_A_KISS=\"blow\",Bt.EXPRESSION_CRY=\"cry\",Bt.EXPRESSION_IDLE=\"idle\",Bt.EXPRESSION_LAUGH=\"laugh\",Bt.EXPRESSION_RESPECT=\"respect\",Bt.EXPRESSION_RIDE_JUMP=\"ridejump\",Bt.EXPRESSION_SNOWBOARD_OLLIE=\"sbollie\",Bt.EXPRESSION_SNOWBORD_360=\"sb360\",Bt.EXPRESSION_WAVE=\"wave\",Bt.GESTURE=\"gest\",Bt.GESTURE_AGGRAVATED=\"agr\",Bt.GESTURE_SAD=\"sad\",Bt.GESTURE_SMILE=\"sml\",Bt.GESTURE_SURPRISED=\"srp\",Bt.GUIDE_STATUS=\"guide\",Bt.MUTED=\"muted\",Bt.PET_GESTURE_BLINK=\"eyb\",Bt.PET_GESTURE_CRAZY=\"crz\",Bt.PET_GESTURE_JOY=\"joy\",Bt.PET_GESTURE_MISERABLE=\"mis\",Bt.PET_GESTURE_PUZZLED=\"puz\",Bt.PET_GESTURE_TONGUE=\"tng\",Bt.PLAYING_GAME=\"playing_game\",Bt.POSTURE=\"posture\",Bt.POSTURE_FLOAT=\"float\",Bt.POSTURE_LAY=\"lay\",Bt.POSTURE_SIT=\"sit\",Bt.POSTURE_STAND=\"std\",Bt.POSTURE_SWIM=\"swim\",Bt.POSTURE_WALK=\"mv\",Bt.SIGN=\"sign\",Bt.SLEEP=\"sleep\",Bt.SNOWWAR_DIE_BACK=\"swdieback\",Bt.SNOWWAR_DIE_FRONT=\"swdiefront\",Bt.SNOWWAR_PICK=\"swpick\",Bt.SNOWWAR_RUN=\"swrun\",Bt.SNOWWAR_THROW=\"swthrow\",Bt.TALK=\"talk\",Bt.BLINK=\"blink\",Bt.TYPING=\"typing\",Bt.USE_OBJECT=\"usei\",Bt.VOTE=\"vote\",Bt.GESTURE_MAP=[\"\",Bt.GESTURE_SMILE,Bt.GESTURE_AGGRAVATED,Bt.GESTURE_SURPRISED,Bt.GESTURE_SAD,Bt.PET_GESTURE_JOY,Bt.PET_GESTURE_CRAZY,Bt.PET_GESTURE_TONGUE,Bt.PET_GESTURE_BLINK,Bt.PET_GESTURE_MISERABLE,Bt.PET_GESTURE_PUZZLED],Bt.EXPRESSION_MAP=[\"\",Bt.EXPRESSION_WAVE,Bt.EXPRESSION_BLOW_A_KISS,Bt.EXPRESSION_LAUGH,Bt.EXPRESSION_CRY,Bt.EXPRESSION_IDLE,Bt.DANCE,Bt.EXPRESSION_RESPECT,Bt.EXPRESSION_SNOWBOARD_OLLIE,Bt.EXPRESSION_SNOWBORD_360,Bt.EXPRESSION_RIDE_JUMP];class Gt{}Gt.FULL=\"full\",Gt.HEAD=\"head\",Gt.BODY=\"body\";class Ht{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this._structure=void 0,this._scale=void 0,this._mainDirection=void 0,this._headDirection=void 0,this._mainAction=void 0,this._disposed=void 0,this._canvasOffsets=void 0,this._assets=void 0,this._cache=void 0,this._figure=void 0,this._avatarSpriteData=void 0,this._actions=void 0,this._image=void 0,this._reusableTexture=void 0,this._defaultAction=void 0,this._frameCounter=0,this._directionOffset=0,this._changes=void 0,this._sprites=void 0,this._isAnimating=!1,this._animationHasResetOnToggle=!1,this._actionsSorted=!1,this._sortedActions=void 0,this._lastActionsString=void 0,this._currentActionsString=void 0,this._fullImageCache=void 0,this._fullImageCacheSize=5,this._isCachedImage=!1,this._useFullImageCache=!1,this._effectIdInUse=-1,this._animationFrameCount=void 0,this._cachedBodyParts=void 0,this._cachedBodyPartsDirection=-1,this._cachedBodyPartsGeometryType=null,this._cachedBodyPartsAvatarSet=null,this._effectManager=void 0,this._effectListener=void 0,this._canvasOffsets=[],this._actions=[],this._cachedBodyParts=[],this._changes=!0,this._disposed=!1,this._effectManager=r,this._structure=t,this._assets=e,this._scale=i,this._effectListener=n,null==this._scale&&(this._scale=Lt.LARGE),null==s&&(s=new Rt(\"hr-893-45.hd-180-2.ch-210-66.lg-270-82.sh-300-91.wa-2007-.ri-1-\")),this._figure=s,this._cache=new xt(this._structure,this,this._assets,this._scale),this.setDirection(Ht.DEFAULT_AVATAR_SET,Ht.DEFAULT_DIRECTION),this._actions=[],this._defaultAction=new St(Bt.POSTURE_STAND),this._defaultAction.definition=this._structure.getActionDefinition(Ht.DEFAULT_ACTION),this.resetActions(),this._fullImageCache=new U,this._animationFrameCount=0}getServerRenderData(){return this.getAvatarPartsForCamera(Gt.FULL),this._cache.getServerRenderData()}dispose(){if(!this._disposed){if(this._structure=null,this._assets=null,this._mainAction=null,this._figure=null,this._avatarSpriteData=null,this._actions=null,this._image&&(this._image.destroy(),this._image=null),this._cache&&(this._cache.dispose(),this._cache=null),this._fullImageCache){for(const t of this._fullImageCache.getValues())t&&t.destroy();this._fullImageCache=null}this._image=null,this._canvasOffsets=null,this._disposed=!0}}get disposed(){return this._disposed}getFigure(){return this._figure}getScale(){return this._scale}getPartColor(t){return this._structure.getPartColor(this._figure,t)}setDirection(t,e){(e+=this._directionOffset)<Mt.MIN_DIRECTION&&(e=Mt.MAX_DIRECTION+(e+1)),e>Mt.MAX_DIRECTION&&(e-=Mt.MAX_DIRECTION+1),this._structure.isMainAvatarSet(t)&&(this._mainDirection=e),t!==Gt.HEAD&&t!==Gt.FULL||(t===Gt.HEAD&&this.isHeadTurnPreventedByAction()&&(e=this._mainDirection),this._headDirection=e),this._cache.setDirection(t,e),this._changes=!0}setDirectionAngle(t,e){this.setDirection(t,Math.floor(e/45))}getSprites(){return this._sprites}getCanvasOffsets(){return this._canvasOffsets}getLayerData(t){return this._structure.getBodyPartData(t.animation.id,this._frameCounter,t.id)}updateAnimationByFrames(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._frameCounter+=t,this._changes=!0}resetAnimationFrameCounter(){this._frameCounter=0,this._changes=!0}getFullImageCacheKey(){if(!this._useFullImageCache)return null;if(1==this._sortedActions.length&&this._mainDirection==this._headDirection)return this._mainDirection+this._currentActionsString+this._frameCounter%4;if(2==this._sortedActions.length)for(const t of this._sortedActions){if(\"fx\"==t.actionType&&(\"33\"==t.actionParameter||\"34\"==t.actionParameter||\"35\"==t.actionParameter||\"36\"==t.actionParameter))return this._mainDirection+this._currentActionsString+0;if(\"fx\"==t.actionType&&(\"38\"==t.actionParameter||\"39\"==t.actionParameter))return this._mainDirection+\"_\"+this._headDirection+this._currentActionsString+this._frameCounter%11;if(\"dance\"===t.actionType&&(\"1\"===t.actionParameter||\"2\"===t.actionParameter||\"3\"===t.actionParameter||\"4\"===t.actionParameter)){let e=this._frameCounter%8;return\"3\"===t.actionParameter&&(e=this._frameCounter%10),\"4\"===t.actionParameter&&(e=this._frameCounter%16),this._mainDirection+t.actionType+t.actionParameter+e}}return null}getBodyParts(t,e,s){return s==this._cachedBodyPartsDirection&&e==this._cachedBodyPartsGeometryType&&t==this._cachedBodyPartsAvatarSet||(this._cachedBodyPartsDirection=s,this._cachedBodyPartsGeometryType=e,this._cachedBodyPartsAvatarSet=t,this._cachedBodyParts=this._structure.getBodyParts(t,e,s)),this._cachedBodyParts}getAvatarPartsForCamera(t){let e;if(null==this._mainAction)return;if(null==this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType))return;const s=this.getBodyParts(t,this._mainAction.definition.geometryType,this._mainDirection);let i=s.length-1;for(;i>=0;){e=s[i];this._cache.getImageContainer(e,this._frameCounter,!0);i--}}getImage(t,e){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this._changes)return this._image;if(!this._mainAction)return null;this._actionsSorted||this.endActionAppends();const i=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!i)return null;!this._image||this._image.width===i.width&&this._image.height===i.height||(this._reusableTexture&&(this._reusableTexture.destroy(!0),this._reusableTexture=null),this._image=null,this._isCachedImage=!1);const r=this.getBodyParts(t,this._mainAction.definition.geometryType,this._mainDirection);this._image=null;const n=new H;let a=!0,o=r.length-1;for(;o>=0;){const t=r[o],e=this._cache.getImageContainer(t,this._frameCounter);if(e){const t=e.image;if(!t)return n.destroy({children:!0}),null;a=a&&e.isCacheable;const s=e.regPoint.clone();if(s){s.x+=i.offset.x,s.y+=i.offset.y,s.x+=i.regPoint.x,s.y+=i.regPoint.y;const e=new H;e.addChild(t),e&&(e.position.set(s.x,s.y),n.addChild(e))}}o--}return this._avatarSpriteData&&(n.filters||(n.filters=[]),this._avatarSpriteData.colorTransform&&n.filters.push(this._avatarSpriteData.colorTransform),this._avatarSpriteData.paletteIsGrayscale&&(this.convertToGrayscale(n),n.filters.push(new Ot(this._avatarSpriteData.reds,Ot.CHANNEL_RED)))),s?(this._reusableTexture?lL.instance.renderer.render(n,{renderTexture:this._reusableTexture,clear:!0}):this._reusableTexture=At.generateTexture(n,new j.j(0,0,i.width,i.height)),this._reusableTexture?(this._image=this._reusableTexture,this._changes=!1,this._image):null):At.generateTexture(n,new j.j(0,0,i.width,i.height))}applyPalette(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const n=At.generateCanvas(t),a=n.getContext(\"2d\"),o=a.getImageData(0,0,n.width,n.height),h=o.data;for(let i=0;i<h.length;i+=4){if(256==e.length){let t=e[h[i]];void 0===t&&(t=0),h[i]=t>>16&255,h[i+1]=t>>8&255,h[i+2]=255&t}if(256==s.length){let t=s[h[i+1]];void 0===t&&(t=0),h[i]=t>>16&255,h[i+1]=t>>8&255,h[i+2]=255&t}if(256==r.length){let t=s[h[i+2]];void 0===t&&(t=0),h[i]=t>>16&255,h[i+1]=t>>8&255,h[i+2]=255&t}}a.putImageData(o,0,0);const _=new Y.a(i.t.from(n));return lL.instance.renderer.render(_,{renderTexture:t,clear:!0}),t}getImageAsSprite(t){if(!this._mainAction)return null;this._actionsSorted||this.endActionAppends();const e=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!e)return null;const s=this.getBodyParts(t,this._mainAction.definition.geometryType,this._mainDirection),r=new W,n=new W(i.t.EMPTY);n.width=e.width,n.height=e.height,r.addChild(n);let a=s.length-1;for(;a>=0;){const t=s[a],i=this._cache.getImageContainer(t,this._frameCounter);if(i){const t=i.image;if(!t)return r.destroy({children:!0}),null;const s=i.regPoint.clone();if(s){s.x+=e.offset.x,s.y+=e.offset.y,s.x+=e.regPoint.x,s.y+=e.regPoint.y;const i=new H;i.addChild(t),i.position.set(s.x,s.y),r.addChild(i)}}a--}return r}getCroppedImage(t){if(!this._mainAction)return null;this._actionsSorted||this.endActionAppends();const e=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!e)return null;const s=this.getBodyParts(t,this._mainAction.definition.geometryType,this._mainDirection),i=new H;let r=s.length-1;for(;r>=0;){const t=s[r],n=this._cache.getImageContainer(t,this._frameCounter);if(n){const t=n.image;if(!t)return i.destroy({children:!0}),null;const s=n.regPoint.clone();if(s){s.x+=e.offset.x,s.y+=e.offset.y,s.x+=e.regPoint.x,s.y+=e.regPoint.y;const r=new H;r.addChild(t),r&&(r.position.set(s.x,s.y),i.addChild(r))}}r--}const n=At.generateTexture(i,new j.j(0,0,e.width,e.height)),a=At.generateImage(n);return a||null}getFullImage(t){const e=this._fullImageCache.getValue(t);return e?(e.valid||(this._fullImageCache.remove(t),e.destroy(!0)),e):null}cacheFullImage(t,e){const s=this._fullImageCache.getValue(t);if(s&&(this._fullImageCache.remove(t),s.destroy(!0)),this._fullImageCache.length===this._fullImageCacheSize){const t=this._fullImageCache.getKey(0);if(t){this._fullImageCache.remove(t).destroy(!0)}}this._fullImageCache.add(t,e)}getAsset(t){return this._assets.getAsset(t)}getDirection(){return this._mainDirection}initActionAppends(){this._actions=[],this._actionsSorted=!1,this._currentActionsString=\"\",this._useFullImageCache=!1}endActionAppends(){if(this.sortActions()){for(const t of this._sortedActions)t.actionType===Bt.EFFECT&&(this._effectManager.isAvatarEffectReady(parseInt(t.actionParameter))||this._effectManager.downloadAvatarEffect(parseInt(t.actionParameter),this));this.resetActions(),this.setActionsToParts()}}appendAction(t){var e;let s=\"\";this._actionsSorted=!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];switch(r&&r.length>0&&(s=null===(e=r[0])||void 0===e?void 0:e.toString()),t){case Bt.POSTURE:switch(s){case Bt.POSTURE_LAY:0==this._mainDirection?this.setDirection(Gt.FULL,4):this.setDirection(Gt.FULL,2);case Bt.POSTURE_WALK:this._useFullImageCache=!0;case Bt.POSTURE_STAND:this._useFullImageCache=!0;case Bt.POSTURE_SWIM:case Bt.POSTURE_FLOAT:case Bt.POSTURE_SIT:case Bt.SNOWWAR_RUN:case Bt.SNOWWAR_DIE_FRONT:case Bt.SNOWWAR_DIE_BACK:case Bt.SNOWWAR_PICK:case Bt.SNOWWAR_THROW:this.addActionData(s)}break;case Bt.GESTURE:switch(s){case Bt.GESTURE_AGGRAVATED:case Bt.GESTURE_SAD:case Bt.GESTURE_SMILE:case Bt.GESTURE_SURPRISED:this.addActionData(s)}break;case Bt.EFFECT:\"33\"!==s&&\"34\"!==s&&\"35\"!==s&&\"36\"!==s&&\"38\"!==s&&\"39\"!==s||(this._useFullImageCache=!0);case Bt.DANCE:case Bt.TALK:case Bt.EXPRESSION_WAVE:case Bt.SLEEP:case Bt.SIGN:case Bt.EXPRESSION_RESPECT:case Bt.EXPRESSION_BLOW_A_KISS:case Bt.EXPRESSION_LAUGH:case Bt.EXPRESSION_CRY:case Bt.EXPRESSION_IDLE:case Bt.EXPRESSION_SNOWBOARD_OLLIE:case Bt.EXPRESSION_SNOWBORD_360:case Bt.EXPRESSION_RIDE_JUMP:this.addActionData(t,s);break;case Bt.CARRY_OBJECT:case Bt.USE_OBJECT:{const e=this._structure.getActionDefinitionWithState(t);e&&(s=e.getParameterValue(s)),this.addActionData(t,s);break}}return!0}addActionData(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";this._actions||(this._actions=[]);let i=0;for(;i<this._actions.length;){if(e=this._actions[i],e.actionType==t&&e.actionParameter==s)return;i++}this._actions.push(new St(t,s,this._frameCounter))}isAnimating(){return this._isAnimating||this._animationFrameCount>1}resetActions(){return this._animationHasResetOnToggle=!1,this._isAnimating=!1,this._sprites=[],this._avatarSpriteData=null,this._directionOffset=0,this._structure.removeDynamicItems(this),this._mainAction=this._defaultAction,this._mainAction.definition=this._defaultAction.definition,this.resetBodyPartCache(this._defaultAction),!0}isHeadTurnPreventedByAction(){let t,e;if(null==this._sortedActions)return!1;for(const s of this._sortedActions)t=this._structure.getActionDefinitionWithState(s.actionType),null!=t&&t.getPreventHeadTurn(s.actionParameter)&&(e=!0);return e}sortActions(){let t,e,s;if(this._currentActionsString=\"\",this._sortedActions=this._structure.sortActions(this._actions),this._animationFrameCount=this._structure.maxFrames(this._sortedActions),this._sortedActions){this._canvasOffsets=this._structure.getCanvasOffsets(this._sortedActions,this._scale,this._mainDirection);for(const s of this._sortedActions)if(this._currentActionsString=this._currentActionsString+(s.actionType+s.actionParameter),s.actionType===Bt.EFFECT){const i=parseInt(s.actionParameter);this._effectIdInUse!==i&&(t=!0),this._effectIdInUse=i,e=!0}e||(this._effectIdInUse>-1&&(t=!0),this._effectIdInUse=-1),t&&this._cache.disposeInactiveActions(0),this._lastActionsString!=this._currentActionsString&&(s=!0,this._lastActionsString=this._currentActionsString)}else this._canvasOffsets=[0,0,0],\"\"!==this._lastActionsString&&(s=!0,this._lastActionsString=\"\");return this._actionsSorted=!0,s}setActionsToParts(){if(null==!this._sortedActions)return;const t=lL.instance.time,e=[];for(const s of this._sortedActions)e.push(s.actionType);for(const s of this._sortedActions)if(s&&s.definition&&s.definition.isAnimation){const t=this._structure.getAnimation(s.definition.state+\".\"+s.actionParameter);if(t&&t.hasOverriddenActions()){const i=t.overriddenActionNames();if(i)for(const r of i)e.indexOf(r)>=0&&(s.overridingAction=t.overridingAction(r))}t&&t.resetOnToggle&&(this._animationHasResetOnToggle=!0)}for(const s of this._sortedActions)if(s&&s.definition&&(s.definition.isAnimation&&\"\"===s.actionParameter&&(s.actionParameter=\"1\"),this.setActionToParts(s,t),s.definition.isAnimation)){this._isAnimating=s.definition.isAnimated(s.actionParameter);const t=this._structure.getAnimation(s.definition.state+\".\"+s.actionParameter);t&&(this._sprites=this._sprites.concat(t.spriteData),t.hasDirectionData()&&(this._directionOffset=t.directionData.offset),t.hasAvatarData()&&(this._avatarSpriteData=t.avatarData))}}setActionToParts(t,e){null!=t&&null!=t.definition&&\"\"!=t.definition.assetPartDefinition&&(t.definition.isMain&&(this._mainAction=t,this._cache.setGeometryType(t.definition.geometryType)),this._cache.setAction(t,e),this._changes=!0)}resetBodyPartCache(t){t&&\"\"!==t.definition.assetPartDefinition&&(t.definition.isMain&&(this._mainAction=t,this._cache.setGeometryType(t.definition.geometryType)),this._cache.resetBodyPartCache(t),this._changes=!0)}get avatarSpriteData(){return this._avatarSpriteData}convertToGrayscale(t){let e=.33,s=.33,i=.33;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"CHANNELS_EQUAL\"){case Ht.CHANNELS_UNIQUE:e=.3,s=.59,i=.11;break;case Ht.CHANNELS_RED:e=1,s=0,i=0;break;case Ht.CHANNELS_GREEN:e=0,s=1,i=0;break;case Ht.CHANNELS_BLUE:e=0,s=0,i=1;break;case Ht.CHANNELS_DESATURATED:e=.3086,s=.6094,i=.082}const r=new vt.a;return r.matrix=[e,s,i,0,0,e,s,i,0,0,e,s,i,0,0,0,0,0,1,0],t.filters.push(r),t}errorThis(t){}logThis(t){}isPlaceholder(){return!1}forceActionUpdate(){this._lastActionsString=\"\"}get animationHasResetOnToggle(){return this._animationHasResetOnToggle}get mainAction(){return this._mainAction.actionType}resetEffect(t){t===this._effectIdInUse&&(this.resetActions(),this.setActionsToParts(),this._animationHasResetOnToggle=!0,this._changes=!0,this._effectListener&&this._effectListener.resetEffect(t))}}Ht.CHANNELS_EQUAL=\"CHANNELS_EQUAL\",Ht.CHANNELS_UNIQUE=\"CHANNELS_UNIQUE\",Ht.CHANNELS_RED=\"CHANNELS_RED\",Ht.CHANNELS_GREEN=\"CHANNELS_GREEN\",Ht.CHANNELS_BLUE=\"CHANNELS_BLUE\",Ht.CHANNELS_DESATURATED=\"CHANNELS_DESATURATED\",Ht.DEFAULT_ACTION=\"Default\",Ht.DEFAULT_DIRECTION=2,Ht.DEFAULT_AVATAR_SET=Gt.FULL;class Vt{constructor(t){this._id=void 0,this._value=void 0,this._prevents=void 0,this._preventHeadTurn=void 0,this._isAnimated=void 0,this._id=parseInt(t.id),this._value=parseInt(t.id),this._prevents=t.prevents||[],this._preventHeadTurn=t.preventHeadTurn||!1,this._isAnimated=!0,void 0!==t.animated&&!1===t.animated&&(this._isAnimated=!1)}get id(){return this._id}get value(){return this._value}get prevents(){return this._prevents}get preventHeadTurn(){return this._preventHeadTurn}get isAnimated(){return this._isAnimated}}class jt{constructor(t){if(this._id=void 0,this._state=void 0,this._precedence=void 0,this._activePartSet=void 0,this._assetPartDefinition=void 0,this._lay=void 0,this._geometryType=void 0,this._isMain=void 0,this._isDefault=void 0,this._isAnimation=void 0,this._startFromFrameZero=void 0,this._prevents=void 0,this._preventHeadTurn=void 0,this._types=void 0,this._params=void 0,this._defaultParameterValue=void 0,this._canvasOffsets=void 0,this._id=t.id,this._state=t.state,this._precedence=t.precedence,this._activePartSet=t.activePartSet,this._assetPartDefinition=t.assetPartDefinition,this._lay=t.lay,this._geometryType=t.geometryType,this._isMain=t.main||!1,this._isDefault=t.isDefault||!1,this._isAnimation=t.animation||!1,this._startFromFrameZero=t.startFromFrameZero||!1,this._prevents=t.prevents||[],this._preventHeadTurn=t.preventHeadTurn||!1,this._types=new Map,this._params=new Map,this._defaultParameterValue=\"\",this._canvasOffsets=null,t.params&&t.params.length>0)for(const e of t.params)e&&(\"default\"===e.id?this._defaultParameterValue=e.value:this._params.set(e.id,e.value));if(t.types&&t.types.length>0)for(const e of t.types){if(!e)continue;const t=new Vt(e);this._types.set(t.id,t)}}setOffsets(t,e,s){this._canvasOffsets||(this._canvasOffsets=new Map);let i=this._canvasOffsets.get(t);i||(i=new Map,this._canvasOffsets.set(t,i)),i.set(e,s)}getOffsets(t,e){if(!this._canvasOffsets)return null;const s=this._canvasOffsets.get(t);return s?s.get(e):null}getType(t){if(!t)return null;const e=this._types.get(parseInt(t));return e||null}getParameterValue(t){if(!t)return\"\";const e=this._params.get(t);return e||this._defaultParameterValue}getPrevents(t){return this._prevents.concat(this.getTypePrevents(t))}getTypePrevents(t){if(!t)return[];const e=this._types.get(parseInt(t));return e?e.prevents:[]}getPreventHeadTurn(t){if(!t)return this._preventHeadTurn;const e=this.getType(t);return e?e.preventHeadTurn:this._preventHeadTurn}isAnimated(t){if(!t)return!0;const e=this.getType(t);return!e||e.isAnimated}get id(){return this._id}get state(){return this._state}get precedence(){return this._precedence}get activePartSet(){return this._activePartSet}get assetPartDefinition(){return this._assetPartDefinition}get lay(){return this._lay}get geometryType(){return this._geometryType}get isMain(){return this._isMain}get isDefault(){return this._isDefault}get isAnimation(){return this._isAnimation}get startFromFrameZero(){return this._startFromFrameZero}get prevents(){return this._prevents}get preventHeadTurn(){return this._preventHeadTurn}get params(){return this._params}}class kt{constructor(t,e){this._assets=void 0,this._actions=void 0,this._defaultAction=void 0,this._assets=t,this._actions=new Map,this._defaultAction=null,this.updateActions(e)}updateActions(t){if(t){for(const e of t.actions){if(!e||!e.state)continue;const t=new jt(e);this._actions.set(t.state,t)}t.actionOffsets&&this.parseActionOffsets(t.actionOffsets)}}parseActionOffsets(t){if(t&&t.length)for(const e of t){const t=this._actions.get(e.action);if(t)for(const s of e.offsets){const e=s.size||\"\",i=s.direction;if(\"\"===e||void 0===i)continue;const r=s.x||0,n=s.y||0,a=s.z||0;t.setOffsets(e,i,[r,n,a])}}}getActionDefinition(t){if(!t)return null;for(const e of this._actions.values())if(e&&e.id===t)return e;return null}getActionDefinitionWithState(t){const e=this._actions.get(t);return e||null}getDefaultAction(){if(this._defaultAction)return this._defaultAction;for(const t of this._actions.values())if(t&&t.isDefault)return this._defaultAction=t,t;return null}getCanvasOffsets(t,e,s){let i=[];for(const r of t){if(!r)continue;const t=this._actions.get(r.actionType),n=t&&t.getOffsets(e,s);n&&(i=n)}return i}sortActions(t){if(!t)return null;t=this.filterActions(t);const e=[];for(const s of t){if(!s)continue;const t=this._actions.get(s.actionType);t&&(s.definition=t,e.push(s))}return e.sort(this.sortByPrecedence),e}filterActions(t){let e=[];const s=[];for(const i of t){if(!i)continue;const t=this._actions.get(i.actionType);t&&(e=e.concat(t.getPrevents(i.actionParameter)))}for(const i of t){if(!i)continue;let t=i.actionType;\"fx\"===i.actionType&&(t=t+\".\"+i.actionParameter),e.indexOf(t)>=0||s.push(i)}return s}sortByPrecedence(t,e){if(!t||!e)return 0;const s=t.definition.precedence,i=e.definition.precedence;return s<i?1:s>i?-1:0}}class zt{constructor(t){this._id=void 0,this._align=void 0,this._base=void 0,this._ink=void 0,this._blend=void 0,this._id=t.id||\"\",this._align=t.align||\"\",this._base=t.base||\"\",this._ink=t.ink||0,this._blend=0;const e=t.blend;e&&e.length>0&&(this._blend=parseInt(e),this._blend>1&&(this._blend=this._blend/100))}get id(){return this._id}get align(){return this._align}get base(){return this._base}get ink(){return this._ink}get blend(){return this._blend}get isBlended(){return 1!==this._blend}}class Yt{constructor(t){this._ink=void 0,this._foreGround=void 0,this._backGround=void 0,this._colorTransform=void 0,this._rgb=void 0,this._r=void 0,this._g=void 0,this._b=void 0,this._redMultiplier=void 0,this._greenMultiplier=void 0,this._blueMultiplier=void 0,this._alphaMultiplier=void 0,this._colorMap=void 0,this._paletteIsGrayscale=void 0,this._ink=t.ink;let e=t.foreground,s=t.background;e=e.replace(\"#\",\"\"),s=s.replace(\"#\",\"\"),this._foreGround=parseInt(e,16),this._backGround=parseInt(s,16),this._colorTransform=null,this._rgb=parseInt(e,16),this._r=this._rgb>>16&255,this._g=this._rgb>>8&255,this._b=this._rgb>>0&255,this._redMultiplier=this._r/255*1,this._greenMultiplier=this._g/255*1,this._blueMultiplier=this._b/255*1,this._alphaMultiplier=1,this._paletteIsGrayscale=!0,37===this._ink&&(this._alphaMultiplier=.5,this._paletteIsGrayscale=!1),this._colorTransform=new b.a({red:this._r/255,green:this._g/255,blue:this._b/255,alpha:this._alphaMultiplier}),this._colorMap=this.generatePaletteMapForGrayscale(this._backGround,this._foreGround)}get ink(){return this._ink}get colorTransform(){return this._colorTransform}get reds(){return this._colorMap.get(\"reds\")}get greens(){return this._colorMap.get(\"greens\")}get blues(){return this._colorMap.get(\"blues\")}get alphas(){return this._colorMap.get(\"alphas\")}get paletteIsGrayscale(){return this._paletteIsGrayscale}generatePaletteMapForGrayscale(t,e){const s=t>>24&255,i=t>>16&255,r=t>>8&255,n=t>>0&255,a=((e>>24&255)-s)/255,o=((e>>16&255)-i)/255,h=((e>>8&255)-r)/255,_=((e>>0&255)-n)/255,d=new Map,u=[],c=[],l=[],g=[];let E=s,p=i,m=r,I=n;for(let f=0;f<256;f++)p==i&&m==r&&I==n&&(E=0),E+=a,p+=o,m+=h,I+=_,g.push(E<<24),u.push(E<<24|p<<16|m<<8|I),c.push(E<<24|p<<16|m<<8|I),l.push(E<<24|p<<16|m<<8|I);return d.set(\"alphas\",u),d.set(\"reds\",u),d.set(\"greens\",c),d.set(\"blues\",l),d}}class Wt{constructor(t){this._offset=void 0,this._offset=t.offset}get offset(){return this._offset}}class Kt{constructor(t,e){this._animation=void 0,this._id=void 0,this._ink=void 0,this._member=void 0,this._hasDirections=void 0,this._hasStaticY=void 0,this._dx=void 0,this._dy=void 0,this._dz=void 0,this._animation=t,this._id=e.id,this._ink=e.ink,this._member=e.member,this._hasStaticY=!!e.staticY,this._hasDirections=!!e.directions,this._dx=[],this._dy=[],this._dz=[];const s=e.directionList;if(s&&s.length)for(const i of s){const t=i.id;void 0!==t&&(this._dx[t]=i.dx||0,this._dy[t]=i.dy||0,this._dz[t]=i.dz||0)}}getDirectionOffsetX(t){return t<this._dx.length?this._dx[t]:0}getDirectionOffsetY(t){return t<this._dy.length?this._dy[t]:0}getDirectionOffsetZ(t){return t<this._dz.length?this._dz[t]:0}get animation(){return this._animation}get id(){return this._id}get ink(){return this._ink}get member(){return this._member}get hasDirections(){return this._hasDirections}get hasStaticY(){return this._hasStaticY}}class Xt{constructor(t,e){if(this._id=void 0,this._description=void 0,this._frames=void 0,this._spriteData=void 0,this._avatarData=void 0,this._directionData=void 0,this._removeData=void 0,this._addData=void 0,this._overriddenActions=void 0,this._overrideFrames=void 0,this._resetOnToggle=void 0,this._id=e.name,this._description=this._id,this._frames=[],this._spriteData=null,this._avatarData=null,this._directionData=null,this._removeData=null,this._addData=null,this._overriddenActions=null,this._overrideFrames=null,this._resetOnToggle=e.resetOnToggle||!1,e.sprites&&e.sprites.length){this._spriteData=[];for(const t of e.sprites)this._spriteData.push(new Kt(this,t))}if(e.avatars&&e.avatars.length&&(this._avatarData=new Yt(e.avatars[0])),e.directions&&e.directions.length&&(this._directionData=new Wt(e.directions[0])),e.removes&&e.removes.length){this._removeData=[];for(const t of e.removes)this._removeData.push(t.id)}if(e.adds&&e.adds.length){this._addData=[];for(const t of e.adds)this._addData.push(new zt(t))}if(e.overrides&&e.overrides.length){this._overrideFrames=new Map,this._overriddenActions=new Map;for(const s of e.overrides){const e=s.name,i=s.override;this._overriddenActions.set(i,e);const r=[];this.parseFrames(r,s.frames,t),this._overrideFrames.set(e,r)}}this.parseFrames(this._frames,e.frames,t)}parseFrames(t,e,s){if(e&&e.length)for(const i of e){let e=1;i.repeats&&i.repeats>1&&(e=i.repeats);let r=0;for(;r<e;){const e=[];if(i.bodyparts&&i.bodyparts.length)for(const t of i.bodyparts){const i=s.getActionDefinition(t.action),r=new yt(t,yt.BODYPART,i);e.push(r)}if(i.fxs&&i.fxs.length)for(const t of i.fxs){const i=s.getActionDefinition(t.action),r=new yt(t,yt.FX,i);e.push(r)}t.push(e),r++}}}frameCount(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t)return this._frames.length;if(this._overrideFrames){const e=this._overrideFrames.get(t);if(e)return e.length}return 0}hasOverriddenActions(){return!!this._overriddenActions&&this._overriddenActions.size>0}overriddenActionNames(){if(!this._overriddenActions)return null;const t=[];for(const e of this._overriddenActions.keys())t.push(e);return t}overridingAction(t){return this._overriddenActions?this._overriddenActions.get(t):null}getFrame(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t<0&&(t=0);let s=[];if(e){const i=this._overrideFrames.get(e);i&&i.length>0&&(s=i[t%i.length])}else this._frames.length>0&&(s=this._frames[t%this._frames.length]);return s}getAnimatedBodyPartIds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=[];for(const i of this.getFrame(t,e))if(i.type===yt.BODYPART)s.push(i.id);else if(i.type===yt.FX&&this._addData&&this._addData.length)for(const t of this._addData)t.id===i.id&&s.push(t.align);return s}getLayerData(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(const i of this.getFrame(t,s)){if(i.id===e)return i;if(i.type===yt.FX&&this._addData&&this._addData.length)for(const t of this._addData)if(t.align===e&&t.id===i.id)return i}return null}hasAvatarData(){return null!==this._avatarData}hasDirectionData(){return null!==this._directionData}hasAddData(){return null!==this._addData}getAddData(t){if(this._addData)for(const e of this._addData)if(e.id===t)return e;return null}get id(){return this._id}get spriteData(){return this._spriteData||Xt.EMPTY_ARRAY}get avatarData(){return this._avatarData}get directionData(){return this._directionData}get removeData(){return this._removeData||Xt.EMPTY_ARRAY}get addData(){return this._addData||Xt.EMPTY_ARRAY}toString(){return this._description}get resetOnToggle(){return this._resetOnToggle}}Xt.EMPTY_ARRAY=[];class qt{constructor(){this._animations=void 0,this._animations=new Map}registerAnimation(t,e){const s=e[Object.keys(e)[0]],i=new Xt(t,s);return this._animations.set(s.name,i),!0}getAnimation(t){const e=this._animations.get(t);return e||null}getLayerData(t,e,s){const i=this.getAnimation(t);return i?i.getLayerData(e,s):null}get animations(){return this._animations}}class Qt{constructor(t){this._number=void 0,this._assetPartDefinition=void 0,this._number=t.number,this._assetPartDefinition=t.assetPartDefinition||null}get number(){return this._number}get assetPartDefinition(){return this._assetPartDefinition}}class Zt{constructor(t,e,s,i,r,n,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:\"\",_=arguments.length>9&&void 0!==arguments[9]&&arguments[9];this._bodyPartId=void 0,this._partType=void 0,this._flippedPartType=void 0,this._partId=void 0,this._color=void 0,this._frames=void 0,this._action=void 0,this._isColorable=void 0,this._isBlendable=void 0,this._blendTransform=void 0,this._paletteMapId=void 0,this._bodyPartId=t,this._partType=e,this._partId=s,this._color=i,this._frames=r,this._action=n,this._isColorable=a,this._paletteMapId=o,this._flippedPartType=h,this._isBlendable=_,this._blendTransform=null,\"ey\"===this._partType&&(this._isColorable=!1)}getFrameIndex(t){if(!this._frames||!this._frames.length)return 0;const e=t%this._frames.length;return this._frames[e]instanceof Qt?this._frames[e].number:e}getFrameDefinition(t){const e=t%this._frames.length;return this._frames&&this._frames.length>e&&this._frames[e]instanceof Qt?this._frames[e]:null}getCacheableKey(t){const e=t%this._frames.length;if(this._frames&&this._frames.length>e&&this._frames[e]instanceof Qt){const t=this._frames[e];return this.partId+\":\"+t.assetPartDefinition+\":\"+t.number}return this.partId+\":\"+e}get bodyPartId(){return this._bodyPartId}get partType(){return this._partType}get partId(){return this._partId}get color(){return this._color}get action(){return this._action}get isColorable(){return this._isColorable}set isColorable(t){this._isColorable=t}get paletteMapId(){return this._paletteMapId}get flippedPartType(){return this._flippedPartType}get isBlendable(){return this._isBlendable}toString(){return[this._bodyPartId,this._partType,this._partId].join(\":\")}}class Jt{constructor(t,e){this._id=void 0,this._width=void 0,this._height=void 0,this._offset=void 0,this._regPoint=void 0,this._id=t.id,this._width=t.width,this._height=t.height,this._offset=new j.g(t.dx,t.dy),e==Lt.LARGE?this._regPoint=new j.g((this._width-64)/2,0):this._regPoint=new j.g((this._width-32)/2,0)}get width(){return this._width}get height(){return this._height}get offset(){return this._offset}get id(){return this._id}get regPoint(){return this._regPoint}}class $t{constructor(t){if(this._id=void 0,this._isMain=void 0,this._avatarSets=void 0,this._bodyParts=void 0,this._allBodyParts=void 0,this._id=t.id,this._isMain=t.main||!1,this._avatarSets=new Map,this._bodyParts=[],this._allBodyParts=[],t.avatarSets&&t.avatarSets.length>0)for(const s of t.avatarSets){if(!s)continue;const t=new $t(s);this._avatarSets.set(t.id,t)}if(t.bodyParts&&t.bodyParts.length>0)for(const s of t.bodyParts)s&&this._bodyParts.push(s.id);let e=this._bodyParts.concat();for(const s of this._avatarSets.values())s&&(e=e.concat(s.getBodyParts()));this._allBodyParts=e}findAvatarSet(t){if(t===this._id)return this;for(const e of this._avatarSets.values())if(e&&e.findAvatarSet(t))return e;return null}getBodyParts(){return this._allBodyParts.concat()}get id(){return this._id}get isMain(){if(this._isMain)return!0;for(const t of this._avatarSets.values())if(t&&t.isMain)return!0;return!1}}class te{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._x=void 0,this._y=void 0,this._z=void 0,this._x=t,this._y=e,this._z=s}static dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}static cross(t,e){const s=new te;return s.x=t.y*e.z-t.z*e.y,s.y=t.z*e.x-t.x*e.z,s.z=t.x*e.y-t.y*e.x,s}static subtract(t,e){return new te(t.x-e.x,t.y-e.y,t.z-e.z)}dot(t){return this._x*t.x+this._y*t.y+this._z*t.z}cross(t){const e=new te;return e.x=this._y*t.z-this._z*t.y,e.y=this._z*t.x-this._x*t.z,e.z=this._x*t.y-this._y*t.x,e}subtract(t){this._x=this._x-t.x,this._y=this._y-t.y,this._z=this._z-t.z}add(t){this._x=this._x+t.x,this._y=this._y+t.y,this._z=this._z+t.z}normalize(){const t=1/this.length();this._x=this._x*t,this._y=this._y*t,this._z=this._z*t}scaleBy(t){this._x*=t,this._y*=t,this._z*=t}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)}toString(){return\"Vector3D: (\"+this._x+\",\"+this._y+\",\"+this._z+\")\"}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get z(){return this._z}set z(t){this._z=t}}class ee{constructor(t,e,s){this._location=void 0,this._transformedLocation=void 0,this._needsTransformation=void 0,this._location=new te(t,e,s),this._transformedLocation=new te,this._needsTransformation=!1,0==t&&0==e&&0==s||(this._needsTransformation=!0)}get location(){return this._location}get transformedLocation(){return this._transformedLocation}applyTransform(t){this._needsTransformation&&(this._transformedLocation=t.vectorMultiplication(this._location))}}class se extends ee{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(parseFloat(t.x),parseFloat(t.y),parseFloat(t.z)),this._id=void 0,this._radius=void 0,this._normal=void 0,this._isDoubleSided=void 0,this._isDynamic=void 0,this._id=t.id,this._radius=parseFloat(t.radius),this._normal=new te(parseFloat(t.nx),parseFloat(t.ny),parseFloat(t.nz)),this._isDoubleSided=t.double||!1,this._isDynamic=e}getDistance(t){const e=Math.abs(t.z-this.transformedLocation.z-this._radius),s=Math.abs(t.z-this.transformedLocation.z+this._radius);return Math.min(e,s)}get id(){return this._id}get normal(){return this._normal}get isDoubleSided(){return this._isDoubleSided}toString(){return this._id+\": \"+this.location+\" - \"+this.transformedLocation}get isDynamic(){return this._isDynamic}}class ie extends ee{constructor(t){if(super(parseFloat(t.x),parseFloat(t.y),parseFloat(t.z)),this._id=void 0,this._radius=void 0,this._parts=void 0,this._dynamicParts=void 0,this._id=t.id,this._radius=parseFloat(t.radius),this._parts=new Map,this._dynamicParts=new Map,t.items&&t.items.length>0)for(const e of t.items){if(!e)continue;const t=new se(e);this._parts.set(t.id,t)}}getDynamicParts(t){const e=this._dynamicParts.get(t),s=[];if(e)for(const i in e){const t=e[i];t&&s.push(t)}return s}getPartIds(t){const e=[];for(const s of this._parts.values())s&&e.push(s.id);if(t){const s=this._dynamicParts.get(t);if(s)for(const t in s){const i=s[t];i&&e.push(i.id)}}return e}removeDynamicParts(t){return this._dynamicParts.delete(t),!0}addPart(t,e){if(this.hasPart(t.id,e))return!1;let s=this._dynamicParts.get(e);return s||(s={},this._dynamicParts.set(e,s)),s[t.id]=new se(t,!0),!0}hasPart(t,e){let s=this._parts.get(t)||null;return s||void 0===this._dynamicParts.get(e)||(s=this._dynamicParts.get(e)[t]||null),null!==s}getParts(t,e,s,i){const r=[];for(const o of this._parts.values())o&&(o.applyTransform(t),r.push([o.getDistance(e),o]));const n=this._dynamicParts.get(i);if(n)for(const o in n){const s=n[o];s&&(s.applyTransform(t),r.push([s.getDistance(e),s]))}r.sort(((t,e)=>{const s=t[0],i=e[0];return s<i?-1:s>i?1:0}));const a=[];for(const o of r)o&&a.push(o[1].id);return a}getDistance(t){const e=Math.abs(t.z-this.transformedLocation.z-this._radius),s=Math.abs(t.z-this.transformedLocation.z+this._radius);return Math.min(e,s)}get id(){return this._id}get radius(){return this._radius}}class re{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;this._data=void 0,this._data=[t,e,s,i,r,n,a,o,h]}static getXRotationMatrix(t){const e=t*Math.PI/180,s=Math.cos(e),i=Math.sin(e);return new re(1,0,0,0,s,-i,0,i,s)}static getYRotationMatrix(t){const e=t*Math.PI/180,s=Math.cos(e),i=Math.sin(e);return new re(s,0,i,0,1,0,-i,0,s)}static getZRotationMatrix(t){const e=t*Math.PI/180,s=Math.cos(e),i=Math.sin(e);return new re(s,-i,0,i,s,0,0,0,1)}identity(){return this._data=[1,0,0,0,1,0,0,0,1],this}vectorMultiplication(t){const e=t.x*this._data[0]+t.y*this._data[3]+t.z*this._data[6],s=t.x*this._data[1]+t.y*this._data[4]+t.z*this._data[7],i=t.x*this._data[2]+t.y*this._data[5]+t.z*this._data[8];return new te(e,s,i)}multiply(t){const e=this._data[0]*t.data[0]+this._data[1]*t.data[3]+this._data[2]*t.data[6],s=this._data[0]*t.data[1]+this._data[1]*t.data[4]+this._data[2]*t.data[7],i=this._data[0]*t.data[2]+this._data[1]*t.data[5]+this._data[2]*t.data[8],r=this._data[3]*t.data[0]+this._data[4]*t.data[3]+this._data[5]*t.data[6],n=this._data[3]*t.data[1]+this._data[4]*t.data[4]+this._data[5]*t.data[7],a=this._data[3]*t.data[2]+this._data[4]*t.data[5]+this._data[5]*t.data[8],o=this._data[6]*t.data[0]+this._data[7]*t.data[3]+this._data[8]*t.data[6],h=this._data[6]*t.data[1]+this._data[7]*t.data[4]+this._data[8]*t.data[7],_=this._data[6]*t.data[2]+this._data[7]*t.data[5]+this._data[8]*t.data[8];return new re(e,s,i,r,n,a,o,h,_)}scalarMultiply(t){let e=0;for(;e<this._data.length;)this._data[e]=this._data[e]*t,e++}rotateX(t){const e=t*Math.PI/180,s=Math.cos(e),i=Math.sin(e);return new re(1,0,0,0,s,-i,0,i,s).multiply(this)}rotateY(t){const e=t*Math.PI/180,s=Math.cos(e),i=Math.sin(e);return new re(s,0,i,0,1,0,-i,0,s).multiply(this)}rotateZ(t){const e=t*Math.PI/180,s=Math.cos(e),i=Math.sin(e);return new re(s,-i,0,i,s,0,0,0,1).multiply(this)}skew(){}transpose(){return new re(this._data[0],this._data[3],this._data[6],this._data[1],this._data[4],this._data[7],this._data[2],this._data[5],this._data[8])}equals(t){return!1}get data(){return this._data}}re.IDENTITY=new re(1,0,0,0,1,0,0,0,1),re.TOLERANS=1e-18;class ne{constructor(t){this._camera=void 0,this._avatarSet=void 0,this._geometryTypes=void 0,this._itemIdToBodyPartMap=void 0,this._transformation=void 0,this._canvases=void 0,this._camera=new te(0,0,10),this._avatarSet=new $t(t.avatarSets[0]),this._geometryTypes=new Map,this._itemIdToBodyPartMap=new Map,this._transformation=new re,this._canvases=new Map;const e=t.camera;if(e&&(this._camera.x=parseFloat(e.x),this._camera.y=parseFloat(e.y),this._camera.z=parseFloat(e.z)),t.canvases&&t.canvases.length>0)for(const s of t.canvases){if(!s)continue;const t=s.scale,e=new Map;if(s.geometries&&s.geometries.length>0)for(const i of s.geometries){if(!i)continue;const s=new Jt(i,t);e.set(s.id,s)}this._canvases.set(t,e)}if(t.types&&t.types.length>0)for(const s of t.types){if(!s)continue;const t=new Map,e=new Map;if(s.bodyParts&&s.bodyParts.length>0)for(const i of s.bodyParts){if(!i)continue;const s=new ie(i);t.set(s.id,s);for(const t of s.getPartIds(null))e.set(t,s)}this._geometryTypes.set(s.id,t),this._itemIdToBodyPartMap.set(s.id,e)}}removeDynamicItems(t){for(const e of this._geometryTypes.values())if(e)for(const s of e.values())s&&s.removeDynamicParts(t)}getBodyPartIdsInAvatarSet(t){const e=this._avatarSet.findAvatarSet(t);return e?e.getBodyParts():[]}isMainAvatarSet(t){const e=this._avatarSet.findAvatarSet(t);return!!e&&e.isMain}getCanvas(t,e){const s=this._canvases.get(t);return s&&s.get(e)||null}typeExists(t){return!!this._geometryTypes.get(t)}hasBodyPart(t,e){if(this.typeExists(t)){const s=this._geometryTypes.get(t);if(s&&s.get(e))return!0}return!1}getBodyPartIDs(t){const e=this.getBodyPartsOfType(t),s=[];if(e)for(const i of e.values())i&&s.push(i.id);return s}getBodyPartsOfType(t){return this.typeExists(t)?this._geometryTypes.get(t):new Map}getBodyPart(t,e){return this.getBodyPartsOfType(t).get(e)||null}getBodyPartOfItem(t,e,s){const i=this._itemIdToBodyPartMap.get(t);if(i){const r=i.get(e);if(r)return r;const n=this.getBodyPartsOfType(t);if(n)for(const t of n.values())if(t&&t.hasPart(e,s))return t}return null}getBodyPartsInAvatarSet(t,e){const s=this.getBodyPartIdsInAvatarSet(e),i=[];for(const r of s){if(!r)continue;const e=t.get(r);e&&i.push(e)}return i}getBodyPartsAtAngle(t,e,s){if(!s)return[];const i=this.getBodyPartsOfType(s),r=this.getBodyPartsInAvatarSet(i,t),n=[],a=[];this._transformation=re.getYRotationMatrix(e);for(const o of r.values())o&&(o.applyTransform(this._transformation),n.push([o.getDistance(this._camera),o]));n.sort(((t,e)=>{const s=t[0],i=e[0];return s<i?-1:s>i?1:0}));for(const o of n)o&&a.push(o[1].id);return a}getParts(t,e,s,i,r){if(this.hasBodyPart(t,e)){const n=this.getBodyPartsOfType(t).get(e);return this._transformation=re.getYRotationMatrix(s),n.getParts(this._transformation,this._camera,i,r)}return[]}}class ae{constructor(t){if(this._frames=void 0,this._frames=[],t.frames&&t.frames.length>0)for(const e of t.frames){if(!e)continue;this._frames.push(new Qt(e));let t=e.repeats||0;if(t>1)for(;--t>0;)this._frames.push(this._frames[this._frames.length-1])}}get frames(){return this._frames}}class oe{constructor(t){if(this._id=void 0,this._actionParts=void 0,this._bodyPartOffsets=void 0,this._frameCount=void 0,this._frameIndexes=void 0,this._id=t.id,this._actionParts=new Map,this._bodyPartOffsets=new Map,this._frameCount=0,this._frameIndexes=[],t.parts&&t.parts.length>0)for(const e of t.parts){if(!e)continue;const t=new ae(e);this._actionParts.set(e.setType,t),this._frameCount=Math.max(this._frameCount,t.frames.length)}if(t.offsets&&t.offsets.frames&&t.offsets.frames.length>0)for(const e of t.offsets.frames){if(!e)continue;const t=e.id;this._frameCount=Math.max(this._frameCount,t);const s=new Map;if(this._bodyPartOffsets.set(t,s),e.directions&&e.directions.length>0)for(const i of e.directions){if(!i)continue;const t=i.id,e=new Map;if(s.set(t,e),i.bodyParts&&i.bodyParts.length>0)for(const s of i.bodyParts){if(!s)continue;const t=s.id;let i=0,r=0;void 0!==s.dx&&(i=s.dx),void 0!==s.dy&&(r=s.dy),e.set(t,new j.g(i,r))}}if(this._frameIndexes.push(t),void 0!==e.repeats){let s=e.repeats||0;if(s>1)for(;--s>0;)this._frameIndexes.push(t)}}}getPart(t){if(!t)return null;const e=this._actionParts.get(t);return e||null}getFrameBodyPartOffset(t,e,s){const i=e%this._frameIndexes.length,r=this._frameIndexes[i],n=this._bodyPartOffsets.get(r);if(!n)return oe.DEFAULT_OFFSET;const a=n.get(t);if(!a)return oe.DEFAULT_OFFSET;const o=a.get(s);return o||oe.DEFAULT_OFFSET}get id(){return this._id}get parts(){return this._actionParts}get frameCount(){return this._frameCount}}oe.DEFAULT_OFFSET=new j.g(0,0);class he{constructor(){this._actions=void 0,this._actions=new Map}parse(t){if(t&&t.length>0)for(const e of t){if(!e)continue;const t=new oe(e);this._actions.set(t.id,t)}return!0}appendJSON(t){for(const e of t.action)this._actions.set(e.id,new oe(e));return!0}getAction(t){const e=this._actions.get(t.id);return e||null}getFrameCount(t){const e=this.getAction(t);return e?e.frameCount:0}}class _e{constructor(t){if(this._id=void 0,this._index=void 0,this._clubLevel=void 0,this._isSelectable=void 0,this._rgb=void 0,!t)throw new Error(\"invalid_data\");this._id=t.id,this._index=t.index,this._clubLevel=t.club||0,this._isSelectable=t.selectable,this._rgb=parseInt(\"0x\"+t.hexCode,16)}get id(){return this._id}get index(){return this._index}get clubLevel(){return this._clubLevel}get isSelectable(){return this._isSelectable}get rgb(){return this._rgb}}class de{constructor(t){if(this._id=void 0,this._colors=void 0,!t)throw new Error(\"invalid_data\");this._id=t.id,this._colors=new U,this.append(t)}append(t){for(const e of t.colors){const t=new _e(e);this._colors.add(e.id.toString(),t)}}getColor(t){return void 0===t||t<0?null:this._colors.getValue(t.toString())||null}get id(){return this._id}get colors(){return this._colors}}class ue{constructor(t){if(this._id=void 0,this._type=void 0,this._breed=void 0,this._index=void 0,this._colorLayerIndex=void 0,this._paletteMapId=void 0,!t)throw new Error(\"invalid_data\");this._id=t.id,this._type=t.type,this._index=t.index,this._colorLayerIndex=t.colorindex,this._paletteMapId=-1,this._breed=-1}dispose(){}get id(){return this._id}get type(){return this._type}get breed(){return this._breed}get index(){return this._index}get colorLayerIndex(){return this._colorLayerIndex}get paletteMap(){return this._paletteMapId}}class ce{constructor(t,e){if(this._id=void 0,this._type=void 0,this._gender=void 0,this._clubLevel=void 0,this._isColorable=void 0,this._isSelectable=void 0,this._parts=void 0,this._hiddenLayers=void 0,this._isPreSelectable=void 0,this._isSellable=void 0,!t||!e)throw new Error(\"invalid_data\");this._id=e.id,this._type=t,this._gender=e.gender,this._clubLevel=e.club,this._isColorable=e.colorable,this._isSelectable=e.selectable,this._parts=[],this._hiddenLayers=[],this._isPreSelectable=e.preselectable,this._isSellable=e.sellable;for(const s of e.parts){const t=new ue(s),e=this.getPartIndex(t);-1!==e?this._parts.splice(e,0,t):this._parts.push(t)}if(e.hiddenLayers)for(const s of e.hiddenLayers)this._hiddenLayers.push(s.partType)}dispose(){for(const t of this._parts){t.dispose()}this._parts=null,this._hiddenLayers=null}getPartIndex(t){const e=this._parts.length;if(!e)return-1;for(let s=0;s<e;s++){const e=this._parts[s];if(e&&!(e.type!==t.type||e.index>t.index))return s}return-1}getPart(t,e){for(const s of this._parts)if(s.type===t&&s.id===e)return s;return null}get id(){return this._id}get type(){return this._type}get gender(){return this._gender}get clubLevel(){return this._clubLevel}get isColorable(){return this._isColorable}get isSelectable(){return this._isSelectable}get parts(){return this._parts}get hiddenLayers(){return this._hiddenLayers}get isPreSelectable(){return this._isPreSelectable}get isSellable(){return this._isSellable}}class le{constructor(t){if(this._type=void 0,this._paletteId=void 0,this._isMandatory=void 0,this._partSets=void 0,!t)throw new Error(\"invalid_data\");this._type=t.type,this._paletteId=t.paletteId,this._isMandatory={},this._isMandatory.F=[t.mandatory_f_0,t.mandatory_f_1],this._isMandatory.M=[t.mandatory_m_0,t.mandatory_m_1],this._partSets=new U,this.append(t)}dispose(){for(const t of this._partSets.getValues()){t.dispose()}this._partSets=null}cleanUp(t){for(const e of t.sets){const t=e.id.toString(),s=this._partSets.getValue(t);s&&(s.dispose(),this._partSets.remove(t))}}append(t){if(t&&t.sets)for(const e of t.sets)this._partSets.add(e.id.toString(),new ce(this._type,e))}getDefaultPartSet(t){for(const e of this._partSets.getValues())if(e&&0===e.clubLevel&&(e.gender===t||\"U\"===e.gender))return e;return null}getPartSet(t){return this._partSets.getValue(t.toString())}get type(){return this._type}get paletteID(){return this._paletteId}isMandatory(t,e){return this._isMandatory[t.toUpperCase()][Math.min(e,1)]}optionalFromClubLevel(t){return this._isMandatory[t.toUpperCase()].indexOf(!1)}get partSets(){return this._partSets}}class ge{constructor(){this._palettes=void 0,this._setTypes=void 0,this._palettes=new Map,this._setTypes=new Map}dispose(){}parse(t){if(!t)return!1;for(const e of t.palettes){const t=new de(e);t&&this._palettes.set(t.id.toString(),t)}for(const e of t.setTypes){const t=new le(e);t&&this._setTypes.set(t.type,t)}return!0}injectJSON(t){for(const e of t.setTypes){const t=this._setTypes.get(e.type);t?t.cleanUp(e):this._setTypes.set(e.type,new le(e))}this.appendJSON(t)}appendJSON(t){if(!t)return!1;for(const e of t.palettes){const t=e.id.toString(),s=this._palettes.get(t);s?s.append(e):this._palettes.set(t,new de(e))}for(const e of t.setTypes){const t=e.type,s=this._setTypes.get(t);s?s.append(e):this._setTypes.set(t,new le(e))}return!1}getMandatorySetTypeIds(t,e){const s=[];for(const i of this._setTypes.values())i&&i.isMandatory(t,e)&&s.push(i.type);return s}getDefaultPartSet(t,e){const s=this._setTypes.get(t);return s?s.getDefaultPartSet(e):null}getSetType(t){return this._setTypes.get(t)||null}getPalette(t){return this._palettes.get(t.toString())||null}getFigurePartSet(t){for(const e of this._setTypes.values()){const s=e.getPartSet(t);if(s)return s}return null}}class Ee{constructor(t){if(this._id=void 0,this._parts=void 0,this._id=t.id,this._parts=[],t.activeParts&&t.activeParts.length>0)for(const e of t.activeParts)e&&this._parts.push(e.setType)}get parts(){return this._parts}}class pe{constructor(t){if(this._setType=void 0,this._flippedSetType=void 0,this._removeSetType=void 0,this._appendToFigure=void 0,this._staticId=void 0,!t)throw new Error(\"invalid_data\");this._setType=t.setType,this._flippedSetType=t.flippedSetType||null,this._removeSetType=t.removeSetType||null,this._appendToFigure=!1,this._staticId=-1}hasStaticId(){return this._staticId>=0}get staticId(){return this._staticId}set staticId(t){this._staticId=t}get setType(){return this._setType}get flippedSetType(){return this._flippedSetType}set flippedSetType(t){this._flippedSetType=t}get removeSetType(){return this._removeSetType}get appendToFigure(){return this._appendToFigure}set appendToFigure(t){this._appendToFigure=t}}class me{constructor(){this._parts=void 0,this._activePartSets=void 0,this._parts=new Map,this._activePartSets=new Map}parse(t){if(t.partSet&&t.partSet.length>0)for(const e of t.partSet)e&&this._parts.set(e.setType,new pe(e));if(t.activePartSets&&t.activePartSets.length>0)for(const e of t.activePartSets)e&&this._activePartSets.set(e.id,new Ee(e));return!0}appendJSON(t){if(t.partSet&&t.partSet.length>0)for(const e of t.partSet)e&&this._parts.set(e.setType,new pe(e));if(t.activePartSets&&t.activePartSets.length>0)for(const e of t.activePartSets)e&&this._activePartSets.set(e.id,new Ee(e));return!1}getActiveParts(t){const e=this._activePartSets.get(t.activePartSet);return e?e.parts:[]}getPartDefinition(t){const e=this._parts.get(t);return e||null}addPartDefinition(t){const e=t.setType;let s=this._parts.get(e);return s||(s=new pe(t),this._parts.set(e,s)),s}getActivePartSet(t){const e=this._activePartSets.get(t.activePartSet);return e||null}get parts(){return this._parts}get activePartSets(){return this._activePartSets}}class Ie extends g{constructor(t){super(),this._renderManager=void 0,this._geometry=void 0,this._figureData=void 0,this._partSetsData=void 0,this._animationData=void 0,this._animationManager=void 0,this._mandatorySetTypeIds=void 0,this._actionManager=void 0,this._defaultAction=void 0,this._renderManager=t,this._geometry=null,this._figureData=new ge,this._partSetsData=new me,this._animationData=new he,this._animationManager=new qt,this._mandatorySetTypeIds={},this._actionManager=null,this._defaultAction=null}init(){}dispose(){this.disposed||(super.dispose(),this._renderManager=null,this._figureData=null,this._partSetsData=null,this._animationData=null,this._mandatorySetTypeIds=null)}initGeometry(t){t&&(this._geometry=new ne(t))}initActions(t,e){e&&(this._actionManager=new kt(t,e),this._defaultAction=this._actionManager.getDefaultAction())}updateActions(t){this._actionManager.updateActions(t),this._defaultAction=this._actionManager.getDefaultAction()}initPartSets(t){return!!t&&(!!this._partSetsData.parse(t)&&(this._partSetsData.getPartDefinition(\"ri\").appendToFigure=!0,this._partSetsData.getPartDefinition(\"li\").appendToFigure=!0,!0))}initAnimation(t){return!!t&&this._animationData.parse(t)}initFigureData(t){return!!t&&this._figureData.parse(t)}injectFigureData(t){this._figureData.injectJSON(t)}registerAnimations(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"fx\",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=0;for(;i<s;){const s=t.getCollection(e+i);if(s){const t=s.data;this._animationManager.registerAnimation(this,t.animations)}i++}}registerAnimation(t){this._animationManager.registerAnimation(this,t)}getPartColor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t.getPartColorIds(e);if(!i||i.length<s)return null;const r=this._figureData.getSetType(e);if(null==r)return null;const n=this._figureData.getPalette(r.paletteID);return n?n.getColor(i[s]):null}getBodyPartData(t,e,s){return this._animationManager.getLayerData(t,e,s)}getAnimation(t){return this._animationManager.getAnimation(t)}getActionDefinition(t){return this._actionManager.getActionDefinition(t)}getActionDefinitionWithState(t){return this._actionManager.getActionDefinitionWithState(t)}isMainAvatarSet(t){return this._geometry.isMainAvatarSet(t)}sortActions(t){return this._actionManager.sortActions(t)}maxFrames(t){let e=0;for(const s of t)e=Math.max(e,this._animationData.getFrameCount(s.definition));return e}getMandatorySetTypeIds(t,e){return this._mandatorySetTypeIds[t]||(this._mandatorySetTypeIds[t]=[]),this._mandatorySetTypeIds[t][e]||(this._mandatorySetTypeIds[t][e]=this._figureData.getMandatorySetTypeIds(t,e)),this._mandatorySetTypeIds[t][e]}getDefaultPartSet(t,e){return this._figureData.getDefaultPartSet(t,e)}getCanvasOffsets(t,e,s){return this._actionManager.getCanvasOffsets(t,e,s)}getCanvas(t,e){return this._geometry.getCanvas(t,e)}removeDynamicItems(t){this._geometry.removeDynamicItems(t)}getActiveBodyPartIds(t,e){let s=[];const i=[],r=t.definition.geometryType;if(t.definition.isAnimation){const n=t.definition.state+\".\"+t.actionParameter,a=this._animationManager.getAnimation(n);if(a&&(s=a.getAnimatedBodyPartIds(0,t.overridingAction),a.hasAddData())){const t={id:\"\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:1},s={setType:\"\"};for(const n of a.addData){const a=this._geometry.getBodyPart(r,n.align);if(a){t.id=n.id,a.addPart(t,e),s.setType=n.id;const r=this._partSetsData.addPartDefinition(s);r.appendToFigure=!0,\"\"===n.base&&(r.staticId=1),-1===i.indexOf(a.id)&&i.push(a.id)}}}for(const t of s){const e=this._geometry.getBodyPart(r,t);e&&-1===i.indexOf(e.id)&&i.push(e.id)}}else{s=this._partSetsData.getActiveParts(t.definition);for(const t of s){const s=this._geometry.getBodyPartOfItem(r,t,e);s&&-1===i.indexOf(s.id)&&i.push(s.id)}}return i}getBodyPartsUnordered(t){return this._geometry.getBodyPartIdsInAvatarSet(t)}getBodyParts(t,e,s){const i=Mt.DIRECTION_TO_ANGLE[s];return this._geometry.getBodyPartsAtAngle(t,i,e)}getFrameBodyPartOffset(t,e,s,i){const r=this._animationData.getAction(t.definition);return r?r.getFrameBodyPartOffset(e,s,i):oe.DEFAULT_OFFSET}getParts(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;let h=null,_=[],d=null;if(null==!s)return[];const u=this._partSetsData.getActiveParts(s.definition),c=[];let l=[0];const g=this._animationData.getAction(s.definition);if(s.definition.isAnimation){const e=s.definition.state+\".\"+s.actionParameter,r=this._animationManager.getAnimation(e);if(r){l=this.getPopulatedArray(r.frameCount(s.overridingAction));for(const e of r.getAnimatedBodyPartIds(0,s.overridingAction))if(e===t){const t=this._geometry.getBodyPart(i,e);if(t)for(const e of t.getDynamicParts(a))u.push(e.id)}}}const E=this._geometry.getParts(i,t,r,u,a),p=e.getPartTypeIds();for(const I of p){if(o&&o.get(I))continue;const i=e.getPartSetId(I),r=e.getPartColorIds(I),a=this._figureData.getSetType(I);if(a){const e=this._figureData.getPalette(a.paletteID);if(e){const o=a.getPartSet(i);if(o){n=n.concat(o.hiddenLayers);for(const i of o.parts)if(E.indexOf(i.type)>-1){if(g){const t=g.getPart(i.type);_=t?t.frames:l}else _=l;h=s.definition,-1===u.indexOf(i.type)&&(h=this._defaultAction);const n=this._partSetsData.getPartDefinition(i.type);let a=n?n.flippedSetType:i.type;a&&\"\"!==a||(a=i.type),r&&r.length>i.colorLayerIndex-1&&(d=e.getColor(r[i.colorLayerIndex-1]));const o=i.colorLayerIndex>0,E=new Zt(t,i.type,i.id.toString(),d,_,h,o,i.paletteMap,a);c.push(E)}}}}}const m=[];for(const I of E){let e=null,r=!1;const h=o&&o.get(I);for(const t of c)t.partType===I&&(h?e=t.color:(r=!0,-1===n.indexOf(I)&&m.push(t)));if(!r)if(h){const i=o.get(I);let r=0,n=0;for(;n<i.length;)r+=i.charCodeAt(n),n++;if(g){const t=g.getPart(I);_=t?t.frames:l}else _=l;const a=new Zt(t,I,i,e,_,s.definition,!(null==e),-1,I,!1,1);m.push(a)}else if(u.indexOf(I)>-1){if(t!==this._geometry.getBodyPartOfItem(i,I,a).id);else{const e=this._partSetsData.getPartDefinition(I);let i=!1,r=1;if(e.appendToFigure){let n=\"1\";if(\"\"!==s.actionParameter&&(n=s.actionParameter),e.hasStaticId()&&(n=e.staticId.toString()),g){const t=g.getPart(I);_=t?t.frames:l}else _=l;const a=new Zt(t,I,n,null,_,s.definition,!1,-1,I,i,r);m.push(a)}}}}return m}getPopulatedArray(t){const e=[];let s=0;for(;s<t;)e.push(s),s++;return e}getItemIds(){if(this._actionManager){const t=this._actionManager.getActionDefinition(\"CarryItem\").params,e=[];for(const s of t.values())e.push(s);return e}return[]}get renderManager(){return this._renderManager}get figureData(){return this._figureData}get partData(){return this._partSetsData}get animationManager(){return this._animationManager}}const fe=[{id:\"Move\",parts:[{setType:\"bd\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"bds\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"ss\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"lg\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"sh\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"lh\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"lhs\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"ls\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"lc\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"rh\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"rhs\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"rs\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"rc\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]},{setType:\"ch\",frames:[{number:0,assetPartDefinition:\"wlk\"},{number:1,assetPartDefinition:\"wlk\"},{number:2,assetPartDefinition:\"wlk\"},{number:3,assetPartDefinition:\"wlk\"}]}]},{id:\"Wave\",parts:[{setType:\"lh\",frames:[{number:0,assetPartDefinition:\"wav\"},{number:1,assetPartDefinition:\"wav\"}]},{setType:\"lhs\",frames:[{number:0,assetPartDefinition:\"wav\"},{number:1,assetPartDefinition:\"wav\"}]},{setType:\"ls\",frames:[{number:0,assetPartDefinition:\"wav\"},{number:1,assetPartDefinition:\"wav\"}]},{setType:\"lc\",frames:[{number:0,assetPartDefinition:\"wav\"},{number:1,assetPartDefinition:\"wav\"}]},{setType:\"ch\",frames:[{number:0,assetPartDefinition:\"wav\"},{number:1,assetPartDefinition:\"wav\"},{number:2,assetPartDefinition:\"wav\"},{number:3,assetPartDefinition:\"wav\"}]}]},{id:\"Talk\",parts:[{setType:\"hd\",frames:[{number:0,assetPartDefinition:\"spk\"},{number:1,assetPartDefinition:\"spk\"}]},{setType:\"fc\",frames:[{number:0,assetPartDefinition:\"spk\"},{number:1,assetPartDefinition:\"spk\"}]},{setType:\"fa\",frames:[{number:0,assetPartDefinition:\"spk\"},{number:1,assetPartDefinition:\"spk\"}]}]},{id:\"Sign\",parts:[{setType:\"lh\",frames:[{number:0,assetPartDefinition:\"sig\"}]},{setType:\"li\",frames:[{number:0,assetPartDefinition:\"sig\"}]},{setType:\"ls\",frames:[{number:0,assetPartDefinition:\"wav\"}]},{setType:\"lc\",frames:[{number:0,assetPartDefinition:\"wav\"}]}]},{id:\"Respect\",parts:[{setType:\"lh\",frames:[{number:0,assetPartDefinition:\"respect\",repeats:15},{number:1,assetPartDefinition:\"respect\",repeats:15}]},{setType:\"ls\",frames:[{number:0,assetPartDefinition:\"wav\",repeats:15},{number:1,assetPartDefinition:\"wav\",repeats:15}]},{setType:\"lc\",frames:[{number:0,assetPartDefinition:\"wav\",repeats:15},{number:1,assetPartDefinition:\"wav\",repeats:15}]}]},{id:\"Blow\",parts:[{setType:\"rh\",frames:[{number:0,assetPartDefinition:\"blw\",repeats:10},{number:1,assetPartDefinition:\"blw\",repeats:10}]},{setType:\"rs\",frames:[{number:0,assetPartDefinition:\"drk\"}]},{setType:\"rc\",frames:[{number:0,assetPartDefinition:\"drk\"}]},{setType:\"ri\",frames:[{number:0,assetPartDefinition:\"\"}]},{setType:\"ey\",frames:[{number:0,assetPartDefinition:\"std\",repeats:10},{number:0,assetPartDefinition:\"eyb\",repeats:10}]},{setType:\"fc\",frames:[{number:0,assetPartDefinition:\"std\",repeats:10},{number:0,assetPartDefinition:\"blw\",repeats:10}]}]},{id:\"Laugh\",parts:[{setType:\"rh\",frames:[{number:0,assetPartDefinition:\"blw\"}]},{setType:\"rs\",frames:[{number:0,assetPartDefinition:\"drk\"}]},{setType:\"rc\",frames:[{number:0,assetPartDefinition:\"drk\"}]},{setType:\"ri\",frames:[{number:0,assetPartDefinition:\"\"}]},{setType:\"ey\",frames:[{number:0,assetPartDefinition:\"std\",repeats:2}]},{setType:\"fc\",frames:[{number:0,assetPartDefinition:\"sml\"}]}],offsets:{frames:[{id:0,directions:[{id:0,bodyParts:[{id:\"head\",dx:0,dy:1}]},{id:1,bodyParts:[{id:\"head\",dx:0,dy:1}]},{id:2,bodyParts:[{id:\"head\",dx:0,dy:1}]},{id:3,bodyParts:[{id:\"head\",dx:0,dy:1}]},{id:4,bodyParts:[{id:\"head\",dx:0,dy:1}]},{id:5,bodyParts:[{id:\"head\",dx:0,dy:1}]},{id:6,bodyParts:[{id:\"head\",dx:0,dy:1}]},{id:7,bodyParts:[{id:\"head\",dx:0,dy:1}]}]},{id:1,directions:[{id:0,bodyParts:[{id:\"head\",dx:0,dy:0}]},{id:1,bodyParts:[{id:\"head\",dx:0,dy:0}]},{id:2,bodyParts:[{id:\"head\",dx:0,dy:0}]},{id:3,bodyParts:[{id:\"head\",dx:0,dy:0}]},{id:4,bodyParts:[{id:\"head\",dx:0,dy:0}]},{id:5,bodyParts:[{id:\"head\",dx:0,dy:0}]},{id:6,bodyParts:[{id:\"head\",dx:0,dy:0}]},{id:7,bodyParts:[{id:\"head\",dx:0,dy:0}]}]}]}}],Te={direction:0,camera:{x:0,y:0,z:10},canvases:[{scale:\"h\",geometries:[{id:\"vertical\",width:90,height:130,dx:0,dy:0},{id:\"sitting\",width:90,height:130,dx:0,dy:0},{id:\"horizontal\",width:128,height:80,dx:30,dy:0},{id:\"swhorizontal\",width:192,height:120,dx:0,dy:-40}]},{scale:\"sh\",geometries:[{id:\"vertical\",width:45,height:72,dx:0,dy:0},{id:\"sitting\",width:45,height:72,dx:0,dy:0},{id:\"horizontal\",width:64,height:50,dx:15,dy:-10},{id:\"swhorizontal\",width:96,height:70,dx:0,dy:-20},{id:\"swim\",width:64,height:70,dx:25,dy:10}]}],avatarSets:[{id:\"full\",avatarSets:[{id:\"body\",main:!0,bodyParts:[{id:\"top\"},{id:\"bottom\"},{id:\"behind\"},{id:\"torso\"},{id:\"leftitem\"},{id:\"rightitem\"},{id:\"leftarm\"},{id:\"rightarm\"}]},{id:\"head\",bodyParts:[{id:\"head\"}]}]}],types:[{id:\"vertical\",bodyParts:[{id:\"top\",x:0,y:0,z:0,radius:2},{id:\"bottom\",x:0,y:0,z:0,radius:.001},{id:\"behind\",x:0,y:0,z:.2,radius:.3},{id:\"torso\",x:0,y:0,z:0,radius:.4,items:[{id:\"bd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"bds\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"ch\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:\"sh\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"lg\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"ss\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:\"cp\",x:0,y:0,z:0,radius:.045,nx:0,ny:0,nz:-1,double:!1},{id:\"wa\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:\"cc\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ca\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"li\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"ri\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftarm\",x:-1,y:0,z:-.51,radius:.5,items:[{id:\"lh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"lhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"ls\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"lc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightarm\",x:1,y:0,z:-.51,radius:.5,items:[{id:\"rh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rs\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"rc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"head\",x:0,y:0,z:0,radius:.5,items:[{id:\"hd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"fc\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"ey\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"hr\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:\"hrb\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:\"fa\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ea\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:\"ha\",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:\"he\",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:\"sitting\",bodyParts:[{id:\"top\",x:0,y:0,z:0,radius:2},{id:\"bottom\",x:0,y:0,z:0,radius:.001},{id:\"behind\",x:0,y:0,z:.2,radius:.3},{id:\"torso\",x:0,y:0,z:0,radius:.4,items:[{id:\"bd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"bds\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"ch\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"sh\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:\"lg\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"ss\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:\"cp\",x:0,y:0,z:0,radius:.045,nx:0,ny:0,nz:-1,double:!1},{id:\"wa\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:\"cc\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ca\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"li\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"ri\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftarm\",x:-1,y:0,z:-.51,radius:.5,items:[{id:\"lh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"lhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"ls\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"lc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightarm\",x:1,y:0,z:-.51,radius:.5,items:[{id:\"rh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rs\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"rc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"head\",x:0,y:0,z:0,radius:.5,items:[{id:\"hd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"fc\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"ey\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"hr\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:\"hrb\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:\"fa\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ea\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:\"ha\",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:\"he\",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:\"horizontal\",bodyParts:[{id:\"torso\",x:0,y:0,z:0,radius:.4,items:[{id:\"bd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"bds\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"ch\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"cp\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1},{id:\"sh\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:\"lg\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"ss\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"wa\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:\"cc\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ca\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"li\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"ri\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftarm\",x:-1,y:0,z:-.51,radius:.6,items:[{id:\"lh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"lhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"ls\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"lc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightarm\",x:1,y:0,z:-.51,radius:.6,items:[{id:\"rh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rs\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"rc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"head\",x:0,y:0,z:0,radius:.5,items:[{id:\"hd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"fc\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"ey\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"hr\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:\"hrb\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:\"fa\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ea\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:\"ha\",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:\"he\",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:\"swhorizontal\",bodyParts:[{id:\"torso\",x:0,y:0,z:0,radius:.4,items:[{id:\"bd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"bds\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"ch\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"cp\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1},{id:\"sh\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:\"lg\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"ss\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"wa\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:\"cc\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ca\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"li\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightitem\",x:0,y:0,z:-.29,radius:.3,items:[{id:\"ri\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:\"leftarm\",x:-1,y:0,z:-.51,radius:.6,items:[{id:\"lh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"lhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"ls\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"lc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"rightarm\",x:1,y:0,z:-.51,radius:.6,items:[{id:\"rh\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rhs\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:\"rs\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"rc\",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:\"head\",x:0,y:0,z:0,radius:.5,items:[{id:\"hd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"fc\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"ey\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"hr\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:\"hrb\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:\"fa\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ea\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:\"ha\",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:\"he\",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:\"swim\",bodyParts:[{id:\"torso\",x:0,y:0,z:0,radius:.4,items:[{id:\"bds\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"ss\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1}]},{id:\"head\",x:0,y:0,z:0,radius:.5,items:[{id:\"hd\",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:\"fc\",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:\"ey\",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:\"hr\",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:\"hrb\",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:\"fa\",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:\"ea\",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:\"ha\",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:\"he\",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]}]},Re={partSet:[{setType:\"ri\",flippedSetType:\"ri\"},{setType:\"ri\",flippedSetType:\"ri\"},{setType:\"rh\",flippedSetType:\"lh\"},{setType:\"rhs\",flippedSetType:\"lhs\"},{setType:\"rs\",swim:\"0\",flippedSetType:\"ls\"},{setType:\"rc\",flippedSetType:\"lc\"},{setType:\"bd\"},{setType:\"bds\"},{setType:\"ss\"},{setType:\"sh\"},{setType:\"lg\"},{setType:\"ch\"},{setType:\"cp\"},{setType:\"cc\"},{setType:\"hd\"},{setType:\"fc\"},{setType:\"ey\"},{setType:\"hr\"},{setType:\"hrb\",removeSetType:\"hr\"},{setType:\"li\",flippedSetType:\"li\"},{setType:\"lh\",flippedSetType:\"rh\"},{setType:\"lhs\",flippedSetType:\"rhs\"},{setType:\"ls\",flippedSetType:\"rs\"},{setType:\"lc\",flippedSetType:\"rc\"},{setType:\"wa\"},{setType:\"ea\"},{setType:\"ca\"},{setType:\"fa\"},{setType:\"ha\"},{setType:\"he\"}],activePartSets:[{id:\"figure\",activeParts:[{setType:\"rh\"},{setType:\"rh\"},{setType:\"rhs\"},{setType:\"rs\"},{setType:\"rc\"},{setType:\"bd\"},{setType:\"bds\"},{setType:\"ss\"},{setType:\"sh\"},{setType:\"lg\"},{setType:\"ch\"},{setType:\"cp\"},{setType:\"cc\"},{setType:\"wa\"},{setType:\"hd\"},{setType:\"fc\"},{setType:\"ey\"},{setType:\"hr\"},{setType:\"hrb\"},{setType:\"lh\"},{setType:\"lhs\"},{setType:\"ls\"},{setType:\"lc\"},{setType:\"ea\"},{setType:\"ca\"},{setType:\"fa\"},{setType:\"ha\"},{setType:\"he\"}]},{id:\"head\",activeParts:[{setType:\"hd\"},{setType:\"fc\"},{setType:\"ey\"},{setType:\"hr\"},{setType:\"hrb\"},{setType:\"ea\"},{setType:\"fa\"},{setType:\"ha\"},{setType:\"he\"}]},{id:\"speak\",activeParts:[{setType:\"hd\"},{setType:\"hr\"},{setType:\"hrb\"},{setType:\"fc\"},{setType:\"fa\"},{setType:\"ha\"}]},{id:\"gesture\",activeParts:[{setType:\"ey\"},{setType:\"fc\"}]},{id:\"eye\",activeParts:[{setType:\"ey\"}]},{id:\"handRight\",activeParts:[{setType:\"rh\"},{setType:\"rhs\"},{setType:\"rs\"},{setType:\"rc\"},{setType:\"ri\"}]},{id:\"handRightAndHead\",activeParts:[{setType:\"rh\"},{setType:\"rhs\"},{setType:\"rs\"},{setType:\"rc\"},{setType:\"ri\"},{setType:\"ey\"},{setType:\"fc\"},{setType:\"hd\"}]},{id:\"handLeft\",activeParts:[{setType:\"lh\"},{setType:\"lhs\"},{setType:\"ls\"},{setType:\"lc\"},{setType:\"li\"}]},{id:\"walk\",activeParts:[{setType:\"bd\"},{setType:\"bds\"},{setType:\"ss\"},{setType:\"lg\"},{setType:\"lh\"},{setType:\"lhs\"},{setType:\"rh\"},{setType:\"rhs\"},{setType:\"ls\"},{setType:\"lc\"},{setType:\"rs\"},{setType:\"rc\"},{setType:\"sh\"}]},{id:\"sit\",activeParts:[{setType:\"bd\"},{setType:\"bds\"},{setType:\"ss\"},{setType:\"lg\"},{setType:\"sh\"},{setType:\"cc\"}]},{id:\"itemRight\",activeParts:[{setType:\"ri\"}]}]};class ve extends d.a{constructor(t,e){super(t),this._library=void 0,this._library=e}get library(){return this._library}}ve.DOWNLOAD_COMPLETE=\"ARELE_DOWNLOAD_COMPLETE\";class Oe extends g{constructor(t,e,s,i){super(),this._state=void 0,this._libraryName=void 0,this._revision=void 0,this._downloadUrl=void 0,this._assets=void 0,this._animation=void 0,this._state=Oe.NOT_LOADED,this._libraryName=t,this._revision=e,this._downloadUrl=i,this._assets=s,this._animation=null,this._downloadUrl=this._downloadUrl.replace(/%libname%/gi,this._libraryName),this._downloadUrl=this._downloadUrl.replace(/%revision%/gi,this._revision);this._assets.getCollection(this._libraryName)&&(this._state=Oe.LOADED)}downloadAsset(){if(!this._assets||this._state===Oe.LOADING||this._state===Oe.LOADED)return;if(this._assets.getCollection(this._libraryName))return this._state=Oe.LOADED,void this.dispatchEvent(new ve(ve.DOWNLOAD_COMPLETE,this));this._state=Oe.LOADING,this._assets.downloadAsset(this._downloadUrl,(t=>{if(t){this._state=Oe.LOADED;const t=this._assets.getCollection(this._libraryName);t&&(this._animation=t.data.animations),this.dispatchEvent(new ve(ve.DOWNLOAD_COMPLETE,this))}}))}get libraryName(){return this._libraryName}get animation(){return this._animation}get isLoaded(){return this._state===Oe.LOADED}}Oe.DOWNLOAD_COMPLETE=\"EADL_DOWNLOAD_COMPLETE\",Oe.NOT_LOADED=0,Oe.LOADING=1,Oe.LOADED=2;class Ae extends g{constructor(t,e){super(),this._assets=void 0,this._structure=void 0,this._missingMandatoryLibs=void 0,this._effectMap=void 0,this._initDownloadBuffer=void 0,this._effectListeners=void 0,this._incompleteEffects=void 0,this._pendingDownloadQueue=void 0,this._currentDownloads=void 0,this._libraryNames=void 0,this._isReady=void 0,this._assets=t,this._structure=e,this._missingMandatoryLibs=lL.instance.getConfiguration(\"avatar.mandatory.effect.libraries\"),this._effectMap=new Map,this._effectListeners=new Map,this._incompleteEffects=new Map,this._initDownloadBuffer=[],this._pendingDownloadQueue=[],this._currentDownloads=[],this._libraryNames=[],this._isReady=!1,this.onLibraryLoaded=this.onLibraryLoaded.bind(this),this.onAvatarRenderReady=this.onAvatarRenderReady.bind(this),this.loadEffectMap(),this._structure.renderManager.events.addEventListener(ft.AVATAR_RENDER_READY,this.onAvatarRenderReady)}loadEffectMap(){const t=new XMLHttpRequest;try{t.open(\"GET\",lL.instance.getConfiguration(\"avatar.effectmap.url\")),t.send(),t.onloadend=e=>{if(t.responseText){const e=JSON.parse(t.responseText);this.processEffectMap(e.effects),this.processMissingLibraries(),this._isReady=!0,this.dispatchEvent(new d.a(Ae.DOWNLOADER_READY))}},t.onerror=t=>{throw new Error(\"invalid_avatar_effect_map\")}}catch(e){l.log(e)}}processEffectMap(t){if(t)for(const e of t){if(!e)continue;const t=e.id,s=e.lib,i=e.revision||\"\";if(this._libraryNames.indexOf(s)>=0)continue;this._libraryNames.push(s);const r=new Oe(s,i,this._assets,lL.instance.getConfiguration(\"avatar.asset.effect.url\"));r.addEventListener(ve.DOWNLOAD_COMPLETE,this.onLibraryLoaded);let n=this._effectMap.get(t);n||(n=[]),n.push(r),this._effectMap.set(t,n)}}downloadAvatarEffect(t,e){if(!this._isReady||!this._structure.renderManager.isReady)return void this._initDownloadBuffer.push([t,e]);const s=this.getAvatarEffectPendingLibraries(t);if(s&&s.length){if(e&&!e.disposed){let s=this._effectListeners.get(t.toString());s||(s=[]),s.push(e),this._effectListeners.set(t.toString(),s)}this._incompleteEffects.set(t.toString(),s);for(const t of s)t&&this.downloadLibrary(t)}else e&&!e.disposed&&e.resetEffect(t)}onAvatarRenderReady(t){if(t){for(const[t,e]of this._initDownloadBuffer)this.downloadAvatarEffect(t,e);this._initDownloadBuffer=[]}}onLibraryLoaded(t){if(!t||!t.library)return;const e=[];this._structure.registerAnimation(t.library.animation);for(const[i,r]of this._incompleteEffects.entries()){let t=!0;for(const e of r)if(e&&!e.isLoaded){t=!1;break}if(t){e.push(i);const t=this._effectListeners.get(i);for(const e of t)e&&!e.disposed&&e.resetEffect(parseInt(i));this._effectListeners.delete(i),this.dispatchEvent(new d.a(Ae.LIBRARY_LOADED))}}for(const i of e)this._incompleteEffects.delete(i);let s=0;for(;s<this._currentDownloads.length;){const e=this._currentDownloads[s];e&&e.libraryName===t.library.libraryName&&this._currentDownloads.splice(s,1),s++}}processMissingLibraries(){const t=this._missingMandatoryLibs.slice();for(const e of t){if(!e)continue;const t=this._effectMap.get(e);if(t)for(const e of t)e&&this.downloadLibrary(e)}}isAvatarEffectReady(t){if(!this._isReady||!this._structure.renderManager.isReady)return!1;return!this.getAvatarEffectPendingLibraries(t).length}getAvatarEffectPendingLibraries(t){const e=[];if(!this._structure)return e;const s=this._effectMap.get(t.toString());if(s)for(const i of s)i&&!i.isLoaded&&-1===e.indexOf(i)&&e.push(i);return e}downloadLibrary(t){t&&!t.isLoaded&&(this._pendingDownloadQueue.indexOf(t)>=0||this._currentDownloads.indexOf(t)>=0||(this._pendingDownloadQueue.push(t),this.processDownloadQueue()))}processDownloadQueue(){for(;this._pendingDownloadQueue.length;){this._pendingDownloadQueue[0].downloadAsset(),this._currentDownloads.push(this._pendingDownloadQueue.shift())}}}Ae.DOWNLOADER_READY=\"EADM_DOWNLOADER_READY\",Ae.LIBRARY_LOADED=\"EADM_LIBRARY_LOADED\",Ae.MAX_DOWNLOADS=2;class Se extends Ht{constructor(t,e,s,i,r){super(t,e,s,i,r,null)}isPlaceholder(){return!0}}class Ne extends g{constructor(t,e){super(),this._dataReceiver=void 0,this._dataReceiver=e,this.download(t)}download(t){const e=new XMLHttpRequest;try{e.open(\"GET\",t),e.send(),e.onloadend=t=>{const s=e.responseText;if(!s||!s.length)throw new Error(\"invalid_figure_data\");this._dataReceiver&&this._dataReceiver.appendJSON(JSON.parse(s)),this.dispatchEvent(new d.a(Ne.AVATAR_STRUCTURE_DONE))},e.onerror=t=>{throw new Error(\"invalid_avatar_figure_data\")}}catch(s){l.log(s)}}}Ne.AVATAR_STRUCTURE_DONE=\"AVATAR_STRUCTURE_DONE\";class ye extends y{constructor(){super(),this._aliasCollection=void 0,this._structure=void 0,this._avatarAssetDownloadManager=void 0,this._effectAssetDownloadManager=void 0,this._placeHolderFigure=void 0,this._figureMapReady=void 0,this._effectMapReady=void 0,this._actionsReady=void 0,this._structureReady=void 0,this._geometryReady=void 0,this._partSetsReady=void 0,this._animationsReady=void 0,this._isReady=void 0,this._structure=null,this._avatarAssetDownloadManager=null,this._placeHolderFigure=null,this._figureMapReady=!1,this._effectMapReady=!1,this._actionsReady=!1,this._geometryReady=!1,this._partSetsReady=!1,this._animationsReady=!1,this._isReady=!1,this.onAvatarAssetDownloaderReady=this.onAvatarAssetDownloaderReady.bind(this),this.onAvatarAssetDownloaded=this.onAvatarAssetDownloaded.bind(this),this.onEffectAssetDownloaderReady=this.onEffectAssetDownloaderReady.bind(this),this.onEffectAssetDownloaded=this.onEffectAssetDownloaded.bind(this),this.onAvatarStructureDownloadDone=this.onAvatarStructureDownloadDone.bind(this)}onInit(){this._structure=new Ie(this),this.loadGeometry(),this.loadPartSets(),this.loadActions(),this.loadAnimations(),this.loadFigureData(),this._aliasCollection=new pt(this,lL.instance.core.asset),this._aliasCollection.init(),this._avatarAssetDownloadManager||(this._avatarAssetDownloadManager=new Tt(lL.instance.core.asset,this._structure),this._avatarAssetDownloadManager.addEventListener(Tt.DOWNLOADER_READY,this.onAvatarAssetDownloaderReady),this._avatarAssetDownloadManager.addEventListener(Tt.LIBRARY_LOADED,this.onAvatarAssetDownloaded)),this._effectAssetDownloadManager||(this._effectAssetDownloadManager=new Ae(lL.instance.core.asset,this._structure),this._effectAssetDownloadManager.addEventListener(Ae.DOWNLOADER_READY,this.onEffectAssetDownloaderReady),this._effectAssetDownloadManager.addEventListener(Ae.LIBRARY_LOADED,this.onEffectAssetDownloaded)),this.checkReady()}onDispose(){this._avatarAssetDownloadManager&&(this._avatarAssetDownloadManager.removeEventListener(Tt.DOWNLOADER_READY,this.onAvatarAssetDownloaderReady),this._avatarAssetDownloadManager.removeEventListener(Tt.LIBRARY_LOADED,this.onAvatarAssetDownloaded)),this._effectAssetDownloadManager&&(this._effectAssetDownloadManager.removeEventListener(Ae.DOWNLOADER_READY,this.onEffectAssetDownloaderReady),this._effectAssetDownloadManager.removeEventListener(Ae.LIBRARY_LOADED,this.onEffectAssetDownloaded))}loadGeometry(){this._structure&&(this._structure.initGeometry(Te),this._geometryReady=!0,this.checkReady())}loadPartSets(){this._structure&&(this._structure.initPartSets(Re),this._partSetsReady=!0,this.checkReady())}loadActions(){const t=lL.instance.getConfiguration(\"avatar.default.actions\");t&&this._structure.initActions(lL.instance.core.asset,t);const e=new XMLHttpRequest;try{e.open(\"GET\",lL.instance.getConfiguration(\"avatar.actions.url\")),e.send(),e.onloadend=t=>{this._structure&&(this._structure.updateActions(JSON.parse(e.responseText)),this._actionsReady=!0,this.checkReady())},e.onerror=t=>{throw new Error(\"invalid_avatar_actions\")}}catch(s){this.logger.error(s)}}loadAnimations(){this._structure&&(this._structure.initAnimation(fe),this._animationsReady=!0,this.checkReady())}loadFigureData(){const t=lL.instance.getConfiguration(\"avatar.default.figuredata\");if(!t||\"string\"===typeof t)return void l.log(\"XML figuredata is no longer supported.\");this._structure&&this._structure.initFigureData(t);new Ne(lL.instance.getConfiguration(\"avatar.figuredata.url\"),this._structure.figureData).addEventListener(Ne.AVATAR_STRUCTURE_DONE,this.onAvatarStructureDownloadDone)}onAvatarStructureDownloadDone(t){this._structureReady=!0,this._structure.init(),this.checkReady()}onAvatarAssetDownloaderReady(t){t&&(this._figureMapReady=!0,this.checkReady())}onAvatarAssetDownloaded(t){t&&this._aliasCollection.reset()}onEffectAssetDownloaderReady(t){t&&(this._effectMapReady=!0,this.checkReady())}onEffectAssetDownloaded(t){t&&this._aliasCollection.reset()}checkReady(){this._isReady||this._geometryReady&&this._partSetsReady&&this._actionsReady&&this._animationsReady&&this._figureMapReady&&this._effectMapReady&&this._structureReady&&(this._isReady=!0,this.events&&this.events.dispatchEvent(new d.a(ft.AVATAR_RENDER_READY)))}createFigureContainer(t){return new Rt(t)}isFigureContainerReady(t){return!!this._avatarAssetDownloadManager&&this._avatarAssetDownloadManager.isAvatarFigureContainerReady(t)}createAvatarImage(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!this._structure||!this._avatarAssetDownloadManager)return null;const n=new Rt(t);return s&&this.validateAvatarFigure(n,s),this._avatarAssetDownloadManager.isAvatarFigureContainerReady(n)?new Ht(this._structure,this._aliasCollection,n,e,this._effectAssetDownloadManager,r):(this._placeHolderFigure||(this._placeHolderFigure=new Rt(ye.DEFAULT_FIGURE)),this._avatarAssetDownloadManager.downloadAvatarFigure(n,i),new Se(this._structure,this._aliasCollection,this._placeHolderFigure,e,this._effectAssetDownloadManager))}downloadAvatarFigure(t,e){this._avatarAssetDownloadManager&&this._avatarAssetDownloadManager.downloadAvatarFigure(t,e)}validateAvatarFigure(t,e){let s=!1;const i=this._structure.getMandatorySetTypeIds(e,2);if(i){const r=this._structure.figureData;for(const n of i)if(t.hasPartType(n)){const i=r.getSetType(n);if(i){if(!i.getPartSet(t.getPartSetId(n))){const i=this._structure.getDefaultPartSet(n,e);i&&(t.updatePart(n,i.id,[0]),s=!0)}}}else{const i=this._structure.getDefaultPartSet(n,e);i&&(t.updatePart(n,i.id,[0]),s=!0)}}return!s}getFigureClubLevel(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this._structure)return 0;const i=this._structure.figureData,r=Array.from(t.getPartTypeIds());let n=0;for(const a of r){const e=i.getSetType(a);if(!e)continue;const s=t.getPartSetId(a),r=e.getPartSet(s);if(r){n=Math.max(r.clubLevel,n);const s=i.getPalette(e.paletteID),o=t.getPartColorIds(a);for(const t of o){const e=s.getColor(t);e&&(n=Math.max(e.clubLevel,n))}}}s||(s=this._structure.getBodyPartsUnordered(Gt.FULL));for(const a of s){const t=i.getSetType(a);t&&(-1===r.indexOf(a)&&(n=Math.max(t.optionalFromClubLevel(e),n)))}return n}isValidFigureSetForGender(t,e){const s=this.structureData.getFigurePartSet(t);return!(!s||\"U\"!==s.gender.toUpperCase()&&s.gender.toUpperCase()!==e.toUpperCase())}getFigureStringWithFigureIds(t,e,s){const i=new gt;i.loadAvatarData(t,e);const r=this.resolveFigureSets(s);for(const n of r)i.savePartData(n.type,n.id,i.getColourIds(n.type));return i.getFigureString()}resolveFigureSets(t){const e=this.structureData,s=[];for(const i of t){const t=e.getFigurePartSet(i);t&&s.push(t)}return s}getMandatoryAvatarPartSetIds(t,e){return this._structure?this._structure.getMandatorySetTypeIds(t,e):null}getAssetByName(t){return this._aliasCollection.getAsset(t)}get assets(){return lL.instance.core.asset}get isReady(){return this._isReady}get structure(){return this._structure}get structureData(){return this._structure?this._structure.figureData:null}get downloadManager(){return this._avatarAssetDownloadManager}}ye.DEFAULT_FIGURE=\"hd-99999-99999\";class De extends d.a{constructor(t,e){super(t),this._object=void 0,this._object=e}get object(){return this._object}get objectId(){return this._object?this._object.id:-1}get objectType(){return this._object?this._object.type:null}}class Me extends De{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];super(t,e),this._eventId=\"\",this._altKey=void 0,this._ctrlKey=void 0,this._shiftKey=void 0,this._buttonDown=void 0,this._localX=void 0,this._localY=void 0,this._spriteOffsetX=void 0,this._spriteOffsetY=void 0,this._eventId=s,this._altKey=i,this._ctrlKey=r,this._shiftKey=n,this._buttonDown=a}get eventId(){return this._eventId}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get shiftKey(){return this._shiftKey}get buttonDown(){return this._buttonDown}get localX(){return this._localX}set localX(t){this._localX=t}get localY(){return this._localY}set localY(t){this._localY=t}get spriteOffsetX(){return this._spriteOffsetX}set spriteOffsetX(t){this._spriteOffsetX=t}get spriteOffsetY(){return this._spriteOffsetY}set spriteOffsetY(t){this._spriteOffsetY=t}}Me.CLICK=\"ROE_MOUSE_CLICK\",Me.DOUBLE_CLICK=\"ROE_MOUSE_DOUBLE_CLICK\",Me.MOUSE_MOVE=\"ROE_MOUSE_MOVE\",Me.MOUSE_DOWN=\"ROE_MOUSE_DOWN\",Me.MOUSE_DOWN_LONG=\"ROE_MOUSE_DOWN_LONG\",Me.MOUSE_UP=\"ROE_MOUSE_UP\",Me.MOUSE_ENTER=\"ROE_MOUSE_ENTER\",Me.MOUSE_LEAVE=\"ROE_MOUSE_LEAVE\";class Ce{constructor(t,e,s,i,r,n){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],_=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=arguments.length>10&&void 0!==arguments[10]&&arguments[10],u=arguments.length>11&&void 0!==arguments[11]&&arguments[11];this._type=void 0,this._eventId=void 0,this._canvasId=void 0,this._spriteTag=void 0,this._screenX=void 0,this._screenY=void 0,this._localX=void 0,this._localY=void 0,this._ctrlKey=void 0,this._altKey=void 0,this._shiftKey=void 0,this._buttonDown=void 0,this._spriteOffsetX=void 0,this._spriteOffsetY=void 0,this._type=t,this._eventId=e,this._canvasId=s,this._spriteTag=i,this._screenX=r,this._screenY=n,this._localX=a,this._localY=o,this._ctrlKey=h,this._altKey=_,this._shiftKey=d,this._buttonDown=u,this._spriteOffsetX=0,this._spriteOffsetY=0}get type(){return this._type}get eventId(){return this._eventId}get canvasId(){return this._canvasId}get spriteTag(){return this._spriteTag}get screenX(){return this._screenX}get screenY(){return this._screenY}get localX(){return this._localX}get localY(){return this._localY}get ctrlKey(){return this._ctrlKey}get altKey(){return this._altKey}get shiftKey(){return this._shiftKey}get buttonDown(){return this._buttonDown}get spriteOffsetX(){return this._spriteOffsetX}set spriteOffsetX(t){this._spriteOffsetX=t}get spriteOffsetY(){return this._spriteOffsetY}set spriteOffsetY(t){this._spriteOffsetY=t}}class Le extends d.a{constructor(t){super(t)}}class Ue{constructor(t,e){this._location=void 0,this._direction=void 0,this._location=t,this._direction=e}get location(){return this._location}get direction(){return this._direction}}class Pe{}Pe.MATCH_ALL_PIXELS=-1,Pe.MATCH_OPAQUE_PIXELS=128,Pe.MATCH_NOTHING=256;class be{}be.DEFAULT=1,be.ROOM_PLANE=2,be.AVATAR=3,be.AVATAR_OWN=4;class we extends c{constructor(){super(),this._events=void 0,this._object=void 0,this._time=void 0,this._object=null,this._events=null,this._time=0}initialize(t){}onDispose(){this._object=null}update(t){this._time=t}processUpdateMessage(t){t&&this._object&&(this._object.setLocation(t.location),this._object.setDirection(t.direction))}getEventTypes(){return[]}mergeTypes(t,e){const s=t.concat();for(const i of e)!i||s.indexOf(i)>=0||s.push(i);return s}mouseEvent(t,e){}useObject(){}setObject(t){if(this._object!==t){if(this._object&&this._object.setLogic(null),!t)return this.dispose(),void(this._object=null);this._object=t,this._object.setLogic(this)}}tearDown(){}get object(){return this._object}get eventDispatcher(){return this._events}set eventDispatcher(t){this._events=t}get widget(){return null}get contextMenu(){return null}get time(){return this._time}}class Fe{constructor(){this._id=void 0,this._name=void 0,this._type=void 0,this._spriteType=void 0,this._texture=void 0,this._container=void 0,this._width=void 0,this._height=void 0,this._offsetX=void 0,this._offsetY=void 0,this._flipH=void 0,this._flipV=void 0,this._direction=void 0,this._alpha=void 0,this._blendMode=void 0,this._color=void 0,this._relativeDepth=void 0,this._varyingDepth=void 0,this._libraryAssetName=void 0,this._clickHandling=void 0,this._visible=void 0,this._tag=void 0,this._posture=void 0,this._alphaTolerance=void 0,this._filters=void 0,this._updateCounter=void 0,this._updateContainer=void 0,this._id=Fe.SPRITE_COUNTER++,this._name=\"\",this._type=\"\",this._spriteType=be.DEFAULT,this._texture=null,this._container=null,this._width=0,this._height=0,this._offsetX=0,this._offsetY=0,this._flipH=!1,this._flipV=!1,this._direction=0,this._alpha=255,this._blendMode=o.b.NORMAL,this._color=16777215,this._relativeDepth=0,this._varyingDepth=!1,this._libraryAssetName=\"\",this._clickHandling=!1,this._visible=!0,this._tag=\"\",this._posture=null,this._alphaTolerance=Pe.MATCH_OPAQUE_PIXELS,this._filters=[],this._updateCounter=0,this._updateContainer=!1}dispose(){this._texture=null,this._width=0,this._height=0}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name!==t&&(this._name=t,this._updateCounter++)}get type(){return this._type}set type(t){this._type=t}get spriteType(){return this._spriteType}set spriteType(t){this._spriteType=t}get texture(){return this._texture}set texture(t){this._texture!==t&&(t&&(this._width=t.width,this._height=t.height),this._texture=t,this._updateCounter++)}get container(){return this._container}set container(t){this._container!==t&&(this.texture=i.t.EMPTY,t&&(this._width=t.width,this._height=t.height),this._container=t,this._updateCounter++,this._updateContainer=!0)}get width(){return this._width}get height(){return this._height}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX!==t&&(this._offsetX=t,this._updateCounter++)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY!==t&&(this._offsetY=t,this._updateCounter++)}get flipH(){return this._flipH}set flipH(t){this._flipH!==t&&(this._flipH=t,this._updateCounter++)}get flipV(){return this._flipV}set flipV(t){this._flipV!==t&&(this._flipV=t,this._updateCounter++)}get direction(){return this._direction}set direction(t){this._direction=t}get alpha(){return this._alpha}set alpha(t){t&=255,this._alpha!==t&&(this._alpha=t,this._updateCounter++)}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode!==t&&(this._blendMode=t,this._updateCounter++)}get color(){return this._color}set color(t){t&=16777215,this._color!==t&&(this._color=t,this._updateCounter++)}get relativeDepth(){return this._relativeDepth}set relativeDepth(t){this._relativeDepth!==t&&(this._relativeDepth=t,this._updateCounter++)}get varyingDepth(){return this._varyingDepth}set varyingDepth(t){t!==this._varyingDepth&&(this._varyingDepth=t,this._updateCounter++)}get libraryAssetName(){return this._libraryAssetName}set libraryAssetName(t){this._libraryAssetName=t}get clickHandling(){return this._clickHandling}set clickHandling(t){this._clickHandling=t}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this._updateCounter++)}get tag(){return this._tag}set tag(t){this._tag!==t&&(this._tag=t,this._updateCounter++)}get posture(){return this._posture}set posture(t){this._posture!==t&&(this._posture=t,this._updateCounter++)}get alphaTolerance(){return this._alphaTolerance}set alphaTolerance(t){this._alphaTolerance!==t&&(this._alphaTolerance=t,this._updateCounter++)}get filters(){return this._filters}set filters(t){this._filters=t,this._updateCounter++}get updateCounter(){return this._updateCounter}get updateContainer(){return this._updateContainer}set updateContainer(t){this._updateContainer=t}}Fe.SPRITE_COUNTER=0;class xe{constructor(){this._id=void 0,this._object=void 0,this._asset=void 0,this._sprites=void 0,this._scale=void 0,this._updateObjectCounter=void 0,this._updateModelCounter=void 0,this._updateSpriteCounter=void 0,this._id=xe.VISUALIZATION_COUNTER++,this._object=null,this._asset=null,this._sprites=[],this._scale=-1,this._updateObjectCounter=-1,this._updateModelCounter=-1,this._updateSpriteCounter=-1}initialize(t){return!1}update(t,e,s,i){}reset(){this._scale=-1}dispose(){if(this._sprites){for(;this._sprites.length;){const t=this._sprites[0];t&&t.dispose(),this._sprites.pop()}this._sprites=null}this._object=null,this._asset=null}getSprite(t){return t>=0&&t<this._sprites.length?this._sprites[t]:null}getSpriteList(){return null}createSprite(){return this.createSpriteAtIndex(this._sprites.length)}createSpriteAtIndex(t){const e=new Fe;return t>=this._sprites.length?this._sprites.push(e):this._sprites.splice(t,0,e),e}createSprites(t){for(;this._sprites.length>t;){const t=this._sprites[this._sprites.length-1];t&&t.dispose(),this._sprites.pop()}for(;this._sprites.length<t;)this._sprites.push(new Fe)}get image(){return this.getImage(0,-1)}getImage(t,e){const s=this.getBoundingRectangle();if(s.width*s.height===0)return null;const i=this.totalSprites,r=[];let n=0;for(;n<i;){const t=this.getSprite(n);t&&t.visible&&t.texture&&r.push(t),n++}r.sort(((t,e)=>e.relativeDepth-t.relativeDepth));const a=new H;for(n=0;n<r.length;){const t=r[n],e=t.texture;if(e){const s=new W(e);s.alpha=t.alpha/255,s.tint=t.color,s.x=t.offsetX,s.y=t.offsetY,s.blendMode=t.blendMode,s.filters=t.filters,t.flipH&&(s.scale.x=-1),t.flipV&&(s.scale.y=-1),a.addChild(s)}n++}const o=At.generateTexture(a);return o||null}getBoundingRectangle(){const t=this.totalSprites,e=new j.j;let s=0;for(;s<t;){const t=this.getSprite(s);if(t&&t.texture&&t.visible){const i=t.flipH?-t.width+t.offsetX:t.offsetX,r=t.flipV?-t.height+t.offsetY:t.offsetY,n=new j.g(i,r);0===s?(e.x=n.x,e.y=n.y,e.width=t.width,e.height=t.height):(n.x<e.x&&(e.x=n.x),n.y<e.y&&(e.y=n.y),n.x+t.width>e.right&&(e.width=n.x+t.width-e.x),n.y+t.height>e.bottom&&(e.height=n.y+t.height-e.y))}s++}return e}get instanceId(){return this._id}get object(){return this._object}set object(t){this._object=t}get asset(){return this._asset}set asset(t){this._asset&&this._asset.removeReference(),this._asset=t,this._asset&&this._asset.addReference()}get sprites(){return this._sprites}get totalSprites(){return this._sprites.length}get updateObjectCounter(){return this._updateObjectCounter}set updateObjectCounter(t){this._updateObjectCounter=t}get updateModelCounter(){return this._updateModelCounter}set updateModelCounter(t){this._updateModelCounter=t}get updateSpriteCounter(){return this._updateSpriteCounter}set updateSpriteCounter(t){this._updateSpriteCounter=t}get spriteCount(){return this._sprites.length}}xe.VISUALIZATION_COUNTER=0;class Be{constructor(){this._name=void 0,this._source=void 0,this._texture=void 0,this._usesPalette=void 0,this._x=void 0,this._y=void 0,this._width=void 0,this._height=void 0,this._flipH=void 0,this._flipV=void 0,this._rectangle=void 0,this._initialized=void 0}static createAsset(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const h=Be.GRAPHIC_POOL.length?Be.GRAPHIC_POOL.pop():new Be;return h._name=t,h._source=e||null,s?(h._texture=s,h._initialized=!1):(h._texture=null,h._initialized=!0),h._usesPalette=o,h._x=i,h._y=r,h._flipH=n,h._flipV=a,h._rectangle=null,h}recycle(){this._texture=null,Be.GRAPHIC_POOL.push(this)}initialize(){!this._initialized&&this._texture&&(this._width=this._texture.width,this._height=this._texture.height,this._initialized=!0)}get name(){return this._name}get source(){return this._source}get texture(){return this._texture}get usesPalette(){return this._usesPalette}get x(){return this._x}get y(){return this._y}get width(){return this.initialize(),this._width}get height(){return this.initialize(),this._height}get offsetX(){return this._flipH?-this._x:this._x}get offsetY(){return this._flipV?-this._y:this._y}get flipH(){return this._flipH}get flipV(){return this._flipV}get rectangle(){return this._rectangle||(this._rectangle=new j.j(0,0,this.width,this.height)),this._rectangle}}Be.GRAPHIC_POOL=[];class Ge{static hex2rgb(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}static hex2rgba(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e[3]=255&t,e}static rgb2hex(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}static rgba2hex(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)+(0|t[3])}static rgbStringToHex(t){const e=t.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);return\"#\"+Ge.getHex(e[1])+Ge.getHex(e[2])+Ge.getHex(e[3])}static getHex(t){return isNaN(t)?\"00\":Ge.HEX_DIGITS[(t-t%16)/16]+Ge.HEX_DIGITS[t%16]}static int2rgb(t){t>>>=0;return\"rgba(\"+[(16711680&t)>>>16,(65280&t)>>>8,255&t,1].join(\",\")+\")\"}static rgbToHSL(t){const e=(t>>16&255)/255,s=(t>>8&255)/255,i=(255&t)/255,r=Math.max(e,s,i),n=Math.min(e,s,i),a=r-n;let o=0,h=0,_=0;0==a?o=0:r==e?o=s>i?60*(s-i)/a:60*(s-i)/a+360:r==s?o=60*(i-e)/a+120:r==i&&(o=60*(e-s)/a+240),h=.5*(r+n),_=0==a?0:h<=.5?a/h*.5:a/(1-h)*.5;return(Math.round(o/360*255)<<16)+(Math.round(255*_)<<8)+Math.round(255*h)}static hslToRGB(t){let e,s,i,r,n;const a=(t>>16&255)/255,o=(t>>8&255)/255,h=(255&t)/255;let _=0,d=0,u=0;o>0?(e=0,s=0,e=h<.5?h*(1+o):h+o-h*o,s=2*h-e,i=a+1/3,r=a,n=a-1/3,i<0?i+=1:i>1&&i--,r<0?r+=1:r>1&&r--,n<0?n+=1:n>1&&n--,_=6*i<1?s+6*(e-s)*i:2*i<1?e:3*i<2?s+6*(e-s)*(2/3-i):s,d=6*r<1?s+6*(e-s)*r:2*r<1?e:3*r<2?s+6*(e-s)*(2/3-r):s,u=6*n<1?s+6*(e-s)*n:2*n<1?e:3*n<2?s+6*(e-s)*(2/3-n):s):(_=h,d=h,u=h);return(Math.round(255*_)<<16)+(Math.round(255*d)<<8)+Math.round(255*u)}static rgb2xyz(t){let e=(t>>16&255)/255,s=(t>>8&255)/255,i=(t>>0&255)/255;return e>.04045?e=Math.pow((e+.055)/1.055,2.4):e/=12.92,s>.04045?s=Math.pow((s+.055)/1.055,2.4):s/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,e*=100,s*=100,i*=100,new dt(.4124*e+.3576*s+.1805*i,.2126*e+.7152*s+.0722*i,.0193*e+.1192*s+.9505*i)}static xyz2CieLab(t){let e=t.x/95.047,s=t.y/100,i=t.z/108.883;return e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,new dt(116*s-16,500*(e-s),200*(s-i))}static rgb2CieLab(t){return Ge.xyz2CieLab(Ge.rgb2xyz(t))}}Ge.HEX_DIGITS=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"];class He{constructor(t){this._reservedNumbers=void 0,this._freeNumbers=void 0,t<0&&(t=0),this._reservedNumbers=[],this._freeNumbers=[];let e=0;for(;e<t;)this._freeNumbers.push(e),e++}dispose(){this._reservedNumbers=null,this._freeNumbers=null}reserveNumber(){if(this._freeNumbers.length>0){const t=this._freeNumbers.pop();return this._reservedNumbers.push(t),t}return-1}freeNumber(t){const e=this._reservedNumbers.indexOf(t);e>=0&&(this._reservedNumbers.splice(e,1),this._freeNumbers.push(t))}}var Ve=s(21);class je{static getFlipHBitmapData(t){if(!t)return null;const e=new j.d;e.scale(-1,1),e.translate(t.width,0);const s=new Ve.a;return s.beginTextureFill({texture:t,matrix:e}).drawRect(0,0,t.width,t.height).endFill(),At.generateTexture(s)}static getFlipVBitmapData(t){if(!t)return null;const e=new j.d;e.scale(1,-1),e.translate(0,t.height);const s=new Ve.a;return s.beginTextureFill({texture:t,matrix:e}).drawRect(0,0,t.width,t.height).endFill(),At.generateTexture(s)}static getFlipHVBitmapData(t){if(!t)return null;const e=new j.d;e.scale(-1,-1),e.translate(t.width,t.height);const s=new Ve.a;return s.beginTextureFill({texture:t,matrix:e}).drawRect(0,0,t.width,t.height).endFill(),At.generateTexture(s)}}class ke{static init(t,e){ke._currentDelta=0,ke._startDelayMs=t,ke._effectDurationMs=e,ke._initializationTimeMs=lL.instance.time,ke._state=ke.STATE_START_DELAY}static turnVisualizationOn(){if(ke._state===ke.STATE_NOT_INITIALIZED||ke._state===ke.STATE_OVER)return;const t=lL.instance.time-ke._initializationTimeMs;t>ke._startDelayMs+ke._effectDurationMs?ke._state=ke.STATE_OVER:(ke._visualizationOn=!0,t<ke._startDelayMs?ke._state=ke.STATE_START_DELAY:(ke._state=ke.STATE_RUNNING,ke._currentDelta=(t-ke._startDelayMs)/ke._effectDurationMs))}static turnVisualizationOff(){ke._visualizationOn=!1}static isVisualizationOn(){return ke._visualizationOn&&ke.isRunning()}static isRunning(){return ke._state===ke.STATE_START_DELAY||ke._state===ke.STATE_RUNNING}static getDelta(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.min(Math.max(ke._currentDelta,t),e)}static get totalRunningTime(){return ke._startDelayMs+ke._effectDurationMs}}ke.STATE_NOT_INITIALIZED=0,ke.STATE_START_DELAY=1,ke.STATE_RUNNING=2,ke.STATE_OVER=3,ke._state=ke.STATE_NOT_INITIALIZED,ke._visualizationOn=!1,ke._currentDelta=0,ke._initializationTimeMs=0,ke._startDelayMs=2e4,ke._effectDurationMs=2e3;class ze{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._updateId=0,this._x=void 0,this._y=void 0,this._z=void 0,this._directionAxis=void 0,this._location=void 0,this._direction=void 0,this._depth=void 0,this._scale=1,this._x_scale=1,this._y_scale=1,this._z_scale=1,this._x_scale_internal=1,this._y_scale_internal=1,this._z_scale_internal=1,this._loc=void 0,this._dir=void 0,this._clipNear=-500,this._clipFar=500,this._displacements=null,this.scale=t,this._x=new dt,this._y=new dt,this._z=new dt,this._directionAxis=new dt,this._location=new dt,this._direction=new dt,this._depth=new dt,this._x_scale_internal=1,this._y_scale_internal=1,this.x_scale=1,this.y_scale=1,this._z_scale_internal=Math.sqrt(.5)/Math.sqrt(3/4),this.z_scale=1,this.location=new dt(s.x,s.y,s.z),this.direction=new dt(e.x,e.y,e.z),null!=i?this.setDepthVector(i):this.setDepthVector(e),this._displacements=new Map}static getIntersectionVector(t,e,s,i){const r=dt.dotProduct(e,i);if(Math.abs(r)<1e-5)return null;const n=dt.dif(t,s),a=-dt.dotProduct(i,n)/r;return dt.sum(t,dt.product(e,a))}get updateId(){return this._updateId}get scale(){return this._scale/Math.sqrt(.5)}set scale(t){t<=1&&(t=1),(t*=Math.sqrt(.5))!=this._scale&&(this._scale=t,this._updateId++)}get directionAxis(){return this._directionAxis}get location(){return this._location.assign(this._loc),this._location.x=this._location.x*this._x_scale,this._location.y=this._location.y*this._y_scale,this._location.z=this._location.z*this._z_scale,this._location}set location(t){if(null==t)return;null==this._loc&&(this._loc=new dt);const e=this._loc.x,s=this._loc.y,i=this._loc.z;this._loc.assign(t),this._loc.x=this._loc.x/this._x_scale,this._loc.y=this._loc.y/this._y_scale,this._loc.z=this._loc.z/this._z_scale,this._loc.x==e&&this._loc.y==s&&this._loc.z==i||this._updateId++}get direction(){return this._direction}set direction(t){let e,s,i,r,n;if(null==t)return;null==this._dir&&(this._dir=new dt);const a=this._dir.x,o=this._dir.y,h=this._dir.z;this._dir.assign(t),this._direction.assign(t),this._dir.x==a&&this._dir.y==o&&this._dir.z==h||this._updateId++;const _=new dt(0,1,0),d=new dt(0,0,1),u=new dt(1,0,0),c=t.x/180*Math.PI,l=t.y/180*Math.PI,g=t.z/180*Math.PI,E=Math.cos(c),p=Math.sin(c),m=dt.sum(dt.product(_,E),dt.product(u,-p)),I=new dt(d.x,d.y,d.z),f=dt.sum(dt.product(_,p),dt.product(u,E)),T=Math.cos(l),R=Math.sin(l),v=new dt(m.x,m.y,m.z),O=dt.sum(dt.product(I,T),dt.product(f,R)),A=dt.sum(dt.product(I,-R),dt.product(f,T));0!=g?(e=Math.cos(g),s=Math.sin(g),i=dt.sum(dt.product(v,e),dt.product(O,s)),r=dt.sum(dt.product(v,-s),dt.product(O,e)),n=new dt(A.x,A.y,A.z),this._x.assign(i),this._y.assign(r),this._z.assign(n),this._directionAxis.assign(this._z)):(this._x.assign(v),this._y.assign(O),this._z.assign(A),this._directionAxis.assign(this._z))}set x_scale(t){this._x_scale!=t*this._x_scale_internal&&(this._x_scale=t*this._x_scale_internal,this._updateId++)}set y_scale(t){this._y_scale!=t*this._y_scale_internal&&(this._y_scale=t*this._y_scale_internal,this._updateId++)}set z_scale(t){this._z_scale!=t*this._z_scale_internal&&(this._z_scale=t*this._z_scale_internal,this._updateId++)}dispose(){this._x=null,this._y=null,this._z=null,this._loc=null,this._dir=null,this._directionAxis=null,this._location=null,null!=this._displacements&&(this._displacements.clear(),this._displacements=null)}setDisplacement(t,e){let s,i;null!=t&&null!=e&&null!=this._displacements&&(s=Math.trunc(Math.round(t.x))+\"_\"+Math.trunc(Math.round(t.y))+\"_\"+Math.trunc(Math.round(t.z)),this._displacements.delete(s),i=new dt,i.assign(e),this._displacements.set(s,i),this._updateId++)}getDisplacenent(t){let e;return null!=this._displacements?(e=Math.trunc(Math.round(t.x))+\"_\"+Math.trunc(Math.round(t.y))+\"_\"+Math.trunc(Math.round(t.z)),this._displacements.get(e)):null}setDepthVector(t){let e,s,i,r,n;const a=new dt(0,1,0),o=new dt(0,0,1),h=new dt(1,0,0),_=t.x/180*Math.PI,d=t.y/180*Math.PI,u=t.z/180*Math.PI,c=Math.cos(_),l=Math.sin(_),g=dt.sum(dt.product(a,c),dt.product(h,-l)),E=new dt(o.x,o.y,o.z),p=dt.sum(dt.product(a,l),dt.product(h,c)),m=Math.cos(d),I=Math.sin(d),f=new dt(g.x,g.y,g.z),T=dt.sum(dt.product(E,m),dt.product(p,I)),R=dt.sum(dt.product(E,-I),dt.product(p,m));0!=u?(e=Math.cos(u),s=Math.sin(u),i=dt.sum(dt.product(f,e),dt.product(T,s)),r=dt.sum(dt.product(f,-s),dt.product(T,e)),n=new dt(R.x,R.y,R.z),this._depth.assign(n)):this._depth.assign(R),this._updateId++}adjustLocation(t,e){if(null==t||null==this._z)return;const s=dt.product(this._z,-e),i=new dt(t.x+s.x,t.y+s.y,t.z+s.z);this.location=i}getCoordinatePosition(t){if(null==t)return null;const e=dt.scalarProjection(t,this._x),s=dt.scalarProjection(t,this._y),i=dt.scalarProjection(t,this._z);return new dt(e,s,i)}getScreenPosition(t){let e=dt.dif(t,this._loc);e.x=e.x*this._x_scale,e.y=e.y*this._y_scale,e.z=e.z*this._z_scale;let s=dt.scalarProjection(e,this._depth);if(s<this._clipNear||s>this._clipFar)return null;let i=dt.scalarProjection(e,this._x),r=-dt.scalarProjection(e,this._y);i*=this._scale,r*=this._scale;const n=this.getDisplacenent(t);return null!=n&&(e=dt.dif(t,this._loc),e.add(n),e.x=e.x*this._x_scale,e.y=e.y*this._y_scale,e.z=e.z*this._z_scale,s=dt.scalarProjection(e,this._depth)),e.x=i,e.y=r,e.z=s,e}getScreenPoint(t){const e=this.getScreenPosition(t);if(null==e)return null;return new j.g(e.x,e.y)}getPlanePosition(t,e,s,i){let r,n;const a=t.x/this._scale,o=-t.y/this._scale,h=dt.product(this._x,a);h.add(dt.product(this._y,o));const _=new dt(this._loc.x*this._x_scale,this._loc.y*this._y_scale,this._loc.z*this._z_scale);_.add(h);const d=this._z,u=new dt(e.x*this._x_scale,e.y*this._y_scale,e.z*this._z_scale),c=new dt(s.x*this._x_scale,s.y*this._y_scale,s.z*this._z_scale),l=new dt(i.x*this._x_scale,i.y*this._y_scale,i.z*this._z_scale),g=dt.crossProduct(c,l),E=new dt;return E.assign(ze.getIntersectionVector(_,d,u,g)),null!=E?(E.subtract(u),r=dt.scalarProjection(E,s)/c.length*s.length,n=dt.scalarProjection(E,i)/l.length*i.length,new j.g(r,n)):null}performZoom(){this.isZoomedIn()?this.scale=ze.SCALE_ZOOMED_OUT:this.scale=ze.SCALE_ZOOMED_IN}isZoomedIn(){return this.scale==ze.SCALE_ZOOMED_IN}performZoomOut(){this.scale=ze.SCALE_ZOOMED_OUT}performZoomIn(){this.scale=ze.SCALE_ZOOMED_IN}}ze.SCALE_ZOOMED_IN=64,ze.SCALE_ZOOMED_OUT=32;class Ye{static makeRoomPreviewerId(t){return(65535&t)+Ye.PREVIEW_ROOM_ID_BASE}static isRoomPreviewerId(t){return t>=Ye.PREVIEW_ROOM_ID_BASE}}Ye.PREVIEW_ROOM_ID_BASE=2147418112;class We{static init(t,e){this._SafeStr_4513=0,this._SafeStr_4515=t,this._SafeStr_4516=e,this._SafeStr_4514=lL.instance.time,this._SafeStr_448=1}static turnVisualizationOn(){if(0===this._SafeStr_448||3===this._SafeStr_448)return;this._SafeStr_4524||(this._SafeStr_4524=setTimeout((()=>this.turnVisualizationOff()),this._SafeStr_4516));const t=lL.instance.time-this._SafeStr_4514;t>this._SafeStr_4515+this._SafeStr_4516?this._SafeStr_448=3:(this._SafeStr_4512=!0,t<this._SafeStr_4515?this._SafeStr_448=1:(this._SafeStr_448=2,this._SafeStr_4513=(t-this._SafeStr_4515)/this._SafeStr_4516))}static turnVisualizationOff(){this._SafeStr_4512=!1,clearTimeout(this._SafeStr_4524),this._SafeStr_4524=null}static isVisualizationOn(){return this._SafeStr_4512&&this.isRunning()}static isRunning(){return 1===this._SafeStr_448||2===this._SafeStr_448}}We.STATE_NOT_INITIALIZED=0,We.STATE_START_DELAY=1,We.STATE_RUNNING=2,We.STATE_OVER=3,We._SafeStr_448=0,We._SafeStr_4512=!1,We._SafeStr_4513=0,We._SafeStr_4514=0,We._SafeStr_4515=2e4,We._SafeStr_4516=5e3,We._SafeStr_4524=void 0;class Ke{static init(t,e){this._SafeStr_4513=0,this._SafeStr_4515=t,this._SafeStr_4516=e,this._SafeStr_4514=lL.instance.time,this._SafeStr_448=1}static turnVisualizationOn(){if(0===this._SafeStr_448||3===this._SafeStr_448)return;this._SafeStr_4524||(this._SafeStr_4524=setTimeout((()=>this.turnVisualizationOff()),this._SafeStr_4516));const t=lL.instance.time-this._SafeStr_4514;t>this._SafeStr_4515+this._SafeStr_4516?this._SafeStr_448=3:(this._SafeStr_4512=!0,t<this._SafeStr_4515?this._SafeStr_448=1:(this._SafeStr_448=2,this._SafeStr_4513=(t-this._SafeStr_4515)/this._SafeStr_4516))}static turnVisualizationOff(){this._SafeStr_4512=!1,clearTimeout(this._SafeStr_4524),this._SafeStr_4524=null}static isVisualizationOn(){return this._SafeStr_4512&&this.isRunning()}static isRunning(){return 1===this._SafeStr_448||2===this._SafeStr_448}}Ke.STATE_NOT_INITIALIZED=0,Ke.STATE_START_DELAY=1,Ke.STATE_RUNNING=2,Ke.STATE_OVER=3,Ke._SafeStr_448=0,Ke._SafeStr_4512=!1,Ke._SafeStr_4513=void 0,Ke._SafeStr_4514=0,Ke._SafeStr_4515=2e4,Ke._SafeStr_4516=5e3,Ke._SafeStr_4524=void 0;class Xe{static hex2int(t){return parseInt(t,16)}static inkToBlendMode(t){return\"ADD\"==t||33==t?o.b.ADD:\"SUBTRACT\"==t?o.b.SUBTRACT:\"DARKEN\"==t?o.b.DARKEN:o.b.NORMAL}}class qe{constructor(t,e,s){for(this._palette=void 0,this._primaryColor=void 0,this._secondaryColor=void 0,this._palette=t;this._palette.length<256;)this._palette.push([0,0,0]);this._primaryColor=e,this._secondaryColor=s}dispose(){}applyPalette(t){const e=new W(t),s=At.generateCanvas(e),r=s.getContext(\"2d\"),n=r.getImageData(0,0,s.width,s.height),a=n.data;for(let i=0;i<a.length;i+=4){let t=this._palette[a[i+1]];void 0===t&&(t=[0,0,0]),a[i]=t[0],a[i+1]=t[1],a[i+2]=t[2]}return r.putImageData(n,0,0),i.t.from(s)}get primaryColor(){return this._primaryColor}get secondaryColor(){return this._secondaryColor}}class Qe{constructor(t){this._roomObjectVariableAccurateZ=void 0,this._location=void 0,this._screenLocation=void 0,this._locationChanged=void 0,this._geometryUpdateId=void 0,this._objectUpdateId=void 0,this._roomObjectVariableAccurateZ=t||\"\",this._location=new dt,this._screenLocation=new dt,this._locationChanged=!1,this._geometryUpdateId=-1,this._objectUpdateId=-1}dispose(){this._screenLocation=null}updateLocation(t,e){if(!t||!e)return null;let s=!1;const i=t.getLocation();if(e.updateId===this._geometryUpdateId&&t.updateCounter===this._objectUpdateId||(this._objectUpdateId=t.updateCounter,e.updateId===this._geometryUpdateId&&i.x===this._location.x&&i.y===this._location.y&&i.z===this._location.z||(this._geometryUpdateId=e.updateId,this._location.assign(i),s=!0)),this._locationChanged=s,this._locationChanged){const s=e.getScreenPosition(i);if(!s)return null;const r=t.model.getValue(this._roomObjectVariableAccurateZ);if(isNaN(r)||0===r){const t=new dt(Math.round(i.x),Math.round(i.y),i.z);if(t.x!==i.x||t.y!==i.y){const i=e.getScreenPosition(t);this._screenLocation.assign(s),i&&(this._screenLocation.z=i.z)}else this._screenLocation.assign(s)}else this._screenLocation.assign(s);this._screenLocation.x=Math.round(this._screenLocation.x),this._screenLocation.y=Math.round(this._screenLocation.y)}return this._screenLocation}get locationChanged(){return this._locationChanged}}class Ze{constructor(){this._sprites=void 0,this._updateId1=void 0,this._updateId2=void 0,this._isEmpty=void 0,this._sprites=[],this._updateId1=-1,this._updateId2=-1,this._isEmpty=!1}get spriteCount(){return this._sprites.length}get isEmpty(){return this._isEmpty}dispose(){this.setSpriteCount(0)}addSprite(t){this._sprites.push(t)}getSprite(t){return this._sprites[t]}get sprites(){return this._sprites}needsUpdate(t,e){return(t!==this._updateId1||e!==this._updateId2)&&(this._updateId1=t,this._updateId2=e,!0)}setSpriteCount(t){if(t<this._sprites.length){let e=t;for(;e<this._sprites.length;){const t=this._sprites[e];t&&t.dispose(),e++}this._sprites.splice(t,this._sprites.length-t)}this._isEmpty=!this._sprites.length}}class Je{constructor(t){this._objectId=void 0,this._location=void 0,this._sprites=void 0,this._location=new Qe(t),this._sprites=new Ze}get location(){return this._location}get sprites(){return this._sprites}dispose(){this._location&&(this._location.dispose(),this._location=null),this._sprites&&(this._sprites.dispose(),this._sprites=null)}get objectId(){return this._objectId}set objectId(t){this._objectId=t}}class $e{constructor(t){this._data=void 0,this._roomObjectVariableAccurateZ=void 0,this._data=new Map,this._roomObjectVariableAccurateZ=t}dispose(){if(this._data){for(const[t,e]of this._data.entries())e&&(this._data.delete(t),e.dispose());this._data=null}}getObjectCache(t){let e=this._data.get(t);return e||(e=new Je(this._roomObjectVariableAccurateZ),this._data.set(t,e)),e}removeObjectCache(t){const e=this._data.get(t);e&&(this._data.delete(t),e.dispose())}getSortableSpriteList(){const t=[];for(const e of this._data.values()){if(!e)continue;const s=e.sprites&&e.sprites.sprites;if(s&&s.length)for(const i of s)if(i&&i.sprite.spriteType!==be.ROOM_PLANE&&\"\"!==i.sprite.name){const s=new Nt;s.objectId=e.objectId,s.x=i.x,s.y=i.y,s.z=i.z,s.name=i.sprite.name||\"\",s.flipH=i.sprite.flipH,s.alpha=i.sprite.alpha,s.color=i.sprite.color.toString(),s.blendMode=i.sprite.blendMode.toString(),s.width=i.sprite.width,s.height=i.sprite.height,s.type=i.sprite.type,s.posture=i.sprite.posture;const r=this.isSkewedSprite(i.sprite);r&&(s.skew=i.sprite.direction%4===0?-.5:.5),(r||i.name.indexOf(\"%image.library.url%\")>=0||i.name.indexOf(\"%group.badge.url%\")>=0)&&s.width<=$e.MAX_SIZE_FOR_AVG_COLOR&&s.height<=$e.MAX_SIZE_FOR_AVG_COLOR&&0===i.sprite.name.indexOf(\"external_image_wallitem\")&&(s.frame=!0),t.push(s)}}return t&&t.length?t:null}isSkewedSprite(t){return!!t.type&&(0===t.type.indexOf(\"external_image_wallitem\")&&\"THUMBNAIL\"===t.tag||0===t.type.indexOf(\"guild_forum\")&&\"THUMBNAIL\"===t.tag)}getPlaneSortableSprites(){const t=[];for(const e of this._data.values())for(const s of e.sprites.sprites)s.sprite.spriteType===be.ROOM_PLANE&&t.push(s);return t}}$e.MAX_SIZE_FOR_AVG_COLOR=200;class ts{}ts.MOUSE_CLICK=\"click\",ts.DOUBLE_CLICK=\"double_click\",ts.MOUSE_MOVE=\"mousemove\",ts.MOUSE_DOWN=\"mousedown\",ts.MOUSE_DOWN_LONG=\"mousedown_long\",ts.MOUSE_UP=\"mouseup\",ts.ROLL_OVER=\"mouseover\",ts.ROLL_OUT=\"mouseout\",ts.RIGHT_CLICK=\"contextmenu\";class es extends Y.a{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),this._offsetX=void 0,this._offsetY=void 0,this._tag=void 0,this._alphaTolerance=void 0,this._varyingDepth=void 0,this._clickHandling=void 0,this._pairedSpriteId=void 0,this._pairedSpriteUpdateCounter=void 0,this.name=void 0,this._offsetX=0,this._offsetY=0,this._tag=\"\",this._alphaTolerance=128,this._varyingDepth=!1,this._clickHandling=!1,this._pairedSpriteId=-1,this._pairedSpriteUpdateCounter=-1}needsUpdate(t,e){return(this._pairedSpriteId!==t||this._pairedSpriteUpdateCounter!==e)&&(this._pairedSpriteId=t,this._pairedSpriteUpdateCounter=e,!0)}calculateVertices(){this.texture.orig&&super.calculateVertices()}setTexture(t){t||(t=i.t.EMPTY),t!==this.texture&&(t===i.t.EMPTY&&(this._pairedSpriteId=-1,this._pairedSpriteUpdateCounter=-1),this.texture=t)}containsPoint(t){return es.containsPoint(this,t)}static containsPoint(t,e){if(!t||!e||t.alphaTolerance>255)return!1;if(!(t instanceof Y.a))return!1;if(t.texture===i.t.EMPTY||t.blendMode!==o.b.NORMAL)return;const s=t.texture,r=s.baseTexture;if(!s||!r||!r.valid)return!1;const n=e.x*t.scale.x,a=e.y*t.scale.y;if(!t.getLocalBounds().contains(n,a))return!1;if(!r.hitMap){let t=null;if(!r.resource)if(s.getLocalBounds)t=At.generateCanvas(s);else{const e=new W(s);t=At.generateCanvas(e),e.destroy()}if(!es.generateHitMap(r,t))return!1}const h=r.hitMap;let _=n+s.frame.x,d=a+s.frame.y;s.trim&&(_-=s.trim.x,d-=s.trim.y),_=Math.round(_)*r.resolution,d=Math.round(d)*r.resolution;const u=_+d*r.realWidth,c=u%32;return 0!==(h[u/32|0]&1<<c)}static generateHitMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=null,i=null;if(e)s=e,i=s.getContext(\"2d\");else{if(!t.resource)return!1;const e=t.resource.source;if(!e)return!1;if(e.getContext)s=e,i=s.getContext(\"2d\");else{if(!(e instanceof Image))return!1;s=document.createElement(\"canvas\"),s.width=e.width,s.height=e.height,i=s.getContext(\"2d\"),i.drawImage(e,0,0)}}const r=s.width,n=s.height,a=i.getImageData(0,0,r,n),o=new Uint32Array(Math.ceil(r*n/32));for(let h=0;h<r*n;h++){const t=h%32,e=h/32|0;a.data[4*h+3]>=128&&(o[e]=o[e]|1<<t)}return t.hitMap=o,!0}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t}get tag(){return this._tag}set tag(t){this._tag=t}get alphaTolerance(){return this._alphaTolerance}set alphaTolerance(t){this._alphaTolerance=t}get varyingDepth(){return this._varyingDepth}set varyingDepth(t){this._varyingDepth=t}get clickHandling(){return this._clickHandling}set clickHandling(t){this._clickHandling=t}}class ss{constructor(){this._objectId=void 0,this._spriteTag=void 0,this._objectId=\"\",this._spriteTag=\"\"}get objectId(){return this._objectId}set objectId(t){this._objectId=t}get spriteTag(){return this._spriteTag}set spriteTag(t){this._spriteTag=t}}class is{constructor(){this._name=void 0,this._sprite=void 0,this._x=void 0,this._y=void 0,this._z=void 0,this._name=\"\",this._sprite=null,this._x=0,this._y=0,this._z=0}dispose(){this._z=-is.Z_INFINITY,this._sprite=null}get name(){return this._name}set name(t){this._name=t}get sprite(){return this._sprite}set sprite(t){this._sprite=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get z(){return this._z}set z(t){this._z=t}}is.Z_INFINITY=1e8;class rs{constructor(t,e,s,i,r){this._id=void 0,this._container=void 0,this._geometry=void 0,this._animationFPS=void 0,this._renderTimestamp=void 0,this._totalTimeRunning=void 0,this._lastFrame=void 0,this._master=void 0,this._display=void 0,this._mask=void 0,this._sortableSprites=void 0,this._spriteCount=void 0,this._activeSpriteCount=void 0,this._spritePool=void 0,this._skipObjectUpdate=void 0,this._runningSlow=void 0,this._width=void 0,this._height=void 0,this._renderedWidth=void 0,this._renderedHeight=void 0,this._screenOffsetX=void 0,this._screenOffsetY=void 0,this._mouseLocation=void 0,this._mouseOldX=void 0,this._mouseOldY=void 0,this._mouseCheckCount=void 0,this._mouseSpriteWasHit=void 0,this._mouseActiveObjects=void 0,this._eventCache=void 0,this._eventId=void 0,this._scale=void 0,this._SafeStr_4507=!1,this._rotation=0,this._rotationOrigin=null,this._rotationRodLength=0,this._effectDirection=void 0,this._effectLocation=void 0,this._SafeStr_795=0,this._restrictsScaling=void 0,this._noSpriteVisibilityChecking=void 0,this._usesExclusionRectangles=void 0,this._usesMask=void 0,this._canvasUpdated=void 0,this._objectCache=void 0,this._mouseListener=void 0,this._id=e,this._container=t,this._geometry=new ze(r,new dt(-135,30,0),new dt(11,11,5),new dt(-135,.5,0)),this._animationFPS=lL.instance.getConfiguration(\"system.animation.fps\",24),this._renderTimestamp=0,this._totalTimeRunning=0,this._lastFrame=0,this._master=null,this._display=null,this._mask=null,this._sortableSprites=[],this._spriteCount=0,this._activeSpriteCount=0,this._spritePool=[],this._skipObjectUpdate=!1,this._runningSlow=!1,this._width=0,this._height=0,this._renderedWidth=0,this._renderedHeight=0,this._screenOffsetX=0,this._screenOffsetY=0,this._mouseLocation=new j.g,this._mouseOldX=0,this._mouseOldY=0,this._mouseCheckCount=0,this._mouseSpriteWasHit=!1,this._mouseActiveObjects=new Map,this._eventCache=new Map,this._eventId=0,this._scale=1,this._restrictsScaling=!1,this._noSpriteVisibilityChecking=!1,this._usesExclusionRectangles=!1,this._usesMask=!0,this._canvasUpdated=!1,this._objectCache=new $e(this._container.roomObjectVariableAccurateZ),this._mouseListener=null,this.setupCanvas(),this.initialize(s,i)}setupCanvas(){if(this._master||(this._master=new W,this._master.interactiveChildren=!1),!this._display){const t=new H;this._master.addChild(t),this._display=t}}dispose(){if(this.cleanSprites(0,!0),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._mask&&(this._mask=null),this._objectCache&&(this._objectCache.dispose(),this._objectCache=null),this._master){for(;this._master.children.length;){this._master.removeChildAt(0).destroy()}this._master.parent&&this._master.parent.removeChild(this._master),this._master.destroy(),this._master=null}if(this._display=null,this._sortableSprites=[],this._mouseActiveObjects&&(this._mouseActiveObjects.clear(),this._mouseActiveObjects=null),this._spritePool){for(const t of this._spritePool)this.cleanSprite(t,!0);this._spritePool=[]}this._eventCache&&(this._eventCache.clear(),this._eventCache=null),this._mouseListener=null}initialize(t,e){if(t=t<1?1:t,e=e<1?1:e,this._usesMask&&(this._mask?this._mask.clear().beginFill(16711680).drawRect(0,0,t,e).endFill():(this._mask=(new Ve.a).beginFill(16711680).drawRect(0,0,t,e).endFill(),this._master&&(this._master.addChild(this._mask),this._display&&(this._display.mask=this._mask)))),this._master){if(this._master.hitArea){const s=this._master.hitArea;s.width=t,s.height=e}else this._master.hitArea=new j.j(0,0,t,e);if(this._master.filterArea){const s=this._master.filterArea;s.width=t,s.height=e}else this._master.filterArea=new j.j(0,0,t,e)}this._width=t,this._height=e}setMask(t){t&&!this._usesMask?(this._usesMask=!0,this._mask&&this._mask.parent!==this._master&&(this._master.addChild(this._mask),this._display.mask=this._mask)):!t&&this._usesMask&&(this._usesMask=!1,this._mask&&this._mask.parent===this._master&&(this._master.removeChild(this._mask),this._display.mask=null))}setScale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._master&&this._display&&(this._restrictsScaling&&!i||(e||(e=new j.g(this._width/2,this._height/2)),s||(s=e),e=this._display.toLocal(e),r?this._scale*=t:this._scale=t,this.screenOffsetX=s.x-e.x*this._scale,this.screenOffsetY=s.y-e.y*this._scale))}render(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._canvasUpdated=!1,this._totalTimeRunning+=lL.instance.ticker.deltaTime,this._totalTimeRunning===this._renderTimestamp)return;if(-1===t&&(t=this._renderTimestamp+1),!this._container||!this._geometry)return;this._width===this._renderedWidth&&this._height===this._renderedHeight||(e=!0),this._display.x===this._screenOffsetX&&this._display.y===this._screenOffsetY||(this._display.x=this._screenOffsetX,this._display.y=this._screenOffsetY,e=!0),this._display.scale.x!==this._scale&&(this._display.scale.set(this._scale),e=!0),this.doMagic();const s=Math.round(this._totalTimeRunning/(60/this._animationFPS));let i=!1;s!==this._lastFrame&&(this._lastFrame=s,i=!0);let r=0;const n=this._container.objects;if(n.size)for(const o of n.values())o&&(r+=this.renderObject(o,o.instanceId.toString(),t,e,i,r));this._sortableSprites.sort(((t,e)=>e.z-t.z)),r<this._sortableSprites.length&&this._sortableSprites.splice(r);let a=0;for(;a<r;){const t=this._sortableSprites[a];t&&t.sprite&&this.renderSprite(a,t),a++}this.cleanSprites(r),(e||i)&&(this._canvasUpdated=!0),this._renderTimestamp=this._totalTimeRunning,this._renderedWidth=this._width,this._renderedHeight=this._height}skipSpriteVisibilityChecking(){this._noSpriteVisibilityChecking=!0,this.render(-1,!0)}resumeSpriteVisibilityChecking(){this._noSpriteVisibilityChecking=!1}getSortableSpriteList(){return this._objectCache.getSortableSpriteList()}getPlaneSortableSprites(){return this._objectCache.getPlaneSortableSprites()}removeFromCache(t){this._objectCache.removeObjectCache(t)}renderObject(t,e,s,i,r,n){if(!t)return 0;const a=t.visualization;if(!a)return this.removeFromCache(e),0;const o=this.getCacheItem(e);o.objectId=t.instanceId;const h=o.location,_=o.sprites,d=h.updateLocation(t,this._geometry);if(!d)return this.removeFromCache(e),0;if(r&&a.update(this._geometry,s,!_.isEmpty||i,this._skipObjectUpdate&&this._runningSlow),h.locationChanged&&(i=!0),!_.needsUpdate(a.instanceId,a.updateSpriteCounter)&&!i)return _.spriteCount;let u=d.x,c=d.y,l=d.z;l+=u>0?12e-8*u:12e-8*-u,u+=Math.trunc(this._width/2),c+=Math.trunc(this._height/2);let g=0;for(const E of a.sprites.values()){if(!E||!E.visible)continue;const s=E.texture,i=s&&s.baseTexture;if(!s||!i)continue;const r=u+E.offsetX+this._screenOffsetX,a=c+E.offsetY+this._screenOffsetY;if(E.flipH){const t=u+-(s.width+-E.offsetX)+this._screenOffsetX;if(!this.isSpriteVisible(t,a,s.width,s.height))continue}else if(E.flipV){const t=c+-(s.height+-E.offsetY)+this._screenOffsetY;if(!this.isSpriteVisible(r,t,s.width,s.height))continue}else if(!this.isSpriteVisible(r,a,s.width,s.height))continue;let o=_.getSprite(g);o||(o=new is,_.addSprite(o),this._sortableSprites.push(o),o.name=e),o.sprite=E,E.spriteType!==be.AVATAR&&E.spriteType!==be.AVATAR_OWN||(o.sprite.libraryAssetName=\"avatar_\"+t.id),o.x=r-this._screenOffsetX,o.y=a-this._screenOffsetY,o.z=l+E.relativeDepth+37e-12*n,g++,n++}return _.setSpriteCount(g),this._canvasUpdated=!0,g}getExtendedSprite(t){if(t<0||t>=this._spriteCount)return null;const e=this._display.getChildAt(t);return e||null}getExtendedSpriteIdentifier(t){return t?t.name:\"\"}renderSprite(t,e){if(t>=this._spriteCount)return this.createAndAddSprite(e),!0;if(!e)return!1;const s=e.sprite,i=this.getExtendedSprite(t);if(!s||!i)return!1;if(i.varyingDepth!==s.varyingDepth)return i.varyingDepth&&!s.varyingDepth?(this._display.removeChildAt(t),this._spritePool.push(i),this.renderSprite(t,e)):(this.createAndAddSprite(e,t),!0);if(i.needsUpdate(s.id,s.updateCounter)||ke.isVisualizationOn()){i.tag=s.tag,i.alphaTolerance=s.alphaTolerance,i.name=e.name,i.varyingDepth=s.varyingDepth,i.clickHandling=s.clickHandling,i.filters=s.filters;const t=s.alpha/255;if(i.alpha!==t&&(i.alpha=t),i.tint!==s.color&&(i.tint=s.color),i.blendMode!==s.blendMode&&(i.blendMode=s.blendMode),i.texture!==s.texture&&i.setTexture(s.texture),s.updateContainer){1===i.children.length&&i.removeChildAt(0),i.addChild(s.container),s.updateContainer=!1}s.flipH?-1!==i.scale.x&&(i.scale.x=-1):1!==i.scale.x&&(i.scale.x=1),s.flipV?-1!==i.scale.y&&(i.scale.y=-1):1!==i.scale.y&&(i.scale.y=1),this.updateEnterRoomEffect(i,s)}return i.x!==e.x&&(i.x=e.x),i.y!==e.y&&(i.y=e.y),i.offsetX=s.offsetX,i.offsetY=s.offsetY,!0}createAndAddSprite(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const s=t.sprite;if(!s)return;let i=null;this._spritePool.length>0&&(i=this._spritePool.pop()),i||(i=new es),i.children.length&&i.removeChildren(),i.tag=s.tag,i.alphaTolerance=s.alphaTolerance,i.alpha=s.alpha/255,i.tint=s.color,i.x=t.x,i.y=t.y,i.offsetX=s.offsetX,i.offsetY=s.offsetY,i.name=s.name,i.varyingDepth=s.varyingDepth,i.clickHandling=s.clickHandling,i.blendMode=s.blendMode,i.filters=s.filters,i.setTexture(s.texture),s.updateContainer&&(i.addChild(s.container),s.updateContainer=!1),s.flipH&&(i.scale.x=-1),s.flipV&&(i.scale.y=-1),this.updateEnterRoomEffect(i,s),e<0||e>=this._spriteCount?(this._display.addChild(i),this._spriteCount++):this._display.addChildAt(i,e),this._activeSpriteCount++}cleanSprites(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._display){if(t<0&&(t=0),t<this._activeSpriteCount||!this._activeSpriteCount){let s=this._spriteCount-1;for(;s>=t;)this.cleanSprite(this.getExtendedSprite(s),e),s--}this._activeSpriteCount=t}}updateEnterRoomEffect(t,e){if(ke.isVisualizationOn()&&e)switch(e.spriteType){case be.AVATAR_OWN:return;case be.ROOM_PLANE:return void(t.alpha=ke.getDelta(.9));case be.AVATAR:return void(t.alpha=ke.getDelta(.5));default:t.alpha=ke.getDelta(.1)}}cleanSprite(t,e){t&&(e?(t.parent&&t.parent.removeChild(t),t.destroy({children:!0})):t.setTexture(null))}update(){this._mouseCheckCount,this._mouseCheckCount=0,this._eventId++}setMouseListener(t){this._mouseListener=t}getCacheItem(t){return this._objectCache.getObjectCache(t)}isSpriteVisible(t,e,s,i){return!!this._noSpriteVisibilityChecking||(t=(t-this._screenOffsetX)*this._scale+this._screenOffsetX,e=(e-this._screenOffsetY)*this._scale+this._screenOffsetY,s*=this._scale,i*=this._scale,t<this._width&&t+s>=0&&e<this._height&&e+i>=0&&!this._usesExclusionRectangles)}handleMouseEvent(t,e,s,i,r,n,a){return t-=this._screenOffsetX,e-=this._screenOffsetY,this._mouseLocation.x=t/this._scale,this._mouseLocation.y=e/this._scale,this._mouseCheckCount>0&&s==ts.MOUSE_MOVE||(this._mouseSpriteWasHit=this.checkMouseHits(Math.trunc(t/this._scale),Math.trunc(e/this._scale),s,i,r,n,a),this._mouseCheckCount++),this._mouseSpriteWasHit}checkMouseHits(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const o=[];let h=!1,_=null,d=this._activeSpriteCount-1;for(;d>=0;){const u=this.getExtendedSprite(d);if(u&&u.containsPoint(new j.g(t-u.x,e-u.y)))if(!u.clickHandling||s!==ts.MOUSE_CLICK&&s!==ts.DOUBLE_CLICK){const d=this.getExtendedSpriteIdentifier(u);if(-1===o.indexOf(d)){const h=u.tag;let c=this._mouseActiveObjects.get(d);c&&c.spriteTag!==h&&(_=this.createMouseEvent(0,0,0,0,ts.ROLL_OUT,c.spriteTag,i,r,n,a),this.bufferMouseEvent(_,d)),s!==ts.MOUSE_MOVE||c&&c.spriteTag===h?(_=this.createMouseEvent(t,e,t-u.x,e-u.y,s,h,i,r,n,a),_.spriteOffsetX=u.offsetX,_.spriteOffsetY=u.offsetY):_=this.createMouseEvent(t,e,t-u.x,e-u.y,ts.ROLL_OVER,h,i,r,n,a),c||(c=new ss,c.objectId=d,this._mouseActiveObjects.set(d,c)),c.spriteTag=h,s===ts.MOUSE_MOVE&&t===this._mouseOldX&&e===this._mouseOldY||this.bufferMouseEvent(_,d),o.push(d)}h=!0}else;d--}const u=[];for(const l of this._mouseActiveObjects.keys())l&&u.push(l);let c=0;for(;c<u.length;){const t=u[c];o.indexOf(t)>=0&&(u[c]=null),c++}for(c=0;c<u.length;){const t=u[c];if(null!==t){const e=this._mouseActiveObjects.get(t);e&&this._mouseActiveObjects.delete(t);const s=this.createMouseEvent(0,0,0,0,ts.ROLL_OUT,e.spriteTag,i,r,n,a);this.bufferMouseEvent(s,t)}c++}return this.processMouseEvents(),this._mouseOldX=t,this._mouseOldY=e,h}createMouseEvent(t,e,s,i,r,n,a,o,h,_){const d=t-this._width/2,u=e-this._height/2,c=`canvas_${this._id}`;return new Ce(r,c+\"_\"+this._eventId,c,n,d,u,s,i,o,a,h,_)}bufferMouseEvent(t,e){t&&this._eventCache&&(this._eventCache.delete(e),this._eventCache.set(e,t))}processMouseEvents(){if(this._container&&this._eventCache){for(const[t,e]of this._eventCache.entries()){if(!this._eventCache)return;if(!e)continue;const s=this._container.getRoomObject(parseInt(t));if(s)if(this._mouseListener)this._mouseListener.processRoomCanvasMouseEvent(e,s,this._geometry);else{const t=s.mouseHandler;t&&t.mouseEvent(e,this._geometry)}}this._eventCache&&this._eventCache.clear()}}getDisplayAsTexture(){this._noSpriteVisibilityChecking=!0;const t=this._scale,e=this._screenOffsetX,s=this._screenOffsetY;this.setScale(1,null,null,!0),this._screenOffsetX=0,this._screenOffsetY=0,this.render(-1,!0),this._display.mask=null;const r=this._display.getBounds(),n=i.o.create({width:this._display.width,height:this._display.height});return lL.instance.renderer.render(this._display,{renderTexture:n,clear:!0,transform:new j.d(1,0,0,1,-r.x,-r.y)}),this._display.mask=this._mask,this._noSpriteVisibilityChecking=!1,this.setScale(t,null,null,!0),this._screenOffsetX=e,this._screenOffsetY=s,n}doMagic(){const t=this.geometry;if(0!==this._rotation){let e=this._effectDirection;t.direction=new dt(e.x+this._rotation,e.y,e.z),e=t.direction,t.setDepthVector(new dt(e.x,e.y,5));const s=new dt;s.assign(this._rotationOrigin),s.x=s.x+this._rotationRodLength*Math.cos((e.x+180)/180*3.14159265358979)*Math.cos(e.y/180*3.14159265358979),s.y=s.y+this._rotationRodLength*Math.sin((e.x+180)/180*3.14159265358979)*Math.cos(e.y/180*3.14159265358979),s.z=s.z+this._rotationRodLength*Math.sin(e.y/180*3.14159265358979),t.location=s,this._effectLocation=new dt,this._effectLocation.assign(s),this._effectDirection=new dt,this._effectDirection.assign(t.direction)}if((Ke.isVisualizationOn()&&!this._SafeStr_4507||!Ke.isVisualizationOn()&&this._SafeStr_4507)&&this.changeShaking(),We.isVisualizationOn()&&this.changeRotation(),this._SafeStr_4507){this._SafeStr_795++;const e=this._effectDirection,s=dt.sum(e,new dt(2*Math.sin(5*this._SafeStr_795/180*3.14159265358979),5*Math.sin(this._SafeStr_795/180*3.14159265358979),2*Math.sin(10*this._SafeStr_795/180*3.14159265358979)));t.direction=s}else this._SafeStr_795=0,t.direction=this._effectDirection}changeShaking(){if(this._SafeStr_4507=!this._SafeStr_4507,this._SafeStr_4507){const t=this.geometry.direction;this._effectDirection=new dt(t.x,t.y,t.z)}}changeRotation(){if(this._SafeStr_4507)return;const t=this.geometry;if(t)if(0!==this._rotation)this._rotation=0,t.location=this._effectLocation,t.direction=this._effectDirection,t.setDepthVector(new dt(this._effectDirection.x,this._effectDirection.y,5));else{const e=t.location,s=t.directionAxis;this._effectLocation=new dt,this._effectLocation.assign(e),this._effectDirection=new dt,this._effectDirection.assign(t.direction);const i=ze.getIntersectionVector(e,s,new dt(0,0,0),new dt(0,0,1));null!==i&&(this._rotationOrigin=new dt(i.x,i.y,i.z),this._rotationRodLength=dt.dif(i,e).length,this._rotation=1)}}moveLeft(){if(0!==this._rotation)return void(1===this._rotation?this._rotation=-1:this._rotation=this._rotation-1);const t=this.geometry,e=(t.direction.x-90)/180*3.14159265358979;t.location=dt.sum(t.location,new dt(Math.cos(e)*Math.sqrt(2),Math.sin(e)*Math.sqrt(2)))}moveRight(){if(0!==this._rotation)return void(-1===this._rotation?this._rotation=1:this._rotation=this._rotation+1);const t=this.geometry,e=(t.direction.x+90)/180*3.14159265358979;t.location=dt.sum(t.location,new dt(Math.cos(e)*Math.sqrt(2),Math.sin(e)*Math.sqrt(2)))}moveUp(){if(0!==this._rotation)return;const t=this.geometry,e=t.direction.x/180*3.14159265358979;t.location=dt.sum(t.location,new dt(Math.cos(e)*Math.sqrt(2),Math.sin(e)*Math.sqrt(2)))}moveDown(){if(0!==this._rotation)return;const t=this.geometry,e=(t.direction.x+180)/180*3.14159265358979;t.location=dt.sum(t.location,new dt(Math.cos(e)*Math.sqrt(2),Math.sin(e)*Math.sqrt(2)))}get id(){return this._id}get geometry(){return this._geometry}get master(){return this._master}get display(){return this._display}get screenOffsetX(){return this._screenOffsetX}set screenOffsetX(t){t=Math.trunc(t),this._mouseLocation.x=this._mouseLocation.x-(t-this._screenOffsetX),this._screenOffsetX=t}get screenOffsetY(){return this._screenOffsetY}set screenOffsetY(t){t=Math.trunc(t),this._mouseLocation.y=this._mouseLocation.y-(t-this._screenOffsetY),this._screenOffsetY=t}get scale(){return this._scale}get width(){return this._width*this._scale}get height(){return this._height*this._scale}get restrictsScaling(){return this._restrictsScaling}set restrictsScaling(t){this._restrictsScaling=t}get canvasUpdated(){return this._canvasUpdated}set canvasUpdated(t){this._canvasUpdated=t}}class ns{constructor(){this._objects=void 0,this._canvases=void 0,this._disposed=void 0,this._roomObjectVariableAccurateZ=void 0,this._objects=new Map,this._canvases=new Map,this._disposed=!1,this._roomObjectVariableAccurateZ=null}dispose(){if(!this._disposed){if(this._canvases){for(const[t,e]of this._canvases.entries())this._canvases.delete(t),e&&e.dispose();this._canvases=null}this._objects&&(this._objects=null),this._disposed=!0}}reset(){this._objects.clear()}getInstanceId(t){return t?t.instanceId:-1}getRoomObject(t){return this._objects.get(t)}addObject(t){t&&this._objects.set(this.getInstanceId(t),t)}removeObject(t){const e=this.getInstanceId(t);this._objects.delete(e);for(const s of this._canvases.values()){if(!s)continue;s.removeFromCache(e.toString())}}render(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._canvases&&this._canvases.size)for(const s of this._canvases.values())s&&s.render(t,e)}update(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._canvases&&this._canvases.size){this.render(t,e);for(const t of this._canvases.values())t&&t.update()}}getCanvas(t){const e=this._canvases.get(t);if(e)return e}createCanvas(t,e,s,i){const r=this._canvases.get(t);if(r)return r.initialize(e,s),r.geometry&&(r.geometry.scale=i),r;const n=this.createSpriteCanvas(t,e,s,i);return n?(this._canvases.set(t,n),n):void 0}createSpriteCanvas(t,e,s,i){return new rs(this,t,e,s,i)}removeCanvas(t){const e=this._canvases.get(t);e&&(this._canvases.delete(t),e.dispose())}get objects(){return this._objects}get disposed(){return this._disposed}get roomObjectVariableAccurateZ(){return this._roomObjectVariableAccurateZ}set roomObjectVariableAccurateZ(t){this._roomObjectVariableAccurateZ=t}}class as{createRenderer(){return new ns}}class os extends d.a{constructor(t){super(t)}}os.INITIALIZED=\"RCWM_INITIALIZED\";class hs{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._name=void 0,this._minLevel=-1,this._texture=null,this._colorMatrix=null,this._blendMode=null,this._name=t,this._minLevel=e,this._texture=s,this._colorMatrix=i,this._blendMode=r}get name(){return this._name}get texture(){return this._texture}set texture(t){this._texture=t}get colorMatrix(){return this._colorMatrix}set colorMatrix(t){this._colorMatrix=t}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t}get minLevel(){return this._minLevel}}class _s{constructor(){this._effects=void 0,this._events=void 0,this._isLoaded=void 0,this._effects=new Map,this._events=new g,this._isLoaded=!1}init(){if(this._isLoaded)return;this._isLoaded=!0;const t=lL.instance.getConfiguration(\"image.library.url\")+\"Habbo-Stories/\",e=lL.instance.getConfiguration(\"camera.available.effects\");for(const s of e){if(!s.enabled)continue;const e=new hs(s.name,s.minLevel);s.colorMatrix.length?e.colorMatrix=s.colorMatrix:(e.texture=i.t.from(t+s.name+\".png\"),e.blendMode=s.blendMode),this._effects.set(e.name,e)}this.events.dispatchEvent(new os(os.INITIALIZED))}applyEffects(t,e,s){const i=new H,r=new W(t);i.addChild(r);for(const n of e){const t=n.effect;if(t)if(t.colorMatrix){const e=new vt.a;e.matrix=t.colorMatrix,e.alpha=n.alpha,r.filters||(r.filters=[]),r.filters.push(e)}else{const e=new W(t.texture);e.alpha=n.alpha,e.blendMode=t.blendMode,i.addChild(e)}}return At.generateImage(i)}get effects(){return this._effects}get events(){return this._events}get isLoaded(){return this._isLoaded}}class ds{flush(){return!0}parse(t){return!!t}}class us extends v{constructor(t){super(t,ds)}getParser(){return this.parser}}class cs{flush(){return!0}parse(t){return!!t}}class ls extends v{constructor(t){super(t,cs)}getParser(){return this.parser}}class gs{}gs.UNKNOWN=0,gs.BROWSER=1;class Es{}Es.UNKNOWN=0,Es.FLASH=1,Es.HTML5=2;class ps{constructor(t,e,s,i){this._data=void 0,this._data=[pL.RENDERER_VERSION,\"HTML5\",Es.HTML5,gs.BROWSER]}getMessageArray(){return this._data}dispose(){}}class ms{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Is{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class fs{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Ts extends d.a{constructor(t,e){super(t),this._connection=void 0,this._connection=e}get connection(){return this._connection}}Ts.CONNECTION_ESTABLISHED=\"NCE_ESTABLISHED\",Ts.CONNECTION_CLOSED=\"NCE_CLOSED\",Ts.CONNECTION_ERROR=\"NCE_ERROR\",Ts.CONNECTION_HANDSHAKING=\"NCE_HANDSHAKING\",Ts.CONNECTION_HANDSHAKED=\"NCE_HANDSHAKED\",Ts.CONNECTION_HANDSHAKE_FAILED=\"NCE_HANDSHAKE_FAILED\",Ts.CONNECTION_AUTHENTICATED=\"NCE_AUTHENTICATED\";class Rs extends y{constructor(t){super(),this._communication=void 0,this._handShaking=void 0,this._didConnect=void 0,this._pongInterval=void 0,this._communication=t,this._handShaking=!1,this._didConnect=!1,this._pongInterval=null,this.onConnectionOpenedEvent=this.onConnectionOpenedEvent.bind(this),this.onConnectionClosedEvent=this.onConnectionClosedEvent.bind(this),this.onConnectionErrorEvent=this.onConnectionErrorEvent.bind(this),this.sendPong=this.sendPong.bind(this)}onInit(){const t=this._communication.connection;t&&(t.addEventListener(R.CONNECTION_OPENED,this.onConnectionOpenedEvent),t.addEventListener(R.CONNECTION_CLOSED,this.onConnectionClosedEvent),t.addEventListener(R.CONNECTION_ERROR,this.onConnectionErrorEvent)),this._communication.registerMessageEvent(new us(this.onClientPingEvent.bind(this))),this._communication.registerMessageEvent(new ls(this.onAuthenticatedEvent.bind(this)))}onDispose(){const t=this._communication.connection;t&&(t.removeEventListener(R.CONNECTION_OPENED,this.onConnectionOpenedEvent),t.removeEventListener(R.CONNECTION_CLOSED,this.onConnectionClosedEvent),t.removeEventListener(R.CONNECTION_ERROR,this.onConnectionErrorEvent)),this._handShaking=!1,this.stopPonging(),super.onDispose()}onConnectionOpenedEvent(t){const e=this._communication.connection;e&&(this._didConnect=!0,this.dispatchCommunicationDemoEvent(Ts.CONNECTION_ESTABLISHED,e),lL.instance.getConfiguration(\"system.pong.manually\",!1)&&this.startPonging(),this.startHandshake(e),e.send(new ps(null,null,null,null)),this.tryAuthentication(e))}onConnectionClosedEvent(t){const e=this._communication.connection;e&&(this.stopPonging(),this._didConnect&&this.dispatchCommunicationDemoEvent(Ts.CONNECTION_CLOSED,e))}onConnectionErrorEvent(t){const e=this._communication.connection;e&&(this.stopPonging(),this.dispatchCommunicationDemoEvent(Ts.CONNECTION_ERROR,e))}tryAuthentication(t){if(!t||!this.getSSO())return this.getSSO()||l.log(\"Login without an SSO ticket is not supported\"),void this.dispatchCommunicationDemoEvent(Ts.CONNECTION_HANDSHAKE_FAILED,t);t.send(new fs(this.getSSO(),lL.instance.time))}onClientPingEvent(t){t&&t.connection&&this.sendPong(t.connection)}onAuthenticatedEvent(t){t&&t.connection&&(this.completeHandshake(t.connection),this.dispatchCommunicationDemoEvent(Ts.CONNECTION_AUTHENTICATED,t.connection),t.connection.send(new ms))}startHandshake(t){this.dispatchCommunicationDemoEvent(Ts.CONNECTION_HANDSHAKING,t),this._handShaking=!0}completeHandshake(t){this.dispatchCommunicationDemoEvent(Ts.CONNECTION_HANDSHAKED,t),this._handShaking=!1}startPonging(){this.stopPonging(),this._pongInterval=setInterval(this.sendPong,lL.instance.getConfiguration(\"system.pong.interval.ms\",2e4))}stopPonging(){this._pongInterval&&(clearInterval(this._pongInterval),this._pongInterval=null)}sendPong(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=t||this._communication.connection||null,t&&t.send(new Is)}dispatchCommunicationDemoEvent(t,e){lL.instance.events.dispatchEvent(new Ts(t,e))}getSSO(){return lL.instance.getConfiguration(\"sso.ticket\",null)}}class vs{constructor(){this._canShowInterstitial=void 0}flush(){return this._canShowInterstitial=!1,!0}parse(t){return!!t&&(this._canShowInterstitial=t.readBoolean(),!0)}get canShowInterstitial(){return this._canShowInterstitial}}class Os{constructor(){this._errorCode=void 0,this._filteredText=void 0}flush(){return this._errorCode=0,this._filteredText=null,!0}parse(t){return!!t&&(this._errorCode=t.readInt(),this._filteredText=t.readString(),!0)}get errorCode(){return this._errorCode}get filteredText(){return this._filteredText}}class As{constructor(){this._isOpen=void 0,this._onShutdown=void 0,this._isAuthenticUser=void 0}flush(){return this._isOpen=!1,this._onShutdown=!1,this._isAuthenticUser=!1,!0}parse(t){return!!t&&(this._isOpen=t.readBoolean(),this._onShutdown=t.readBoolean(),t.bytesAvailable&&(this._isAuthenticUser=t.readBoolean()),!0)}get isOpen(){return this._isOpen}get onShutdown(){return this._onShutdown}get isAuthenticUser(){return this._isAuthenticUser}}class Ss{constructor(){this._isOpen=void 0,this._minutesUntilChange=void 0}flush(){return this._isOpen=!1,this._minutesUntilChange=0,!0}parse(t){return!!t&&(this._isOpen=t.readInt()>0,this._minutesUntilChange=t.readInt(),!0)}get isOpen(){return this._isOpen}get minutesUntilChange(){return this._minutesUntilChange}}class Ns{constructor(){this._openHour=void 0,this._openMinute=void 0}flush(){return this._openHour=0,this._openMinute=0,!0}parse(t){return!!t&&(this._openHour=t.readInt(),this._openMinute=t.readInt(),!0)}get openHour(){return this._openHour}get openMinute(){return this._openMinute}}class ys{constructor(){this._openHour=void 0,this._openMinute=void 0,this._userThrownOutAtClose=void 0}flush(){return this._openHour=0,this._openMinute=0,this._userThrownOutAtClose=!1,!0}parse(t){return!!t&&(this._openHour=t.readInt(),this._openMinute=t.readInt(),this._userThrownOutAtClose=t.readBoolean(),!0)}get openHour(){return this._openHour}get openMinute(){return this._openMinute}get userThrowOutAtClose(){return this._userThrownOutAtClose}}class Ds{constructor(){this._minutes=void 0}flush(){return this._minutes=0,!0}parse(t){return!!t&&(this._minutes=t.readInt(),!0)}get openMinute(){return this._minutes}}class Ms{constructor(){this._isInMaintenance=void 0,this._minutesUntilMaintenance=void 0,this._duration=void 0}flush(){return this._isInMaintenance=!1,this._minutesUntilMaintenance=0,this._duration=15,!0}parse(t){return!!t&&(this._isInMaintenance=t.readBoolean(),this._minutesUntilMaintenance=t.readInt(),t.bytesAvailable&&(this._duration=t.readInt()),!0)}get isInMaintenance(){return this._isInMaintenance}get minutesUntilMaintenance(){return this._minutesUntilMaintenance}get duration(){return this._duration}}class Cs{constructor(){this._resultCode=void 0,this._name=void 0,this._nameSuggestions=void 0}flush(){return this._resultCode=-1,this._name=\"\",this._nameSuggestions=[],!0}parse(t){if(!t)return!1;this._resultCode=t.readInt(),this._name=t.readString();let e=t.readInt();for(;e>0;)this._nameSuggestions.push(t.readString()),e--;return!0}get resultCode(){return this._resultCode}get name(){return this._name}get nameSuggestions(){return this._nameSuggestions}}class Ls{constructor(){this._resultCode=void 0,this._name=void 0,this._nameSuggestions=void 0}flush(){return this._resultCode=-1,this._name=\"\",this._nameSuggestions=[],!0}parse(t){if(!t)return!1;this._resultCode=t.readInt(),this._name=t.readString();let e=t.readInt();for(;e>0;)this._nameSuggestions.push(t.readString()),e--;return!0}get resultCode(){return this._resultCode}get name(){return this._name}get nameSuggestions(){return this._nameSuggestions}}class Us{constructor(){this._figure=void 0,this._gender=void 0}flush(){return this._figure=\"\",this._gender=\"\",!0}parse(t){return!!t&&(this._figure=t.readString(),this._gender=t.readString(),this._gender&&(this._gender=this._gender.toUpperCase()),!0)}get figure(){return this._figure}get gender(){return this._gender}}class Ps{constructor(){this._state=void 0,this._outfits=void 0}flush(){return this._state=0,this._outfits=[],!0}parse(t){if(!t)return!1;this._state=t.readInt();let e=t.readInt();for(;e>0;)this._outfits.push(new gu(t)),e--;return!0}get state(){return this._state}get outfits(){return this._outfits}}class bs{constructor(t){if(this._id=void 0,this._name=void 0,this._motto=void 0,this._gender=void 0,this._figure=void 0,!t)throw new Error(\"invalid_parser\");this._id=t.readInt(),this._name=t.readString(),this._motto=t.readString(),this._gender=t.readString(),this._figure=t.readString()}get id(){return this._id}get name(){return this._name}get motto(){return this._motto}get figure(){return this._figure}get gender(){return this._gender}}class ws{constructor(){this._item=void 0,this._openInventory=void 0}flush(){return this._item=null,this._openInventory=!1,!0}parse(t){return!!t&&(this._item=new bs(t),this._openInventory=t.readBoolean(),!0)}get item(){return this._item}openInventory(){return this._openInventory}}class Fs{constructor(){this._items=void 0}flush(){return this._items=null,!0}parse(t){this._items=new Map;let e=t.readInt();for(;e>0;){const s=new bs(t);this._items.set(s.id,s),e--}return!0}get items(){return this._items}}class xs{constructor(){this._boughtAsGift=void 0,this._item=void 0}flush(){return this._boughtAsGift=!1,this._item=null,!0}parse(t){return!!t&&(this._boughtAsGift=t.readBoolean(),this._item=new bs(t),!0)}get boughtAsGift(){return this._boughtAsGift}get item(){return this._item}}class Bs{constructor(){this._itemId=void 0}flush(){return this._itemId=0,!0}parse(t){return!!t&&(this._itemId=t.readInt(),!0)}get itemId(){return this._itemId}}class Gs{constructor(t){this._name=void 0,this._id=void 0,this._consequence=void 0,this._name=t.readString(),this._id=t.readInt(),this._consequence=t.readString()}get name(){return this._name}get id(){return this._id}get consequence(){return this._consequence}}class Hs{constructor(t){this._name=void 0,this._topics=void 0,this._disposed=void 0,this._topics=[],this._name=t.readString();let e=t.readInt();for(;e>0;)this._topics.push(new Gs(t)),e--}dispose(){this._disposed||(this._disposed=!0,this._topics=null)}get disposed(){return this._disposed}get name(){return this._name}get topics(){return this._topics}}class Vs extends v{constructor(t){super(t,Ws)}getParser(){return this.parser}}class js{constructor(t){this._name=void 0,this._sanctionLengthInHours=void 0,this._probationDays=void 0,this._avatarOnly=void 0,this._tradeLockInfo=\"\",this._machineBanInfo=\"\",this._name=t.readString(),this._sanctionLengthInHours=t.readInt(),this._probationDays=t.readInt(),this._avatarOnly=t.readBoolean(),t.bytesAvailable&&(this._tradeLockInfo=t.readString()),t.bytesAvailable&&(this._machineBanInfo=t.readString())}get name(){return this._name}get sanctionLengthInHours(){return this._sanctionLengthInHours}get avatarOnly(){return this._avatarOnly}get tradeLockInfo(){return this._tradeLockInfo}get machineBanInfo(){return this._machineBanInfo}}class ks{constructor(){this._callForHelpCategories=void 0}flush(){return this._callForHelpCategories=null,!0}parse(t){if(!t)return!1;this._callForHelpCategories=[];let e=t.readInt();for(;e>0;)this._callForHelpCategories.push(new Hs(t)),e--;return!0}get callForHelpCategories(){return this._callForHelpCategories}}class zs extends v{constructor(t){super(t,ks)}getParser(){return this.parser}}class Ys extends v{constructor(t){super(t,Ks)}getParser(){return this.parser}}class Ws{constructor(){this._issueId=void 0,this._accountId=void 0,this._sanctionType=void 0}flush(){return this._issueId=-1,this._accountId=1,this._sanctionType=null,!0}parse(t){return!!t&&(this._issueId=t.readInt(),this._accountId=t.readInt(),this._sanctionType=new js(t),!0)}get issueId(){return this._issueId}get accountId(){return this._accountId}get sanctionType(){return this._sanctionType}}class Ks{constructor(){this._isSanctionNew=void 0,this._isSanctionActive=void 0,this._sanctionName=void 0,this._sanctionLengthHours=void 0,this._sanctionReason=void 0,this._sanctionCreationTime=void 0,this._probationHoursLeft=void 0,this._nextSanctionName=void 0,this._nextSanctionLengthHours=void 0,this._hasCustomMute=void 0,this._tradeLockExpiryTime=void 0}flush(){return this._isSanctionNew=!1,this._isSanctionActive=!1,this._sanctionName=null,this._sanctionLengthHours=0,this._sanctionReason=null,this._sanctionCreationTime=null,this._probationHoursLeft=0,this._nextSanctionName=null,this._nextSanctionLengthHours=0,this._hasCustomMute=!1,this._tradeLockExpiryTime=null,!0}parse(t){return!!t&&(this._isSanctionNew=t.readBoolean(),this._isSanctionActive=t.readBoolean(),this._sanctionName=t.readString(),this._sanctionLengthHours=t.readInt(),t.readInt(),this._sanctionReason=t.readString(),this._sanctionCreationTime=t.readString(),this._probationHoursLeft=t.readInt(),this._nextSanctionName=t.readString(),this._nextSanctionLengthHours=t.readInt(),t.readInt(),this._hasCustomMute=t.readBoolean(),t.bytesAvailable&&(this._tradeLockExpiryTime=t.readString()),!0)}get isSanctionNew(){return this._isSanctionNew}get isSanctionActive(){return this._isSanctionActive}get sanctionName(){return this._sanctionName}get sanctionLengthHours(){return this._sanctionLengthHours}get sanctionReason(){return this._sanctionReason}get sanctionCreationTime(){return this._sanctionCreationTime}get probationHoursLeft(){return this._probationHoursLeft}get nextSanctionName(){return this._nextSanctionName}get nextSanctionLengthHours(){return this._nextSanctionLengthHours}get hasCustomMute(){return this._hasCustomMute}get tradeLockExpiryTime(){return this._tradeLockExpiryTime}}class Xs{constructor(){this._ok=!1,this._secondsToWait=0,this._extraDataId=void 0}flush(){return this._ok=!1,this._secondsToWait=0,this._extraDataId=null,!0}parse(t){return!!t&&(this._ok=t.readBoolean(),this._secondsToWait=t.readInt(),this._ok&&t.bytesAvailable&&(this._extraDataId=t.readString()),!0)}get ok(){return this._ok}get secondsToWait(){return this._secondsToWait}get extraDataId(){return this._extraDataId}}class qs{flush(){return!0}parse(t){return!!t}}class Qs{constructor(){this._url=void 0}flush(){return this._url=\"\",!0}parse(t){return!!t&&(this._url=t.readString(),!0)}get url(){return this._url}}class Zs{constructor(){this._ok=!1,this._errorReason=null}flush(){return this._ok=!1,this._errorReason=null,!0}parse(t){return!!t&&(this._ok=t.readBoolean(),this._errorReason=t.readString(),!0)}get ok(){return this._ok}get errorReason(){return this._errorReason}}class Js{constructor(){this._creditPrice=0,this._ducketPrice=0,this._publishDucketPrice=0}flush(){return this._creditPrice=0,this._ducketPrice=0,this._publishDucketPrice=0,!0}parse(t){return!!t&&(this._creditPrice=t.readInt(),this._ducketPrice=t.readInt(),t.bytesAvailable&&(this._publishDucketPrice=t.readInt()),!0)}get creditPrice(){return this._creditPrice}get ducketPrice(){return this._ducketPrice}get publishDucketPrice(){return this._publishDucketPrice}}class $s{constructor(){this._ok=!0,this._renderLimitHit=!1}flush(){return this._ok=!0,this._renderLimitHit=!1,!0}parse(t){return!!t&&(t.bytesAvailable&&(this._ok=t.readBoolean(),this._renderLimitHit=t.readBoolean()),!0)}get ok(){return this._ok}get isRenderLimitHit(){return this._renderLimitHit}}class ti{constructor(){this._campaignName=void 0,this._campaignImage=void 0,this._currentDay=void 0,this._campaignDays=void 0,this._openedDays=void 0,this._missedDays=void 0}parse(t){if(!t)return!1;this._campaignName=t.readString(),this._campaignImage=t.readString(),this._currentDay=t.readInt(),this._campaignDays=t.readInt(),this._openedDays=[];let e=t.readInt();for(let s=0;s<e;s++)this._openedDays.push(t.readInt());this._missedDays=[],e=t.readInt();for(let s=0;s<e;s++)this._missedDays.push(t.readInt());return!0}clone(){const t=new ti;return t.campaignDays=this._campaignDays,t.campaignImage=this._campaignImage,t.campaignName=this._campaignName,t.currentDay=this._currentDay,t.missedDays=this._missedDays,t.openedDays=this._openedDays,t}get campaignName(){return this._campaignName}set campaignName(t){this._campaignName=t}get campaignImage(){return this._campaignImage}set campaignImage(t){this._campaignImage=t}get currentDay(){return this._currentDay}set currentDay(t){this._currentDay=t}get campaignDays(){return this._campaignDays}set campaignDays(t){this._campaignDays=t}get openedDays(){return this._openedDays}set openedDays(t){this._openedDays=t}get missedDays(){return this._missedDays}set missedDays(t){this._missedDays=t}}class ei{constructor(){this._calendarData=void 0}flush(){return this._calendarData=null,!0}parse(t){return!!t&&(this._calendarData=new ti,this._calendarData.parse(t),!0)}get calendarData(){return this._calendarData}}class si{constructor(){this._doorOpened=void 0,this._productName=void 0,this._customImage=void 0,this._furnitureClassName=void 0}flush(){return this._doorOpened=!1,this._productName=null,this._customImage=null,this._furnitureClassName=null,!0}parse(t){return!!t&&(this._doorOpened=t.readBoolean(),this._productName=t.readString(),this._customImage=t.readString(),this._furnitureClassName=t.readString(),!0)}get doorOpened(){return this._doorOpened}get productName(){return this._productName}get customImage(){return this._customImage}get furnitureClassName(){return this._furnitureClassName}}class ii{constructor(){this._productType=void 0,this._productClassId=void 0,this._totalCoinsForBonus=void 0,this._coinsStillRequiredToBuy=void 0}flush(){return this._totalCoinsForBonus=-1,this._coinsStillRequiredToBuy=-1,this._productType=\"\",this._productClassId=-1,!0}parse(t){return!!t&&(this._productType=t.readString(),this._productClassId=t.readInt(),this._totalCoinsForBonus=t.readInt(),this._coinsStillRequiredToBuy=t.readInt(),!0)}get totalCoinsForBonus(){return this._totalCoinsForBonus}get coinsStillRequiredToBuy(){return this._coinsStillRequiredToBuy}get productType(){return this._productType}get productClassId(){return this._productClassId}}class ri{constructor(){this._furniCount=void 0}flush(){return this._furniCount=0,!0}parse(t){return!!t&&(this._furniCount=t.readInt(),!0)}get furniCount(){return this._furniCount}}class ni{constructor(){this._Str_16456=void 0,this._Str_12494=void 0,this._Str_19123=void 0,this._Str_17298=void 0}flush(){return this._Str_16456=0,this._Str_12494=0,this._Str_19123=0,this._Str_17298=0,!0}parse(t){return!!t&&(this._Str_16456=t.readInt(),this._Str_12494=t.readInt(),this._Str_19123=t.readInt(),t.bytesAvailable?this._Str_17298=t.readInt():this._Str_17298=this._Str_16456,!0)}get _Str_3709(){return this._Str_16456}get _Str_15864(){return this._Str_12494}get _Str_24094(){return this._Str_19123}get _Str_24379(){return this._Str_17298}}class ai{constructor(){this._bundleDiscountRuleset=void 0}flush(){return this._bundleDiscountRuleset=null,!0}parse(t){return!!t&&(this._bundleDiscountRuleset=new Lu(t),!0)}get bundleDiscountRuleset(){return this._bundleDiscountRuleset}}class oi{constructor(t){if(this._visible=void 0,this._icon=void 0,this._pageId=void 0,this._pageName=void 0,this._localization=void 0,this._children=void 0,this._offerIds=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._visible=!1,this._icon=0,this._pageId=-1,this._pageName=null,this._localization=null,this._children=[],this._offerIds=[],!0}parse(t){if(!t)return!1;this._visible=t.readBoolean(),this._icon=t.readInt(),this._pageId=t.readInt(),this._pageName=t.readString(),this._localization=t.readString();let e=t.readInt();for(;e>0;)this._offerIds.push(t.readInt()),e--;let s=t.readInt();for(;s>0;)this._children.push(new oi(t)),s--;return!0}get visible(){return this._visible}get icon(){return this._icon}get pageId(){return this._pageId}get pageName(){return this._pageName}get localization(){return this._localization}get children(){return this._children}get offerIds(){return this._offerIds}}class hi{constructor(){this._root=void 0,this._newAdditionsAvailable=void 0,this._catalogType=void 0}flush(){return this._root=null,!0}parse(t){return!!t&&(this._root=new oi(t),this._newAdditionsAvailable=t.readBoolean(),this._catalogType=t.readString(),!0)}get root(){return this._root}get newAdditionsAvailable(){return this._newAdditionsAvailable}get catalogType(){return this._catalogType}}class _i{constructor(){this._pageName=void 0,this._pageId=void 0,this._Str_5158=void 0,this._image=void 0}flush(){return this._pageName=null,this._pageId=0,this._Str_5158=0,this._image=null,!0}parse(t){return!!t&&(this._pageId=t.readInt(),this._pageName=t.readString(),this._Str_5158=t.readInt(),this._image=t.readString(),!0)}get pageName(){return this._pageName}get pageId(){return this._pageId}get _Str_17123(){return this._Str_5158}get image(){return this._image}}class di{constructor(t){this._images=void 0,this._texts=void 0,this._images=[],this._texts=[];let e=t.readInt();for(;e>0;)this._images.push(t.readString()),e--;let s=t.readInt();for(;s>0;)this._texts.push(t.readString()),s--}get images(){return this._images}get texts(){return this._texts}}class ui{constructor(t){if(this._productType=void 0,this._furniClassId=void 0,this._extraParam=void 0,this._productCount=void 0,this._uniqueLimitedItem=void 0,this._uniqueLimitedItemSeriesSize=void 0,this._uniqueLimitedItemsLeft=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._productType=null,this._furniClassId=-1,this._extraParam=null,this._productCount=0,this._uniqueLimitedItem=!1,this._uniqueLimitedItemSeriesSize=0,this._uniqueLimitedItemsLeft=0,!0}parse(t){return this._productType=t.readString(),this._productType===ui.B?(this._extraParam=t.readString(),this._productCount=1,!0):(this._furniClassId=t.readInt(),this._extraParam=t.readString(),this._productCount=t.readInt(),this._uniqueLimitedItem=t.readBoolean(),this._uniqueLimitedItem&&(this._uniqueLimitedItemSeriesSize=t.readInt(),this._uniqueLimitedItemsLeft=t.readInt()),!0)}get productType(){return this._productType}get furniClassId(){return this._furniClassId}get extraParam(){return this._extraParam}get productCount(){return this._productCount}get uniqueLimitedItem(){return this._uniqueLimitedItem}get uniqueLimitedSeriesSize(){return this._uniqueLimitedItemSeriesSize}get uniqueLimitedItemsLeft(){return this._uniqueLimitedItemsLeft}}ui.I=\"i\",ui.S=\"s\",ui.E=\"e\",ui.B=\"b\";class ci{constructor(t){this._offerId=void 0,this._localizationId=void 0,this._rent=void 0,this._priceCredits=void 0,this._priceActivityPoints=void 0,this._priceActivityPointsType=void 0,this._clubLevel=void 0,this._giftable=void 0,this._bundlePurchaseAllowed=void 0,this._isPet=void 0,this._previewImage=void 0,this._products=void 0,this._offerId=t.readInt(),this._localizationId=t.readString(),this._rent=t.readBoolean(),this._priceCredits=t.readInt(),this._priceActivityPoints=t.readInt(),this._priceActivityPointsType=t.readInt(),this._giftable=t.readBoolean(),this._products=[];let e=t.readInt();for(;e>0;)this._products.push(new ui(t)),e--;this._clubLevel=t.readInt(),this._bundlePurchaseAllowed=t.readBoolean(),this._isPet=t.readBoolean(),this._previewImage=t.readString()}get offerId(){return this._offerId}get localizationId(){return this._localizationId}get rent(){return this._rent}get priceCredits(){return this._priceCredits}get priceActivityPoints(){return this._priceActivityPoints}get priceActivityPointsType(){return this._priceActivityPointsType}get clubLevel(){return this._clubLevel}get giftable(){return this._giftable}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed}get isPet(){return this._isPet}get previewImage(){return this._previewImage}get products(){return this._products}}class li{constructor(t){if(this._type=void 0,this._position=void 0,this._itemName=void 0,this._itemPromoImage=void 0,this._catalogPageLocation=void 0,this._productCode=void 0,this._productOfferId=void 0,this._expirationTime=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._type=-1,this._position=null,this._itemName=null,this._itemPromoImage=null,this._catalogPageLocation=null,this._productCode=null,this._productOfferId=0,this._expirationTime=0,!0}parse(t){if(!t)return!1;switch(this._position=t.readInt(),this._itemName=t.readString(),this._itemPromoImage=t.readString(),this._type=t.readInt(),this._type){case li.ITEM_CATALOGUE_PAGE:this._catalogPageLocation=t.readString();break;case li.ITEM_PRODUCT_OFFER:this._productOfferId=t.readInt();break;case li.ITEM_IAP:this._productCode=t.readString()}const e=t.readInt();return this._expirationTime=e>0?1e3*e+lL.instance.time:0,!0}get type(){return this._type}get position(){return this._position}get itemName(){return this._itemName}get itemPromoImage(){return this._itemPromoImage}get catalogPageLocation(){return this._catalogPageLocation}get productCode(){return this._productCode}get productOfferId(){return this._productOfferId}get expirationTime(){return this._expirationTime}}li.ITEM_CATALOGUE_PAGE=0,li.ITEM_PRODUCT_OFFER=1,li.ITEM_IAP=2;class gi{constructor(){this._pageId=void 0,this._catalogType=void 0,this._layoutCode=void 0,this._localization=void 0,this._offers=void 0,this._offerId=void 0,this._acceptSeasonCurrencyAsCredits=void 0,this._frontPageItems=void 0}flush(){return this._pageId=-1,this._catalogType=null,this._layoutCode=null,this._localization=null,this._offers=[],this._offerId=-1,this._acceptSeasonCurrencyAsCredits=!1,this._frontPageItems=[],!0}parse(t){if(!t)return!1;this._pageId=t.readInt(),this._catalogType=t.readString(),this._layoutCode=t.readString(),this._localization=new di(t);let e=t.readInt();for(;e>0;)this._offers.push(new ci(t)),e--;if(this._offerId=t.readInt(),this._acceptSeasonCurrencyAsCredits=t.readBoolean(),t.bytesAvailable){let e=t.readInt();for(;e>0;)this._frontPageItems.push(new li(t)),e--}return!0}get pageId(){return this._pageId}get catalogType(){return this._catalogType}get layoutCode(){return this._layoutCode}get localization(){return this._localization}get offers(){return this._offers}get offerId(){return this._offerId}get acceptSeasonCurrencyAsCredits(){return this._acceptSeasonCurrencyAsCredits}get frontPageItems(){return this._frontPageItems}}class Ei{constructor(){this._pageName=void 0,this._Str_5158=void 0,this._image=void 0}flush(){return this._pageName=null,this._Str_5158=0,this._image=null,!0}parse(t){return!!t&&(this._pageName=t.readString(),this._Str_5158=t.readInt(),this._image=t.readString(),!0)}get pageName(){return this._pageName}get _Str_17123(){return this._Str_5158}get image(){return this._image}}class pi{constructor(){this._instantlyRefreshCatalogue=void 0,this._newFurniDataHash=void 0}flush(){return this._instantlyRefreshCatalogue=!1,this._newFurniDataHash=null,!0}parse(t){return!!t&&(this._instantlyRefreshCatalogue=t.readBoolean(),t.bytesAvailable&&(this._newFurniDataHash=t.readString()),!0)}get instantlyRefreshCatalogue(){return this._instantlyRefreshCatalogue}get newFurniDataHash(){return this._newFurniDataHash}}class mi{constructor(t){this._offerId=void 0,this._isVip=void 0,this._isSelectable=void 0,this._daysRequired=void 0,this._offerId=t.readInt(),this._isVip=t.readBoolean(),this._daysRequired=t.readInt(),this._isSelectable=t.readBoolean()}get offerId(){return this._offerId}get isVip(){return this._isVip}get isSelectable(){return this._isSelectable}get daysRequired(){return this._daysRequired}}class Ii{constructor(){this._daysUntilNextGift=void 0,this._giftsAvailable=void 0,this._offers=void 0,this._giftData=void 0}flush(){return!0}parse(t){if(!t)return!1;this._offers=[],this._giftData=new Map,this._daysUntilNextGift=t.readInt(),this._giftsAvailable=t.readInt();const e=t.readInt();for(let i=0;i<e;i++)this._offers.push(new ci(t));const s=t.readInt();for(let i=0;i<s;i++){const e=new mi(t);this._giftData.set(e.offerId,e)}return!0}get offers(){return this._offers}get daysUntilNextGift(){return this._daysUntilNextGift}get giftsAvailable(){return this._giftsAvailable}set giftsAvailable(t){this._giftsAvailable=t}getOfferExtraData(t){return t?this._giftData.get(t):null}get giftData(){return this._giftData}}class fi{constructor(){this._productCode=void 0,this._products=void 0}flush(){return this._productCode=null,this._products=[],!0}parse(t){if(!t)return!1;this._productCode=t.readString();let e=t.readInt();for(;e>0;)this._products.push(new ui(t)),e--;return!0}get productCode(){return this._productCode}get products(){return this._products}}class Ti{constructor(){this._available=void 0,this._Str_16515=void 0,this._Str_22121=void 0,this._Str_21897=void 0}flush(){return this._available=!1,this._Str_16515=null,this._Str_22121=null,this._Str_21897=0,!0}parse(t){return!!t&&(this._Str_16515=t.readString(),\"\"!==this._Str_16515&&(this._available=!0),this._Str_22121=t.readString(),this._Str_21897=t.readInt(),!0)}get available(){return this._available}get _Str_26301(){return this._Str_16515}get _Str_26118(){return this._Str_22121}get _Str_26380(){return this._Str_21897}}class Ri{flush(){return!0}parse(t){return!!t}}class vi{constructor(){this._isEnabled=!1,this._price=null,this._giftWrappers=null,this._boxTypes=null,this._ribbonTypes=null,this._giftFurnis=null}flush(){return this._boxTypes=null,this._giftFurnis=null,this._giftWrappers=null,this._ribbonTypes=null,this._isEnabled=null,this._price=null,!0}parse(t){if(!t)return!1;const e=[],s=[],i=[],r=[];this._isEnabled=t.readBoolean(),this._price=t.readInt();let n=t.readInt(),a=0;for(;a<n;)e.push(t.readInt()),a++;for(n=t.readInt(),a=0;a<n;)s.push(t.readInt()),a++;for(n=t.readInt(),a=0;a<n;)i.push(t.readInt()),a++;for(n=t.readInt(),a=0;a<n;)r.push(t.readInt()),a++;return this._giftWrappers=e,this._ribbonTypes=i,this._giftFurnis=r,this._boxTypes=s,!0}get giftWrappers(){return this._giftWrappers}get ribbonTypes(){return this._ribbonTypes}get giftFurnis(){return this._giftFurnis}get boxTypes(){return this._boxTypes}get isEnabled(){return this._isEnabled}get price(){return this._price}}class Oi{constructor(t){if(this._offerId=void 0,this._productCode=void 0,this._priceCredits=void 0,this._priceActivityPoints=void 0,this._priceActivityPointsType=void 0,this._vip=void 0,this._months=void 0,this._extraDays=void 0,this._daysLeftAfterPurchase=void 0,this._year=void 0,this._month=void 0,this._day=void 0,this._giftable=void 0,!t)throw new Error(\"invalid_wrapper\");this._offerId=t.readInt(),this._productCode=t.readString(),t.readBoolean(),this._priceCredits=t.readInt(),this._priceActivityPoints=t.readInt(),this._priceActivityPointsType=t.readInt(),this._vip=t.readBoolean(),this._months=t.readInt(),this._extraDays=t.readInt(),this._giftable=t.readBoolean(),this._daysLeftAfterPurchase=t.readInt(),this._year=t.readInt(),this._month=t.readInt(),this._day=t.readInt()}get offerId(){return this._offerId}get productCode(){return this._productCode}get priceCredits(){return this._priceCredits}get priceActivityPoints(){return this._priceActivityPoints}get priceActivityPointsType(){return this._priceActivityPointsType}get vip(){return this._vip}get months(){return this._months}get extraDays(){return this._extraDays}get daysLeftAfterPurchase(){return this._daysLeftAfterPurchase}get year(){return this._year}get month(){return this._month}get day(){return this._day}get giftable(){return this._giftable}}class Ai extends Oi{constructor(t){super(t),this._Str_16193=void 0,this._Str_22071=void 0,this._Str_21178=void 0,this._Str_21024=void 0,this._Str_16193=t.readInt(),this._Str_22071=t.readInt(),this._Str_21178=t.readInt(),this._Str_21024=t.readInt()}get _Str_23477(){return this._Str_16193*this.months}get _Str_21585(){return this._Str_22071*this.months}get _Str_22469(){return this._Str_21178}get _Str_24050(){return this._Str_16193*this.months-this.priceCredits}get _Str_22280(){return this._Str_21585*this.months-this.priceActivityPoints}get _Str_21229(){return this._Str_21024}}class Si{constructor(){this._offer=void 0}flush(){return this._offer=null,!0}parse(t){return!!t&&(this._offer=new Ai(t),!0)}get offer(){return this._offer}}class Ni{constructor(){this._offers=void 0}flush(){return this._offers=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._offers.push(new Oi(t)),e--;return!0}get offers(){return this._offers}}class yi{constructor(){this._offerId=void 0,this._Str_21271=void 0}flush(){return this._offerId=0,this._Str_21271=!1,!0}parse(t){return!!t&&(this._offerId=t.readInt(),this._Str_21271=t.readBoolean(),!0)}get offerId(){return this._offerId}get _Str_18028(){return this._Str_21271}}class Di{flush(){return!0}parse(t){return!!t}}class Mi{constructor(){this._Str_6800=void 0,this._pageId=void 0,this._offerId=void 0,this._productType=void 0}flush(){return this._Str_6800=-1,this._pageId=-1,this._offerId=-1,this._productType=\"\",!0}parse(t){return!!t&&(this._Str_6800=t.readInt(),this._pageId=t.readInt(),this._offerId=t.readInt(),this._productType=t.readString(),!0)}get _Str_23051(){return this._Str_6800}get pageId(){return this._pageId}get offerId(){return this._offerId}get productType(){return this._productType}}class Ci{constructor(){this._Str_17433=!1,this._Str_19031=!1,this._activityPointType=0}flush(){return this._Str_17433=!1,this._Str_19031=!1,this._activityPointType=0,!0}parse(t){return!!t&&(this._Str_17433=t.readBoolean(),this._Str_19031=t.readBoolean(),t.bytesAvailable&&(this._activityPointType=t.readInt()),!0)}get notEnoughCredits(){return this._Str_17433}get _Str_24352(){return this._Str_19031}get activityPointType(){return this._activityPointType}}class Li{constructor(){this._offer=void 0}flush(){return this._offer=null,!0}parse(t){return!!t&&(this._offer=new ci(t),!0)}get offer(){return this._offer}}class Ui{constructor(){this._code=void 0}flush(){return this._code=0,!0}parse(t){return!!t&&(this._code=t.readInt(),!0)}get code(){return this._code}}class Pi{constructor(){this._code=void 0}flush(){return this._code=0,!0}parse(t){return!!t&&(this._code=t.readInt(),!0)}get code(){return this._code}}class bi{constructor(t){if(this._offerId=void 0,this._localizationId=void 0,this._rent=void 0,this._priceCredits=void 0,this._priceActivityPoints=void 0,this._priceActivityPointsType=void 0,this._clubLevel=void 0,this._giftable=void 0,this._bundlePurchaseAllowed=void 0,this._products=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._offerId=-1,this._localizationId=null,this._rent=!1,this._priceCredits=0,this._priceActivityPoints=0,this._priceActivityPointsType=0,this._clubLevel=0,this._giftable=!1,this._bundlePurchaseAllowed=!1,this._products=[],!0}parse(t){if(!t)return!1;this._offerId=t.readInt(),this._localizationId=t.readString(),this._rent=t.readBoolean(),this._priceCredits=t.readInt(),this._priceActivityPoints=t.readInt(),this._priceActivityPointsType=t.readInt(),this._giftable=t.readBoolean();let e=t.readInt();for(;e>0;)this._products.push(new ui(t)),e--;return this._clubLevel=t.readInt(),this._bundlePurchaseAllowed=t.readBoolean(),!0}get offerId(){return this._offerId}get localizationId(){return this._localizationId}get rent(){return this._rent}get priceCredits(){return this._priceCredits}get priceActivityPoints(){return this._priceActivityPoints}get priceActivityPointsType(){return this._priceActivityPointsType}get clubLevel(){return this._clubLevel}get giftable(){return this._giftable}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed}get products(){return this._products}}class wi{constructor(){this._offer=void 0}flush(){return this._offer=null,!0}parse(t){return!!t&&(this._offer=new bi(t),!0)}get offer(){return this._offer}}class Fi{constructor(){this._clubLevel=void 0,this._securityLevel=void 0,this._isAmbassador=void 0}flush(){return this._clubLevel=0,this._securityLevel=0,this._isAmbassador=!1,!0}parse(t){return!!t&&(this._clubLevel=t.readInt(),this._securityLevel=t.readInt(),this._isAmbassador=t.readBoolean(),!0)}get clubLevel(){return this._clubLevel}get securityLevel(){return this._securityLevel}get isAmbassador(){return this._isAmbassador}}class xi{constructor(){this._result=void 0,this._validationInfo=void 0}flush(){return this._result=-1,this._validationInfo=\"\",!0}parse(t){return!!t&&(this._result=t.readInt(),this._validationInfo=t.readString(),!0)}get result(){return this._result}get validationInfo(){return this._validationInfo}}class Bi{}Bi.NONE=0,Bi.HEART=1,Bi.SMILE=2,Bi.BOBBA=3,Bi.RELATIONSHIP_TYPES=[0,1,2,3],Bi.RELATIONSHIP_NAMES=[\"None\",\"Heart\",\"Smile\",\"Bobba\"];class Gi{constructor(t){if(this._relationshipStatusType=void 0,this._friendCount=void 0,this._randomFriendId=void 0,this._randomFriendName=void 0,this._randomFriendFigure=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._relationshipStatusType=Bi.NONE,this._friendCount=0,this._randomFriendId=0,this._randomFriendFigure=null,this._randomFriendName=null,!0}parse(t){return!!t&&(this._relationshipStatusType=t.readInt(),this._friendCount=t.readInt(),this._randomFriendId=t.readInt(),this._randomFriendName=t.readString(),this._randomFriendFigure=t.readString(),!0)}get relationshipStatusType(){return this._relationshipStatusType}get friendCount(){return this._friendCount}get randomFriendId(){return this._randomFriendId}get randomFriendName(){return this._randomFriendName}get randomFriendFigure(){return this._randomFriendFigure}}class Hi{constructor(){this._userId=void 0,this._relationshipStatusMap=void 0}flush(){return this._userId=0,this._relationshipStatusMap=null,!0}parse(t){if(!t)return!1;this._userId=t.readInt(),this._relationshipStatusMap=new U;const e=t.readInt();for(let s=0;s<e;s++){const e=new Gi(t);this._relationshipStatusMap.add(e.relationshipStatusType,e)}return!0}get userId(){return this._userId}get relationshipStatusMap(){return this._relationshipStatusMap}}class Vi{constructor(){this._userId=void 0,this._badges=void 0}flush(){return this._userId=null,this._badges=[],!0}parse(t){if(!t)return!1;this._userId=t.readInt();let e=t.readInt();for(;e>0;){t.readInt();const s=t.readString();this._badges.push(s),e--}return!0}get userId(){return this._userId}get badges(){return this._badges}}class ji{constructor(t){if(this._userId=void 0,this._username=void 0,this._figure=void 0,this._gender=void 0,this._motto=void 0,this._realName=void 0,this._directMail=void 0,this._respectsReceived=void 0,this._respectsRemaining=void 0,this._respectsPetRemaining=void 0,this._streamPublishingAllowed=void 0,this._lastAccessDate=void 0,this._canChangeName=void 0,this._safetyLocked=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._userId=0,this._username=null,this._figure=null,this._gender=null,this._motto=null,this._realName=null,this._directMail=!1,this._respectsReceived=0,this._respectsRemaining=0,this._respectsPetRemaining=0,this._streamPublishingAllowed=!1,this._lastAccessDate=null,this._canChangeName=!1,this._safetyLocked=!1,!0}parse(t){return!!t&&(this._userId=t.readInt(),this._username=t.readString(),this._figure=t.readString(),this._gender=t.readString(),this._motto=t.readString(),this._realName=t.readString(),this._directMail=t.readBoolean(),this._respectsReceived=t.readInt(),this._respectsRemaining=t.readInt(),this._respectsPetRemaining=t.readInt(),this._streamPublishingAllowed=t.readBoolean(),this._lastAccessDate=t.readString(),this._canChangeName=t.readBoolean(),this._safetyLocked=t.readBoolean(),!0)}get userId(){return this._userId}get username(){return this._username}get figure(){return this._figure}get gender(){return this._gender}get motto(){return this._motto}get realName(){return this._realName}get directMail(){return this._directMail}get respectsReceived(){return this._respectsReceived}get respectsRemaining(){return this._respectsRemaining}get respectsPetRemaining(){return this._respectsPetRemaining}get streamPublishingAllowed(){return this._streamPublishingAllowed}get lastAccessedDate(){return this._lastAccessDate}get canChangeName(){return this._canChangeName}get safetyLocked(){return this._safetyLocked}}class ki{constructor(){this._userInfo=void 0}flush(){return this._userInfo=null,!0}parse(t){return!!t&&(this._userInfo=new ji(t),!!this._userInfo)}get userInfo(){return this._userInfo}}class zi{constructor(){this._webId=void 0,this._id=void 0,this._newName=void 0}flush(){return this._webId=-1,this._id=-1,this._newName=\"\",!0}parse(t){return!!t&&(this._webId=t.readInt(),this._id=t.readInt(),this._newName=t.readString(),!0)}get webId(){return this._webId}get id(){return this._id}get newName(){return this._newName}}class Yi{constructor(t){this._groupId=void 0,this._groupName=void 0,this._badgeCode=void 0,this._colorA=void 0,this._colorB=void 0,this._favourite=void 0,this._ownerId=void 0,this._hasForum=void 0,this._groupId=t.readInt(),this._groupName=t.readString(),this._badgeCode=t.readString(),this._colorA=t.readString(),this._colorB=t.readString(),this._favourite=t.readBoolean(),this._ownerId=t.readInt(),this._hasForum=t.readBoolean()}get groupId(){return this._groupId}get groupName(){return this._groupName}get badgeCode(){return this._badgeCode}get colorA(){return this._colorA}get colorB(){return this._colorB}get favourite(){return this._favourite}get ownerId(){return this._ownerId}get hasForum(){return this._hasForum}}class Wi{constructor(){this._id=void 0,this._username=void 0,this._figure=void 0,this._motto=void 0,this._registration=void 0,this._achievementPoints=void 0,this._friendsCount=void 0,this._isMyFriend=void 0,this._requestSent=void 0,this._isOnline=void 0,this._groups=void 0,this._secondsSinceLastVisit=void 0,this._openProfileWindow=void 0}flush(){return this._id=0,this._username=null,this._figure=null,this._motto=null,this._registration=null,this._achievementPoints=0,this._friendsCount=0,this._isMyFriend=!1,this._requestSent=!1,this._isOnline=!1,this._groups=[],this._secondsSinceLastVisit=0,this._openProfileWindow=!1,!0}parse(t){if(!t)return!1;this._id=t.readInt(),this._username=t.readString(),this._figure=t.readString(),this._motto=t.readString(),this._registration=t.readString(),this._achievementPoints=t.readInt(),this._friendsCount=t.readInt(),this._isMyFriend=t.readBoolean(),this._requestSent=t.readBoolean(),this._isOnline=t.readBoolean();const e=t.readInt();for(let s=0;s<e;s++)this._groups.push(new Yi(t));return this._secondsSinceLastVisit=t.readInt(),this._openProfileWindow=t.readBoolean(),!0}get id(){return this._id}get username(){return this._username}get figure(){return this._figure}get motto(){return this._motto}get registration(){return this._registration}get achievementPoints(){return this._achievementPoints}get friendsCount(){return this._friendsCount}get isMyFriend(){return this._isMyFriend}get requestSent(){return this._requestSent}get isOnline(){return this._isOnline}get groups(){return this._groups}get secondsSinceLastVisit(){return this._secondsSinceLastVisit}get openProfileWindow(){return this._openProfileWindow}}class Ki{constructor(){this._volumeSystem=void 0,this._volumeFurni=void 0,this._volumeTrax=void 0,this._oldChat=void 0,this._roomInvites=void 0,this._cameraFollow=void 0,this._flags=void 0,this._chatType=void 0}flush(){return this._volumeSystem=0,this._volumeFurni=0,this._volumeTrax=0,this._oldChat=!1,this._roomInvites=!1,this._cameraFollow=!1,this._flags=0,this._chatType=0,!0}parse(t){return!!t&&(this._volumeSystem=t.readInt(),this._volumeFurni=t.readInt(),this._volumeTrax=t.readInt(),this._oldChat=t.readBoolean(),this._roomInvites=t.readBoolean(),this._cameraFollow=t.readBoolean(),this._flags=t.readInt(),this._chatType=t.readInt(),!0)}get volumeSystem(){return this._volumeSystem}get volumeFurni(){return this._volumeFurni}get volumeTrax(){return this._volumeTrax}get oldChat(){return this._oldChat}get roomInvites(){return this._roomInvites}get cameraFollow(){return this._cameraFollow}get flags(){return this._flags}get chatType(){return this._chatType}}class Xi{constructor(){this._badges=void 0}flush(){return this._badges=new Map,!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=t.readInt(),i=t.readString();this._badges.set(s,i),e--}return!0}get badges(){return this._badges}}class qi{constructor(){this._ignoredUsers=void 0}flush(){return this._ignoredUsers=[],!0}parse(t){if(!t)return!1;this._ignoredUsers=[];let e=t.readInt();for(;e>0;)this._ignoredUsers.push(t.readString()),e--;return!0}get ignoredUsers(){return this._ignoredUsers}}class Qi{constructor(){this._result=void 0,this._name=void 0}flush(){return this._result=-1,this._name=null,!0}parse(t){return!!t&&(this._result=t.readInt(),this._name=t.readString(),!0)}get result(){return this._result}get name(){return this._name}}class Zi{constructor(){this._link=void 0}flush(){return this._link=null,!0}parse(t){return!!t&&(this._link=t.readString(),!0)}get link(){return this._link}}class Ji{constructor(){this._credits=void 0}flush(){return this._credits=null,!0}parse(t){return!!t&&(this._credits=t.readString(),!0)}get credits(){return this._credits}}class $i{constructor(){this._currencies=void 0}flush(){return this._currencies=new Map,!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._currencies.set(t.readInt(),t.readInt()),e--;return!0}get currencies(){return this._currencies}}class tr{constructor(){this._productName=void 0,this._daysToPeriodEnd=void 0,this._memberPeriods=void 0,this._periodsSubscribedAhead=void 0,this._responseType=void 0,this._hasEverBeenMember=void 0,this._isVip=void 0,this._pastClubDays=void 0,this._pastVipDays=void 0,this._minutesUntilExpiration=void 0,this._minutesSinceLastModified=void 0}flush(){return this._productName=null,this._daysToPeriodEnd=0,this._memberPeriods=0,this._periodsSubscribedAhead=0,this._responseType=0,this._hasEverBeenMember=!1,this._isVip=!1,this._pastClubDays=0,this._pastVipDays=0,this._minutesUntilExpiration=0,this._minutesSinceLastModified=0,!0}parse(t){return!!t&&(this._productName=t.readString(),this._daysToPeriodEnd=t.readInt(),this._memberPeriods=t.readInt(),this._periodsSubscribedAhead=t.readInt(),this._responseType=t.readInt(),this._hasEverBeenMember=t.readBoolean(),this._isVip=t.readBoolean(),this._pastClubDays=t.readInt(),this._pastVipDays=t.readInt(),this._minutesUntilExpiration=t.readInt(),t.bytesAvailable&&(this._minutesSinceLastModified=t.readInt()),!0)}get productName(){return this._productName}get daysToPeriodEnd(){return this._daysToPeriodEnd}get memberPeriods(){return this._memberPeriods}get periodsSubscribedAhead(){return this._periodsSubscribedAhead}get responseType(){return this._responseType}get hasEverBeenMember(){return this._hasEverBeenMember}get isVip(){return this._isVip}get pastClubDays(){return this._pastClubDays}get pastVipDays(){return this._pastVipDays}get minutesUntilExpiration(){return this._minutesUntilExpiration}get minutesSinceLastModified(){return this._minutesSinceLastModified}}tr.RESPONSE_TYPE_LOGIN=1,tr.RESPONSE_TYPE_PURCHASE=2,tr.RESPONSE_TYPE_DISCOUNT_AVAILABLE=3,tr.RESPONSE_TYPE_CITIZENSHIP_DISCOUNT=4;class er{}er.DOG=0,er.CAT=1,er.CROCODILE=2,er.TERRIER=3,er.BEAR=4,er.PIG=5,er.LION=6,er.RHINO=7,er.SPIDER=8,er.TURTLE=9,er.CHICKEN=10,er.FROG=11,er.DRAGON=12,er.MONSTER=13,er.MONKEY=14,er.HORSE=15,er.MONSTERPLANT=16,er.BUNNY=17,er.BUNNYEVIL=18,er.BUNNYDEPRESSED=19,er.BUNNYLOVE=20,er.PIGEONGOOD=21,er.PIGEONEVIL=22,er.DEMONMONKEY=23,er.BABYBEAR=24,er.BABYTERRIER=25,er.GNOME=26,er.LEPRECHAUN=27,er.KITTENBABY=28,er.PUPPYBABY=29,er.PIGLETNBABY=30,er.HALOOMPA=31,er.FOOLS=32,er.PTEROSAUR=33,er.VELOCIRAPTOR=34;class sr{constructor(t){this._typeId=void 0,this._paletteId=void 0,this._color=void 0,this._breedId=void 0,this._customPartCount=void 0,this._customParts=void 0,this._typeId=t.readInt(),this._paletteId=t.readInt(),this._color=t.readString(),this._breedId=t.readInt(),this._customParts=[],this._customPartCount=t.readInt();let e=0;for(;e<this._customPartCount;)this._customParts.push(t.readInt()),this._customParts.push(t.readInt()),this._customParts.push(t.readInt()),e++}get typeId(){return this._typeId}get paletteId(){return this._paletteId}get color(){return this._color}get breedId(){return this._breedId}get figuredata(){let t=this.typeId+\" \"+this.paletteId+\" \"+this.color;t=t+\" \"+this.custompartCount;for(const e of this.customParts)t=t+\" \"+e;return t}get customParts(){return this._customParts}get custompartCount(){return this._customPartCount}}class ir{constructor(t){if(this._id=void 0,this._name=void 0,this._figureData=void 0,this._level=void 0,!t)throw new Error(\"invalid_wrapper\");this._id=t.readInt(),this._name=t.readString(),this._figureData=new sr(t),this._level=t.readInt()}get id(){return this._id}get name(){return this._name}get typeId(){return this._figureData.typeId}get paletteId(){return this._figureData.paletteId}get color(){return this._figureData.color}get breedId(){return this._figureData.breedId}get customPartCount(){return this._figureData.custompartCount}get figureString(){return this._figureData.figuredata}get figureData(){return this._figureData}get level(){return this._level}}class rr{constructor(){this._respect=void 0,this._petOwnerId=void 0,this._petData=void 0}flush(){return this._respect=0,this._petOwnerId=0,this._petData=null,!0}parse(t){return!!t&&(this._respect=t.readInt(),this._petOwnerId=t.readInt(),this._petData=new ir(t),!0)}get respect(){return this._respect}get petOwnerId(){return this._petOwnerId}get petData(){return this._petData}get isTreat(){return this._petData.typeId===er.MONSTERPLANT}}class nr{constructor(){this._petId=void 0,this._userId=void 0,this._supplementType=void 0}flush(){return this._petId=0,this._userId=0,this._supplementType=0,!0}parse(t){return!!t&&(this._petId=t.readInt(),this._userId=t.readInt(),this._supplementType=t.readInt(),!0)}get petId(){return this._petId}get userId(){return this._userId}get supplementType(){return this._supplementType}}class ar{constructor(){this._userId=void 0,this._respectsReceived=void 0}flush(){return this._userId=0,this._respectsReceived=0,!0}parse(t){return!!t&&(this._userId=t.readInt(),this._respectsReceived=t.readInt(),!0)}get userId(){return this._userId}get respectsReceived(){return this._respectsReceived}}class or{constructor(t,e,s){this._roomId=void 0,this._roomName=void 0,this._hasControllers=!1,this._roomId=t,this._roomName=e,this._hasControllers=s}get roomId(){return this._roomId}get roomName(){return this._roomName}get _Str_22776(){return this._hasControllers}}class hr{constructor(t){this._currentHcStreak=void 0,this._firstSubscriptionDate=void 0,this._kickbackPercentage=void 0,this._totalCreditsMissed=void 0,this._totalCreditsRewarded=void 0,this._totalCreditsSpent=void 0,this._creditRewardForStreakBonus=void 0,this._creditRewardForMonthlySpent=void 0,this._timeUntilPayday=void 0,this._currentHcStreak=t.readInt(),this._firstSubscriptionDate=t.readString(),this._kickbackPercentage=t.readDouble(),this._totalCreditsMissed=t.readInt(),this._totalCreditsRewarded=t.readInt(),this._totalCreditsSpent=t.readInt(),this._creditRewardForStreakBonus=t.readInt(),this._creditRewardForMonthlySpent=t.readInt(),this._timeUntilPayday=t.readInt()}get currentHcStreak(){return this._currentHcStreak}get firstSubscriptionDate(){return this._firstSubscriptionDate}get kickbackPercentage(){return this._kickbackPercentage}get totalCreditsMissed(){return this._totalCreditsMissed}get totalCreditsRewarded(){return this._totalCreditsRewarded}get totalCreditsSpent(){return this._totalCreditsSpent}get creditRewardForStreakBonus(){return this._creditRewardForStreakBonus}get creditRewardForMonthlySpent(){return this._creditRewardForMonthlySpent}get timeUntilPayday(){return this._timeUntilPayday}}class _r{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return this._data=new hr(t),!0}get data(){return this._data}}class dr{constructor(){this._looks=void 0}flush(){return this._looks=new Map,!0}parse(t){if(!t)return!1;t.readInt();let e=t.readInt();for(;e>0;){const s=t.readInt(),i=t.readString(),r=t.readString();this._looks.set(s,[i,r]),e--}return!0}get looks(){return this._looks}}class ur{constructor(){this._isVip=void 0,this._rooms=void 0}flush(){return this._isVip=!1,this._rooms=[],!0}parse(t){if(!t)return!1;this._isVip=t.readBoolean();let e=t.readInt();for(;e>0;)this._rooms.push(new or(t.readInt(),t.readString(),t.readBoolean())),e--;return!0}get isVip(){return this._isVip}get rooms(){return this._rooms}}class cr{constructor(){this._pageId=void 0,this._data=void 0}flush(){return this._pageId=-1,this._data=null,!0}parse(t){return!!t&&(this._pageId=t.readInt(),this._data=new ci(t),!0)}get pageId(){return this._pageId}get data(){return this._data}}class lr{constructor(t){if(this._type=void 0,this._breedId=void 0,this._paletteId=void 0,this._sellable=void 0,this._rare=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._type=-1,this._breedId=-1,this._paletteId=-1,this._sellable=!1,this._rare=!1,!0}parse(t){return!!t&&(this._type=t.readInt(),this._breedId=t.readInt(),this._paletteId=t.readInt(),this._sellable=t.readBoolean(),this._rare=t.readBoolean(),!0)}get type(){return this._type}get breedId(){return this._breedId}get paletteId(){return this._paletteId}get sellable(){return this._sellable}get rare(){return this._rare}}class gr{constructor(){this._productCode=void 0,this._palettes=void 0}flush(){return this._productCode=\"\",this._palettes=[],!0}parse(t){if(!t)return!1;this._productCode=t.readString();let e=t.readInt();for(;e>0;)this._palettes.push(new lr(t)),e--;return!0}get productCode(){return this._productCode}get palettes(){return this._palettes}}class Er{flush(){return!0}parse(t){return!!t}}class pr{constructor(t){this._id=void 0,this._identifier=void 0,this._type=void 0,this._title=void 0,this._Str_1858=void 0,this._Str_2991=void 0,this._Str_18782=void 0,this._productCode=void 0,this._Str_9772=void 0,this._expirationTime=void 0,this._Str_3594=void 0,this._Str_3539=void 0,this._Str_2956=void 0,this._Str_11962=void 0,this._Str_9163=void 0,this._Str_9163=t.readInt(),this._id=t.readInt(),this._identifier=t.readString(),this._productCode=t.readString(),this._Str_3594=t.readInt(),this._Str_3539=t.readInt(),this._Str_2956=t.readInt(),this._Str_9772=t.readInt();const e=t.readInt();this._expirationTime=e>0?1e3*e+lL.instance.time:0,this._title=t.readString(),this._Str_1858=t.readString(),this._Str_2991=t.readString(),this._Str_18782=t.readString(),this._type=t.readInt(),this._Str_11962=[];let s=t.readInt();for(;s>0;)this._Str_11962.push(t.readString()),s--;return this}populate(t){t&&(this._id=t.id,this._identifier=t.identifier,this._type=t.type,this._title=t.title,this._Str_1858=t.description,this._Str_2991=t.imageUrl,this._Str_18782=t._Str_13452,this._productCode=t.productCode,this._Str_9772=t.purchaseLimit,this._expirationTime=t.expirationTime,this._Str_3594=t.priceInCredits,this._Str_3539=t.priceInActivityPoints,this._Str_2956=t.activityPointType,this._Str_11962=t._Str_24978,this._Str_9163=t._Str_11180)}_Str_24338(t){this._Str_9772=this._Str_9772-t}get id(){return this._id}get identifier(){return this._identifier}get type(){return this._type}get title(){return this._title}get description(){return this._Str_1858}get imageUrl(){return this._Str_2991}get _Str_13452(){return this._Str_18782}get productCode(){return this._productCode}get purchaseLimit(){return this._Str_9772}get expirationTime(){return this._expirationTime}get priceInCredits(){return this._Str_3594}get priceInActivityPoints(){return this._Str_3539}get activityPointType(){return this._Str_2956}get _Str_24978(){return this._Str_11962}get _Str_11180(){return this._Str_9163}}class mr{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new pr(t),!0)}get data(){return this._data}}class Ir{constructor(){this._errorCode=\"\"}flush(){return this._errorCode=\"\",!0}parse(t){return!!t&&(this._errorCode=t.readString(),!0)}get errorCode(){return this._errorCode}}class fr{constructor(){this._productName=\"\",this._productDescription=\"\"}flush(){return this._productDescription=\"\",this._productName=\"\",!0}parse(t){return!!t&&(this._productDescription=t.readString(),this._productName=t.readString(),!0)}get productName(){return this._productName}get productDescription(){return this._productDescription}}class Tr{constructor(){this._goalId=void 0,this._goalCode=void 0,this._result=void 0,this._requiredFurnis=void 0,this._missingFurnis=void 0}flush(){return this._goalId=0,this._goalCode=null,this._result=0,this._requiredFurnis=null,this._missingFurnis=null,!0}parse(t){this._goalId=t.readInt(),this._goalCode=t.readString(),this._result=t.readInt(),this._requiredFurnis=[];let e=t.readInt();for(;e>0;)this._requiredFurnis.push(t.readString()),e--;for(e=t.readInt();e>0;)this._missingFurnis[t.readString()]=\"\",e--;return!0}get goalId(){return this._goalId}get goalCode(){return this._goalCode}get result(){return this._result}get requiredFurnis(){return this._requiredFurnis}isMissing(t){return!!this._missingFurnis[t]}}Tr.SUBMITTED=0,Tr.ASK_FOR_SUBMIT=1,Tr.ASK_FOR_CONFIRM=2,Tr.PREREQUISITES_NOT_MET=3,Tr.ROOM_DOOR_NOT_OPEN=4,Tr.ROOM_TOO_OLD=5,Tr.ASK_FOR_ACCEPT_RULES=6;class Rr{}Rr.ALLOWED=0,Rr.REQUIRED_PERK_MISSING=1,Rr.REQUIRED_BADGE_MISSING=2;class vr{constructor(){this._goalId=void 0,this._goalCode=void 0,this._resultCode=void 0,this._votesRemaining=void 0}flush(){return this._goalId=0,this._goalCode=null,this._resultCode=0,this._votesRemaining=0,!0}parse(t){return this._goalId=t.readInt(),this._goalCode=t.readString(),this._resultCode=t.readInt(),this._votesRemaining=t.readInt(),!0}get goalId(){return this._goalId}get goalCode(){return this._goalCode}get isVotingAllowedForUser(){return this._resultCode===Rr.ALLOWED}get votesRemaining(){return this._votesRemaining}get resultCode(){return this._resultCode}}class Or{constructor(){this._schedulingStr=void 0,this._code=void 0}flush(){return this._schedulingStr=null,this._code=null,!0}parse(t){return this._schedulingStr=t.readString(),this._code=t.readString(),!0}get schedulingStr(){return this._schedulingStr}get code(){return this._code}}class Ar{constructor(){this._Str_8579=void 0,this._Str_6987=void 0}flush(){return this._Str_8579=!1,this._Str_6987=0,!0}parse(t){return this._Str_8579=t.readBoolean(),this._Str_6987=t.readInt(),!0}get _Str_25348(){return this._Str_8579}get _Str_10760(){return this._Str_6987}}class Sr{flush(){return!0}parse(t){return!0}}class Nr{constructor(){this._Str_8997=void 0,this._Str_21095=void 0}flush(){return this._Str_8997=null,this._Str_21095=0,!0}parse(t){return this._Str_8997=t.readString(),this._Str_21095=t.readInt(),!0}get _Str_23288(){return this._Str_8997}get _Str_25497(){return this._Str_21095}}class yr{constructor(t){this._recipeName=void 0,this._itemName=void 0,this._recipeName=t.readString(),this._itemName=t.readString()}get recipeName(){return this._recipeName}get itemName(){return this._itemName}}class Dr{constructor(){this._recipes=void 0,this._ingredients=void 0,this._recipes=[],this._ingredients=[]}flush(){return this._recipes=[],this._ingredients=[],!0}parse(t){if(!t)return!1;const e=t.readInt();for(let i=0;i<e;i++)this._recipes.push(new yr(t));const s=t.readInt();for(let i=0;i<s;i++)this._ingredients.push(t.readString());return!0}get recipes(){return this._recipes}get ingredients(){return this._ingredients}isActive(){return this._recipes.length>0||this._ingredients.length>0}}class Mr{constructor(t){this._count=void 0,this._itemName=void 0,this._count=t.readInt(),this._itemName=t.readString()}get count(){return this._count}get itemName(){return this._itemName}}class Cr{constructor(){this._ingredients=void 0,this._ingredients=[]}parse(t){if(!t)return!1;const e=t.readInt();for(let s=0;s<e;s++)this._ingredients.push(new Mr(t));return!0}flush(){return this._ingredients=[],!0}get ingredients(){return this._ingredients}}class Lr{constructor(){this._hasRecipes=void 0,this._count=void 0}parse(t){return!!t&&(this._count=t.readInt(),this._hasRecipes=t.readBoolean(),!0)}flush(){return this._count=0,this._hasRecipes=!1,!0}get count(){return this._count}get hasRecipes(){return this._hasRecipes}}class Ur{constructor(){this._success=void 0,this._result=void 0}parse(t){return!!t&&(this._success=t.readBoolean(),this._success&&(this._result=new yr(t)),!0)}flush(){return this._success=!1,!0}get success(){return this._success}get result(){return this._result}}class Pr{flush(){return!0}parse(t){return!!t}}class br{constructor(t){if(this._senderId=void 0,this._errorCode=void 0,!t)throw new Error(\"invalid_wrapper\");this._senderId=t.readInt(),this._errorCode=t.readInt()}get senderId(){return this._senderId}get errorCode(){return this._errorCode}}class wr{constructor(){this._failuers=void 0}flush(){return this._failuers=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._failuers.push(new br(t)),e--;return!0}get failures(){return this._failuers}}class Fr{constructor(){this._success=void 0}flush(){return this._success=!1,!0}parse(t){return!!t&&(this._success=t.readBoolean(),!0)}get success(){return this._success}}class xr{constructor(){this._errorCode=void 0}flush(){return this._errorCode=0,!0}parse(t){return!!t&&(this._errorCode=t.readInt(),!0)}get errorCode(){return this._errorCode}}class Br{constructor(t){if(this._id=void 0,this._name=void 0,this._gender=void 0,this._online=void 0,this._followingAllowed=void 0,this._figure=void 0,this._categoryId=void 0,this._motto=void 0,this._realName=void 0,this._lastAccess=void 0,this._persistedMessageUser=void 0,this._vipMember=void 0,this._pocketHabboUser=void 0,this._relationshipStatus=void 0,!t)throw new Error(\"invalid_wrapper\");this._id=t.readInt(),this._name=t.readString(),this._gender=t.readInt(),this._online=t.readBoolean(),this._followingAllowed=t.readBoolean(),this._figure=t.readString(),this._categoryId=t.readInt(),this._motto=t.readString(),this._realName=t.readString(),this._lastAccess=t.readString(),this._persistedMessageUser=t.readBoolean(),this._vipMember=t.readBoolean(),this._pocketHabboUser=t.readBoolean(),this._relationshipStatus=t.readShort()}get id(){return this._id}get name(){return this._name}get gender(){return this._gender}get online(){return this._online}get followingAllowed(){return this._followingAllowed}get figure(){return this._figure}get categoryId(){return this._categoryId}get motto(){return this._motto}get lastAccess(){return this._lastAccess}get realName(){return this._realName}get persistedMessageUser(){return this._persistedMessageUser}get vipMember(){return this._vipMember}get pocketHabboUser(){return this._pocketHabboUser}get relationshipStatus(){return this._relationshipStatus}}class Gr{constructor(){this._totalFragments=void 0,this._fragmentNumber=void 0,this._fragment=void 0}flush(){return this._totalFragments=0,this._fragmentNumber=0,this._fragment=[],!0}parse(t){if(!t)return!1;this._totalFragments=t.readInt(),this._fragmentNumber=t.readInt();let e=t.readInt();for(;e>0;)this._fragment.push(new Br(t)),e--;return!0}get totalFragments(){return this._totalFragments}get fragmentNumber(){return this._fragmentNumber}get fragment(){return this._fragment}}class Hr{constructor(t){if(this._id=void 0,this._name=void 0,!t)throw new Error(\"invalid_wrapper\");this._id=t.readInt(),this._name=t.readString()}get id(){return this._id}get name(){return this._name}}class Vr{constructor(){this._categories=void 0,this._removedFriendIds=void 0,this._addedFriends=void 0,this._updatedFriends=void 0}flush(){return this._categories=[],this._removedFriendIds=[],this._addedFriends=[],this._updatedFriends=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._categories.push(new Hr(t)),e--;let s=t.readInt();for(;s>0;){const e=t.readInt();-1===e?this._removedFriendIds.push(t.readInt()):0===e?this._updatedFriends.push(new Br(t)):1===e&&this._addedFriends.push(new Br(t)),s--}return!0}get categories(){return this._categories}get removedFriendIds(){return this._removedFriendIds}get addedFriends(){return this._addedFriends}get updatedFriends(){return this._updatedFriends}}class jr{constructor(){this._typeCode=void 0,this._avatarId=void 0,this._message=void 0}flush(){return this._typeCode=-1,this._avatarId=0,this._message=null,!0}parse(t){return!!t&&(this._typeCode=t.readInt(),this._avatarId=t.readInt(),this._message=t.readString(),!0)}get typeCode(){return this._typeCode}get avatarId(){return this._avatarId}get message(){return this._message}}class kr{constructor(t){if(this._requestId=void 0,this._requesterName=void 0,this._requesterUserId=void 0,this._figureString=void 0,!t)throw new Error(\"invalid_wrapper\");this._requestId=t.readInt(),this._requesterName=t.readString(),this._figureString=t.readString(),this._requesterUserId=this._requestId}get requestId(){return this._requestId}get requesterName(){return this._requesterName}get requesterUserId(){return this._requesterUserId}get figureString(){return this._figureString}}class zr{constructor(){this._totalRequests=void 0,this._requests=void 0}flush(){return this._totalRequests=0,this._requests=[],!0}parse(t){if(!t)return!1;this._totalRequests=t.readInt();let e=t.readInt();for(;e>0;)this._requests.push(new kr(t)),e--;return!0}get totalRequests(){return this._totalRequests}get requests(){return this._requests}}class Yr{constructor(t){if(this._avatarId=void 0,this._avatarName=void 0,this._avatarMotto=void 0,this._isAvatarOnline=void 0,this._canFollow=void 0,this._avatarGender=void 0,this._avatarFigure=void 0,this._lastOnlineData=void 0,this._realName=void 0,!t)throw new Error(\"invalid_wrapper\");this._avatarId=t.readInt(),this._avatarName=t.readString(),this._avatarMotto=t.readString(),this._isAvatarOnline=t.readBoolean(),this._canFollow=t.readBoolean(),this._lastOnlineData=t.readString(),this._avatarGender=t.readInt(),this._avatarFigure=t.readString(),this._realName=t.readString()}get avatarId(){return this._avatarId}get avatarName(){return this._avatarName}get avatarMotto(){return this._avatarMotto}get isAvatarOnline(){return this._isAvatarOnline}get canFollow(){return this._canFollow}get avatarGender(){return this._avatarGender}get avatarFigure(){return this._avatarFigure}get lastOnlineData(){return this._lastOnlineData}get realName(){return this._realName}}class Wr{constructor(){this._friends=void 0,this._others=void 0}flush(){return this._friends=[],this._others=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._friends.push(new Yr(t)),e--;let s=t.readInt();for(;s>0;)this._others.push(new Yr(t)),s--;return!0}get friends(){return this._friends}get others(){return this._others}}class Kr{constructor(){this._errorCode=void 0,this._userId=void 0,this._message=void 0}flush(){return this._errorCode=0,this._userId=0,this._message=null,!0}parse(t){return!!t&&(this._errorCode=t.readInt(),this._userId=t.readInt(),this._message=t.readString(),!0)}get errorCode(){return this._errorCode}get userId(){return this._userId}get message(){return this._message}}class Xr{constructor(){this._clientMessageId=void 0,this._errorCode=void 0}flush(){return this._clientMessageId=0,this._errorCode=0,!0}parse(t){return!!t&&(this._clientMessageId=t.readInt(),this._errorCode=t.readInt(),!0)}get clientMessageId(){return this._clientMessageId}get errorCode(){return this._errorCode}}class qr{constructor(){this._userFriendLimit=void 0,this._normalFriendLimit=void 0,this._extendedFriendLimit=void 0,this._categories=void 0}flush(){return this._userFriendLimit=0,this._normalFriendLimit=0,this._extendedFriendLimit=0,this._categories=[],!0}parse(t){if(!t)return!1;this._userFriendLimit=t.readInt(),this._normalFriendLimit=t.readInt(),this._extendedFriendLimit=t.readInt();let e=t.readInt();for(;e>0;)this._categories.push(new Hr(t)),e--;return!0}get userFriendLimit(){return this._userFriendLimit}get normalFriendLimit(){return this._normalFriendLimit}get extendedFriendLimit(){return this._extendedFriendLimit}get categories(){return this._categories}}class Qr{flush(){return!0}parse(t){return!!t}}class Zr{constructor(){this._count=void 0}flush(){return this._count=0,!0}parse(t){return!!t&&(this._count=t.readInt(),!0)}get count(){return this._count}}class Jr{constructor(){this._senderId=void 0,this._messageText=void 0,this._secondsSinceSent=void 0,this._extraData=void 0}flush(){return this._senderId=0,this._messageText=null,this._secondsSinceSent=0,this._extraData=null,!0}parse(t){return!!t&&(this._senderId=t.readInt(),this._messageText=t.readString(),this._secondsSinceSent=t.readInt(),t.bytesAvailable&&(this._extraData=t.readString()),!0)}get senderId(){return this._senderId}get messageText(){return this._messageText}get secondsSinceSent(){return this._secondsSinceSent}get extraData(){return this._extraData}}class $r{constructor(){this._request=void 0}flush(){return this._request=null,!0}parse(t){return!!t&&(this._request=new kr(t),!0)}get request(){return this._request}}class tn{constructor(){this._errorCode=void 0,this._failedRecipients=void 0}flush(){return this._errorCode=0,this._failedRecipients=[],!0}parse(t){if(!t)return!1;this._errorCode=t.readInt();let e=t.readInt();for(;e>0;)this._failedRecipients.push(t.readInt()),e--;return!0}get errorCode(){return this._errorCode}get failedRecipients(){return this._failedRecipients}}class en{constructor(){this._senderId=void 0,this._messageText=void 0}flush(){return this._senderId=0,this._messageText=null,!0}parse(t){return!!t&&(this._senderId=t.readInt(),this._messageText=t.readString(),!0)}get senderId(){return this._senderId}get messageText(){return this._messageText}}class sn{constructor(){this._gameTypeId=void 0,this._url=void 0,this._gameClientId=void 0}flush(){return this._gameTypeId=0,this._url=null,this._gameClientId=null,!0}parse(t){return!!t&&(this._gameTypeId=t.readInt(),this._gameClientId=t.readString(),this._url=t.readString(),!0)}get gameTypeId(){return this._gameTypeId}get url(){return this._url}get gameClientId(){return this._gameClientId}}class rn{constructor(){this._errorCode=void 0}flush(){return this._errorCode=0,!0}parse(t){return!!t&&(this._errorCode=t.readInt(),!0)}get errorCode(){return this._errorCode}}class nn{constructor(){this._bases=void 0,this._symbols=void 0,this._partColors=void 0,this._colorsA=void 0,this._colorsB=void 0}flush(){return this._bases=new Map,this._symbols=new Map,this._partColors=new Map,this._colorsA=new Map,this._colorsB=new Map,!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=t.readInt(),i=t.readString(),r=t.readString();this._bases.set(s,[i,r]),e--}let s=t.readInt();for(;s>0;){const e=t.readInt(),i=t.readString(),r=t.readString();this._symbols.set(e,[i,r]),s--}let i=t.readInt();for(;i>0;){const e=t.readInt(),s=t.readString();this._partColors.set(e,s),i--}let r=t.readInt();for(;r>0;){const e=t.readInt(),s=t.readString();this._colorsA.set(e,s),r--}let n=t.readInt();for(;n>0;){const e=t.readInt(),s=t.readString();this._colorsB.set(e,s),n--}return!0}get bases(){return this._bases}get symbols(){return this._symbols}get partColors(){return this._partColors}get colorsA(){return this._colorsA}get colorsB(){return this._colorsB}}class an{constructor(){this._groupCost=void 0,this._availableRooms=void 0}flush(){return this._groupCost=0,this._availableRooms=new Map,!0}parse(t){if(!t)return!1;this._groupCost=t.readInt();let e=t.readInt();for(;e>0;){const s=t.readInt(),i=t.readString();t.readBoolean(),this._availableRooms.set(s,i),e--}return!0}get groupCost(){return this._groupCost}get availableRooms(){return this._availableRooms}}class on{constructor(){this._userId=void 0,this._furnitureCount=void 0}flush(){return this._userId=0,this._furnitureCount=0,!0}parse(t){return!!t&&(this._userId=t.readInt(),this._furnitureCount=t.readInt(),!0)}get userId(){return this._userId}get furnitureCount(){return this._furnitureCount}}class hn{constructor(){this._id=void 0,this._type=void 0,this._title=void 0,this._description=void 0,this._badge=void 0,this._roomId=void 0,this._roomName=void 0,this._membershipType=void 0,this._membersCount=void 0,this._isFavorite=void 0,this._createdAt=void 0,this._isOwner=void 0,this._isAdmin=void 0,this._ownerName=void 0,this._flag=void 0,this._canMembersDecorate=void 0,this._pendingRequestsCount=void 0}flush(){return this._id=0,this._type=0,this._title=null,this._description=null,this._badge=null,this._roomId=0,this._roomName=null,this._membershipType=0,this._membersCount=0,this._isFavorite=!1,this._createdAt=null,this._isOwner=!1,this._isAdmin=!1,this._ownerName=null,this._flag=!1,this._canMembersDecorate=!1,this._pendingRequestsCount=0,!0}parse(t){return!!t&&(this._id=t.readInt(),t.readBoolean(),this._type=t.readInt(),this._title=t.readString(),this._description=t.readString(),this._badge=t.readString(),this._roomId=t.readInt(),this._roomName=t.readString(),this._membershipType=t.readInt(),this._membersCount=t.readInt(),this._isFavorite=t.readBoolean(),this._createdAt=t.readString(),this._isOwner=t.readBoolean(),this._isAdmin=t.readBoolean(),this._ownerName=t.readString(),this._flag=t.readBoolean(),this._canMembersDecorate=t.readBoolean(),this._pendingRequestsCount=t.readInt(),!0)}get id(){return this._id}get type(){return this._type}get title(){return this._title}get description(){return this._description}get badge(){return this._badge}get roomId(){return this._roomId}get roomName(){return this._roomName}get membershipType(){return this._membershipType}get membersCount(){return this._membersCount}get isFavorite(){return this._isFavorite}get createdAt(){return this._createdAt}get isOwner(){return this._isOwner}get isAdmin(){return this._isAdmin}get ownerName(){return this._ownerName}get flag(){return this._flag}get canMembersDecorate(){return this._canMembersDecorate}get pendingRequestsCount(){return this._pendingRequestsCount}}class _n{constructor(t){this.isBase=void 0,this.key=void 0,this.color=void 0,this.position=void 0,this.isBase=t,this.key=0,this.color=0,this.position=4}get code(){return 0===this.key?null:(this.isBase?\"b\":\"s\")+(this.key<100?\"0\":\"\")+(this.key<10?\"0\":\"\")+this.key+(this.color<10?\"0\":\"\")+this.color+this.position}}class dn{}dn.OWNER=0,dn.ADMIN=1,dn.MEMBER=2,dn.REQUESTED=3,dn.DELETED=4;class un{constructor(t){if(this._rank=void 0,this._id=void 0,this._name=void 0,this._figure=void 0,this._joinedAt=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._rank=-1,this._id=0,this._name=null,this._figure=null,this._joinedAt=null,!0}parse(t){return!!t&&(this._rank=t.readInt(),this._id=t.readInt(),this._name=t.readString(),this._figure=t.readString(),this._joinedAt=t.readString(),!0)}get id(){return this._id}get name(){return this._name}get figure(){return this._figure}get rank(){return this._rank}get joinedAt(){return this._joinedAt}}class cn{constructor(){this._groupId=void 0,this._groupTitle=void 0,this._roomId=void 0,this._badge=void 0,this._totalMembersCount=void 0,this._result=void 0,this._admin=void 0,this._pageSize=void 0,this._pageIndex=void 0,this._level=void 0,this._query=void 0}flush(){return this._groupId=0,this._groupTitle=null,this._roomId=0,this._badge=null,this._totalMembersCount=0,this._result=[],this._admin=!1,this._pageSize=0,this._pageIndex=0,this._level=0,this._query=null,!0}parse(t){if(!t)return!1;this._groupId=t.readInt(),this._groupTitle=t.readString(),this._roomId=t.readInt(),this._badge=t.readString(),this._totalMembersCount=t.readInt();let e=t.readInt();for(;e>0;)this._result.push(new un(t)),e--;return this._admin=t.readBoolean(),this._pageSize=t.readInt(),this._pageIndex=t.readInt(),this._level=t.readInt(),this._query=t.readString(),!0}get groupId(){return this._groupId}get groupTitle(){return this._groupTitle}get roomId(){return this._roomId}get badge(){return this._badge}get totalMembersCount(){return this._totalMembersCount}get result(){return this._result}get admin(){return this._admin}get pageSize(){return this._pageSize}get pageIndex(){return this._pageIndex}get level(){return this._level}get query(){return this._query}}class ln{constructor(){this._roomId=void 0,this._groupId=void 0}flush(){return this._roomId=0,this._groupId=0,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._groupId=t.readInt(),!0)}get roomId(){return this._roomId}get guildId(){return this._groupId}}class gn{constructor(){this._roomId=void 0,this._roomName=void 0,this._id=void 0,this._title=void 0,this._description=void 0,this._colorA=void 0,this._colorB=void 0,this._state=void 0,this._canMembersDecorate=void 0,this._badgeParts=void 0,this._badgeCode=void 0,this._membersCount=void 0}flush(){return this._roomId=0,this._roomName=null,this._id=0,this._title=null,this._description=null,this._colorA=0,this._colorB=0,this._state=0,this._canMembersDecorate=!1,this._badgeParts=new Map,this._badgeCode=null,this._membersCount=0,!0}parse(t){if(!t)return!1;1===t.readInt()&&(this._roomId=t.readInt(),this._roomName=t.readString(),t.readBoolean()),t.readBoolean(),this._id=t.readInt(),this._title=t.readString(),this._description=t.readString(),t.readInt(),this._colorA=t.readInt(),this._colorB=t.readInt(),this._state=t.readInt(),this._canMembersDecorate=0===t.readInt(),t.readBoolean(),t.readString();const e=t.readInt();for(let s=0;s<e;s++){const e=new _n(0===s);e.key=t.readInt(),e.color=t.readInt(),e.position=t.readInt(),0===e.key&&(e.position=4),this._badgeParts.set(s,e)}return this._badgeCode=t.readString(),this._membersCount=t.readInt(),!0}get roomId(){return this._roomId}get roomName(){return this._roomName}get id(){return this._id}get title(){return this._title}get description(){return this._description}get colorA(){return this._colorA}get colorB(){return this._colorB}get state(){return this._state}get canMembersDecorate(){return this._canMembersDecorate}get badgeParts(){return this._badgeParts}get badgeCode(){return this._badgeCode}get membersCount(){return this._membersCount}}class En{constructor(){this._groupId=void 0}flush(){return!0}parse(t){return this._groupId=t.readInt(),!0}get groupId(){return this._groupId}}class pn{constructor(){this._noobnessLevel=void 0}flush(){return this._noobnessLevel=0,!0}parse(t){return!!t&&(this._noobnessLevel=t.readInt(),!0)}get noobnessLevel(){return this._noobnessLevel}}class mn{constructor(){this._infoUrl=void 0}flush(){return!0}parse(t){return!!t&&(this._infoUrl=t.readString(),!0)}get infoUrl(){return this._infoUrl}}class In{flush(){return!0}parse(t){return!0}}class fn{constructor(){this._calls=void 0}flush(){return this._calls=[],!0}parse(t){this._calls=[];const e=t.readInt();for(let s=0;s<e;s++){const e=t.readString(),s=t.readString(),i=t.readString();this._calls.push({callId:e,timeStamp:s,message:i})}return!0}get pendingCalls(){return this._calls}get count(){return this._calls.length}}class Tn{constructor(){this._message=void 0}flush(){return this._message=null,!0}parse(t){return this._message=t.readString(),!0}get message(){return this._message}}class Rn{constructor(){this._resultType=void 0,this._messageText=void 0}flush(){return this._resultType=0,this._messageText=null,!0}parse(t){return!!t&&(this._resultType=t.readInt(),this._messageText=t.readString(),!0)}get resultType(){return this._resultType}get messageText(){return this._messageText}}class vn{flush(){return!0}parse(t){return!0}}class On{constructor(){this._acceptanceTimeout=void 0}flush(){return this._acceptanceTimeout=-1,!0}parse(t){return this._acceptanceTimeout=t.readInt(),!0}get acceptanceTimeout(){return this._acceptanceTimeout}}class An{constructor(){this._winningVoteCode=void 0,this._ownVoteCode=void 0,this._finalStatus=void 0}flush(){return this._winningVoteCode=-1,this._ownVoteCode=-1,this._finalStatus=null,!0}parse(t){this._finalStatus=[],this._winningVoteCode=t.readInt(),this._ownVoteCode=t.readInt();const e=t.readInt();for(let s=0;s<e;s++)this._finalStatus.push(t.readInt());return!0}get winningVoteCode(){return this._winningVoteCode}get ownVoteCode(){return this._ownVoteCode}get finalStatus(){return this._finalStatus}}class Sn{constructor(){this._votingTimeout=void 0,this._chatRecord=void 0}flush(){return!0}parse(t){return this._votingTimeout=t.readInt(),this._chatRecord=t.readString(),!0}get votingTimeout(){return this._votingTimeout}get chatRecord(){return this._chatRecord}}class Nn{constructor(){this._status=void 0}flush(){return this._status=null,!0}parse(t){this._status=[];const e=t.readInt();for(let s=0;s<e;s++)this._status.push(t.readInt());return!0}get status(){return this._status}}Nn.AWAITING_VOTE=0,Nn.VOTED_OK=1,Nn.VOTED_BAD=2,Nn.VOTED_VERY_BAD=3,Nn.NO_VOTE=4,Nn.FINDING_NEW_VOTER=5;class yn{constructor(){this._onDuty=void 0,this._guidesOnDuty=void 0,this._helpersOnDuty=void 0,this._guardiansOnDuty=void 0}flush(){return this._onDuty=!1,this._guidesOnDuty=0,this._helpersOnDuty=0,this._guardiansOnDuty=0,!0}parse(t){return!!t&&(this._onDuty=t.readBoolean(),this._guidesOnDuty=t.readInt(),this._helpersOnDuty=t.readInt(),this._guardiansOnDuty=t.readInt(),!0)}get onDuty(){return this._onDuty}get guidesOnDuty(){return this._guidesOnDuty}get helpersOnDuty(){return this._helpersOnDuty}get guardiansOnDuty(){return this._guardiansOnDuty}}class Dn{constructor(t,e,s,i,r,n,a){this._type=void 0,this._secondsAgo=void 0,this._isGuide=void 0,this._otherPartyName=void 0,this._otherPartyFigure=void 0,this._description=void 0,this._roomName=void 0,this._type=t,this._secondsAgo=e,this._isGuide=s,this._otherPartyName=i,this._otherPartyFigure=r,this._description=n,this._roomName=a}get type(){return this._type}set type(t){this._type=t}get secondsAgo(){return this._secondsAgo}set secondsAgo(t){this._secondsAgo=t}get isGuide(){return this._isGuide}set isGuide(t){this._isGuide=t}get otherPartyName(){return this._otherPartyName}set otherPartyName(t){this._otherPartyName=t}get otherPartyFigure(){return this._otherPartyFigure}set otherPartyFigure(t){this._otherPartyFigure=t}get description(){return this._description}set description(t){this._description=t}get roomName(){return this._roomName}set roomName(t){this._roomName=t}}class Mn{constructor(){this._statusCode=void 0,this._pendingTicket=void 0}flush(){return this._statusCode=0,this._pendingTicket=null,!0}parse(t){return!!t&&(this._statusCode=t.readInt(),this._pendingTicket=new Dn(t.readInt(),t.readInt(),t.readBoolean(),t.readString(),t.readString(),t.readString(),t.readString()),!0)}get statusCode(){return this._statusCode}get pendingTicket(){return this._pendingTicket}}Mn.GUIDE_REPORTING_STATUS_OK=0,Mn.GUIDE_REPORTING_STATUS_PENDING_TICKET=1,Mn.GUIDE_REPORTING_STATUS_ABUSIVE=2,Mn.GUIDE_REPORTING_STATUS_REPORTING_TOO_QUICKLY=3;class Cn{constructor(){this._asGuide=void 0,this._helpRequestType=void 0,this._helpRequestDescription=void 0,this._roleSpecificWaitTime=void 0}flush(){return this._asGuide=!1,this._helpRequestType=0,this._helpRequestDescription=null,this._roleSpecificWaitTime=0,!0}parse(t){return!!t&&(this._asGuide=t.readBoolean(),this._helpRequestType=t.readInt(),this._helpRequestDescription=t.readString(),this._roleSpecificWaitTime=t.readInt(),!0)}get asGuide(){return this._asGuide}get helpRequestType(){return this._helpRequestType}get helpRequestDescription(){return this._helpRequestDescription}get roleSpecificWaitTime(){return this._roleSpecificWaitTime}}class Ln{flush(){return!0}parse(t){return!!t}}class Un{constructor(){this._endReason=void 0}flush(){return this._endReason=0,!0}parse(t){return!!t&&(this._endReason=t.readInt(),!0)}get endReason(){return this._endReason}}class Pn{constructor(){this._errorCode=void 0}flush(){return this._errorCode=0,!0}parse(t){return!!t&&(this._errorCode=t.readInt(),!0)}get errorCode(){return this._errorCode}}Pn.ERROR_GENERIC=0,Pn.ERROR_GUIDES_REJECT=1,Pn.ERROR_NOT_ENOUGH_GUIDES=2,Pn.ERROR_NOT_ENOUGH_VOTES=3,Pn.ERROR_NO_CHATLOG_FOUND=4;class bn{constructor(){this._roomId=void 0,this._roomName=void 0}flush(){return this._roomId=0,this._roomName=null,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._roomName=t.readString(),!0)}get roomId(){return this._roomId}get roomName(){return this._roomName}}class wn{constructor(){this._chatMessage=void 0,this._senderId=void 0}flush(){return this._chatMessage=null,this._senderId=0,!0}parse(t){return!!t&&(this._chatMessage=t.readString(),this._senderId=t.readInt(),!0)}get chatMessage(){return this._chatMessage}get senderId(){return this._senderId}}class Fn{constructor(){this._isTyping=void 0}flush(){return this._isTyping=!1,!0}parse(t){return!!t&&(this._isTyping=t.readBoolean(),!0)}get isTyping(){return this._isTyping}}class xn{constructor(){this._requesterRoomId=void 0}flush(){return this._requesterRoomId=0,!0}parse(t){return!!t&&(this._requesterRoomId=t.readInt(),!0)}get requesterRoomId(){return this._requesterRoomId}}class Bn{constructor(){this._requesterUserId=void 0,this._requesterName=void 0,this._requesterFigure=void 0,this._guideUserId=void 0,this._guideName=void 0,this._guideFigure=void 0}flush(){return this._requesterUserId=0,this._requesterName=null,this._requesterFigure=null,this._guideUserId=0,this._guideName=null,this._guideFigure=null,!0}parse(t){return!!t&&(this._requesterUserId=t.readInt(),this._requesterName=t.readString(),this._requesterFigure=t.readString(),this._guideUserId=t.readInt(),this._guideName=t.readString(),this._guideFigure=t.readString(),!0)}get requesterUserId(){return this._requesterUserId}get requesterName(){return this._requesterName}get requesterFigure(){return this._requesterFigure}get guideUserId(){return this._guideUserId}get guideName(){return this._guideName}get guideFigure(){return this._guideFigure}}class Gn{constructor(){this._result=void 0}flush(){return this._result=0,!0}parse(t){return!!t&&(this._result=t.readInt(),!0)}get result(){return this._result}}Gn.CREATION_RESULT_OK=0,Gn.CREATION_RESULT_UNABLE_TO_REPORT=1,Gn.CREATION_RESULT_NO_CHATLOG_FOUND=2,Gn.CREATION_RESULT_BULLY_ALREADY_REPORTED=3;class Hn{constructor(){this._resolution=void 0}flush(){return this._resolution=0,!0}parse(t){return!!t&&(this._resolution=t.readInt(),!0)}get resolution(){return this._resolution}}Hn.RESOLUTION_GUARDIANS_TOOK_ACTION=0,Hn.RESOLUTION_FORWARDED_TO_MODERATORS=1,Hn.RESOLUTION_REPORTER_IS_ABUSIVE=2;class Vn{flush(){return!0}parse(t){return!!t}}class jn{constructor(){this._closeReason=void 0,this._messageText=void 0}flush(){return this._closeReason=0,this._messageText=\"\",!0}parse(t){return!!t&&(this._closeReason=t.readInt(),this._messageText=t.readString(),!0)}get closeReason(){return this._closeReason}get messageText(){return this._messageText}}class kn{constructor(){this._quizCode=void 0,this._questionIds=void 0}flush(){return this._quizCode=null,this._questionIds=[],!0}parse(t){if(!t)return!1;this._quizCode=t.readString();const e=t.readInt();this._questionIds=[];for(let s=0;s<e;s++)this._questionIds.push(t.readInt());return!0}get quizCode(){return this._quizCode}get questionIds(){return this._questionIds}}class zn{constructor(){this._quizCode=void 0,this._questionIdsForWrongAnswers=void 0}flush(){return this._quizCode=null,this._questionIdsForWrongAnswers=[],!0}parse(t){if(!t)return!1;this._quizCode=t.readString();const e=t.readInt();this._questionIdsForWrongAnswers=[];for(let s=0;s<e;s++)this._questionIdsForWrongAnswers.push(t.readInt());return!0}get quizCode(){return this._quizCode}get questionIdsForWrongAnswers(){return this._questionIdsForWrongAnswers}}class Yn{constructor(t){if(this._achievementId=void 0,this._level=void 0,this._badgeId=void 0,this._scoreAtStartOfLevel=void 0,this._scoreLimit=void 0,this._levelRewardPoints=void 0,this._levelRewardPointType=void 0,this._currentPoints=void 0,this._finalLevel=void 0,this._category=void 0,this._subCategory=void 0,this._levelCount=void 0,this._displayMethod=void 0,this._unseen=0,!t)throw new Error(\"invalid_parser\");this._achievementId=t.readInt(),this._level=t.readInt(),this._badgeId=t.readString(),this._scoreAtStartOfLevel=t.readInt(),this._scoreLimit=Math.max(1,t.readInt()),this._levelRewardPoints=t.readInt(),this._levelRewardPointType=t.readInt(),this._currentPoints=t.readInt(),this._finalLevel=t.readBoolean(),this._category=t.readString(),this._subCategory=t.readString(),this._levelCount=t.readInt(),this._displayMethod=t.readInt()}get achievementId(){return this._achievementId}get badgeId(){return this._badgeId}get level(){return this._level}get scoreAtStartOfLevel(){return this._scoreAtStartOfLevel}get scoreLimit(){return this._scoreLimit-this._scoreAtStartOfLevel}get levelRewardPoints(){return this._levelRewardPoints}get levelRewardPointType(){return this._levelRewardPointType}get currentPoints(){return this._currentPoints-this._scoreAtStartOfLevel}get finalLevel(){return this._finalLevel}get category(){return this._category}get subCategory(){return this._subCategory}get levelCount(){return this._levelCount}get firstLevelAchieved(){return this._level>1||this._finalLevel}setMaxProgress(){this._currentPoints=this._scoreLimit}get displayMethod(){return this._displayMethod}get progress(){return this._currentPoints}get toNextProgress(){return this._scoreLimit}set unseen(t){this._unseen=t}get unseen(){return this._unseen}reset(t){this._achievementId=t._achievementId,this._level=t._level,this._badgeId=t._badgeId,this._scoreAtStartOfLevel=t._scoreAtStartOfLevel,this._scoreLimit=t._scoreLimit,this._levelRewardPoints=t._levelRewardPoints,this._levelRewardPointType=t._levelRewardPointType,this._currentPoints=t._currentPoints,this._finalLevel=t._finalLevel,this._category=t.category,this._subCategory=t._subCategory,this._levelCount=t._levelCount,this._displayMethod=t._displayMethod}}Yn.DISPLAY_METHOD_OBSOLETE=-1,Yn.DISPLAY_METHOD_SHOW_LEVEL_PROGRESS=0,Yn.DISPLAY_METHOD_NEVER_SHOW_PROGRESS=1,Yn.DISPLAY_METHOD_SHOW_TOTAL_PROGRESS=2;class Wn{constructor(){this._achievement=void 0}flush(){return this._achievement=null,!0}parse(t){return!!t&&(this._achievement=new Yn(t),!0)}get achievement(){return this._achievement}}class Kn{constructor(){this._achievements=void 0,this._defaultCategory=void 0}flush(){return this._achievements=[],this._defaultCategory=null,!0}parse(t){if(!t)return!1;this._achievements=[];let e=t.readInt();for(;e>0;)this._achievements.push(new Yn(t)),e--;return this._defaultCategory=t.readString(),!0}get achievements(){return this._achievements}get defaultCategory(){return this._defaultCategory}}class Xn{constructor(){this._score=void 0}flush(){return this._score=0,!0}parse(t){return!!t&&(this._score=t.readInt(),!0)}get score(){return this._score}}class qn{constructor(){this._type=void 0,this._duration=void 0,this._isPermanent=void 0}flush(){return this._type=0,this._duration=0,this._isPermanent=!1,!0}parse(t){return!!t&&(this._type=t.readInt(),this._duration=t.readInt(),this._isPermanent=t.readBoolean(),!0)}get type(){return this._type}get duration(){return this._duration}get isPermanent(){return this._isPermanent}}class Qn{constructor(){this._type=void 0,this._subType=void 0,this._duration=void 0,this._permanent=void 0}flush(){return this._type=0,this._subType=0,this._duration=0,this._permanent=!1,!0}parse(t){return!!t&&(this._type=t.readInt(),this._subType=t.readInt(),this._duration=t.readInt(),this._permanent=t.readBoolean(),!0)}get type(){return this._type}get subType(){return this._subType}get duration(){return this._duration}get isPermanent(){return this._permanent}}class Zn{constructor(){this._type=void 0}flush(){return this._type=0,!0}parse(t){return!!t&&(this._type=t.readInt(),!0)}get type(){return this._type}}class Jn{constructor(){this._type=void 0,this._subType=void 0,this._duration=void 0,this._inactiveEffectsInInventory=void 0,this._secondsLeftIfActive=void 0,this._permanent=void 0}get type(){return this._type}set type(t){this._type=t}get subType(){return this._subType}set subType(t){this._subType=t}get duration(){return this._duration}set duration(t){this._duration=t}get inactiveEffectsInInventory(){return this._inactiveEffectsInInventory}set inactiveEffectsInInventory(t){this._inactiveEffectsInInventory=t}get secondsLeftIfActive(){return this._secondsLeftIfActive}set secondsLeftIfActive(t){this._secondsLeftIfActive=t}get isPermanent(){return this._permanent}set isPermanent(t){this._permanent=t}}class $n{constructor(){this._effects=void 0}flush(){return this._effects=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=new Jn;s.type=t.readInt(),s.subType=t.readInt(),s.duration=t.readInt(),s.inactiveEffectsInInventory=t.readInt(),s.secondsLeftIfActive=t.readInt(),s.isPermanent=t.readBoolean(),this._effects.push(s),e--}return!0}get effects(){return this._effects}}class ta{constructor(t,e){if(this._badgeId=void 0,this._limit=void 0,!e)throw new Error(\"invalid_parser\");this._badgeId=\"ACH_\"+t+e.readInt(),this._limit=e.readInt()}get badgeId(){return this._badgeId}get limit(){return this._limit}}class ea{constructor(){this._data=void 0}flush(){return this._data=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=t.readString(),i=t.readInt();let r=0;for(;r<i;)this._data.push(new ta(s,t)),r++;e--}return!0}get data(){return this._data}}class sa{constructor(){this._badgeId=void 0,this._badgeCode=void 0}flush(){return this._badgeId=0,this._badgeCode=null,!0}parse(t){return!!t&&(this._badgeId=t.readInt(),this._badgeCode=t.readString(),!0)}get badgeId(){return this._badgeId}get badgeCode(){return this._badgeCode}}class ia{constructor(){this._allBadgeCodes=void 0,this._activeBadgeCodes=void 0,this._badgeIds=void 0}flush(){return this._allBadgeCodes=[],this._activeBadgeCodes=null,this._badgeIds=null,!0}parse(t){if(!t)return!1;this._allBadgeCodes=[],this._activeBadgeCodes=new U,this._badgeIds=new U;let e=t.readInt();for(;e>0;){const s=t.readInt(),i=t.readString();this._badgeIds.add(i,s),this._allBadgeCodes.push(i),e--}for(e=t.readInt();e>0;){const s=t.readInt(),i=t.readString();this._activeBadgeCodes.add(i,s),e--}return!0}getBadgeId(t){return this._badgeIds.getValue(t)}getActiveBadgeSlot(t){return this._activeBadgeCodes.getValue(t)}getAllBadgeCodes(){return this._allBadgeCodes}getActiveBadgeCodes(){return this._activeBadgeCodes.getKeys()}}class ra{constructor(){this._requestCode=void 0,this._fulfilled=void 0}flush(){return!0}parse(t){return!!t&&(this._requestCode=t.readString(),this._fulfilled=t.readBoolean(),!0)}get requestCode(){return this._requestCode}get fulfilled(){return this._fulfilled}}class na{constructor(){this._figureSetIds=void 0,this._boundFurnitureNames=void 0}flush(){return this._figureSetIds=[],this._boundFurnitureNames=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._figureSetIds.push(t.readInt()),e--;let s=t.readInt();for(;s>0;)this._boundFurnitureNames.push(t.readString()),s--;return!0}get figureSetIds(){return this._figureSetIds}get boundsFurnitureNames(){return this._boundFurnitureNames}}class aa{}aa.UNIQUE_SET=256;class oa{constructor(){this._flags=void 0,this._uniqueNumber=void 0,this._uniqueSeries=void 0,this._flags=0,this._uniqueNumber=0,this._uniqueSeries=0}parseWrapper(t){(this._flags&aa.UNIQUE_SET)>0&&(this._uniqueNumber=t.readInt(),this._uniqueSeries=t.readInt())}initializeFromRoomObjectModel(t){this._uniqueNumber=t.getValue(rt.FURNITURE_UNIQUE_SERIAL_NUMBER),this._uniqueSeries=t.getValue(rt.FURNITURE_UNIQUE_EDITION_SIZE)}writeRoomObjectModel(t){t&&(t.setValue(rt.FURNITURE_UNIQUE_SERIAL_NUMBER,this._uniqueNumber),t.setValue(rt.FURNITURE_UNIQUE_EDITION_SIZE,this._uniqueSeries))}getLegacyString(){return\"\"}compare(t){return!1}get state(){const t=parseInt(this.getLegacyString());return isNaN(t)?0:t}get isUnique(){return this._uniqueSeries>0}get uniqueNumber(){return this._uniqueNumber}set uniqueNumber(t){this._uniqueNumber=t}get uniqueSeries(){return this._uniqueSeries}set uniqueSeries(t){this._uniqueSeries=t}get rarityLevel(){return-1}get flags(){return this._flags}set flags(t){this._flags=t}}class ha{}ha.LEGACY_KEY=0,ha.MAP_KEY=1,ha.STRING_KEY=2,ha.VOTE_KEY=3,ha.EMPTY_KEY=4,ha.NUMBER_KEY=5,ha.HIGHSCORE_KEY=6,ha.CRACKABLE_KEY=7;class _a extends oa{constructor(){super(),this._state=void 0,this._hits=void 0,this._target=void 0,this._state=\"\",this._hits=0,this._target=0}parseWrapper(t){t&&(this._state=t.readString(),this._hits=t.readInt(),this._target=t.readInt(),super.parseWrapper(t))}initializeFromRoomObjectModel(t){super.initializeFromRoomObjectModel(t),this._state=t.getValue(rt.FURNITURE_CRACKABLE_STATE),this._hits=t.getValue(rt.FURNITURE_CRACKABLE_HITS),this._target=t.getValue(rt.FURNITURE_CRACKABLE_TARGET)}writeRoomObjectModel(t){super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,_a.FORMAT_KEY),t.setValue(rt.FURNITURE_CRACKABLE_STATE,this._state),t.setValue(rt.FURNITURE_CRACKABLE_HITS,this._hits),t.setValue(rt.FURNITURE_CRACKABLE_TARGET,this._target)}getLegacyString(){return this._state}compare(t){return!0}get hits(){return this._hits}get target(){return this._target}}_a.FORMAT_KEY=ha.CRACKABLE_KEY;class da extends oa{constructor(){super(...arguments),this._state=void 0}parseWrapper(t){t&&(this._state=\"\",super.parseWrapper(t))}writeRoomObjectModel(t){super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,da.FORMAT_KEY)}getLegacyString(){return this._state}compare(t){return super.compare(t)}}da.FORMAT_KEY=ha.EMPTY_KEY;class ua{constructor(){this._score=void 0,this._users=void 0,this._score=-1,this._users=[]}get score(){return this._score}set score(t){this._score=t}get users(){return this._users}set users(t){this._users=t}addUsername(t){this._users.push(t)}}class ca extends oa{constructor(){super(),this._state=void 0,this._scoreType=void 0,this._clearType=void 0,this._entries=void 0,this._state=\"\",this._scoreType=-1,this._clearType=-1,this._entries=[]}parseWrapper(t){if(!t)return;this._state=t.readString(),this._scoreType=t.readInt(),this._clearType=t.readInt();let e=t.readInt();for(;e>0;){const s=new ua;s.score=t.readInt();let i=t.readInt();for(;i>0;)s.addUsername(t.readString()),i--;this._entries.push(s),e--}super.parseWrapper(t)}initializeFromRoomObjectModel(t){this._scoreType=t.getValue(rt.FURNITURE_HIGHSCORE_SCORE_TYPE),this._clearType=t.getValue(rt.FURNITURE_HIGHSCORE_CLEAR_TYPE),this._entries=[];const e=t.getValue(rt.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT);let s=0;for(;s<e;){const e=new ua;e.score=t.getValue(rt.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+s),e.users=t.getValue(rt.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+s),this._entries.push(e),s++}super.initializeFromRoomObjectModel(t)}writeRoomObjectModel(t){if(super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,ca.FORMAT_KEY),t.setValue(rt.FURNITURE_HIGHSCORE_SCORE_TYPE,this._scoreType),t.setValue(rt.FURNITURE_HIGHSCORE_CLEAR_TYPE,this._clearType),this._entries){t.setValue(rt.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT,this._entries.length);let e=0;for(;e<this._entries.length;){const s=this._entries[e];t.setValue(rt.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+e,s.score),t.setValue(rt.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+e,s.users),e++}}}getLegacyString(){return this._state}get entries(){return this._entries}get clearType(){return this._clearType}get scoreType(){return this._scoreType}}ca.FORMAT_KEY=ha.HIGHSCORE_KEY;class la extends oa{constructor(){super(),this._data=void 0,this._data=\"\"}parseWrapper(t){t&&(this._data=t.readString(),super.parseWrapper(t))}initializeFromRoomObjectModel(t){super.initializeFromRoomObjectModel(t),this._data=t.getValue(rt.FURNITURE_DATA)}writeRoomObjectModel(t){super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,la.FORMAT_KEY),t.setValue(rt.FURNITURE_DATA,this._data)}getLegacyString(){return this._data}compare(t){return this._data===t.getLegacyString()}setString(t){this._data=t}}la.FORMAT_KEY=ha.LEGACY_KEY;class ga extends oa{constructor(){super(),this._data=void 0,this._data={}}parseWrapper(t){if(!t)return;this._data={};const e=t.readInt();if(e)for(let s=0;s<e;s++)this._data[t.readString()]=t.readString();super.parseWrapper(t)}initializeFromRoomObjectModel(t){super.initializeFromRoomObjectModel(t),this._data=t.getValue(rt.FURNITURE_DATA)||{}}writeRoomObjectModel(t){super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,ga.FORMAT_KEY),t.setValue(rt.FURNITURE_DATA,this._data)}getLegacyString(){if(!this._data)return\"\";const t=this._data[ga.STATE];return void 0===t||null===t?\"\":t}compare(t){return!1}getValue(t){return this._data[t]}get rarityLevel(){if(!this._data)return-1;const t=this._data[ga.RARITY];return void 0===t||null===t?-1:parseInt(t)}get data(){return this._data}}ga.FORMAT_KEY=ha.MAP_KEY,ga.STATE=\"state\",ga.RARITY=\"rarity\";class Ea extends oa{constructor(){super(),this._data=void 0,this._data=[]}parseWrapper(t){if(!t)return;this._data=[];const e=t.readInt();if(e)for(let s=0;s<e;s++)this._data.push(t.readInt());super.parseWrapper(t)}initializeFromRoomObjectModel(t){super.initializeFromRoomObjectModel(t),this._data=t.getValue(rt.FURNITURE_DATA)}writeRoomObjectModel(t){super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,Ea.FORMAT_KEY),t.setValue(rt.FURNITURE_DATA,this._data)}getLegacyString(){return this._data&&this._data.length?this._data[Ea.STATE].toString():\"\"}compare(t){if(!(t instanceof Ea))return!1;let e=0;for(;e<this._data.length;){if(0===e);else if(this._data[e]!==t.getValue(e))return!1;e++}return!0}getValue(t){if(!this._data||!this._data.length)return-1;const e=this._data[t];return void 0===e||null===e?-1:e}}Ea.FORMAT_KEY=ha.NUMBER_KEY,Ea.STATE=0;class pa extends oa{constructor(){super(),this._data=void 0,this._data=[]}parseWrapper(t){if(!t)return;this._data=[];const e=t.readInt();if(e)for(let s=0;s<e;s++)this._data.push(t.readString());super.parseWrapper(t)}initializeFromRoomObjectModel(t){super.initializeFromRoomObjectModel(t),this._data=t.getValue(rt.FURNITURE_DATA)}writeRoomObjectModel(t){super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,pa.FORMAT_KEY),t.setValue(rt.FURNITURE_DATA,this._data)}getLegacyString(){return this._data&&this._data.length?this._data[pa.STATE]:\"\"}compare(t){if(!(t instanceof pa))return!1;let e=0;for(;e<this._data.length;){if(0===e);else if(this._data[e]!==t.getValue(e))return!1;e++}return!0}getValue(t){return this._data[t]||\"\"}setValue(t){this._data=t}}pa.FORMAT_KEY=ha.STRING_KEY,pa.STATE=0;class ma extends oa{constructor(){super(),this._state=void 0,this._result=void 0,this._state=\"\",this._result=0}parseWrapper(t){t&&(this._state=t.readString(),this._result=t.readInt(),super.parseWrapper(t))}writeRoomObjectModel(t){super.writeRoomObjectModel(t),t.setValue(rt.FURNITURE_DATA_FORMAT,ma.FORMAT_KEY);const e={};e.S=this._state,e.R=this._result.toString(),t.setValue(rt.FURNITURE_DATA,e)}getLegacyString(){return this._state}compare(t){return!0}setString(t){this._state=t}get result(){return this._result}}ma.FORMAT_KEY=ha.VOTE_KEY;class Ia{static getData(t){let e=null;switch(255&t){case _a.FORMAT_KEY:e=new _a;break;case da.FORMAT_KEY:e=new da;break;case ca.FORMAT_KEY:e=new ca;break;case la.FORMAT_KEY:e=new la;break;case ga.FORMAT_KEY:e=new ga;break;case Ea.FORMAT_KEY:e=new Ea;break;case pa.FORMAT_KEY:e=new pa;break;case ma.FORMAT_KEY:e=new ma}return e?(e.flags=65280&t,e):null}}class fa{constructor(){this._itemId=void 0,this._data=void 0}flush(){return this._itemId=0,this._data=null,!0}parse(t){return!!t&&(this._itemId=parseInt(t.readString()),this._data=fa.parseObjectData(t),!0)}static parseObjectData(t){if(!t)return null;const e=Ia.getData(t.readInt());return e?(e.parseWrapper(t),e):null}get furnitureId(){return this._itemId}get objectData(){return this._data}}class Ta{constructor(t){if(this._rentable=void 0,this._itemId=void 0,this._furniType=void 0,this._ref=void 0,this._spriteId=void 0,this._category=void 0,this._stuffData=void 0,this._isGroupable=void 0,this._isRecyclable=void 0,this._tradable=void 0,this._sellable=void 0,this._secondsToExpiration=void 0,this._extra=void 0,this._flatId=void 0,this._isWallItem=void 0,this._hasRentPeriodStarted=void 0,this._expirationTimeStamp=void 0,this._slotId=void 0,this._songId=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._rentable=!1,this._itemId=0,this._furniType=null,this._ref=0,this._spriteId=0,this._category=0,this._stuffData=null,this._isGroupable=!1,this._isRecyclable=!1,this._tradable=!1,this._sellable=!1,this._secondsToExpiration=0,this._extra=0,this._flatId=0,this._isWallItem=!1,this._hasRentPeriodStarted=!1,this._expirationTimeStamp=0,this._slotId=\"\",this._songId=-1,!0}parse(t){return!!t&&(this._itemId=t.readInt(),this._furniType=t.readString(),this._ref=t.readInt(),this._spriteId=t.readInt(),this._category=t.readInt(),this._stuffData=fa.parseObjectData(t),this._isRecyclable=t.readBoolean(),this._tradable=t.readBoolean(),this._isGroupable=t.readBoolean(),this._sellable=t.readBoolean(),this._secondsToExpiration=t.readInt(),this._expirationTimeStamp=lL.instance.time,this.secondsToExpiration>-1?this._rentable=!0:(this._rentable=!1,this._secondsToExpiration=-1),this._hasRentPeriodStarted=t.readBoolean(),this._flatId=t.readInt(),this._isWallItem=this._furniType===Ta.WALL_ITEM,this._furniType===Ta.FLOOR_ITEM&&(this._slotId=t.readString(),this._extra=t.readInt()),!0)}get itemId(){return this._itemId}get furniType(){return this._furniType}get ref(){return this._ref}get spriteId(){return this._spriteId}get category(){return this._category}get stuffData(){return this._stuffData}get isGroupable(){return this._isGroupable}get isRecycleable(){return this._isRecyclable}get tradable(){return this._tradable}get sellable(){return this._sellable}get secondsToExpiration(){return this._secondsToExpiration}get flatId(){return this._flatId}get slotId(){return this._slotId}get songId(){return this._songId}get extra(){return this._extra}get rentable(){return this._rentable}get isWallItem(){return this._isWallItem}get hasRentPeriodStarted(){return this._hasRentPeriodStarted}get expirationTimeStamp(){return this._expirationTimeStamp}get creationDay(){return 0}get creationMonth(){return 0}get creationYear(){return 0}get isExternalImageFurni(){return!(-1===this._furniType.indexOf(\"external_image\"))}}Ta.WALL_ITEM=\"I\",Ta.FLOOR_ITEM=\"S\";class Ra{constructor(){this._items=void 0}flush(){return this._items=[],!0}parse(t){return!!t&&(this._items.push(new Ta(t)),!0)}get items(){return this._items}}class va{flush(){return!0}parse(t){return!!t}}class Oa{constructor(){this._totalFragments=void 0,this._fragmentNumber=void 0,this._fragment=void 0}flush(){return this._totalFragments=0,this._fragmentNumber=0,this._fragment=new Map,!0}parse(t){if(!t)return!1;this._totalFragments=t.readInt(),this._fragmentNumber=t.readInt();let e=t.readInt();for(;e>0;){const s=new Ta(t);s&&this._fragment.set(s.itemId,s),e--}return!0}get totalFragments(){return this._totalFragments}get fragmentNumber(){return this._fragmentNumber}get fragment(){return this._fragment}}class Aa{constructor(){this._itemId=void 0}flush(){return this._itemId=0,!0}parse(t){return!!t&&(this._itemId=t.readInt(),!0)}get itemId(){return this._itemId}}class Sa{constructor(){this._itemId=void 0,this._itemsLeft=void 0}flush(){return this._itemId=0,this._itemsLeft=0,!0}parse(t){return!!t&&(this._itemId=t.readInt(),this._itemsLeft=t.readInt(),!0)}get itemId(){return this._itemId}get itemsLeft(){return this._itemsLeft}}class Na{constructor(){this._itemType=void 0,this._classId=void 0,this._productCode=void 0,this._placedItemId=void 0,this._placedItemType=void 0,this._placedInRoom=void 0,this._petFigureString=void 0}flush(){return this._itemType=\"\",this._classId=0,this._productCode=\"\",!0}parse(t){return!!t&&(this._itemType=t.readString(),this._classId=t.readInt(),this._productCode=t.readString(),this._placedItemId=t.readInt(),this._placedItemType=t.readString(),this._placedInRoom=t.readBoolean(),this._petFigureString=t.readString(),!0)}get itemType(){return this._itemType}get classId(){return this._classId}get productCode(){return this._productCode}get placedItemId(){return this._placedItemId}get placedItemType(){return this._placedItemType}get placedInRoom(){return this._placedInRoom}get petFigureString(){return this._petFigureString}}class ya{constructor(){this._pet=void 0,this._boughtAsGift=void 0}flush(){return this._pet=null,this._boughtAsGift=!1,!0}parse(t){return this._pet=new ir(t),this._boughtAsGift=t.readBoolean(),!0}get pet(){return this._pet}get boughtAsGift(){return this._boughtAsGift}}class Da{constructor(){this._state=void 0,this._ownPetId=void 0,this._otherPetId=void 0}flush(){return this._state=0,this._ownPetId=0,this._otherPetId=0,!0}parse(t){return!!t&&(this._state=t.readInt(),this._ownPetId=t.readInt(),this._otherPetId=t.readInt(),!0)}get state(){return this._state}get ownPetId(){return this._ownPetId}get otherPetId(){return this._otherPetId}}Da.STATE_CANCEL=1,Da.STATE_ACCEPT=2,Da.STATE_REQUEST=3;class Ma{constructor(){this._totalFragments=void 0,this._fragmentNumber=void 0,this._fragment=void 0}flush(){return this._fragment=null,!0}parse(t){this._totalFragments=t.readInt(),this._fragmentNumber=t.readInt();let e=t.readInt();for(this._fragment=new Map;e>0;){const s=new ir(t);this._fragment.set(s.id,s),e--}return!0}get totalFragments(){return this._totalFragments}get fragmentNumber(){return this._fragmentNumber}get fragment(){return this._fragment}}class Ca{constructor(){this._boughtAsGift=void 0,this._pet=void 0}flush(){return this._boughtAsGift=!1,this._pet=null,!0}parse(t){return this._boughtAsGift=t.readBoolean(),this._pet=new ir(t),!0}get boughtAsGift(){return this._boughtAsGift}get pet(){return this._pet}}class La{constructor(){this._petId=void 0}flush(){return!0}parse(t){return!!t&&(this._petId=t.readInt(),!0)}get petId(){return this._petId}}class Ua{constructor(){this._userID=void 0,this._userAccepts=void 0}flush(){return this._userID=-1,this._userAccepts=!1,!0}parse(t){return!!t&&(this._userID=t.readInt(),this._userAccepts=t.readInt()>0,!0)}get userID(){return this._userID}get userAccepts(){return this._userAccepts}}class Pa{constructor(){this._userId=void 0,this._reason=void 0}flush(){return!0}parse(t){return!!t&&(this._userId=t.readInt(),this._reason=t.readInt(),!0)}get userID(){return this._userId}get reason(){return this._reason}}Pa.ERROR_WHILE_COMMIT=1;class ba{flush(){return!0}parse(t){return!!t}}class wa{flush(){return!0}parse(t){return!!t}}class Fa{constructor(t){this._expirationTimeStamp=void 0,this._isWallItem=void 0,this._itemId=void 0,this._furniType=void 0,this._ref=void 0,this._spriteId=void 0,this._category=void 0,this._stuffData=void 0,this._extra=void 0,this._secondsToExpiration=void 0,this._creationDay=void 0,this._creationMonth=void 0,this._creationYear=void 0,this._isGroupable=void 0,this._songId=void 0,this._flatId=void 0,this._rentable=void 0,this._hasRentPeriodStarted=void 0,this._itemId=t.readInt(),this._furniType=t.readString().toUpperCase(),this._ref=t.readInt(),this._spriteId=t.readInt(),this._category=t.readInt(),this._isGroupable=t.readBoolean(),this._stuffData=fa.parseObjectData(t),this._secondsToExpiration=-1,this._expirationTimeStamp=lL.instance.time,this._hasRentPeriodStarted=!1,this._creationDay=t.readInt(),this._creationMonth=t.readInt(),this._creationYear=t.readInt(),this._extra=\"S\"===this.furniType?t.readInt():-1,this._flatId=-1,this._rentable=!1,this._isWallItem=\"I\"===this._furniType}get itemId(){return this._itemId}get furniType(){return this._furniType}get ref(){return this._ref}get spriteId(){return this._spriteId}get category(){return this._category}get stuffData(){return this._stuffData}get extra(){return this._extra}get secondsToExpiration(){return this._secondsToExpiration}get creationDay(){return this._creationDay}get creationMonth(){return this._creationMonth}get creationYear(){return this._creationYear}get isGroupable(){return this._isGroupable}get songId(){return this._extra}get flatId(){return this._flatId}get rentable(){return this._rentable}get isWallItem(){return this._isWallItem}get hasRentPeriodStarted(){return this._hasRentPeriodStarted}get expirationTimeStamp(){return this._expirationTimeStamp}get isRecycleable(){return!0}get tradable(){return!0}get sellable(){return!0}get slotId(){return null}get isExternalImageFurni(){return-1!==this._furniType.indexOf(\"external_image\")}}class xa{constructor(){this._firstUserID=void 0,this._firstUserItemArray=void 0,this._firstUserNumItems=void 0,this._firstUserNumCredits=void 0,this._secondUserID=void 0,this._secondUserItemArray=void 0,this._secondUserNumItems=void 0,this._secondUserNumCredits=void 0}flush(){return this._firstUserID=-1,this._firstUserItemArray=null,this._firstUserNumItems=0,this._firstUserNumCredits=0,this._secondUserID=-1,this._secondUserItemArray=null,this._secondUserNumItems=0,this._secondUserNumCredits=0,!0}parse(t){return!!t&&(this._firstUserID=t.readInt(),this._firstUserItemArray=[],!!this.parseItems(t,this._firstUserItemArray)&&(this._firstUserNumItems=t.readInt(),this._firstUserNumCredits=t.readInt(),this._secondUserID=t.readInt(),this._secondUserItemArray=[],!!this.parseItems(t,this._secondUserItemArray)&&(this._secondUserNumItems=t.readInt(),this._secondUserNumCredits=t.readInt(),!0)))}parseItems(t,e){let s=t.readInt();for(;s>0;)e.push(new Fa(t)),s--;return!0}get firstUserID(){return this._firstUserID}get firstUserItemArray(){return this._firstUserItemArray}get firstUserNumItems(){return this._firstUserNumItems}get firstUserNumCredits(){return this._firstUserNumCredits}get secondUserID(){return this._secondUserID}get secondUserItemArray(){return this._secondUserItemArray}get secondUserNumItems(){return this._secondUserNumItems}get secondUserNumCredits(){return this._secondUserNumCredits}}class Ba{flush(){return!0}parse(t){return!!t}}class Ga{constructor(){this._reason=void 0,this._otherUserName=void 0}flush(){return!0}parse(t){return!!t&&(this._reason=t.readInt(),this._otherUserName=t.readString(),!0)}get reason(){return this._reason}get otherUserName(){return this._otherUserName}}Ga.REASON_YOU_ARE_ALREADY_TRADING=7,Ga.REASON_OTHER_USER_ALREADY_TRADING=8;class Ha{constructor(){this._userId=void 0,this._userCanTrade=void 0,this._otherUserId=void 0,this._otherUserCanTrade=void 0}flush(){return this._userId=-1,this._userCanTrade=!1,this._otherUserId=-1,this._otherUserCanTrade=!1,!0}parse(t){return!!t&&(this._userId=t.readInt(),this._userCanTrade=1===t.readInt(),this._otherUserId=t.readInt(),this._otherUserCanTrade=1===t.readInt(),!0)}get userID(){return this._userId}get userCanTrade(){return this._userCanTrade}get otherUserID(){return this._otherUserId}get otherUserCanTrade(){return this._otherUserCanTrade}}class Va{flush(){return!0}parse(t){return!!t}}class ja{flush(){return!0}parse(t){return!!t}}class ka{constructor(t){this._id=void 0,this._title=void 0,this._bodyText=void 0,this._buttonText=void 0,this._linkType=void 0,this._linkContent=void 0,this._imageUrl=void 0,this._id=t.readInt(),this._title=t.readString(),this._bodyText=t.readString(),this._buttonText=t.readString(),this._linkType=t.readInt(),this._linkContent=t.readString(),this._imageUrl=t.readString()}get id(){return this._id}get title(){return this._title}get bodyText(){return this._bodyText}get buttonText(){return this._buttonText}get linkType(){return this._linkType}get linkContent(){return this._linkContent}get imageUrl(){return this._imageUrl}}ka.LINK_TYPE_URL=0,ka.LINK_TYPE_INTERNAL=1,ka.LINK_TYPE_NO_LINK=2;class za{constructor(){this._articles=void 0}flush(){return this._articles=[],!0}parse(t){if(!t)return!1;const e=t.readInt();for(let s=0;s<e;s++)this._articles.push(new ka(t));return!0}get articles(){return this._articles}}class Ya{constructor(){this._acknowledged=void 0}flush(){return!0}parse(t){return!!t&&(this._acknowledged=t.readBoolean(),!0)}get acknowledged(){return this._acknowledged}}class Wa{constructor(){this._result=void 0,this._newOfferId=void 0,this._newPrice=void 0,this._requestedOfferId=void 0}flush(){return this._newOfferId=-1,this._newPrice=0,this._requestedOfferId=-1,!0}parse(t){return!!t&&(this._result=t.readInt(),this._newOfferId=t.readInt(),this._newPrice=t.readInt(),this._requestedOfferId=t.readInt(),!0)}get result(){return this._result}get offerId(){return this._newOfferId}get newPrice(){return this._newPrice}get requestedOfferId(){return this._requestedOfferId}}class Ka{constructor(){this._offerId=void 0,this._success=void 0}flush(){return this._offerId=0,this._success=!1,!0}parse(t){return!!t&&(this._offerId=t.readInt(),this._success=t.readBoolean(),!0)}get offerId(){return this._offerId}get success(){return this._success}}class Xa{constructor(){this._tokenCount=void 0,this._result=void 0}flush(){return this._tokenCount=0,this._result=0,!0}parse(t){return!!t&&(this._result=t.readInt(),this._tokenCount=t.readInt(),!0)}get tokenCount(){return this._tokenCount}get resultCode(){return this._result}}class qa{constructor(){this._enabled=void 0,this._commission=void 0,this._credits=void 0,this._advertisements=void 0,this._maximumPrice=void 0,this._minimumPrice=void 0,this._offerTime=void 0,this._displayTime=void 0}flush(){return this._enabled=!1,this._commission=0,this._credits=0,this._advertisements=0,this._maximumPrice=0,this._minimumPrice=0,this._offerTime=0,this._displayTime=0,!0}parse(t){return!!t&&(this._enabled=t.readBoolean(),this._commission=t.readInt(),this._credits=t.readInt(),this._advertisements=t.readInt(),this._minimumPrice=t.readInt(),this._maximumPrice=t.readInt(),this._offerTime=t.readInt(),this._displayTime=t.readInt(),!0)}get enabled(){return this._enabled}get commission(){return this._commission}get credits(){return this._credits}get advertisements(){return this._advertisements}get minimumPrice(){return this._minimumPrice}get maximumPrice(){return this._maximumPrice}get offerTime(){return this._offerTime}get displayTime(){return this._displayTime}}class Qa{constructor(){this._result=void 0}flush(){return this._result=0,!0}parse(t){return!!t&&(this._result=t.readInt(),!0)}get result(){return this._result}}class Za{constructor(){this._averagePrice=void 0,this._currentOfferCount=void 0,this._historyLength=void 0,this._dayOffsets=void 0,this._averagePrices=void 0,this._soldAmounts=void 0,this._furniTypeId=void 0,this._furniCategoryId=void 0}flush(){return this._averagePrice=0,this._currentOfferCount=0,this._historyLength=0,this._dayOffsets=[],this._averagePrices=[],this._soldAmounts=[],this._furniTypeId=0,this._furniCategoryId=0,!0}parse(t){if(!t)return!1;this._averagePrice=t.readInt(),this._currentOfferCount=t.readInt(),this._historyLength=t.readInt();let e=t.readInt();for(;e>0;)this._dayOffsets.push(t.readInt()),this._averagePrices.push(t.readInt()),this._soldAmounts.push(t.readInt()),e--;return this._furniCategoryId=t.readInt(),this._furniTypeId=t.readInt(),!0}get averagePrice(){return this._averagePrice}get offerCount(){return this._currentOfferCount}get historyLength(){return this._historyLength}get dayOffsets(){return this._dayOffsets}get averagePrices(){return this._averagePrices}get soldAmounts(){return this._soldAmounts}get furniTypeId(){return this._furniTypeId}get furniCategoryId(){return this._furniCategoryId}}class Ja{constructor(t,e,s,i,r,n,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1;this._offerId=void 0,this._furniId=void 0,this._furniType=void 0,this._extraData=void 0,this._stuffData=void 0,this._price=void 0,this._averagePrice=void 0,this._imageCallback=void 0,this._status=void 0,this._timeLeftMinutes=-1,this._offerCount=void 0,this._image=void 0,this._offerId=t,this._furniId=e,this._furniType=s,this._extraData=i,this._stuffData=r,this._price=n,this._status=a,this._averagePrice=o,this._offerCount=h}get offerId(){return this._offerId}set offerId(t){this._offerId=t}get furniId(){return this._furniId}get furniType(){return this._furniType}get extraData(){return this._extraData}get stuffData(){return this._stuffData}get price(){return this._price}set price(t){this._price=t}get averagePrice(){return this._averagePrice}get image(){return this._image}set image(t){this._image=t}get imageCallback(){return this._imageCallback}set imageCallback(t){this._imageCallback=t}get status(){return this._status}get timeLeftMinutes(){return this._timeLeftMinutes}set timeLeftMinutes(t){this._timeLeftMinutes=t}get offerCount(){return this._offerCount}set offerCount(t){this._offerCount=t}get isUniqueLimitedItem(){return this.stuffData&&this.stuffData.uniqueSeries>0}}Ja.TYPE_LANDSCAPE=1,Ja.TYPE_FLOOR=2;class $a{constructor(t,e,s,i,r,n,a,o,h){let _=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1;this._offerId=void 0,this._furniId=void 0,this._furniType=void 0,this._extraData=void 0,this._stuffData=void 0,this._price=void 0,this._status=void 0,this._timeLeftMinutes=-1,this._averagePrice=void 0,this._offerCount=void 0,this._offerId=t,this._furniId=e,this._furniType=s,this._extraData=i,this._stuffData=r,this._price=n,this._status=a,this._timeLeftMinutes=o,this._averagePrice=h,this._offerCount=_}get offerId(){return this._offerId}get furniId(){return this._furniId}get furniType(){return this._furniType}get extraData(){return this._extraData}get stuffData(){return this._stuffData}get price(){return this._price}get status(){return this._status}get timeLeftMinutes(){return this._timeLeftMinutes}get averagePrice(){return this._averagePrice}get offerCount(){return this._offerCount}get isUniqueLimitedItem(){return!(null==this.stuffData)&&this.stuffData.uniqueSeries>0}}class to{constructor(){this.MAX_LIST_LENGTH=500,this._offers=void 0,this._totalItemsFound=void 0}flush(){return this._offers=[],this._totalItemsFound=0,!0}parse(t){if(!t)return!1;const e=t.readInt();let s=0;for(;s<e;){const e=t.readInt(),i=t.readInt();let r=t.readInt(),n=-1,a=\"\",o=null;r===to.FURNITYPE_STUFF?(n=t.readInt(),o=fa.parseObjectData(t)):r===to.FURNITYPE_WALL?(n=t.readInt(),a=t.readString()):r==to.FAKE_FURNITYPE_UNIQUE&&(n=t.readInt(),o=Ia.getData(la.FORMAT_KEY),o.uniqueNumber=t.readInt(),o.uniqueSeries=t.readInt(),r=to.FURNITYPE_STUFF);const h=t.readInt(),_=t.readInt(),d=t.readInt(),u=t.readInt(),c=new $a(e,n,r,a,o,h,i,_,d,u);s<this.MAX_LIST_LENGTH&&this._offers.push(c),s++}return this._totalItemsFound=t.readInt(),!0}get offers(){return this._offers}get totalItemsFound(){return this._totalItemsFound}}to.FURNITYPE_STUFF=1,to.FURNITYPE_WALL=2,to.FAKE_FURNITYPE_UNIQUE=3;class eo{constructor(){this._offers=void 0,this._creditsWaiting=void 0}flush(){return this._offers=[],!0}parse(t){if(!t)return!1;this._offers=[],this._creditsWaiting=t.readInt();const e=t.readInt();for(let s=0;s<e;s++){const e=t.readInt(),i=t.readInt();let r,n,a,o=t.readInt();1==o?(r=t.readInt(),a=this.getStuffData(t)):2==o?(r=t.readInt(),n=t.readString()):3==o&&(r=t.readInt(),a=Ia.getData(la.FORMAT_KEY),a.uniqueNumber=t.readInt(),a.uniqueSeries=t.readInt(),o=1);const h=t.readInt(),_=t.readInt(),d=t.readInt(),u=new $a(e,r,o,n,a,h,i,_,d);s<eo.MAX_LIST_LENGTH&&this._offers.push(u)}return!0}get offers(){return this._offers}get creditsWaiting(){return this._creditsWaiting}getStuffData(t){const e=t.readInt(),s=Ia.getData(e);return s.parseWrapper(t),s}}eo.MAX_LIST_LENGTH=500;class so{constructor(t,e,s,i,r){this._timestamp=void 0,this._habboId=void 0,this._username=void 0,this._message=void 0,this._hasHighlighting=void 0,this._timestamp=t,this._habboId=e,this._username=s,this._message=i,this._hasHighlighting=r}get timestamp(){return this._timestamp}get userId(){return this._habboId}get userName(){return this._username}get message(){return this._message}get hasHighlighting(){return this._hasHighlighting}}class io{constructor(t){this._recordType=void 0,this._context=void 0,this._chatlog=void 0,this._context=new Map,this._chatlog=[],this._recordType=t.readByte();const e=t.readShort();for(let i=0;i<e;i++){const e=t.readString(),s=t.readByte();switch(s){case 0:this._context.set(e,t.readBoolean());break;case 1:this._context.set(e,t.readInt());break;case 2:this._context.set(e,t.readString());break;default:throw new Error(\"Unknown data type \"+s)}}const s=t.readShort();for(let i=0;i<s;i++){const e=t.readString(),s=t.readInt(),i=t.readString(),r=t.readString(),n=t.readBoolean();this._chatlog.push(new so(e,s,i,r,n))}}get recordType(){return this._recordType}get context(){return this._context}get chatlog(){return this._chatlog}get roomId(){return this.getInt(\"roomId\")}get roomName(){return this._context.get(\"roomName\")}get groupId(){return this.getInt(\"groupId\")}get threadId(){return this.getInt(\"threadId\")}get messageId(){return this.getInt(\"messageId\")}getInt(t){const e=this._context.get(t);return e||0}}io.TYPE_SIMPLE=0,io.TYPE_ROOM_CHAT=1,io.TYPE_IM_SESSION=2,io.TYPE_DISCUSSION_THREAD=3,io.TYPE_DISCUSSION_MESSAGE=4,io.TYPE_SELFIE=5,io.TYPE_PHOTO=6;class ro{constructor(t){this._issueId=void 0,this._callerUserId=void 0,this._reportedUserId=void 0,this._chatRecordId=void 0,this._chatRecord=void 0,this._issueId=t.readInt(),this._callerUserId=t.readInt(),this._reportedUserId=t.readInt(),this._chatRecordId=t.readInt(),this._chatRecord=new io(t)}get issueId(){return this._issueId}get callerUserId(){return this._callerUserId}get reportedUserId(){return this._reportedUserId}get chatRecordId(){return this._chatRecordId}get chatRecord(){return this._chatRecord}}class no{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new ro(t),!0)}get data(){return this._data}}class ao{constructor(){this._issueId=void 0}flush(){return!0}parse(t){return this._issueId=parseInt(t.readString()),!0}get issueId(){return this._issueId}}class oo{constructor(t,e,s,i,r,n,a,o,h,_,d,u,c,l,g,E){this._issueId=void 0,this._state=void 0,this._categoryId=void 0,this._reportedCategoryId=void 0,this._issueAgeInMilliseconds=void 0,this._priority=void 0,this._groupingId=void 0,this._reporterUserId=void 0,this._reporterUserName=void 0,this._reportedUserId=void 0,this._reportedUserName=void 0,this._pickerUserId=void 0,this._pickerUserName=void 0,this._message=void 0,this._chatRecordId=void 0,this._patterns=void 0,this._disposed=!1,this._creationTimeInMilliseconds=void 0,this._issueId=t,this._state=e,this._categoryId=s,this._reportedCategoryId=i,this._issueAgeInMilliseconds=r,this._priority=n,this._groupingId=a,this._reporterUserId=o,this._reporterUserName=h,this._reportedUserId=_,this._reportedUserName=d,this._pickerUserId=u,this._pickerUserName=c,this._message=l,this._chatRecordId=g,this._patterns=E,this._creationTimeInMilliseconds=lL.instance.time}get issueId(){return this._issueId}get state(){return this._state}get categoryId(){return this._categoryId}get reportedCategoryId(){return this._reportedCategoryId}get issueAgeInMilliseconds(){return this._issueAgeInMilliseconds}get priority(){return this._priority}get groupingId(){return this._groupingId}get reporterUserId(){return this._reporterUserId}get reporterUserName(){return this._reporterUserName}get reportedUserId(){return this._reportedUserId}get reportedUserName(){return this._reportedUserName}get pickerUserId(){return this._pickerUserId}get pickerUserName(){return this._pickerUserName}get message(){return this._message}get chatRecordId(){return this._chatRecordId}get patterns(){return this._patterns}dispose(){if(!this.disposed){for(const t of this._patterns)t.dispose();this._patterns=[],this._disposed=!0}}get disposed(){return this._disposed}getOpenTime(t){const e=(this._issueAgeInMilliseconds+t-this._creationTimeInMilliseconds)/1e3/60,s=e%60,i=e/60;return(i<10?\"0\":\"\")+i+\":\"+((s<10?\"0\":\"\")+s)}}oo.STATE_OPEN=1,oo.STATE_PICKED=2,oo.STATE_CLOSED=3;class ho{constructor(t){this._pattern=void 0,this._startIndex=void 0,this._endIndex=void 0,this._disposed=!1,this._pattern=t.readString(),this._startIndex=t.readInt(),this._endIndex=t.readInt()}dispose(){this._disposed=!0,this._pattern=\"\",this._startIndex=-1,this._endIndex=-1}get disposed(){return this._disposed}get pattern(){return this._pattern}get startIndex(){return this._startIndex}get endIndex(){return this._endIndex}}class _o{constructor(){this._issueData=void 0}get issueData(){return this._issueData}flush(){return this._issueData=null,!0}parse(t){const e=t.readInt(),s=t.readInt(),i=t.readInt(),r=t.readInt(),n=t.readInt(),a=t.readInt(),o=t.readInt(),h=t.readInt(),_=t.readString(),d=t.readInt(),u=t.readString(),c=t.readInt(),l=t.readString(),g=t.readString(),E=t.readInt(),p=t.readInt(),m=[];for(let I=0;I<p;I++)m.push(new ho(t));return this._issueData=new oo(e,s,i,r,n,a,o,h,_,d,u,c,l,g,E,m),!0}}class uo{constructor(){this._issues=void 0,this._retryEnabled=void 0,this._retryCount=void 0}flush(){return this._issues=null,!0}parse(t){this._issues=[];const e=t.readInt();for(let s=0;s<e;s++){const e=t.readInt(),s=t.readInt(),i=t.readString(),r=new oo(e,0,0,0,0,0,0,0,null,0,null,s,i,null,0,[]);this._issues.push(r)}return this._retryEnabled=t.readBoolean(),this._retryCount=t.readInt(),!0}get issues(){return this._issues}get retryEnabled(){return this._retryEnabled}get retryCount(){return this._retryCount}}class co{constructor(){this._message=void 0,this._url=void 0}flush(){return this._message=\"\",this._url=null,!0}parse(t){return!!t&&(this._message=t.readString(),this._url=t.readString(),!0)}get message(){return this._message}get url(){return this._url}}class lo{constructor(){this._userId=void 0,this._success=void 0}flush(){return this._userId=-1,this._success=!1,!0}parse(t){return this._userId=t.readInt(),this._success=t.readBoolean(),!0}get userId(){return this._userId}get success(){return this._success}}class go{constructor(t){this._messageTemplates=void 0,this._roomMessageTemplates=void 0,this._issues=void 0,this._cfhPermission=void 0,this._chatlogsPermission=void 0,this._alertPermission=void 0,this._kickPermission=void 0,this._banPermission=void 0,this._roomAlertPermission=void 0,this._roomKickPermission=void 0,this._disposed=!1;const e=new _o;this._issues=[],this._messageTemplates=[],this._roomMessageTemplates=[];let s=t.readInt(),i=0;for(;i<s;)e.parse(t)&&this._issues.push(e.issueData),i++;for(s=t.readInt(),i=0;i<s;)this._messageTemplates.push(t.readString()),i++;for(s=t.readInt(),i=0;i<s;)t.readString(),i++;for(this._cfhPermission=t.readBoolean(),this._chatlogsPermission=t.readBoolean(),this._alertPermission=t.readBoolean(),this._kickPermission=t.readBoolean(),this._banPermission=t.readBoolean(),this._roomAlertPermission=t.readBoolean(),this._roomKickPermission=t.readBoolean(),s=t.readInt(),i=0;i<s;)this._roomMessageTemplates.push(t.readString()),i++}dispose(){this._disposed||(this._disposed=!0,this._messageTemplates=null,this._roomMessageTemplates=null,this._issues=null)}get disposed(){return this._disposed}get messageTemplates(){return this._messageTemplates}get roomMessageTemplates(){return this._roomMessageTemplates}get issues(){return this._issues}get cfhPermission(){return this._cfhPermission}get chatlogsPermission(){return this._chatlogsPermission}get alertPermission(){return this._alertPermission}get kickPermission(){return this._kickPermission}get banPermission(){return this._banPermission}get roomAlertPermission(){return this._roomAlertPermission}get roomKickPermission(){return this._roomKickPermission}}class Eo{constructor(){this._data=null}flush(){return this._data=null,!0}parse(t){return this._data=new go(t),!0}get data(){return this._data}}class po{constructor(){this._message=void 0,this._url=void 0}flush(){return this._message=\"\",this._url=\"\",!0}parse(t){return!!t&&(this._message=t.readString(),this._url=t.readString(),!0)}get message(){return this._message}get url(){return this._url}}class mo{constructor(t){if(this._exists=void 0,this._name=void 0,this._desc=void 0,this._tags=void 0,this._disposed=void 0,this._tags=[],this._exists=t.readBoolean(),!this.exists)return;this._name=t.readString(),this._desc=t.readString();const e=t.readInt();for(let s=0;s<e;s++)this._tags.push(t.readString())}get name(){return this._name}get desc(){return this._desc}get tags(){return this._tags}get exists(){return this._exists}get disposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._tags=null)}}class Io{constructor(t){this._flatId=void 0,this._userCount=void 0,this._ownerInRoom=void 0,this._ownerId=void 0,this._ownerName=void 0,this._room=void 0,this._disposed=void 0,this._flatId=t.readInt(),this._userCount=t.readInt(),this._ownerInRoom=t.readBoolean(),this._ownerId=t.readInt(),this._ownerName=t.readString(),this._room=new mo(t)}get flatId(){return this._flatId}get userCount(){return this._userCount}get ownerInRoom(){return this._ownerInRoom}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get room(){return this._room}get disposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,null!=this._room&&(this._room.dispose(),this._room=null))}}class fo{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new Io(t),!0)}get data(){return this._data}}class To{constructor(){this._windowX=void 0,this._windowY=void 0,this._windowWidth=void 0,this._windowHeight=void 0}flush(){return this._windowX=0,this._windowY=0,this._windowWidth=0,this._windowHeight=0,!0}parse(t){return this._windowX=t.readInt(),this._windowY=t.readInt(),this._windowWidth=t.readInt(),this._windowHeight=t.readInt(),!0}get windowX(){return this._windowX}get windowY(){return this._windowY}get windowWidth(){return this._windowWidth}get windowHeight(){return this._windowHeight}}class Ro{constructor(t){this._userId=void 0,this._userName=void 0,this._registrationAgeInMinutes=void 0,this._minutesSinceLastLogin=void 0,this._online=void 0,this._cfhCount=void 0,this._abusiveCfhCount=void 0,this._cautionCount=void 0,this._banCount=void 0,this._tradingLockCount=void 0,this._tradingExpiryDate=void 0,this._lastPurchaseDate=void 0,this._identityId=void 0,this._identityRelatedBanCount=void 0,this._primaryEmailAddress=void 0,this._figure=void 0,this._userClassification=void 0,this._lastSanctionTime=\"\",this._sanctionAgeHours=0,this._userId=t.readInt(),this._userName=t.readString(),this._figure=t.readString(),this._registrationAgeInMinutes=t.readInt(),this._minutesSinceLastLogin=t.readInt(),this._online=t.readBoolean(),this._cfhCount=t.readInt(),this._abusiveCfhCount=t.readInt(),this._cautionCount=t.readInt(),this._banCount=t.readInt(),this._tradingLockCount=t.readInt(),this._tradingExpiryDate=t.readString(),this._lastPurchaseDate=t.readString(),this._identityId=t.readInt(),this._identityRelatedBanCount=t.readInt(),this._primaryEmailAddress=t.readString(),this._userClassification=t.readString(),t.bytesAvailable&&(this._lastSanctionTime=t.readString(),this._sanctionAgeHours=t.readInt())}get userId(){return this._userId}get userName(){return this._userName}get figure(){return this._figure}get registrationAgeInMinutes(){return this._registrationAgeInMinutes}get minutesSinceLastLogin(){return this._minutesSinceLastLogin}get online(){return this._online}get cfhCount(){return this._cfhCount}get abusiveCfhCount(){return this._abusiveCfhCount}get cautionCount(){return this._cautionCount}get banCount(){return this._banCount}get tradingLockCount(){return this._tradingLockCount}get tradingExpiryDate(){return this._tradingExpiryDate}get lastPurchaseDate(){return this._lastPurchaseDate}get identityId(){return this._identityId}get identityRelatedBanCount(){return this._identityRelatedBanCount}get primaryEmailAddress(){return this._primaryEmailAddress}get userClassification(){return this._userClassification}get lastSanctionTime(){return this._lastSanctionTime}get sanctionAgeHours(){return this._sanctionAgeHours}}class vo{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new Ro(t),!0)}get data(){return this._data}}class Oo{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new io(t),!0)}get data(){return this._data}}class Ao{constructor(t){this._roomId=void 0,this._roomName=void 0,this._enterHour=void 0,this._enterMinute=void 0,this._roomId=t.readInt(),this._roomName=t.readString(),this._enterHour=t.readInt(),this._enterMinute=t.readInt()}get roomId(){return this._roomId}get roomName(){return this._roomName}get enterHour(){return this._enterHour}get enterMinute(){return this._enterMinute}}class So{constructor(t){this._userId=void 0,this._userName=void 0,this._rooms=void 0,this._rooms=[],this._userId=t.readInt(),this._userName=t.readString();const e=t.readInt();let s=0;for(;s<e;)this._rooms.push(new Ao(t)),s++}get userId(){return this._userId}get userName(){return this._userName}get rooms(){return this._rooms}}class No{constructor(){this._data=void 0}flush(){return!0}parse(t){return this._data=new So(t),!0}get data(){return this._data}}class yo{constructor(){this._message=void 0}flush(){return this._message=\"\",!0}parse(t){return!!t&&(this._message=t.readString(),!0)}get message(){return this._message}}class Do{constructor(t){this._userId=void 0,this._username=void 0,this._roomChatlogs=[],this._userId=t.readInt(),this._username=t.readString();const e=t.readInt();for(let s=0;s<e;s++)this._roomChatlogs.push(new io(t))}get userId(){return this._userId}get username(){return this._username}get roomChatlogs(){return this._roomChatlogs}}class Mo{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new Do(t),!0)}get data(){return this._data}}class Co{constructor(){this._boxColor=void 0,this._keyColor=void 0}flush(){return this._boxColor=null,this._keyColor=null,!0}parse(t){return!!t&&(this._boxColor=t.readString(),this._keyColor=t.readString(),!0)}get boxColor(){return this._boxColor}get keyColor(){return this._keyColor}}class Lo{constructor(){this._canCreate=void 0,this._errorCode=void 0}flush(){return this._canCreate=!1,this._errorCode=0,!0}parse(t){return!!t&&(this._canCreate=t.readBoolean(),this._errorCode=t.readInt(),!0)}get canCreate(){return this._canCreate}get errorCode(){return this._errorCode}}class Uo{constructor(t){if(this._id=void 0,this._name=void 0,this._visible=void 0,this._automatic=void 0,this._automaticCategoryKey=void 0,this._globalCategoryKey=void 0,this._staffOnly=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._id=-1,this._name=null,this._visible=!1,this._automatic=!1,this._automaticCategoryKey=null,this._globalCategoryKey=null,this._staffOnly=!1,!0}parse(t){return!!t&&(this._id=t.readInt(),this._name=t.readString(),this._visible=t.readBoolean(),this._automatic=t.readBoolean(),this._automaticCategoryKey=t.readString(),this._globalCategoryKey=t.readString(),this._staffOnly=t.readBoolean(),!0)}get id(){return this._id}get name(){return this._name}get visible(){return this._visible}get automatic(){return this._automatic}get automaticCategoryKey(){return this._automaticCategoryKey}get globalCategoryKey(){return this._globalCategoryKey}get staffOnly(){return this._staffOnly}}class Po{constructor(){this._categories=void 0}flush(){return this._categories=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._categories.push(new Uo(t)),e--;return!0}get categories(){return this._categories}}class bo{constructor(){this._categories=void 0}flush(){return this._categories=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._categories.push(t.readString()),e--;return!0}get categories(){return this._categories}}class wo{constructor(t){if(this._id=void 0,this._name=void 0,this._visible=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._id=-1,this._name=null,this._visible=!1,!0}parse(t){return!!t&&(this._id=t.readInt(),this._name=t.readString(),this._visible=t.readBoolean(),!0)}get id(){return this._id}get name(){return this._name}get visible(){return this._visible}}class Fo{constructor(){this._categories=void 0}flush(){return this._categories=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._categories.push(new wo(t)),e--;return!0}get categories(){return this._categories}}class xo{constructor(){this._homeRoomId=void 0,this._roomIdToEnter=void 0}flush(){return this._homeRoomId=-1,this._roomIdToEnter=-1,!0}parse(t){return!!t&&(this._homeRoomId=t.readInt(),this._roomIdToEnter=t.readInt(),!0)}get homeRoomId(){return this._homeRoomId}get roomIdToEnter(){return this._roomIdToEnter}}class Bo{constructor(t){if(this._roomId=void 0,this._areaId=void 0,this._image=void 0,this._caption=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._roomId=-1,this._areaId=-1,this._image=null,this._caption=null,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._areaId=t.readInt(),this._image=t.readString(),this._caption=t.readString(),!0)}get roomId(){return this._roomId}get areaId(){return this._areaId}get image(){return this._image}get caption(){return this._caption}}class Go{constructor(){this._rooms=void 0}flush(){return this._rooms=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._rooms.push(new Bo(t)),e--;return!0}get rooms(){return this._rooms}}class Ho{constructor(t){if(this._id=void 0,this._code=void 0,this._filter=void 0,this._localization=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._id=-1,this._code=null,this._filter=null,this._localization=null,!0}parse(t){return!!t&&(this._id=t.readInt(),this._code=t.readString(),this._filter=t.readString(),this._localization=t.readString(),!0)}get id(){return this._id}get code(){return this._code}get filter(){return this._filter}get localization(){return this._localization}}class Vo{constructor(t){if(this._code=void 0,this._savedSearches=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._code=null,this._savedSearches=[],!0}parse(t){if(!t)return!1;this._code=t.readString();let e=t.readInt();for(;e>0;)this._savedSearches.push(new Ho(t)),e--;return!0}get code(){return this._code}get savedSearches(){return this._savedSearches}}class jo{constructor(){this._topLevelContexts=void 0}flush(){return this._topLevelContexts=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._topLevelContexts.push(new Vo(t)),e--;return!0}get topLevelContexts(){return this._topLevelContexts}}class ko{flush(){return!0}parse(t){return!!t}}class zo{constructor(){this._searches=void 0}flush(){return this._searches=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._searches.push(new Ho(t)),e--;return!0}get searches(){return this._searches}}class Yo{constructor(t){if(this._roomId=void 0,this._roomName=void 0,this._showOwner=void 0,this._ownerId=void 0,this._ownerName=void 0,this._doorMode=void 0,this._userCount=void 0,this._maxUserCount=void 0,this._description=void 0,this._tradeMode=void 0,this._score=void 0,this._ranking=void 0,this._categoryId=void 0,this._totalStars=void 0,this._groupId=void 0,this._groupName=void 0,this._groupBadge=void 0,this._tags=void 0,this._bitMask=void 0,this._thumbnail=void 0,this._allowPets=void 0,this._displayAd=void 0,this._adName=void 0,this._adDescription=void 0,this._adExpiresIn=void 0,this._allInRoomMuted=void 0,this._canMute=void 0,this._officialRoomPicRef=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._roomId=0,this._roomName=null,this._ownerId=0,this._ownerName=null,this._doorMode=0,this._userCount=0,this._maxUserCount=0,this._description=null,this._tradeMode=2,this._score=0,this._ranking=0,this._categoryId=0,this._totalStars=0,this._groupId=0,this._groupName=null,this._groupBadge=null,this._tags=[],this._bitMask=0,this._thumbnail=null,this._allowPets=!1,this._showOwner=!0,this._displayAd=!1,this._adName=null,this._adDescription=null,this._adExpiresIn=0,this._allInRoomMuted=!1,this._canMute=!1,this._officialRoomPicRef=null,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._roomName=t.readString(),this._ownerId=t.readInt(),this._ownerName=t.readString(),this._doorMode=t.readInt(),this._userCount=t.readInt(),this._maxUserCount=t.readInt(),this._description=t.readString(),this._tradeMode=t.readInt(),this._score=t.readInt(),this._ranking=t.readInt(),this._categoryId=t.readInt(),this.parseTags(t),this.parseBitMask(t),!0)}parseTags(t){if(!t)return!1;this._tags=[];let e=t.readInt();for(;e>0;)this._tags.push(t.readString()),e--;return!0}parseBitMask(t){return!!t&&(this._bitMask=t.readInt(),this._bitMask&Yo.THUMBNAIL_BITMASK&&(this._officialRoomPicRef=t.readString()),this._bitMask&Yo.GROUPDATA_BITMASK&&(this._groupId=t.readInt(),this._groupName=t.readString(),this._groupBadge=t.readString()),this._bitMask&Yo.ROOMAD_BITMASK&&(this._adName=t.readString(),this._adDescription=t.readString(),this._adExpiresIn=t.readInt()),this._showOwner=(this._bitMask&Yo.SHOWOWNER_BITMASK)>0,this._allowPets=(this._bitMask&Yo.ALLOW_PETS_BITMASK)>0,this._displayAd=(this._bitMask&Yo.DISPLAY_ROOMAD_BITMASK)>0,this._thumbnail=null,!0)}get roomId(){return this._roomId}get roomName(){return this._roomName}set roomName(t){this._roomName=t}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get doorMode(){return this._doorMode}get userCount(){return this._userCount}get maxUserCount(){return this._maxUserCount}get description(){return this._description}get tradeMode(){return this._tradeMode}get score(){return this._score}get ranking(){return this._ranking}get categoryId(){return this._categoryId}get tags(){return this._tags}get officialRoomPicRef(){return this._officialRoomPicRef}get habboGroupId(){return this._groupId}get groupName(){return this._groupName}get groupBadgeCode(){return this._groupBadge}get roomAdName(){return this._adName}get roomAdDescription(){return this._adDescription}get roomAdExpiresInMin(){return this._adExpiresIn}get showOwner(){return this._showOwner}get allowPets(){return this._allowPets}get displayRoomEntryAd(){return this._displayAd}get canMute(){return this._canMute}set canMute(t){this._canMute=t}get allInRoomMuted(){return this._allInRoomMuted}set allInRoomMuted(t){this._allInRoomMuted=t}}Yo.THUMBNAIL_BITMASK=1,Yo.GROUPDATA_BITMASK=2,Yo.ROOMAD_BITMASK=4,Yo.SHOWOWNER_BITMASK=8,Yo.ALLOW_PETS_BITMASK=16,Yo.DISPLAY_ROOMAD_BITMASK=32,Yo.OPEN_STATE=0,Yo.DOORBELL_STATE=1,Yo.PASSWORD_STATE=2,Yo.INVISIBLE_STATE=3,Yo.NOOB_STATE=4;class Wo{constructor(t){if(this._code=void 0,this._data=void 0,this._action=void 0,this._closed=void 0,this._mode=void 0,this._rooms=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._code=null,this._data=null,this._action=-1,this._closed=!1,this._mode=-1,this._rooms=[],!0}parse(t){if(!t)return!1;this._code=t.readString(),this._data=t.readString(),this._action=t.readInt(),this._closed=t.readBoolean(),this._mode=t.readInt();let e=t.readInt();for(;e>0;)this._rooms.push(new Yo(t)),e--;return!0}get code(){return this._code}get data(){return this._data}get action(){return this._action}get closed(){return this._closed}get mode(){return this._mode}get rooms(){return this._rooms}}class Ko{constructor(t){if(this._code=void 0,this._data=void 0,this._results=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._code=null,this._data=null,this._results=[],!0}parse(t){if(!t)return!1;this._code=t.readString(),this._data=t.readString();let e=t.readInt();for(;e>0;)this._results.push(new Wo(t)),e--;return!0}get code(){return this._code}get data(){return this._data}get results(){return this._results}}class Xo{constructor(){this._result=void 0}flush(){return this._result=null,!0}parse(t){return!!t&&(this._result=new Ko(t),!0)}get result(){return this._result}}class qo{constructor(){this._windowX=void 0,this._windowY=void 0,this._windowWidth=void 0,this._windowHeight=void 0,this._leftPanelHidden=void 0,this._resultsMode=void 0}flush(){return this._windowX=0,this._windowY=0,this._windowWidth=0,this._windowHeight=0,this._leftPanelHidden=!1,this._resultsMode=0,!0}parse(t){return!!t&&(this._windowX=t.readInt(),this._windowY=t.readInt(),this._windowWidth=t.readInt(),this._windowHeight=t.readInt(),this._leftPanelHidden=t.readBoolean(),this._resultsMode=t.readInt(),!0)}get windowX(){return this._windowX}get windowY(){return this._windowY}get windowWidth(){return this._windowWidth}get windowHeight(){return this._windowHeight}get leftPanelHidden(){return this._leftPanelHidden}get resultsMode(){return this._resultsMode}}class Qo{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new Qg(t),!0)}get data(){return this._data}}class Zo{constructor(){this._amount=void 0,this._amountChanged=void 0,this._type=void 0}flush(){return this._amount=0,this._amountChanged=0,this._type=-1,!0}parse(t){return!!t&&(this._amount=t.readInt(),this._amountChanged=t.readInt(),this._type=t.readInt(),!0)}get amount(){return this._amount}get amountChanged(){return this._amountChanged}get type(){return this._type}}class Jo{constructor(){this._errorCode=void 0}flush(){return this._errorCode=-1,!0}parse(t){return!!t&&(this._errorCode=t.readInt(),!0)}get errorCode(){return this._errorCode}}class $o{constructor(){this._numGifts=void 0}flush(){return this._numGifts=0,!0}parse(t){return!!t&&(this._numGifts=t.readInt(),!0)}get numGifts(){return this._numGifts}}class th{constructor(){this._message=void 0}flush(){return this._message=null,!0}parse(t){return!!t&&(this._message=t.readString(),!0)}get message(){return this._message}}class eh{constructor(){this._enabled=void 0}flush(){return this._enabled=!1,!0}parse(t){return!!t&&(this._enabled=t.readBoolean(),!0)}get enabled(){return this._enabled}}class sh{constructor(){this._messages=void 0}flush(){return this._messages=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._messages.push(t.readString()),e--;return!0}get messages(){return this._messages}}class ih{constructor(){this._type=void 0,this._parameters=void 0}flush(){return this._type=null,this._parameters=new Map,!0}parse(t){if(!t)return!1;this._type=t.readString();let e=t.readInt();for(;e>0;)this._parameters.set(t.readString(),t.readString()),e--;return!0}get type(){return this._type}get parameters(){return this._parameters}}class rh{constructor(){this._petId=void 0,this._petName=void 0,this._level=void 0,this._figureData=void 0}flush(){return this._petId=-1,this._petName=null,this._level=0,this._figureData=null,!0}parse(t){return!!t&&(this._petId=t.readInt(),this._petName=t.readString(),this._level=t.readInt(),this._figureData=new sr(t),!0)}get petId(){return this._petId}get petName(){return this._petName}get level(){return this._level}get figureData(){return this._figureData}}class nh{constructor(){this._errorCode=void 0}flush(){return this._errorCode=-1,!0}parse(t){return!!t&&(this._errorCode=t.readInt(),!0)}get errorCode(){return this._errorCode}}class ah{constructor(){this._items=void 0}flush(){return this._items=new U,!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=t.readInt();let i=t.readInt();const r=[];for(;i>0;)r.push(t.readInt()),i--;this._items.add(s,r),e--}return!0}getItemsByCategory(t){return this._items.getValue(t)}get categories(){return this._items.getKeys()}}class oh{constructor(t,e,s){this._code=void 0,this._errorMessage=void 0,this._isAllowed=void 0,this._code=t,this._errorMessage=e,this._isAllowed=s}get code(){return this._code}get errorMessage(){return this._errorMessage}get isAllowed(){return this._isAllowed}}class hh{}hh.USE_GUIDE_TOOL=\"USE_GUIDE_TOOL\",hh.GIVE_GUIDE_TOUR=\"GIVE_GUIDE_TOUR\",hh.JUDGE_CHAT_REVIEWS=\"JUDGE_CHAT_REVIEWS\",hh.VOTE_IN_COMPETITIONS=\"VOTE_IN_COMPETITIONS\",hh.CALL_ON_HELPERS=\"CALL_ON_HELPERS\",hh.CITIZEN=\"CITIZEN\",hh.TRADE=\"TRADE\",hh.HEIGHTMAP_EDITOR_BETA=\"HEIGHTMAP_EDITOR_BETA\",hh.BUILDER_AT_WORK=\"BUILDER_AT_WORK\",hh.NAVIGATOR_ROOM_THUMBNAIL_CAMERA=\"NAVIGATOR_ROOM_THUMBNAIL_CAMERA\",hh.CAMERA=\"CAMERA\",hh.MOUSE_ZOOM=\"MOUSE_ZOOM\";class _h{constructor(){this._perks=void 0}flush(){return this._perks=[],!0}parse(t){if(!t)return!1;this._perks=[];const e=t.readInt();for(let s=0;s<e;s++)this._perks.push(new oh(t.readString(),t.readString(),t.readBoolean()));return!0}isAllowed(t){let e=!1;for(const s of this._perks)if(s.code===t){e=s.isAllowed;break}return e}get perks(){return this._perks}}class dh{constructor(t,e,s){this._value=void 0,this._choiceText=void 0,this._choiceType=void 0,this._value=t,this._choiceText=e,this._choiceType=s}get value(){return this._value}set value(t){this._value=t}get choiceText(){return this._choiceText}set choiceText(t){this._choiceText=t}get choiceType(){return this._choiceType}set choiceType(t){this._choiceType=t}}class uh{constructor(){this._questionId=void 0,this._questionType=void 0,this._sortOrder=void 0,this._questionCategory=void 0,this._questionText=void 0,this._questionAnswerType=void 0,this._questionAnswerCount=void 0,this._children=void 0,this._questionChoices=void 0,this._children=[],this._questionChoices=[]}get questionId(){return this._questionId}set questionId(t){this._questionId=t}get questionType(){return this._questionType}set questionType(t){this._questionType=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get questionText(){return this._questionText}set questionText(t){this._questionText=t}get questionCategory(){return this._questionCategory}set questionCategory(t){this._questionCategory=t}get questionAnswerType(){return this._questionAnswerType}set questionAnswerType(t){this._questionAnswerType=t}get questionAnswerCount(){return this._questionAnswerCount}set questionAnswerCount(t){this._questionAnswerCount=t}get children(){return this._children}set children(t){this._children=t}get questionChoices(){return this._questionChoices}set questionChoices(t){this._questionChoices=t}}class ch{constructor(){this._id=-1,this._startMessage=\"\",this._endMessage=\"\",this._numQuestions=0,this._questionArray=[],this._npsPoll=!1}flush(){return this._id=-1,this._startMessage=\"\",this._endMessage=\"\",this._numQuestions=0,this._questionArray=[],!0}parse(t){this._id=t.readInt(),this._startMessage=t.readString(),this._endMessage=t.readString(),this._numQuestions=t.readInt();for(let e=0;e<this._numQuestions;e++){const e=this.parsePollQuestion(t),s=t.readInt();for(let i=0;i<s;i++)e.children.push(this.parsePollQuestion(t));this._questionArray.push(e)}return this._npsPoll=t.readBoolean(),!0}parsePollQuestion(t){const e=new uh;if(e.questionId=t.readInt(),e.sortOrder=t.readInt(),e.questionType=t.readInt(),e.questionText=t.readString(),e.questionCategory=t.readInt(),e.questionAnswerType=t.readInt(),e.questionAnswerCount=t.readInt(),1==e.questionType||2==e.questionType)for(let s=0;s<e.questionAnswerCount;s++)e.questionChoices.push(new dh(t.readString(),t.readString(),t.readInt()));return e}get id(){return this._id}get startMessage(){return this._startMessage}get endMessage(){return this._endMessage}get numQuestions(){return this._numQuestions}get questionArray(){return this._questionArray}get npsPoll(){return this._npsPoll}}class lh{flush(){throw!0}parse(t){return!0}}class gh{constructor(){this._id=-1,this._type=\"\",this._headline=\"\",this._summary=\"\"}flush(){return this._id=-1,this._type=\"\",this._summary=\"\",!0}parse(t){return this._id=t.readInt(),this._type=t.readString(),this._headline=t.readString(),this._summary=t.readString(),!0}get id(){return this._id}get type(){return this._type}get headline(){return this._headline}get summary(){return this._summary}}class Eh{constructor(){this._userId=void 0,this._value=void 0,this._answerCounts=void 0}flush(){return this._userId=-1,this._value=\"\",this._answerCounts=null,!0}parse(t){this._userId=t.readInt(),this._value=t.readString(),this._answerCounts=new Map;const e=t.readInt();for(let s=0;s<e;s++){const e=t.readString(),s=t.readInt();this._answerCounts.set(e,s)}return!0}get userId(){return this._userId}get value(){return this._value}get answerCounts(){return this._answerCounts}}class ph{constructor(){this._questionId=void 0,this._answerCounts=void 0}flush(){return this._questionId=-1,this._answerCounts=null,!0}parse(t){this._questionId=t.readInt(),this._answerCounts=new Map;const e=t.readInt();for(let s=0;s<e;s++){const e=t.readString(),s=t.readInt();this._answerCounts.set(e,s)}return!0}get questionId(){return this._questionId}get answerCounts(){return this._answerCounts}}class mh{constructor(){this._pollType=null,this._pollId=-1,this._questionId=-1,this._duration=-1,this._question=null}flush(){return this._pollType=null,this._pollId=-1,this._questionId=-1,this._duration=-1,this._question=null,!0}parse(t){this._pollType=t.readString(),this._pollId=t.readInt(),this._questionId=t.readInt(),this._duration=t.readInt();const e=t.readInt(),s=t.readInt(),i=t.readInt(),r=t.readString();if(this._question={id:e,number:s,type:i,content:r},1==this._question.type||2==this._question.type){this._question.selection_min=t.readInt();const e=t.readInt();this._question.selections=[],this._question.selection_values=[],this._question.selection_count=e,this._question.selection_max=e;for(let s=0;s<e;s++)this._question.selection_values.push(t.readString()),this._question.selections.push(t.readString())}return!0}get pollType(){return this._pollType}get pollId(){return this._pollId}get questionId(){return this._questionId}get duration(){return this._duration}get question(){return this._question}}class Ih{constructor(t){this._communityGoalId=void 0,this._communityGoalCode=void 0,this._userRank=void 0,this._rewardCode=void 0,this._badge=void 0,this._localizedName=void 0,this._communityGoalId=t.readInt(),this._communityGoalCode=t.readString(),this._userRank=t.readInt(),this._rewardCode=t.readString(),this._badge=t.readBoolean(),this._localizedName=t.readString()}get communityGoalId(){return this._communityGoalId}get communityGoalCode(){return this._communityGoalCode}get userRank(){return this._userRank}get rewardCode(){return this._rewardCode}get badge(){return this._badge}get localizedName(){return this._localizedName}}class fh{constructor(){this._prizes=void 0}flush(){return this._prizes=[],!0}parse(t){if(!t)return!1;const e=t.readInt();for(let s=0;s<e;s++)this._prizes.push(new Ih(t));return!0}get prizes(){return this._prizes}}class Th{constructor(t){this._userId=void 0,this._userName=void 0,this._figure=void 0,this._rank=void 0,this._currentScore=void 0,this._userId=t.readInt(),this._userName=t.readString(),this._figure=t.readString(),this._rank=t.readInt(),this._currentScore=t.readInt()}get userId(){return this._userId}get userName(){return this._userName}get figure(){return this._figure}get rank(){return this._rank}get currentScore(){return this._currentScore}}class Rh{constructor(t){this._goalCode=void 0,this._hof=void 0,this._hof=[],this._goalCode=t.readString();const e=t.readInt();for(let s=0;s<e;s++)this._hof.push(new Th(t))}dispose(){this._hof=null}get disposed(){return null==this._hof}get hof(){return this._hof}get goalCode(){return this._goalCode}}class vh{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new Rh(t),!0)}get data(){return this._data}}class Oh{constructor(t){this._hasGoalExpired=void 0,this._personalContributionScore=void 0,this._personalContributionRank=void 0,this._communityTotalScore=void 0,this._communityHighestAchievedLevel=void 0,this._scoreRemainingUntilNextLevel=void 0,this._percentCompletionTowardsNextLevel=void 0,this._goalCode=void 0,this._timeRemainingInSeconds=void 0,this._rewardUserLimits=void 0,this._rewardUserLimits=[],this._hasGoalExpired=t.readBoolean(),this._personalContributionScore=t.readInt(),this._personalContributionRank=t.readInt(),this._communityTotalScore=t.readInt(),this._communityHighestAchievedLevel=t.readInt(),this._scoreRemainingUntilNextLevel=t.readInt(),this._percentCompletionTowardsNextLevel=t.readInt(),this._goalCode=t.readString(),this._timeRemainingInSeconds=t.readInt();const e=t.readInt();for(let s=0;s<e;s++)this._rewardUserLimits.push(t.readInt())}dispose(){this._rewardUserLimits=null}get disposed(){return null==this._rewardUserLimits}get hasGoalExpired(){return this._hasGoalExpired}get personalContributionScore(){return this._personalContributionScore}get personalContributionRank(){return this._personalContributionRank}get communityTotalScore(){return this._communityTotalScore}get communityHighestAchievedLevel(){return this._communityHighestAchievedLevel}get scoreRemainingUntilNextLevel(){return this._scoreRemainingUntilNextLevel}get percentCompletionTowardsNextLevel(){return this._percentCompletionTowardsNextLevel}get timeRemainingInSeconds(){return this._timeRemainingInSeconds}get rewardUserLimits(){return this._rewardUserLimits}get goalCode(){return this._goalCode}}class Ah{constructor(){this._data=void 0}flush(){return this._data=null,!0}parse(t){return!!t&&(this._data=new Oh(t),!0)}get data(){return this._data}}class Sh{constructor(){this._state=void 0,this._userCount=void 0,this._userCountGoal=void 0}flush(){return this._state=-1,this._userCount=-1,this._userCountGoal=-1,!0}parse(t){return!!t&&(this._state=t.readInt(),this._userCount=t.readInt(),this._userCountGoal=t.readInt(),!0)}get state(){return this._state}get userCount(){return this._userCount}get userCountGoal(){return this._userCountGoal}}class Nh{constructor(){this._imageUri=void 0}flush(){return this._imageUri=\"\",!0}parse(t){return!!t&&(this._imageUri=t.readString(),!0)}get imageUri(){return this._imageUri}}class yh{constructor(){this._expired=void 0}flush(){return!0}parse(t){return!!t&&(this._expired=t.readBoolean(),!0)}get expired(){return this._expired}}class Dh{constructor(t){this._campaignCode=void 0,this._completedQuestsInCampaign=void 0,this._questCountInCampaign=void 0,this._activityPointType=void 0,this._id=void 0,this._accepted=void 0,this._type=void 0,this._imageVersion=void 0,this._rewardCurrencyAmount=void 0,this._localizationCode=void 0,this._completedSteps=void 0,this._totalSteps=void 0,this._waitPeriodSeconds=void 0,this._sortOrder=void 0,this._catalogPageName=void 0,this._chainCode=void 0,this._easy=void 0,this._receiveTime=void 0,this._receiveTime=new Date,this._campaignCode=t.readString(),this._completedQuestsInCampaign=t.readInt(),this._questCountInCampaign=t.readInt(),this._activityPointType=t.readInt(),this._id=t.readInt(),this._accepted=t.readBoolean(),this._type=t.readString(),this._imageVersion=t.readString(),this._rewardCurrencyAmount=t.readInt(),this._localizationCode=t.readString(),this._completedSteps=t.readInt(),this._totalSteps=t.readInt(),this._sortOrder=t.readInt(),this._catalogPageName=t.readString(),this._chainCode=t.readString(),this._easy=t.readBoolean()}static getCampaignLocalizationKeyForCode(t){return\"quests.\"+t}get campaignCode(){return this._campaignCode}get localizationCode(){return this._localizationCode}get completedQuestsInCampaign(){return this._completedQuestsInCampaign}get questCountInCampaign(){return this._questCountInCampaign}get activityPointType(){return this._activityPointType}set accepted(t){this._accepted=t}get accepted(){return this._accepted}set id(t){this._id=t}get id(){return this._id}get type(){return this._type}get imageVersion(){return this._imageVersion}get rewardCurrencyAmount(){return this._rewardCurrencyAmount}get completedSteps(){return this._completedSteps}get totalSteps(){return this._totalSteps}get isCompleted(){return this._completedSteps==this._totalSteps}set waitPeriodSeconds(t){this._waitPeriodSeconds=t}get waitPeriodSeconds(){if(this._waitPeriodSeconds<1)return 0;const t=(new Date).getTime()-this._receiveTime.getTime();return Math.max(0,this._waitPeriodSeconds-Math.floor(t/1e3))}getCampaignLocalizationKey(){return Dh.getCampaignLocalizationKeyForCode(this.campaignCode)}getQuestLocalizationKey(){return this.getCampaignLocalizationKey()+\".\"+this._localizationCode}get completedCampaign(){return this._id<1}get lastQuestInCampaign(){return this._completedQuestsInCampaign>=this._questCountInCampaign}get receiveTime(){return this._receiveTime}get sortOrder(){return this._sortOrder}get catalogPageName(){return this._catalogPageName}get chainCode(){return this._chainCode}get easy(){return this._easy}}class Mh{constructor(){this._questData=void 0,this._showDialog=void 0}flush(){return this._questData=null,!0}parse(t){return!!t&&(this._questData=new Dh(t),this._showDialog=t.readBoolean(),!0)}get questData(){return this._questData}get showDialog(){return this._showDialog}}class Ch{constructor(){this._quest=void 0,this._easyQuestCount=void 0,this._hardQuestCount=void 0}flush(){return this._quest=null,!0}parse(t){if(!t)return!1;return t.readBoolean()&&(this._quest=new Dh(t),this._easyQuestCount=t.readInt(),this._hardQuestCount=t.readInt()),!0}get quest(){return this._quest}get easyQuestCount(){return this._easyQuestCount}get hardQuestCount(){return this._hardQuestCount}}class Lh{constructor(){this._quest=void 0}flush(){return this._quest=null,!0}parse(t){return!!t&&(this._quest=new Dh(t),!0)}get quest(){return this._quest}}class Uh{constructor(){this._quests=void 0,this._openWindow=void 0}flush(){return this._quests=[],!0}parse(t){if(!t)return!1;const e=t.readInt();for(let s=0;s<e;s++)this._quests.push(new Dh(t));return this._openWindow=t.readBoolean(),!0}get quests(){return this._quests}get openWindow(){return this._openWindow}}class Ph{constructor(){this._quests=void 0}flush(){return this._quests=[],!0}parse(t){if(!t)return!1;const e=t.readInt();for(let s=0;s<e;s++)this._quests.push(new Dh(t));return!0}get quests(){return this._quests}}class bh{constructor(){this._reason=void 0,this._parameter=void 0}flush(){return this._reason=0,this._parameter=\"\",!0}parse(t){return!!t&&(this._reason=t.readInt(),this._parameter=t.readString(),!0)}get reason(){return this._reason}get parameter(){return this._parameter}}bh.REASON_FULL=1,bh.REASON_CLOSED=2,bh.REASON_QUEUE_ERROR=3,bh.REASON_BANNED=4;class wh{constructor(){this._userName=void 0}flush(){return this._userName=null,!0}parse(t){return!!t&&(this._userName=t.readString(),!0)}get userName(){return this._userName}}class Fh{constructor(){this._userName=void 0}flush(){return this._userName=null,!0}parse(t){return!!t&&(this._userName=t.readString(),!0)}get userName(){return this._userName}}class xh{constructor(){this._userName=void 0}flush(){return this._userName=null,!0}parse(t){return!!t&&(this._userName=t.readString(),!0)}get userName(){return this._userName}}class Bh{flush(){return!0}parse(t){return!!t}}class Gh{flush(){return!0}parse(t){return!!t}}class Hh{}Hh.NONE=0,Hh.GUEST=1,Hh.GUILD_MEMBER=2,Hh.GUILD_ADMIN=3,Hh.ROOM_OWNER=4,Hh.MODERATOR=5;class Vh{constructor(){this._controllerLevel=void 0}flush(){return this._controllerLevel=Hh.NONE,!0}parse(t){return!!t&&(this._controllerLevel=t.readInt(),!0)}get controllerLevel(){return this._controllerLevel}}class jh{flush(){return!0}parse(t){return!!t}}class kh{constructor(){this._roomId=void 0}flush(){return this._roomId=0,!0}parse(t){return!!t&&(this._roomId=t.readInt(),!0)}get roomId(){return this._roomId}}class zh{constructor(){this._botId=void 0,this._commandId=void 0,this._data=void 0}flush(){return this._botId=-1,this._commandId=-1,this._data=\"\",!0}parse(t){return!!t&&(this._botId=t.readInt(),this._commandId=t.readInt(),this._data=t.readString(),!0)}get botId(){return this._botId}get commandId(){return this._commandId}get data(){return this._data}}class Yh{constructor(t){if(this._mode=void 0,this._weight=void 0,this._speed=void 0,this._distance=void 0,this._protection=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._mode=0,this._weight=0,this._speed=0,this._distance=0,this._protection=0,!0}parse(t){return!!t&&(this._mode=t.readInt(),this._weight=t.readInt(),this._speed=t.readInt(),this._distance=t.readInt(),this._protection=t.readInt(),!0)}get mode(){return this._mode}get weight(){return this._weight}get speed(){return this._speed}get distance(){return this._distance}get protection(){return this._protection}}Yh.CHAT_MODE_FREE_FLOW=0,Yh.CHAT_MODE_LINE_BY_LINE=1,Yh.CHAT_BUBBLE_WIDTH_WIDE=0,Yh.CHAT_BUBBLE_WIDTH_NORMAL=1,Yh.CHAT_BUBBLE_WIDTH_THIN=2,Yh.CHAT_SCROLL_SPEED_FAST=0,Yh.CHAT_SCROLL_SPEED_NORMAL=1,Yh.CHAT_SCROLL_SPEED_SLOW=2,Yh.FLOOD_FILTER_STRICT=0,Yh.FLOOD_FILTER_NORMAL=1,Yh.FLOOD_FILTER_LOOSE=2;class Wh{constructor(){this._chat=void 0}flush(){return this._chat=null,!0}parse(t){return!!t&&(this._chat=new Yh(t),!0)}get chat(){return this._chat}}class Kh{constructor(){this._roomId=void 0,this._isOwner=void 0}flush(){return this._roomId=0,this._isOwner=!1,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._isOwner=t.readBoolean(),!0)}get roomId(){return this._roomId}get isOwner(){return this._isOwner}}class Xh{constructor(t){this._allowMute=void 0,this._allowKick=void 0,this._allowBan=void 0,this.reset(),this.parse(t)}reset(){this._allowMute=0,this._allowKick=0,this._allowBan=0}parse(t){this._allowMute=t.readInt(),this._allowKick=t.readInt(),this._allowBan=t.readInt()}get allowMute(){return this._allowMute}get allowKick(){return this._allowKick}get allowBan(){return this._allowBan}}Xh.MODERATION_LEVEL_NONE=0,Xh.MODERATION_LEVEL_USER_WITH_RIGHTS=1,Xh.MODERATION_LEVEL_ALL=2;class qh{constructor(){this._roomEnter=void 0,this._roomForward=void 0,this._data=void 0,this._staffPick=void 0,this._isGroupMember=void 0,this._moderation=void 0,this._chat=void 0}flush(){return this._roomEnter=!1,this._roomForward=!1,this._data=null,this._staffPick=!1,this._isGroupMember=!1,this._moderation=null,this._chat=null,!0}parse(t){return!!t&&(this._roomEnter=t.readBoolean(),this._data=new Yo(t),this._roomForward=t.readBoolean(),this._staffPick=t.readBoolean(),this._isGroupMember=t.readBoolean(),this.data.allInRoomMuted=t.readBoolean(),this._moderation=new Xh(t),this.data.canMute=t.readBoolean(),this._chat=new Yh(t),!0)}get roomEnter(){return this._roomEnter}get roomForward(){return this._roomForward}get data(){return this._data}get staffPick(){return this._staffPick}get isGroupMember(){return this._isGroupMember}get moderation(){return this._moderation}get chat(){return this._chat}}class Qh{constructor(){this._totalLikes=void 0,this._canLike=void 0}flush(){return this._totalLikes=0,this._canLike=!1,!0}parse(t){return!!t&&(this._totalLikes=t.readInt(),this._canLike=t.readBoolean(),!0)}get totalLikes(){return this._totalLikes}get canLike(){return this._canLike}}class Zh{constructor(){this._roomId=void 0,this._code=void 0,this._message=void 0}flush(){return this._roomId=0,this._code=0,this._message=null,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._code=t.readInt(),this._message=t.readString(),!0)}get roomId(){return this._roomId}get code(){return this._code}get message(){return this._message}}class Jh{constructor(){this._roomId=void 0,this._name=void 0,this._description=void 0,this._state=void 0,this._categoryId=void 0,this._userCount=void 0,this._maxUserCount=void 0,this._tags=void 0,this._tradeMode=void 0,this._allowPets=void 0,this._allowPetsEat=void 0,this._allowWalkthrough=void 0,this._hideWalls=void 0,this._thicknessWall=void 0,this._thicknessFloor=void 0,this._chat=void 0,this._moderation=void 0}flush(){return this._roomId=0,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._name=t.readString(),this._description=t.readString(),this._state=t.readInt(),this._categoryId=t.readInt(),this._userCount=t.readInt(),this._maxUserCount=t.readInt(),this.parseTags(t),this._tradeMode=t.readInt(),this._allowPets=t.readInt(),this._allowPetsEat=t.readInt(),this._allowWalkthrough=t.readInt(),this._hideWalls=t.readInt(),this._thicknessWall=t.readInt(),this._thicknessFloor=t.readInt(),this._chat=new Yh(t),t.readBoolean(),this._moderation=new Xh(t),!0)}parseTags(t){if(!t)return!1;this._tags=[];let e=t.readInt();for(;e>0;)this._tags.push(t.readString()),e--;return!0}get roomId(){return this._roomId}get name(){return this._name}get description(){return this._description}get state(){return this._state}get categoryId(){return this._categoryId}get userCount(){return this._userCount}get maxUserCount(){return this._maxUserCount}get tags(){return this._tags}get tradeMode(){return this._tradeMode}get allowPets(){return 1===this._allowPets}get allowPetsEat(){return 1===this._allowPetsEat}get allowWalkthrough(){return 1===this._allowWalkthrough}get hideWalls(){return 1===this._hideWalls}get thicknessWall(){return this._thicknessWall}get thicknessFloor(){return this._thicknessFloor}get chatSettings(){return this._chat}get moderationSettings(){return this._moderation}}class $h{constructor(){this._roomId=void 0}flush(){return this._roomId=0,!0}parse(t){return!!t&&(this._roomId=t.readInt(),!0)}get roomId(){return this._roomId}}class t_{constructor(){this._roomId=void 0}flush(){return this._roomId=0,!0}parse(t){return!!t&&(this._roomId=t.readInt(),!0)}get roomId(){return this._roomId}}class e_{constructor(){this._roomIndex=void 0,this._groupId=void 0,this._status=void 0,this._groupName=void 0}flush(){return this._roomIndex=-1,this._groupId=-1,this._status=0,this._groupName=null,!0}parse(t){return!!t&&(this._roomIndex=t.readInt(),this._groupId=t.readInt(),this._status=t.readInt(),this._groupName=t.readString(),!0)}get roomIndex(){return this._roomIndex}get groupId(){return this._groupId}get status(){return this._status}get groupName(){return this._groupName}}class s_{constructor(t,e,s){this._id=0,this._state=0,this._data=void 0,this._id=t,this._state=e,this._data=s}get id(){return this._id}get state(){return this._state}get data(){return this._data}}class i_{constructor(){this._objects=void 0}flush(){return this._objects=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=t.readInt(),i=fa.parseObjectData(t),r=parseFloat(i.getLegacyString());this._objects.push(new s_(s,r,i)),e--}return!0}get objects(){return this._objects}}class r_{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._id=void 0,this._location=void 0,this._targetLocation=void 0,this._movementType=void 0,this._id=t,this._location=e,this._targetLocation=s,this._movementType=i}get id(){return this._id}get location(){return this._location}get targetLocation(){return this._targetLocation}get movementType(){return this._movementType}}r_.MOVE=\"mv\",r_.SLIDE=\"sld\";class n_{constructor(){this._rollerId=void 0,this._itemsRolling=void 0,this._unitRolling=void 0}flush(){return this._rollerId=0,this._itemsRolling=[],this._unitRolling=null,!0}parse(t){if(!t)return!1;const e=t.readInt(),s=t.readInt(),i=t.readInt(),r=t.readInt();let n=t.readInt();for(;n>0;){const a=t.readInt(),o=parseFloat(t.readString()),h=parseFloat(t.readString()),_=new r_(a,new dt(e,s,o),new dt(i,r,h));this._itemsRolling.push(_),n--}if(this._rollerId=t.readInt(),!t.bytesAvailable)return!0;const a=t.readInt(),o=t.readInt(),h=parseFloat(t.readString()),_=parseFloat(t.readString());switch(a){case 0:break;case 1:this._unitRolling=new r_(o,new dt(e,s,h),new dt(i,r,_),r_.MOVE);break;case 2:this._unitRolling=new r_(o,new dt(e,s,h),new dt(i,r,_),r_.SLIDE)}return!0}get rollerId(){return this._rollerId}get itemsRolling(){return this._itemsRolling}get unitRolling(){return this._unitRolling}}class a_{constructor(){this._roomId=void 0,this._roomName=void 0}flush(){return this._roomId=-1,this._roomName=null,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._roomName=t.readString(),!0)}get roomId(){return this._roomId}get roomName(){return this._roomName}}class o_{constructor(){this._itemId=void 0,this._value=void 0}flush(){return this._itemId=0,this._value=0,!0}parse(t){return!!t&&(this._itemId=t.readInt(),this._value=t.readInt(),!0)}get itemId(){return this._itemId}get value(){return this._value}}class h_{constructor(t){if(this._itemId=void 0,this._spriteId=void 0,this._spriteName=void 0,this._x=void 0,this._y=void 0,this._direction=void 0,this._z=void 0,this._stackHeight=void 0,this._extra=void 0,this._data=void 0,this._state=void 0,this._expires=void 0,this._usagePolicy=void 0,this._userId=void 0,this._username=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._itemId=0,this._spriteId=0,this._spriteName=null,this._x=0,this._y=0,this._direction=0,this._z=0,this._stackHeight=0,this._extra=0,this._data=null,this._state=0,this._expires=0,this._usagePolicy=0,this._userId=0,this._username=null,!0}parse(t){return!!t&&(this._itemId=t.readInt(),this._spriteId=t.readInt(),this._x=t.readInt(),this._y=t.readInt(),this._direction=t.readInt()%8*45,this._z=parseFloat(t.readString()),this._stackHeight=parseFloat(t.readString()),this._extra=t.readInt(),this._data=fa.parseObjectData(t),this._state=parseFloat(this._data&&this._data.getLegacyString())||0,this._expires=t.readInt(),this._usagePolicy=t.readInt(),this._userId=t.readInt(),this._username=null,this._spriteId<0&&(this._spriteName=t.readString()),!0)}get itemId(){return this._itemId}get spriteId(){return this._spriteId}get x(){return this._x}get y(){return this._y}get direction(){return this._direction}get z(){return isNaN(this._z)?0:this._z}get stackHeight(){return isNaN(this._stackHeight)?0:this._stackHeight}get extra(){return this._extra}get data(){return this._data}get state(){return this._state}get expires(){return this._expires}get usagePolicy(){return this._usagePolicy}get userId(){return this._userId}get username(){return this._username}set username(t){this._username=t}get spriteName(){return this._spriteName}set spriteName(t){this._spriteName=t}}class __{constructor(){this._item=void 0}flush(){return this._item=null,!0}parse(t){return!!t&&(this._item=new h_(t),this._item.username=t.readString(),!0)}get item(){return this._item}}class d_{constructor(){this._owners=void 0,this._items=void 0}flush(){return this._owners=new Map,this._items=[],!0}parse(t){if(!t)return!1;if(!this.parseOwners(t))return!1;let e=t.readInt();for(;e>0;){const s=new h_(t);if(!s)continue;const i=this._owners.get(s.userId);i&&(s.username=i),this._items.push(s),e--}return!0}parseOwners(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._owners.set(t.readInt(),t.readString()),e--;return!0}get owners(){return this._owners}get items(){return this._items}}class u_{constructor(){this._itemId=void 0,this._isExpired=void 0,this._userId=void 0,this._delay=void 0}flush(){return this._itemId=0,this._isExpired=!0,this._userId=0,this._delay=0,!0}parse(t){return!!t&&(this._itemId=parseInt(t.readString()),this._isExpired=t.readBoolean(),this._userId=t.readInt(),this._delay=t.readInt(),!0)}get itemId(){return this._itemId}get isExpired(){return this._isExpired}get userId(){return this._userId}get delay(){return this._delay}}class c_{constructor(){this._item=void 0}flush(){return this._item=null,!0}parse(t){return!!t&&(this._item=new h_(t),!0)}get item(){return this._item}}class l_{constructor(){this._aliases=void 0}flush(){return this._aliases=new Map,!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._aliases.set(t.readString(),t.readString()),e--;return!0}get aliases(){return this._aliases}}class g_{constructor(){this._furniId=void 0,this._height=void 0}flush(){return this._furniId=-1,this._height=0,!0}parse(t){return!!t&&(this._furniId=t.readInt(),this._height=t.readInt()/100,!0)}get furniId(){return this._furniId}get height(){return this._height}}class E_{constructor(){this._objectId=void 0,this._guildId=void 0,this._guildName=void 0,this._guildHomeRoomId=void 0,this._userIsMember=void 0,this._guildHasReadableForum=void 0}flush(){return this._objectId=0,this._guildId=0,this._guildName=null,this._guildHomeRoomId=0,this._userIsMember=!1,this._guildHasReadableForum=!1,!0}parse(t){return!!t&&(this._objectId=t.readInt(),this._guildId=t.readInt(),this._guildName=t.readString(),this._guildHomeRoomId=t.readInt(),this._userIsMember=t.readBoolean(),this._guildHasReadableForum=t.readBoolean(),!0)}get objectId(){return this._objectId}get guildId(){return this._guildId}get guildName(){return this._guildName}get guildHomeRoomId(){return this._guildHomeRoomId}get userIsMember(){return this._userIsMember}get guildHasReadableForum(){return this._guildHasReadableForum}}class p_{constructor(){this._itemId=void 0,this._data=void 0}flush(){return this._itemId=0,this._data=\"\",!0}parse(t){return!!t&&(this._itemId=parseInt(t.readString()),this._data=t.readString(),!0)}get furnitureId(){return this._itemId}get data(){return this._data}}class m_{constructor(){this._furniId=void 0}get furniId(){return this._furniId}flush(){return this._furniId=-1,!0}parse(t){return this._furniId=t.readInt(),!0}}class I_{constructor(){this._furniId=void 0}get furniId(){return this._furniId}flush(){return this._furniId=-1,!0}parse(t){return this._furniId=t.readInt(),!0}}class f_{constructor(){this._furniId=void 0,this._start=void 0}get furniId(){return this._furniId}get start(){return this._start}flush(){return this._furniId=-1,this._start=!1,!0}parse(t){return this._furniId=t.readInt(),this._start=t.readBoolean(),!0}}class T_{constructor(){this._itemId=void 0,this._state=void 0}flush(){return this._itemId=0,this._state=0,!0}parse(t){return!!t&&(this._itemId=t.readInt(),this._state=t.readInt(),!0)}get itemId(){return this._itemId}get state(){return this._state}}class R_{constructor(t,e,s,i){this.id=t,this.type=e,this.color=s,this.brightness=i}}class v_{constructor(){this._selectedPresetId=void 0,this._presets=void 0,this._selectedPresetId=0,this._presets=[]}flush(){return this._presets=[],!0}parse(t){const e=t.readInt();this._selectedPresetId=t.readInt();for(let s=0;s<e;s++){const e=t.readInt(),s=t.readInt(),i=parseInt(t.readString().substr(1),16),r=t.readInt();this._presets.push(new R_(e,s,i,r))}return!0}getPreset(t){return t<0||t>=this.presetCount?null:this._presets[t]}get presetCount(){return this._presets.length}get selectedPresetId(){return this._selectedPresetId}}class O_{constructor(t){if(this._itemId=void 0,this._spriteId=void 0,this._location=void 0,this._stuffData=void 0,this._state=void 0,this._secondsToExpiration=void 0,this._usagePolicy=void 0,this._userId=void 0,this._username=void 0,this._width=void 0,this._height=void 0,this._localX=void 0,this._localY=void 0,this._y=void 0,this._z=void 0,this._direction=void 0,this._isOldFormat=void 0,!t)throw new Error(\"invalid_wrapper\");this.flush(),this.parse(t)}flush(){return this._itemId=0,this._spriteId=0,this._location=null,this._stuffData=null,this._state=0,this._secondsToExpiration=0,this._usagePolicy=-1,this._userId=0,this._username=null,this._width=0,this._height=0,this._localX=0,this._localY=0,this._y=0,this._z=0,this._direction=null,this._isOldFormat=!1,!0}parse(t){if(!t)return!1;this._itemId=parseInt(t.readString()),this._spriteId=t.readInt(),this._location=t.readString(),this._stuffData=t.readString(),this._secondsToExpiration=t.readInt(),this._usagePolicy=t.readInt(),this._userId=t.readInt(),this._username=null;const e=parseFloat(this._stuffData);if(isNaN(e)||(this._state=e),0===this._location.indexOf(\":\")){this._isOldFormat=!1;let t=this._location.split(\" \");if(t.length>=3){let e=t[0],s=t[1];const i=t[2];if(e.length>3&&s.length>2&&(e=e.substr(3),s=s.substr(2),t=e.split(\",\"),t.length>=2)){const e=parseInt(t[0]),r=parseInt(t[1]);if(t=s.split(\",\"),t.length>=2){const s=parseInt(t[0]),n=parseInt(t[1]);this._width=e,this._height=r,this._localX=s,this._localY=n,this._direction=i}}}}else this._isOldFormat=!0;return!0}get itemId(){return this._itemId}get spriteId(){return this._spriteId}get wallPosition(){return this._location}get stuffData(){return this._stuffData}get state(){return this._state}get secondsToExpiration(){return this._secondsToExpiration}get usagePolicy(){return this._usagePolicy}get userId(){return this._userId}get username(){return this._username}set username(t){this._username=t}get width(){return this._width}get height(){return this._height}get localX(){return this._localX}get localY(){return this._localY}get direction(){return this._direction}get isOldFormat(){return this._isOldFormat}}class A_{constructor(){this._item=void 0}flush(){return this._item=null,!0}parse(t){return!!t&&(this._item=new O_(t),this._item.username=t.readString(),!0)}get item(){return this._item}}class S_{constructor(){this._owners=void 0,this._items=void 0}flush(){return this._owners=new Map,this._items=[],!0}parse(t){if(!t)return!1;if(!this.parseOwners(t))return!1;let e=t.readInt();for(;e>0;){const s=new O_(t);if(!s)continue;const i=this._owners.get(s.userId);i&&(s.username=i),this._items.push(s),e--}return!0}parseOwners(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._owners.set(t.readInt(),t.readString()),e--;return!0}get owners(){return this._owners}get items(){return this._items}}class N_{constructor(){this._itemId=void 0,this._userId=void 0}flush(){return this._itemId=0,this._userId=0,!0}parse(t){return!!t&&(this._itemId=parseInt(t.readString()),this._userId=t.readInt(),!0)}get itemId(){return this._itemId}get userId(){return this._userId}}class y_{constructor(){this._item=void 0}flush(){return this._item=null,!0}parse(t){return!!t&&(this._item=new O_(t),this._item.username=t.readString(),!0)}get item(){return this._item}}class D_{constructor(){this._furniId=void 0,this._commandId=void 0}parse(t){return this._furniId=t.readInt(),this._commandId=t.readInt(),!0}flush(){return this._furniId=-1,this._commandId=-1,!0}get furniId(){return this._furniId}get commandId(){return this._commandId}}class M_{constructor(t,e,s){this._video=void 0,this._title=void 0,this._description=void 0,this._video=t,this._title=e,this._description=s}get video(){return this._video}get title(){return this._title}get description(){return this._description}}class C_{constructor(){this._furniId=void 0,this._playlists=void 0,this._selectedPlaylistId=void 0}flush(){return this._furniId=-1,this._playlists=null,this._selectedPlaylistId=null,!0}parse(t){this._furniId=t.readInt();const e=t.readInt();this._playlists=[];for(let s=0;s<e;s++)this._playlists.push(new M_(t.readString(),t.readString(),t.readString()));return this._selectedPlaylistId=t.readString(),!0}get furniId(){return this._furniId}get playlists(){return this._playlists}get selectedPlaylistId(){return this._selectedPlaylistId}}class L_{constructor(){this._furniId=void 0,this._videoId=void 0,this._startAtSeconds=void 0,this._endAtSeconds=void 0,this._state=void 0}flush(){return!0}parse(t){return this._furniId=t.readInt(),this._videoId=t.readString(),this._startAtSeconds=t.readInt(),this._endAtSeconds=t.readInt(),this._state=t.readInt(),!0}get furniId(){return this._furniId}get videoId(){return this._videoId}get state(){return this._state}get startAtSeconds(){return this._startAtSeconds}get endAtSeconds(){return this._endAtSeconds}}class U_{constructor(t,e,s,i){this._x=void 0,this._y=void 0,this._width=void 0,this._height=void 0,this._x=t,this._y=e,this._width=s,this._height=i}get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}}class P_{constructor(){this._width=void 0,this._height=void 0,this._wallHeight=void 0,this._fixedWallsHeight=void 0,this._tileMap=void 0,this._holeMap=void 0,this._doors=void 0,this._dimensions=void 0,this._restrictsDragging=void 0,this._restrictsScaling=void 0,this._restrictedScale=void 0,this._width=0,this._height=0,this._wallHeight=0,this._fixedWallsHeight=0,this._tileMap=[],this._holeMap=[],this._doors=[],this._dimensions={minX:0,maxX:0,minY:0,maxY:0},this._restrictsDragging=!1,this._restrictedScale=1,this._restrictsScaling=!1}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}get wallHeight(){return this._wallHeight}set wallHeight(t){this._wallHeight=t}get fixedWallsHeight(){return this._fixedWallsHeight}set fixedWallsHeight(t){this._fixedWallsHeight=t}get tileMap(){return this._tileMap}get holeMap(){return this._holeMap}get doors(){return this._doors}get dimensions(){return this._dimensions}get restrictsDragging(){return this._restrictsDragging}set restrictsDragging(t){this._restrictsDragging=t}get restrictsScaling(){return this._restrictsScaling}set restrictsScaling(t){this._restrictsScaling=t}get restrictedScale(){return this._restrictedScale}set restrictedScale(t){this._restrictedScale=t}}class b_{constructor(t,e,s,i){this._leftSideLoc=0,this._rightSideLoc=0,this._leftSideLength=0,this._rightSideLength=0,this._leftSideLoc=t,this._rightSideLoc=e,this._leftSideLength=s,this._rightSideLength=i}get leftSideLoc(){return this._leftSideLoc}get rightSideLoc(){return this._rightSideLoc}get leftSideLength(){return this._leftSideLength}get rightSideLength(){return this._rightSideLength}}class w_{constructor(t,e,s,i,r){let n,a,o,h,_,d,u,c;if(this._type=0,this._loc=null,this._leftSide=null,this._rightSide=null,this._normal=null,this._normalDirection=null,this._secondaryNormals=void 0,this._masks=void 0,this._secondaryNormals=[],this._masks=[],this._loc=new dt,this._loc.assign(e),this._leftSide=new dt,this._leftSide.assign(s),this._rightSide=new dt,this._rightSide.assign(i),this._type=t,null!=s&&null!=i&&(this._normal=dt.crossProduct(s,i),n=0,a=0,o=0,h=0,_=0,0!=this.normal.x||0!=this.normal.y?(h=this.normal.x,_=this.normal.y,n=360+Math.atan2(_,h)/Math.PI*180,n>=360&&(n-=360),h=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y),_=this.normal.z,a=360+Math.atan2(_,h)/Math.PI*180,a>=360&&(a-=360)):a=this.normal.z<0?90:270,this._normalDirection=new dt(n,a,0)),null!=r&&r.length>0)for(d=0;d<r.length;)u=r[d],null!=u&&u.length>0&&(c=new dt,c.assign(u),c.multiply(1/c.length),this._secondaryNormals.push(c)),d++}get type(){return this._type}get loc(){return this._loc}get leftSide(){return this._leftSide}get rightSide(){return this._rightSide}get normal(){return this._normal}get normalDirection(){return this._normalDirection}get secondaryNormalCount(){return this._secondaryNormals.length}get maskCount(){return this._masks.length}getSecondaryNormal(t){if(t<0||t>=this.secondaryNormalCount)return null;const e=new dt;return e.assign(this._secondaryNormals[t]),e}addMask(t,e,s,i){const r=new b_(t,e,s,i);this._masks.push(r)}getMask(t){return t<0||t>=this.maskCount?null:this._masks[t]}getMaskLeftSideLoc(t){const e=this.getMask(t);return null!=e?e.leftSideLoc:-1}getMaskRightSideLoc(t){const e=this.getMask(t);return null!=e?e.rightSideLoc:-1}getMaskLeftSideLength(t){const e=this.getMask(t);return null!=e?e.leftSideLength:-1}getMaskRightSideLength(t){const e=this.getMask(t);return null!=e?e.rightSideLength:-1}}w_.PLANE_UNDEFINED=0,w_.PLANE_FLOOR=1,w_.PLANE_WALL=2,w_.PLANE_LANDSCAPE=3,w_.PLANE_BILLBOARD=4;class F_{constructor(){this._corners=void 0,this._endPoints=void 0,this._directions=void 0,this._lengths=void 0,this._leftTurns=void 0,this._borders=void 0,this._hideWalls=void 0,this._manuallyLeftCut=void 0,this._manuallyRightCut=void 0,this._addDuplicates=void 0,this._count=void 0,this._corners=[],this._endPoints=[],this._directions=[],this._lengths=[],this._leftTurns=[],this._borders=[],this._hideWalls=[],this._manuallyLeftCut=[],this._manuallyRightCut=[],this._addDuplicates=!1,this._count=0}addWall(t,e,s,i,r){(this._addDuplicates||this.checkIsNotDuplicate(t,e,s,i,r))&&(this._corners.push(t),this._directions.push(e),this._lengths.push(s),this._borders.push(i),this._leftTurns.push(r),this._hideWalls.push(!1),this._manuallyLeftCut.push(!1),this._manuallyRightCut.push(!1),this._count++)}checkIsNotDuplicate(t,e,s,i,r){let n=0;for(;n<this._count;){if(this._corners[n].x==t.x&&this._corners[n].y==t.y&&this._directions[n]==e&&this._lengths[n]==s&&this._borders[n]==i&&this._leftTurns[n]==r)return!1;n++}return!0}get count(){return this._count}getCorner(t){return this._corners[t]}getEndPoint(t){return this.calculateWallEndPoints(),this._endPoints[t]}getLength(t){return this._lengths[t]}getDirection(t){return this._directions[t]}getBorder(t){return this._borders[t]}getHideWall(t){return this._hideWalls[t]}getLeftTurn(t){return this._leftTurns[t]}getManuallyLeftCut(t){return this._manuallyLeftCut[t]}getManuallyRightCut(t){return this._manuallyRightCut[t]}setHideWall(t,e){this._hideWalls[t]=e}setLength(t,e){e<this._lengths[t]&&(this._lengths[t]=e,this._manuallyRightCut[t]=!0)}moveCorner(t,e){let s;if(e>0&&e<this._lengths[t]){const i=this._corners[t];s=F_.WALL_DIRECTION_VECTORS[this.getDirection(t)],this._corners[t]=new j.g(i.x+e*s.x,i.y+e*s.y),this._lengths[t]=this._lengths[t]-e,this._manuallyLeftCut[t]=!0}}calculateWallEndPoints(){let t,e,s,i,r;if(this._endPoints.length!=this.count)for(this._endPoints=[],t=0;t<this.count;)e=this.getCorner(t),s=new j.g(e.x,e.y),i=F_.WALL_DIRECTION_VECTORS[this.getDirection(t)],r=this.getLength(t),s.x=s.x+i.x*r,s.y=s.y+i.y*r,this._endPoints.push(s),t++}}F_.WALL_DIRECTION_VECTORS=[new dt(1,0,0),new dt(0,1,0),new dt(-1,0,0),new dt(0,-1,0)],F_.WALL_NORMAL_VECTORS=[new dt(0,1,0),new dt(-1,0,0),new dt(0,-1,0),new dt(1,0,0)];class x_{constructor(){this._tileMatrix=void 0,this._tileMatrixOriginal=void 0,this._width=0,this._height=0,this._minX=0,this._maxX=0,this._minY=0,this._maxY=0,this._planes=void 0,this._wallHeight=void 0,this._wallThicknessMultiplier=void 0,this._floorThicknessMultiplier=void 0,this._fixedWallHeight=-1,this._floorHeight=0,this._floorHoles=void 0,this._floorHoleMatrix=void 0,this._restrictsDragging=void 0,this._restrictsScaling=!1,this._restrictedScale=1,this._tileMatrix=[],this._tileMatrixOriginal=[],this._planes=[],this._floorHoleMatrix=[],this._wallHeight=3.6,this._wallThicknessMultiplier=1,this._floorThicknessMultiplier=1,this._floorHoles=new Map}static getFloorHeight(t){const e=t.length;if(!e)return 0;let s=0,i=0;for(;i<e;){const e=t[i];let r=0;for(;r<e.length;){const t=e[r];t>s&&(s=t),r++}i++}return s}static findEntranceTile(t){if(!t)return null;const e=t.length;if(!e)return null;const s=[];let i=0;for(;i<e;){const e=t[i];if(!e||!e.length)return null;let r=0;for(;r<e.length;){if(e[r]>=0){s.push(r);break}r++}s.length<i+1&&s.push(e.length+1),i++}for(i=1;i<s.length-1;){if(Math.trunc(s[i])<=Math.trunc(s[i-1])-1&&Math.trunc(s[i])<=Math.trunc(s[i+1])-1)return new j.g(Math.trunc(0|s[i]),i);i++}return null}static expandFloorTiles(t){let e,s,i,r,n,a,o,h,_,d,u,c;const l=t.length,g=t[0].length,E=[];for(s=0;s<4*l;)E[s]=[],s++;let p=0;for(s=0;s<l;){for(n=0,e=0;e<g;){if(a=t[s][e],a<0||a<=255)for(r=0;r<4;){for(i=0;i<4;)void 0===E[p+r]&&(E[p+r]=[]),E[p+r][n+i]=a<0?a:4*a,i++;r++}else{for(o=4*(255&a),h=o+3*(a>>11&1),_=o+3*(a>>10&1),d=o+3*(a>>9&1),u=o+3*(a>>8&1),i=0;i<3;)c=i+1,E[p][n+i]=(h*(3-i)+_*i)/3,E[p+3][n+c]=(d*(3-c)+u*c)/3,E[p+c][n]=(h*(3-c)+d*c)/3,E[p+i][n+3]=(_*(3-i)+u*i)/3,i++;E[p+1][n+1]=h>o?o+2:o+1,E[p+1][n+2]=_>o?o+2:o+1,E[p+2][n+1]=d>o?o+2:o+1,E[p+2][n+2]=u>o?o+2:o+1}n+=4,e++}p+=4,s++}return E}static addTileTypes(t){let e,s,i,r,n,a,o,h,_,d,u,c,l,g;const E=t.length-1,p=t[0].length-1;for(s=1;s<E;){for(e=1;e<p;)i=t[s][e],i<0||(r=255&t[s-1][e-1],n=255&t[s-1][e],a=255&t[s-1][e+1],o=255&t[s][e-1],h=255&t[s][e+1],_=255&t[s+1][e-1],d=255&t[s+1][e],u=255&t[s+1][e+1],c=i+1,l=i-1,g=(r==c||n==c||o==c?8:0)|(a==c||n==c||h==c?4:0)|(_==c||d==c||o==c?2:0)|(u==c||d==c||h==c?1:0),15==g&&(g=0),t[s][e]=i|g<<8),e++;s++}}static unpadHeightMap(t){t.shift(),t.pop();for(const e of t)e.shift(),e.pop()}static padHeightMap(t){const e=[],s=[];for(const i of t)i.push(x_.TILE_BLOCKED),i.unshift(x_.TILE_BLOCKED);for(const i of t[0])e.push(x_.TILE_BLOCKED),s.push(x_.TILE_BLOCKED);t.push(s),t.unshift(e)}get minX(){return this._minX}get maxX(){return this._maxX}get minY(){return this._minY}get maxY(){return this._maxY}get tileMapWidth(){return this._width}get tileMapHeight(){return this._height}get planeCount(){return this._planes.length}get floorHeight(){return-1!=this._fixedWallHeight?this._fixedWallHeight:this._floorHeight}get wallHeight(){return-1!=this._fixedWallHeight?this._fixedWallHeight+3.6:this._wallHeight}set wallHeight(t){t<0&&(t=0),this._wallHeight=t}get wallThicknessMultiplier(){return this._wallThicknessMultiplier}set wallThicknessMultiplier(t){t<0&&(t=0),this._wallThicknessMultiplier=t}get floorThicknessMultiplier(){return this._floorThicknessMultiplier}set floorThicknessMultiplier(t){t<0&&(t=0),this._floorThicknessMultiplier=t}dispose(){this._planes=null,this._tileMatrix=null,this._tileMatrixOriginal=null,this._floorHoleMatrix=null,null!=this._floorHoles&&(this._floorHoles.clear(),this._floorHoles=null)}reset(){this._planes=[],this._tileMatrix=[],this._tileMatrixOriginal=[],this._width=0,this._height=0,this._minX=0,this._maxX=0,this._minY=0,this._maxY=0,this._floorHeight=0,this._floorHoleMatrix=[]}initializeTileMap(t,e){t<0&&(t=0),e<0&&(e=0),this._tileMatrix=[],this._tileMatrixOriginal=[],this._floorHoleMatrix=[];let s=0;for(;s<e;){const e=[],i=[],r=[];let n=0;for(;n<t;)e[n]=x_.TILE_BLOCKED,i[n]=x_.TILE_BLOCKED,r[n]=!1,n++;this._tileMatrix.push(e),this._tileMatrixOriginal.push(i),this._floorHoleMatrix.push(r),s++}return this._width=t,this._height=e,this._minX=this._width,this._maxX=-1,this._minY=this._height,this._maxY=-1,!0}setTileHeight(t,e,s){let i,r,n,a,o;if(t>=0&&t<this._width&&e>=0&&e<this._height){if(i=this._tileMatrix[e],i[t]=s,s>=0)t<this._minX&&(this._minX=t),t>this._maxX&&(this._maxX=t),e<this._minY&&(this._minY=e),e>this._maxY&&(this._maxY=e);else{if(t==this._minX||t==this._maxX){for(r=!1,n=this._minY;n<this._maxY;){if(this.getTileHeightInternal(t,n)>=0){r=!0;break}n++}r||(t==this._minX&&this._minX++,t==this._maxX&&this._maxX--)}if(e==this._minY||e==this._maxY){for(a=!1,o=this._minX;o<this._maxX;){if(this.getTileHeight(o,e)>=0){a=!0;break}o++}a||(e==this._minY&&this._minY++,e==this._maxY&&this._maxY--)}}return!0}return!1}getTileHeight(t,e){if(t<0||t>=this._width||e<0||e>=this._height)return x_.TILE_BLOCKED;const s=this._tileMatrix[e];return void 0===s[t]?0:Math.abs(s[t])}getTileHeightOriginal(t,e){if(t<0||t>=this._width||e<0||e>=this._height)return x_.TILE_BLOCKED;if(this._floorHoleMatrix[e][t])return x_.TILE_HOLE;return this._tileMatrixOriginal[e][t]}getTileHeightInternal(t,e){if(t<0||t>=this._width||e<0||e>=this._height)return x_.TILE_BLOCKED;return this._tileMatrix[e][t]}initializeFromTileData(){let t,e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;for(this._fixedWallHeight=s,e=0;e<this._height;){for(t=0;t<this._width;)void 0===this._tileMatrixOriginal[e]&&(this._tileMatrixOriginal[e]=[]),this._tileMatrixOriginal[e][t]=this._tileMatrix[e][t],t++;e++}const i=x_.findEntranceTile(this._tileMatrix);for(e=0;e<this._height;){for(t=0;t<this._width;)void 0===this._floorHoleMatrix[e]&&(this._floorHoleMatrix[e]=[]),this._floorHoleMatrix[e][t]&&this.setTileHeight(t,e,x_.TILE_HOLE),t++;e++}return this.initialize(i)}initialize(t){let e=0;null!=t&&(e=this.getTileHeight(t.x,t.y),this.setTileHeight(t.x,t.y,x_.TILE_BLOCKED)),this._floorHeight=x_.getFloorHeight(this._tileMatrix),this.createWallPlanes();const s=[];for(const r of this._tileMatrix)s.push(r.concat());x_.padHeightMap(s),x_.addTileTypes(s),x_.unpadHeightMap(s);const i=x_.expandFloorTiles(s);return this.extractPlanes(i),null!=t&&(this.setTileHeight(t.x,t.y,e),this.addFloor(new dt(t.x+.5,t.y+.5,e),new dt(-1,0,0),new dt(0,-1,0),!1,!1,!1,!1)),!0}generateWallData(t,e){let s,i,r,n,a;const o=new F_,h=[this.extractTopWall.bind(this),this.extractRightWall.bind(this),this.extractBottomWall.bind(this),this.extractLeftWall.bind(this)];let _=0,d=new j.g(t.x,t.y),u=0;for(;u++<1e3;){if(s=!1,i=!1,r=_,(d.x<this.minX||d.x>this.maxX||d.y<this.minY||d.y>this.maxY)&&(s=!0),n=h[_](d,e),null==n)return null;if(a=Math.abs(n.x-d.x)+Math.abs(n.y-d.y),d.x==n.x||d.y==n.y?(_=(_-1+h.length)%h.length,a+=1,i=!0):(_=(_+1)%h.length,a--),o.addWall(d,r,a,s,i),n.x==t.x&&n.y==t.y&&(n.x!=d.x||n.y!=d.y))break;d=n}return 0==o.count?null:o}hidePeninsulaWallChains(t){let e,s,i,r,n=0;const a=t.count;for(;n<a;){const o=n;for(e=n,s=0,i=!1;!t.getBorder(n)&&n<a;)t.getLeftTurn(n)?s++:s>0&&s--,s>1&&(i=!0),e=n,n++;if(i)for(r=o;r<=e;)t.setHideWall(r,!0),r++;n++}}updateWallsNextToHoles(t){let e,s,i,r,n,a,o;const h=t.count;let _=0;for(;_<h;){if(!t.getHideWall(_)){for(e=t.getCorner(_),s=t.getDirection(_),i=t.getLength(_),r=F_.WALL_DIRECTION_VECTORS[s],n=F_.WALL_NORMAL_VECTORS[s],a=0,o=0;o<i;){if(this.getTileHeightInternal(e.x+o*r.x-n.x,e.y+o*r.y-n.y)==x_.TILE_HOLE){if(o>0&&0==a){t.setLength(_,o);break}a++}else if(a>0){t.moveCorner(_,a);break}o++}a==i&&t.setHideWall(_,!0)}_++}}resolveOriginalWallIndex(t,e,s){let i,r,n,a,o,h;const _=Math.min(t.y,e.y),d=Math.max(t.y,e.y),u=Math.min(t.x,e.x),c=Math.max(t.x,e.x),l=s.count;let g=0;for(;g<l;){if(i=s.getCorner(g),r=s.getEndPoint(g),t.x==e.x){if(i.x==t.x&&r.x==t.x&&(n=Math.min(i.y,r.y),a=Math.max(i.y,r.y),n<=_&&d<=a))return g}else if(t.y==e.y&&i.y==t.y&&r.y==t.y&&(o=Math.min(i.x,r.x),h=Math.max(i.x,r.x),o<=u&&c<=h))return g;g++}return-1}hideOriginallyHiddenWalls(t,e){let s,i,r,n,a;const o=t.count;let h=0;for(;h<o;)t.getHideWall(h)||(s=t.getCorner(h),i=new j.g(s.x,s.y),r=F_.WALL_DIRECTION_VECTORS[t.getDirection(h)],n=t.getLength(h),i.x=i.x+r.x*n,i.y=i.y+r.y*n,a=this.resolveOriginalWallIndex(s,i,e),a>=0?e.getHideWall(a)&&t.setHideWall(h,!0):t.setHideWall(h,!0)),h++}checkWallHiding(t,e){this.hidePeninsulaWallChains(e),this.updateWallsNextToHoles(t),this.hideOriginallyHiddenWalls(t,e)}addWalls(t,e){const s=t.count,i=e.count;let r=0;for(;r<s;){if(!t.getHideWall(r)){const n=t.getCorner(r),a=t.getDirection(r),o=t.getLength(r),h=F_.WALL_DIRECTION_VECTORS[a],_=F_.WALL_NORMAL_VECTORS[a];let d=-1,u=0;for(;u<o;){const t=this.getTileHeightInternal(n.x+u*h.x+_.x,n.y+u*h.y+_.y);t>=0&&(t<d||d<0)&&(d=t),u++}const c=d;let l=new dt(n.x,n.y,c);l=dt.sum(l,dt.product(_,.5)),l=dt.sum(l,dt.product(h,-.5));const g=this.wallHeight+Math.min(x_.MAX_WALL_ADDITIONAL_HEIGHT,this.floorHeight)-d,E=dt.product(h,-o),p=new dt(0,0,g);l=dt.dif(l,E);const m=this.resolveOriginalWallIndex(n,t.getEndPoint(r),e);let I=0,f=0;m>=0?(I=e.getDirection((m+1)%i),f=e.getDirection((m-1+i)%i)):(I=t.getDirection((r+1)%s),f=t.getDirection((r-1+s)%s));let T=null;(I-a+4)%4==3?T=F_.WALL_NORMAL_VECTORS[I]:(a-f+4)%4==3&&(T=F_.WALL_NORMAL_VECTORS[f]);const R=t.getLeftTurn(r),v=t.getLeftTurn((r-1+s)%s),O=t.getHideWall((r+1)%s),A=t.getManuallyLeftCut(r),S=t.getManuallyRightCut(r);this.addWall(l,E,p,T,!v||A,!R||S,!O)}r++}}createWallPlanes(){let t,e;const s=this._tileMatrix;if(null==s)return!1;let i,r,n;const a=s.length;let o=0;if(0==a)return!1;for(i=0;i<a;){if(n=s[i],null==n||0==n.length)return!1;o=o>0?Math.min(o,n.length):n.length,i++}const h=Math.min(x_.MAX_WALL_ADDITIONAL_HEIGHT,-1!=this._fixedWallHeight?this._fixedWallHeight:x_.getFloorHeight(s)),_=this.minX;let d=this.minY;for(d=this.minY;d<=this.maxY;){if(this.getTileHeightInternal(_,d)>x_.TILE_HOLE){d--;break}d++}if(d>this.maxY)return!1;const u=new j.g(_,d),c=this.generateWallData(u,!0),l=this.generateWallData(u,!1);for(null!=c&&(t=c.count,e=l.count,this.checkWallHiding(c,l),this.addWalls(c,l)),r=0;r<this.tileMapHeight;){for(i=0;i<this.tileMapWidth;)this.getTileHeightInternal(i,r)<0&&this.setTileHeight(i,r,-(h+this.wallHeight)),i++;r++}return!0}extractTopWall(t,e){if(null==t)return null;let s=1,i=x_.TILE_HOLE;for(e||(i=x_.TILE_BLOCKED);s<1e3;){if(this.getTileHeightInternal(t.x+s,t.y)>i)return new j.g(t.x+s-1,t.y);if(this.getTileHeightInternal(t.x+s,t.y+1)<=i)return new j.g(t.x+s,t.y+1);s++}return null}extractRightWall(t,e){if(null==t)return null;let s=1,i=x_.TILE_HOLE;for(e||(i=x_.TILE_BLOCKED);s<1e3;){if(this.getTileHeightInternal(t.x,t.y+s)>i)return new j.g(t.x,t.y+(s-1));if(this.getTileHeightInternal(t.x-1,t.y+s)<=i)return new j.g(t.x-1,t.y+s);s++}return null}extractBottomWall(t,e){if(null==t)return null;let s=1,i=x_.TILE_HOLE;for(e||(i=x_.TILE_BLOCKED);s<1e3;){if(this.getTileHeightInternal(t.x-s,t.y)>i)return new j.g(t.x-(s-1),t.y);if(this.getTileHeightInternal(t.x-s,t.y-1)<=i)return new j.g(t.x-s,t.y-1);s++}return null}extractLeftWall(t,e){if(null==t)return null;let s=1,i=x_.TILE_HOLE;for(e||(i=x_.TILE_BLOCKED);s<1e3;){if(this.getTileHeightInternal(t.x,t.y-s)>i)return new j.g(t.x,t.y-(s-1));if(this.getTileHeightInternal(t.x+1,t.y-s)<=i)return new j.g(t.x+1,t.y-s);s++}return null}addWall(t,e,s,i,r,n,a){this.addPlane(w_.PLANE_WALL,t,e,s,[i]);const o=x_.WALL_THICKNESS*this._wallThicknessMultiplier,h=x_.FLOOR_THICKNESS*this._floorThicknessMultiplier,_=dt.crossProduct(e,s),d=dt.product(_,1/_.length*-o);if(this.addPlane(w_.PLANE_WALL,dt.sum(t,s),e,d,[_,i]),r&&this.addPlane(w_.PLANE_WALL,dt.sum(dt.sum(t,e),s),dt.product(s,-(s.length+h)/s.length),d,[_,i]),n&&(this.addPlane(w_.PLANE_WALL,dt.sum(t,dt.product(s,-h/s.length)),dt.product(s,(s.length+h)/s.length),d,[_,i]),a)){const r=dt.product(e,o/e.length);this.addPlane(w_.PLANE_WALL,dt.sum(dt.sum(t,s),dt.product(r,-1)),r,d,[_,e,i])}}addFloor(t,e,s,i,r,n,a){let o,h,_;null!=this.addPlane(w_.PLANE_FLOOR,t,e,s)&&(o=x_.FLOOR_THICKNESS*this._floorThicknessMultiplier,h=new dt(0,0,o),_=dt.dif(t,h),n&&this.addPlane(w_.PLANE_FLOOR,_,e,h),a&&this.addPlane(w_.PLANE_FLOOR,dt.sum(_,dt.sum(e,s)),dt.product(e,-1),h),i&&this.addPlane(w_.PLANE_FLOOR,dt.sum(_,s),dt.product(s,-1),h),r&&this.addPlane(w_.PLANE_FLOOR,dt.sum(_,e),s,h))}initializeFromMapData(t){if(!t)return!1;this.reset(),this.resetFloorHoles();const e=t.width,s=t.height,i=t.wallHeight,r=t.fixedWallsHeight;if(this.initializeTileMap(e,s),t.tileMap){let e=0;for(;e<t.tileMap.length;){const s=t.tileMap[e];if(s){let t=0;for(;t<s.length;){const i=s[t];i&&this.setTileHeight(t,e,i.height),t++}}e++}}if(t.holeMap&&t.holeMap.length){let e=0;for(;e<t.holeMap.length;){const s=t.holeMap[e];s&&(this.addFloorHole(s.id,s.x,s.y,s.width,s.height),e++)}this.initializeHoleMap()}return this.wallHeight=i,this.restrictsDragging=t.restrictsDragging,this.restrictsScaling=t.restrictsScaling,this.restrictedScale=t.restrictedScale,this.initializeFromTileData(r),!0}addPlane(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(0==s.length||0==i.length)return null;const n=new w_(t,e,s,i,r);return this._planes.push(n),n}getMapData(){const t=new P_;t.width=this._width,t.height=this._height,t.wallHeight=this._wallHeight,t.fixedWallsHeight=this._fixedWallHeight,t.dimensions.minX=this.minX,t.dimensions.maxX=this.maxX,t.dimensions.minY=this.minY,t.dimensions.maxY=this.maxY,t.restrictsDragging=this.restrictsDragging,t.restrictsScaling=this.restrictsScaling,t.restrictedScale=this.restrictedScale;let e=0;for(;e<this._height;){const s=[],i=this._tileMatrixOriginal[e];let r=0;for(;r<this._width;){const t=i[r];s.push({height:t}),r++}t.tileMap.push(s),e++}for(const[s,i]of this._floorHoles.entries())i&&t.holeMap.push({id:s,x:i.x,y:i.y,width:i.width,height:i.height});return t}getPlaneLocation(t){if(t<0||t>=this.planeCount)return null;const e=this._planes[t];return e?e.loc:null}getPlaneNormal(t){if(t<0||t>=this.planeCount)return null;const e=this._planes[t];return e?e.normal:null}getPlaneLeftSide(t){if(t<0||t>=this.planeCount)return null;const e=this._planes[t];return e?e.leftSide:null}getPlaneRightSide(t){if(t<0||t>=this.planeCount)return null;const e=this._planes[t];return e?e.rightSide:null}getPlaneNormalDirection(t){if(t<0||t>=this.planeCount)return null;const e=this._planes[t];return e?e.normalDirection:null}getPlaneSecondaryNormals(t){let e,s;if(t<0||t>=this.planeCount)return null;const i=this._planes[t];if(null!=i){for(e=[],s=0;s<i.secondaryNormalCount;)e.push(i.getSecondaryNormal(s)),s++;return e}return null}getPlaneType(t){if(t<0||t>=this.planeCount)return w_.PLANE_UNDEFINED;const e=this._planes[t];return e?e.type:w_.PLANE_UNDEFINED}getPlaneMaskCount(t){if(t<0||t>=this.planeCount)return 0;const e=this._planes[t];return e?e.maskCount:0}getPlaneMaskLeftSideLoc(t,e){if(t<0||t>=this.planeCount)return-1;const s=this._planes[t];return s?s.getMaskLeftSideLoc(e):-1}getPlaneMaskRightSideLoc(t,e){if(t<0||t>=this.planeCount)return-1;const s=this._planes[t];return s?s.getMaskRightSideLoc(e):-1}getPlaneMaskLeftSideLength(t,e){if(t<0||t>=this.planeCount)return-1;const s=this._planes[t];return s?s.getMaskLeftSideLength(e):-1}getPlaneMaskRightSideLength(t,e){if(t<0||t>=this.planeCount)return-1;const s=this._planes[t];return s?s.getMaskRightSideLength(e):-1}addFloorHole(t,e,s,i,r){this.removeFloorHole(t),this._floorHoles.set(t,new U_(e,s,i,r))}removeFloorHole(t){this._floorHoles.delete(t)}resetFloorHoles(){this._floorHoles.clear()}initializeHoleMap(){let t,e,s,i,r,n,a,o;for(e=0;e<this._height;){for(s=this._floorHoleMatrix[e],t=0;t<this._width;)s[t]=!1,t++;e++}for(const h of this._floorHoles.values())if(i=h,null!=i)for(r=i.x,n=i.x+i.width-1,a=i.y,o=i.y+i.height-1,r=r<0?0:r,n=n>=this._width?this._width-1:n,a=a<0?0:a,o=o>=this._height?this._height-1:o,e=a;e<=o;){for(s=this._floorHoleMatrix[e],t=r;t<=n;)s[t]=!0,t++;e++}}extractPlanes(t){let e,s,i,r,n,a,o,h,_,d,u,c,l,g,E;const p=t.length,m=t[0].length,I=[];let f=0;for(;f<p;)I[f]=[],f++;let T=0;for(;T<p;){for(e=0;e<m;){if(s=t[T][e],s<0||I[T][e]);else{for(n=0==e||!(t[T][e-1]==s),a=0==T||!(t[T-1][e]==s),i=e+1;i<m&&!(t[T][i]!=s||I[T][i]||T>0&&t[T-1][i]==s==a);)i++;for(o=i==m||!(t[T][i]==s),u=!1,r=T+1;r<p&&!u;){for(h=!(t[r][e]==s),u=h||e>0&&t[r][e-1]==s==n||i<m&&t[r][i]==s==o,_=e;_<i;){if(t[r][_]==s==h){u=!0,i=_;break}_++}if(u)break;r++}for(h=h||r==p,o=i==m||!(t[T][i]==s),d=T;d<r;){for(_=e;_<i;)I[d][_]=!0,_++;d++}c=e/4-.5,l=T/4-.5,g=(i-e)/4,E=(r-T)/4,this.addFloor(new dt(c+g,l+E,s/4),new dt(-g,0,0),new dt(0,-E,0),o,n,h,a)}e++}T++}}get restrictsDragging(){return this._restrictsDragging}set restrictsDragging(t){this._restrictsDragging=t}get restrictsScaling(){return this._restrictsScaling}set restrictsScaling(t){this._restrictsScaling=t}get restrictedScale(){return this._restrictedScale}set restrictedScale(t){this._restrictedScale=t}}x_.FLOOR_THICKNESS=.25,x_.WALL_THICKNESS=.25,x_.MAX_WALL_ADDITIONAL_HEIGHT=20,x_.TILE_BLOCKED=-110,x_.TILE_HOLE=-100;class B_{constructor(){this._model=void 0,this._width=void 0,this._height=void 0,this._heightMap=void 0,this._wallHeight=void 0,this._scale=void 0}flush(){return this._model=null,this._width=0,this._height=0,this._wallHeight=-1,this._heightMap=[],this._scale=64,this._model=null,!0}parse(t){if(!t)return!1;const e=t.readBoolean(),s=t.readInt(),i=t.readString();return this.parseExplicitly(i,s,e)}parseModel(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.parseExplicitly(t,e,s)}parseExplicitly(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._scale=s?32:64,this._wallHeight=e,this._model=t;const i=this._model.split(\"\\r\"),r=i.length;let n=0;let a=0;for(;a<r;){const t=i[a];t.length>n&&(n=t.length),a++}for(this._heightMap=[],a=0;a<r;){const t=[];let e=0;for(;e<n;)t.push(x_.TILE_BLOCKED),e++;this._heightMap.push(t),a++}for(this._width=n,this._height=r,a=0;a<r;){const t=this._heightMap[a],e=i[a];if(e.length>0){let s=0;for(;s<e.length;){const i=e.charAt(s);let r=x_.TILE_BLOCKED;\"x\"!==i&&\"X\"!==i&&(r=parseInt(i,36)),t[s]=r,s++}}a++}return!0}getHeight(t,e){if(t<0||t>=this._width||e<0||e>=this._height)return-110;const s=this._heightMap[e];if(void 0===s)return-110;const i=s[t];return void 0===i?-110:i}get model(){return this._model}get width(){return this._width}get height(){return this._height}get heightMap(){return this._heightMap}get wallHeight(){return this._wallHeight}get scale(){return this._scale}}class G_{constructor(){this._x=void 0,this._y=void 0,this._direction=void 0}flush(){return this._x=0,this._y=0,this._direction=0,!0}parse(t){return!!t&&(this._x=t.readInt(),this._y=t.readInt(),this._direction=t.readInt(),!0)}get x(){return this._x}get y(){return this._y}get direction(){return this._direction}}class H_{constructor(){this._width=void 0,this._height=void 0,this._heights=void 0}static decodeTileHeight(t){return t<0?-1:(16383&t)/256}static decodeIsStackingBlocked(t){return!!(16384&t)}static decodeIsRoomTile(t){return t>=0}getTileHeight(t,e){return t<0||t>=this._width||e<0||e>=this._height?-1:H_.decodeTileHeight(this._heights[e*this._width+t])}getStackingBlocked(t,e){return t<0||t>=this._width||e<0||e>=this._height||H_.decodeIsStackingBlocked(this._heights[e*this._width+t])}isRoomTile(t,e){return!(t<0||t>=this._width||e<0||e>=this._height)&&H_.decodeIsRoomTile(this._heights[e*this._width+t])}flush(){return this._width=0,this._height=0,this._heights=[],!0}parse(t){if(!t)return!1;this._width=t.readInt();const e=t.readInt();this._height=e/this._width;let s=0;for(;s<e;)this._heights[s]=t.readShort(),s++;return!0}get width(){return this._width}get height(){return this._height}get heights(){return this._heights}}class V_{constructor(){this._wrapper=void 0,this._count=void 0,this._x=void 0,this._y=void 0,this._value=void 0}flush(){return this._wrapper=null,this._count=0,this._x=0,this._y=0,this._value=0,!0}tileHeight(){return H_.decodeTileHeight(this._value)}isStackingBlocked(){return H_.decodeIsStackingBlocked(this._value)}isRoomTile(){return H_.decodeIsRoomTile(this._value)}next(){return!!this._count&&(this._count--,this._x=this._wrapper.readByte(),this._y=this._wrapper.readByte(),this._value=this._wrapper.readShort(),!0)}parse(t){return!!t&&(this._wrapper=t,this._count=t.readByte(),!0)}get x(){return this._x}get y(){return this._y}get height(){return this._value}}class j_{constructor(){this._blockedTilesMap=void 0}flush(){return this._blockedTilesMap=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=t.readInt(),i=t.readInt();this._blockedTilesMap[i]||(this._blockedTilesMap[i]=[]),this._blockedTilesMap[i][s]=!0,e--}return!0}get blockedTilesMap(){return this._blockedTilesMap}}class k_{constructor(){this._floorType=void 0,this._wallType=void 0,this._landscapeType=void 0,this._landscapeAnimation=void 0}flush(){return this._floorType=null,this._wallType=null,this._landscapeType=null,this._landscapeAnimation=null,!0}parse(t){if(!t)return!1;const e=t.readString(),s=t.readString();switch(e){case\"floor\":this._floorType=s;break;case\"wallpaper\":this._wallType=s;break;case\"landscape\":this._landscapeType=s;break;case\"landscapeanim\":this._landscapeAnimation=s}return!0}get floorType(){return this._floorType}get wallType(){return this._wallType}get landscapeType(){return this._landscapeType}get landscapeAnimation(){return this._landscapeAnimation}}class z_{constructor(){this._name=void 0,this._roomId=void 0}flush(){return this._name=null,this._roomId=0,!0}parse(t){return!!t&&(this._name=t.readString(),this._roomId=t.readInt(),!0)}get name(){return this._name}get roomId(){return this._roomId}}class Y_{constructor(){this._hideWalls=void 0,this._thicknessWall=void 0,this._thicknessFloor=void 0}flush(){return this._hideWalls=!1,this._thicknessWall=0,this._thicknessFloor=0,!0}parse(t){if(!t)return!1;this._hideWalls=t.readBoolean();let e=t.readInt(),s=t.readInt();return e=e<-2?-2:e>1?1:e,s=s<-2?-2:s>1?1:s,this._thicknessWall=Math.pow(2,e),this._thicknessFloor=Math.pow(2,s),!0}get hideWalls(){return this._hideWalls}get thicknessWall(){return this._thicknessWall}get thicknessFloor(){return this._thicknessFloor}}class W_{constructor(){this._petId=void 0,this._roomIndex=void 0,this._gainedExperience=void 0}flush(){return this._petId=-1,this._roomIndex=-1,this._gainedExperience=0,!0}parse(t){return!!t&&(this._petId=t.readInt(),this._roomIndex=t.readInt(),this._gainedExperience=t.readInt(),!0)}get petId(){return this._petId}get roomIndex(){return this._roomIndex}get gainedExperience(){return this._gainedExperience}}class K_{constructor(){this._roomIndex=void 0,this._petId=void 0,this._figureData=void 0,this._hasSaddle=void 0,this._isRiding=void 0}flush(){return!0}parse(t){return!!t&&(this._roomIndex=t.readInt(),this._petId=t.readInt(),this._figureData=new sr(t),this._hasSaddle=t.readBoolean(),this._isRiding=t.readBoolean(),!0)}get roomIndex(){return this._roomIndex}get petId(){return this._petId}get figureData(){return this._figureData}get hasSaddle(){return this._hasSaddle}get isRiding(){return this._isRiding}}class X_{constructor(){this._id=void 0,this._name=void 0,this._level=void 0,this._maximumLevel=void 0,this._experience=void 0,this._energy=void 0,this._happyness=void 0,this._levelExperienceGoal=void 0,this._maximumEnergy=void 0,this._maximumHappyness=void 0,this._respect=void 0,this._ownerId=void 0,this._ownerName=void 0,this._age=void 0,this._rarityLevel=void 0,this._saddle=void 0,this._rider=void 0,this._breedable=void 0,this._fullyGrown=void 0,this._dead=void 0,this._maximumTimeToLive=void 0,this._remainingTimeToLive=void 0,this._remainingGrowTime=void 0,this._skillThresholds=void 0,this._publiclyRideable=void 0,this._unknownRarity=void 0,this._publiclyBreedable=void 0}flush(){return this._id=-1,this._skillThresholds=[],!0}parse(t){if(!t)return!1;this._id=t.readInt(),this._name=t.readString(),this._level=t.readInt(),this._maximumLevel=t.readInt(),this._experience=t.readInt(),this._levelExperienceGoal=t.readInt(),this._energy=t.readInt(),this._maximumEnergy=t.readInt(),this._happyness=t.readInt(),this._maximumHappyness=t.readInt(),this._respect=t.readInt(),this._ownerId=t.readInt(),this._age=t.readInt(),this._ownerName=t.readString(),this._rarityLevel=t.readInt(),this._saddle=t.readBoolean(),this._rider=t.readBoolean();let e=t.readInt();for(;e>0;)this._skillThresholds.push(t.readInt()),e--;return this._skillThresholds.sort(),this._publiclyRideable=t.readInt(),this._breedable=t.readBoolean(),this._fullyGrown=t.readBoolean(),this._dead=t.readBoolean(),this._unknownRarity=t.readInt(),this._maximumTimeToLive=t.readInt(),this._remainingTimeToLive=t.readInt(),this._remainingGrowTime=t.readInt(),this._publiclyBreedable=t.readBoolean(),!0}get id(){return this._id}get name(){return this._name}get level(){return this._level}get maximumLevel(){return this._maximumLevel}get experience(){return this._experience}get energy(){return this._energy}get happyness(){return this._happyness}get levelExperienceGoal(){return this._levelExperienceGoal}get maximumEnergy(){return this._maximumEnergy}get maximumHappyness(){return this._maximumHappyness}get respect(){return this._respect}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get age(){return this._age}get rarityLevel(){return this._rarityLevel}get saddle(){return this._saddle}get rider(){return this._rider}get breedable(){return this._breedable}get fullyGrown(){return this._fullyGrown}get dead(){return this._dead}get maximumTimeToLive(){return this._maximumTimeToLive}get remainingTimeToLive(){return this._remainingTimeToLive}get remainingGrowTime(){return this._remainingGrowTime}get skillTresholds(){return this._skillThresholds}get publiclyRideable(){return this._publiclyRideable}get unknownRarity(){return this._unknownRarity}get publiclyBreedable(){return this._publiclyBreedable}}class q_{constructor(){this._roomIndex=void 0,this._petId=void 0,this._canBreed=void 0,this._canHarvest=void 0,this._canRevive=void 0,this._hasBreedingPermission=void 0}flush(){return this._roomIndex=-1,this._petId=-1,this._canBreed=!1,this._canHarvest=!1,this._canRevive=!1,this._hasBreedingPermission=!1,!0}parse(t){return!!t&&(this._roomIndex=t.readInt(),this._petId=t.readInt(),this._canBreed=t.readBoolean(),this._canHarvest=t.readBoolean(),this._canRevive=t.readBoolean(),this._hasBreedingPermission=t.readBoolean(),!0)}get roomIndex(){return this._roomIndex}get petId(){return this._petId}get canBreed(){return this._canBreed}get canHarvest(){return this._canHarvest}get canRevive(){return this._canRevive}get hasBreedingPermission(){return this._hasBreedingPermission}}class Q_{constructor(){this._isPlaying=void 0}flush(){return this._isPlaying=!1,!0}parse(t){return!!t&&(this._isPlaying=t.readBoolean(),!0)}get isPlaying(){return this._isPlaying}}class Z_{flush(){return!0}parse(t){return!0}}class J_{constructor(){this._seconds=void 0}flush(){return this._seconds=0,!0}parse(t){return!!t&&(this._seconds=t.readInt(),!0)}get seconds(){return this._seconds}}class $_{constructor(){this._seconds=void 0}flush(){return this._seconds=0,!0}parse(t){return!!t&&(this._seconds=t.readInt(),!0)}get seconds(){return this._seconds}}class td{constructor(){this._roomIndex=void 0,this._message=void 0,this._gesture=void 0,this._bubble=void 0,this._urls=void 0,this._messageLength=void 0}flush(){return this._roomIndex=null,this._message=null,this._gesture=0,this._bubble=0,this._urls=[],this._messageLength=0,!0}parse(t){return!!t&&(this._roomIndex=t.readInt(),this._message=t.readString(),this._gesture=t.readInt(),this._bubble=t.readInt(),this.parseUrls(t),this._messageLength=t.readInt(),!0)}parseUrls(t){if(!t)return!1;this._urls=[];let e=t.readInt();for(;e>0;)this._urls.push(t.readString()),e--;return!0}get roomIndex(){return this._roomIndex}get message(){return this._message}get gesture(){return this._gesture}get bubble(){return this._bubble}get urls(){return this._urls}get messageLength(){return this._messageLength}}class ed{constructor(){this._unitId=void 0,this._isTyping=void 0}flush(){return this._unitId=null,this._isTyping=!1,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._isTyping=1===t.readInt(),!0)}get unitId(){return this._unitId}get isTyping(){return this._isTyping}}class sd{constructor(){this._unitId=void 0,this._danceId=void 0}flush(){return this._unitId=null,this._danceId=0,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._danceId=t.readInt(),!0)}get unitId(){return this._unitId}get danceId(){return this._danceId}}class id{constructor(){this._unitId=void 0,this._effectId=void 0,this._delay=void 0}flush(){return this._unitId=null,this._effectId=0,this._delay=0,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._effectId=t.readInt(),this._delay=t.readInt(),!0)}get unitId(){return this._unitId}get effectId(){return this._effectId}get delay(){return this._delay}}class rd{constructor(){this._unitId=void 0,this._expression=void 0}flush(){return this._unitId=null,this._expression=0,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._expression=t.readInt(),!0)}get unitId(){return this._unitId}get expression(){return this._expression}}class nd{constructor(){this._unitId=void 0,this._handId=void 0}flush(){return this._unitId=null,this._handId=0,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._handId=t.readInt(),!0)}get unitId(){return this._unitId}get handId(){return this._handId}}class ad{constructor(){this._giverUserId=void 0,this._handItemType=void 0}flush(){return this._giverUserId=-1,this._handItemType=-1,!0}parse(t){return!!t&&(this._giverUserId=t.readInt(),this._handItemType=t.readInt(),!0)}get giverUserId(){return this._giverUserId}get handItemType(){return this._handItemType}}class od{constructor(){this._unitId=void 0,this._isIdle=void 0}flush(){return this._unitId=null,this._isIdle=!1,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._isIdle=t.readBoolean(),!0)}get unitId(){return this._unitId}get isIdle(){return this._isIdle}}class hd{constructor(){this._unitId=void 0,this._figure=void 0,this._gender=void 0,this._motto=void 0,this._achievementScore=void 0}flush(){return this._unitId=null,this._figure=null,this._gender=\"M\",this._motto=null,this._achievementScore=0,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._figure=t.readString(),this._gender=t.readString().toLocaleUpperCase(),this._motto=t.readString(),this._achievementScore=t.readInt(),!0)}get unitId(){return this._unitId}get figure(){return this._figure}get gender(){return this._gender}get motto(){return this._motto}get achievementScore(){return this._achievementScore}}class _d{constructor(){this._unitId=void 0,this._value=void 0}flush(){return this._unitId=null,this._value=0,!0}parse(t){return!!t&&(this._unitId=t.readInt(),this._value=t.readInt(),!0)}get unitId(){return this._unitId}get value(){return this._value}}class dd{}dd.USER=1,dd.PET=2,dd.BOT=3,dd.RENTABLE_BOT=4;class ud{constructor(t){this._roomIndex=0,this._x=0,this._y=0,this._z=0,this._dir=0,this._name=\"\",this._userType=0,this._sex=\"\",this._figure=\"\",this._custom=\"\",this._activityPoints=0,this._webID=0,this._groupID=0,this._groupStatus=0,this._groupName=\"\",this._subType=\"\",this._ownerId=0,this._ownerName=\"\",this._rarityLevel=0,this._hasSaddle=!1,this._isRiding=!1,this._canBreed=!1,this._canHarvest=!1,this._canRevive=!1,this._hasBreedingPermission=!1,this._petLevel=0,this._petPosture=\"\",this._botSkills=[],this._isModerator=!1,this._isReadOnly=!1,this._roomIndex=t}setReadOnly(){this._isReadOnly=!0}get roomIndex(){return this._roomIndex}get x(){return this._x}set x(t){this._isReadOnly||(this._x=t)}get y(){return this._y}set y(t){this._isReadOnly||(this._y=t)}get z(){return this._z}set z(t){this._isReadOnly||(this._z=t)}get dir(){return this._dir}set dir(t){this._isReadOnly||(this._dir=t)}get name(){return this._name}set name(t){this._isReadOnly||(this._name=t)}get userType(){return this._userType}set userType(t){this._isReadOnly||(this._userType=t)}get sex(){return this._sex}set sex(t){this._isReadOnly||(this._sex=t)}get figure(){return this._figure}set figure(t){this._isReadOnly||(this._figure=t)}get custom(){return this._custom}set custom(t){this._isReadOnly||(this._custom=t)}get activityPoints(){return this._activityPoints}set activityPoints(t){this._isReadOnly||(this._activityPoints=t)}get webID(){return this._webID}set webID(t){this._isReadOnly||(this._webID=t)}get groupID(){return this._groupID}set groupID(t){this._isReadOnly||(this._groupID=t)}get groupName(){return this._groupName}set groupName(t){this._isReadOnly||(this._groupName=t)}get groupStatus(){return this._groupStatus}set groupStatus(t){this._isReadOnly||(this._groupStatus=t)}get subType(){return this._subType}set subType(t){this._isReadOnly||(this._subType=t)}get ownerId(){return this._ownerId}set ownerId(t){this._isReadOnly||(this._ownerId=t)}get ownerName(){return this._ownerName}set ownerName(t){this._isReadOnly||(this._ownerName=t)}get rarityLevel(){return this._rarityLevel}set rarityLevel(t){this._isReadOnly||(this._rarityLevel=t)}get hasSaddle(){return this._hasSaddle}set hasSaddle(t){this._isReadOnly||(this._hasSaddle=t)}get isRiding(){return this._isRiding}set isRiding(t){this._isReadOnly||(this._isRiding=t)}get canBreed(){return this._canBreed}set canBreed(t){this._isReadOnly||(this._canBreed=t)}get canHarvest(){return this._canHarvest}set canHarvest(t){this._isReadOnly||(this._canHarvest=t)}get canRevive(){return this._canRevive}set canRevive(t){this._isReadOnly||(this._canRevive=t)}get hasBreedingPermission(){return this._hasBreedingPermission}set hasBreedingPermission(t){this._isReadOnly||(this._hasBreedingPermission=t)}get petLevel(){return this._petLevel}set petLevel(t){this._isReadOnly||(this._petLevel=t)}get petPosture(){return this._petPosture}set petPosture(t){this._isReadOnly||(this._petPosture=t)}get botSkills(){return this._botSkills}set botSkills(t){this._botSkills=t}get isModerator(){return this._isModerator}set isModerator(t){this._isReadOnly||(this._isModerator=t)}}ud.M=\"M\",ud.F=\"F\";class cd{constructor(){this._users=void 0}flush(){return this._users=[],!0}parse(t){if(!t)return!1;this._users=[];const e=t.readInt();let s=0;for(;s<e;){const e=t.readInt(),i=t.readString(),r=t.readString();let n=t.readString();const a=t.readInt(),o=t.readInt(),h=t.readInt(),_=parseFloat(t.readString()),d=t.readInt(),u=t.readInt(),c=new ud(a);if(c.dir=d,c.name=i,c.custom=r,c.x=o,c.y=h,c.z=_,this._users.push(c),1===u){c.webID=e,c.userType=dd.USER,c.sex=this.resolveSex(t.readString()),c.groupID=t.readInt(),c.groupStatus=t.readInt(),c.groupName=t.readString();const s=t.readString();\"\"!==s&&(n=this.convertSwimFigure(s,n,c.sex)),c.figure=n,c.activityPoints=t.readInt(),c.isModerator=t.readBoolean()}else if(2===u)c.userType=dd.PET,c.figure=n,c.webID=e,c.subType=t.readInt().toString(),c.ownerId=t.readInt(),c.ownerName=t.readString(),c.rarityLevel=t.readInt(),c.hasSaddle=t.readBoolean(),c.isRiding=t.readBoolean(),c.canBreed=t.readBoolean(),c.canHarvest=t.readBoolean(),c.canRevive=t.readBoolean(),c.hasBreedingPermission=t.readBoolean(),c.petLevel=t.readInt(),c.petPosture=t.readString();else if(3===u)c.userType=dd.BOT,c.webID=-1*a,-1===n.indexOf(\"/\")?c.figure=n:c.figure=\"hr-100-.hd-180-1.ch-876-66.lg-270-94.sh-300-64\",c.sex=ud.M;else if(4===u){c.userType=dd.RENTABLE_BOT,c.webID=e,c.sex=this.resolveSex(t.readString()),c.figure=n,c.ownerId=t.readInt(),c.ownerName=t.readString();const s=t.readInt();if(s){const e=[];let i=0;for(;i<s;)e.push(t.readShort()),i++;c.botSkills=e}}s++}return!0}resolveSex(t){return\"f\"===t.substr(0,1).toLowerCase()?ud.F:ud.M}convertSwimFigure(t,e,s){const i=e.split(\".\");let r=1,n=1,a=1;let o=0;for(;o<i.length;){const t=i[o].split(\"-\");if(t.length>2){\"hd\"===t[0]&&(r=parseInt(t[2]))}o++}const h=[\"238,238,238\",\"250,56,49\",\"253,146,160\",\"42,199,210\",\"53,51,44\",\"239,255,146\",\"198,255,152\",\"255,146,90\",\"157,89,126\",\"182,243,255\",\"109,255,51\",\"51,120,201\",\"255,182,49\",\"223,161,233\",\"249,251,50\",\"202,175,143\",\"197,198,197\",\"71,98,61\",\"138,131,97\",\"255,140,51\",\"84,198,39\",\"30,108,153\",\"152,79,136\",\"119,200,255\",\"255,192,142\",\"60,75,135\",\"124,44,71\",\"215,255,227\",\"143,63,28\",\"255,99,147\",\"31,155,121\",\"253,255,51\"],_=t.split(\"=\");if(_.length>1){const t=_[1].split(\"/\"),e=(t[0],t[1]);a=\"F\"===s?10010:10011;n=1e4+h.indexOf(e)+1}return e+\".bds-10001-\"+r+\".ss-\"+a+\"-\"+n}get users(){return this._users}}class ld{constructor(){this._unitId=void 0}flush(){return this._unitId=null,!0}parse(t){return!!t&&(this._unitId=parseInt(t.readString()),!0)}get unitId(){return this._unitId}}class gd{constructor(t,e){this._action=void 0,this._value=void 0,this._action=t,this._value=e}get action(){return this._action}get value(){return this._value}}class Ed{constructor(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10?arguments[10]:void 0,u=arguments.length>11?arguments[11]:void 0,c=arguments.length>12?arguments[12]:void 0;this._id=void 0,this._x=void 0,this._y=void 0,this._z=void 0,this._height=void 0,this._headDirection=void 0,this._direction=void 0,this._targetX=void 0,this._targetY=void 0,this._targetZ=void 0,this._didMove=void 0,this._canStandUp=void 0,this._actions=void 0,this._id=t,this._x=e,this._y=s,this._z=i,this._height=r,this._headDirection=n,this._direction=a,this._targetX=o,this._targetY=h,this._targetZ=_,this._didMove=d,this._canStandUp=u,this._actions=c||[]}get id(){return this._id}get x(){return this._x}get y(){return this._y}get z(){return this._z}get height(){return this._height}get headDirection(){return this._headDirection}get direction(){return this._direction}get targetX(){return this._targetX}get targetY(){return this._targetY}get targetZ(){return this._targetZ}get didMove(){return this._didMove}get canStandUp(){return this._canStandUp}get actions(){return this._actions}}class pd{constructor(){this._statuses=void 0}flush(){return this._statuses=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;){const s=this.parseStatus(t);s?(this._statuses.push(s),e--):e--}return!0}parseStatus(t){if(!t)return null;const e=t.readInt(),s=t.readInt(),i=t.readInt(),r=parseFloat(t.readString()),n=t.readInt()%8*45,a=t.readInt()%8*45,o=t.readString();let h=0,_=0,d=0,u=0,c=!1,l=!1;if(o){const t=o.split(\"/\"),g=[];for(const e of t){const t=e.split(\" \");if(\"\"!==t[0]&&t.length>=2){switch(t[0]){case\"mv\":{const e=t[1].split(\",\");e.length>=3&&(h=parseInt(e[0]),_=parseInt(e[1]),d=parseFloat(e[2]),l=!0);break}case\"sit\":{const e=parseFloat(t[1]);t.length>=3&&(c=\"1\"===t[2]),u=e;break}case\"lay\":{const e=parseFloat(t[1]);u=Math.abs(e);break}}g.push(new gd(t[0],t[1]))}}this._statuses.push(new Ed(e,s,i,r,u,n,a,h,_,d,l,c,g))}}get statuses(){return this._statuses}}class md{constructor(){this._isMuted=void 0}flush(){return!0}parse(t){return!!t&&(this._isMuted=t.readBoolean(),!0)}get isMuted(){return this._isMuted}}class Id{constructor(t){this._stuffTypeSelectionEnabled=void 0,this._furniLimit=void 0,this._stuffIds=void 0,this._id=void 0,this._stringParam=void 0,this._intParams=void 0,this._stuffTypeId=void 0,this._stuffTypeSelectionCode=void 0,this._stuffIds=[],this._intParams=[],this._stuffTypeSelectionEnabled=t.readBoolean(),this._furniLimit=t.readInt();let e=t.readInt();for(;e>0;)this._stuffIds.push(t.readInt()),e--;for(this._stuffTypeId=t.readInt(),this._id=t.readInt(),this._stringParam=t.readString(),e=t.readInt();e>0;)this._intParams.push(t.readInt()),e--;this._stuffTypeSelectionCode=t.readInt()}getBoolean(t){return 1===this._intParams[t]}get stuffTypeSelectionEnabled(){return this._stuffTypeSelectionEnabled}get stuffTypeSelectionCode(){return this._stuffTypeSelectionCode}set stuffTypeSelectionCode(t){this._stuffTypeSelectionCode=t}get maximumItemSelectionCount(){return this._furniLimit}get selectedItems(){return this._stuffIds}get id(){return this._id}get stringData(){return this._stringParam}get intData(){return this._intParams}get code(){return 0}get spriteId(){return this._stuffTypeId}}class fd extends Id{constructor(t){super(t),this._type=void 0,this._delayInPulses=void 0,this._conflictingTriggers=void 0,this._conflictingTriggers=[],this._type=t.readInt(),this._delayInPulses=t.readInt();let e=t.readInt();for(;e>0;)this._conflictingTriggers.push(t.readInt()),e--}get type(){return this._type}get code(){return this._type}get delayInPulses(){return this._delayInPulses}get conflictingTriggers(){return this._conflictingTriggers}}class Td{constructor(){this._definition=void 0}flush(){return this._definition=null,!0}parse(t){return!!t&&(this._definition=new fd(t),!0)}get definition(){return this._definition}}class Rd extends Id{constructor(t){super(t),this._type=void 0,this._type=t.readInt()}get type(){return this._type}get code(){return this._type}}class vd{constructor(){this._definition=void 0}flush(){return this._definition=null,!0}parse(t){return!!t&&(this._definition=new Rd(t),!0)}get definition(){return this._definition}}class Od extends Id{constructor(t){super(t),this._triggerConf=void 0,this._conflictingActions=void 0,this._conflictingActions=[],this._triggerConf=t.readInt();let e=t.readInt();for(;e>0;)this._conflictingActions.push(t.readInt()),e--}get code(){return this._triggerConf}get conflictingActions(){return this._conflictingActions}}class Ad{constructor(){this._definition=void 0}flush(){return this._definition=null,!0}parse(t){return!!t&&(this._definition=new Od(t),!0)}get definition(){return this._definition}}class Sd{constructor(){this._stuffId=void 0}flush(){return this._stuffId=0,!0}parse(t){return!!t&&(this._stuffId=t.readInt(),!0)}get stuffId(){return this._stuffId}}class Nd{constructor(){this._reason=void 0}flush(){return this._reason=0,!0}parse(t){return!!t&&(this._reason=t.readInt(),!0)}get reason(){return this._reason}}class yd{flush(){return!0}parse(t){return!!t}}class Dd{constructor(){this._info=void 0}flush(){return this._info=null,!0}parse(t){return!!t&&(this._info=t.readString(),!0)}get info(){return this._info}}class Md{constructor(t){this._userId=void 0,this._userName=void 0,this._userId=t.readInt(),this._userName=t.readString()}get userId(){return this._userId}get userName(){return this._userName}}class Cd{constructor(){this._roomId=void 0,this._bannedUsers=void 0}flush(){return this._roomId=0,this._bannedUsers=[],!0}parse(t){if(!t)return!1;this._roomId=t.readInt();let e=t.readInt();for(;e>0;)this._bannedUsers.push(new Md(t)),e--;return!0}get roomId(){return this._roomId}get bannedUsers(){return this._bannedUsers}}class Ld{constructor(t){this._userId=void 0,this._userName=void 0,this._selected=void 0,this._userId=t.readInt(),this._userName=t.readString()}get userId(){return this._userId}get userName(){return this._userName}get selected(){return this._selected}set selected(t){this._selected=t}}class Ud{constructor(){this._roomId=void 0,this._data=void 0}flush(){return this._roomId=0,this._data=null,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._data=new Ld(t),!0)}get roomId(){return this._roomId}get data(){return this._data}}class Pd{constructor(){this._roomId=void 0,this._userId=void 0}flush(){return this._roomId=0,this._userId=0,!0}parse(t){return!!t&&(this._roomId=t.readInt(),this._userId=t.readInt(),!0)}get roomId(){return this._roomId}get userId(){return this._userId}}class bd{constructor(){this._roomId=void 0,this._users=void 0}flush(){return this._roomId=0,this._users=new Map,!0}parse(t){if(!t)return!1;this._roomId=t.readInt();let e=t.readInt();for(;e>0;){const s=t.readInt(),i=t.readString();this._users.set(s,i),e--}return!0}get roomId(){return this._roomId}get users(){return this._users}}class wd{flush(){return!0}parse(t){return!0}}class Fd{constructor(){this._songDisks=new Map,this._maxLength=void 0}flush(){return this._songDisks.clear(),this._maxLength=0,!0}parse(t){this._maxLength=t.readInt();const e=t.readInt();for(let s=0;s<e;s++)this._songDisks.set(t.readInt(),t.readInt());return!0}get songDisks(){return this._songDisks}get maxLength(){return this._maxLength}}class xd{constructor(){this._currentSongId=void 0,this._currentPosition=void 0,this._nextSongId=void 0,this._nextPosition=void 0,this._syncCount=void 0}flush(){return this._currentSongId=-1,this._currentPosition=-1,this._nextSongId=-1,this._nextPosition=-1,this._syncCount=-1,!0}parse(t){return this._currentSongId=t.readInt(),this._currentPosition=t.readInt(),this._nextSongId=t.readInt(),this._nextPosition=t.readInt(),this._syncCount=t.readInt(),!0}get currentSongId(){return this._currentSongId}get currentPosition(){return this._currentPosition}get nextSongId(){return this._nextSongId}get nextPosition(){return this._nextPosition}get syncCount(){return this._syncCount}}class Bd{constructor(){this._songId=void 0,this._officialSongId=void 0}flush(){return this._songId=0,this._officialSongId=\"\",!0}parse(t){return this._officialSongId=t.readString(),this._songId=t.readInt(),!0}get songId(){return this._songId}get officialSongId(){return this._officialSongId}}class Gd extends v{constructor(t){super(t,wd)}getParser(){return this.parser}}class Hd extends v{constructor(t){super(t,Fd)}getParser(){return this.parser}}class Vd extends v{constructor(t){super(t,xd)}getParser(){return this.parser}}class jd extends v{constructor(t){super(t,Bd)}getParser(){return this.parser}}class kd{constructor(t,e,s,i){this._id=void 0,this._length=void 0,this._name=void 0,this._creator=void 0,this._startPlayHead=0,this._id=t,this._length=e,this._name=s,this._creator=i}get id(){return this._id}get length(){return this._length}get name(){return this._name}get creator(){return this._creator}get startPlayHeadPos(){return this._startPlayHead}set startPlayHeadPos(t){this._startPlayHead=t}}class zd extends v{constructor(t){super(t,qd)}getParser(){return this.parser}}class Yd extends v{constructor(t){super(t,Qd)}getParser(){return this.parser}}class Wd extends kd{constructor(t,e,s,i,r){super(t,e,s,i),this._data=\"\",this._data=r}get data(){return this._data}}class Kd extends v{constructor(t){super(t,Zd)}getParser(){return this.parser}}class Xd extends v{constructor(t){super(t,Jd)}getParser(){return this.parser}}class qd{constructor(){this._synchronizationCount=void 0,this._playlist=void 0}flush(){return this._synchronizationCount=-1,this._playlist=[],!0}parse(t){this._synchronizationCount=t.readInt();const e=t.readInt();for(let s=0;s<e;s++)this._playlist.push(new kd(t.readInt(),t.readInt(),t.readString(),t.readString()));return!0}get synchronizationCount(){return this._synchronizationCount}get playList(){return this._playlist}}class Qd{constructor(){this._entry=void 0}flush(){return this._entry=null,!0}parse(t){return this._entry=new kd(t.readInt(),t.readInt(),t.readString(),t.readString()),!0}get entry(){return this._entry}}class Zd{constructor(){this._songs=void 0}flush(){return this._songs=[],!0}parse(t){const e=t.readInt();for(let s=0;s<e;s++){const e=t.readInt(),s=(t.readString(),t.readString()),i=t.readString(),r=t.readInt(),n=t.readString(),a=new Wd(e,r,s,n,i);this._songs.push(a)}return!0}get songs(){return this._songs}}class Jd{constructor(){this._songDiskInventory=new U}flush(){return this._songDiskInventory.reset(),!0}parse(t){const e=t.readInt();for(let s=0;s<e;s++)this._songDiskInventory.add(t.readInt(),t.readInt());return!0}getDiskId(t){return t>=0&&t<this._songDiskInventory.length?this._songDiskInventory.getKey(t):-1}getSongId(t){return t>=0&&t<this._songDiskInventory.length?this._songDiskInventory.getWithIndex(t):-1}get songDiskCount(){return this._songDiskInventory.length}}class $d{constructor(t,e,s,i,r){this._level=void 0,this._state=void 0,this._tasks=void 0,this._rewardPerks=void 0,this._rewardProducts=void 0,this._level=t,this._state=e,this._tasks=s,this._rewardPerks=i,this._rewardProducts=r}get level(){return this._level}get state(){return this._state}get tasks(){return this._tasks}get perks(){return this._rewardPerks}get items(){return this._rewardProducts}}class tu{constructor(t,e){this._productCode=void 0,this._vipDays=void 0,this._productCode=t,this._vipDays=e}get productCode(){return this._productCode}get vipDays(){return this._vipDays}}class eu{constructor(t,e,s,i,r,n){this._id=void 0,this._requiredLevel=void 0,this._badgeCode=void 0,this._state=void 0,this._currentScore=void 0,this._totalScore=void 0,this._id=t,this._requiredLevel=e,this._badgeCode=s,this._state=i,this._currentScore=r,this._totalScore=n}get id(){return this._id}get requiredLevel(){return this._requiredLevel}get badgeCode(){return this._badgeCode}get state(){return this._state}get currentScore(){return this._currentScore}get totalScore(){return this._totalScore}}class su{constructor(){this._type=void 0,this._levels=void 0}flush(){return this._type=null,this._levels=null,!0}parse(t){if(!t)return!1;this._type=t.readString(),this._levels=[];const e=t.readInt();for(let s=0;s<e;s++){const e=t.readInt(),s=t.readInt(),i=[],r=t.readInt();for(let _=0;_<r;_++){const e=t.readInt(),s=t.readInt(),r=t.readString(),n=t.readInt(),a=t.readInt(),o=t.readInt();i.push(new eu(e,s,r,n,a,o))}const n=[],a=t.readInt();for(let _=0;_<a;_++)n.push(t.readString());const o=[],h=t.readInt();for(let _=0;_<h;_++){const e=t.readString(),s=t.readInt();o.push(new tu(e,s))}this._levels.push(new $d(e,s,i,n,o))}return!0}get type(){return this._type}get levels(){return this._levels}}class iu extends v{constructor(t){super(t,vs)}getParser(){return this.parser}}class ru extends v{constructor(t){super(t,Os)}getParser(){return this.parser}}class nu extends v{constructor(t){super(t,As)}getParser(){return this.parser}}class au extends v{constructor(t){super(t,Ss)}getParser(){return this.parser}}class ou extends v{constructor(t){super(t,Ns)}getParser(){return this.parser}}class hu extends v{constructor(t){super(t,ys)}getParser(){return this.parser}}class _u extends v{constructor(t){super(t,Ds)}getParser(){return this.parser}}class du extends v{constructor(t){super(t,Ms)}getParser(){return this.parser}}class uu extends v{constructor(t){super(t,Cs)}getParser(){return this.parser}}uu.NAME_OK=0,uu.ERROR_NAME_REQUIRED=1,uu.ERROR_NAME_TOO_SHORT=2,uu.ERROR_NAME_TOO_LONG=3,uu.ERROR_NAME_NOT_VALID=4,uu.ERROR_NAME_IN_USE=5,uu.ERROR_NAME_CHANGE_NOT_ALLOWED=6,uu.ERROR_MERGE_HOTEL_DOWN=7;class cu extends v{constructor(t){super(t,Ls)}getParser(){return this.parser}}class lu extends v{constructor(t){super(t,Us)}getParser(){return this.parser}}class gu{constructor(t){this._slotId=void 0,this._figureString=void 0,this._gender=void 0,this._slotId=t.readInt(),this._figureString=t.readString(),this._gender=t.readString()}get slotId(){return this._slotId}get figureString(){return this._figureString}get gender(){return this._gender}}class Eu extends v{constructor(t){super(t,Ps)}getParser(){return this.parser}}class pu extends v{constructor(t){super(t,ws)}getParser(){return this.parser}}class mu extends v{constructor(t){super(t,Fs)}getParser(){return this.parser}}class Iu extends v{constructor(t){super(t,xs)}getParser(){return this.parser}}class fu extends v{constructor(t){super(t,Bs)}getParser(){return this.parser}}class Tu extends v{constructor(t){super(t,Xs)}getParser(){return this.parser}}class Ru extends v{constructor(t){super(t,qs)}getParser(){return this.parser}}class vu extends v{constructor(t){super(t,Qs)}getParser(){return this.parser}}class Ou extends v{constructor(t){super(t,Zs)}getParser(){return this.parser}}class Au extends v{constructor(t){super(t,Js)}getParser(){return this.parser}}class Su extends v{constructor(t){super(t,$s)}getParser(){return this.parser}}class Nu extends v{constructor(t){super(t,ei)}getParser(){return this.parser}}class yu extends v{constructor(t){super(t,si)}getParser(){return this.parser}}class Du extends v{constructor(t){super(t,ii)}getParser(){return this.parser}}class Mu extends v{constructor(t){super(t,ri)}getParser(){return this.parser}}class Cu extends v{constructor(t){super(t,ni)}getParser(){return this.parser}}class Lu{constructor(t){this._Str_20535=void 0,this._Str_19937=void 0,this._Str_20951=void 0,this._Str_20460=void 0,this._Str_16144=void 0,this._Str_20535=t.readInt(),this._Str_19937=t.readInt(),this._Str_20951=t.readInt(),this._Str_20460=t.readInt(),this._Str_16144=[];let e=t.readInt();for(;e>0;)this._Str_16144.push(t.readInt()),e--}get _Str_22802(){return this._Str_20535}get _Str_9227(){return this._Str_19937}get _Str_23802(){return this._Str_20951}get _Str_21500(){return this._Str_20460}get _Str_25155(){return this._Str_16144}}class Uu extends v{constructor(t){super(t,ai)}getParser(){return this.parser}}class Pu extends v{constructor(t){super(t,_i)}getParser(){return this.parser}}class bu extends v{constructor(t){super(t,gi)}getParser(){return this.parser}}class wu extends v{constructor(t){super(t,hi)}getParser(){return this.parser}}class Fu extends v{constructor(t){super(t,Ei)}getParser(){return this.parser}}class xu extends v{constructor(t){super(t,pi)}getParser(){return this.parser}}class Bu extends v{constructor(t){super(t,Ii)}getParser(){return this.parser}}class Gu extends v{constructor(t){super(t,fi)}getParser(){return this.parser}}class Hu extends v{constructor(t){super(t,Ti)}getParser(){return this.parser}}class Vu extends v{constructor(t){super(t,Ri)}getParser(){return this.parser}}class ju extends v{constructor(t){super(t,vi)}getParser(){return this.parser}}class ku extends v{constructor(t){super(t,Si)}getParser(){return this.parser}}class zu extends v{constructor(t){super(t,Ni)}getParser(){return this.parser}}class Yu extends v{constructor(t){super(t,yi)}getParser(){return this.parser}}class Wu extends v{constructor(t){super(t,Di)}getParser(){return this.parser}}class Ku extends v{constructor(t){super(t,Mi)}getParser(){return this.parser}}class Xu extends v{constructor(t){super(t,Ci)}getParser(){return this.parser}}class qu extends v{constructor(t){super(t,Li)}getParser(){return this.parser}}class Qu extends v{constructor(t){super(t,Ui)}getParser(){return this.parser}}class Zu extends v{constructor(t){super(t,Pi)}getParser(){return this.parser}}class Ju extends v{constructor(t){super(t,wi)}getParser(){return this.parser}}class $u extends v{constructor(t){super(t,ur)}getParser(){return this.parser}}class tc extends v{constructor(t){super(t,cr)}getParser(){return this.parser}}class ec extends v{constructor(t){super(t,gr)}getParser(){return this.parser}}class sc extends v{constructor(t){super(t,mr)}getParser(){return this.parser}}class ic extends v{constructor(t){super(t,Er)}getParser(){return this.parser}}class rc extends v{constructor(t){super(t,Ir)}getParser(){return this.parser}}class nc extends v{constructor(t){super(t,fr)}getParser(){return this.parser}}class ac extends v{constructor(t){super(t,Dr)}getParser(){return this.parser}}class oc extends v{constructor(t){super(t,Cr)}getParser(){return this.parser}}class hc extends v{constructor(t){super(t,Lr)}getParser(){return this.parser}}class _c extends v{constructor(t){super(t,Ur)}getParser(){return this.parser}}class dc extends v{constructor(t){super(t,Pr)}getParser(){return this.parser}}class uc extends v{constructor(t){super(t,wr)}getParser(){return this.parser}}class cc extends v{constructor(t){super(t,Fr)}getParser(){return this.parser}}class lc extends v{constructor(t){super(t,xr)}getParser(){return this.parser}}class gc extends v{constructor(t){super(t,Gr)}getParser(){return this.parser}}class Ec extends v{constructor(t){super(t,Vr)}getParser(){return this.parser}}class pc extends v{constructor(t){super(t,jr)}getParser(){return this.parser}}class mc extends v{constructor(t){super(t,zr)}getParser(){return this.parser}}class Ic extends v{constructor(t){super(t,Wr)}getParser(){return this.parser}}class fc extends v{constructor(t){super(t,Kr)}getParser(){return this.parser}}class Tc extends v{constructor(t){super(t,Xr)}getParser(){return this.parser}}class Rc extends v{constructor(t){super(t,qr)}getParser(){return this.parser}}class vc extends v{constructor(t){super(t,Qr)}getParser(){return this.parser}}class Oc extends v{constructor(t){super(t,Zr)}getParser(){return this.parser}}class Ac extends v{constructor(t){super(t,Jr)}getParser(){return this.parser}}class Sc extends v{constructor(t){super(t,$r)}getParser(){return this.parser}}class Nc extends v{constructor(t){super(t,tn)}getParser(){return this.parser}}class yc extends v{constructor(t){super(t,en)}getParser(){return this.parser}}class Dc extends v{constructor(t){super(t,sn)}getParser(){return this.parser}}class Mc extends v{constructor(t){super(t,rn)}getParser(){return this.parser}}class Cc extends v{constructor(t){super(t,nn)}getParser(){return this.parser}}class Lc extends v{constructor(t){super(t,an)}getParser(){return this.parser}}class Uc extends v{constructor(t){super(t,on)}getParser(){return this.parser}}class Pc extends v{constructor(t){super(t,hn)}getParser(){return this.parser}}class bc extends v{constructor(t){super(t,cn)}getParser(){return this.parser}}class wc extends v{constructor(t){super(t,ln)}getParser(){return this.parser}}class Fc extends v{constructor(t){super(t,gn)}getParser(){return this.parser}}class xc extends v{constructor(t){super(t,En)}getParser(){return this.parser}}class Bc{constructor(){this._groupId=void 0,this._name=void 0,this._description=void 0,this._icon=void 0,this._totalThreads=void 0,this._leaderboardScore=void 0,this._totalMessages=void 0,this._unreadMessages=void 0,this._lastMessageId=void 0,this._lastMessageAuthorId=void 0,this._lastMessageAuthorName=void 0,this._lastMessageTimeAsSecondsAgo=void 0}static parse(t){return this.fillFromMessage(new Bc,t)}static fillFromMessage(t,e){return t._groupId=e.readInt(),t._name=e.readString(),t._description=e.readString(),t._icon=e.readString(),t._totalThreads=e.readInt(),t._leaderboardScore=e.readInt(),t._totalMessages=e.readInt(),t._unreadMessages=e.readInt(),t._lastMessageId=e.readInt(),t._lastMessageAuthorId=e.readInt(),t._lastMessageAuthorName=e.readString(),t._lastMessageTimeAsSecondsAgo=e.readInt(),t}get groupId(){return this._groupId}get name(){return this._name}get description(){return this._description}get icon(){return this._icon}get totalThreads(){return this._totalThreads}get leaderboardScore(){return this._leaderboardScore}get totalMessages(){return this._totalMessages}get unreadMessages(){return this._unreadMessages}get lastMessageId(){return this._lastMessageId}get lastMessageAuthorId(){return this._lastMessageAuthorId}get lastMessageAuthorName(){return this._lastMessageAuthorName}get lastMessageTimeAsSecondsAgo(){return this._lastMessageTimeAsSecondsAgo}_Str_25309(t){this._totalThreads=t._totalThreads,this._totalMessages=t._totalMessages,this._unreadMessages=t._unreadMessages,this._lastMessageAuthorId=t._lastMessageAuthorId,this._lastMessageAuthorName=t._lastMessageAuthorName,this._lastMessageId=t._lastMessageId,this._lastMessageTimeAsSecondsAgo=t._lastMessageTimeAsSecondsAgo}get _Str_12786(){return this._totalMessages-this._unreadMessages}set _Str_12786(t){this._unreadMessages=this._totalMessages-t,this._unreadMessages<0&&(this._unreadMessages=0)}_Str_23783(t){this._lastMessageAuthorId=t.lastUserId,this._lastMessageAuthorName=t.lastUserName,this._lastMessageId=t.lastMessageId,this._lastMessageTimeAsSecondsAgo=t.lastCommentTime,this._totalThreads++,this._totalMessages++,this._unreadMessages=0}}class Gc extends Bc{constructor(){super(...arguments),this._readPermissions=void 0,this._postMessagePermissions=void 0,this._postThreadPermissions=void 0,this._moderatePermissions=void 0,this._readPermissionError=void 0,this._postMessagePermissionError=void 0,this._postThreadPermissionError=void 0,this._moderatePermissionError=void 0,this._reportPermissionError=void 0,this._canChangeSettings=void 0,this._isStaff=void 0}static parse(t){const e=new Gc;return Bc.fillFromMessage(e,t),e._readPermissions=t.readInt(),e._postMessagePermissions=t.readInt(),e._postThreadPermissions=t.readInt(),e._moderatePermissions=t.readInt(),e._readPermissionError=t.readString(),e._postMessagePermissionError=t.readString(),e._postThreadPermissionError=t.readString(),e._moderatePermissionError=t.readString(),e._reportPermissionError=t.readString(),e._canChangeSettings=t.readBoolean(),e._isStaff=t.readBoolean(),e}get readPermissions(){return this._readPermissions}get postMessagePermissions(){return this._postMessagePermissions}get postThreadPermissions(){return this._postThreadPermissions}get moderatePermissions(){return this._moderatePermissions}get hasReadPermissionError(){return 0===this._readPermissionError.length}get _Str_21331(){return!0}get hasPostMessagePermissionError(){return 0===this._postMessagePermissionError.length}get hasPostThreadPermissionError(){return 0===this._postThreadPermissionError.length}get hasModeratePermissionError(){return 0===this._moderatePermissionError.length}get canChangeSettings(){return this._canChangeSettings}get isStaf(){return this._isStaff}get readPermissionError(){return this._readPermissionError}get postMessagePermissionError(){return this._postMessagePermissionError}get postThreadPermissionError(){return this._postThreadPermissionError}get moderatePermissionError(){return this._moderatePermissionError}get reportPermissionError(){return this._reportPermissionError}}class Hc{constructor(){this._extendedForumData=void 0}flush(){return this._extendedForumData=null,!0}parse(t){return!!t&&(this._extendedForumData=Gc.parse(t),!0)}get extendedForumData(){return this._extendedForumData}}class Vc extends v{constructor(t){super(t,Hc)}getParser(){return this.parser}}class jc{constructor(){this._listCode=void 0,this._totalAmount=void 0,this._startIndex=void 0,this._amount=void 0,this._forums=void 0}flush(){return this._listCode=-1,this._totalAmount=0,this._startIndex=-1,this._amount=0,this._forums=[],!0}parse(t){if(!t)return!1;this._listCode=t.readInt(),this._totalAmount=t.readInt(),this._startIndex=t.readInt(),this._amount=t.readInt(),this._forums=[];let e=0;for(;e<this._amount;)this._forums.push(Bc.parse(t)),e++;return!0}get listCode(){return this._listCode}get totalAmount(){return this._totalAmount}get startIndex(){return this._startIndex}get amount(){return this._amount}get forums(){return this._forums}}class kc extends v{constructor(t){super(t,jc)}getParser(){return this.parser}}class zc{constructor(){this._threadId=void 0,this._authorId=void 0,this._authorName=void 0,this._creationTimeAsSecondsAgo=void 0,this._header=void 0,this._totalMessages=void 0,this._unreadMessagesCount=void 0,this._lastMessageId=void 0,this._lastUserId=void 0,this._lastUserName=void 0,this._lastCommentTime=void 0,this._state=void 0,this._adminId=void 0,this._adminName=void 0,this._adminOperationTimeAsSecondsAgo=void 0,this._isPinned=void 0,this._isLocked=void 0}static parse(t){const e=new zc;return e._threadId=t.readInt(),e._authorId=t.readInt(),e._authorName=t.readString(),e._header=t.readString(),e._isPinned=t.readBoolean(),e._isLocked=t.readBoolean(),e._creationTimeAsSecondsAgo=t.readInt(),e._totalMessages=t.readInt(),e._unreadMessagesCount=t.readInt(),e._lastMessageId=t.readInt(),e._lastUserId=t.readInt(),e._lastUserName=t.readString(),e._lastCommentTime=t.readInt(),e._state=t.readByte(),e._adminId=t.readInt(),e._adminName=t.readString(),e._adminOperationTimeAsSecondsAgo=t.readInt(),e}get adminOperationTimeAsSecondsAgo(){return this._adminOperationTimeAsSecondsAgo}set adminOperationTimeAsSecondsAgo(t){this._adminOperationTimeAsSecondsAgo=t}get lastCommentTime(){return this._lastCommentTime}set lastCommentTime(t){this._lastCommentTime=t}get threadId(){return this._threadId}set threadId(t){this._threadId=t}get authorId(){return this._authorId}set authorId(t){this._authorId=t}get authorName(){return this._authorName}set authorName(t){this._authorName=t}get creationTimeAsSecondsAgo(){return this._creationTimeAsSecondsAgo}set creationTimeAsSecondsAgo(t){this._creationTimeAsSecondsAgo=t}get header(){return this._header}set header(t){this._header=t}get lastMessageId(){return this._lastMessageId}set lastMessageId(t){this._lastMessageId=t}get lastUserId(){return this._lastUserId}set lastUserId(t){this._lastUserId=t}get lastUserName(){return this._lastUserName}set lastUserName(t){this._lastUserName=t}get totalMessages(){return this._totalMessages}set totalMessages(t){this._totalMessages=t}get unreadMessagesCount(){return this._unreadMessagesCount}set unreadMessagesCount(t){this._unreadMessagesCount=t}get state(){return this._state}set state(t){this._state=t}get adminId(){return this._adminId}set adminId(t){this._adminId=t}get adminName(){return this._adminName}set adminName(t){this._adminName=t}get isPinned(){return this._isPinned}set isPinned(t){this._isPinned=t}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked=t}}class Yc{constructor(){this._groupId=void 0,this._startIndex=void 0,this._amount=void 0,this._threads=void 0}flush(){return this._groupId=-1,this._startIndex=-1,this._amount=0,this._threads=[],!0}parse(t){if(!t)return!1;this._groupId=t.readInt(),this._startIndex=t.readInt(),this._amount=t.readInt(),this._threads=[];let e=0;for(;e<this._amount;)this._threads.push(zc.parse(t)),e++;return!0}get groupId(){return this._groupId}get startIndex(){return this._startIndex}get amount(){return this._amount}get threads(){return this._threads}}class Wc extends v{constructor(t){super(t,Yc)}getParser(){return this.parser}}class Kc{constructor(){this._groupId=void 0,this._messageId=void 0,this._messageIndex=void 0,this._authorId=void 0,this._threadId=void 0,this._creationTime=void 0,this._messageText=void 0,this._authorName=void 0,this._authorFigure=void 0,this._state=void 0,this._adminId=void 0,this._adminName=void 0,this._adminOperationTimeAsSeccondsAgo=void 0,this._authorPostCount=void 0}static parse(t){const e=new Kc;return e._messageId=t.readInt(),e._messageIndex=t.readInt(),e._authorId=t.readInt(),e._authorName=t.readString(),e._authorFigure=t.readString(),e._creationTime=t.readInt(),e._messageText=t.readString(),e._state=t.readByte(),e._adminId=t.readInt(),e._adminName=t.readString(),e._adminOperationTimeAsSeccondsAgo=t.readInt(),e._authorPostCount=t.readInt(),e}get state(){return this._state}set state(t){this._state=t}get adminId(){return this._adminId}set adminId(t){this._adminId=t}get adminName(){return this._adminName}set adminName(t){this._adminName=t}get adminOperationTimeAsSeccondsAgo(){return this._adminOperationTimeAsSeccondsAgo}set adminOperationTimeAsSeccondsAgo(t){this._adminOperationTimeAsSeccondsAgo=t}get messageId(){return this._messageId}set messageId(t){this._messageId=t}get creationTime(){return this._creationTime}set creationTime(t){this._creationTime=t}get authorName(){return this._authorName}set authorName(t){this._authorName=t}get authorFigure(){return this._authorFigure}set authorFigure(t){this._authorFigure=t}get threadId(){return this._threadId}set threadId(t){this._threadId=t}get messageIndex(){return this._messageIndex}set messageIndex(t){this._messageIndex=t}set groupID(t){this._groupId=t}get groupId(){return this._groupId}get authorId(){return this._authorId}set authorId(t){this._authorId=t}get messageText(){return this._messageText}set messageText(t){this._messageText=t}get authorPostCount(){return this._authorPostCount}set authorPostCount(t){this._authorPostCount=t}}class Xc{constructor(){this._groupId=void 0,this._threadId=void 0,this._message=void 0}flush(){return this._groupId=-1,this._threadId=-1,this._message=null,!0}parse(t){return!!t&&(this._groupId=t.readInt(),this._threadId=t.readInt(),this._message=Kc.parse(t),!0)}get groupId(){return this._groupId}get threadId(){return this._threadId}get message(){return this._message}}class qc extends v{constructor(t){super(t,Xc)}getParser(){return this.parser}}class Qc{constructor(){this._groupId=void 0,this._thread=void 0}flush(){return this._groupId=-1,this._thread=null,!0}parse(t){return!!t&&(this._groupId=t.readInt(),this._thread=zc.parse(t),!0)}get groupId(){return this._groupId}get thread(){return this._thread}}class Zc extends v{constructor(t){super(t,Qc)}getParser(){return this.parser}}class Jc{constructor(){this._groupId=void 0,this._threadId=void 0,this._startIndex=void 0,this._amount=void 0,this._messages=void 0}flush(){return this._groupId=-1,this._threadId=-1,this._startIndex=-1,this._amount=0,this._messages=[],!0}parse(t){if(!t)return!1;this._groupId=t.readInt(),this._threadId=t.readInt(),this._startIndex=t.readInt(),this._amount=t.readInt(),this._messages=[];let e=0;for(;e<this._amount;){const s=Kc.parse(t);s.groupID=this._groupId,s.threadId=this._threadId,this._messages.push(s),e++}return!0}get groupId(){return this._groupId}get threadId(){return this._threadId}get startIndex(){return this._startIndex}get amount(){return this._amount}get messages(){return this._messages}}class $c extends v{constructor(t){super(t,Jc)}getParser(){return this.parser}}class tl{constructor(){this._count=void 0}flush(){return this._count=0,!0}parse(t){return!!t&&(this._count=t.readInt(),!0)}get count(){return this._count}}class el extends v{constructor(t){super(t,tl)}getParser(){return this.parser}}class sl{constructor(){this._groupId=void 0,this._threadId=void 0,this._message=void 0}flush(){return this._groupId=-1,this._threadId=-1,this._message=null,!0}parse(t){return!!t&&(this._groupId=t.readInt(),this._threadId=t.readInt(),this._message=Kc.parse(t),!0)}get groupId(){return this._groupId}get threadId(){return this._threadId}get message(){return this._message}}class il extends v{constructor(t){super(t,sl)}getParser(){return this.parser}}class rl{constructor(){this._groupId=void 0,this._thread=void 0}flush(){return this._groupId=-1,this._thread=null,!0}parse(t){return!!t&&(this._groupId=t.readInt(),this._thread=zc.parse(t),!0)}get groupId(){return this._groupId}get thread(){return this._thread}}class nl extends v{constructor(t){super(t,rl)}getParser(){return this.parser}}class al extends v{constructor(t){super(t,pn)}getParser(){return this.parser}}class ol extends v{constructor(t){super(t,mn)}getParser(){return this.parser}}class hl extends v{constructor(t){super(t,In)}getParser(){return this.parser}}class _l extends v{constructor(t){super(t,fn)}getParser(){return this.parser}}class dl extends v{constructor(t){super(t,Tn)}getParser(){return this.parser}}class ul extends v{constructor(t){super(t,Rn)}getParser(){return this.parser}}class cl extends v{constructor(t){super(t,vn)}getParser(){return this.parser}}class ll extends v{constructor(t){super(t,On)}getParser(){return this.parser}}class gl extends v{constructor(t){super(t,An)}getParser(){return this.parser}}class El extends v{constructor(t){super(t,Sn)}getParser(){return this.parser}}class pl extends v{constructor(t){super(t,Nn)}getParser(){return this.parser}}class ml extends v{constructor(t){super(t,yn)}getParser(){return this.parser}}class Il extends v{constructor(t){super(t,Cn)}getParser(){return this.parser}}class fl extends v{constructor(t){super(t,Ln)}getParser(){return this.parser}}class Tl extends v{constructor(t){super(t,Un)}getParser(){return this.parser}}class Rl extends v{constructor(t){super(t,Pn)}getParser(){return this.parser}}class vl extends v{constructor(t){super(t,bn)}getParser(){return this.parser}}class Ol extends v{constructor(t){super(t,wn)}getParser(){return this.parser}}class Al extends v{constructor(t){super(t,Fn)}getParser(){return this.parser}}class Sl extends v{constructor(t){super(t,xn)}getParser(){return this.parser}}class Nl extends v{constructor(t){super(t,Bn)}getParser(){return this.parser}}class yl extends v{constructor(t){super(t,Gn)}getParser(){return this.parser}}class Dl extends v{constructor(t){super(t,Hn)}getParser(){return this.parser}}class Ml extends v{constructor(t){super(t,Vn)}getParser(){return this.parser}}class Cl extends v{constructor(t){super(t,jn)}getParser(){return this.parser}}class Ll extends v{constructor(t){super(t,kn)}getParser(){return this.parser}}class Ul extends v{constructor(t){super(t,zn)}getParser(){return this.parser}}class Pl{}Pl.ACHIEVEMENT_LIST=305,Pl.AUTHENTICATED=2491,Pl.AUTHENTICATION=-1,Pl.AVAILABILITY_STATUS=2033,Pl.BUILDERS_CLUB_EXPIRED=1452,Pl.CLUB_OFFERS=2405,Pl.CATALOG_PAGE=804,Pl.CATALOG_PAGE_LIST=1032,Pl.CATALOG_PURCHASE_OK=869,Pl.CATALOG_PURCHASE_ERROR=1404,Pl.CATALOG_PURCHASE_NOT_ALLOWED=3770,Pl.PRODUCT_OFFER=3388,Pl.LIMITED_SOLD_OUT=377,Pl.CATALOG_PUBLISHED=1866,Pl.CFH_RESULT_MESSAGE=3635,Pl.CLIENT_LATENCY=10,Pl.CLIENT_PING=3928,Pl.DESKTOP_CAMPAIGN=1745,Pl.DESKTOP_NEWS=286,Pl.DESKTOP_VIEW=122,Pl.BUNDLE_DISCOUNT_RULESET=2347,Pl.FIRST_LOGIN_OF_DAY=793,Pl.FURNITURE_ALIASES=1723,Pl.FURNITURE_DATA=2547,Pl.FURNITURE_FLOOR=1778,Pl.FURNITURE_FLOOR_ADD=1534,Pl.FURNITURE_FLOOR_REMOVE=2703,Pl.FURNITURE_FLOOR_UPDATE=3776,Pl.FURNITURE_ITEMDATA=2202,Pl.FURNITURE_STATE=2376,Pl.FURNITURE_GROUP_CONTEXT_MENU_INFO=3293,Pl.FURNITURE_POSTIT_STICKY_POLE_OPEN=2366,Pl.GAME_CENTER_ACHIEVEMENTS=2265,Pl.GAME_CENTER_GAME_LIST=222,Pl.GAME_CENTER_STATUS=2893,Pl.GENERIC_ALERT=3801,Pl.MODERATOR_MESSAGE=2030,Pl.GENERIC_ERROR=1600,Pl.GIFT_WRAPPER_CONFIG=2234,Pl.GROUP_BADGES=2402,Pl.GROUP_CREATE_OPTIONS=2159,Pl.GROUP_FORUM_DATA=3011,Pl.GROUP_FORUM_LIST=3001,Pl.GROUP_FORUM_THREADS=1073,Pl.GROUP_FORUM_POST=2049,Pl.GROUP_FORUM_POST_THREAD=1862,Pl.GROUP_FORUM_THREAD_MESSAGES=509,Pl.GROUP_FORUM_UNREAD_COUNT=2379,Pl.GROUP_FORUM_UPDATE_MESSAGE=324,Pl.GROUP_FORUM_UPDATE_THREAD=2528,Pl.GROUP_INFO=1702,Pl.GROUP_LIST=420,Pl.GROUP_MEMBER=265,Pl.GROUP_MEMBERS=1200,Pl.GROUP_MEMBERS_REFRESH=2445,Pl.GROUP_MEMBER_REMOVE_CONFIRM=1876,Pl.GROUP_PURCHASED=2808,Pl.GROUP_SETTINGS=3965,Pl.GROUP_BADGE_PARTS=2238,Pl.ITEM_DIMMER_SETTINGS=2710,Pl.ITEM_STACK_HELPER=2816,Pl.ITEM_WALL=1369,Pl.ITEM_WALL_ADD=2187,Pl.ITEM_WALL_REMOVE=3208,Pl.ITEM_WALL_UPDATE=2009,Pl.LOAD_GAME_URL=2624,Pl.MARKETPLACE_CONFIG=1823,Pl.MESSENGER_ACCEPT_FRIENDS=896,Pl.MESSENGER_CHAT=1587,Pl.MESSENGER_FIND_FRIENDS=1210,Pl.MESSENGER_FOLLOW_FAILED=3048,Pl.MESSENGER_FRIEND_NOTIFICATION=3082,Pl.MESSENGER_FRIENDS=3130,Pl.MESSENGER_INIT=1605,Pl.MESSENGER_INSTANCE_MESSAGE_ERROR=3359,Pl.MESSENGER_INVITE=3870,Pl.MESSENGER_INVITE_ERROR=462,Pl.MESSENGER_MESSAGE_ERROR=892,Pl.MESSENGER_MINIMAIL_COUNT=2803,Pl.MESSENGER_MINIMAIL_NEW=1911,Pl.MESSENGER_RELATIONSHIPS=2016,Pl.MESSENGER_REQUEST=2219,Pl.MESSENGER_REQUEST_ERROR=892,Pl.MESSENGER_REQUESTS=280,Pl.MESSENGER_SEARCH=973,Pl.MESSENGER_UPDATE=2800,Pl.MODERATION_REPORT_DISABLED=1651,Pl.MODERATION_TOOL=2696,Pl.MODERATION_USER_INFO=2866,Pl.MOTD_MESSAGES=2035,Pl.NAVIGATOR_CATEGORIES=1562,Pl.NAVIGATOR_COLLAPSED=1543,Pl.NAVIGATOR_EVENT_CATEGORIES=3244,Pl.NAVIGATOR_LIFTED=3104,Pl.NAVIGATOR_METADATA=3052,Pl.NAVIGATOR_OPEN_ROOM_CREATOR=2064,Pl.NAVIGATOR_SEARCH=2690,Pl.NAVIGATOR_SEARCHES=3984,Pl.NAVIGATOR_SETTINGS=518,Pl.NOTIFICATION_LIST=1992,Pl.PET_FIGURE_UPDATE=1924,Pl.PET_INFO=2901,Pl.RECYCLER_PRIZES=3164,Pl.ROOM_BAN_LIST=1869,Pl.ROOM_BAN_REMOVE=3429,Pl.ROOM_CREATED=1304,Pl.ROOM_DOORBELL=2309,Pl.ROOM_DOORBELL_ACCEPTED=3783,Pl.ROOM_DOORBELL_REJECTED=878,Pl.ROOM_ENTER=758,Pl.ROOM_ENTER_ERROR=899,Pl.ROOM_FORWARD=160,Pl.ROOM_HEIGHT_MAP=2753,Pl.ROOM_HEIGHT_MAP_UPDATE=558,Pl.ROOM_INFO=687,Pl.ROOM_INFO_OWNER=749,Pl.ROOM_MODEL=1301,Pl.ROOM_MODEL_BLOCKED_TILES=3990,Pl.ROOM_MODEL_DOOR=1664,Pl.ROOM_MODEL_NAME=2031,Pl.ROOM_MUTED=2533,Pl.ROOM_MUTE_USER=826,Pl.ROOM_PAINT=2454,Pl.ROOM_PROMOTION=2274,Pl.ROOM_QUEUE_STATUS=2208,Pl.ROOM_RIGHTS=780,Pl.ROOM_RIGHTS_CLEAR=2392,Pl.ROOM_RIGHTS_LIST=1284,Pl.ROOM_RIGHTS_LIST_ADD=2088,Pl.ROOM_RIGHTS_LIST_REMOVE=1327,Pl.ROOM_RIGHTS_OWNER=339,Pl.ROOM_ROLLING=3207,Pl.ROOM_SCORE=482,Pl.ROOM_SETTINGS=1498,Pl.ROOM_SETTINGS_CHAT=1191,Pl.ROOM_SETTINGS_SAVE=948,Pl.ROOM_SETTINGS_SAVE_ERROR=1555,Pl.ROOM_SETTINGS_UPDATED=3297,Pl.ROOM_SPECTATOR=1033,Pl.ROOM_THICKNESS=3547,Pl.INFO_FEED_ENABLE=3284,Pl.SECURITY_MACHINE=1488,Pl.MYSTERY_BOX_KEYS=2833,Pl.TRADE_ACCEPTED=2568,Pl.TRADE_CLOSED=1373,Pl.TRADE_COMPLETED=1001,Pl.TRADE_CONFIRMATION=2720,Pl.TRADE_LIST_ITEM=2024,Pl.TRADE_NOT_OPEN=3128,Pl.TRADE_OPEN=2505,Pl.TRADE_OPEN_FAILED=217,Pl.TRADE_OTHER_NOT_ALLOWED=2154,Pl.TRADE_YOU_NOT_ALLOWED=3058,Pl.UNIT=374,Pl.UNIT_CHANGE_NAME=2182,Pl.UNIT_CHAT=1446,Pl.UNIT_CHAT_SHOUT=1036,Pl.UNIT_CHAT_WHISPER=2704,Pl.UNIT_DANCE=2233,Pl.UNIT_EFFECT=1167,Pl.UNIT_EXPRESSION=1631,Pl.UNIT_HAND_ITEM=1474,Pl.UNIT_IDLE=1797,Pl.UNIT_INFO=3920,Pl.UNIT_NUMBER=2324,Pl.UNIT_REMOVE=2661,Pl.UNIT_STATUS=1640,Pl.UNIT_TYPING=1717,Pl.UNSEEN_ITEMS=2103,Pl.USER_ACHIEVEMENT_SCORE=1968,Pl.USER_BADGES=717,Pl.USER_BADGES_ADD=2493,Pl.USER_BADGES_CURRENT=1087,Pl.USER_BOT_REMOVE=233,Pl.USER_BOTS=3086,Pl.USER_CHANGE_NAME=118,Pl.USER_CLOTHING=1450,Pl.USER_CREDITS=3475,Pl.USER_CURRENCY=2018,Pl.ACTIVITY_POINT_NOTIFICATION=2275,Pl.USER_EFFECTS=340,Pl.USER_FAVORITE_ROOM=2524,Pl.USER_FAVORITE_ROOM_COUNT=151,Pl.USER_FIGURE=2429,Pl.USER_FURNITURE=994,Pl.USER_FURNITURE_ADD=104,Pl.USER_FURNITURE_POSTIT_PLACED=1501,Pl.USER_FURNITURE_REFRESH=3151,Pl.USER_FURNITURE_REMOVE=159,Pl.USER_HOME_ROOM=2875,Pl.USER_IGNORED=126,Pl.USER_IGNORED_RESULT=207,Pl.USER_INFO=2725,Pl.USER_OUTFITS=3315,Pl.USER_PERKS=2586,Pl.USER_PERMISSIONS=411,Pl.USER_PET_ADD=2101,Pl.USER_PET_REMOVE=3253,Pl.USER_PETS=3522,Pl.USER_PROFILE=3898,Pl.USER_RESPECT=2815,Pl.USER_SANCTION_STATUS=3679,Pl.USER_SETTINGS=513,Pl.USER_SUBSCRIPTION=954,Pl.USER_WARDROBE_PAGE=3315,Pl.WIRED_ACTION=1434,Pl.WIRED_CONDITION=1108,Pl.WIRED_ERROR=156,Pl.WIRED_OPEN=1830,Pl.WIRED_REWARD=178,Pl.WIRED_SAVE=1155,Pl.WIRED_TRIGGER=383,Pl.PLAYING_GAME=448,Pl.FURNITURE_STATE_2=3431,Pl.REMOVE_BOT_FROM_INVENTORY=233,Pl.ADD_BOT_TO_INVENTORY=1352,Pl.ACHIEVEMENT_PROGRESSED=2107,Pl.MODTOOL_ROOM_INFO=1333,Pl.MODTOOL_USER_CHATLOG=3377,Pl.MODTOOL_ROOM_CHATLOG=3434,Pl.MODTOOL_VISITED_ROOMS_USER=1752,Pl.MODERATOR_ACTION_RESULT=2335,Pl.ISSUE_DELETED=3192,Pl.ISSUE_INFO=3609,Pl.ISSUE_PICK_FAILED=3150,Pl.CFH_CHATLOG=607,Pl.MODERATOR_TOOL_PREFERENCES=1576,Pl.LOVELOCK_FURNI_START=3753,Pl.LOVELOCK_FURNI_FRIEND_COMFIRMED=382,Pl.LOVELOCK_FURNI_FINISHED=770,Pl.GIFT_RECEIVER_NOT_FOUND=1517,Pl.GIFT_OPENED=56,Pl.FLOOD_CONTROL=566,Pl.REMAINING_MUTE=826,Pl.USER_EFFECT_LIST=340,Pl.USER_EFFECT_LIST_ADD=2867,Pl.USER_EFFECT_LIST_REMOVE=2228,Pl.USER_EFFECT_ACTIVATE=1959,Pl.CLUB_GIFT_INFO=619,Pl.REDEEM_VOUCHER_ERROR=714,Pl.REDEEM_VOUCHER_OK=3336,Pl.IN_CLIENT_LINK=2023,Pl.BOT_COMMAND_CONFIGURATION=1618,Pl.HAND_ITEM_RECEIVED=354,Pl.PET_PLACING_ERROR=2913,Pl.BOT_ERROR=639,Pl.MARKETPLACE_SELL_ITEM=54,Pl.MARKETPLACE_ITEM_STATS=725,Pl.MARKETPLACE_OWN_ITEMS=3884,Pl.MARKETPLACE_CANCEL_SALE=3264,Pl.MARKETPLACE_ITEM_POSTED=1359,Pl.MARKETPLACE_ITEMS_SEARCHED=680,Pl.MARKETPLACE_AFTER_ORDER_STATUS=2032,Pl.CATALOG_RECEIVE_PET_BREEDS=3331,Pl.CATALOG_APPROVE_NAME_RESULT=1503,Pl.OBJECTS_DATA_UPDATE=1453,Pl.PET_EXPERIENCE=2156,Pl.COMMUNITY_GOAL_VOTE_EVENT=1435,Pl.PROMO_ARTICLES=286,Pl.COMMUNITY_GOAL_EARNED_PRIZES=3319,Pl.COMMUNITY_GOAL_PROGRESS=2525,Pl.CONCURRENT_USERS_GOAL_PROGRESS=2737,Pl.QUEST_DAILY=1878,Pl.QUEST_CANCELLED=3027,Pl.QUEST_COMPLETED=949,Pl.COMMUNITY_GOAL_HALL_OF_FAME=3005,Pl.EPIC_POPUP=3945,Pl.SEASONAL_QUESTS=1122,Pl.QUESTS=3625,Pl.QUEST=230,Pl.BONUS_RARE_INFO=1533,Pl.CRAFTABLE_PRODUCTS=1e3,Pl.CRAFTING_RECIPE=2774,Pl.CRAFTING_RECIPES_AVAILABLE=2124,Pl.CRAFTING_RESULT=618,Pl.CAMERA_PUBLISH_STATUS=2057,Pl.CAMERA_PURCHASE_OK=2783,Pl.CAMERA_STORAGE_URL=3696,Pl.COMPETITION_STATUS=133,Pl.INIT_CAMERA=3878,Pl.THUMBNAIL_STATUS=3595,Pl.ACHIEVEMENT_NOTIFICATION=806,Pl.CLUB_GIFT_NOTIFICATION=2188,Pl.INTERSTITIAL_MESSAGE=1808,Pl.ROOM_AD_ERROR=1759,Pl.AVAILABILITY_TIME=600,Pl.HOTEL_CLOSED_AND_OPENS=3728,Pl.HOTEL_CLOSES_AND_OPENS_AT=2771,Pl.HOTEL_WILL_CLOSE_MINUTES=1050,Pl.HOTEL_MAINTENANCE=1350,Pl.JUKEBOX_PLAYLIST_FULL=105,Pl.JUKEBOX_SONG_DISKS=34,Pl.NOW_PLAYING=469,Pl.OFFICIAL_SONG_ID=1381,Pl.PLAYLIST=1748,Pl.PLAYLIST_SONG_ADDED=1140,Pl.TRAX_SONG_INFO=3365,Pl.USER_SONG_DISKS_INVENTORY=2602,Pl.CHECK_USER_NAME=563,Pl.CFH_SANCTION=2782,Pl.CFH_TOPICS=325,Pl.CFH_SANCTION_STATUS=2221,Pl.CAMPAIGN_CALENDAR_DATA=2531,Pl.CAMPAIGN_CALENDAR_DOOR_OPENED=2551,Pl.BUILDERS_CLUB_FURNI_COUNT=3828,Pl.BUILDERS_CLUB_SUBSCRIPTION=1452,Pl.CATALOG_PAGE_EXPIRATION=2668,Pl.CATALOG_EARLIEST_EXPIRY=2515,Pl.CLUB_GIFT_SELECTED=659,Pl.TARGET_OFFER_NOT_FOUND=1237,Pl.TARGET_OFFER=119,Pl.DIRECT_SMS_CLUB_BUY=195,Pl.ROOM_AD_PURCHASE=2468,Pl.NOT_ENOUGH_BALANCE=3914,Pl.LIMITED_OFFER_APPEARING_NEXT=44,Pl.IS_OFFER_GIFTABLE=761,Pl.CLUB_EXTENDED_OFFER=3964,Pl.SEASONAL_CALENDAR_OFFER=1889,Pl.COMPETITION_ENTRY_SUBMIT=1177,Pl.COMPETITION_VOTING_INFO=3506,Pl.COMPETITION_TIMING_CODE=1745,Pl.COMPETITION_USER_PART_OF=3841,Pl.COMPETITION_NO_OWNED_ROOMS=2064,Pl.COMPETITION_SECONDS_UNTIL=3926,Pl.BADGE_POINT_LIMITS=2501,Pl.BADGE_REQUEST_FULFILLED=2998,Pl.HELPER_TALENT_TRACK=3406,Pl.USER_BANNED=1683,Pl.BOT_RECEIVED=3684,Pl.PET_LEVEL_NOTIFICATION=859,Pl.PET_RECEIVED=1111,Pl.MODERATION_CAUTION=1890,Pl.YOUTUBE_CONTROL_VIDEO=1554,Pl.YOUTUBE_DISPLAY_PLAYLISTS=1112,Pl.YOUTUBE_DISPLAY_VIDEO=1411,Pl.CFH_DISABLED_NOTIFY=1651,Pl.QUESTION=2665,Pl.POLL_CONTENTS=2997,Pl.POLL_ERROR=662,Pl.POLL_OFFER=3785,Pl.QUESTION_ANSWERED=2589,Pl.QUESTION_FINISHED=1066,Pl.CFH_PENDING_CALLS=1121,Pl.GUIDE_ON_DUTY_STATUS=1548,Pl.GUIDE_SESSION_ATTACHED=1591,Pl.GUIDE_SESSION_DETACHED=138,Pl.GUIDE_SESSION_ENDED=1456,Pl.GUIDE_SESSION_ERROR=673,Pl.GUIDE_SESSION_INVITED_TO_GUIDE_ROOM=219,Pl.GUIDE_SESSION_MESSAGE=841,Pl.GUIDE_SESSION_PARTNER_IS_TYPING=1016,Pl.GUIDE_SESSION_REQUESTER_ROOM=1847,Pl.GUIDE_SESSION_STARTED=3209,Pl.GUIDE_TICKET_CREATION_RESULT=3285,Pl.GUIDE_TICKET_RESOLUTION=2674,Pl.GUIDE_REPORTING_STATUS=3463,Pl.HOTEL_MERGE_NAME_CHANGE=1663,Pl.ISSUE_CLOSE_NOTIFICATION=934,Pl.QUIZ_DATA=2927,Pl.QUIZ_RESULTS=2772,Pl.CFH_PENDING_CALLS_DELETED=77,Pl.CFH_REPLY=3796,Pl.CHAT_REVIEW_SESSION_DETACHED=30,Pl.CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE=735,Pl.CHAT_REVIEW_SESSION_RESULTS=3276,Pl.CHAT_REVIEW_SESSION_STARTED=143,Pl.CHAT_REVIEW_SESSION_VOTING_STATUS=1829,Pl.SCR_SEND_KICKBACK_INFO=3277,Pl.PET_STATUS=1907,Pl.GROUP_DEACTIVATE=3129,Pl.PET_RESPECTED=2788,Pl.PET_SUPPLEMENT=3441,Pl.NOOBNESS_LEVEL=3738,Pl.CAN_CREATE_ROOM_EVENT=2599,Pl.FAVORITE_GROUP_UDPATE=3403;class bl extends v{constructor(t){super(t,Wn)}getParser(){return this.parser}}class wl{constructor(t){this._achievementId=void 0,this._level=void 0,this._badgeId=void 0,this._requiredLevel=void 0,this._state=void 0,this._achievementId=t.readInt(),this._level=t.readInt(),this._badgeId=t.readString(),this._requiredLevel=t.readInt(),this._state=t.readInt()}dispose(){this._achievementId=0,this._level=0,this._badgeId=\"\",this._requiredLevel=0}get achievementId(){return this._achievementId}get level(){return this._level}get badgeId(){return this._badgeId}get requiredLevel(){return this._requiredLevel}get enabled(){return this._state===wl.STATE_SELECTABLE}get state(){return this._state}}wl.STATE_SELECTABLE=0;class Fl extends v{constructor(t){super(t,Kn)}getParser(){return this.parser}}class xl extends v{constructor(t){super(t,Xn)}getParser(){return this.parser}}class Bl extends v{constructor(t){super(t,qn)}getParser(){return this.parser}}class Gl extends v{constructor(t){super(t,Qn)}getParser(){return this.parser}}class Hl extends v{constructor(t){super(t,Zn)}getParser(){return this.parser}}class Vl extends v{constructor(t){super(t,$n)}getParser(){return this.parser}}class jl extends v{constructor(t){super(t,ea)}getParser(){return this.parser}}class kl extends v{constructor(t){super(t,sa)}getParser(){return this.parser}}class zl extends v{constructor(t){super(t,ia)}getParser(){return this.parser}}class Yl extends v{constructor(t){super(t,ra)}getParser(){return this.parser}}class Wl extends v{constructor(t){super(t,na)}getParser(){return this.parser}}class Kl extends v{constructor(t){super(t,Ra)}getParser(){return this.parser}}class Xl extends v{constructor(t){super(t,Oa)}getParser(){return this.parser}}class ql extends v{constructor(t){super(t,va)}getParser(){return this.parser}}class Ql extends v{constructor(t){super(t,Aa)}getParser(){return this.parser}}class Zl extends v{constructor(t){super(t,Sa)}getParser(){return this.parser}}class Jl extends v{constructor(t){super(t,Na)}getParser(){return this.parser}}class $l extends v{constructor(t){super(t,ya)}getParser(){return this.parser}}class tg extends v{constructor(t){super(t,Ma)}getParser(){return this.parser}}class eg extends v{constructor(t){super(t,Ca)}getParser(){return this.parser}}class sg extends v{constructor(t){super(t,La)}getParser(){return this.parser}}class ig extends v{constructor(t){super(t,Ua)}get userID(){return this.getParser().userID}get userAccepts(){return this.getParser().userAccepts}getParser(){return this.parser}}class rg extends v{constructor(t){super(t,Pa)}get userID(){return this.getParser().userID}getParser(){return this.parser}}class ng extends v{constructor(t){super(t,ba)}getParser(){return this.parser}}class ag extends v{constructor(t){super(t,wa)}getParser(){return this.parser}}class og extends v{constructor(t){super(t,xa)}get firstUserID(){return this.getParser().firstUserID}get secondUserID(){return this.getParser().secondUserID}get firstUserNumItems(){return this.getParser().firstUserNumItems}get secondUserNumItems(){return this.getParser().secondUserNumItems}get firstUserNumCredits(){return this.getParser().firstUserNumCredits}get secondUserNumCredits(){return this.getParser().secondUserNumCredits}get firstUserItemArray(){return this.getParser().firstUserItemArray}get secondUserItemArray(){return this.getParser().secondUserItemArray}getParser(){return this.parser}}class hg extends v{constructor(t){super(t,Ba)}getParser(){return this.parser}}class _g extends v{constructor(t){super(t,Ha)}get userID(){return this.getParser().userID}get userCanTrade(){return this.getParser().userCanTrade}get otherUserID(){return this.getParser().otherUserID}get otherUserCanTrade(){return this.getParser().otherUserCanTrade}getParser(){return this.parser}}class dg extends v{constructor(t){super(t,Ga)}getParser(){return this.parser}}class ug extends v{constructor(t){super(t,Va)}getParser(){return this.parser}}class cg extends v{constructor(t){super(t,ja)}getParser(){return this.parser}}class lg extends v{constructor(t){super(t,za)}getParser(){return this.parser}}class gg extends v{constructor(t){super(t,Ya)}getParser(){return this.parser}}class Eg extends v{constructor(t){super(t,Wa)}getParser(){return this.parser}}class pg extends v{constructor(t){super(t,Ka)}getParser(){return this.parser}}class mg extends v{constructor(t){super(t,Xa)}getParser(){return this.parser}}class Ig extends v{constructor(t){super(t,qa)}getParser(){return this.parser}}class fg extends v{constructor(t){super(t,Za)}getParser(){return this.parser}}class Tg extends v{constructor(t){super(t,Qa)}getParser(){return this.parser}}class Rg extends v{constructor(t){super(t,to)}getParser(){return this.parser}}class vg extends v{constructor(t){super(t,eo)}getParser(){return this.parser}}class Og extends v{constructor(t){super(t,no)}getParser(){return this.parser}}class Ag extends v{constructor(t){super(t,ao)}getParser(){return this.parser}}class Sg extends v{constructor(t){super(t,_o)}getParser(){return this.parser}}class Ng extends v{constructor(t){super(t,uo)}getParser(){return this.parser}}class yg extends v{constructor(t){super(t,lo)}getParser(){return this.parser}}class Dg extends v{constructor(t){super(t,co)}getParser(){return this.parser}}class Mg extends v{constructor(t){super(t,Eo)}getParser(){return this.parser}}class Cg extends v{constructor(t){super(t,po)}getParser(){return this.parser}}class Lg extends v{constructor(t){super(t,fo)}getParser(){return this.parser}}class Ug extends v{constructor(t){super(t,To)}getParser(){return this.parser}}class Pg extends v{constructor(t){super(t,vo)}getParser(){return this.parser}}class bg extends v{constructor(t){super(t,Oo)}getParser(){return this.parser}}class wg extends v{constructor(t){super(t,No)}getParser(){return this.parser}}class Fg extends v{constructor(t){super(t,yo)}getParser(){return this.parser}}class xg extends v{constructor(t){super(t,Mo)}getParser(){return this.parser}}class Bg extends v{constructor(t){super(t,Co)}getParser(){return this.parser}}class Gg extends v{constructor(t){super(t,Lo)}getParser(){return this.parser}}class Hg extends v{constructor(t){super(t,Po)}getParser(){return this.parser}}class Vg extends v{constructor(t){super(t,bo)}getParser(){return this.parser}}class jg extends v{constructor(t){super(t,Fo)}getParser(){return this.parser}}class kg extends v{constructor(t){super(t,xo)}getParser(){return this.parser}}class zg extends v{constructor(t){super(t,Go)}getParser(){return this.parser}}class Yg extends v{constructor(t){super(t,jo)}getParser(){return this.parser}}class Wg extends v{constructor(t){super(t,ko)}getParser(){return this.parser}}class Kg extends v{constructor(t){super(t,zo)}getParser(){return this.parser}}class Xg extends v{constructor(t){super(t,Xo)}getParser(){return this.parser}}class qg extends v{constructor(t){super(t,qo)}getParser(){return this.parser}}class Qg{constructor(t){this._type=void 0,this._level=void 0,this._points=void 0,this._levelRewardPoints=void 0,this._levelRewardPointType=void 0,this._bonusPoints=void 0,this._badgeId=void 0,this._badgeCode=\"\",this._removedBadgeCode=\"\",this._achievementID=void 0,this._category=void 0,this._showDialogToUser=void 0,this._type=t.readInt(),this._level=t.readInt(),this._badgeId=t.readInt(),this._badgeCode=t.readString(),this._points=t.readInt(),this._levelRewardPoints=t.readInt(),this._levelRewardPointType=t.readInt(),this._bonusPoints=t.readInt(),this._achievementID=t.readInt(),this._removedBadgeCode=t.readString(),this._category=t.readString(),this._showDialogToUser=t.readBoolean()}get type(){return this._type}get level(){return this._level}get points(){return this._points}get levelRewardPoints(){return this._levelRewardPoints}get levelRewardPointType(){return this._levelRewardPointType}get bonusPoints(){return this._bonusPoints}get badgeId(){return this._badgeId}get badgeCode(){return this._badgeCode}get removedBadgeCode(){return this._removedBadgeCode}get achievementID(){return this._achievementID}get category(){return this._category}get showDialogToUser(){return this._showDialogToUser}}class Zg extends v{constructor(t){super(t,Qo)}getParser(){return this.parser}}class Jg extends v{constructor(t){super(t,Zo)}getParser(){return this.parser}}class $g extends v{constructor(t){super(t,Jo)}getParser(){return this.parser}}class tE extends v{constructor(t){super(t,$o)}getParser(){return this.parser}}class eE extends v{constructor(t){super(t,th)}getParser(){return this.parser}}class sE extends v{constructor(t){super(t,eh)}getParser(){return this.parser}}class iE extends v{constructor(t){super(t,sh)}getParser(){return this.parser}}class rE extends v{constructor(t){super(t,ih)}getParser(){return this.parser}}class nE extends v{constructor(t){super(t,rh)}getParser(){return this.parser}}class aE extends v{constructor(t){super(t,nh)}getParser(){return this.parser}}class oE extends v{constructor(t){super(t,ah)}getParser(){return this.parser}}class hE extends v{constructor(t){super(t,_h)}getParser(){return this.parser}}class _E extends v{constructor(t){super(t,ch)}getParser(){return this.parser}}class dE extends v{constructor(t){super(t,lh)}getParser(){return this.parser}}class uE extends v{constructor(t){super(t,gh)}getParser(){return this.parser}}class cE extends v{constructor(t){super(t,Eh)}getParser(){return this.parser}}class lE extends v{constructor(t){super(t,mh)}getParser(){return this.parser}}class gE extends v{constructor(t){super(t,ph)}getParser(){return this.parser}}class EE extends v{constructor(t){super(t,fh)}getParser(){return this.parser}}class pE extends v{constructor(t){super(t,vh)}getParser(){return this.parser}}class mE extends v{constructor(t){super(t,Ah)}getParser(){return this.parser}}class IE extends v{constructor(t){super(t,Sh)}getParser(){return this.parser}}class fE extends v{constructor(t){super(t,Nh)}getParser(){return this.parser}}class TE extends v{constructor(t){super(t,yh)}getParser(){return this.parser}}class RE extends v{constructor(t){super(t,Mh)}getParser(){return this.parser}}class vE extends v{constructor(t){super(t,Ch)}getParser(){return this.parser}}class OE extends v{constructor(t){super(t,Lh)}getParser(){return this.parser}}class AE extends v{constructor(t){super(t,Uh)}getParser(){return this.parser}}class SE extends v{constructor(t){super(t,Ph)}getParser(){return this.parser}}class NE extends v{constructor(t){super(t,wh)}getParser(){return this.parser}}class yE extends v{constructor(t){super(t,Fh)}getParser(){return this.parser}get userName(){return this.getParser().userName}}class DE extends v{constructor(t){super(t,xh)}getParser(){return this.parser}}class ME extends v{constructor(t){super(t,Bh)}getParser(){return this.parser}}class CE extends v{constructor(t){super(t,Vh)}getParser(){return this.parser}}class LE extends v{constructor(t){super(t,Gh)}getParser(){return this.parser}}class UE extends v{constructor(t){super(t,bh)}getParser(){return this.parser}}class PE extends v{constructor(t){super(t,jh)}getParser(){return this.parser}}class bE extends v{constructor(t){super(t,kh)}getParser(){return this.parser}}class wE extends v{constructor(t){super(t,zh)}getParser(){return this.parser}}class FE extends v{constructor(t){super(t,qh)}getParser(){return this.parser}}class xE extends v{constructor(t){super(t,Wh)}getParser(){return this.parser}}class BE extends v{constructor(t){super(t,Kh)}getParser(){return this.parser}}class GE extends v{constructor(t){super(t,Qh)}getParser(){return this.parser}}class HE extends v{constructor(t){super(t,Zh)}getParser(){return this.parser}}class VE extends v{constructor(t){super(t,Jh)}getParser(){return this.parser}}class jE extends v{constructor(t){super(t,$h)}getParser(){return this.parser}}class kE extends v{constructor(t){super(t,t_)}getParser(){return this.parser}}class zE extends v{constructor(t){super(t,i_)}getParser(){return this.parser}}class YE extends v{constructor(t){super(t,n_)}getParser(){return this.parser}}class WE extends v{constructor(t){super(t,a_)}getParser(){return this.parser}}class KE extends v{constructor(t){super(t,o_)}getParser(){return this.parser}}class XE extends v{constructor(t){super(t,__)}getParser(){return this.parser}}class qE extends v{constructor(t){super(t,d_)}getParser(){return this.parser}}class QE extends v{constructor(t){super(t,u_)}getParser(){return this.parser}}class ZE extends v{constructor(t){super(t,c_)}getParser(){return this.parser}}class JE extends v{constructor(t){super(t,l_)}getParser(){return this.parser}}class $E extends v{constructor(t){super(t,fa)}getParser(){return this.parser}}class tp{constructor(){this._itemId=void 0}flush(){return this._itemId=0,!0}parse(t){return!!t&&(this._itemId=parseInt(t.readString()),!0)}get furnitureId(){return this._itemId}}class ep extends v{constructor(t){super(t,tp)}getParser(){return this.parser}}class sp extends v{constructor(t){super(t,g_)}getParser(){return this.parser}}class ip extends v{constructor(t){super(t,E_)}getParser(){return this.parser}}class rp extends v{constructor(t){super(t,p_)}getParser(){return this.parser}}class np extends v{constructor(t){super(t,m_)}getParser(){return this.parser}}class ap extends v{constructor(t){super(t,I_)}getParser(){return this.parser}}class op extends v{constructor(t){super(t,f_)}getParser(){return this.parser}}class hp extends v{constructor(t){super(t,T_)}getParser(){return this.parser}}class _p extends v{constructor(t){super(t,v_)}getParser(){return this.parser}}class dp extends v{constructor(t){super(t,A_)}getParser(){return this.parser}}class up extends v{constructor(t){super(t,S_)}getParser(){return this.parser}}class cp extends v{constructor(t){super(t,N_)}getParser(){return this.parser}}class lp extends v{constructor(t){super(t,y_)}getParser(){return this.parser}}class gp extends v{constructor(t){super(t,D_)}getParser(){return this.parser}}class Ep extends v{constructor(t){super(t,C_)}getParser(){return this.parser}}class pp extends v{constructor(t){super(t,L_)}getParser(){return this.parser}}class mp extends v{constructor(t){super(t,B_)}getParser(){return this.parser}}class Ip extends v{constructor(t){super(t,G_)}getParser(){return this.parser}}class fp extends v{constructor(t){super(t,H_)}getParser(){return this.parser}}class Tp extends v{constructor(t){super(t,V_)}getParser(){return this.parser}}class Rp extends v{constructor(t){super(t,j_)}getParser(){return this.parser}}class vp extends v{constructor(t){super(t,k_)}getParser(){return this.parser}}class Op extends v{constructor(t){super(t,z_)}getParser(){return this.parser}}class Ap extends v{constructor(t){super(t,Y_)}getParser(){return this.parser}}class Sp extends v{constructor(t){super(t,W_)}getParser(){return this.parser}}class Np extends v{constructor(t){super(t,K_)}getParser(){return this.parser}}class yp extends v{constructor(t){super(t,X_)}getParser(){return this.parser}}class Dp extends v{constructor(t){super(t,Q_)}getParser(){return this.parser}}class Mp extends v{constructor(t){super(t,J_)}getParser(){return this.parser}}class Cp extends v{constructor(t){super(t,$_)}getParser(){return this.parser}}class Lp extends v{constructor(t){super(t,td)}getParser(){return this.parser}}class Up extends v{constructor(t){super(t,td)}getParser(){return this.parser}}class Pp extends v{constructor(t){super(t,td)}getParser(){return this.parser}}class bp extends v{constructor(t){super(t,ed)}getParser(){return this.parser}}class wp extends v{constructor(t){super(t,sd)}getParser(){return this.parser}}class Fp extends v{constructor(t){super(t,id)}getParser(){return this.parser}}class xp extends v{constructor(t){super(t,cd)}getParser(){return this.parser}}class Bp extends v{constructor(t){super(t,rd)}getParser(){return this.parser}}class Gp extends v{constructor(t){super(t,nd)}getParser(){return this.parser}}class Hp extends v{constructor(t){super(t,ad)}getParser(){return this.parser}}class Vp extends v{constructor(t){super(t,od)}getParser(){return this.parser}}class jp extends v{constructor(t){super(t,hd)}getParser(){return this.parser}}class kp extends v{constructor(t){super(t,_d)}getParser(){return this.parser}}class zp extends v{constructor(t){super(t,ld)}getParser(){return this.parser}}class Yp extends v{constructor(t){super(t,pd)}getParser(){return this.parser}}class Wp extends v{constructor(t){super(t,md)}getParser(){return this.parser}}class Kp extends v{constructor(t){super(t,Td)}getParser(){return this.parser}}class Xp extends v{constructor(t){super(t,vd)}getParser(){return this.parser}}class qp extends v{constructor(t){super(t,Ad)}getParser(){return this.parser}}class Qp extends v{constructor(t){super(t,Sd)}getParser(){return this.parser}}class Zp extends v{constructor(t){super(t,Nd)}getParser(){return this.parser}}Zp.PRODUCT_DONATED_CODE=6,Zp.BADGE_DONATED_CODE=7;class Jp extends v{constructor(t){super(t,yd)}getParser(){return this.parser}}class $p extends v{constructor(t){super(t,Dd)}getParser(){return this.parser}}class tm extends v{constructor(t){super(t,Cd)}getParser(){return this.parser}}class em extends v{constructor(t){super(t,Ud)}getParser(){return this.parser}}class sm extends v{constructor(t){super(t,Pd)}getParser(){return this.parser}}class im extends v{constructor(t){super(t,bd)}getParser(){return this.parser}}class rm extends v{constructor(t){super(t,su)}getParser(){return this.parser}}class nm extends v{constructor(t){super(t,Fi)}getParser(){return this.parser}}class am extends v{constructor(t){super(t,xi)}getParser(){return this.parser}}class om extends v{constructor(t){super(t,Hi)}getParser(){return this.parser}}class hm extends v{constructor(t){super(t,Vi)}getParser(){return this.parser}}class _m extends v{constructor(t){super(t,ki)}getParser(){return this.parser}}class dm extends v{constructor(t){super(t,zi)}getParser(){return this.parser}}class um extends v{constructor(t){super(t,Wi)}getParser(){return this.parser}}class cm extends v{constructor(t){super(t,Ki)}getParser(){return this.parser}}class lm{constructor(){this._groups=void 0}flush(){return this._groups=[],!0}parse(t){if(!t)return!1;let e=t.readInt();for(;e>0;)this._groups.push(new Yi(t)),e--;return!0}get groups(){return this._groups}}class gm extends v{constructor(t){super(t,lm)}getParser(){return this.parser}}class Em extends v{constructor(t){super(t,Xi)}getParser(){return this.parser}}class pm extends v{constructor(t){super(t,qi)}getParser(){return this.parser}}class mm extends v{constructor(t){super(t,Qi)}getParser(){return this.parser}}class Im extends v{constructor(t){super(t,Zi)}getParser(){return this.parser}}class fm extends v{constructor(t){super(t,Ji)}getParser(){return this.parser}}class Tm extends v{constructor(t){super(t,$i)}getParser(){return this.parser}}class Rm extends v{constructor(t){super(t,tr)}getParser(){return this.parser}}class vm extends v{constructor(t){super(t,nr)}getParser(){return this.parser}}class Om{}Om.WATER=0,Om.LIGHT=1,Om.REVIVE=2,Om.REBREED_FERTILIZER=3,Om.SPEED_FERTILIZER=4;class Am extends v{constructor(t){super(t,ar)}getParser(){return this.parser}}class Sm extends v{constructor(t){super(t,_r)}getParser(){return this.parser}}class Nm extends v{constructor(t){super(t,dr)}getParser(){return this.parser}}class ym{constructor(){this._data=void 0,this._data=[]}dispose(){}getMessageArray(){return this._data}}class Dm{constructor(){this._data=void 0,this._data=[]}dispose(){}getMessageArray(){return this._data}}class Mm{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Cm{constructor(t){this._data=void 0,this._data=[t]}dispose(){this._data=null}getMessageArray(){return this._data}}class Lm{constructor(t){this._data=void 0,this._data=[t]}dispose(){this._data=null}getMessageArray(){return this._data}}class Um{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Pm{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class bm{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class wm{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Fm{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class xm{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=[]}assignBitmap(t){const e=At.generateImageUrl(t);if(!e)return;const s=e.split(\",\")[1],i=Uint8Array.from(atob(s),(t=>t.charCodeAt(0)));this._data.push(i.byteLength,i.buffer)}assignBase64(t){const e=t.split(\",\")[1],s=Uint8Array.from(atob(e),(t=>t.charCodeAt(0)));this._data.push(s.byteLength,s.buffer)}}class Bm extends xm{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1)}}class Gm{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Hm{constructor(t,e){this._data=void 0,this._data=[t,e]}dispose(){this._data=null}getMessageArray(){return this._data}}class Vm{constructor(t,e){this._data=void 0,this._data=[t,e]}dispose(){this._data=null}getMessageArray(){return this._data}}class jm{constructor(t,e,s,i,r,n){this._data=void 0,this._data=[t,e,s,i,r,n]}dispose(){this._data=null}getMessageArray(){return this._data}}class km{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}dispose(){this._data=null}getMessageArray(){return this._data}}class zm{constructor(){this._data=void 0,this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class Ym{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Wm{constructor(){this._data=void 0,this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class Km{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Xm{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class qm{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Qm{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Zm{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class Jm{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){this._data=null}}class $m{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){this._data=null}}class tI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class eI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class sI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class iI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){this._data=null}}class rI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class nI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){this._data=null}}class aI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class oI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class hI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class _I{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class dI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class uI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class cI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){this._data=null}}class lI{constructor(t,e,s,i,r,n,a,o,h){this._data=void 0,this._data=[t,e,s,i,r,n,a,o,h]}getMessageArray(){return this._data}dispose(){}}class gI{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class EI{constructor(t,e,s,i,r,n,a){this._data=void 0,this._data=[t,e,s,i,r,n,a]}getMessageArray(){return this._data}dispose(){}}class pI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class mI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class II{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class fI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class TI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class RI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class vI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class OI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class AI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class SI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class NI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class yI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class DI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class MI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class CI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}CI.CONFIRM_LEVEL_NOT_ACCEPTED=0,CI.CONFIRM_LEVEL_NOT_SUBMITTED=1,CI.CONFIRM_LEVEL_NOT_CONFIRMED=2,CI.CONFIRM_LEVEL_COMMIT=3;class LI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class UI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class PI{constructor(t,e){this._data=void 0,this._data=[t,e.length].concat(e)}getMessageArray(){return this._data}dispose(){}}class bI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class wI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class FI{constructor(t,e){this._data=void 0,this._data=[t,e.length].concat(e)}getMessageArray(){return this._data}dispose(){}}class xI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class BI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class GI{constructor(){this._data=void 0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this._data=[e.length,...e]}getMessageArray(){return this._data}dispose(){}}class HI{constructor(t){this._data=void 0;for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];this._data=[t,s.length,...s]}getMessageArray(){return this._data}dispose(){}}class VI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class jI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class kI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class zI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class YI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class WI{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class KI{constructor(){this._data=void 0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this._data=[e.length,...e]}getMessageArray(){return this._data}dispose(){}}class XI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class qI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class QI{constructor(t,e){this._data=void 0,this._data=[e.length,...e,t]}getMessageArray(){return this._data}dispose(){}}class ZI{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class JI{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class $I{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class tf{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}tf.NO_ISSUE_ID=-1;class ef{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class sf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}sf.NO_ISSUE_ID=-1;class rf{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class nf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class af{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class of{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class hf{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class _f{constructor(t,e,s,i,r,n){this._data=void 0,this._data=[t,e,s,i,r,n.length,...n]}getMessageArray(){return this._data}dispose(){}}class df{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class uf{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class cf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class lf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class gf{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Ef{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class pf{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class mf{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class If{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class ff{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Tf{constructor(t,e){this._data=void 0,this._data=[t,e.length,...e]}getMessageArray(){return this._data}dispose(){}}class Rf{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class vf{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class Of{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class Af{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Sf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Nf{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class yf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Df{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class Mf{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Cf{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class Lf{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Uf{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class Pf{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class bf{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class wf{constructor(){this._data=void 0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this._data=[e.length],e.forEach((t=>{this._data.push(t.k),this._data.push(t._arg_2),this._data.push(t._arg_3)}))}getMessageArray(){return this._data}dispose(){}}class Ff{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e,s,i,r]}getMessageArray(){return this._data}dispose(){}}class xf{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,i,s]}getMessageArray(){return this._data}dispose(){}}class Bf{constructor(t,e,s){if(this._type=void 0,this._data=void 0,this._type=t,e.length===s.length){this._data=[];for(let t=0;t<e.length;t++)this._data.push(e[t]),this._data.push(s[t])}}getMessageArray(){return this._data}dispose(){}}class Gf{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Hf{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class Vf{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class jf{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e,s,i,r]}getMessageArray(){return this._data}dispose(){}}class kf{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class zf{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i.length/2,...i]}getMessageArray(){return this._data}dispose(){}}class Yf{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e,s,i,r]}getMessageArray(){return this._data}dispose(){}}class Wf{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e,s,i,r]}getMessageArray(){return this._data}dispose(){}}class Kf{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e,s,i,r.length/2,...r]}getMessageArray(){return this._data}dispose(){}}class Xf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class qf{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Qf{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Zf{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Jf{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class $f{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class tT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class eT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class sT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class iT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class rT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class nT{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class aT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class oT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class hT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class _T{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class dT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class uT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class cT{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class lT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class gT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class ET{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class pT{constructor(t,e){this._data=void 0,this._data=[t,e.length,...e]}getMessageArray(){return this._data}dispose(){}}class mT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class IT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class fT{constructor(){this._badges=[]}getMessageArray(){const t=[];for(let e=0;e<this._badges.length;e++)e<=this._badges.length?(t.push(e+1),t.push(this._badges[e])):(t.push(e+1),t.push(\"\"));return t}dispose(){}addActivatedBadge(t){this._badges.push(t)}}class TT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class RT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class vT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class OT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class AT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class ST{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class NT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class yT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class DT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class MT{constructor(){this._data=void 0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this._data=[e.length,...e]}getMessageArray(){return this._data}dispose(){}}class CT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class LT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class UT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class PT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class bT{constructor(t){this._data=void 0;for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];this._data=[t,s.length,...s]}getMessageArray(){return this._data}dispose(){}}class wT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class FT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class xT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){this._data=null}}class BT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){this._data=null}}class HT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class VT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class jT{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){this._data=null}}class kT{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){this._data=null}}class zT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class YT{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class WT{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class KT{constructor(t,e,s){this._data=void 0,this._data=[t,e.length,...e,s]}getMessageArray(){return this._data}dispose(){}}class XT{constructor(t,e){this._data=void 0,this._data=[e,t.length,...t]}getMessageArray(){return this._data}dispose(){}}XT.RESOLUTION_USELESS=1,XT.RESOLUTION_ABUSIVE=2,XT.RESOLUTION_RESOLVED=3;class qT{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;this._data=void 0,this._data=[t,e,s,i,r],n!=qT.NO_ISSUE_ID&&this._data.push(n)}getMessageArray(){return this._data}dispose(){}}qT.NO_ISSUE_ID=-1;class QT{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this._data=void 0,this._data=[t,e,s],i!=qT.NO_ISSUE_ID&&this._data.push(i)}getMessageArray(){return this._data}dispose(){}}class ZT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class JT{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class $T{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class tR{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._data=void 0,this._data=[e,t]}getMessageArray(){return this._data}dispose(){}}class eR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class sR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class iR{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this._data=void 0,this._data=[t,e,s],i!=qT.NO_ISSUE_ID&&this._data.push(i)}getMessageArray(){return this._data}dispose(){}}class rR{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class nR{constructor(t,e,s){this._data=[],this._data.push(t),this._data.push(e),this._data.push(s)}getMessageArray(){return this._data}dispose(){}}nR.ACTION_ALERT=0,nR.ACTION_KICK=1,nR.ACTION_MESSAGE=3,nR.ACTION_MESSAGE_AND_SOFT_KICK=4;class aR{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this._data=void 0,this._data=[t,e,s],i!=qT.NO_ISSUE_ID&&this._data.push(i)}getMessageArray(){return this._data}dispose(){}}class oR{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this._data=[],this._data.push(t),this._data.push(e),this._data.push(\"\"),this._data.push(\"\"),this._data.push(s),i!=qT.NO_ISSUE_ID&&this._data.push(i)}getMessageArray(){return this._data}dispose(){}}class hR{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this._data=void 0,this._data=[t,e,s],i!=qT.NO_ISSUE_ID&&this._data.push(i)}getMessageArray(){return this._data}dispose(){}}class _R{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class dR{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class uR{constructor(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this._data=void 0,this._data=[t,e,s,i],r!=qT.NO_ISSUE_ID&&this._data.push(r)}getMessageArray(){return this._data}dispose(){}}class cR{constructor(t,e,s,i){this._data=void 0,this._data=[t.length,...t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class lR{constructor(t){this._data=void 0,this._data=[t.length,...t]}getMessageArray(){return this._data}dispose(){}}class gR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class ER{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class pR{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class mR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class IR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class fR{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class TR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class RR{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class vR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class OR{constructor(t,e,s,i,r,n){this._data=void 0,this._data=[t,e,s,i,r,n]}getMessageArray(){return this._data}dispose(){}}class AR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class SR{}SR.ACHIEVEMENT_LIST=219,SR.AUTHENTICATION=-1,SR.BOT_CONFIGURATION=1986,SR.BOT_PICKUP=3323,SR.BOT_PLACE=1592,SR.BOT_SKILL_SAVE=2624,SR.GET_CLUB_OFFERS=3285,SR.GET_CLUB_GIFT_INFO=487,SR.GET_CATALOG_INDEX=1195,SR.GET_CATALOG_PAGE=412,SR.CATALOG_PURCHASE=3492,SR.CATALOG_PURCHASE_GIFT=1411,SR.GET_PRODUCT_OFFER=2594,SR.CLIENT_LATENCY=295,SR.CLIENT_LATENCY_MEASURE=96,SR.CLIENT_POLICY=26979,SR.CLIENT_PONG=2596,SR.CLIENT_TOOLBAR_TOGGLE=2313,SR.CLIENT_VARIABLES=1053,SR.GET_CURRENT_TIMING_CODE=2912,SR.DESKTOP_NEWS=1827,SR.DESKTOP_VIEW=105,SR.GET_BUNDLE_DISCOUNT_RULESET=223,SR.EVENT_TRACKER=3457,SR.FIND_NEW_FRIENDS=516,SR.FURNITURE_ALIASES=3898,SR.FURNITURE_FLOOR_UPDATE=248,SR.FURNITURE_MULTISTATE=99,SR.FURNITURE_PICKUP=3456,SR.FURNITURE_PLACE=1258,SR.FURNITURE_POSTIT_PLACE=2248,SR.FURNITURE_POSTIT_SAVE_STICKY_POLE=3283,SR.FURNITURE_RANDOMSTATE=3617,SR.FURNITURE_WALL_MULTISTATE=210,SR.FURNITURE_WALL_UPDATE=168,SR.GAMES_INIT=2914,SR.GAMES_LIST=741,SR.GET_GIFT_WRAPPING_CONFIG=418,SR.GROUP_ADMIN_ADD=2894,SR.GROUP_ADMIN_REMOVE=722,SR.GROUP_CREATE_OPTIONS=798,SR.GROUP_FAVORITE=3549,SR.GET_FORUM_STATS=3149,SR.GET_FORUM_THREADS=873,SR.GET_FORUMS_LIST=436,SR.GET_FORUM_MESSAGES=232,SR.GET_FORUM_THREAD=3900,SR.GET_UNREAD_FORUMS_COUNT=2908,SR.FORUM_MODERATE_MESSAGE=286,SR.FORUM_MODERATE_THREAD=1397,SR.FORUM_POST_MESSAGE=3529,SR.UPDATE_FORUM_READ_MARKER=1855,SR.UPDATE_FORUM_SETTINGS=2214,SR.FORUM_UPDATE_THREAD=3045,SR.GROUP_INFO=2991,SR.GROUP_DELETE=1134,SR.GROUP_MEMBER_REMOVE_CONFIRM=3593,SR.GROUP_MEMBER_REMOVE=593,SR.GROUP_MEMBERS=312,SR.GROUP_MEMBERSHIPS=367,SR.GROUP_REQUEST=998,SR.GROUP_REQUEST_ACCEPT=3386,SR.GROUP_REQUEST_DECLINE=1894,SR.GROUP_SETTINGS=1004,SR.GROUP_PARTS=813,SR.GROUP_BUY=230,SR.GROUP_SAVE_INFORMATION=3137,SR.GROUP_SAVE_BADGE=1991,SR.GROUP_SAVE_COLORS=1764,SR.GROUP_SAVE_PREFERENCES=3435,SR.GROUP_BADGES=21,SR.INVENTORY_UNKNOWN=1371,SR.ITEM_CLOTHING_REDEEM=3374,SR.ITEM_COLOR_WHEEL_CLICK=2144,SR.ITEM_DICE_CLICK=1990,SR.ITEM_DICE_CLOSE=1533,SR.ITEM_DIMMER_SAVE=1648,SR.ITEM_DIMMER_SETTINGS=2813,SR.ITEM_DIMMER_TOGGLE=2296,SR.ITEM_EXCHANGE_REDEEM=3115,SR.ITEM_PAINT=711,SR.SET_OBJECT_DATA=3608,SR.ITEM_STACK_HELPER=3839,SR.ITEM_WALL_CLICK=210,SR.ITEM_WALL_UPDATE=168,SR.MARKETPLACE_CONFIG=2597,SR.ACCEPT_FRIEND=137,SR.MESSENGER_CHAT=3567,SR.DECLINE_FRIEND=2890,SR.FOLLOW_FRIEND=3997,SR.MESSENGER_FRIENDS=1523,SR.MESSENGER_INIT=2781,SR.MESSENGER_RELATIONSHIPS=2138,SR.SET_RELATIONSHIP_STATUS=3768,SR.REMOVE_FRIEND=1689,SR.REQUEST_FRIEND=3157,SR.GET_FRIEND_REQUESTS=2448,SR.SEND_ROOM_INVITE=1276,SR.HABBO_SEARCH=1210,SR.FRIEND_LIST_UPDATE=1419,SR.MOD_TOOL_USER_INFO=3295,SR.NAVIGATOR_CATEGORIES=3027,SR.NAVIGATOR_INIT=2110,SR.NAVIGATOR_SEARCH=249,SR.NAVIGATOR_SEARCH_CLOSE=1834,SR.NAVIGATOR_SEARCH_OPEN=637,SR.NAVIGATOR_SEARCH_SAVE=2226,SR.NAVIGATOR_SETTINGS=1782,SR.NAVIGATOR_SETTINGS_SAVE=3159,SR.NAVIGATOR_CATEGORY_LIST_MODE=1202,SR.PET_INFO=2934,SR.PET_PICKUP=1581,SR.PET_PLACE=2647,SR.PET_RESPECT=3202,SR.PET_RIDE=1036,SR.PET_MOVE=3449,SR.RECYCLER_PRIZES=398,SR.RELEASE_VERSION=4e3,SR.CALL_FOR_HELP=1691,SR.ROOM_AMBASSADOR_ALERT=2996,SR.ROOM_BAN_GIVE=1477,SR.ROOM_BAN_LIST=2267,SR.ROOM_BAN_REMOVE=992,SR.ROOM_CREATE=2752,SR.ROOM_DELETE=532,SR.ROOM_DOORBELL=1644,SR.ROOM_ENTER=2312,SR.ROOM_FAVORITE=3817,SR.ROOM_FAVORITE_REMOVE=309,SR.ROOM_INFO=2230,SR.ROOM_KICK=1320,SR.ROOM_LIKE=3582,SR.ROOM_MODEL=2300,SR.GET_OCCUPIED_TILES=1687,SR.GET_ROOM_ENTRY_TILE=3559,SR.ROOM_MODEL_SAVE=875,SR.ROOM_MUTE=3637,SR.ROOM_MUTE_USER=3485,SR.ROOM_RIGHTS_GIVE=808,SR.ROOM_RIGHTS_LIST=3385,SR.ROOM_RIGHTS_REMOVE=2064,SR.ROOM_RIGHTS_REMOVE_ALL=2683,SR.ROOM_RIGHTS_REMOVE_OWN=3182,SR.ROOM_SETTINGS=3129,SR.ROOM_SETTINGS_SAVE=1969,SR.ROOM_STAFF_PICK=1918,SR.SECURITY_MACHINE=2490,SR.SECURITY_TICKET=2419,SR.TRADE=1481,SR.TRADE_ACCEPT=3863,SR.TRADE_CANCEL=2341,SR.TRADE_CLOSE=2551,SR.TRADE_CONFIRM=2760,SR.TRADE_ITEM=3107,SR.TRADE_ITEM_REMOVE=3845,SR.TRADE_ITEMS=1263,SR.TRADE_UNACCEPT=1444,SR.UNIT_ACTION=2456,SR.UNIT_CHAT=1314,SR.UNIT_CHAT_SHOUT=2085,SR.UNIT_CHAT_WHISPER=1543,SR.UNIT_DANCE=2080,SR.UNIT_DROP_HAND_ITEM=2814,SR.UNIT_GIVE_HANDITEM=2941,SR.UNIT_LOOK=3301,SR.UNIT_POSTURE=2235,SR.UNIT_SIGN=1975,SR.UNIT_TYPING=1597,SR.UNIT_TYPING_STOP=1474,SR.UNIT_WALK=3320,SR.USER_BADGES=2769,SR.USER_BADGES_CURRENT=2091,SR.USER_BADGES_CURRENT_UPDATE=644,SR.USER_BOTS=3848,SR.USER_CURRENCY=273,SR.USER_EFFECT_ACTIVATE=2959,SR.USER_EFFECT_ENABLE=1752,SR.USER_FIGURE=2730,SR.USER_FURNITURE=3150,SR.USER_FURNITURE2=3500,SR.USER_HOME_ROOM=1740,SR.USER_INFO=357,SR.USER_MOTTO=2228,SR.USER_IGNORED=3878,SR.USER_PETS=3095,SR.USER_PROFILE=3265,SR.USER_PROFILE_BY_NAME=2249,SR.USER_RESPECT=2694,SR.GET_SOUND_SETTINGS=2388,SR.USER_SETTINGS_CAMERA=1461,SR.USER_SETTINGS_CHAT_STYLE=1030,SR.USER_SETTINGS_INVITES=1086,SR.USER_SETTINGS_OLD_CHAT=1262,SR.USER_SETTINGS_VOLUME=1367,SR.USER_SUBSCRIPTION=3166,SR.GET_WARDROBE=2742,SR.SAVE_WARDROBE_OUTFIT=800,SR.USER_TAGS=17,SR.VISIT_USER=2970,SR.WIRED_ACTION_SAVE=2281,SR.WIRED_APPLY_SNAPSHOT=3373,SR.WIRED_CONDITION_SAVE=3203,SR.WIRED_OPEN=768,SR.WIRED_TRIGGER_SAVE=1520,SR.GET_ITEM_DATA=3964,SR.ONE_WAY_DOOR_CLICK=2765,SR.REMOVE_WALL_ITEM=3336,SR.SET_ITEM_DATA=3666,SR.CATALOG_REDEEM_VOUCHER=339,SR.ROOM_TONER_APPLY=2880,SR.FRIEND_FURNI_CONFIRM_LOCK=3775,SR.MANNEQUIN_SAVE_NAME=2850,SR.MANNEQUIN_SAVE_LOOK=2209,SR.PRESENT_OPEN_PRESENT=3558,SR.CATALOG_SELECT_VIP_GIFT=2276,SR.USER_IGNORE_ID=3314,SR.USER_IGNORE=1117,SR.USER_UNIGNORE=2061,SR.MODTOOL_REQUEST_ROOM_INFO=707,SR.MODTOOL_CHANGE_ROOM_SETTINGS=3260,SR.MODTOOL_REQUEST_USER_CHATLOG=1391,SR.MODTOOL_REQUEST_ROOM_CHATLOG=2587,SR.MODTOOL_SANCTION_ALERT=229,SR.MODTOOL_SANCTION_BAN=2766,SR.MODTOOL_SANCTION_KICK=2582,SR.MODTOOL_SANCTION_TRADELOCK=3742,SR.MODTOOL_ALERTEVENT=1840,SR.MODTOOL_SANCTION_MUTE=1945,SR.MODTOOL_REQUEST_USER_ROOMS=3526,SR.MODTOOL_ROOM_ALERT=3842,SR.MODTOOL_PREFERENCES=31,SR.CLOSE_ISSUE_DEFAULT_ACTION=2717,SR.CLOSE_ISSUES=2067,SR.DEFAULT_SANCTION=1681,SR.GET_CFH_CHATLOG=211,SR.MODTOOL_SANCTION=1392,SR.PICK_ISSUES=15,SR.RELEASE_ISSUES=1572,SR.CONVERT_GLOBAL_ROOM_ID=314,SR.REQUEST_SELL_ITEM=848,SR.REQUEST_MARKETPLACE_ITEM_STATS=3288,SR.MARKETPLACE_SELL_ITEM=3447,SR.MARKETPLACE_REQUEST_OWN_ITEMS=2105,SR.MARKETPLACE_TAKE_BACK_ITEM=434,SR.MARKETPLACE_REDEEM_CREDITS=2650,SR.MARKETPLACE_REQUEST_OFFERS=2407,SR.MARKETPLACE_BUY_OFFER=1603,SR.MARKETPLACE_BUY_TOKENS=1866,SR.CATALOG_REQUESET_PET_BREEDS=1756,SR.APPROVE_NAME=2109,SR.UNIT_GIVE_HANDITEM_PET=2768,SR.PET_MOUNT=1036,SR.PET_SUPPLEMENT=749,SR.FURNITURE_GROUP_INFO=2651,SR.ACHIEVEMENT_RESOLUTION_OPEN=359,SR.USE_PET_PRODUCT=1328,SR.REMOVE_PET_SADDLE=186,SR.TOGGLE_PET_RIDING=1472,SR.TOGGLE_PET_BREEDING=3379,SR.UNSEEN_RESET_CATEGORY=3493,SR.UNSEEN_RESET_ITEMS=2343,SR.COMMUNITY_GOAL_VOTE_COMPOSER=3536,SR.GET_PROMO_ARTICLES=1827,SR.ACCEPT_QUEST=3604,SR.ACTIVATE_QUEST=793,SR.CANCEL_QUEST=3133,SR.FRIEND_REQUEST_QUEST_COMPLETE=1148,SR.GET_COMMUNITY_GOAL_EARNED_PRIZES=2688,SR.GET_COMMUNITY_GOAL_HALL_OF_FAME=2167,SR.GET_COMMUNITY_GOAL_PROGRESS=1145,SR.GET_CONCURRENT_USERS_GOAL_PROGRESS=1343,SR.GET_CONCURRENT_USERS_REWARD=3872,SR.GET_DAILY_QUEST=2486,SR.GET_QUESTS=3333,SR.GET_SEASONAL_QUESTS_ONLY=1190,SR.OPEN_QUEST_TRACKER=2750,SR.REDEEM_COMMUNITY_GOAL_PRIZE=90,SR.REJECT_QUEST=2397,SR.START_CAMPAIGN=1697,SR.GET_BONUS_RARE_INFO=957,SR.CRAFT=3591,SR.CRAFT_SECRET=1251,SR.GET_CRAFTABLE_PRODUCTS=633,SR.GET_CRAFTING_RECIPE=1173,SR.GET_CRAFTING_RECIPES_AVAILABLE=3086,SR.PHOTO_COMPETITION=3959,SR.PUBLISH_PHOTO=2068,SR.PURCHASE_PHOTO=2408,SR.RENDER_ROOM=3226,SR.RENDER_ROOM_THUMBNAIL=1982,SR.REQUEST_CAMERA_CONFIGURATION=796,SR.ADD_JUKEBOX_DISK=753,SR.GET_JUKEBOX_PLAYLIST=1435,SR.GET_NOW_PLAYING=1325,SR.GET_OFFICIAL_SONG_ID=3189,SR.GET_SONG_INFO=3082,SR.GET_SOUND_MACHINE_PLAYLIST=3498,SR.GET_USER_SONG_DISKS=2304,SR.REMOVE_JUKEBOX_DISK=3050,SR.INTERSTITIAL_SHOWN=1109,SR.GET_INTERSTITIAL=2519,SR.CHANGE_USERNAME=2977,SR.CHECK_USERNAME=3950,SR.OPEN_CAMPAIGN_CALENDAR_DOOR_STAFF=3889,SR.OPEN_CAMPAIGN_CALENDAR_DOOR=2257,SR.BUILDERS_CLUB_PLACE_ROOM_ITEM=1051,SR.BUILDERS_CLUB_PLACE_WALL_ITEM=462,SR.BUILDERS_CLUB_QUERY_FURNI_COUNT=2529,SR.GET_CATALOG_PAGE_EXPIRATION=742,SR.GET_CATALOG_PAGE_WITH_EARLIEST_EXP=3135,SR.GET_DIRECT_CLUB_BUY_AVAILABLE=801,SR.GET_HABBO_BASIC_MEMBERSHIP_EXTEND_OFFER=603,SR.GET_HABBO_CLUB_EXTEND_OFFER=2462,SR.GET_IS_OFFER_GIFTABLE=1347,SR.GET_LIMITED_OFFER_APPEARING_NEXT=410,SR.GET_NEXT_TARGETED_OFFER=596,SR.GET_ROOM_AD_PURCHASE_INFO=1075,SR.GET_SEASONAL_CALENDAR_DAILY_OFFER=3257,SR.GET_TARGETED_OFFER=2487,SR.MARK_CATALOG_NEW_ADDITIONS_PAGE_OPENED=2150,SR.PURCHASE_BASIC_MEMBERSHIP_EXTENSION=2735,SR.PURCHASE_ROOM_AD=777,SR.PURCHASE_TARGETED_OFFER=1826,SR.PURCHASE_VIP_MEMBERSHIP_EXTENSION=3407,SR.ROOM_AD_PURCHASE_INITIATED=2283,SR.SET_TARGETTED_OFFER_STATE=2041,SR.SHOP_TARGETED_OFFER_VIEWED=3483,SR.HELPER_TALENT_TRACK=196,SR.FORWARD_TO_A_COMPETITION_ROOM=172,SR.FORWARD_TO_A_SUBMITTABLE_ROOM=1450,SR.FORWARD_TO_RANDOM_COMPETITION_ROOM=865,SR.GET_IS_USER_PART_OF_COMPETITION=2077,SR.GET_SECONDS_UNTIL=271,SR.ROOM_COMPETITION_INIT=1334,SR.SUBMIT_ROOM_TO_COMPETITION=2595,SR.VOTE_FOR_ROOM=143,SR.GET_GIFT=2436,SR.RESET_PHONE_NUMBER_STATE=2741,SR.SET_PHONE_NUMBER_VERIFICATION_STATUS=1379,SR.TRY_PHONE_NUMBER=790,SR.VERIFY_CODE=2721,SR.CONTROL_YOUTUBE_DISPLAY_PLAYBACK=3005,SR.GET_YOUTUBE_DISPLAY_STATUS=336,SR.SET_YOUTUBE_DISPLAY_PLAYLIST=2069,SR.GO_TO_FLAT=685,SR.CALL_FOR_HELP_FROM_FORUM_MESSAGE=1412,SR.CALL_FOR_HELP_FROM_FORUM_THREAD=534,SR.CALL_FOR_HELP_FROM_IM=2950,SR.CALL_FOR_HELP_FROM_PHOTO=2492,SR.CALL_FOR_HELP_FROM_SELFIE=2755,SR.CHAT_REVIEW_GUIDE_DECIDES=3365,SR.CHAT_REVIEW_GUIDE_DETACHED=2501,SR.CHAT_REVIEW_GUIDE_VOTE=3961,SR.CHAT_REVIEW_SESSION_CREATE=3060,SR.DELETE_PENDING_CALLS_FOR_HELP=3605,SR.GET_CFH_STATUS=2746,SR.GET_FAQ_CATEGORY=3445,SR.GET_FAQ_TEXT=1849,SR.GET_GUIDE_REPORTING_STATUS=3786,SR.GET_PENDING_CALLS_FOR_HELP=3267,SR.GET_QUIZ_QUESTIONS=1296,SR.GUIDE_SESSION_CREATE=3338,SR.GUIDE_SESSION_FEEDBACK=477,SR.GUIDE_SESSION_GET_REQUESTER_ROOM=1052,SR.GUIDE_SESSION_GUIDE_DECIDES=1424,SR.GUIDE_SESSION_INVITE_REQUESTER=234,SR.GUIDE_SESSION_IS_TYPING=519,SR.GUIDE_SESSION_MESSAGE=3899,SR.GUIDE_SESSION_ON_DUTY_UPDATE=1922,SR.GUIDE_SESSION_REPORT=3969,SR.GUIDE_SESSION_REQUESTER_CANCELS=291,SR.GUIDE_SESSION_RESOLVED=887,SR.POST_QUIZ_ANSWERS=3720,SR.SEARCH_FAQS=2031,SR.POLL_ANSWER=3505,SR.POLL_REJECT=1773,SR.POLL_START=109,SR.DISCONNECT=2445,SR.SCR_GET_KICKBACK_INFO=869,SR.COMPOST_PLANT=3835,SR.HARVEST_PET=1521,SR.GROUP_UNFAVORITE=1820;class NR{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class yR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class DR{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class MR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class CR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class LR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class UR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class PR{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class bR{constructor(t,e,s){this._data=void 0,this._data=[t,e,s.length,...s]}getMessageArray(){return this._data}dispose(){}}class wR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class FR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class xR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class BR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class GR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class HR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class VR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class jR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class kR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class zR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class YR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class WR{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class KR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class XR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class qR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class QR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class ZR{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class JR{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class $R{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class tv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class ev{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class sv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class iv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class rv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class nv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class av{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class ov{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class hv{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class _v{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class dv{constructor(){this._data=void 0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this._data=[e.length,...e]}getMessageArray(){return this._data}dispose(){}}class uv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class cv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class lv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class gv{constructor(t,e,s){this._data=void 0,this._data=[t,e?1:0,s?1:0]}getMessageArray(){return this._data}dispose(){}}class Ev{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class pv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class mv{constructor(t,e,s,i,r,n,a,o,h,_,d,u,c,l,g,E,p,m,I,f,T,R,v,O){this._data=void 0,this._data=[t,e,s,i,r,n,a,o,h,_,d,u,c,l,g,E,p,m,I,f,T,R,v,O]}getMessageArray(){return this._data}dispose(){}}class Iv{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class fv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Tv{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class Rv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class vv extends Rv{constructor(t){super(t)}}class Ov{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Av extends Rv{constructor(t){super(t)}}class Sv{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class Nv{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class yv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Dv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Mv{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class Cv{constructor(t,e){this._data=void 0,this._data=[t,2*e.size];for(const[s,i]of e.entries())this._data.push(s,i)}getMessageArray(){return this._data}dispose(){}}class Lv{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Uv{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e,s,i,r]}getMessageArray(){return this._data}dispose(){}}class Pv{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class bv{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class wv{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class Fv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class xv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Bv{constructor(t,e,s,i,r,n){this._itemId=void 0,this._category=void 0,this._wallLocation=void 0,this._x=void 0,this._y=void 0,this._direction=void 0,this._itemId=t,this._category=e,this._wallLocation=s,this._x=i,this._y=r,this._direction=n}getMessageArray(){switch(this._category){case st.FLOOR:return[`${this._itemId} ${this._x} ${this._y} ${this._direction}`];case st.WALL:return[`${this._itemId} ${this._wallLocation} `];default:return[]}}dispose(){}}class Gv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Hv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Vv{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class jv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class kv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class zv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Yv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Wv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Kv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Xv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class qv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-100;this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Qv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class Zv{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class Jv{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class $v{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class tO{constructor(t,e,s,i){this._data=void 0,this._data=[t,e,s,i]}getMessageArray(){return this._data}dispose(){}}class eO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class sO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class iO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class rO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class nO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class aO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class oO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class hO{constructor(t,e,s,i,r,n,a){this._data=void 0,this._data=[t,e,s,i,r,n,a]}getMessageArray(){return this._data}dispose(){}}class _O{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class dO{constructor(t,e,s,i,r,n){this._data=void 0,this._data=[t,e,s,i,r,n]}getMessageArray(){return this._data}dispose(){}}class uO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class cO{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class lO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class gO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class EO{constructor(t,e,s){this._data=void 0,this._data=[t+\" \"+e,s]}getMessageArray(){return this._data}dispose(){}}class pO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class mO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class IO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class fO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class TO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class RO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class vO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class OO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class AO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class SO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class NO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class yO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class DO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class MO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class CO{constructor(t,e,s,i,r,n){this._data=void 0,this._data=[t,e.length,...e,s,i.length,...i,r,n]}getMessageArray(){return this._data}dispose(){}}class LO{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e.length,...e,s,i.length,...i,r]}getMessageArray(){return this._data}dispose(){}}class UO{constructor(t,e,s,i,r){this._data=void 0,this._data=[t,e.length,...e,s,i.length,...i,r]}getMessageArray(){return this._data}dispose(){}}class PO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class bO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class wO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class FO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class xO{constructor(){this._data=void 0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this._data=[e.length].concat(e)}getMessageArray(){return this._data}dispose(){}}class BO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class GO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class HO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class VO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class jO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class kO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class zO{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class YO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class WO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class KO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class XO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class qO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class QO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class ZO{constructor(t,e){this._data=void 0,this._data=[t,e]}getMessageArray(){return this._data}dispose(){}}class JO{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class $O{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class tA{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class eA{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class sA{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class iA{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class rA{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class nA{constructor(){this._data=void 0,this._data=[]}getMessageArray(){return this._data}dispose(){}}class aA{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class oA{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class hA{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class _A{constructor(t,e,s){this._data=void 0,this._data=[t,e,s]}getMessageArray(){return this._data}dispose(){}}class dA{constructor(t){this._data=void 0,this._data=[t]}getMessageArray(){return this._data}dispose(){}}class uA extends v{constructor(t){super(t,Tr)}getParser(){return this.parser}}class cA extends v{constructor(t){super(t,vr)}getParser(){return this.parser}}class lA extends v{constructor(t){super(t,Or)}getParser(){return this.parser}}class gA extends v{constructor(t){super(t,Ar)}getParser(){return this.parser}}class EA extends v{constructor(t){super(t,Sr)}getParser(){return this.parser}}class pA extends v{constructor(t){super(t,Nr)}getParser(){return this.parser}}class mA extends v{constructor(t){super(t,Mn)}getParser(){return this.parser}}class IA extends v{constructor(t){super(t,e_)}getParser(){return this.parser}}class fA extends v{constructor(t){super(t,q_)}getParser(){return this.parser}}class TA extends v{constructor(t){super(t,Z_)}getParser(){return this.parser}}class RA extends v{constructor(t){super(t,rr)}getParser(){return this.parser}}class vA{constructor(){this._events=void 0,this._composers=void 0,this._events=new Map,this._composers=new Map,this.registerEvents(),this.registerComposers()}registerEvents(){this._events.set(Pl.INTERSTITIAL_MESSAGE,iu),this._events.set(Pl.ROOM_AD_ERROR,ru),this._events.set(Pl.AVAILABILITY_STATUS,nu),this._events.set(Pl.AVAILABILITY_TIME,au),this._events.set(Pl.HOTEL_CLOSED_AND_OPENS,ou),this._events.set(Pl.HOTEL_CLOSES_AND_OPENS_AT,hu),this._events.set(Pl.HOTEL_WILL_CLOSE_MINUTES,_u),this._events.set(Pl.HOTEL_MAINTENANCE,du),this._events.set(Pl.USER_CHANGE_NAME,uu),this._events.set(Pl.CHECK_USER_NAME,cu),this._events.set(Pl.USER_FIGURE,lu),this._events.set(Pl.USER_OUTFITS,Eu),this._events.set(Pl.ADD_BOT_TO_INVENTORY,pu),this._events.set(Pl.USER_BOTS,mu),this._events.set(Pl.BOT_RECEIVED,Iu),this._events.set(Pl.REMOVE_BOT_FROM_INVENTORY,fu),this._events.set(Pl.CFH_SANCTION,Vs),this._events.set(Pl.CFH_TOPICS,zs),this._events.set(Pl.CFH_SANCTION_STATUS,Ys),this._events.set(Pl.CAMERA_PUBLISH_STATUS,Tu),this._events.set(Pl.CAMERA_PURCHASE_OK,Ru),this._events.set(Pl.CAMERA_STORAGE_URL,vu),this._events.set(Pl.COMPETITION_STATUS,Ou),this._events.set(Pl.INIT_CAMERA,Au),this._events.set(Pl.THUMBNAIL_STATUS,Su),this._events.set(Pl.CAMPAIGN_CALENDAR_DATA,Nu),this._events.set(Pl.CAMPAIGN_CALENDAR_DOOR_OPENED,yu),this._events.set(Pl.BONUS_RARE_INFO,Du),this._events.set(Pl.BUILDERS_CLUB_FURNI_COUNT,Mu),this._events.set(Pl.BUILDERS_CLUB_SUBSCRIPTION,Cu),this._events.set(Pl.BUNDLE_DISCOUNT_RULESET,Uu),this._events.set(Pl.CATALOG_PAGE_EXPIRATION,Pu),this._events.set(Pl.CATALOG_PAGE,bu),this._events.set(Pl.CATALOG_PAGE_LIST,wu),this._events.set(Pl.CATALOG_EARLIEST_EXPIRY,Fu),this._events.set(Pl.CATALOG_PUBLISHED,xu),this._events.set(Pl.CLUB_GIFT_INFO,Bu),this._events.set(Pl.CLUB_GIFT_SELECTED,Gu),this._events.set(Pl.DIRECT_SMS_CLUB_BUY,Hu),this._events.set(Pl.GIFT_RECEIVER_NOT_FOUND,Vu),this._events.set(Pl.GIFT_WRAPPER_CONFIG,ju),this._events.set(Pl.CLUB_EXTENDED_OFFER,ku),this._events.set(Pl.CLUB_OFFERS,zu),this._events.set(Pl.IS_OFFER_GIFTABLE,Yu),this._events.set(Pl.LIMITED_SOLD_OUT,Wu),this._events.set(Pl.LIMITED_OFFER_APPEARING_NEXT,Ku),this._events.set(Pl.NOT_ENOUGH_BALANCE,Xu),this._events.set(Pl.PRODUCT_OFFER,qu),this._events.set(Pl.CATALOG_PURCHASE_ERROR,Qu),this._events.set(Pl.CATALOG_PURCHASE_NOT_ALLOWED,Zu),this._events.set(Pl.CATALOG_PURCHASE_OK,Ju),this._events.set(Pl.ROOM_AD_PURCHASE,$u),this._events.set(Pl.SEASONAL_CALENDAR_OFFER,tc),this._events.set(Pl.CATALOG_RECEIVE_PET_BREEDS,ec),this._events.set(Pl.TARGET_OFFER,sc),this._events.set(Pl.TARGET_OFFER_NOT_FOUND,ic),this._events.set(Pl.REDEEM_VOUCHER_ERROR,rc),this._events.set(Pl.REDEEM_VOUCHER_OK,nc),this._events.set(Pl.CLIENT_PING,us),this._events.set(Pl.COMPETITION_ENTRY_SUBMIT,uA),this._events.set(Pl.COMPETITION_VOTING_INFO,cA),this._events.set(Pl.COMPETITION_TIMING_CODE,lA),this._events.set(Pl.COMPETITION_USER_PART_OF,gA),this._events.set(Pl.COMPETITION_NO_OWNED_ROOMS,EA),this._events.set(Pl.COMPETITION_SECONDS_UNTIL,pA),this._events.set(Pl.CRAFTABLE_PRODUCTS,ac),this._events.set(Pl.CRAFTING_RECIPE,oc),this._events.set(Pl.CRAFTING_RECIPES_AVAILABLE,hc),this._events.set(Pl.CRAFTING_RESULT,_c),this._events.set(Pl.DESKTOP_VIEW,dc),this._events.set(Pl.MESSENGER_ACCEPT_FRIENDS,uc),this._events.set(Pl.MESSENGER_FIND_FRIENDS,cc),this._events.set(Pl.MESSENGER_FOLLOW_FAILED,lc),this._events.set(Pl.MESSENGER_FRIENDS,gc),this._events.set(Pl.MESSENGER_UPDATE,Ec),this._events.set(Pl.MESSENGER_FRIEND_NOTIFICATION,pc),this._events.set(Pl.MESSENGER_REQUESTS,mc),this._events.set(Pl.MESSENGER_SEARCH,Ic),this._events.set(Pl.MESSENGER_INSTANCE_MESSAGE_ERROR,fc),this._events.set(Pl.MESSENGER_MESSAGE_ERROR,Tc),this._events.set(Pl.MESSENGER_INIT,Rc),this._events.set(Pl.MESSENGER_MINIMAIL_NEW,vc),this._events.set(Pl.MESSENGER_MINIMAIL_COUNT,Oc),this._events.set(Pl.MESSENGER_CHAT,Ac),this._events.set(Pl.MESSENGER_REQUEST,Sc),this._events.set(Pl.MESSENGER_INVITE_ERROR,Nc),this._events.set(Pl.MESSENGER_INVITE,yc),this._events.set(Pl.LOAD_GAME_URL,Dc),this._events.set(Pl.GROUP_INFO,Pc),this._events.set(Pl.GROUP_MEMBER_REMOVE_CONFIRM,Uc),this._events.set(Pl.GROUP_MEMBERS,bc),this._events.set(Pl.GROUP_CREATE_OPTIONS,Lc),this._events.set(Pl.GROUP_BADGE_PARTS,Cc),this._events.set(Pl.GROUP_SETTINGS,Fc),this._events.set(Pl.GROUP_PURCHASED,wc),this._events.set(Pl.GROUP_BADGES,Em),this._events.set(Pl.GROUP_DEACTIVATE,xc),this._events.set(Pl.GROUP_FORUM_DATA,Vc),this._events.set(Pl.GROUP_FORUM_LIST,kc),this._events.set(Pl.GROUP_FORUM_THREADS,Wc),this._events.set(Pl.GROUP_FORUM_POST,qc),this._events.set(Pl.GROUP_FORUM_POST_THREAD,Zc),this._events.set(Pl.GROUP_FORUM_THREAD_MESSAGES,$c),this._events.set(Pl.GROUP_FORUM_UNREAD_COUNT,el),this._events.set(Pl.GROUP_FORUM_UPDATE_MESSAGE,il),this._events.set(Pl.GROUP_FORUM_UPDATE_THREAD,nl),this._events.set(Pl.CFH_DISABLED_NOTIFY,ol),this._events.set(Pl.CFH_PENDING_CALLS_DELETED,hl),this._events.set(Pl.CFH_PENDING_CALLS,_l),this._events.set(Pl.CFH_REPLY,dl),this._events.set(Pl.CFH_RESULT_MESSAGE,ul),this._events.set(Pl.GUIDE_ON_DUTY_STATUS,ml),this._events.set(Pl.GUIDE_SESSION_ATTACHED,Il),this._events.set(Pl.GUIDE_SESSION_DETACHED,fl),this._events.set(Pl.GUIDE_SESSION_ENDED,Tl),this._events.set(Pl.GUIDE_SESSION_ERROR,Rl),this._events.set(Pl.GUIDE_SESSION_INVITED_TO_GUIDE_ROOM,vl),this._events.set(Pl.GUIDE_SESSION_MESSAGE,Ol),this._events.set(Pl.GUIDE_SESSION_PARTNER_IS_TYPING,Al),this._events.set(Pl.GUIDE_SESSION_REQUESTER_ROOM,Sl),this._events.set(Pl.GUIDE_SESSION_STARTED,Nl),this._events.set(Pl.GUIDE_TICKET_CREATION_RESULT,yl),this._events.set(Pl.GUIDE_TICKET_RESOLUTION,Dl),this._events.set(Pl.GUIDE_REPORTING_STATUS,mA),this._events.set(Pl.HOTEL_MERGE_NAME_CHANGE,Ml),this._events.set(Pl.ISSUE_CLOSE_NOTIFICATION,Cl),this._events.set(Pl.QUIZ_DATA,Ll),this._events.set(Pl.QUIZ_RESULTS,Ul),this._events.set(Pl.CHAT_REVIEW_SESSION_DETACHED,cl),this._events.set(Pl.CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE,ll),this._events.set(Pl.CHAT_REVIEW_SESSION_RESULTS,gl),this._events.set(Pl.CHAT_REVIEW_SESSION_STARTED,El),this._events.set(Pl.CHAT_REVIEW_SESSION_VOTING_STATUS,pl),this._events.set(Pl.ACHIEVEMENT_PROGRESSED,bl),this._events.set(Pl.ACHIEVEMENT_LIST,Fl),this._events.set(Pl.USER_ACHIEVEMENT_SCORE,xl),this._events.set(Pl.USER_EFFECT_ACTIVATE,Bl),this._events.set(Pl.USER_EFFECT_LIST_ADD,Gl),this._events.set(Pl.USER_EFFECT_LIST_REMOVE,Hl),this._events.set(Pl.USER_EFFECT_LIST,Vl),this._events.set(Pl.USER_BADGES,zl),this._events.set(Pl.USER_BADGES_ADD,kl),this._events.set(Pl.BADGE_POINT_LIMITS,jl),this._events.set(Pl.BADGE_REQUEST_FULFILLED,Yl),this._events.set(Pl.USER_CLOTHING,Wl),this._events.set(Pl.USER_FURNITURE_ADD,Kl),this._events.set(Pl.USER_FURNITURE,Xl),this._events.set(Pl.USER_FURNITURE_REFRESH,ql),this._events.set(Pl.USER_FURNITURE_REMOVE,Ql),this._events.set(Pl.USER_FURNITURE_POSTIT_PLACED,Zl),this._events.set(Pl.USER_PETS,tg),this._events.set(Pl.USER_PET_REMOVE,sg),this._events.set(Pl.USER_PET_ADD,$l),this._events.set(Pl.PET_RECEIVED,eg),this._events.set(Pl.PET_PLACING_ERROR,aE),this._events.set(Pl.YOUTUBE_CONTROL_VIDEO,gp),this._events.set(Pl.YOUTUBE_DISPLAY_PLAYLISTS,Ep),this._events.set(Pl.YOUTUBE_DISPLAY_VIDEO,pp),this._events.set(Pl.TRADE_ACCEPTED,ig),this._events.set(Pl.TRADE_CLOSED,rg),this._events.set(Pl.TRADE_COMPLETED,ng),this._events.set(Pl.TRADE_CONFIRMATION,ag),this._events.set(Pl.TRADE_LIST_ITEM,og),this._events.set(Pl.TRADE_NOT_OPEN,hg),this._events.set(Pl.TRADE_OPEN_FAILED,dg),this._events.set(Pl.TRADE_OPEN,_g),this._events.set(Pl.TRADE_OTHER_NOT_ALLOWED,ug),this._events.set(Pl.TRADE_YOU_NOT_ALLOWED,cg),this._events.set(Pl.COMMUNITY_GOAL_VOTE_EVENT,gg),this._events.set(Pl.PROMO_ARTICLES,lg),this._events.set(Pl.MARKETPLACE_AFTER_ORDER_STATUS,Eg),this._events.set(Pl.MARKETPLACE_CANCEL_SALE,pg),this._events.set(Pl.MARKETPLACE_SELL_ITEM,mg),this._events.set(Pl.MARKETPLACE_CONFIG,Ig),this._events.set(Pl.MARKETPLACE_ITEM_STATS,fg),this._events.set(Pl.MARKETPLACE_ITEM_POSTED,Tg),this._events.set(Pl.MARKETPLACE_ITEMS_SEARCHED,Rg),this._events.set(Pl.MARKETPLACE_OWN_ITEMS,vg),this._events.set(Pl.USER_BANNED,Fg),this._events.set(Pl.MODERATION_CAUTION,Dg),this._events.set(Pl.MODTOOL_ROOM_INFO,Lg),this._events.set(Pl.MODTOOL_USER_CHATLOG,xg),this._events.set(Pl.MODTOOL_ROOM_CHATLOG,bg),this._events.set(Pl.MODERATION_USER_INFO,Pg),this._events.set(Pl.MODERATION_TOOL,Mg),this._events.set(Pl.MODTOOL_VISITED_ROOMS_USER,wg),this._events.set(Pl.CFH_CHATLOG,Og),this._events.set(Pl.ISSUE_DELETED,Ag),this._events.set(Pl.ISSUE_INFO,Sg),this._events.set(Pl.ISSUE_PICK_FAILED,Ng),this._events.set(Pl.MODERATOR_ACTION_RESULT,yg),this._events.set(Pl.MODERATOR_MESSAGE,Cg),this._events.set(Pl.MODERATOR_TOOL_PREFERENCES,Ug),this._events.set(Pl.MYSTERY_BOX_KEYS,Bg),this._events.set(Pl.NAVIGATOR_CATEGORIES,Hg),this._events.set(Pl.NAVIGATOR_COLLAPSED,Vg),this._events.set(Pl.NAVIGATOR_EVENT_CATEGORIES,jg),this._events.set(Pl.USER_HOME_ROOM,kg),this._events.set(Pl.NAVIGATOR_LIFTED,zg),this._events.set(Pl.NAVIGATOR_METADATA,Yg),this._events.set(Pl.NAVIGATOR_OPEN_ROOM_CREATOR,Wg),this._events.set(Pl.NAVIGATOR_SEARCHES,Kg),this._events.set(Pl.NAVIGATOR_SEARCH,Xg),this._events.set(Pl.NAVIGATOR_SETTINGS,qg),this._events.set(Pl.CAN_CREATE_ROOM_EVENT,Gg),this._events.set(Pl.GENERIC_ALERT,eE),this._events.set(Pl.MOTD_MESSAGES,iE),this._events.set(Pl.NOTIFICATION_LIST,rE),this._events.set(Pl.UNSEEN_ITEMS,oE),this._events.set(Pl.ACHIEVEMENT_NOTIFICATION,Zg),this._events.set(Pl.INFO_FEED_ENABLE,sE),this._events.set(Pl.CLUB_GIFT_NOTIFICATION,tE),this._events.set(Pl.ACTIVITY_POINT_NOTIFICATION,Jg),this._events.set(Pl.BOT_ERROR,$g),this._events.set(Pl.PET_LEVEL_NOTIFICATION,nE),this._events.set(Pl.USER_PERKS,hE),this._events.set(Pl.QUESTION,lE),this._events.set(Pl.POLL_CONTENTS,_E),this._events.set(Pl.POLL_ERROR,dE),this._events.set(Pl.POLL_OFFER,uE),this._events.set(Pl.QUESTION_ANSWERED,cE),this._events.set(Pl.QUESTION_FINISHED,gE),this._events.set(Pl.COMMUNITY_GOAL_EARNED_PRIZES,EE),this._events.set(Pl.COMMUNITY_GOAL_PROGRESS,mE),this._events.set(Pl.CONCURRENT_USERS_GOAL_PROGRESS,IE),this._events.set(Pl.QUEST_DAILY,vE),this._events.set(Pl.QUEST_CANCELLED,TE),this._events.set(Pl.QUEST_COMPLETED,RE),this._events.set(Pl.COMMUNITY_GOAL_HALL_OF_FAME,pE),this._events.set(Pl.EPIC_POPUP,fE),this._events.set(Pl.SEASONAL_QUESTS,SE),this._events.set(Pl.QUESTS,AE),this._events.set(Pl.QUEST,OE),this._events.set(Pl.ROOM_ENTER_ERROR,UE),this._events.set(Pl.ROOM_ENTER,PE),this._events.set(Pl.ROOM_FORWARD,bE),this._events.set(Pl.ROOM_DOORBELL,yE),this._events.set(Pl.ROOM_DOORBELL_ACCEPTED,NE),this._events.set(Pl.ROOM_DOORBELL_REJECTED,DE),this._events.set(Pl.ROOM_RIGHTS_CLEAR,ME),this._events.set(Pl.ROOM_RIGHTS_OWNER,LE),this._events.set(Pl.ROOM_RIGHTS,CE),this._events.set(Pl.BOT_COMMAND_CONFIGURATION,wE),this._events.set(Pl.ROOM_SETTINGS_CHAT,xE),this._events.set(Pl.ROOM_INFO,FE),this._events.set(Pl.ROOM_INFO_OWNER,BE),this._events.set(Pl.ROOM_SCORE,GE),this._events.set(Pl.ROOM_SETTINGS_SAVE_ERROR,HE),this._events.set(Pl.ROOM_SETTINGS,VE),this._events.set(Pl.ROOM_SETTINGS_SAVE,jE),this._events.set(Pl.ROOM_SETTINGS_UPDATED,kE),this._events.set(Pl.ROOM_ROLLING,YE),this._events.set(Pl.ROOM_CREATED,WE),this._events.set(Pl.FURNITURE_FLOOR_ADD,XE),this._events.set(Pl.FURNITURE_FLOOR,qE),this._events.set(Pl.FURNITURE_FLOOR_REMOVE,QE),this._events.set(Pl.FURNITURE_FLOOR_UPDATE,ZE),this._events.set(Pl.ITEM_WALL_ADD,dp),this._events.set(Pl.ITEM_WALL,up),this._events.set(Pl.ITEM_WALL_REMOVE,cp),this._events.set(Pl.ITEM_WALL_UPDATE,lp),this._events.set(Pl.FURNITURE_ALIASES,JE),this._events.set(Pl.FURNITURE_DATA,$E),this._events.set(Pl.FURNITURE_ITEMDATA,rp),this._events.set(Pl.ITEM_STACK_HELPER,sp),this._events.set(Pl.FURNITURE_STATE,hp),this._events.set(Pl.ITEM_DIMMER_SETTINGS,_p),this._events.set(Pl.FURNITURE_STATE_2,KE),this._events.set(Pl.LOVELOCK_FURNI_FINISHED,np),this._events.set(Pl.LOVELOCK_FURNI_FRIEND_COMFIRMED,ap),this._events.set(Pl.LOVELOCK_FURNI_START,op),this._events.set(Pl.OBJECTS_DATA_UPDATE,zE),this._events.set(Pl.FURNITURE_GROUP_CONTEXT_MENU_INFO,ip),this._events.set(Pl.FURNITURE_POSTIT_STICKY_POLE_OPEN,ep),this._events.set(Pl.ROOM_SPECTATOR,TA),this._events.set(Pl.ROOM_RIGHTS_LIST,im),this._events.set(Pl.ROOM_RIGHTS_LIST_ADD,em),this._events.set(Pl.ROOM_RIGHTS_LIST_REMOVE,sm),this._events.set(Pl.ROOM_BAN_LIST,tm),this._events.set(Pl.FAVORITE_GROUP_UDPATE,IA),this._events.set(Pl.ROOM_MODEL_DOOR,Ip),this._events.set(Pl.ROOM_HEIGHT_MAP,fp),this._events.set(Pl.ROOM_HEIGHT_MAP_UPDATE,Tp),this._events.set(Pl.ROOM_MODEL,mp),this._events.set(Pl.ROOM_MODEL_NAME,Op),this._events.set(Pl.ROOM_PAINT,vp),this._events.set(Pl.ROOM_THICKNESS,Ap),this._events.set(Pl.ROOM_MODEL_BLOCKED_TILES,Rp),this._events.set(Pl.PET_FIGURE_UPDATE,Np),this._events.set(Pl.PET_INFO,yp),this._events.set(Pl.PET_STATUS,fA),this._events.set(Pl.PET_EXPERIENCE,Sp),this._events.set(Pl.PLAYING_GAME,Dp),this._events.set(Pl.UNIT_DANCE,wp),this._events.set(Pl.UNIT_EFFECT,Fp),this._events.set(Pl.UNIT,xp),this._events.set(Pl.UNIT_EXPRESSION,Bp),this._events.set(Pl.UNIT_HAND_ITEM,Gp),this._events.set(Pl.UNIT_IDLE,Vp),this._events.set(Pl.UNIT_INFO,jp),this._events.set(Pl.UNIT_NUMBER,kp),this._events.set(Pl.UNIT_REMOVE,zp),this._events.set(Pl.UNIT_STATUS,Yp),this._events.set(Pl.HAND_ITEM_RECEIVED,Hp),this._events.set(Pl.FLOOD_CONTROL,Mp),this._events.set(Pl.REMAINING_MUTE,Cp),this._events.set(Pl.UNIT_CHAT,Lp),this._events.set(Pl.UNIT_CHAT_SHOUT,Up),this._events.set(Pl.UNIT_CHAT_WHISPER,Pp),this._events.set(Pl.UNIT_TYPING,bp),this._events.set(Pl.WIRED_ACTION,Kp),this._events.set(Pl.WIRED_CONDITION,Xp),this._events.set(Pl.WIRED_TRIGGER,qp),this._events.set(Pl.WIRED_OPEN,Qp),this._events.set(Pl.WIRED_REWARD,Zp),this._events.set(Pl.WIRED_SAVE,Jp),this._events.set(Pl.WIRED_ERROR,$p),this._events.set(Pl.ROOM_MUTED,Wp),this._events.set(Pl.AUTHENTICATED,ls),this._events.set(Pl.JUKEBOX_PLAYLIST_FULL,Gd),this._events.set(Pl.JUKEBOX_SONG_DISKS,Hd),this._events.set(Pl.NOW_PLAYING,Vd),this._events.set(Pl.OFFICIAL_SONG_ID,jd),this._events.set(Pl.PLAYLIST,zd),this._events.set(Pl.PLAYLIST_SONG_ADDED,Yd),this._events.set(Pl.TRAX_SONG_INFO,Kd),this._events.set(Pl.USER_SONG_DISKS_INVENTORY,Xd),this._events.set(Pl.HELPER_TALENT_TRACK,rm),this._events.set(Pl.IN_CLIENT_LINK,Im),this._events.set(Pl.USER_IGNORED,pm),this._events.set(Pl.USER_IGNORED_RESULT,mm),this._events.set(Pl.USER_RESPECT,Am),this._events.set(Pl.USER_PERMISSIONS,nm),this._events.set(Pl.USER_BADGES_CURRENT,hm),this._events.set(Pl.USER_INFO,_m),this._events.set(Pl.UNIT_CHANGE_NAME,dm),this._events.set(Pl.USER_SETTINGS,cm),this._events.set(Pl.USER_PROFILE,um),this._events.set(Pl.MESSENGER_RELATIONSHIPS,om),this._events.set(Pl.GIFT_OPENED,Jl),this._events.set(Pl.USER_CREDITS,fm),this._events.set(Pl.USER_CURRENCY,Tm),this._events.set(Pl.USER_SUBSCRIPTION,Rm),this._events.set(Pl.USER_WARDROBE_PAGE,Nm),this._events.set(Pl.SCR_SEND_KICKBACK_INFO,Sm),this._events.set(Pl.PET_RESPECTED,RA),this._events.set(Pl.PET_SUPPLEMENT,DR),this._events.set(Pl.GENERIC_ERROR,Mc),this._events.set(Pl.GROUP_LIST,gm),this._events.set(Pl.CATALOG_APPROVE_NAME_RESULT,am),this._events.set(Pl.NOOBNESS_LEVEL,al)}registerComposers(){this._composers.set(SR.AUTHENTICATION,Bf),this._composers.set(SR.INTERSTITIAL_SHOWN,Dm),this._composers.set(SR.GET_INTERSTITIAL,ym),this._composers.set(SR.GET_WARDROBE,Um),this._composers.set(SR.SAVE_WARDROBE_OUTFIT,Pm),this._composers.set(SR.CHANGE_USERNAME,Cm),this._composers.set(SR.CHECK_USERNAME,Lm),this._composers.set(SR.REQUEST_CAMERA_CONFIGURATION,Gm),this._composers.set(SR.RENDER_ROOM,xm),this._composers.set(SR.RENDER_ROOM_THUMBNAIL,Bm),this._composers.set(SR.PURCHASE_PHOTO,Fm),this._composers.set(SR.PUBLISH_PHOTO,wm),this._composers.set(SR.PHOTO_COMPETITION,bm),this._composers.set(SR.OPEN_CAMPAIGN_CALENDAR_DOOR,Vm),this._composers.set(SR.OPEN_CAMPAIGN_CALENDAR_DOOR_STAFF,Hm),this._composers.set(SR.BUILDERS_CLUB_PLACE_ROOM_ITEM,jm),this._composers.set(SR.BUILDERS_CLUB_PLACE_WALL_ITEM,km),this._composers.set(SR.BUILDERS_CLUB_QUERY_FURNI_COUNT,zm),this._composers.set(SR.GET_CATALOG_INDEX,Km),this._composers.set(SR.GET_CATALOG_PAGE,Xm),this._composers.set(SR.CATALOG_PURCHASE,gI),this._composers.set(SR.CATALOG_PURCHASE_GIFT,lI),this._composers.set(SR.GET_PRODUCT_OFFER,aI),this._composers.set(SR.GET_CLUB_OFFERS,Jm),this._composers.set(SR.GET_CLUB_GIFT_INFO,Zm),this._composers.set(SR.CATALOG_REDEEM_VOUCHER,II),this._composers.set(SR.GROUP_MEMBERSHIPS,zO),this._composers.set(SR.GET_GIFT_WRAPPING_CONFIG,tI),this._composers.set(SR.CATALOG_SELECT_VIP_GIFT,TI),this._composers.set(SR.CATALOG_REQUESET_PET_BREEDS,_I),this._composers.set(SR.GET_BONUS_RARE_INFO,Ym),this._composers.set(SR.GET_BUNDLE_DISCOUNT_RULESET,Wm),this._composers.set(SR.GET_CATALOG_PAGE_EXPIRATION,qm),this._composers.set(SR.GET_CATALOG_PAGE_WITH_EARLIEST_EXP,Qm),this._composers.set(SR.GET_DIRECT_CLUB_BUY_AVAILABLE,$m),this._composers.set(SR.GET_HABBO_BASIC_MEMBERSHIP_EXTEND_OFFER,eI),this._composers.set(SR.GET_HABBO_CLUB_EXTEND_OFFER,sI),this._composers.set(SR.GET_IS_OFFER_GIFTABLE,iI),this._composers.set(SR.GET_LIMITED_OFFER_APPEARING_NEXT,rI),this._composers.set(SR.GET_NEXT_TARGETED_OFFER,nI),this._composers.set(SR.GET_ROOM_AD_PURCHASE_INFO,oI),this._composers.set(SR.GET_SEASONAL_CALENDAR_DAILY_OFFER,hI),this._composers.set(SR.GET_TARGETED_OFFER,dI),this._composers.set(SR.MARK_CATALOG_NEW_ADDITIONS_PAGE_OPENED,uI),this._composers.set(SR.PURCHASE_BASIC_MEMBERSHIP_EXTENSION,cI),this._composers.set(SR.PURCHASE_ROOM_AD,EI),this._composers.set(SR.PURCHASE_TARGETED_OFFER,pI),this._composers.set(SR.PURCHASE_VIP_MEMBERSHIP_EXTENSION,mI),this._composers.set(SR.ROOM_AD_PURCHASE_INITIATED,fI),this._composers.set(SR.SET_TARGETTED_OFFER_STATE,RI),this._composers.set(SR.SHOP_TARGETED_OFFER_VIEWED,vI),this._composers.set(SR.FORWARD_TO_A_COMPETITION_ROOM,OI),this._composers.set(SR.FORWARD_TO_A_SUBMITTABLE_ROOM,AI),this._composers.set(SR.FORWARD_TO_RANDOM_COMPETITION_ROOM,SI),this._composers.set(SR.GET_CURRENT_TIMING_CODE,NI),this._composers.set(SR.GET_IS_USER_PART_OF_COMPETITION,yI),this._composers.set(SR.GET_SECONDS_UNTIL,DI),this._composers.set(SR.ROOM_COMPETITION_INIT,MI),this._composers.set(SR.SUBMIT_ROOM_TO_COMPETITION,CI),this._composers.set(SR.VOTE_FOR_ROOM,LI),this._composers.set(SR.CRAFT,UI),this._composers.set(SR.CRAFT_SECRET,PI),this._composers.set(SR.GET_CRAFTABLE_PRODUCTS,wI),this._composers.set(SR.GET_CRAFTING_RECIPE,bI),this._composers.set(SR.GET_CRAFTING_RECIPES_AVAILABLE,FI),this._composers.set(SR.FRIEND_FURNI_CONFIRM_LOCK,BI),this._composers.set(SR.ACCEPT_FRIEND,GI),this._composers.set(SR.DECLINE_FRIEND,HI),this._composers.set(SR.FIND_NEW_FRIENDS,VI),this._composers.set(SR.FOLLOW_FRIEND,jI),this._composers.set(SR.FRIEND_LIST_UPDATE,kI),this._composers.set(SR.GET_FRIEND_REQUESTS,zI),this._composers.set(SR.HABBO_SEARCH,YI),this._composers.set(SR.MESSENGER_INIT,WI),this._composers.set(SR.REMOVE_FRIEND,KI),this._composers.set(SR.REQUEST_FRIEND,XI),this._composers.set(SR.MESSENGER_CHAT,qI),this._composers.set(SR.SEND_ROOM_INVITE,QI),this._composers.set(SR.SET_RELATIONSHIP_STATUS,ZI),this._composers.set(SR.VISIT_USER,JI),this._composers.set(SR.GET_GIFT,tf),this._composers.set(SR.RESET_PHONE_NUMBER_STATE,ef),this._composers.set(SR.SET_PHONE_NUMBER_VERIFICATION_STATUS,sf),this._composers.set(SR.TRY_PHONE_NUMBER,rf),this._composers.set(SR.VERIFY_CODE,nf),this._composers.set(SR.GET_FORUM_STATS,yf),this._composers.set(SR.GET_FORUMS_LIST,Nf),this._composers.set(SR.GET_FORUM_MESSAGES,Df),this._composers.set(SR.GET_FORUM_THREAD,Mf),this._composers.set(SR.GET_FORUM_THREADS,Cf),this._composers.set(SR.GET_UNREAD_FORUMS_COUNT,Lf),this._composers.set(SR.FORUM_MODERATE_MESSAGE,Uf),this._composers.set(SR.FORUM_MODERATE_THREAD,Pf),this._composers.set(SR.FORUM_POST_MESSAGE,bf),this._composers.set(SR.UPDATE_FORUM_READ_MARKER,wf),this._composers.set(SR.UPDATE_FORUM_SETTINGS,Ff),this._composers.set(SR.FORUM_UPDATE_THREAD,xf),this._composers.set(SR.CLIENT_PONG,Is),this._composers.set(SR.RELEASE_VERSION,ps),this._composers.set(SR.SECURITY_TICKET,fs),this._composers.set(SR.USER_INFO,ms),this._composers.set(SR.DISCONNECT,Gf),this._composers.set(SR.SECURITY_MACHINE,Hf),this._composers.set(SR.CLIENT_VARIABLES,Vf),this._composers.set(SR.CALL_FOR_HELP_FROM_FORUM_MESSAGE,jf),this._composers.set(SR.CALL_FOR_HELP_FROM_FORUM_THREAD,kf),this._composers.set(SR.CALL_FOR_HELP_FROM_IM,zf),this._composers.set(SR.CALL_FOR_HELP_FROM_PHOTO,Yf),this._composers.set(SR.CALL_FOR_HELP_FROM_SELFIE,Wf),this._composers.set(SR.CALL_FOR_HELP,Kf),this._composers.set(SR.CHAT_REVIEW_GUIDE_DECIDES,Xf),this._composers.set(SR.CHAT_REVIEW_GUIDE_DETACHED,qf),this._composers.set(SR.CHAT_REVIEW_GUIDE_VOTE,Qf),this._composers.set(SR.CHAT_REVIEW_SESSION_CREATE,Zf),this._composers.set(SR.DELETE_PENDING_CALLS_FOR_HELP,Jf),this._composers.set(SR.GET_CFH_STATUS,$f),this._composers.set(SR.GET_FAQ_CATEGORY,tT),this._composers.set(SR.GET_FAQ_TEXT,eT),this._composers.set(SR.GET_GUIDE_REPORTING_STATUS,sT),this._composers.set(SR.GET_PENDING_CALLS_FOR_HELP,iT),this._composers.set(SR.GET_QUIZ_QUESTIONS,rT),this._composers.set(SR.GUIDE_SESSION_CREATE,nT),this._composers.set(SR.GUIDE_SESSION_FEEDBACK,aT),this._composers.set(SR.GUIDE_SESSION_GET_REQUESTER_ROOM,oT),this._composers.set(SR.GUIDE_SESSION_GUIDE_DECIDES,hT),this._composers.set(SR.GUIDE_SESSION_INVITE_REQUESTER,_T),this._composers.set(SR.GUIDE_SESSION_IS_TYPING,dT),this._composers.set(SR.GUIDE_SESSION_MESSAGE,uT),this._composers.set(SR.GUIDE_SESSION_ON_DUTY_UPDATE,cT),this._composers.set(SR.GUIDE_SESSION_REPORT,lT),this._composers.set(SR.GUIDE_SESSION_REQUESTER_CANCELS,gT),this._composers.set(SR.GUIDE_SESSION_RESOLVED,ET),this._composers.set(SR.POST_QUIZ_ANSWERS,pT),this._composers.set(SR.SEARCH_FAQS,mT),this._composers.set(SR.DESKTOP_VIEW,xI),this._composers.set(SR.GROUP_INFO,gf),this._composers.set(SR.GROUP_REQUEST,Ef),this._composers.set(SR.GROUP_MEMBER_REMOVE_CONFIRM,uf),this._composers.set(SR.GROUP_MEMBER_REMOVE,ff),this._composers.set(SR.GROUP_MEMBERS,pf),this._composers.set(SR.GROUP_ADMIN_ADD,af),this._composers.set(SR.GROUP_ADMIN_REMOVE,of),this._composers.set(SR.GROUP_REQUEST_ACCEPT,mf),this._composers.set(SR.GROUP_REQUEST_DECLINE,If),this._composers.set(SR.GROUP_DELETE,cf),this._composers.set(SR.GROUP_CREATE_OPTIONS,df),this._composers.set(SR.GROUP_PARTS,hf),this._composers.set(SR.GROUP_BUY,_f),this._composers.set(SR.GROUP_SETTINGS,Af),this._composers.set(SR.GROUP_SAVE_BADGE,Tf),this._composers.set(SR.GROUP_SAVE_COLORS,Rf),this._composers.set(SR.GROUP_SAVE_INFORMATION,vf),this._composers.set(SR.GROUP_SAVE_PREFERENCES,Of),this._composers.set(SR.GROUP_FAVORITE,lf),this._composers.set(SR.GROUP_UNFAVORITE,Sf),this._composers.set(SR.GROUP_BADGES,sA),this._composers.set(SR.NAVIGATOR_CATEGORIES,ER),this._composers.set(SR.NAVIGATOR_INIT,mR),this._composers.set(SR.NAVIGATOR_SEARCH_CLOSE,IR),this._composers.set(SR.NAVIGATOR_SEARCH,fR),this._composers.set(SR.NAVIGATOR_SEARCH_OPEN,TR),this._composers.set(SR.NAVIGATOR_SEARCH_SAVE,RR),this._composers.set(SR.NAVIGATOR_SETTINGS,vR),this._composers.set(SR.NAVIGATOR_SETTINGS_SAVE,OR),this._composers.set(SR.NAVIGATOR_CATEGORY_LIST_MODE,pR),this._composers.set(SR.CONVERT_GLOBAL_ROOM_ID,gR),this._composers.set(SR.ROOM_RIGHTS_REMOVE_OWN,AR),this._composers.set(SR.POLL_ANSWER,bR),this._composers.set(SR.POLL_REJECT,wR),this._composers.set(SR.POLL_START,FR),this._composers.set(SR.USER_BADGES,IT),this._composers.set(SR.USER_BADGES_CURRENT_UPDATE,fT),this._composers.set(SR.USER_BOTS,TT),this._composers.set(SR.USER_FURNITURE,vT),this._composers.set(SR.USER_FURNITURE2,RT),this._composers.set(SR.USER_PETS,OT),this._composers.set(SR.TRADE_ACCEPT,AT),this._composers.set(SR.TRADE_CANCEL,ST),this._composers.set(SR.TRADE_CLOSE,NT),this._composers.set(SR.TRADE_CONFIRM,yT),this._composers.set(SR.TRADE_ITEM,DT),this._composers.set(SR.TRADE_ITEMS,MT),this._composers.set(SR.TRADE_ITEM_REMOVE,CT),this._composers.set(SR.TRADE,LT),this._composers.set(SR.TRADE_UNACCEPT,UT),this._composers.set(SR.UNSEEN_RESET_CATEGORY,PT),this._composers.set(SR.UNSEEN_RESET_ITEMS,bT),this._composers.set(SR.ACHIEVEMENT_LIST,Mm),this._composers.set(SR.PET_MOUNT,NR),this._composers.set(SR.PET_RESPECT,yR),this._composers.set(SR.PET_SUPPLEMENT,DR),this._composers.set(SR.REMOVE_PET_SADDLE,MR),this._composers.set(SR.PET_INFO,CR),this._composers.set(SR.TOGGLE_PET_BREEDING,LR),this._composers.set(SR.TOGGLE_PET_RIDING,UR),this._composers.set(SR.USE_PET_PRODUCT,PR),this._composers.set(SR.ROOM_CREATE,dO),this._composers.set(SR.ROOM_ENTER,tv),this._composers.set(SR.ROOM_DOORBELL,$R),this._composers.set(SR.GO_TO_FLAT,uO),this._composers.set(SR.ROOM_AMBASSADOR_ALERT,sv),this._composers.set(SR.ROOM_BAN_GIVE,iv),this._composers.set(SR.ROOM_BAN_REMOVE,uv),this._composers.set(SR.ROOM_RIGHTS_GIVE,nv),this._composers.set(SR.ROOM_KICK,av),this._composers.set(SR.ROOM_MUTE_USER,hv),this._composers.set(SR.ROOM_RIGHTS_REMOVE,dv),this._composers.set(SR.ROOM_RIGHTS_REMOVE_ALL,ev),this._composers.set(SR.ROOM_LIKE,ov),this._composers.set(SR.ROOM_DELETE,rv),this._composers.set(SR.ROOM_STAFF_PICK,_v),this._composers.set(SR.ROOM_INFO,gv),this._composers.set(SR.ROOM_SETTINGS,Ev),this._composers.set(SR.ROOM_SETTINGS_SAVE,mv),this._composers.set(SR.ROOM_RIGHTS_LIST,pv),this._composers.set(SR.ROOM_BAN_LIST,lv),this._composers.set(SR.BOT_CONFIGURATION,cv),this._composers.set(SR.GET_ITEM_DATA,Ov),this._composers.set(SR.REMOVE_WALL_ITEM,Dv),this._composers.set(SR.BOT_PLACE,Iv),this._composers.set(SR.BOT_PICKUP,fv),this._composers.set(SR.BOT_SKILL_SAVE,Tv),this._composers.set(SR.PET_PLACE,Nv),this._composers.set(SR.PET_MOVE,Sv),this._composers.set(SR.PET_PICKUP,yv),this._composers.set(SR.SET_ITEM_DATA,Mv),this._composers.set(SR.SET_OBJECT_DATA,Cv),this._composers.set(SR.COMPOST_PLANT,vv),this._composers.set(SR.HARVEST_PET,Av),this._composers.set(SR.FURNITURE_ALIASES,wv),this._composers.set(SR.FURNITURE_GROUP_INFO,Fv),this._composers.set(SR.FURNITURE_PICKUP,xv),this._composers.set(SR.FURNITURE_PLACE,Bv),this._composers.set(SR.ITEM_PAINT,Gv),this._composers.set(SR.FURNITURE_POSTIT_PLACE,Hv),this._composers.set(SR.FURNITURE_POSTIT_SAVE_STICKY_POLE,Vv),this._composers.set(SR.CONTROL_YOUTUBE_DISPLAY_PLAYBACK,sO),this._composers.set(SR.GET_YOUTUBE_DISPLAY_STATUS,iO),this._composers.set(SR.SET_YOUTUBE_DISPLAY_PLAYLIST,rO),this._composers.set(SR.FURNITURE_FLOOR_UPDATE,bv),this._composers.set(SR.FURNITURE_WALL_UPDATE,eO),this._composers.set(SR.ITEM_DIMMER_SETTINGS,Lv),this._composers.set(SR.ITEM_DIMMER_SAVE,Uv),this._composers.set(SR.ITEM_DIMMER_TOGGLE,Pv),this._composers.set(SR.ROOM_TONER_APPLY,tO),this._composers.set(SR.ITEM_COLOR_WHEEL_CLICK,jv),this._composers.set(SR.ITEM_DICE_CLICK,kv),this._composers.set(SR.ITEM_DICE_CLOSE,zv),this._composers.set(SR.FURNITURE_MULTISTATE,Wv),this._composers.set(SR.FURNITURE_RANDOMSTATE,Xv),this._composers.set(SR.ITEM_STACK_HELPER,qv),this._composers.set(SR.FURNITURE_WALL_MULTISTATE,Qv),this._composers.set(SR.ONE_WAY_DOOR_CLICK,Kv),this._composers.set(SR.ITEM_EXCHANGE_REDEEM,Yv),this._composers.set(SR.ITEM_CLOTHING_REDEEM,_O),this._composers.set(SR.ROOM_MODEL,aO),this._composers.set(SR.GET_OCCUPIED_TILES,nO),this._composers.set(SR.GET_ROOM_ENTRY_TILE,oO),this._composers.set(SR.ROOM_MODEL_SAVE,hO),this._composers.set(SR.UNIT_ACTION,IO),this._composers.set(SR.UNIT_DANCE,fO),this._composers.set(SR.UNIT_DROP_HAND_ITEM,TO),this._composers.set(SR.UNIT_GIVE_HANDITEM,RO),this._composers.set(SR.UNIT_GIVE_HANDITEM_PET,vO),this._composers.set(SR.UNIT_LOOK,OO),this._composers.set(SR.UNIT_SIGN,SO),this._composers.set(SR.UNIT_POSTURE,AO),this._composers.set(SR.UNIT_WALK,NO),this._composers.set(SR.UNIT_CHAT,cO),this._composers.set(SR.UNIT_CHAT_SHOUT,lO),this._composers.set(SR.USER_SETTINGS_CHAT_STYLE,gO),this._composers.set(SR.UNIT_CHAT_WHISPER,EO),this._composers.set(SR.UNIT_TYPING,pO),this._composers.set(SR.UNIT_TYPING_STOP,mO),this._composers.set(SR.WIRED_APPLY_SNAPSHOT,yO),this._composers.set(SR.WIRED_OPEN,DO),this._composers.set(SR.WIRED_ACTION_SAVE,CO),this._composers.set(SR.WIRED_CONDITION_SAVE,LO),this._composers.set(SR.WIRED_TRIGGER_SAVE,UO),this._composers.set(SR.ROOM_MUTE,MO),this._composers.set(SR.APPROVE_NAME,kO),this._composers.set(SR.USER_RESPECT,dA),this._composers.set(SR.SCR_GET_KICKBACK_INFO,nA),this._composers.set(SR.USER_IGNORED,WO),this._composers.set(SR.USER_IGNORE,KO),this._composers.set(SR.USER_IGNORE_ID,XO),this._composers.set(SR.USER_UNIGNORE,qO),this._composers.set(SR.USER_BADGES_CURRENT,QO),this._composers.set(SR.USER_FIGURE,ZO),this._composers.set(SR.USER_HOME_ROOM,JO),this._composers.set(SR.USER_MOTTO,$O),this._composers.set(SR.USER_PROFILE,tA),this._composers.set(SR.USER_PROFILE_BY_NAME,YO),this._composers.set(SR.MESSENGER_RELATIONSHIPS,eA),this._composers.set(SR.MANNEQUIN_SAVE_NAME,Jv),this._composers.set(SR.MANNEQUIN_SAVE_LOOK,Zv),this._composers.set(SR.PRESENT_OPEN_PRESENT,$v),this._composers.set(SR.MARKETPLACE_CONFIG,VT),this._composers.set(SR.MARKETPLACE_SELL_ITEM,YT),this._composers.set(SR.MARKETPLACE_REQUEST_OWN_ITEMS,zT),this._composers.set(SR.MARKETPLACE_TAKE_BACK_ITEM,GT),this._composers.set(SR.MARKETPLACE_REQUEST_OFFERS,kT),this._composers.set(SR.MARKETPLACE_BUY_OFFER,xT),this._composers.set(SR.MARKETPLACE_REDEEM_CREDITS,WT),this._composers.set(SR.MARKETPLACE_BUY_TOKENS,BT),this._composers.set(SR.REQUEST_SELL_ITEM,HT),this._composers.set(SR.REQUEST_MARKETPLACE_ITEM_STATS,jT),this._composers.set(SR.USER_BOTS,TT),this._composers.set(SR.USER_PETS,OT),this._composers.set(SR.USER_CURRENCY,iA),this._composers.set(SR.USER_SUBSCRIPTION,rA),this._composers.set(SR.MODTOOL_REQUEST_ROOM_INFO,JT),this._composers.set(SR.MODTOOL_CHANGE_ROOM_SETTINGS,rR),this._composers.set(SR.MODTOOL_REQUEST_USER_CHATLOG,sR),this._composers.set(SR.MODTOOL_REQUEST_ROOM_CHATLOG,tR),this._composers.set(SR.MOD_TOOL_USER_INFO,$T),this._composers.set(SR.MODTOOL_SANCTION_ALERT,iR),this._composers.set(SR.MODTOOL_SANCTION_BAN,qT),this._composers.set(SR.MODTOOL_SANCTION_KICK,aR),this._composers.set(SR.MODTOOL_SANCTION_TRADELOCK,uR),this._composers.set(SR.MODTOOL_ALERTEVENT,oR),this._composers.set(SR.MODTOOL_SANCTION_MUTE,hR),this._composers.set(SR.MODTOOL_REQUEST_USER_ROOMS,eR),this._composers.set(SR.MODTOOL_ROOM_ALERT,nR),this._composers.set(SR.CLOSE_ISSUE_DEFAULT_ACTION,KT),this._composers.set(SR.CLOSE_ISSUES,XT),this._composers.set(SR.DEFAULT_SANCTION,QT),this._composers.set(SR.GET_CFH_CHATLOG,ZT),this._composers.set(SR.MODTOOL_PREFERENCES,_R),this._composers.set(SR.MODTOOL_SANCTION,dR),this._composers.set(SR.PICK_ISSUES,cR),this._composers.set(SR.RELEASE_ISSUES,lR),this._composers.set(SR.USER_SETTINGS_CAMERA,aA),this._composers.set(SR.USER_SETTINGS_OLD_CHAT,oA),this._composers.set(SR.USER_SETTINGS_INVITES,hA),this._composers.set(SR.USER_SETTINGS_VOLUME,_A),this._composers.set(SR.COMMUNITY_GOAL_VOTE_COMPOSER,FT),this._composers.set(SR.GET_PROMO_ARTICLES,wT),this._composers.set(SR.ACCEPT_QUEST,xR),this._composers.set(SR.ACTIVATE_QUEST,BR),this._composers.set(SR.CANCEL_QUEST,GR),this._composers.set(SR.FRIEND_REQUEST_QUEST_COMPLETE,HR),this._composers.set(SR.GET_COMMUNITY_GOAL_EARNED_PRIZES,VR),this._composers.set(SR.GET_COMMUNITY_GOAL_HALL_OF_FAME,jR),this._composers.set(SR.GET_COMMUNITY_GOAL_PROGRESS,kR),this._composers.set(SR.GET_CONCURRENT_USERS_GOAL_PROGRESS,zR),this._composers.set(SR.GET_CONCURRENT_USERS_REWARD,YR),this._composers.set(SR.GET_DAILY_QUEST,WR),this._composers.set(SR.GET_QUESTS,KR),this._composers.set(SR.GET_SEASONAL_QUESTS_ONLY,XR),this._composers.set(SR.OPEN_QUEST_TRACKER,qR),this._composers.set(SR.REDEEM_COMMUNITY_GOAL_PRIZE,QR),this._composers.set(SR.REJECT_QUEST,ZR),this._composers.set(SR.START_CAMPAIGN,JR),this._composers.set(SR.GET_SOUND_SETTINGS,GO),this._composers.set(SR.ADD_JUKEBOX_DISK,PO),this._composers.set(SR.GET_JUKEBOX_PLAYLIST,bO),this._composers.set(SR.GET_NOW_PLAYING,wO),this._composers.set(SR.GET_OFFICIAL_SONG_ID,FO),this._composers.set(SR.GET_SONG_INFO,xO),this._composers.set(SR.GET_SOUND_MACHINE_PLAYLIST,BO),this._composers.set(SR.GET_USER_SONG_DISKS,HO),this._composers.set(SR.REMOVE_JUKEBOX_DISK,VO),this._composers.set(SR.HELPER_TALENT_TRACK,jO),this._composers.set(SR.ACHIEVEMENT_RESOLUTION_OPEN,$I)}get events(){return this._events}get composers(){return this._composers}}class OA extends y{constructor(t){super(),this._communication=void 0,this._connection=void 0,this._messages=void 0,this._demo=void 0,this._communication=t,this._connection=null,this._messages=new vA,this._demo=new Rs(this),this.onConnectionOpenedEvent=this.onConnectionOpenedEvent.bind(this),this.onConnectionClosedEvent=this.onConnectionClosedEvent.bind(this),this.onConnectionErrorEvent=this.onConnectionErrorEvent.bind(this),this.onConnectionAuthenticatedEvent=this.onConnectionAuthenticatedEvent.bind(this)}onInit(){this._connection||(lL.instance.events.addEventListener(Ts.CONNECTION_AUTHENTICATED,this.onConnectionAuthenticatedEvent),this._connection=this._communication.createConnection(this),this._connection.registerMessages(this._messages),this._connection.addEventListener(R.CONNECTION_OPENED,this.onConnectionOpenedEvent),this._connection.addEventListener(R.CONNECTION_CLOSED,this.onConnectionClosedEvent),this._connection.addEventListener(R.CONNECTION_ERROR,this.onConnectionErrorEvent),this._demo&&this._demo.init(),this._connection.init(lL.instance.getConfiguration(\"socket.url\")))}onDispose(){this._demo&&this._demo.dispose(),this._connection&&(this._connection.removeEventListener(R.CONNECTION_OPENED,this.onConnectionOpenedEvent),this._connection.removeEventListener(R.CONNECTION_CLOSED,this.onConnectionClosedEvent),this._connection.removeEventListener(R.CONNECTION_ERROR,this.onConnectionErrorEvent)),lL.instance.events.removeEventListener(Ts.CONNECTION_AUTHENTICATED,this.onConnectionAuthenticatedEvent),super.onDispose()}onConnectionOpenedEvent(t){this.logger.log(\"Connection Initialized\")}onConnectionClosedEvent(t){this.logger.log(\"Connection Closed\")}onConnectionErrorEvent(t){this.logger.log(\"Connection Error\")}onConnectionAuthenticatedEvent(t){this.logger.log(\"Connection Authenticated\"),this._connection&&this._connection.authenticated()}connectionInit(t){this.logger.log(`Initializing Connection: ${t}`)}registerMessageEvent(t){return this._connection&&this._connection.addMessageEvent(t),t}removeMessageEvent(t){this._connection&&this._connection.removeMessageEvent(t)}get demo(){return this._demo}get connection(){return this._connection}}class AA{static get available(){return this._isListeningForPostMessages||(this._isListeningForPostMessages=!0,window.addEventListener(\"message\",(t=>{if(\"string\"===typeof t.data)if(t.data.startsWith(AA.MESSAGE_KEY)){const{method:e,params:s}=JSON.parse(t.data.substr(AA.MESSAGE_KEY.length)),i=window[e];if(!i)return;i(...s)}else;}))),!0}static call(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];if(window.top!==window&&window.top.postMessage(AA.MESSAGE_KEY+JSON.stringify({method:t,params:s}),\"*\"),!(\"FlashExternalInterface\"in window))return;const r=window.FlashExternalInterface[t];return\"undefined\"!==typeof r?r(...s):void 0}static callGame(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];if(window.top!==window&&window.top.postMessage(\"Nitro_LegacyExternalGameInterface\"+JSON.stringify({method:t,params:s}),\"*\"),!(\"FlashExternalGameInterface\"in window))return;const r=window.FlashExternalGameInterface[t];return\"undefined\"!==typeof r?r(...s):void 0}static addCallback(t,e){window[t]=e}}AA.MESSAGE_KEY=\"Nitro_LegacyExternalInterface\",AA._isListeningForPostMessages=!1;class SA{constructor(t){t.addMessageEvent(new Dc(this.onLoadGameUrl.bind(this)))}onLoadGameUrl(t){if(!t)return;const e=t.getParser();e&&AA.callGame(\"showGame\",e.url)}}class NA{constructor(t){this._badgeId=\"\",this._level=1,this._base=\"\",this._badgeId=t,this.parseText()}parseText(){let t=this._badgeId.length-1;for(;t>0&&this.isNumber(this._badgeId.charAt(t));)t--;this._base=this._badgeId.substr(0,t+1);const e=this._badgeId.substr(t+1,this._badgeId.length);e&&\"\"!==e&&(this._level=Number.parseInt(e))}isNumber(t){const e=t.charCodeAt(0);return e>=48&&e<=57}get level(){return this._level}set level(t){this._level=Math.max(1,t)}get getBadgeId(){return this._base+this._level}get base(){return this._base}}class yA extends d.a{constructor(t){super(t)}}yA.LOADED=\"NLE_LOADED\",yA.FAILED=\"NLE_FAILED\";class DA extends y{constructor(t){super(),this._communication=void 0,this._definitions=void 0,this._parameters=void 0,this._badgePointLimits=void 0,this._romanNumerals=void 0,this._pendingUrls=void 0,this._communication=t,this._definitions=new Map,this._parameters=new Map,this._badgePointLimits=new Map,this._romanNumerals=[\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\",\"X\",\"XI\",\"XII\",\"XIII\",\"XIV\",\"XV\",\"XVI\",\"XVII\",\"XVIII\",\"XIX\",\"XX\",\"XXI\",\"XXII\",\"XXIII\",\"XXIV\",\"XXV\",\"XXVI\",\"XXVII\",\"XXVIII\",\"XXIX\",\"XXX\"],this._pendingUrls=[]}onInit(){this._communication.registerMessageEvent(new jl(this.onBadgePointLimitsEvent.bind(this)));let t=lL.instance.getConfiguration(\"external.texts.url\");Array.isArray(t)||(t=[lL.instance.getConfiguration(\"external.texts.url\")]);for(let e=0;e<t.length;e++)t[e]=lL.instance.core.configuration.interpolate(t[e]);this._pendingUrls=t,this.loadNextLocalization()}loadNextLocalization(){this._pendingUrls.length?this.loadLocalizationFromURL(this._pendingUrls[0]):this.events&&this.events.dispatchEvent(new yA(yA.LOADED))}loadLocalizationFromURL(t){fetch(t).then((t=>t.json())).then((e=>this.onLocalizationLoaded(e,t))).catch((t=>this.onLocalizationFailed(t)))}onLocalizationLoaded(t,e){if(!t)return;if(!this.parseLocalization(t))throw new Error(`Invalid json data for file ${e}`);const s=this._pendingUrls.indexOf(e);s>=0&&this._pendingUrls.splice(s,1),this.loadNextLocalization()}onLocalizationFailed(t){this.events&&this.events.dispatchEvent(new yA(yA.FAILED))}parseLocalization(t){if(!t)return!1;for(const e in t)this._definitions.set(e,t[e]);return!0}onBadgePointLimitsEvent(t){const e=t.getParser();for(const s of e.data)this.setBadgePointLimit(s.badgeId,s.limit)}getBadgePointLimit(t){return this._badgePointLimits.get(t)||-1}setBadgePointLimit(t,e){this._badgePointLimits.set(t,e)}getRomanNumeral(t){return this._romanNumerals[Math.max(0,t-1)]}getPreviousLevelBadgeId(t){const e=new NA(t);return e.level--,e.getBadgeId}hasValue(t){return this._definitions.has(t)}getValue(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||!t.length)return null;const s=t.match(/\\$\\{.[^}]*\\}/g);if(s&&s.length)for(const r of s)t=t.replace(r,this.getValue(r.slice(2,-1),e));let i=this._definitions.get(t)||null;if(!i&&(i=lL.instance.core.configuration.definitions.get(t),i))return i;if(i&&e){const e=this._parameters.get(t);if(e)for(const[t,s]of e)i=i.replace(\"%\"+t+\"%\",s)}return i||t}getValueWithParameter(t,e,s){const i=this.getValue(t,!1),r=i.replace(\"%\"+e+\"%\",s);if(i.startsWith(\"%{\")){const t=new RegExp(\"%{\"+e.toUpperCase()+\"\\\\|([^|]*)\\\\|([^|]*)\\\\|([^|]*)}\"),n=i.match(t);if(!n)return r;let a=-1;let o=!1;switch(Number.parseInt(s)){case 0:a=1;break;case 1:a=2;break;default:a=3,o=!0}if(-1==a||\"undefined\"==typeof n[a])return r;const h=n[a];if(h)return h.replace(\"%%\",s)}return r}getValueWithParameters(t,e,s){let i=this.getValue(t,!1);if(e)for(let r=0;r<e.length;r++){const t=e[r],n=s[r];if(void 0!==n&&(i=i.replace(\"%\"+t+\"%\",n),i.startsWith(\"%{\"))){const e=new RegExp(\"%{\"+t.toUpperCase()+\"\\\\|([^|]*)\\\\|([^|]*)\\\\|([^|]*)}\"),s=i.match(e);if(!s)continue;let r=-1,a=!1;switch(parseInt(n)){case 0:r=1;break;case 1:r=2;break;default:r=3,a=!0}if(-1===r||\"undefined\"===typeof s[r])continue;const o=s[r];o&&(i=o.replace(\"%%\",n))}}return i}setValue(t,e){this._definitions.set(t,e)}registerParameter(t,e,s){if(!t||0===t.length||!e||0===e.length)return;let i=this._parameters.get(t);i||(i=new Map,this._parameters.set(t,i)),i.set(e,s)}getBadgeName(t){const e=new NA(t),s=[\"badge_name_\"+t,\"badge_name_\"+e.base];let i=this._Str_2103(this.getExistingKey(s));return i=i.replace(\"%roman%\",this.getRomanNumeral(e.level)),i}getBadgeDesc(t){const e=new NA(t),s=[\"badge_desc_\"+t,\"badge_desc_\"+e.base];let i=this._Str_2103(this.getExistingKey(s));const r=this.getBadgePointLimit(t);return r>-1&&(i=i.replace(\"%limit%\",r.toString())),i=i.replace(\"%roman%\",this.getRomanNumeral(e.level)),i}getExistingKey(t){for(const e of t){const t=this.getValue(e);if(t!=e)return t}return\"\"}_Str_2103(t){return t.replace(\"${\",\"$\").replace(\"{\",\"$\").replace(\"}\",\"$\")}}s(103);var MA=s(48),CA=(s(104),s(105),s(106),s(107),s(108),s(109),s(80)),LA=s(8),UA=(s(69),s(70),s(30),s(49));i.p.registerPlugin(\"batch\",i.f),i.p.registerPlugin(\"extract\",MA.a),i.p.registerPlugin(\"tilingSprite\",CA.a),i.p.registerPlugin(\"tilemap\",Q.b),i.p.registerPlugin(\"interaction\",q.b),r.b.registerPlugin(n.b),a.a.registerPlugin(r.a),a.a.registerPlugin(_.b);class PA extends d.a{constructor(t,e){super(t),this._roomId=void 0,this._roomId=e}get roomId(){return this._roomId}}PA.INITIALIZED=\"REE_INITIALIZED\",PA.ENGINE_INITIALIZED=\"REE_ENGINE_INITIALIZED\",PA.OBJECTS_INITIALIZED=\"REE_OBJECTS_INITIALIZED\",PA.NORMAL_MODE=\"REE_NORMAL_MODE\",PA.GAME_MODE=\"REE_GAME_MODE\",PA.ROOM_ZOOMED=\"REE_ROOM_ZOOMED\",PA.DISPOSED=\"REE_DISPOSED\";class bA{constructor(t,e,s){this._layerId=void 0,this._partId=void 0,this._paletteId=void 0,this._layerId=t,this._partId=e,this._paletteId=s}get layerId(){return this._layerId}set layerId(t){this._layerId=t}get partId(){return this._partId}set partId(t){this._partId=t}get paletteId(){return this._paletteId}set paletteId(t){this._paletteId=t}}class wA{constructor(t){this._typeId=void 0,this._paletteId=void 0,this._color=void 0,this._headOnly=void 0,this._customParts=void 0,this._customLayerIds=void 0,this._customPartIds=void 0,this._customPaletteIds=void 0,this._typeId=this.getTypeId(t),this._paletteId=this.getPaletteId(t),this._color=this.getColor(t),this._headOnly=this.getHeadOnly(t);const e=this.getCustomData(t);this._customLayerIds=this.getCustomLayerIds(e),this._customPartIds=this.getCustomPartIds(e),this._customPaletteIds=this.getCustomPaletteIds(e),this._customParts=[];let s=0;for(;s<this._customLayerIds.length;)this._customParts.push(new bA(this._customLayerIds[s],this._customPartIds[s],this._customPaletteIds[s])),s++}get typeId(){return this._typeId}get paletteId(){return this._paletteId}get color(){return this._color}get customLayerIds(){return this._customLayerIds}get customPartIds(){return this._customPartIds}get customPaletteIds(){return this._customPaletteIds}get customParts(){return this._customParts}getCustomPart(t){if(this._customParts)for(const e of this._customParts)if(e.layerId===t)return e;return null}get hasCustomParts(){return!(null==this._customLayerIds)&&this._customLayerIds.length>0}get headOnly(){return this._headOnly}get figureString(){let t=this.typeId+\" \"+this.paletteId+\" \"+this.color.toString(16);t=t+\" \"+this.customParts.length;for(const e of this.customParts)t=t+\" \"+e.layerId+\" \"+e.partId+\" \"+e.paletteId;return t}getCustomData(t){let e=[];if(t){const s=t.split(\" \"),i=this._headOnly?1:0,r=4+i;if(s.length>r){const t=parseInt(s[3+i]);e=s.slice(r,r+3*t)}}return e}getCustomLayerIds(t){const e=[];let s=0;for(;s<t.length;)e.push(parseInt(t[s+0])),s+=3;return e}getCustomPartIds(t){const e=[];let s=0;for(;s<t.length;)e.push(parseInt(t[s+1])),s+=3;return e}getCustomPaletteIds(t){const e=[];let s=0;for(;s<t.length;)e.push(parseInt(t[s+2])),s+=3;return e}getTypeId(t){if(t){const e=t.split(\" \");if(e.length>=1)return parseInt(e[0])}return 0}getPaletteId(t){if(t){const e=t.split(\" \");if(e.length>=2)return parseInt(e[1])}return 0}getColor(t){if(t){const e=t.split(\" \");if(e.length>=3)return parseInt(e[2],16)}return 16777215}getHeadOnly(t){if(t){const e=t.split(\" \");if(e.length>=4)return\"head\"===e[3]}return!1}}class FA{}FA.HOTEL_VIEW=\"hotel_view\",FA.HOME_ROOM=\"home_room\",FA.NAVIGATOR=\"navigator\",FA.CATALOG=\"catalog\",FA.INVENTORY=\"inventory\",FA.ME_MENU=\"me_menu\",FA.FRIEND_LIST=\"friendlist\";class xA extends d.a{constructor(t){super(t),this._iconId=void 0,this._iconName=void 0}get iconId(){return this._iconId}set iconId(t){this._iconId=t}get iconName(){return this._iconName}set iconName(t){this._iconName=t}}xA.TOOLBAR_CLICK=\"NTE_TOOLBAR_CLICK\",xA.SELECT_OWN_AVATAR=\"NTE_SELECT_OWN_AVATAR\";class BA extends xA{constructor(t,e,s){super(BA.ANIMATE_ICON),this._image=void 0,this._x=void 0,this._y=void 0,this._image=t,this._x=e,this._y=s}get image(){return this._image}get x(){return this._x}get y(){return this._y}}BA.ANIMATE_ICON=\"NTAIE_ANIMATE_ICON\";class GA extends d.a{constructor(t,e){super(GA.IMAGE_READY),this._badgeId=void 0,this._image=void 0,this._badgeId=t,this._image=e}get badgeId(){return this._badgeId}get image(){return this._image}}GA.IMAGE_READY=\"BIME_BADGE_IMAGE_READY\";class HA extends d.a{constructor(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(t),this._session=void 0,this._openLandingView=void 0,this._session=e,this._openLandingView=s}get session(){return this._session}get openLandingView(){return this._openLandingView}}HA.CREATED=\"RSE_CREATED\",HA.STARTED=\"RSE_STARTED\",HA.ENDED=\"RSE_ENDED\",HA.ROOM_DATA=\"RSE_ROOM_DATA\";class VA{static isBuilderClubId(t){return t>=VA.BUILDER_CLUB_FURNI_ID_BASE}}VA.BUILDER_CLUB_FURNI_ID_BASE=2147418112;class jA extends PA{constructor(t,e,s,i){super(jA.ROOM_COLOR,t),this._color=void 0,this._brightness=void 0,this._bgOnly=void 0,this._color=e,this._brightness=s,this._bgOnly=i}get color(){return this._color}get brightness(){return this._brightness}get bgOnly(){return this._bgOnly}}jA.ROOM_COLOR=\"REE_ROOM_COLOR\";class kA extends PA{constructor(t,e,s){super(kA.ROOM_DRAG,t),this._offsetX=void 0,this._offsetY=void 0,this._offsetX=e,this._offsetY=s}get offsetX(){return this._offsetX}get offsetY(){return this._offsetY}}kA.ROOM_DRAG=\"RDE_ROOM_DRAG\";class zA extends PA{constructor(t,e,s,i,r,n){super(zA.ROOM_COLOR,t),this._state=void 0,this._presetId=void 0,this._effectId=void 0,this._color=void 0,this._brightness=void 0,this._state=e,this._presetId=s,this._effectId=i,this._color=r,this._brightness=n}get state(){return this._state}get presetId(){return this._presetId}get effectId(){return this._effectId}get color(){return this._color}get brightness(){return this._brightness}}zA.ROOM_COLOR=\"REDSE_ROOM_COLOR\";class YA extends PA{constructor(t,e,s,i){super(t,e),this._objectId=void 0,this._category=void 0,this._objectId=s,this._category=i}get objectId(){return this._objectId}get category(){return this._category}}YA.SELECTED=\"REOE_SELECTED\",YA.DESELECTED=\"REOE_DESELECTED\",YA.ADDED=\"REOE_ADDED\",YA.REMOVED=\"REOE_REMOVED\",YA.PLACED=\"REOE_PLACED\",YA.PLACED_ON_USER=\"REOE_PLACED_ON_USER\",YA.CONTENT_UPDATED=\"REOE_CONTENT_UPDATED\",YA.REQUEST_MOVE=\"REOE_REQUEST_MOVE\",YA.REQUEST_ROTATE=\"REOE_REQUEST_ROTATE\",YA.REQUEST_MANIPULATION=\"REOE_REQUEST_MANIPULATION\",YA.MOUSE_ENTER=\"REOE_MOUSE_ENTER\",YA.MOUSE_LEAVE=\"REOE_MOUSE_LEAVE\";class WA extends YA{constructor(t,e,s,i,r,n,a,o,h,_,d,u,c){super(t,e,s,i),this._wallLocation=\"\",this._x=0,this._y=0,this._z=0,this._direction=0,this._placedInRoom=!1,this._placedOnFloor=!1,this._placedOnWall=!1,this._instanceData=null,this._wallLocation=r,this._x=n,this._y=a,this._z=o,this._direction=h,this._placedInRoom=_,this._placedOnFloor=d,this._placedOnWall=u,this._instanceData=c}get wallLocation(){return this._wallLocation}get x(){return this._x}get y(){return this._y}get z(){return this._z}get direction(){return this._direction}get placedInRoom(){return this._placedInRoom}get placedOnFloor(){return this._placedOnFloor}get placedOnWall(){return this._placedOnWall}get instanceData(){return this._instanceData}}class KA extends YA{constructor(t,e,s,i,r,n){super(t,e,s,i),this._droppedObjectId=void 0,this._droppedObjectCategory=void 0,this._droppedObjectId=r,this._droppedObjectCategory=n}get droppedObjectId(){return this._droppedObjectId}get droppedObjectCategory(){return this._droppedObjectCategory}}class XA extends YA{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(t,e,s,i),this._soundId=void 0,this._pitch=void 0,this._soundId=r,this._pitch=n}get soundId(){return this._soundId}get pitch(){return this._pitch}}XA.PLAY_SOUND=\"REOPSE_PLAY_SOUND\",XA.PLAY_SOUND_AT_PITCH=\"REOPSE_PLAY_SOUND_AT_PITCH\";class qA extends YA{}qA.FURNI_CLICK=\"RERAE_FURNI_CLICK\",qA.FURNI_DOUBLE_CLICK=\"RERAE_FURNI_DOUBLE_CLICK\",qA.TOOLTIP_SHOW=\"RERAE_TOOLTIP_SHOW\",qA.TOOLTIP_HIDE=\"RERAE_TOOLTIP_HIDE\";class QA extends YA{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(t,e,s,i),this._sampleId=void 0,this._pitch=void 0,this._sampleId=r,this._pitch=n}get sampleId(){return this._sampleId}get pitch(){return this._pitch}}QA.ROOM_OBJECT_INITIALIZED=\"ROPSPE_ROOM_OBJECT_INITIALIZED\",QA.ROOM_OBJECT_DISPOSED=\"ROPSPE_ROOM_OBJECT_DISPOSED\",QA.PLAY_SAMPLE=\"ROPSPE_PLAY_SAMPLE\",QA.CHANGE_PITCH=\"ROPSPE_CHANGE_PITCH\";class ZA extends YA{constructor(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(t,e,s,i),this._widget=void 0,this._widget=r}get widget(){return this._widget}get contextMenu(){return this._widget}}ZA.OPEN_WIDGET=\"RETWE_OPEN_WIDGET\",ZA.CLOSE_WIDGET=\"RETWE_CLOSE_WIDGET\",ZA.OPEN_FURNI_CONTEXT_MENU=\"RETWE_OPEN_FURNI_CONTEXT_MENU\",ZA.CLOSE_FURNI_CONTEXT_MENU=\"RETWE_CLOSE_FURNI_CONTEXT_MENU\",ZA.REQUEST_PLACEHOLDER=\"RETWE_REQUEST_PLACEHOLDER\",ZA.REQUEST_CREDITFURNI=\"RETWE_REQUEST_CREDITFURNI\",ZA.REQUEST_STICKIE=\"RETWE_REQUEST_STICKIE\",ZA.REQUEST_PRESENT=\"RETWE_REQUEST_PRESENT\",ZA.REQUEST_TROPHY=\"RETWE_REQUEST_TROPHY\",ZA.REQUEST_TEASER=\"RETWE_REQUEST_TEASER\",ZA.REQUEST_ECOTRONBOX=\"RETWE_REQUEST_ECOTRONBOX\",ZA.REQUEST_DIMMER=\"RETWE_REQUEST_DIMMER\",ZA.REMOVE_DIMMER=\"RETWE_REMOVE_DIMMER\",ZA.REQUEST_CLOTHING_CHANGE=\"RETWE_REQUEST_CLOTHING_CHANGE\",ZA.REQUEST_PLAYLIST_EDITOR=\"RETWE_REQUEST_PLAYLIST_EDITOR\",ZA.REQUEST_MANNEQUIN=\"RETWE_REQUEST_MANNEQUIN\",ZA.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG=\"ROWRE_REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG\",ZA.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG=\"ROWRE_REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG\",ZA.REQUEST_BACKGROUND_COLOR=\"RETWE_REQUEST_BACKGROUND_COLOR\",ZA.REQUEST_MYSTERYBOX_OPEN_DIALOG=\"RETWE_REQUEST_MYSTERYBOX_OPEN_DIALOG\",ZA.REQUEST_EFFECTBOX_OPEN_DIALOG=\"RETWE_REQUEST_EFFECTBOX_OPEN_DIALOG\",ZA.REQUEST_MYSTERYTROPHY_OPEN_DIALOG=\"RETWE_REQUEST_MYSTERYTROPHY_OPEN_DIALOG\",ZA.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING=\"RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING\",ZA.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED=\"RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_FAILED\",ZA.REQUEST_FRIEND_FURNITURE_CONFIRM=\"RETWE_REQUEST_FRIEND_FURNITURE_CONFIRM\",ZA.REQUEST_FRIEND_FURNITURE_ENGRAVING=\"RETWE_REQUEST_FRIEND_FURNITURE_ENGRAVING\",ZA.REQUEST_BADGE_DISPLAY_ENGRAVING=\"RETWE_REQUEST_BADGE_DISPLAY_ENGRAVING\",ZA.REQUEST_HIGH_SCORE_DISPLAY=\"RETWE_REQUEST_HIGH_SCORE_DISPLAY\",ZA.REQUEST_HIDE_HIGH_SCORE_DISPLAY=\"RETWE_REQUEST_HIDE_HIGH_SCORE_DISPLAY\",ZA.REQUEST_INTERNAL_LINK=\"RETWE_REQUEST_INTERNAL_LINK\",ZA.REQUEST_ROOM_LINK=\"RETWE_REQUEST_ROOM_LINK\";class JA extends YA{constructor(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;super(t,e,s,i),this._inventoryStripId=void 0,this._furnitureTypeId=void 0,this._inventoryStripId=r,this._furnitureTypeId=n}get inventoryStripId(){return this._inventoryStripId}get furnitureTypeId(){return this._furnitureTypeId}}JA.USE_PRODUCT_FROM_ROOM=\"REUPE_USE_PRODUCT_FROM_ROOM\",JA.USE_PRODUCT_FROM_INVENTORY=\"REUPE_USE_PRODUCT_FROM_INVENTORY\";class $A extends De{constructor(t,e,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];super(t,e),this._badgeId=void 0,this._groupBadge=void 0,this._badgeId=s,this._groupBadge=i}get badgeId(){return this._badgeId}get groupBadge(){return this._groupBadge}}$A.LOAD_BADGE=\"ROBAE_LOAD_BADGE\";class tS extends De{constructor(t,e){super(t,e)}}tS.RODRE_CURRENT_USER_ID=\"RODRE_CURRENT_USER_ID\",tS.RODRE_URL_PREFIX=\"RODRE_URL_PREFIX\";class eS extends De{constructor(t,e,s,i,r,n){super(eS.DIMMER_STATE,t),this._state=void 0,this._presetId=void 0,this._effectId=void 0,this._color=void 0,this._brightness=void 0,this._state=e,this._presetId=s,this._effectId=i,this._color=r,this._brightness=n}get state(){return this._state}get presetId(){return this._presetId}get effectId(){return this._effectId}get color(){return this._color}get brightness(){return this._brightness}}eS.DIMMER_STATE=\"RODSUE_DIMMER_STATE\";class sS extends De{constructor(t,e){super(t,e)}}sS.ADD_HOLE=\"ROFHO_ADD_HOLE\",sS.REMOVE_HOLE=\"ROFHO_REMOVE_HOLE\";class iS extends De{}iS.DICE_OFF=\"ROFCAE_DICE_OFF\",iS.DICE_ACTIVATE=\"ROFCAE_DICE_ACTIVATE\",iS.USE_HABBOWHEEL=\"ROFCAE_USE_HABBOWHEEL\",iS.STICKIE=\"ROFCAE_STICKIE\",iS.ENTER_ONEWAYDOOR=\"ROFCAE_ENTER_ONEWAYDOOR\",iS.SOUND_MACHINE_INIT=\"ROFCAE_SOUND_MACHINE_INIT\",iS.SOUND_MACHINE_START=\"ROFCAE_SOUND_MACHINE_START\",iS.SOUND_MACHINE_STOP=\"ROFCAE_SOUND_MACHINE_STOP\",iS.SOUND_MACHINE_DISPOSE=\"ROFCAE_SOUND_MACHINE_DISPOSE\",iS.JUKEBOX_INIT=\"ROFCAE_JUKEBOX_INIT\",iS.JUKEBOX_START=\"ROFCAE_JUKEBOX_START\",iS.JUKEBOX_MACHINE_STOP=\"ROFCAE_JUKEBOX_MACHINE_STOP\",iS.JUKEBOX_DISPOSE=\"ROFCAE_JUKEBOX_DISPOSE\",iS.MOUSE_BUTTON=\"ROFCAE_MOUSE_BUTTON\",iS.MOUSE_ARROW=\"ROFCAE_MOUSE_ARROW\";class rS extends PA{constructor(t,e,s,i,r,n){super(t,e),this._enable=void 0,this._hue=void 0,this._saturation=void 0,this._lightness=void 0,this._enable=s,this._hue=i,this._saturation=r,this._lightness=n}get enable(){return this._enable}get hue(){return this._hue}get saturation(){return this._saturation}get lightness(){return this._lightness}}rS.ROOM_BACKGROUND_COLOR=\"ROHSLCEE_ROOM_BACKGROUND_COLOR\";class nS extends De{constructor(t,e,s,i,r,n){super(t,e),this._enable=void 0,this._hue=void 0,this._saturation=void 0,this._lightness=void 0,this._enable=s,this._hue=i,this._saturation=r,this._lightness=n}get enable(){return this._enable}get hue(){return this._hue}get saturation(){return this._saturation}get lightness(){return this._lightness}}nS.ROOM_BACKGROUND_COLOR=\"ROHSLCEE_ROOM_BACKGROUND_COLOR\";class aS extends De{constructor(t,e){super(t,e)}}aS.POSITION_CHANGED=\"ROME_POSITION_CHANGED\",aS.OBJECT_REMOVED=\"ROME_OBJECT_REMOVED\";class oS extends iS{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(t,e),this._soundId=void 0,this._pitch=void 0,this._soundId=s,this._pitch=i}get soundId(){return this._soundId}get pitch(){return this._pitch}}oS.PLAY_SOUND=\"ROPSIE_PLAY_SOUND\",oS.PLAY_SOUND_AT_PITCH=\"ROPSIE_PLAY_SOUND_AT_PITCH\";class hS extends De{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";super(t,e),this._imageUrl=\"\",this._clickUrl=\"\",this._imageUrl=s,this._clickUrl=i}get imageUrl(){return this._imageUrl}get clickUrl(){return this._clickUrl}}hS.ROOM_AD_LOAD_IMAGE=\"RORAE_ROOM_AD_LOAD_IMAGE\",hS.ROOM_AD_FURNI_CLICK=\"RORAE_ROOM_AD_FURNI_CLICK\",hS.ROOM_AD_FURNI_DOUBLE_CLICK=\"RORAE_ROOM_AD_FURNI_DOUBLE_CLICK\",hS.ROOM_AD_TOOLTIP_SHOW=\"RORAE_ROOM_AD_TOOLTIP_SHOW\",hS.ROOM_AD_TOOLTIP_HIDE=\"RORAE_ROOM_AD_TOOLTIP_HIDE\";class _S extends De{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(t,e),this._sampleId=void 0,this._pitch=void 0,this._sampleId=s,this._pitch=i}get sampleId(){return this._sampleId}get pitch(){return this._pitch}}_S.ROOM_OBJECT_INITIALIZED=\"ROPSPE_ROOM_OBJECT_INITIALIZED\",_S.ROOM_OBJECT_DISPOSED=\"ROPSPE_ROOM_OBJECT_DISPOSED\",_S.PLAY_SAMPLE=\"ROPSPE_PLAY_SAMPLE\",_S.CHANGE_PITCH=\"ROPSPE_CHANGE_PITCH\";class dS extends YA{}dS.SOUND_MACHINE_INIT=\"ROSM_SOUND_MACHINE_INIT\",dS.SOUND_MACHINE_SWITCHED_ON=\"ROSM_SOUND_MACHINE_SWITCHED_ON\",dS.SOUND_MACHINE_SWITCHED_OFF=\"ROSM_SOUND_MACHINE_SWITCHED_OFF\",dS.SOUND_MACHINE_DISPOSE=\"ROSM_SOUND_MACHINE_DISPOSE\",dS.JUKEBOX_INIT=\"ROSM_JUKEBOX_INIT\",dS.JUKEBOX_SWITCHED_ON=\"ROSM_JUKEBOX_SWITCHED_ON\",dS.JUKEBOX_SWITCHED_OFF=\"ROSM_JUKEBOX_SWITCHED_OFF\",dS.JUKEBOX_DISPOSE=\"ROSM_JUKEBOX_DISPOSE\";class uS extends De{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(t,e),this._state=void 0,this._state=s}get state(){return this._state}}uS.STATE_CHANGE=\"ROSCE_STATE_CHANGE\",uS.STATE_RANDOM=\"ROSCE_STATE_RANDOM\";class cS extends Me{constructor(t,e,s,i,r,n){super(t,e,s,arguments.length>6&&void 0!==arguments[6]&&arguments[6],arguments.length>7&&void 0!==arguments[7]&&arguments[7],arguments.length>8&&void 0!==arguments[8]&&arguments[8],arguments.length>9&&void 0!==arguments[9]&&arguments[9]),this._tileX=void 0,this._tileY=void 0,this._tileZ=void 0,this._tileX=i,this._tileY=r,this._tileZ=n}get tileX(){return this._tileX}get tileY(){return this._tileY}get tileZ(){return this._tileZ}get tileXAsInt(){return Math.trunc(this._tileX+.499)}get tileYAsInt(){return Math.trunc(this._tileY+.499)}get tileZAsInt(){return Math.trunc(this._tileZ+.499)}}class lS extends Me{constructor(t,e,s,i,r,n,a,o,h){super(t,e,s,arguments.length>9&&void 0!==arguments[9]&&arguments[9],arguments.length>10&&void 0!==arguments[10]&&arguments[10],arguments.length>11&&void 0!==arguments[11]&&arguments[11],arguments.length>12&&void 0!==arguments[12]&&arguments[12]),this._wallLocation=void 0,this._wallWd=void 0,this._wallHt=void 0,this._x=void 0,this._y=void 0,this._direction=void 0,this._wallLocation=new dt,this._wallWd=new dt,this._wallHt=new dt,this._wallLocation.assign(i),this._wallWd.assign(r),this._wallHt.assign(n),this._x=a,this._y=o,this._direction=h}get wallLocation(){return this._wallLocation}get wallWidth(){return this._wallWd}get wallHeight(){return this._wallHt}get x(){return this._x}get y(){return this._y}get direction(){return this._direction}}class gS extends De{constructor(t,e){super(t,e)}}gS.OPEN_WIDGET=\"ROWRE_OPEN_WIDGET\",gS.CLOSE_WIDGET=\"ROWRE_CLOSE_WIDGET\",gS.OPEN_FURNI_CONTEXT_MENU=\"ROWRE_OPEN_FURNI_CONTEXT_MENU\",gS.CLOSE_FURNI_CONTEXT_MENU=\"ROWRE_CLOSE_FURNI_CONTEXT_MENU\",gS.PLACEHOLDER=\"ROWRE_PLACEHOLDER\",gS.CREDITFURNI=\"ROWRE_CREDITFURNI\",gS.STICKIE=\"ROWRE_STICKIE\",gS.PRESENT=\"ROWRE_PRESENT\",gS.TROPHY=\"ROWRE_TROPHY\",gS.TEASER=\"ROWRE_TEASER\",gS.ECOTRONBOX=\"ROWRE_ECOTRONBOX\",gS.DIMMER=\"ROWRE_DIMMER\",gS.WIDGET_REMOVE_DIMMER=\"ROWRE_WIDGET_REMOVE_DIMMER\",gS.CLOTHING_CHANGE=\"ROWRE_CLOTHING_CHANGE\",gS.JUKEBOX_PLAYLIST_EDITOR=\"ROWRE_JUKEBOX_PLAYLIST_EDITOR\",gS.MANNEQUIN=\"ROWRE_MANNEQUIN\",gS.PET_PRODUCT_MENU=\"ROWRE_PET_PRODUCT_MENU\",gS.GUILD_FURNI_CONTEXT_MENU=\"ROWRE_GUILD_FURNI_CONTEXT_MENU\",gS.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG=\"ROWRE_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG\",gS.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG=\"ROWRE_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG\",gS.BACKGROUND_COLOR=\"ROWRE_BACKGROUND_COLOR\",gS.MYSTERYBOX_OPEN_DIALOG=\"ROWRE_MYSTERYBOX_OPEN_DIALOG\",gS.EFFECTBOX_OPEN_DIALOG=\"ROWRE_EFFECTBOX_OPEN_DIALOG\",gS.MYSTERYTROPHY_OPEN_DIALOG=\"ROWRE_MYSTERYTROPHY_OPEN_DIALOG\",gS.ACHIEVEMENT_RESOLUTION_OPEN=\"ROWRE_ACHIEVEMENT_RESOLUTION_OPEN\",gS.ACHIEVEMENT_RESOLUTION_ENGRAVING=\"ROWRE_ACHIEVEMENT_RESOLUTION_ENGRAVING\",gS.ACHIEVEMENT_RESOLUTION_FAILED=\"ROWRE_ACHIEVEMENT_RESOLUTION_FAILED\",gS.FRIEND_FURNITURE_CONFIRM=\"ROWRE_FRIEND_FURNITURE_CONFIRM\",gS.FRIEND_FURNITURE_ENGRAVING=\"ROWRE_FRIEND_FURNITURE_ENGRAVING\",gS.BADGE_DISPLAY_ENGRAVING=\"ROWRE_BADGE_DISPLAY_ENGRAVING\",gS.HIGH_SCORE_DISPLAY=\"ROWRE_HIGH_SCORE_DISPLAY\",gS.HIDE_HIGH_SCORE_DISPLAY=\"ROWRE_HIDE_HIGH_SCORE_DISPLAY\",gS.INERNAL_LINK=\"ROWRE_INTERNAL_LINK\",gS.ROOM_LINK=\"ROWRE_ROOM_LINK\";class ES extends Le{constructor(t,e){super(t),this._targetLocation=void 0,this._targetLocation=e}get targetLocation(){return this._targetLocation}}ES.ROAME_MOVE_TO=\"ROAME_MOVE_TO\";class pS extends PA{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(pS.ROOM_ZOOM,t),this._level=void 0,this._forceFlip=void 0,this._asDelta=void 0,this._level=e,this._forceFlip=s,this._asDelta=i}get level(){return this._level}get forceFlip(){return this._forceFlip}get asDelta(){return this._asDelta}}pS.ROOM_ZOOM=\"REE_ROOM_ZOOM\";class mS{constructor(){this.id=0,this.data=null,this.image=null}getImage(){return this.image?this.image:this.data?At.generateImage(this.data):null}}class IS extends Ue{constructor(){super(null,null)}}class fS extends IS{constructor(t,e){super(),this._itemType=void 0,this._itemName=void 0,this._itemType=t,this._itemName=e}get itemType(){return this._itemType}get itemName(){return this._itemName}}class TS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super(),this._numberOfWords=void 0,this._numberOfWords=t}get numberOfWords(){return this._numberOfWords}}class RS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super(),this._danceStyle=void 0,this._danceStyle=t}get danceStyle(){return this._danceStyle}}class vS extends IS{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(),this._effect=void 0,this._delayMilliseconds=void 0,this._effect=t,this._delayMilliseconds=e}get effect(){return this._effect}get delayMilliseconds(){return this._delayMilliseconds}}class OS extends IS{constructor(t){super(),this._gainedExperience=void 0,this._gainedExperience=t}get gainedExperience(){return this._gainedExperience}}class AS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super(),this._expressionType=void 0,this._expressionType=t}get expressionType(){return this._expressionType}}class SS extends IS{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this._figure=void 0,this._gender=void 0,this._subType=void 0,this._isRiding=void 0,this._figure=t,this._gender=e,this._subType=s,this._isRiding=i}get figure(){return this._figure}get gender(){return this._gender}get subType(){return this._subType}get isRiding(){return this._isRiding}}class NS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super(),this._level=void 0,this._level=t}get level(){return this._level}}class yS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super(),this._gesture=void 0,this._gesture=t}get gesture(){return this._gesture}}class DS extends IS{constructor(t){super(),this._guideStatus=void 0,this._guideStatus=t}get guideStatus(){return this._guideStatus}}class MS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(),this._isMuted=void 0,this._isMuted=t}get isMuted(){return this._isMuted}}class CS extends IS{}class LS extends IS{constructor(t){super(),this._gesture=void 0,this._gesture=t}get gesture(){return this._gesture}}class US extends IS{constructor(t){super(),this._value=void 0,this._value=t}get value(){return this._value}}class PS extends IS{constructor(t){super(),this._isPlayingGame=void 0,this._isPlayingGame=t}get isPlayingGame(){return this._isPlayingGame}}class bS extends IS{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";super(),this._postureType=void 0,this._parameter=void 0,this._postureType=t,this._parameter=e}get postureType(){return this._postureType}get parameter(){return this._parameter}}class wS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super(),this._signType=void 0,this._signType=t}get signType(){return this._signType}}class FS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(),this._isSleeping=void 0,this._isSleeping=t}get isSleeping(){return this._isSleeping}}class xS extends IS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(),this._isTyping=void 0,this._isTyping=t}get isTyping(){return this._isTyping}}class BS extends Ue{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(t,s),this._targetLocation=void 0,this._isSlide=void 0,this._targetLocation=e,this._isSlide=i}get targetLocation(){return this._targetLocation?this._targetLocation:this.location}get isSlide(){return this._isSlide}}class GS extends BS{constructor(t,e,s,i,r,n){super(t,e,s),this._headDirection=void 0,this._canStandUp=void 0,this._baseY=void 0,this._headDirection=i,this._canStandUp=r,this._baseY=n}get headDirection(){return this._headDirection}get canStandUp(){return this._canStandUp}get baseY(){return this._baseY}}class HS extends IS{constructor(t){super(),this._itemType=void 0,this._itemType=t}get itemType(){return this._itemType}}class VS extends Ue{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(null,null),this._state=void 0,this._data=void 0,this._extra=void 0,this._state=t,this._data=e,this._extra=s}get state(){return this._state}get data(){return this._data}get extra(){return this._extra}}class jS extends Ue{constructor(t,e){super(null,null),this._badgeId=void 0,this._assetName=void 0,this._badgeId=t,this._assetName=e}get badgeId(){return this._badgeId}get assetName(){return this._assetName}}jS.BADGE_LOADED=\"ROGBUM_BADGE_LOADED\";class kS extends Ue{constructor(t,e,s){super(t,e),this._height=void 0,this._height=s}get height(){return this._height}}class zS extends Ue{constructor(t){super(null,null),this._data=void 0,this._data=t}get data(){return this._data}}class YS extends Ue{constructor(t,e){super(null,null),this._numberKey=void 0,this._numberValue=void 0,this._numberKey=t,this._numberValue=e}get numberKey(){return this._numberKey}get numberValue(){return this._numberValue}}class WS extends Ue{constructor(t,e,s,i){super(null,null),this._type=void 0,this._color=void 0,this._light=void 0,this._backgroundOnly=void 0,this._type=t,this._color=e,this._light=s,this._backgroundOnly=i}get type(){return this._type}get color(){return this._color}get light(){return this._light}get backgroundOnly(){return this._backgroundOnly}}WS.BACKGROUND_COLOR=\"RORCUM_BACKGROUND_COLOR\";class KS extends Ue{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;super(null,null),this._type=void 0,this._id=void 0,this._x=void 0,this._y=void 0,this._width=void 0,this._height=void 0,this._type=t,this._id=e,this._x=s,this._y=i,this._width=r,this._height=n}get type(){return this._type}get id(){return this._id}get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}}KS.ADD=\"ORPFHUM_ADD\",KS.REMOVE=\"ORPFHUM_REMOVE\";class XS extends Ue{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"window\";super(null,null),this._type=void 0,this._maskId=void 0,this._maskType=void 0,this._maskLocation=void 0,this._maskCategory=void 0,this._type=t,this._maskId=e,this._maskType=s,this._maskLocation=i?new dt(i.x,i.y,i.z):null,this._maskCategory=r}get type(){return this._type}get maskId(){return this._maskId}get maskType(){return this._maskType}get maskLocation(){return this._maskLocation}get maskCategory(){return this._maskCategory}}XS.ADD_MASK=\"RORMUM_ADD_MASK\",XS.REMOVE_MASK=\"RORMUM_ADD_MASK\",XS.DOOR=\"door\",XS.WINDOW=\"window\",XS.HOLE=\"hole\";class qS extends Ue{constructor(t,e){super(null,null),this._type=void 0,this._value=void 0,this._type=t,this._value=e}get type(){return this._type}get value(){return this._value}}qS.WALL_THICKNESS=\"RORPPUM_WALL_THICKNESS\",qS.FLOOR_THICKNESS=\"RORPVUM_FLOOR_THICKNESS\";class QS extends Ue{constructor(t,e){super(null,null),this._type=void 0,this._visible=void 0,this._type=t,this._visible=e}get type(){return this._type}get visible(){return this._visible}}QS.WALL_VISIBILITY=\"RORPVUM_WALL_VISIBILITY\",QS.FLOOR_VISIBILITY=\"RORPVUM_FLOOR_VISIBILITY\";class ZS extends Ue{constructor(t,e){super(null,null),this._type=void 0,this._value=void 0,this._type=t,this._value=e}get type(){return this._type}get value(){return this._value}}ZS.ROOM_WALL_UPDATE=\"RORUM_ROOM_WALL_UPDATE\",ZS.ROOM_FLOOR_UPDATE=\"RORUM_ROOM_FLOOR_UPDATE\",ZS.ROOM_LANDSCAPE_UPDATE=\"RORUM_ROOM_LANDSCAPE_UPDATE\";class JS{}JS.NONE=0,JS.GUIDE=1,JS.REQUESTER=2;class $S{constructor(t,e,s){this._id=void 0,this._type=void 0,this._visualization=void 0,this._id=t,this._type=e,this._visualization=s}dispose(){this._visualization=null}update(t,e){}animate(t){return!1}get id(){return this._id}get type(){return this._type}get visualization(){return this._visualization}}class tN extends $S{constructor(t,e,s){super(t,e,s),this._asset=void 0,this._startTime=void 0,this._delta=void 0,this._offsetY=void 0,this._scale=void 0,this._state=void 0,this._asset=null,this._startTime=lL.instance.time,this._delta=0,this._offsetY=0,this._scale=0,this._state=0}update(t,e){if(!t)return;this._scale=e;let s=64,i=0;if(e<48?(this._asset=this.visualization.getAvatarRenderAsset(\"avatar_addition_user_blowkiss_small\"),i=90===this.visualization.angle||270===this.visualization.angle?0:135===this.visualization.angle||180===this.visualization.angle||225===this.visualization.angle?6:-6,this._offsetY=-38,s=32):(this._asset=this.visualization.getAvatarRenderAsset(\"avatar_addition_user_blowkiss\"),i=90===this.visualization.angle||270===this.visualization.angle?-3:135===this.visualization.angle||180===this.visualization.angle||225===this.visualization.angle?22:-30,this._offsetY=-70),this.visualization.posture===Bt.POSTURE_SIT?this._offsetY+=s/2:this.visualization.posture===Bt.POSTURE_LAY&&(this._offsetY+=s),this._asset){t.texture=this._asset,t.offsetX=i,t.offsetY=this._offsetY,t.relativeDepth=-.02,t.alpha=0;const e=this._delta;this.animate(t),this._delta=e}}animate(t){if(!t)return!1;if(this._asset&&(t.texture=this._asset),this._state===tN.STATE_DELAY)return!(lL.instance.time-this._startTime<tN.DELAY_BEFORE_ANIMATION)&&(this._state=tN.STATE_FADE_IN,t.alpha=0,t.visible=!0,this._delta=0,!0);if(this._state===tN.STATE_FADE_IN)return this._delta+=.1,t.offsetY=this._offsetY,t.alpha=255*Math.pow(this._delta,.9),this._delta>=1&&(t.alpha=255,this._delta=0,this._state=tN.STATE_FLOAT),!0;if(this._state===tN.STATE_FLOAT){const e=Math.pow(this._delta,.9);this._delta+=.05;const s=this._scale<48?-30:-40;return t.offsetY=this._offsetY+(this._delta<1?e:1)*s,t.alpha=255*(1-e),t.alpha<=0&&(t.visible=!1,this._state=tN.STATE_COMPLETE),!0}return!1}}tN.DELAY_BEFORE_ANIMATION=300,tN.STATE_DELAY=0,tN.STATE_FADE_IN=1,tN.STATE_FLOAT=2,tN.STATE_COMPLETE=3;class eN{static getExpressionAddition(t,e,s){return e===this.BLOW?new tN(t,this.BLOW,s):new $S(t,e,s)}}eN.WAVE=1,eN.BLOW=2,eN.LAUGH=3,eN.CRY=4,eN.IDLE=5;class sN{constructor(t,e){this._id=void 0,this._visualization=void 0,this._asset=void 0,this._startTime=void 0,this._offsetY=void 0,this._scale=void 0,this._state=void 0,this._id=t,this._visualization=e,this._asset=null,this._startTime=lL.instance.time,this._offsetY=0,this._scale=0,this._state=0}dispose(){this._visualization=null,this._asset=null}getSpriteAssetName(t){let e=\"left\";return 135!==this._visualization.angle&&180!==this._visualization.angle&&225!==this._visualization.angle&&270!==this._visualization.angle||(e=\"right\"),\"avatar_addition_user_idle_\"+e+\"_\"+t+(this._scale<48?\"_small\":\"\")}update(t,e){if(!t)return;this._scale=e,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(this._state===sN.STATE_FRAME_A?1:2));let s=64,i=0;e<48?(i=135===this._visualization.angle||180===this._visualization.angle||225===this._visualization.angle||270===this._visualization.angle?10:-16,this._offsetY=-38,s=32):(i=135===this._visualization.angle||180===this._visualization.angle||225===this._visualization.angle||270===this._visualization.angle?22:-30,this._offsetY=-70),this._visualization.posture===Bt.POSTURE_SIT?this._offsetY+=s/2:this._visualization.posture===Bt.POSTURE_LAY&&(this._offsetY+=s-.3*s),this._asset&&(t.texture=this._asset,t.offsetX=i,t.offsetY=this._offsetY,t.relativeDepth=-.02,t.alpha=0)}animate(t){if(!t)return!1;const e=lL.instance.time;return this._state===sN.STATE_DELAY&&e-this._startTime>=sN.DELAY_BEFORE_ANIMATION&&(this._state=sN.STATE_FRAME_A,this._startTime=e,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1))),this._state===sN.STATE_FRAME_A&&e-this._startTime>=sN.DELAY_PER_FRAME&&(this._state=sN.STATE_FRAME_B,this._startTime=e,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(2))),this._state===sN.STATE_FRAME_B&&e-this._startTime>=sN.DELAY_PER_FRAME&&(this._state=sN.STATE_FRAME_A,this._startTime=e,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1))),this._asset?(t.texture=this._asset,t.alpha=255,t.visible=!0):t.visible=!1,!1}get id(){return this._id}}sN.DELAY_BEFORE_ANIMATION=2e3,sN.DELAY_PER_FRAME=2e3,sN.STATE_DELAY=0,sN.STATE_FRAME_A=1,sN.STATE_FRAME_B=2;class iN{constructor(t){this._id=void 0,this._asset=void 0,this._disposed=void 0,this._id=t,this._asset=null,this._disposed=!1}dispose(){this._asset=null}update(t,e){if(t){if(!this._asset){const t=new Y.a(i.t.WHITE);t.alpha=0,t.width=iN.WIDTH,t.height=iN.HEIGHT,this._asset=At.generateTexture(t)}t.visible=!0,t.texture=this._asset,t.offsetX=iN.OFFSET_X,t.offsetY=iN.OFFSET_Y,t.alphaTolerance=Pe.MATCH_ALL_PIXELS}}animate(t){return!1}get id(){return this._id}}iN.WIDTH=46,iN.HEIGHT=60,iN.OFFSET_X=-23,iN.OFFSET_Y=-48;class rN{constructor(t,e,s){this._id=void 0,this._visualization=void 0,this._asset=void 0,this._relativeDepth=void 0,this._status=void 0,this._id=t,this._visualization=e,this._asset=null,this._relativeDepth=0,this._status=s}dispose(){this._visualization=null,this._asset=null}update(t,e){if(!t)return;t.visible=!0,t.relativeDepth=this._relativeDepth,t.alpha=255;let s=64,i=0,r=0;this._asset=this._visualization.getAvatarRenderAsset(this._status===JS.GUIDE?\"avatar_addition_user_guide_bubble\":\"avatar_addition_user_guide_requester_bubble\"),e<48?(i=-19,r=-80,s=32):(i=-19,r=-120),this._visualization.posture===Bt.POSTURE_SIT?r+=s/2:this._visualization.posture===Bt.POSTURE_LAY&&(r+=e),this._asset&&(t.texture=this._asset,t.offsetX=i,t.offsetY=r,t.relativeDepth=-.02)}animate(t){return this._asset&&t&&(t.texture=this._asset),!1}get id(){return this._id}get relativeDepth(){return this._relativeDepth}set relativeDepth(t){this._relativeDepth=t}}class nN{constructor(t,e){this._id=void 0,this._visualization=void 0,this._asset=void 0,this._id=t,this._visualization=e,this._asset=null}dispose(){this._visualization=null,this._asset=null}update(t,e){if(!t)return;let s=64,i=0,r=0;e<48?(this._asset=this._visualization.getAvatarRenderAsset(\"avatar_addition_user_muted_small\"),s=32,i=-12,r=-66):(this._asset=this._visualization.getAvatarRenderAsset(\"avatar_addition_user_muted\"),i=-15,r=-110),this._visualization.posture===Bt.POSTURE_SIT?r+=s/2:this._visualization.posture===Bt.POSTURE_LAY&&(r+=e),this._asset?(t.visible=!0,t.texture=this._asset,t.offsetX=i,t.offsetY=r,t.relativeDepth=-.02):t.visible=!1}animate(t){return this._asset&&t&&(t.texture=this._asset),!1}get id(){return this._id}}class aN{constructor(t,e,s){this._id=void 0,this._visualization=void 0,this._asset=void 0,this._scale=void 0,this._number=void 0,this._numberValueFadeDirection=void 0,this._numberValueMoving=void 0,this._numberValueMoveCounter=void 0,this._id=t,this._visualization=s,this._asset=null,this._scale=0,this._number=e,this._numberValueFadeDirection=0,this._numberValueMoving=!1,this._numberValueMoveCounter=0}dispose(){this._visualization=null,this._asset=null}update(t,e){if(!t)return;this._scale=e;let s=64,i=0,r=0;this._number>0?(e<48?(this._asset=this._visualization.getAvatarRenderAsset(\"avatar_addition_number_\"+this._number+\"_small\"),s=32,i=-6,r=-52):(this._asset=this._visualization.getAvatarRenderAsset(\"avatar_addition_number_\"+this._number),i=-8,r=-105),this._visualization.posture===Bt.POSTURE_SIT?r+=s/2:this._visualization.posture===Bt.POSTURE_LAY&&(r+=e),this._asset?(t.visible=!0,t.texture=this._asset,t.offsetX=i,t.offsetY=r,t.relativeDepth=-.01,t.alpha=0,this._numberValueFadeDirection=1,this._numberValueMoving=!0,this._numberValueMoveCounter=0):t.visible=!1):t.visible&&(this._numberValueFadeDirection=-1)}animate(t){if(!t)return!1;this._asset&&(t.texture=this._asset);let e=t.alpha,s=!1;if(this._numberValueMoving){if(this._numberValueMoveCounter++,this._numberValueMoveCounter<10)return!1;if(this._numberValueFadeDirection<0)this._scale<48?t.offsetY-=2:t.offsetY-=4;else{let e=4;this._scale<48&&(e=8),this._numberValueMoveCounter%e||(t.offsetY--,s=!0)}}return this._numberValueFadeDirection>0?(e<255&&(e+=32),e>=255&&(e=255,this._numberValueFadeDirection=0),t.alpha=e,!0):this._numberValueFadeDirection<0?(e>=0&&(e-=32),e<=0&&(this._numberValueFadeDirection=0,this._numberValueMoving=!1,e=0,t.visible=!1),t.alpha=e,!0):s}get id(){return this._id}}class oN{constructor(t,e){this._id=void 0,this._visualization=void 0,this._asset=void 0,this._relativeDepth=void 0,this._id=t,this._visualization=e,this._asset=null,this._relativeDepth=0}dispose(){this._visualization=null,this._asset=null}update(t,e){if(!t)return;t.visible=!0,t.relativeDepth=this._relativeDepth,t.alpha=255;let s=64,i=0,r=0;e<48?(this._asset=this._visualization.getAvatarRenderAsset(\"avatar_addition_user_typing_small\"),i=3,r=-42,s=32):(this._asset=this._visualization.getAvatarRenderAsset(\"avatar_addition_user_typing\"),i=14,r=-83),this._visualization.posture===Bt.POSTURE_SIT?r+=s/2:this._visualization.posture===Bt.POSTURE_LAY&&(r+=e),this._asset&&(t.texture=this._asset,t.offsetX=i,t.offsetY=r,t.relativeDepth=-.02)}animate(t){return this._asset&&t&&(t.texture=this._asset),!1}get id(){return this._id}get relativeDepth(){return this._relativeDepth}set relativeDepth(t){this._relativeDepth=t}}class hN extends c{constructor(){super(),this._avatarRenderer=void 0}initialize(t){return!0}onDispose(){this._avatarRenderer=null}createAvatarImage(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=null;return n=e>48?this._avatarRenderer.createAvatarImage(t,Lt.LARGE,s,i,r):this._avatarRenderer.createAvatarImage(t,Lt.SMALL,s,i,r),n}getAvatarRendererAsset(t){return this._avatarRenderer?this._avatarRenderer.assets.getTexture(t):null}get avatarManager(){return this._avatarRenderer}set avatarManager(t){this._avatarRenderer=t}get layerCount(){return 0}}class _N extends xe{constructor(){super(),this._data=void 0,this._avatarImage=void 0,this._cachedAvatars=void 0,this._cachedAvatarEffects=void 0,this._shadow=void 0,this._lastUpdate=void 0,this._disposed=void 0,this._figure=void 0,this._gender=void 0,this._direction=void 0,this._headDirection=void 0,this._posture=void 0,this._postureParameter=void 0,this._canStandUp=void 0,this._postureOffset=void 0,this._verticalOffset=void 0,this._angle=void 0,this._headAngle=void 0,this._talk=void 0,this._expression=void 0,this._sleep=void 0,this._blink=void 0,this._gesture=void 0,this._sign=void 0,this._highlightEnabled=void 0,this._highlight=void 0,this._dance=void 0,this._effect=void 0,this._carryObject=void 0,this._useObject=void 0,this._ownUser=void 0,this._isLaying=void 0,this._layInside=void 0,this._isAnimating=void 0,this._extraSpritesStartIndex=void 0,this._forcedAnimFrames=void 0,this._updatesUntilFrameUpdate=void 0,this._isAvatarReady=void 0,this._needsUpdate=void 0,this._geometryUpdateCounter=void 0,this._additions=void 0,this._data=null,this._avatarImage=null,this._cachedAvatars=new U,this._cachedAvatarEffects=new U,this._shadow=null,this._lastUpdate=-1e3,this._disposed=!1,this._figure=null,this._gender=null,this._direction=-1,this._headDirection=-1,this._posture=\"\",this._postureParameter=\"\",this._canStandUp=!1,this._postureOffset=0,this._verticalOffset=0,this._angle=-1,this._headAngle=-1,this._talk=!1,this._expression=0,this._sleep=!1,this._blink=!1,this._gesture=0,this._sign=-1,this._highlightEnabled=!1,this._highlight=!1,this._dance=0,this._effect=0,this._carryObject=0,this._useObject=0,this._ownUser=!1,this._isLaying=!1,this._layInside=!1,this._isAnimating=!1,this._extraSpritesStartIndex=2,this._forcedAnimFrames=0,this._updatesUntilFrameUpdate=0,this._isAvatarReady=!1,this._needsUpdate=!1,this._geometryUpdateCounter=-1,this._additions=new Map}initialize(t){return t instanceof hN&&(this._data=t,this.createSprites(_N.INITIAL_RESERVED_SPRITES),super.initialize(t),!0)}dispose(){this._disposed||(super.dispose(),this._avatarImage&&this._avatarImage.dispose(),this._shadow=null,this._disposed=!0)}update(t,e,s,i){if(!this.object||!t||!this._data)return;if(e<this._lastUpdate+_N.UPDATE_TIME_INCREASER)return;this._lastUpdate+=_N.UPDATE_TIME_INCREASER,this._lastUpdate+_N.UPDATE_TIME_INCREASER<e&&(this._lastUpdate=e-_N.UPDATE_TIME_INCREASER);const r=this.object.model,n=t.scale,a=this._effect;let h=!1,_=!1,d=!1,u=!1;const c=this.updateModel(r,n);if(c||n!==this._scale||!this._avatarImage){if(n!==this._scale&&(h=!0,this.updateScale(n)),a!==this._effect&&(_=!0),h||!this._avatarImage||_){if(this._avatarImage=this.createAvatarImage(n,this._effect),!this._avatarImage)return;d=!0;const t=this.getSprite(_N.AVATAR_LAYER_ID);t&&this._avatarImage&&this._avatarImage.isPlaceholder()?t.alpha=150:t&&(t.alpha=255)}if(!this._avatarImage)return;if(_&&this._avatarImage.animationHasResetOnToggle&&this._avatarImage.resetAnimationFrameCounter(),this.updateShadow(n),u=this.updateObject(this.object,t,s,!0),this.processActionsForAvatar(this._avatarImage),this._additions){let t=this._extraSpritesStartIndex;for(const e of this._additions.values())e.update(this.getSprite(t++),n)}this._scale=n}else u=this.updateObject(this.object,t,s);if(this._additions){let t=this._extraSpritesStartIndex;for(const e of this._additions.values())e.animate(this.getSprite(t++))&&this.updateSpriteCounter++}const l=u||c||h,g=(this._isAnimating||this._forcedAnimFrames>0)&&s;if(l&&(this._forcedAnimFrames=_N.ANIMATION_FRAME_UPDATE_INTERVAL),l||g){if(this.updateSpriteCounter++,this._forcedAnimFrames--,this._updatesUntilFrameUpdate--,!(this._updatesUntilFrameUpdate<=0||h||c||d))return;this._avatarImage.updateAnimationByFrames(1),this._updatesUntilFrameUpdate=_N.ANIMATION_FRAME_UPDATE_INTERVAL;let t=this._avatarImage.getCanvasOffsets();(!t||t.length<3)&&(t=_N.DEFAULT_CANVAS_OFFSETS);const e=this.getSprite(_N.SPRITE_INDEX_AVATAR);if(e){const s=1===this.object.model.getValue(rt.FIGURE_HIGHLIGHT_ENABLE)&&1===this.object.model.getValue(rt.FIGURE_HIGHLIGHT),i=this._avatarImage.getImage(Gt.FULL,s);i&&(e.texture=i,s||(e.filters=[])),e.texture&&(e.offsetX=-1*n/2+t[0]-(e.texture.width-n)/2,e.offsetY=-e.texture.height+n/4+t[1]+this._postureOffset),this._isLaying?this._layInside?e.relativeDepth=-.5:e.relativeDepth=_N.AVATAR_SPRITE_LAYING_DEPTH+t[2]:e.relativeDepth=_N.AVATAR_SPRITE_DEFAULT_DEPTH+t[2],this._ownUser?(e.relativeDepth-=_N.AVATAR_OWN_DEPTH_ADJUST,e.spriteType=be.AVATAR_OWN):e.spriteType=be.AVATAR}const s=this.getAddition(_N.TYPING_BUBBLE_ID);s&&(this._isLaying?s.relativeDepth=_N.AVATAR_SPRITE_LAYING_DEPTH-.01+t[2]:s.relativeDepth=_N.AVATAR_SPRITE_DEFAULT_DEPTH-.01+t[2]),this._isAnimating=this._avatarImage.isAnimating();let i=_N.INITIAL_RESERVED_SPRITES;const r=this._avatarImage.getDirection();for(const a of this._avatarImage.getSprites())if(a.id===_N.AVATAR){const t=this.getSprite(_N.SPRITE_INDEX_AVATAR);if(t){const e=this._avatarImage.getLayerData(a);let s=a.getDirectionOffsetX(r),i=a.getDirectionOffsetY(r);e&&(s+=e.dx,i+=e.dy),n<48&&(s/=2,i/=2),this._canStandUp||(t.offsetX+=s,t.offsetY+=i)}}else{const t=this.getSprite(i);if(t){t.alphaTolerance=Pe.MATCH_NOTHING,t.visible=!0;const e=this._avatarImage.getLayerData(a);let s=0,i=a.getDirectionOffsetX(r),h=a.getDirectionOffsetY(r);const _=a.getDirectionOffsetZ(r);let d=0;a.hasDirections&&(d=r),e&&(s=e.animationFrame,i+=e.dx,h+=e.dy,d+=e.dd),n<48&&(i/=2,h/=2),d<0?d+=8:d>7&&(d-=8);const u=this._avatarImage.getScale()+\"_\"+a.member+\"_\"+d+\"_\"+s,c=this._avatarImage.getAsset(u);if(!c)continue;t.texture=c.texture,t.offsetX=c.offsetX-n/2+i,t.offsetY=c.offsetY+h,t.flipH=c.flipH,a.hasStaticY?t.offsetY+=this._verticalOffset*n/(2*_N.BASE_Y_SCALE):t.offsetY+=this._postureOffset,this._isLaying?t.relativeDepth=_N.AVATAR_SPRITE_LAYING_DEPTH-.001*this.totalSprites*_:t.relativeDepth=_N.AVATAR_SPRITE_DEFAULT_DEPTH-.001*this.totalSprites*_,33===a.ink?t.blendMode=o.b.ADD:t.blendMode=o.b.NORMAL}i++}}}createAvatarImage(t,e){let s=null,i=\"avatarImage\"+t.toString();if(e?(i+=\"-\"+e,s=this._cachedAvatarEffects.getValue(i)):s=this._cachedAvatars.getValue(i),!s&&(s=this._data.createAvatarImage(this._figure,t,this._gender,this,this),s))if(e){if(this._cachedAvatarEffects.length>=_N.MAX_EFFECT_CACHE){const t=this._cachedAvatarEffects.remove(this._cachedAvatarEffects.getKey(0));t&&t.dispose()}this._cachedAvatarEffects.add(i,s)}else this._cachedAvatars.add(i,s);return s}updateObject(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!i&&this.updateObjectCounter===t.updateCounter&&this._geometryUpdateCounter===e.updateId)return!1;let r=t.getDirection().x-e.direction.x,n=this._headDirection-e.direction.x;return\"float\"===this._posture&&(n=r),r=(r%360+360)%360,n=(n%360+360)%360,\"sit\"===this._posture&&this._canStandUp&&(r-=r%90-45,n-=n%90-45),(r!==this._angle||i)&&(s=!0,this._angle=r,r-=112.5,r=(r+360)%360,this._avatarImage.setDirectionAngle(Gt.FULL,r)),(n!==this._headAngle||i)&&(s=!0,this._headAngle=n,this._headAngle!==this._angle&&(n-=112.5,n=(n+360)%360,this._avatarImage.setDirectionAngle(Gt.HEAD,n))),this._geometryUpdateCounter=e.updateId,this.updateObjectCounter=this.object.updateCounter,s}updateModel(t,e){if(!t)return!1;if(this.updateModelCounter===t.updateCounter)return!1;let s=!1;const i=t.getValue(rt.FIGURE_TALK)>0;i!==this._talk&&(this._talk=i,s=!0);const r=t.getValue(rt.FIGURE_EXPRESSION);r!==this._expression&&(this._expression=r,s=!0);const n=t.getValue(rt.FIGURE_SLEEP)>0;n!==this._sleep&&(this._sleep=n,s=!0);const a=t.getValue(rt.FIGURE_BLINK)>0;a!==this._blink&&(this._blink=a,s=!0);const o=t.getValue(rt.FIGURE_GESTURE)||0;o!==this._gesture&&(this._gesture=o,s=!0);const h=t.getValue(rt.FIGURE_POSTURE);h!==this._posture&&(this._posture=h,s=!0);const _=t.getValue(rt.FIGURE_POSTURE_PARAMETER);_!==this._postureParameter&&(this._postureParameter=_,s=!0);const d=t.getValue(rt.FIGURE_CAN_STAND_UP);d!==this._canStandUp&&(this._canStandUp=d,s=!0);const u=t.getValue(rt.FIGURE_VERTICAL_OFFSET)*_N.BASE_Y_SCALE;u!==this._verticalOffset&&(this._verticalOffset=u,s=!0);const c=t.getValue(rt.FIGURE_DANCE)||0;c!==this._dance&&(this._dance=c,s=!0);const l=t.getValue(rt.FIGURE_EFFECT)||0;l!==this._effect&&(this._effect=l,s=!0);const g=t.getValue(rt.FIGURE_CARRY_OBJECT)||0;g!==this._carryObject&&(this._carryObject=g,s=!0);const E=t.getValue(rt.FIGURE_USE_OBJECT)||0;E!==this._useObject&&(this._useObject=E,s=!0);const p=t.getValue(rt.HEAD_DIRECTION);p!==this._headDirection&&(this._headDirection=p,s=!0),this._carryObject>0&&E>0?this._useObject!==this._carryObject&&(this._useObject=this._carryObject,s=!0):0!==this._useObject&&(this._useObject=0,s=!0);let m=this.getAddition(_N.FLOATING_IDLE_Z_ID);this._sleep?(m||(m=this.addAddition(new sN(_N.FLOATING_IDLE_Z_ID,this))),s=!0):m&&this.removeAddition(_N.FLOATING_IDLE_Z_ID);const I=t.getValue(rt.FIGURE_IS_MUTED)>0;let f=this.getAddition(_N.MUTED_BUBBLE_ID);if(I)f||(f=this.addAddition(new nN(_N.MUTED_BUBBLE_ID,this))),s=!0;else{f&&(this.removeAddition(_N.MUTED_BUBBLE_ID),s=!0);const e=t.getValue(rt.FIGURE_IS_TYPING)>0;let i=this.getAddition(_N.TYPING_BUBBLE_ID);e?(i||(i=this.addAddition(new oN(_N.TYPING_BUBBLE_ID,this))),s=!0):i&&(this.removeAddition(_N.TYPING_BUBBLE_ID),s=!0)}const T=t.getValue(rt.FIGURE_GUIDE_STATUS)||0;T!==JS.NONE?(this.removeAddition(_N.GUIDE_BUBBLE_ID),this.addAddition(new rN(_N.GUIDE_BUBBLE_ID,this,T)),s=!0):this.getAddition(_N.GUIDE_BUBBLE_ID)&&(this.removeAddition(_N.GUIDE_BUBBLE_ID),s=!0);const R=t.getValue(rt.FIGURE_IS_PLAYING_GAME)>0;let v=this.getAddition(_N.GAME_CLICK_TARGET_ID);R?(v||(v=this.addAddition(new iN(_N.GAME_CLICK_TARGET_ID))),s=!0):v&&this.removeAddition(_N.GAME_CLICK_TARGET_ID);const O=t.getValue(rt.FIGURE_NUMBER_VALUE);let A=this.getAddition(_N.NUMBER_BUBBLE_ID);O>0?(A||(A=this.addAddition(new aN(_N.NUMBER_BUBBLE_ID,O,this))),s=!0):A&&this.removeAddition(_N.NUMBER_BUBBLE_ID);let S=this.getAddition(_N.EXPRESSION_ID);this._expression>0?S||(S=eN.getExpressionAddition(_N.EXPRESSION_ID,this._expression,this),S&&this.addAddition(S)):S&&this.removeAddition(_N.EXPRESSION_ID),this.updateScale(e);const N=t.getValue(rt.GENDER);N!==this._gender&&(this._gender=N,s=!0),this.updateFigure(t.getValue(rt.FIGURE))&&(s=!0);let y=t.getValue(rt.FIGURE_SIGN);null===y&&(y=-1),this._sign!==y&&(this._sign=y,s=!0);const D=t.getValue(rt.FIGURE_HIGHLIGHT_ENABLE)>0;if(D!==this._highlightEnabled&&(this._highlightEnabled=D,s=!0),this._highlightEnabled){const e=t.getValue(rt.FIGURE_HIGHLIGHT)>0;e!==this._highlight&&(this._highlight=e,s=!0)}const M=t.getValue(rt.OWN_USER)>0;return M!==this._ownUser&&(this._ownUser=M,s=!0),this.updateModelCounter=t.updateCounter,s}setDirection(t){this._direction!==t&&(this._direction=t,this._needsUpdate=!0)}updateScale(t){if(t<48&&(this._blink=!1),\"sit\"===this._posture||\"lay\"===this._posture?this._postureOffset=t/2:this._postureOffset=0,this._layInside=!1,this._isLaying=!1,\"lay\"===this._posture){this._isLaying=!0;parseInt(this._postureParameter)<0&&(this._layInside=!0)}}processActionsForAvatar(t){if(!t)return;if(t.initActionAppends(),t.appendAction(Bt.POSTURE,this._posture,this._postureParameter),this._gesture>0&&this._avatarImage.appendAction(Bt.GESTURE,Bt.getGesture(this._gesture)),this._dance>0&&this._avatarImage.appendAction(Bt.DANCE,this._dance),this._sign>-1&&this._avatarImage.appendAction(Bt.SIGN,this._sign),this._carryObject>0&&this._avatarImage.appendAction(Bt.CARRY_OBJECT,this._carryObject),this._useObject>0&&this._avatarImage.appendAction(Bt.USE_OBJECT,this._useObject),this._talk&&this._avatarImage.appendAction(Bt.TALK),(this._sleep||this._blink)&&this._avatarImage.appendAction(Bt.SLEEP),this._expression>0){const t=Bt.getExpression(this._expression);if(\"\"!==t)if(t===Bt.DANCE)this._avatarImage.appendAction(Bt.DANCE,2);else this._avatarImage.appendAction(t)}this._effect>0&&this._avatarImage.appendAction(Bt.EFFECT,this._effect),t.endActionAppends(),this._isAnimating=t.isAnimating();let e=_N.INITIAL_RESERVED_SPRITES;for(const s of this._avatarImage.getSprites())s.id!==_N.AVATAR&&e++;if(e!==this.totalSprites&&this.createSprites(e),this._extraSpritesStartIndex=e,this._additions)for(const s of this._additions.values())this.createSprite()}updateFigure(t){return this._figure!==t&&(this._figure=t,this.clearAvatar(),!0)}resetFigure(t){this.clearAvatar()}resetEffect(t){this.clearAvatar()}clearAvatar(){for(const e of this._cachedAvatars.getValues())e&&e.dispose();for(const e of this._cachedAvatarEffects.getValues())e&&e.dispose();this._cachedAvatars.reset(),this._cachedAvatarEffects.reset(),this._avatarImage=null;const t=this.getSprite(_N.AVATAR_LAYER_ID);t&&(t.texture=i.t.EMPTY,t.alpha=255)}getAddition(t){if(!this._additions)return null;const e=this._additions.get(t);return e||null}addAddition(t){if(!this.getAddition(t.id))return this._additions.set(t.id,t),t}removeAddition(t){const e=this.getAddition(t);e&&(this._additions.delete(e.id),e.dispose())}updateShadow(t){this._shadow=null;const e=this.getSprite(_N.SHADOW_LAYER_ID);if(!e)return;let s=\"mv\"===this._posture||\"std\"===this._posture||\"sit\"===this._posture&&this._canStandUp;if(this._effect===_N.SNOWBOARDING_EFFECT&&(s=!1),s){if(e.visible=!0,!this._shadow||t!==this._scale){let s=0,i=0;t<48?(e.libraryAssetName=\"sh_std_sd_1_0_0\",this._shadow=this._avatarImage.getAsset(e.libraryAssetName),s=-8,i=this._canStandUp?6:-3):(e.libraryAssetName=\"h_std_sd_1_0_0\",this._shadow=this._avatarImage.getAsset(e.libraryAssetName),s=-17,i=this._canStandUp?10:-7),this._shadow?(e.texture=this._shadow.texture,e.offsetX=s,e.offsetY=i,e.alpha=50,e.relativeDepth=1):e.visible=!1}}else this._shadow=null,e.visible=!1}getAvatarRenderAsset(t){return this._data?this._data.getAvatarRendererAsset(t):null}get direction(){return this._direction}get posture(){return this._posture}get angle(){return this._angle}get disposed(){return this._disposed}}_N.AVATAR=\"avatar\",_N.FLOATING_IDLE_Z_ID=1,_N.TYPING_BUBBLE_ID=2,_N.EXPRESSION_ID=3,_N.NUMBER_BUBBLE_ID=4,_N.GAME_CLICK_TARGET_ID=5,_N.MUTED_BUBBLE_ID=6,_N.GUIDE_BUBBLE_ID=7,_N.OWN_USER_ID=4,_N.UPDATE_TIME_INCREASER=41,_N.AVATAR_LAYER_ID=0,_N.SHADOW_LAYER_ID=1,_N.SNOWBOARDING_EFFECT=97,_N.INITIAL_RESERVED_SPRITES=2,_N.ANIMATION_FRAME_UPDATE_INTERVAL=2,_N.DEFAULT_CANVAS_OFFSETS=[0,0,0],_N.MAX_EFFECT_CACHE=2,_N.SPRITE_INDEX_AVATAR=0,_N.BASE_Y_SCALE=1e3,_N.AVATAR_SPRITE_DEFAULT_DEPTH=-.01,_N.AVATAR_OWN_DEPTH_ADJUST=.001,_N.AVATAR_SPRITE_LAYING_DEPTH=-.409;class dN{constructor(){this._id=void 0,this._x=void 0,this._y=void 0,this._repeats=void 0,this._frameRepeats=void 0,this._remainingFrameRepeats=void 0,this._activeSequence=void 0,this._activeSequenceOffset=void 0,this._isLastFrame=void 0,this._isRecycled=void 0}static allocate(t,e,s,i,r,n){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const h=dN.POOL.length?dN.POOL.pop():new dN;return i<1&&(i=1),r<0&&(r=dN.FRAME_REPEAT_FOREVER),h._id=t,h._x=e||0,h._y=s||0,h._repeats=i,h._frameRepeats=r,h._remainingFrameRepeats=r,h._isLastFrame=n,h._isRecycled=!1,a>=0?(h._activeSequence=a,h._activeSequenceOffset=o):(h._activeSequence=-1,h._activeSequenceOffset=0),h}get id(){return this._id>=0?this._id:-this._id*Math.random()}get x(){return this._x}get y(){return this._y}get repeats(){return this._repeats}get frameRepeats(){return this._frameRepeats}get isLastFrame(){return this._isLastFrame}get remainingFrameRepeats(){return this._frameRepeats<0?dN.FRAME_REPEAT_FOREVER:this._remainingFrameRepeats}set remainingFrameRepeats(t){t<0&&(t=0),this._frameRepeats>0&&t>this._frameRepeats&&(t=this._frameRepeats),this._remainingFrameRepeats=t}get activeSequence(){return this._activeSequence}get activeSequenceOffset(){return this._activeSequenceOffset}recycle(){this._isRecycled||(this._isRecycled=!0,dN.POOL.length<dN.POOL_SIZE_LIMIT&&dN.POOL.push(this))}}dN.FRAME_REPEAT_FOREVER=-1,dN.SEQUENCE_NOT_DEFINED=-1,dN.POOL_SIZE_LIMIT=3e3,dN.POOL=[];class uN{constructor(t,e,s,i,r,n){this._id=0,this._x=0,this._y=0,this._randomX=0,this._randomY=0,this._repeats=1,this._id=t,this._x=e,this._y=s,this._randomX=i,this._randomY=r,this._repeats=n}get id(){return this._id}hasDirectionalOffsets(){return!1}getX(t){return this._x}getY(t){return this._y}get x(){return this._x}get y(){return this._x}get randomX(){return this._randomX}get randomY(){return this._randomY}get repeats(){return this._repeats}}class cN extends uN{constructor(t,e,s,i,r,n,a){super(t,e,s,i,r,a),this._directionalOffsets=void 0,this._directionalOffsets=n}hasDirectionalOffsets(){return null!==this._directionalOffsets}getX(t){return this._directionalOffsets?this._directionalOffsets.getXOffset(t,super.getX(t)):super.getX(t)}getY(t){return this._directionalOffsets?this._directionalOffsets.getYOffset(t,super.getY(t)):super.getY(t)}}class lN{constructor(t,e){this._frames=void 0,this._frameIndexes=void 0,this._frameRepeats=void 0,this._isRandom=void 0,this._loopCount=void 0,this._frames=[],this._frameIndexes=[],this._frameRepeats=[],this._isRandom=e,this._loopCount=t<1?1:t}get isRandom(){return this._isRandom}get frameCount(){return this._frameIndexes.length*this._loopCount}dispose(){this._frames=[]}initialize(){let t=this._frameIndexes.length-1,e=-1,s=1;for(;t>=0;)this._frameIndexes[t]===e?s++:(e=this._frameIndexes[t],s=1),this._frameRepeats[t]=s,t--}addFrame(t,e,s,i,r,n){let a=1;if(this._frames.length>0){const n=this._frames[this._frames.length-1];n.id!==t||n.hasDirectionalOffsets()||n.x!==e||n.y!==s||n.randomX!==i||0!==i||n.randomY!==r||0!==r||(a+=n.repeats,this._frames.pop())}const o=n?new cN(t,e,s,i,r,n,a):new uN(t,e,s,i,r,a);this._frames.push(o),this._frameIndexes.push(this._frames.length-1),this._frameRepeats.push(1)}getFrame(t){return!this._frames.length||t<0||t>=this.frameCount?null:this._frames[this._frameIndexes[t%this._frameIndexes.length]]}getFrameIndex(t){return t<0||t>=this.frameCount?-1:(this._isRandom&&(t=Math.round(Math.random()*this._frameIndexes.length))===this._frameIndexes.length&&t--,t)}getRepeats(t){return t<0||t>=this.frameCount?0:this._frameRepeats[t%this._frameRepeats.length]}}class gN{constructor(t,e,s){this._frameSequences=void 0,this._frameCount=void 0,this._loopCount=void 0,this._frameRepeat=void 0,this._isRandom=void 0,this._frameSequences=[],this._frameCount=-1,this._loopCount=t<0?0:t,this._frameRepeat=e<1?1:e,this._isRandom=s}get frameCount(){return this._frameCount<0&&this.calculateLength(),this._frameCount}dispose(){if(this._frameSequences&&this._frameSequences.length){for(const t of this._frameSequences)t&&t.dispose();this._frameSequences=[]}}addFrameSequence(t,e){const s=new lN(t,e);return this._frameSequences.push(s),s}calculateLength(){this._frameCount=0;for(const t of this._frameSequences)t&&(this._frameCount+=t.frameCount)}getFrame(t,e){if(this._frameCount<1)return null;if(e/=this._frameRepeat,!this._isRandom){const s=Math.floor(e/this._frameCount);e=Math.floor(e%this._frameCount);let i=!1,r=null;(this._loopCount>0&&s>=this._loopCount||this._loopCount<=0&&1===this._frameCount)&&(e=this._frameCount-1,i=!0);let n=0,a=0;for(;a<this._frameSequences.length;){if(r=this._frameSequences[a],r){if(e<n+r.frameCount)break;n+=r.frameCount}a++}return this.getFrameFromSpecificSequence(t,r,a,e-n,i)}const s=Math.trunc(this._frameSequences.length*Math.random()),i=this._frameSequences[s];return i.frameCount<1?null:this.getFrameFromSpecificSequence(t,i,s,0,!1)}getFrameFromSequence(t,e,s,i){if(e<0||e>=this._frameSequences.length)return null;const r=this._frameSequences[e];return r?s>=r.frameCount?this.getFrame(t,i):this.getFrameFromSpecificSequence(t,r,e,s,!1):null}getFrameFromSpecificSequence(t,e,s,i,r){if(!e)return null;const n=e.getFrameIndex(i),a=e.getFrame(n);if(!a)return null;let o=a.getX(t),h=a.getY(t);const _=a.randomX,d=a.randomY;let u=a.repeats,c=!1;_&&(o=Math.trunc(o+_*Math.random())),d&&(h=Math.trunc(h+d*Math.random())),u>1&&(u=e.getRepeats(n));let l=this._frameRepeat*u;return r&&(l=dN.FRAME_REPEAT_FOREVER),this._isRandom||e.isRandom||s===this._frameSequences.length-1&&i===e.frameCount-1&&(c=!0),dN.allocate(a.id,o,h,u,l,c,s,i)}}class EN{constructor(){this._offsetX=void 0,this._offsetY=void 0,this._offsetX=new Map,this._offsetY=new Map}getXOffset(t,e){const s=this._offsetX.get(t);return void 0===s||null===s?e:s}getYOffset(t,e){const s=this._offsetY.get(t);return void 0===s||null===s?e:s}setDirection(t,e,s){this._offsetX.set(t,e),this._offsetY.set(t,s)}}class pN{constructor(){this._layers=void 0,this._frameCount=void 0,this._randomStart=void 0,this._immediateChanges=void 0,this._layers=new Map,this._frameCount=-1,this._randomStart=!1,this._immediateChanges=null}static getTransitionToAnimationId(t){return pN.TRANSITION_TO_ANIMATION_OFFSET+t}static getTransitionFromAnimationId(t){return pN.TRANSITION_FROM_ANIMATION_OFFSET+t}static isTransitionToAnimation(t){return t>=pN.TRANSITION_TO_ANIMATION_OFFSET&&t<pN.TRANSITION_FROM_ANIMATION_OFFSET}static isTransitionFromAnimation(t){return t>=pN.TRANSITION_FROM_ANIMATION_OFFSET}dispose(){for(const t of this._layers.values())t&&t.dispose();this._layers.clear(),this._immediateChanges=null}setImmediateChanges(t){this._immediateChanges=t}isImmediateChange(t){return!(!this._immediateChanges||-1===this._immediateChanges.indexOf(t))}getStartFrame(t){return this._randomStart?Math.random()*this._frameCount:0}initialize(t){if(t.randomStart&&(this._randomStart=!0),t.layers)for(const e in t.layers){const s=t.layers[e];if(!s)return!1;const i=parseInt(e),r=void 0!==s.loopCount?s.loopCount:1,n=void 0!==s.frameRepeat?s.frameRepeat:1,a=void 0!==s.random&&0!==s.random;if(!this.addLayer(i,r,n,a,s))return!1}return!0}addLayer(t,e,s,i,r){const n=new gN(e,s,i);if(r.frameSequences)for(const o in r.frameSequences){const t=r.frameSequences[o];if(!t)continue;const e=void 0!==t.loopCount?t.loopCount:1,s=void 0!==t.random&&0!==t.random,i=n.addFrameSequence(e,s);if(t.frames)for(const r in t.frames){const e=t.frames[r];if(!e)return n.dispose(),!1;i.addFrame(e.id,e.x||0,e.y||0,e.randomX||0,e.randomY||0,this.readDirectionalOffsets(e))}i.initialize()}n.calculateLength(),this._layers.set(t,n);const a=n.frameCount;return a>this._frameCount&&(this._frameCount=a),!0}readDirectionalOffsets(t){let e=null;if(t&&t.offsets)for(const s in t.offsets){const i=t.offsets[s];i&&(e||(e=new EN),e.setDirection(i.direction,i.x,i.y))}return e}getFrame(t,e,s){const i=this._layers.get(e);return i?i.getFrame(t,s):null}getFrameFromSequence(t,e,s,i,r){const n=this._layers.get(e);return n?n.getFrameFromSequence(t,s,i,r):null}}pN.TRANSITION_TO_ANIMATION_OFFSET=1e6,pN.TRANSITION_FROM_ANIMATION_OFFSET=2e6,pN.DEFAULT_FRAME_NUMBER=0;class mN{constructor(){this._animationId=void 0,this._animationAfterTransitionId=void 0,this._animationOver=void 0,this._frameCounter=void 0,this._frames=void 0,this._lastFramePlayed=void 0,this._animationPlayed=void 0,this._layerCount=void 0,this._animationId=-1,this._animationAfterTransitionId=0,this._animationOver=!1,this._frameCounter=0,this._frames=[],this._lastFramePlayed=[],this._animationPlayed=[],this._layerCount=0}get animationOver(){return this._animationOver}set animationOver(t){this._animationOver=t}get frameCounter(){return this._frameCounter}set frameCounter(t){this._frameCounter=t}get animationId(){return this._animationId}set animationId(t){t!==this._animationId&&(this._animationId=t,this.resetAnimationFrames(!1))}get animationAfterTransitionId(){return this._animationAfterTransitionId}set animationAfterTransitionId(t){this._animationAfterTransitionId=t}dispose(){this.recycleFrames(),this._frames=null,this._lastFramePlayed=null,this._animationPlayed=null}setLayerCount(t){this._layerCount=t,this.resetAnimationFrames()}resetAnimationFrames(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!t&&this._frames||(this.recycleFrames(),this._frames=[]),this._lastFramePlayed=[],this._animationPlayed=[],this._animationOver=!1,this._frameCounter=0;let e=0;for(;e<this._layerCount;){if(t||this._frames.length<=e)this._frames[e]=null;else{const t=this._frames[e];t&&(t.recycle(),this._frames[e]=dN.allocate(t.id,t.x,t.y,t.repeats,0,t.isLastFrame))}this._lastFramePlayed[e]=!1,this._animationPlayed[e]=!1,e++}}recycleFrames(){if(this._frames&&this._frames.length)for(const t of this._frames)t&&t.recycle()}getFrame(t){return t<0||t>=this._layerCount?null:this._frames[t]}setFrame(t,e){if(t<0||t>=this._layerCount)return;const s=this._frames[t];s&&s.recycle(),this._frames[t]=e}getAnimationPlayed(t){return t<0||t>=this._layerCount||this._animationPlayed[t]}setAnimationPlayed(t,e){t<0||t>=this._layerCount||(this._animationPlayed[t]=e)}getLastFramePlayed(t){return t<0||t>=this._layerCount||this._lastFramePlayed[t]}setLastFramePlayed(t,e){t<0||t>=this._layerCount||(this._lastFramePlayed[t]=e)}}class IN{constructor(t){this._colors=void 0,this._colors=[],this.createColors(t)}createColors(t){if(t)for(let e=0;e<t;e++)this._colors.push(IN.DEFAULT_COLOR)}dispose(){this._colors=[]}getLayerColor(t){const e=this._colors[t];return e||IN.DEFAULT_COLOR}setColorLayer(t,e){this._colors[t]&&(this._colors[t]=e)}}IN.DEFAULT_COLOR=16777215;class fN{constructor(){this._tag=void 0,this._ink=void 0,this._alpha=void 0,this._ignoreMouse=void 0,this._xOffset=void 0,this._yOffset=void 0,this._zOffset=void 0,this._tag=fN.DEFAULT_TAG,this._ink=fN.DEFAULT_INK,this._alpha=fN.DEFAULT_ALPHA,this._ignoreMouse=fN.DEFAULT_IGNORE_MOUSE,this._xOffset=fN.DEFAULT_XOFFSET,this._yOffset=fN.DEFAULT_YOFFSET,this._zOffset=fN.DEFAULT_ZOFFSET}setFromLayer(t){t&&(this._tag=t.tag,this._ink=t.ink,this._alpha=t.alpha,this._ignoreMouse=t.ignoreMouse,this._xOffset=t.xOffset,this._yOffset=t.yOffset,this._zOffset=t.zOffset)}get tag(){return this._tag}set tag(t){this._tag=t}get ink(){return this._ink}set ink(t){this._ink=t}get alpha(){return this._alpha}set alpha(t){this._alpha=t}get ignoreMouse(){return this._ignoreMouse}set ignoreMouse(t){this._ignoreMouse=t}get xOffset(){return this._xOffset}set xOffset(t){this._xOffset=t}get yOffset(){return this._yOffset}set yOffset(t){this._yOffset=t}get zOffset(){return this._zOffset}set zOffset(t){this._zOffset=t}}fN.DEFAULT_COUNT=0,fN.DEFAULT_DIRECTION=0,fN.DEFAULT_TAG=\"\",fN.DEFAULT_INK=o.b.NORMAL,fN.DEFAULT_ALPHA=255,fN.DEFAULT_IGNORE_MOUSE=!1,fN.DEFAULT_XOFFSET=0,fN.DEFAULT_YOFFSET=0,fN.DEFAULT_ZOFFSET=0;class TN{constructor(t){this._layers=void 0,this._layers=[],this.createLayers(t)}createLayers(t){if(t)for(let e=0;e<t;e++)this._layers.push(new fN)}dispose(){this._layers=[]}setFromDirection(t){if(!t)return;const e=this.layerCount;if(e===t.layerCount)for(let s=0;s<e;s++){const e=this.getLayer(s),i=t.getLayer(s);e&&e.setFromLayer(i)}}getLayer(t){const e=this._layers[t];return e||null}getLayerTag(t){const e=this.getLayer(t);return e?e.tag:fN.DEFAULT_TAG}setLayerTag(t,e){const s=this.getLayer(t);s&&(s.tag=e)}getLayerInk(t){const e=this.getLayer(t);return e?e.ink:fN.DEFAULT_INK}setLayerInk(t,e){const s=this.getLayer(t);s&&(isNaN(e)||(s.ink=e))}getLayerAlpha(t){const e=this.getLayer(t);return e?e.alpha:fN.DEFAULT_ALPHA}setLayerAlpha(t,e){const s=this.getLayer(t);s&&(isNaN(e)||(s.alpha=e))}getLayerIgnoreMouse(t){const e=this.getLayer(t);return e?e.ignoreMouse:fN.DEFAULT_IGNORE_MOUSE}setLayerIgnoreMouse(t,e){const s=this.getLayer(t);s&&(s.ignoreMouse=e||!1)}getLayerXOffset(t){const e=this.getLayer(t);return e?e.xOffset:fN.DEFAULT_XOFFSET}setLayerXOffset(t,e){const s=this.getLayer(t);s&&(isNaN(e)||(s.xOffset=e))}getLayerYOffset(t){const e=this.getLayer(t);return e?e.yOffset:fN.DEFAULT_YOFFSET}setLayerYOffset(t,e){const s=this.getLayer(t);s&&(isNaN(e)||(s.yOffset=e))}getLayerZOffset(t){const e=this.getLayer(t);return e?e.zOffset:fN.DEFAULT_ZOFFSET}setLayerZOffset(t,e){const s=this.getLayer(t);s&&(isNaN(e)||(s.zOffset=e))}get layerCount(){return this._layers.length}}TN.USE_DEFAULT_DIRECTION=-1;class RN{constructor(t,e){this._layerCount=void 0,this._angle=void 0,this._defaultDirection=void 0,this._directions=void 0,this._colors=void 0,this._lastDirectionData=void 0,this._lastDirection=void 0,this._layerCount=t<0?0:t>RN.MAX_LAYERS?RN.MAX_LAYERS:t,this._angle=e<1?1:e>360?360:e,this._defaultDirection=new TN(this._layerCount),this._directions=new Map,this._colors=[],this._lastDirectionData=null,this._lastDirection=-1}dispose(){this._defaultDirection&&this._defaultDirection.dispose();for(const t of this._directions.values())t&&t.dispose();for(const t of this._colors)t&&t.dispose();this.reset()}reset(){this._defaultDirection=null,this._colors=[],this._lastDirectionData=null,this._lastDirection=-1,this._directions.clear()}processLayers(t){return!!t&&this.setDirectionLayers(this._defaultDirection,t)}processDirections(t){if(!t)return!1;for(const e in t){const s=t[e];if(!s)continue;const i=parseInt(e);if(this._directions.get(i))return!1;const r=new TN(this._layerCount);r.setFromDirection(this._defaultDirection),this.setDirectionLayers(r,s.layers),this._directions.set(i,r),this._lastDirectionData=null,this._lastDirection=-1}return!0}processColors(t){if(!t)return!1;for(const e in t){const s=t[e];if(!s)continue;const i=parseInt(e);if(this._colors[i])return!1;const r=new IN(this._layerCount);for(const t in s.layers){const e=s.layers[t];if(!e)continue;const i=parseInt(t),n=e.color;r.setColorLayer(i,n)}this._colors[i]=r}return!0}setDirectionLayers(t,e){if(!t||!e)return!1;for(const s in e){const i=e[s];if(!i)continue;const r=parseInt(s);if(r<0||r>=this._layerCount)return!1;void 0!==i.ink&&t.setLayerInk(r,Xe.inkToBlendMode(i.ink)),void 0!==i.tag&&t.setLayerTag(r,i.tag),void 0!==i.alpha&&t.setLayerAlpha(r,i.alpha),void 0!==i.ignoreMouse&&t.setLayerIgnoreMouse(r,i.ignoreMouse),void 0!==i.x&&t.setLayerXOffset(r,i.x),void 0!==i.y&&t.setLayerYOffset(r,i.y),void 0!==i.z&&t.setLayerZOffset(r,i.z/-1e3)}return!0}getValidDirection(t){if(this._directions.get(t))return t;t=(t%360+360)%360;let e=-1,s=-1;for(const i of this._directions.keys()){let r=(i*this._angle-t+360)%360;r>180&&(r=360-r),(r<e||e<0)&&(e=r,s=i)}return s>=0?Math.trunc(s):0}getDirectionData(t){if(t===this._lastDirection&&this._lastDirectionData)return this._lastDirectionData;let e=this._directions.get(t);return e||(e=this._defaultDirection),this._lastDirection=t,this._lastDirectionData=e,this._lastDirectionData}getLayerTag(t,e){const s=this.getDirectionData(t);return s?s.getLayerTag(e):fN.DEFAULT_TAG}getLayerInk(t,e){const s=this.getDirectionData(t);return s?s.getLayerInk(e):fN.DEFAULT_INK}getLayerAlpha(t,e){const s=this.getDirectionData(t);return s?s.getLayerAlpha(e):fN.DEFAULT_ALPHA}getLayerColor(t,e){const s=this._colors[e];return s?s.getLayerColor(t):IN.DEFAULT_COLOR}getLayerIgnoreMouse(t,e){const s=this.getDirectionData(t);return s?s.getLayerIgnoreMouse(e):fN.DEFAULT_IGNORE_MOUSE}getLayerXOffset(t,e){const s=this.getDirectionData(t);return s?s.getLayerXOffset(e):fN.DEFAULT_XOFFSET}getLayerYOffset(t,e){const s=this.getDirectionData(t);return s?s.getLayerYOffset(e):fN.DEFAULT_YOFFSET}getLayerZOffset(t,e){const s=this.getDirectionData(t);return s?s.getLayerZOffset(e):fN.DEFAULT_ZOFFSET}get layerCount(){return this._layerCount}}RN.MAX_LAYERS=26;class vN extends RN{constructor(t,e){super(t,e),this._animations=void 0,this._animationIds=void 0,this._animations=new Map,this._animationIds=[]}dispose(){super.dispose();for(const t of this._animations.values())t&&t.dispose();this._animations.clear(),this._animationIds=[]}defineAnimations(t){if(!t)return!0;for(const e in t){const s=t[e];if(!s)return!1;let i=parseInt(e.split(\"_\")[0]),r=!1;const n=s.transitionTo,a=s.transitionFrom;void 0!==n&&(i=pN.getTransitionToAnimationId(n),r=!0),void 0!==a&&(i=pN.getTransitionFromAnimationId(a),r=!0);const o=this.createAnimationData();if(!o.initialize(s))return o.dispose(),!1;const h=s.immediateChangeFrom;if(void 0!==h){const t=h.split(\",\"),e=[];for(const s of t){const t=parseInt(s);-1===e.indexOf(t)&&e.push(t)}o.setImmediateChanges(e)}this._animations.set(i,o),r||this._animationIds.push(i)}return!0}createAnimationData(){return new pN}hasAnimation(t){return!!this._animations.get(t)}getAnimationCount(){return this._animationIds.length||0}getAnimationId(t){const e=this.getAnimationCount();return t<0||e<=0?0:this._animationIds[t%e]}isImmediateChange(t,e){const s=this._animations.get(t);return!!s&&s.isImmediateChange(e)}getStartFrame(t,e){const s=this._animations.get(t);return s?s.getStartFrame(e):0}getFrame(t,e,s,i){const r=this._animations.get(t);return r?r.getFrame(e,s,i):null}getFrameFromSequence(t,e,s,i,r,n){const a=this._animations.get(t);return a?a.getFrameFromSequence(e,s,i,r,n):null}}class ON{constructor(){this._type=void 0,this._sizes=void 0,this._sizeDatas=void 0,this._lastSize=void 0,this._lastSizeScale=void 0,this._lastSizeData=void 0,this._lastSizeDataScale=void 0,this._type=\"\",this._sizes=[],this._sizeDatas=new Map,this._lastSize=-1,this._lastSizeScale=-1,this._lastSizeData=null,this._lastSizeDataScale=-1}initialize(t){return this.reset(),!!t&&(this._type=t.name,!!this.defineVisualizations(t.visualizations)||(this.reset(),!1))}dispose(){if(this._sizeDatas&&this._sizeDatas.size){for(const t of this._sizeDatas.values())t&&t.dispose();this._sizeDatas=null}this._lastSizeData=null,this._sizes=null}reset(){if(this._type=\"\",this._sizeDatas&&this._sizeDatas.size)for(const t of this._sizeDatas.values())t&&t.dispose();this._sizeDatas.clear(),this._sizes=[],this._lastSizeData=null,this._lastSizeDataScale=-1}createSizeData(t,e,s){return new RN(e,s)}defineVisualizations(t){if(!t)return!1;for(const e in t){const s=t[e],i=s.layerCount,r=s.angle;let n=s.size;if(n<1&&(n=1),this._sizeDatas.get(n))return!1;const a=this.createSizeData(n,i,r);if(!a)return!1;for(const t in s){const e=s[t];if(!this.processVisualElement(a,t,e))return a.dispose(),!1}this._sizeDatas.set(n,a),this._sizes.push(n)}return this._sizes.sort(),!0}processVisualElement(t,e,s){if(!t||!e||!s)return!1;switch(e){case\"layers\":if(!t.processLayers(s))return!1;break;case\"directions\":if(!t.processDirections(s))return!1;break;case\"colors\":if(!t.processColors(s))return!1}return!0}getValidSize(t){if(t===this._lastSizeScale)return this._lastSize;const e=this.getSizeIndex(t);let s=-1;return e<this._sizes.length&&(s=this._sizes[e]),this._lastSizeScale=t,this._lastSize=s,s}getSizeIndex(t){if(t<=0)return 0;let e=0,s=1;for(;s<this._sizes.length;){if(this._sizes[s]>t){this._sizes[s]/t<t/this._sizes[s-1]&&(e=s);break}e=s,s++}return e}getSizeData(t){if(t===this._lastSizeDataScale)return this._lastSizeData;const e=this.getSizeIndex(t);return e<this._sizes.length?this._lastSizeData=this._sizeDatas.get(this._sizes[e]):this._lastSizeData=null,this._lastSizeDataScale=t,this._lastSizeData}getLayerCount(t){const e=this.getSizeData(t);return e?e.layerCount:fN.DEFAULT_COUNT}getValidDirection(t,e){const s=this.getSizeData(t);return s?s.getValidDirection(e):fN.DEFAULT_DIRECTION}getLayerTag(t,e,s){const i=this.getSizeData(t);return i?i.getLayerTag(e,s):fN.DEFAULT_TAG}getLayerInk(t,e,s){const i=this.getSizeData(t);return i?i.getLayerInk(e,s):fN.DEFAULT_INK}getLayerAlpha(t,e,s){const i=this.getSizeData(t);return i?i.getLayerAlpha(e,s):fN.DEFAULT_ALPHA}getLayerColor(t,e,s){const i=this.getSizeData(t);return i?i.getLayerColor(e,s):IN.DEFAULT_COLOR}getLayerIgnoreMouse(t,e,s){const i=this.getSizeData(t);return i?i.getLayerIgnoreMouse(e,s):fN.DEFAULT_IGNORE_MOUSE}getLayerXOffset(t,e,s){const i=this.getSizeData(t);return i?i.getLayerXOffset(e,s):fN.DEFAULT_XOFFSET}getLayerYOffset(t,e,s){const i=this.getSizeData(t);return i?i.getLayerYOffset(e,s):fN.DEFAULT_YOFFSET}getLayerZOffset(t,e,s){const i=this.getSizeData(t);return i?i.getLayerZOffset(e,s):fN.DEFAULT_ZOFFSET}get type(){return this._type}}ON.LAYER_LETTERS=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\"];class AN extends ON{createSizeData(t,e,s){return new vN(e,s)}processVisualElement(t,e,s){if(!t||!e||!s)return!1;if(\"animations\"===e){if(!(t instanceof vN)||!t.defineAnimations(s))return!1}else if(!super.processVisualElement(t,e,s))return!1;return!0}hasAnimation(t,e){const s=this.getSizeData(t);return s?s.hasAnimation(e):null}getAnimationCount(t){const e=this.getSizeData(t);return e?e.getAnimationCount():null}getAnimationId(t,e){const s=this.getSizeData(t);return s?s.getAnimationId(e):null}isImmediateChange(t,e,s){const i=this.getSizeData(t);return i?i.isImmediateChange(e,s):null}getStartFrame(t,e,s){const i=this.getSizeData(t);return i?i.getStartFrame(e,s):null}getFrame(t,e,s,i,r){const n=this.getSizeData(t);return n?n.getFrame(e,s,i,r):null}getFrameFromSequence(t,e,s,i,r,n,a){const o=this.getSizeData(t);return o?o.getFrameFromSequence(e,s,i,r,n,a):null}}class SN extends xe{constructor(){super(),this._data=void 0,this._type=void 0,this._direction=void 0,this._lastCameraAngle=void 0,this._selectedColor=void 0,this._furnitureLift=void 0,this._alphaMultiplier=void 0,this._alphaChanged=void 0,this._clickUrl=void 0,this._clickHandling=void 0,this._cacheDirection=void 0,this._cacheScale=void 0,this._cacheSize=void 0,this._layerCount=void 0,this._shadowLayerIndex=void 0,this._updatedLayers=void 0,this._assetNames=void 0,this._spriteTags=void 0,this._spriteInks=void 0,this._spriteAlphas=void 0,this._spriteColors=void 0,this._spriteMouseCaptures=void 0,this._spriteXOffsets=void 0,this._spriteYOffsets=void 0,this._spriteZOffsets=void 0,this._animationNumber=void 0,this._data=null,this._type=null,this._direction=0,this._lastCameraAngle=NaN,this._selectedColor=0,this._furnitureLift=0,this._alphaMultiplier=1,this._alphaChanged=!1,this._clickUrl=null,this._clickHandling=!1,this._cacheDirection=-1,this._cacheScale=0,this._cacheSize=-1,this._layerCount=0,this._shadowLayerIndex=-1,this._updatedLayers=[],this._assetNames=[],this._spriteTags=[],this._spriteInks=[],this._spriteAlphas=[],this._spriteColors=[],this._spriteMouseCaptures=[],this._spriteXOffsets=[],this._spriteYOffsets=[],this._spriteZOffsets=[],this._animationNumber=0}initialize(t){return this.reset(),t instanceof ON&&(this._type=t.type,this._data=t,!0)}dispose(){super.dispose(),this._data=null,this._updatedLayers=null,this._assetNames=null,this._spriteTags=null,this._spriteInks=null,this._spriteAlphas=null,this._spriteColors=null,this._spriteMouseCaptures=null,this._spriteXOffsets=null,this._spriteYOffsets=null,this._spriteZOffsets=null}reset(){super.reset(),this.setDirection(-1),this._data=null,this._updatedLayers=[],this._assetNames=[],this._spriteTags=[],this._spriteInks=[],this._spriteAlphas=[],this._spriteColors=[],this._spriteMouseCaptures=[],this._spriteXOffsets=[],this._spriteYOffsets=[],this._spriteZOffsets=[],this.createSprites(0)}resetLayers(t,e){this._cacheDirection===e&&this._cacheScale===t||(this._updatedLayers=[],this._assetNames=[],this._spriteTags=[],this._spriteInks=[],this._spriteAlphas=[],this._spriteColors=[],this._spriteMouseCaptures=[],this._spriteXOffsets=[],this._spriteYOffsets=[],this._spriteZOffsets=[],this._cacheDirection=e,this._cacheScale=t,this._cacheSize=this.getValidSize(t),this.setLayerCount((this._data&&this._data.getLayerCount(t)||0)+this.getAdditionalLayerCount()))}update(t,e,s,i){if(!t)return;const r=t.scale;let n=!1;this.updateObject(r,t.direction.x)&&(n=!0),this.updateModel(r)&&(n=!0);let a=0;i?this._animationNumber=this._animationNumber|this.updateAnimation(r):(a=this.updateAnimation(r)|this._animationNumber,this._animationNumber=0),(n||0!==a)&&(this.updateSprites(r,n,a),this._scale=r,this.updateSpriteCounter++)}updateObject(t,e){if(!this.object)return!1;if(this.updateObjectCounter===this.object.updateCounter&&t===this._scale&&this._lastCameraAngle===e)return!1;let s=this.object.getDirection().x-(e+135);if(s=(s%360+360)%360,this._data){const e=this._data.getValidDirection(t,s);this.setDirection(e)}return this._lastCameraAngle=e,this._scale=t,this.updateObjectCounter=this.object.updateCounter,this.resetLayers(t,this._direction),!0}updateModel(t){const e=this.object&&this.object.model;if(!e)return!1;if(this.updateModelCounter===e.updateCounter)return!1;this._selectedColor=e.getValue(rt.FURNITURE_COLOR),this._clickUrl=e.getValue(rt.FURNITURE_AD_URL),this._clickHandling=this._clickUrl&&\"\"!==this._clickUrl&&0===this._clickUrl.indexOf(\"http\")||!1,this._furnitureLift=e.getValue(rt.FURNITURE_LIFT_AMOUNT)||0;let s=e.getValue(rt.FURNITURE_ALPHA_MULTIPLIER);return isNaN(s)&&(s=1),this._alphaMultiplier!==s&&(this._alphaMultiplier=s,this._alphaChanged=!0),this.updateModelCounter=e.updateCounter,!0}updateSprites(t,e,s){if(this._layerCount!==this.totalSprites&&this.createSprites(this._layerCount),e){let e=this.totalSprites-1;for(;e>=0;)this.updateSprite(t,e),e--}else{let e=0;for(;s>0;)s&&this.updateSprite(t,e),e++,s>>=1}this._alphaChanged=!1}updateSprite(t,e){const s=this.getSpriteAssetName(t,e),i=this.getSprite(e);if(s&&i){const r=this.getAsset(s,e);if(r&&r.texture){i.visible=!0,i.type=this._type,i.texture=r.texture,i.flipH=r.flipH,i.flipV=r.flipV,i.direction=this._direction;let n=0;e!==this._shadowLayerIndex?(i.tag=this.getLayerTag(t,this._direction,e),i.alpha=this.getLayerAlpha(t,this._direction,e),i.color=this.getLayerColor(t,e,this._selectedColor),i.offsetX=r.offsetX+this.getLayerXOffset(t,this._direction,e),i.offsetY=r.offsetY+this.getLayerYOffset(t,this._direction,e),i.blendMode=this.getLayerInk(t,this._direction,e),i.alphaTolerance=this.getLayerIgnoreMouse(t,this._direction,e)?Pe.MATCH_NOTHING:Pe.MATCH_OPAQUE_PIXELS,n=this.getLayerZOffset(t,this._direction,e),n-=.001*e):(i.offsetX=r.offsetX,i.offsetY=r.offsetY+this.getLayerYOffset(t,this._direction,e),i.alpha=48*this._alphaMultiplier,i.alphaTolerance=Pe.MATCH_NOTHING,n=1),i.relativeDepth=n*SN.DEPTH_MULTIPLIER,i.name=s,i.libraryAssetName=this.getLibraryAssetNameForSprite(r,i),i.posture=this.getPostureForAsset(t,r.source),i.clickHandling=this._clickHandling}else this.resetSprite(i)}else i&&this.resetSprite(i)}getLibraryAssetNameForSprite(t,e){return t.source}getPostureForAssetFile(t,e){return null}resetSprite(t){t&&(t.texture=null,t.libraryAssetName=\"\",t.posture=\"\",t.tag=\"\",t.offsetX=0,t.offsetY=0,t.flipH=!1,t.flipV=!1,t.relativeDepth=0,t.clickHandling=!1)}getSpriteAssetName(t,e){if(!this._data||e>=ON.LAYER_LETTERS.length)return\"\";let s=this._assetNames[e],i=this._updatedLayers[e];return s&&s.length||(s=this.cacheSpriteAssetName(t,e,!0),i=1!==this._cacheSize),i&&(s+=this.getFrameNumber(t,e)),s}cacheSpriteAssetName(t,e,s){this._type;const i=s?this._cacheSize:this.getValidSize(t);let r=\"\";const n=1!==i;if(r=e!==this._shadowLayerIndex?ON.LAYER_LETTERS[e]||\"\":\"sd\",\"\"===r)return null;const a=this._type+(n?\"_\"+i+\"_\"+r+\"_\"+this._direction+\"_\":\"_icon_\"+r);return s&&(this._assetNames[e]=a,this._updatedLayers[e]=n),a}getLayerTag(t,e,s){const i=this._spriteTags[s];if(void 0!==i)return i;if(!this._data)return fN.DEFAULT_TAG;const r=this._data.getLayerTag(t,e,s);return this._spriteTags[s]=r,r}getLayerInk(t,e,s){const i=this._spriteInks[s];if(void 0!==i)return i;if(!this._data)return fN.DEFAULT_INK;const r=this._data.getLayerInk(t,e,s);return this._spriteInks[s]=r,r}getLayerAlpha(t,e,s){if(!this._alphaChanged){const t=this._spriteAlphas[s];if(void 0!==t)return t}if(!this._data)return fN.DEFAULT_ALPHA;let i=this._data.getLayerAlpha(t,e,s);return null!==this._alphaMultiplier&&(i*=this._alphaMultiplier),this._spriteAlphas[s]=i,i}getLayerColor(t,e,s){const i=this._spriteColors[e];if(void 0!==i)return i;if(!this._data)return IN.DEFAULT_COLOR;const r=this._data.getLayerColor(t,e,s);return this._spriteColors[e]=r,r}getLayerIgnoreMouse(t,e,s){const i=this._spriteMouseCaptures[s];if(void 0!==i)return i;if(!this._data)return fN.DEFAULT_IGNORE_MOUSE;const r=this._data.getLayerIgnoreMouse(t,e,s);return this._spriteMouseCaptures[s]=r,r}getLayerXOffset(t,e,s){const i=this._spriteXOffsets[s];if(void 0!==i)return i;if(!this._data)return fN.DEFAULT_XOFFSET;const r=this._data.getLayerXOffset(t,e,s);return this._spriteXOffsets[s]=r,r}getLayerYOffset(t,e,s){if(s===this._shadowLayerIndex)return Math.ceil(this._furnitureLift*(t/2));const i=this._spriteYOffsets[s];if(void 0!==i)return i;if(!this._data)return fN.DEFAULT_YOFFSET;const r=this._data.getLayerYOffset(t,e,s);return this._spriteYOffsets[s]=r,r}getLayerZOffset(t,e,s){const i=this._spriteZOffsets[s];if(void 0!==i)return i;if(!this._data)return fN.DEFAULT_ZOFFSET;const r=this._data.getLayerZOffset(t,e,s);return this._spriteZOffsets[s]=r,r}getValidSize(t){return this._data?this._data.getValidSize(t):t}setLayerCount(t){this._layerCount=t,this._shadowLayerIndex=t-this.getAdditionalLayerCount()}setDirection(t){this._direction!==t&&(this._direction=t)}getAdditionalLayerCount(){return 1}updateAnimation(t){return 0}getFrameNumber(t,e){return 0}getPostureForAsset(t,e){return null}getAsset(t){return this.asset?this.asset.getAsset(t):null}get direction(){return this._direction}}SN.DEPTH_MULTIPLIER=Math.sqrt(.5),SN.TYPE=nt.FURNITURE_STATIC;class NN extends SN{constructor(){super(),this._data=void 0,this._state=void 0,this._frameIncrease=void 0,this._animationData=void 0,this._animationScale=void 0,this._animationChangeTime=void 0,this._animatedLayerCount=void 0,this._directionChanged=void 0,this._state=-1,this._frameIncrease=1,this._animationData=new mN,this._animationScale=0,this._animationChangeTime=0,this._animatedLayerCount=0,this._directionChanged=!1}initialize(t){return t instanceof AN&&super.initialize(t)}dispose(){super.dispose(),this._animationData&&(this._animationData.dispose(),this._animationData=null)}get animatedLayerCount(){return this._animatedLayerCount}get animationId(){return this._animationData.animationId}getAnimationId(t){return this.animationId!==NN.DEFAULT_ANIMATION_ID&&this._data.hasAnimation(this._animationScale,this.animationId)?this.animationId:NN.DEFAULT_ANIMATION_ID}updateObject(t,e){if(super.updateObject(t,e)){const t=this.object.getState(0);return t!==this._state&&(this.setAnimation(t),this._state=t,this._animationChangeTime=this.object.model.getValue(rt.FURNITURE_STATE_UPDATE_TIME)||0),!0}return!1}updateModel(t){if(super.updateModel(t)){if(this.usesAnimationResetting()){const t=this.object.model.getValue(rt.FURNITURE_STATE_UPDATE_TIME);t>this._animationChangeTime&&(this._animationChangeTime=t,this.setAnimation(this._state))}const t=this.object.model.getValue(rt.FURNITURE_AUTOMATIC_STATE_INDEX);if(!isNaN(t)){const e=this._data.getAnimationId(this._animationScale,t);this.setAnimation(e)}return!0}return!1}isPlayingTransition(t,e){return!(!pN.isTransitionFromAnimation(t.animationId)&&!pN.isTransitionToAnimation(t.animationId))&&(e===t.animationAfterTransitionId&&!t.animationOver)}getCurrentState(t){const e=t.animationId;return pN.isTransitionFromAnimation(e)||pN.isTransitionToAnimation(e)?t.animationAfterTransitionId:e}setAnimation(t){this._data&&this.setSubAnimation(this._animationData,t,this._state>=0)}setSubAnimation(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=t.animationId;if(s){if(this.isPlayingTransition(t,e))return!1;const s=this.getCurrentState(t);if(e!==s){if(!this._data.isImmediateChange(this._animationScale,e,s)){let i=pN.getTransitionFromAnimationId(s);this._data.hasAnimation(this._animationScale,i)?(t.animationAfterTransitionId=e,e=i):(i=pN.getTransitionToAnimationId(e),this._data.hasAnimation(this._animationScale,i)&&(t.animationAfterTransitionId=e,e=i))}}else if(pN.isTransitionFromAnimation(t.animationId)){const s=pN.getTransitionToAnimationId(e);this._data.hasAnimation(this._animationScale,s)&&(t.animationAfterTransitionId=e,e=s)}else if(!pN.isTransitionToAnimation(t.animationId)&&this.usesAnimationResetting()){const i=pN.getTransitionFromAnimationId(s);if(this._data.hasAnimation(this._animationScale,i))t.animationAfterTransitionId=e,e=i;else{const s=pN.getTransitionToAnimationId(e);this._data.hasAnimation(this._animationScale,s)&&(t.animationAfterTransitionId=e,e=s)}}}return i!==e&&(t.animationId=e,!0)}getLastFramePlayed(t){return this._animationData.getLastFramePlayed(t)}resetAllAnimationFrames(){this._animationData&&this._animationData.setLayerCount(this._animatedLayerCount)}updateAnimation(t){if(!this._data)return 0;t!==this._animationScale&&(this._animationScale=t,this._animatedLayerCount=this._data.getLayerCount(t),this.resetAllAnimationFrames());const e=this.updateAnimations(t);return this._directionChanged=!1,e}updateAnimations(t){if(this._animationData.animationOver&&!this._directionChanged)return 0;const e=this.updateFramesForAnimation(this._animationData,t);return this._animationData.animationOver&&(pN.isTransitionFromAnimation(this._animationData.animationId)||pN.isTransitionToAnimation(this._animationData.animationId))&&(this.setAnimation(this._animationData.animationAfterTransitionId),this._animationData.animationOver=!1),e}updateFramesForAnimation(t,e){if(t.animationOver&&!this._directionChanged)return 0;const s=this.getAnimationId(t);let i=t.frameCounter;i||(i=this._data.getStartFrame(e,s,this._direction)),i+=this.frameIncrease,t.frameCounter=i,t.animationOver=!0;let r=!1,n=this._animatedLayerCount-1,a=0,o=1<<this._animatedLayerCount-1;for(;n>=0;){let h=0;if(r=t.getAnimationPlayed(n),!r||this._directionChanged){let _=t.getLastFramePlayed(n),d=t.getFrame(n);d&&d.isLastFrame&&d.remainingFrameRepeats<=this.frameIncrease&&(_=!0),(this._directionChanged||!d||d.remainingFrameRepeats>=0&&(d.remainingFrameRepeats=d.remainingFrameRepeats-this.frameIncrease)<=0)&&(h=dN.SEQUENCE_NOT_DEFINED,d&&(h=d.activeSequence),d=h===dN.SEQUENCE_NOT_DEFINED?this._data.getFrame(e,s,this._direction,n,i):this._data.getFrameFromSequence(e,s,this._direction,n,h,d.activeSequenceOffset+d.repeats,i),t.setFrame(n,d),a|=o),d&&d.remainingFrameRepeats!=dN.FRAME_REPEAT_FOREVER?t.animationOver=!1:(_=!0,r=!0),t.setLastFramePlayed(n,_),t.setAnimationPlayed(n,r)}o>>=1,n--}return a}getFrameNumber(t,e){const s=this._animationData.getFrame(e);return s?s.id:super.getFrameNumber(t,e)}getLayerXOffset(t,e,s){const i=super.getLayerXOffset(t,e,s),r=this._animationData.getFrame(s);return r?i+r.x:i}getLayerYOffset(t,e,s){const i=super.getLayerYOffset(t,e,s),r=this._animationData.getFrame(s);return r?i+r.y:i}usesAnimationResetting(){return!1}setDirection(t){this._direction!==t&&(super.setDirection(t),this._directionChanged=!0)}get frameIncrease(){return this._frameIncrease}}NN.TYPE=nt.FURNITURE_ANIMATED,NN.DEFAULT_ANIMATION_ID=0;class yN extends NN{constructor(){super(),this._badgeId=void 0,this._badgeAssetNameNormalScale=void 0,this._badgeAssetNameSmallScale=void 0,this._badgeVisibleInState=void 0,this._badgeId=\"\",this._badgeAssetNameNormalScale=\"\",this._badgeAssetNameSmallScale=\"\",this._badgeVisibleInState=-1}updateModel(t){let e=super.updateModel(t);const s=this.object.model.getValue(rt.FURNITURE_BADGE_IMAGE_STATUS),i=this.object.model.getValue(rt.FURNITURE_BADGE_ASSET_NAME);if(-1===s)this._badgeAssetNameNormalScale=\"\",this._badgeAssetNameSmallScale=\"\";else if(1===s&&i!==this._badgeId){this._badgeId=i,this._badgeAssetNameNormalScale=this._badgeId,\"\"===this._badgeAssetNameSmallScale&&(this._badgeAssetNameSmallScale=this._badgeAssetNameNormalScale+\"_32\");const t=this.object.model.getValue(rt.FURNITURE_BADGE_VISIBLE_IN_STATE);isNaN(t)||(this._badgeVisibleInState=t),e=!0}return e}getSpriteAssetName(t,e){return this.getLayerTag(t,this.direction,e)!==yN.BADGE||-1!==this._badgeVisibleInState&&this.object.getState(0)!==this._badgeVisibleInState?super.getSpriteAssetName(t,e):32===t?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale}getLayerXOffset(t,e,s){let i=super.getLayerXOffset(t,e,s);if(this.getLayerTag(t,e,s)===yN.BADGE){const e=this.getAsset(32===t?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,s);e&&(i+=64===t?(40-e.width)/2:(20-e.width)/2)}return i}getLayerYOffset(t,e,s){let i=super.getLayerYOffset(t,e,s);if(this.getLayerTag(t,e,s)===yN.BADGE){const e=this.getAsset(32===t?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,s);e&&(i+=64===t?(40-e.height)/2:(20-e.height)/2)}return i}}yN.BADGE=\"BADGE\";class DN extends SN{constructor(){super(),this._imageUrl=void 0,this._shortUrl=void 0,this._imageReady=void 0,this._isAnimated=void 0,this._gifCollection=void 0,this._offsetX=void 0,this._offsetY=void 0,this._offsetZ=void 0,this._currentFrame=void 0,this._totalFrames=void 0,this._imageUrl=null,this._shortUrl=null,this._imageReady=!1,this._isAnimated=!1,this._gifCollection=null,this._offsetX=0,this._offsetY=0,this._offsetZ=0,this._currentFrame=-1,this._totalFrames=-1}dispose(){super.dispose(),this._imageUrl&&this.asset&&this.asset.disposeAsset(this._imageUrl)}updateObject(t,e){return!!super.updateObject(t,e)&&(this._imageReady&&this.checkAndCreateImageForCurrentState(),!0)}updateModel(t){const e=super.updateModel(t);if(e&&(this._offsetX=this.object.model.getValue(rt.FURNITURE_BRANDING_OFFSET_X)||0,this._offsetY=this.object.model.getValue(rt.FURNITURE_BRANDING_OFFSET_Y)||0,this._offsetZ=this.object.model.getValue(rt.FURNITURE_BRANDING_OFFSET_Z)||0,this._isAnimated=this.object.model.getValue(rt.FURNITURE_BRANDING_IS_ANIMATED)||!1),this._imageReady){if(this.checkIfImageChanged())return this._imageReady=!1,this._imageUrl=null,!0}else if(this._imageReady=this.checkIfImageReady(),this._imageReady)return this.checkAndCreateImageForCurrentState(),!0;return e}checkIfImageChanged(){const t=this.object.model.getValue(rt.FURNITURE_BRANDING_IMAGE_URL);return(!t||t!==this._imageUrl)&&(this._gifCollection,this.asset&&this.asset.disposeAsset(this._imageUrl),!0)}checkIfImageReady(){if(!(this.object&&this.object.model))return!1;const t=this.object.model.getValue(rt.FURNITURE_BRANDING_IMAGE_URL);if(!t)return!1;if(this._imageUrl&&this._imageUrl===t)return!1;if(1===this.object.model.getValue(rt.FURNITURE_BRANDING_IMAGE_STATUS)){let e=null;if(this._isAnimated){const s=lL.instance.roomEngine.roomContentLoader.getGifCollection(t);s&&(this._gifCollection=s,e=s.textures[0])}else e=lL.instance.core.asset.getTexture(t);return!!e&&(this.imageReady(e,t),!0)}return!1}imageReady(t,e){this._imageUrl=t?e:null}checkAndCreateImageForCurrentState(){if(this._isAnimated)return void this.buildAssetsForGif();if(!this._imageUrl)return;const t=lL.instance.core.asset.getTexture(this._imageUrl);if(!t)return;const e=this.object.getState(0);this.addBackgroundAsset(t,e,0)}buildAssetsForGif(){if(!this._gifCollection)return;const t=this._gifCollection.textures,e=this._gifCollection.durations;if(!t.length||!e.length||t.length!==e.length)return;const s=this.object.getState(0);for(let i=0;i<t.length;i++){const r=t[i];e[i];r&&this.addBackgroundAsset(r,s,i)}this._currentFrame=-1,this._totalFrames=t.length}addBackgroundAsset(t,e,s){let i=0,r=0,n=!1,a=!1;switch(e){case DN.STATE_0:i=0,r=0,n=!1,a=!1;break;case DN.STATE_1:i=-t.width,r=0,n=!0,a=!1;break;case DN.STATE_2:i=-t.width,r=-t.height,n=!0,a=!0;break;case DN.STATE_3:i=0,r=-t.height,n=!1,a=!0}this.asset.addAsset(`${this._imageUrl}_${s}`,t,!0,i,r,n,a)}getSpriteAssetName(t,e){return this.getLayerTag(t,this._direction,e)===DN.BRANDED_IMAGE&&this._imageUrl?`${this._imageUrl}_${this.getFrameNumber(t,e)}`:super.getSpriteAssetName(t,e)}updateAnimation(t){return!this._imageReady||!this._isAnimated||this._totalFrames<=0?0:1}getFrameNumber(t,e){if(!this._imageReady||!this._isAnimated||this._totalFrames<=0)return 0;if(this.getLayerTag(t,this._direction,e)===DN.BRANDED_IMAGE&&this._imageUrl){let t=this._currentFrame;return t<0?t=0:t+=1,t===this._totalFrames&&(t=0),this._currentFrame=t,this._currentFrame}return 0}}DN.BRANDED_IMAGE=\"branded_image\",DN.STATE_0=0,DN.STATE_1=1,DN.STATE_2=2,DN.STATE_3=3;class MN extends DN{getLayerXOffset(t,e,s){return super.getLayerXOffset(t,e,s)+this._offsetX}getLayerYOffset(t,e,s){return super.getLayerYOffset(t,e,s)+this._offsetY}getLayerZOffset(t,e,s){return super.getLayerZOffset(t,e,s)+this._offsetZ}}class CN extends NN{constructor(){super(),this._stateQueue=void 0,this._running=void 0,this._stateQueue=[],this._running=!1}setAnimation(t){if(-1===t&&!this._running)return this._running=!0,this._stateQueue=[],void this._stateQueue.push(CN.ANIMATION_ID_ROLL);if(t>=0&&t<=7){if(this._running)return this._running=!1,this._stateQueue=[],this._stateQueue.push(CN.ANIMATION_ID_OFFSET_SLOW1),this._stateQueue.push(CN.ANIMATION_ID_OFFSET_SLOW2+t),void this._stateQueue.push(t);super.setAnimation(t)}}updateAnimation(t){return this.getLastFramePlayed(0)&&this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(t)}}CN.ANIMATION_ID_OFFSET_SLOW1=20,CN.ANIMATION_ID_OFFSET_SLOW2=9,CN.ANIMATION_ID_ROLL=-1;class LN extends SN{}class UN extends NN{getFrameNumber(t,e){const s=this.getLayerTag(t,this.direction,e),i=this.object.getState(0);switch(s){case UN.SECONDS_SPRITE:return Math.floor(i%60%10);case UN.TEN_SECONDS_SPRITE:return Math.floor(i%60/10);case UN.MINUTES_SPRITE:return Math.floor(i/60%10);case UN.TEN_MINUTES_SPRITE:return Math.floor(i/60/10%10);default:return super.getFrameNumber(t,e)}}get animationId(){return 0}}UN.SECONDS_SPRITE=\"seconds_sprite\",UN.TEN_SECONDS_SPRITE=\"ten_seconds_sprite\",UN.MINUTES_SPRITE=\"minutes_sprite\",UN.TEN_MINUTES_SPRITE=\"ten_minutes_sprite\";class PN extends xe{}class bN extends NN{constructor(){super(),this._thumbnailAssetNameNormal=void 0,this._thumbnailImageNormal=void 0,this._thumbnailDirection=void 0,this._thumbnailChanged=void 0,this._hasOutline=void 0,this._thumbnailAssetNameNormal=null,this._thumbnailImageNormal=null,this._thumbnailDirection=-1,this._thumbnailChanged=!1,this._hasOutline=!1}get hasThumbnailImage(){return!(null==this._thumbnailImageNormal)}setThumbnailImages(t){this._thumbnailImageNormal=t,this._thumbnailChanged=!0}updateModel(t){const e=super.updateModel(t);return this._thumbnailChanged||this._thumbnailDirection!==this.direction?(this.refreshThumbnail(),!0):e}refreshThumbnail(){null!=this.asset&&(this._thumbnailImageNormal?this.addThumbnailAsset(this._thumbnailImageNormal,64):this.asset.disposeAsset(this.getThumbnailAssetName(64)),this._thumbnailChanged=!1,this._thumbnailDirection=this.direction)}addThumbnailAsset(t,e){let s=0;for(;s<this.totalSprites;){if(this.getLayerTag(e,this.direction,s)===bN.THUMBNAIL){const i=this.cacheSpriteAssetName(e,s,!1)+this.getFrameNumber(e,s),r=this.getAsset(i,s);if(r){const s=this.generateTransformedThumbnail(t,r),i=this.getThumbnailAssetName(e);this.asset.disposeAsset(i),this.asset.addAsset(i,s,!0,r.offsetX,r.offsetY,!1,!1)}return}s++}}generateTransformedThumbnail(t,e){if(this._hasOutline){const e=new W,s=new W(K.WHITE);s.tint=0,s.width=t.width+40,s.height=t.height+40;const i=new W(t),r=(s.width-i.width)/2,n=(s.height-i.height)/2;i.position.set(r,n),e.addChild(s,i),t=At.generateTexture(e)}const s=new j.d,i=e.width/t.width;switch(this.direction){case 2:s.a=i,s.b=-.5*i,s.c=0,s.d=1.1*i,s.tx=0,s.ty=.5*i*t.width;break;case 0:case 4:s.a=i,s.b=.5*i,s.c=0,s.d=1.1*i,s.tx=0,s.ty=0;break;default:s.a=i,s.b=0,s.c=0,s.d=i,s.tx=0,s.ty=0}const r=new W(t);return r.transform.setFromMatrix(s),At.generateTexture(r)}getSpriteAssetName(t,e){return this._thumbnailImageNormal&&this.getLayerTag(t,this.direction,e)===bN.THUMBNAIL?this.getThumbnailAssetName(t):super.getSpriteAssetName(t,e)}getThumbnailAssetName(t){return this._thumbnailAssetNameNormal=this.getFullThumbnailAssetName(this.object.id,64),this._thumbnailAssetNameNormal}getFullThumbnailAssetName(t,e){return[this._type,t,\"thumb\",e].join(\"_\")}}bN.THUMBNAIL=\"THUMBNAIL\";class wN extends bN{constructor(){super(),this._cachedUrl=void 0,this._cachedUrl=null,this._hasOutline=!0}updateModel(t){if(this.object){const t=this.getThumbnailURL();if(this._cachedUrl!==t)if(this._cachedUrl=t,this._cachedUrl&&\"\"!==this._cachedUrl){const e=new Image;e.src=t,e.crossOrigin=\"*\",e.onload=()=>{const t=i.t.from(e);t.baseTexture.scaleMode=o.p.LINEAR,this.setThumbnailImages(t)}}else this.setThumbnailImages(null)}return super.updateModel(t)}getThumbnailURL(){throw new Error(\"This method must be overridden!\")}}class FN extends wN{constructor(){super(),this._url=void 0,this._typePrefix=void 0,this._url=null,this._typePrefix=null}getThumbnailURL(){if(!this.object)return null;if(this._url)return this._url;const t=this.object.model.getValue(rt.FURNITURE_DATA);if(!t||\"\"===t)return null;this.object.type.indexOf(\"\")>=0&&(this._typePrefix=this.object.type.indexOf(\"\")>=0?\"\":\"postcards/selfie/\");let e=JSON.parse(t).w||\"\";return e=this.buildThumbnailUrl(e),this._url=e,this._url}buildThumbnailUrl(t){return-1===(t=t.replace(\".png\",\"_small.png\")).indexOf(\".png\")&&(t+=\"_small.png\"),t}}class xN{}xN.GENERIC=\"hd\",xN.HEAD=\"head\",xN.TORSO=\"torso\",xN.LEGS=\"legs\",xN.HOTLOOKS=\"hotlooks\",xN.WARDROBE=\"wardrobe\",xN.EFFECTS=\"effects\";class BN{}BN.OWN_AVATAR_EDITOR=0,BN.FURNITURE_AVATAR_EDITOR=1,BN.BOT_EDITOR=2,BN.DEV_TOOL_EDITOR=3;class GN{}GN.NOTHING=\"nothing\",GN.WARDROBE=\"wardrobe\";class HN{}HN.TOOL=\"tool\",HN.COMPONENT=\"component\",HN.ONLINE_TOOL=\"online_tool\",HN.LOCAL_ONLY=\"local_only\";class VN{constructor(){this._x=void 0,this._y=void 0,this._z=void 0,this._lastX=void 0,this._lastY=void 0,this._lastZ=void 0,this._hasMoved=!1,this._particleDirection=void 0,this._age=0,this._lifeTime=void 0,this._isEmitter=!1,this._fade=!1,this._fadeTime=void 0,this._alphaMultiplier=1,this._frames=void 0}init(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,_=arguments.length>9&&void 0!==arguments[9]&&arguments[9];this._x=t,this._y=e,this._z=s,this._particleDirection=new te(i.x,i.y,i.z),this._particleDirection.scaleBy(r),this._lastX=this._x-this._particleDirection.x*n,this._lastY=this._y-this._particleDirection.y*n,this._lastZ=this._z-this._particleDirection.z*n,this._age=0,this._hasMoved=!1,this._lifeTime=a,this._isEmitter=o,this._frames=h,this._fade=_,this._alphaMultiplier=1,this._fadeTime=.5+.5*Math.random()}dispose(){this._particleDirection=null}update(){this._age++,this._age===this._lifeTime&&this.ignite(),this._fade&&this._age/this._lifeTime>this._fadeTime&&(this._alphaMultiplier=(this._lifeTime-this._age)/(this._lifeTime*(1-this._fadeTime)))}getAsset(){return this._frames&&this._frames.length>0?this._frames[this._age%this._frames.length]:null}ignite(){}get fade(){return this._fade}get alphaMultiplier(){return this._alphaMultiplier}get direction(){return this._particleDirection}get age(){return this._age}get isEmitter(){return this._isEmitter}get isAlive(){return this._age<=this._lifeTime}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get z(){return this._z}set z(t){this._z=t}get lastX(){return this._lastX}set lastX(t){this._hasMoved=!0,this._lastX=t}get lastY(){return this._lastY}set lastY(t){this._hasMoved=!0,this._lastY=t}get lastZ(){return this._lastZ}set lastZ(t){this._hasMoved=!0,this._lastZ=t}get hasMoved(){return this._hasMoved}toString(){return[this._x,this._y,this._z].toString()}copy(t,e){this._x=t._x*e,this._y=t._y*e,this._z=t._z*e,this._lastX=t._lastX*e,this._lastY=t._lastY*e,this._lastZ=t._lastZ*e,this._hasMoved=t.hasMoved,this._particleDirection=t._particleDirection,this._age=t._age,this._lifeTime=t._lifeTime,this._isEmitter=t._isEmitter,this._fade=t._fade,this._fadeTime=t._fadeTime,this._alphaMultiplier=t._alphaMultiplier}}class jN extends VN{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;super(),this._name=void 0,this._roomObjectSpriteId=-1,this._force=void 0,this._timeStep=.1,this._gravity=void 0,this._airFriction=void 0,this._explosionShape=void 0,this._particleConfigurations=void 0,this._particles=void 0,this._maxNumberOfParticles=void 0,this._particlesPerFrame=void 0,this._emittedParticles=void 0,this._fuseTime=10,this._energy=1,this._hasIgnited=!1,this._burstPulse=1,this._emitterDirection=void 0,this._particles=[],this._name=t,this._roomObjectSpriteId=e,this._particleConfigurations=[]}dispose(){for(const t of this._particles)t.dispose();this._particles=null,this._particleConfigurations=null,super.dispose()}setup(t,e,s,i,r,n,a,o,h,_){this._maxNumberOfParticles=t,this._particlesPerFrame=e,this._force=s,this._emitterDirection=i,this._emitterDirection.normalize(),this._gravity=r,this._airFriction=n,this._explosionShape=a,this._fuseTime=h,this._energy=o,this._burstPulse=_,this.reset()}reset(){for(const t of this._particles)t.dispose();this._particles=[],this._emittedParticles=0,this._hasIgnited=!1,this.init(0,0,0,this._emitterDirection,this._force,this._timeStep,this._fuseTime,!0)}copyStateFrom(t,e){super.copy(t,e),this._force=t._force,this._emitterDirection=t._emitterDirection,this._gravity=t._gravity,this._airFriction=t._airFriction,this._explosionShape=t._explosionShape,this._fuseTime=t._fuseTime,this._energy=t._energy,this._burstPulse=t._burstPulse,this._timeStep=t._timeStep,this._hasIgnited=t._hasIgnited}configureParticle(t,e,s,i){const r={};r.lifeTime=t,r.isEmitter=e,r.frames=s,r.fade=i,this._particleConfigurations.push(r)}ignite(){this._hasIgnited=!0,this._emittedParticles<this._maxNumberOfParticles&&this.age>1&&this.releaseParticles(this,this.direction)}releaseParticles(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||(e=new te);const s=new te,i=this.getRandomParticleConfiguration();let r=0;for(;r<this._particlesPerFrame;){switch(this._explosionShape){case jN.CONE:s.x=this.randomBoolean(.5)?Math.random():-Math.random(),s.y=-(Math.random()+1),s.z=this.randomBoolean(.5)?Math.random():-Math.random();break;case jN.PLANE:s.x=this.randomBoolean(.5)?Math.random():-Math.random(),s.y=0,s.z=this.randomBoolean(.5)?Math.random():-Math.random();break;case jN.SPHERE:s.x=this.randomBoolean(.5)?Math.random():-Math.random(),s.y=this.randomBoolean(.5)?Math.random():-Math.random(),s.z=this.randomBoolean(.5)?Math.random():-Math.random()}s.normalize();const e=new VN;let n=0,a=!1,o=!1,h=[];i?(n=Math.floor(Math.random()*i.lifeTime+10),a=i.isEmitter,h=i.frames,o=i.fade):(n=Math.trunc(Math.floor(20*Math.random()+10)),a=!1,h=[]),e.init(t.x,t.y,t.z,s,this._energy,this._timeStep,n,a,h,o),this._particles.push(e),this._emittedParticles++,r++}}getRandomParticleConfiguration(){const t=Math.trunc(Math.floor(Math.random()*this._particleConfigurations.length));return this._particleConfigurations[t]}update(){super.update(),this.accumulateForces(),this.verlet(),this.satisfyConstraints(),!this.isAlive&&this._emittedParticles<this._maxNumberOfParticles&&this.age%this._burstPulse===0&&this.releaseParticles(this,this.direction)}verlet(){if(this.isAlive||this._emittedParticles<this._maxNumberOfParticles){const t=this.x,e=this.y,s=this.z;this.x=(2-this._airFriction)*this.x-(1-this._airFriction)*this.lastX,this.y=(2-this._airFriction)*this.y-(1-this._airFriction)*this.lastY+this._gravity*this._timeStep*this._timeStep,this.z=(2-this._airFriction)*this.z-(1-this._airFriction)*this.lastZ,this.lastX=t,this.lastY=e,this.lastZ=s}const t=[];for(const e of this._particles){e.update();const s=e.x,i=e.y,r=e.z;e.x=(2-this._airFriction)*e.x-(1-this._airFriction)*e.lastX,e.y=(2-this._airFriction)*e.y-(1-this._airFriction)*e.lastY+this._gravity*this._timeStep*this._timeStep,e.z=(2-this._airFriction)*e.z-(1-this._airFriction)*e.lastZ,e.lastX=s,e.lastY=i,e.lastZ=r,(e.y>10||!e.isAlive)&&t.push(e)}for(const e of t)e.isEmitter,this._particles.splice(this._particles.indexOf(e),1),e.dispose()}satisfyConstraints(){}accumulateForces(){for(const t of this._particles);}get particles(){return this._particles}get hasIgnited(){return this._hasIgnited}randomBoolean(t){return Math.random()<t}get roomObjectSpriteId(){return this._roomObjectSpriteId}}jN.CONE=\"cone\",jN.PLANE=\"plane\",jN.SPHERE=\"sphere\";class kN{constructor(t){this._emitters=void 0,this._visualization=void 0,this._size=void 0,this._canvasId=-1,this._offsetY=void 0,this._currentEmitter=void 0,this._canvasTexture=void 0,this._roomSprite=void 0,this._hasIgnited=!1,this._centerX=0,this._centerY=0,this._scaleMultiplier=1,this._blackOverlay=void 0,this._blackOverlayAlphaTransform=void 0,this._particleColorTransform=void 0,this._identityMatrix=void 0,this._translationMatrix=void 0,this._blend=1,this._bgColor=4278190080,this._emptySprite=void 0,this._isDone=!1,this._emitters=new U,this._visualization=t,this._blackOverlayAlphaTransform=new F.a,this._blackOverlayAlphaTransform.alpha=1,this._particleColorTransform=new F.a,this._identityMatrix=new j.d,this._translationMatrix=new j.d}dispose(){for(const t of this._emitters.getValues())t.dispose();this._emitters=null,this._canvasTexture&&(this._canvasTexture.destroy(),this._canvasTexture=null),this._blackOverlay&&(this._blackOverlay.destroy(),this._blackOverlay=null),this._emptySprite&&(this._emptySprite.destroy(),this._emptySprite=null),this._blackOverlayAlphaTransform=null,this._particleColorTransform=null,this._identityMatrix=null,this._translationMatrix=null}reset(){this._currentEmitter&&this._currentEmitter.reset(),this._currentEmitter=null,this._hasIgnited=!1,this._isDone=!1,this.updateCanvas()}setAnimation(t){this._currentEmitter&&this._currentEmitter.reset(),this._currentEmitter=this._emitters.getValue(t),this._hasIgnited=!1,this._isDone=!1,this.updateCanvas()}updateCanvas(){if(this._currentEmitter&&-1!==this._canvasId&&(this._roomSprite=this._visualization.getSprite(this._canvasId),this._roomSprite&&this._roomSprite.texture)){if(this._roomSprite.width<=1||this._roomSprite.height<=1)return;!this._canvasTexture||this._canvasTexture.width===this._roomSprite.width&&this._canvasTexture.height===this._roomSprite.height||(this._canvasTexture=null),this.clearCanvas(),this._centerX=-this._roomSprite.offsetX,this._centerY=-this._roomSprite.offsetY,this._roomSprite.texture=this._canvasTexture}}getLayerYOffset(t,e,s){return this._currentEmitter&&this._currentEmitter.roomObjectSpriteId===s?this._currentEmitter.y*this._scaleMultiplier:0}controlsSprite(t){return!!this._currentEmitter&&this._currentEmitter.roomObjectSpriteId==t}updateSprites(){this._currentEmitter&&this._roomSprite&&(this._canvasTexture&&this._roomSprite.texture!==this._canvasTexture&&(this._roomSprite.texture=this._canvasTexture),this._hasIgnited&&this._currentEmitter.roomObjectSpriteId>=0&&(this._visualization.getSprite(this._currentEmitter.roomObjectSpriteId).visible=!1))}updateAnimation(){if(!this._currentEmitter||!this._roomSprite||this._isDone)return;!this._hasIgnited&&this._currentEmitter.hasIgnited&&(this._hasIgnited=!0);const t=this._offsetY*this._scaleMultiplier;if(this._currentEmitter.update(),this._hasIgnited){this._currentEmitter.roomObjectSpriteId>=0&&(this._visualization.getSprite(this._currentEmitter.roomObjectSpriteId).visible=!1),this._canvasTexture||this.updateCanvas(),this.clearCanvas();for(const e of this._currentEmitter.particles){const s=this._centerX+10*(e.x-e.z)/10*this._scaleMultiplier,r=this._centerY-t+10*(e.y+(e.x+e.z)/2)/10*this._scaleMultiplier,n=e.getAsset();if(n&&n.texture)if(e.fade&&e.alphaMultiplier<1){this._translationMatrix.identity(),this._translationMatrix.translate(s+n.offsetX,r+n.offsetY);const t=new W(n.texture);this._particleColorTransform.alpha=e.alphaMultiplier,t.filters=[this._particleColorTransform],lL.instance.renderer.render(t,{renderTexture:this._canvasTexture,transform:this._translationMatrix,clear:!1})}else{const t=new k(s+n.offsetX,r+n.offsetY),e=new W(n.texture);e.x=t.x,e.y=t.y,lL.instance.renderer.render(e,{renderTexture:this._canvasTexture,clear:!1})}else{const t=new W(i.t.WHITE);t.tint=16777215,t.x=s-1,t.y=r-1,t.width=2,t.height=2,lL.instance.renderer.render(t,{renderTexture:this._canvasTexture,clear:!1})}}if(!this._currentEmitter.particles.length)return void(this._isDone=!0)}}parseData(t){this._size=t.size,this._canvasId=void 0!==t.canvasId?t.canvasId:-1,this._offsetY=void 0!==t.offsetY?t.offsetY:10,this._scaleMultiplier=this._size/64,this._blend=void 0!==t.blend?t.blend:1,this._blend=Math.min(this._blend,1),this._blackOverlayAlphaTransform.alpha=this._blend;const e=void 0!==t.bgColor?t.bgColor:\"0\";if(this._bgColor=parseInt(e,16)||0,t.emitters&&t.emitters.length)for(const s of t.emitters){const t=s.id,e=s.name,i=s.spriteId,r=new jN(e,i);this._emitters.add(t,r);const n=s.maxNumParticles,a=s.particlesPerFrame,o=void 0!==s.burstPulse?s.burstPulse:1,h=s.fuseTime,_=s.simulation.force,d=s.simulation.direction,u=s.simulation.gravity,c=s.simulation.airFriction,l=s.simulation.shape,g=s.simulation.energy;for(const E of s.particles){const t=E.lifeTime,e=E.isEmitter||!1,s=E.fade||!1,i=[];for(const r of E.frames)i.push(this._visualization.asset.getAsset(r));r.configureParticle(t,e,i,s)}r.setup(n,a,_,new te(0,d,0),u,c,l,g,h,o)}}_Str_17988(t){let e=0;t._emitters&&t._currentEmitter&&(e=t._emitters.getKey(t._emitters.getValues().indexOf(t._currentEmitter))),this.setAnimation(e),this._currentEmitter&&this._currentEmitter.copyStateFrom(t._currentEmitter,t._size/this._size),this._canvasTexture=null}clearCanvas(){this._emptySprite||(this._emptySprite=new W(i.t.EMPTY),this._emptySprite.alpha=0),this._canvasTexture?lL.instance.renderer.render(this._emptySprite,{renderTexture:this._canvasTexture,clear:!0}):this._canvasTexture=i.o.create({width:this._roomSprite.width,height:this._roomSprite.height})}}class zN extends NN{constructor(){super(...arguments),this._particleSystems=void 0,this._currentParticleSystem=void 0}dispose(){if(super.dispose(),this._currentParticleSystem=null,this._particleSystems){for(const t of this._particleSystems.getValues())t.dispose();this._particleSystems=null}}updateObject(t,e){if(super.updateObject(t,e)){if(this._particleSystems){if(t!==this._scale||this._particleSystems.getValue(t)!==this._currentParticleSystem){const e=this._particleSystems.getValue(t);e._Str_17988(this._currentParticleSystem),this._currentParticleSystem&&this._currentParticleSystem.reset(),this._currentParticleSystem=e}}else this._Str_18684(),this._particleSystems?this._currentParticleSystem=this._particleSystems.getValue(t):l.log(\"ERROR Particle systems could not be read! \"+this.object.type);return!0}return!1}updateSprites(t,e,s){super.updateSprites(t,e,s),this._currentParticleSystem&&this._currentParticleSystem.updateSprites()}updateAnimation(t){return this._currentParticleSystem&&this._currentParticleSystem.updateAnimation(),super.updateAnimation(t)}setAnimation(t){this._currentParticleSystem&&this._currentParticleSystem.setAnimation(t),super.setAnimation(t)}getLayerYOffset(t,e,s){return this._currentParticleSystem&&this._currentParticleSystem.controlsSprite(s)?this._currentParticleSystem.getLayerYOffset(t,e,s):super.getLayerYOffset(t,e,s)}_Str_18684(){if(!this.object||!this.object.model)return!1;const t=this.object.model.getValue(rt.FURNITURE_FIREWORKS_DATA);if(!t||!t.length)return!1;this._particleSystems=new U;for(const e of t){const t=e.size,s=new kN(this);s.parseData(e),this._particleSystems.add(t,s)}return!0}}class YN extends zN{constructor(){super(...arguments),this._packetType=0,this._ribbonType=0,this._lastAnimationId=0}update(t,e,s,i){this.updatePresentWrap(),super.update(t,e,s,i)}updatePresentWrap(){if(!this.object)return;const t=this.object.model.getValue(rt.FURNITURE_EXTRAS),e=parseInt(t),s=Math.floor(e/1e3),i=e%1e3;this._packetType=s>YN.MAX_PACKET_TYPE_VALUE?0:s,this._ribbonType=i>YN.MAX_RIBBON_TYPE_VALUE?0:i}getFrameNumber(t,e){if(this._lastAnimationId===YN.PRESENT_DEFAULT_STATE){if(e<=1)return this._packetType;if(2===e)return this._ribbonType}return super.getFrameNumber(t,e)}getSpriteAssetName(t,e){const s=this.getValidSize(t);let i=this._type,r=\"\";r=e<this.spriteCount-1?String.fromCharCode(\"a\".charCodeAt(0)+e):\"sd\";const n=this.getFrameNumber(t,e);return i=i+\"_\"+s+\"_\"+r+\"_\"+this.direction,i=i+\"_\"+n,i}setAnimation(t){this._lastAnimationId=t,super.setAnimation(t)}}YN.PRESENT_DEFAULT_STATE=0,YN.MAX_PACKET_TYPE_VALUE=9,YN.MAX_RIBBON_TYPE_VALUE=11;class WN extends SN{constructor(){super(...arguments),this._packetType=0,this._ribbonType=0}update(t,e,s,i){this.updatePresentWrap(),super.update(t,e,s,i)}updatePresentWrap(){if(!this.object)return;const t=this.object.model.getValue(rt.FURNITURE_EXTRAS),e=parseInt(t);this._packetType=Math.floor(e/1e3),this._ribbonType=e%1e3}getFrameNumber(t,e){return e<=1?this._packetType:this._ribbonType}getSpriteAssetName(t,e){const s=this.getValidSize(t);let i=this._type,r=\"\";r=e<this.spriteCount-1?String.fromCharCode(\"a\".charCodeAt(0)+e):\"sd\";const n=this.getFrameNumber(t,e);return i=i+\"_\"+s+\"_\"+r+\"_\"+this.direction,i=i+\"_\"+n,i}}class KN extends NN{constructor(){super(),this._color1=void 0,this._color2=void 0,this._badgeAssetNameNormalScale=void 0,this._badgeAssetNameSmallScale=void 0,this._color1=KN.DEFAULT_COLOR_1,this._color2=KN.DEFAULT_COLOR_2,this._badgeAssetNameNormalScale=\"\",this._badgeAssetNameSmallScale=\"\"}updateModel(t){const e=super.updateModel(t);if(\"\"===this._badgeAssetNameNormalScale){const t=this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME);t&&(this._badgeAssetNameNormalScale=t,this._badgeAssetNameSmallScale=this._badgeAssetNameNormalScale+\"_32\")}const s=this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_1);this._color1=s||KN.DEFAULT_COLOR_1;const i=this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_2);return this._color2=i||KN.DEFAULT_COLOR_2,e}getLayerColor(t,e,s){switch(this.getLayerTag(t,this._direction,e)){case KN.PRIMARY_COLOUR_SPRITE_TAG:return this._color1;case KN.SECONDARY_COLOUR_SPRITE_TAG:return this._color2}return super.getLayerColor(t,e,s)}getSpriteAssetName(t,e){return this.getLayerTag(t,this._direction,e)===KN.BADGE?32===t?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale:super.getSpriteAssetName(t,e)}getLibraryAssetNameForSprite(t,e){return e.tag===KN.BADGE?\"%group.badge.url%\"+e.libraryAssetName.replace(\"badge_\",\"\"):super.getLibraryAssetNameForSprite(t,e)}}KN.PRIMARY_COLOUR_SPRITE_TAG=\"COLOR1\",KN.SECONDARY_COLOUR_SPRITE_TAG=\"COLOR2\",KN.BADGE=\"BADGE\",KN.DEFAULT_COLOR_1=15658734,KN.DEFAULT_COLOR_2=4934475;class XN extends bN{constructor(){super(...arguments),this._color1=void 0,this._color2=void 0}updateModel(t){const e=super.updateModel(t);if(!this.hasThumbnailImage){const t=this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME);t&&t.length&&this.setThumbnailImages(this.getBitmapAsset(t))}const s=this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_1);this._color1=s||XN.DEFAULT_COLOR_1;const i=this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_2);return this._color2=i||XN.DEFAULT_COLOR_2,e}getLayerColor(t,e,s){switch(this.getLayerTag(t,this._direction,e)){case XN.PRIMARY_COLOUR_SPRITE_TAG:return this._color1;case XN.SECONDARY_COLOUR_SPRITE_TAG:return this._color2}return super.getLayerColor(t,e,s)}getLibraryAssetNameForSprite(t,e){return e.tag===XN.THUMBNAIL&&this.object&&this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME)?\"%group.badge.url%\"+this.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME):super.getLibraryAssetNameForSprite(t,e)}getBitmapAsset(t){const e=this.asset.getAsset(t);return e&&e.texture?e.texture:null}}XN.PRIMARY_COLOUR_SPRITE_TAG=\"COLOR1\",XN.SECONDARY_COLOUR_SPRITE_TAG=\"COLOR2\",XN.DEFAULT_COLOR_1=15658734,XN.DEFAULT_COLOR_2=4934475;class qN extends NN{constructor(){super(),this._stateQueue=void 0,this._running=void 0,this._stateQueue=[],this._running=!1}setAnimation(t){if(-1===t&&!this._running)return this._running=!0,this._stateQueue=[],this._stateQueue.push(qN.ANIMATION_ID_START_ROLL),void this._stateQueue.push(qN.ANIMATION_ID_ROLL);if(t>0&&t<=qN.ANIMATION_ID_OFFSET_SLOW1){if(this._running)return this._running=!1,this._stateQueue=[],this._stateQueue.push(qN.ANIMATION_ID_OFFSET_SLOW1+t),this._stateQueue.push(qN.ANIMATION_ID_OFFSET_SLOW2+t),void this._stateQueue.push(t);super.setAnimation(t)}}updateAnimation(t){return this.getLastFramePlayed(1)&&this.getLastFramePlayed(2)&&this.getLastFramePlayed(3)&&this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(t)}}qN.ANIMATION_ID_OFFSET_SLOW1=10,qN.ANIMATION_ID_OFFSET_SLOW2=20,qN.ANIMATION_ID_START_ROLL=31,qN.ANIMATION_ID_ROLL=32;class QN extends MN{constructor(){super(...arguments),this._needsTransform=!0}transformGifTextures(t){if(!this._gifCollection)return;const e=this._gifCollection.textures;if(e.length){for(let s=0;s<e.length;s++){const r=e[s];if(!r)continue;if(!this.getAsset(`${this._imageUrl}_${s}`))continue;const n=1.1,a=new j.d,o=t.width/r.width;switch(this.direction){case 2:a.a=o,a.b=-.5*o,a.c=0,a.d=o*n,a.tx=0,a.ty=.5*o*r.width;break;case 0:case 4:a.a=o,a.b=.5*o,a.c=0,a.d=o*n,a.tx=0,a.ty=0;break;default:a.a=o,a.b=0,a.c=0,a.d=o,a.tx=0,a.ty=0}const h=new W(r),_=i.o.create({width:t.width+a.tx,height:t.height+a.ty});lL.instance.renderer.render(h,{renderTexture:_,clear:!0,transform:a}),this.asset.disposeAsset(`${this._imageUrl}_${s}`),this.asset.addAsset(`${this._imageUrl}_${s}`,_,!0,t.x,t.y,t.flipH,t.flipV)}this._needsTransform=!1}}generateTransformedImage(t,e){const s=new j.d,r=e.width/t.width;switch(this.direction){case 2:s.a=r,s.b=-.5*r,s.c=0,s.d=1.1*r,s.tx=0,s.ty=.5*r*t.width;break;case 0:case 4:s.a=r,s.b=.5*r,s.c=0,s.d=1.1*r,s.tx=0,s.ty=0;break;default:s.a=r,s.b=0,s.c=0,s.d=r,s.tx=0,s.ty=0}const n=new W(t),a=i.o.create({width:e.width+s.tx,height:e.height+s.ty});lL.instance.renderer.render(n,{renderTexture:a,clear:!0,transform:s}),this.asset.disposeAsset(`${this._imageUrl}_0`),this.asset.addAsset(`${this._imageUrl}_0`,a,!0,n.x,n.y,e.flipH,e.flipV),this._needsTransform=!1}checkAndCreateImageForCurrentState(){super.checkAndCreateImageForCurrentState(),this._needsTransform=!0}getSpriteAssetName(t,e){return this.getLayerTag(t,this._direction,e)===DN.BRANDED_IMAGE&&this._imageUrl?(this._needsTransform&&(this._isAnimated?this.transformGifTextures(this.getAsset(super.getSpriteAssetName(t,e))):this.generateTransformedImage(lL.instance.core.asset.getTexture(this._imageUrl),this.getAsset(super.getSpriteAssetName(t,e)))),`${this._imageUrl}_${this.getFrameNumber(t,e)}`):super.getSpriteAssetName(t,e)}}class ZN extends ON{constructor(){super(),this._avatarData=void 0,this._avatarData=new hN}dispose(){super.dispose(),this._avatarData&&(this._avatarData.dispose(),this._avatarData=null)}createAvatarImage(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return this._avatarData.createAvatarImage(t,e,s,i,r)}set avatarManager(t){this._avatarData.avatarManager=t}}class JN extends SN{constructor(){super(),this._data=void 0,this._mannequinScale=void 0,this._figure=void 0,this._gender=void 0,this._dynamicAssetName=void 0,this._needsUpdate=void 0,this._placeHolderFigure=void 0,this._disposed=void 0,this._mannequinScale=-1,this._figure=null,this._gender=null,this._dynamicAssetName=null,this._needsUpdate=!1,this._placeHolderFigure=\"hd-99999-99998\",this._disposed=!1}initialize(t){return t instanceof ZN&&super.initialize(t)}dispose(){this._disposed||(this._disposed=!0,this._dynamicAssetName&&this.asset&&(this.asset.disposeAsset(this._dynamicAssetName),this._dynamicAssetName=null),super.dispose())}updateObject(t,e){const s=super.updateObject(t,e);return s&&this._mannequinScale!==t&&(this._mannequinScale=t,this.updateAvatar()),s}updateModel(t){let e=super.updateModel(t);if(e){const t=this.object.model.getValue(rt.FURNITURE_MANNEQUIN_FIGURE)||null;t&&(this._figure=t+\".\"+this._placeHolderFigure,this._gender=this.object.model.getValue(rt.FURNITURE_MANNEQUIN_GENDER)||null,this.updateAvatar())}return e=e||this._needsUpdate,this._needsUpdate=!1,e}updateAvatar(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.avatarExists()||t){const t=this._data.createAvatarImage(this._figure,this._mannequinScale,this._gender,this);t&&(t.setDirection(Gt.FULL,this.direction),this._dynamicAssetName&&this.asset.disposeAsset(this._dynamicAssetName),this.asset.addAsset(this.getAvatarAssetName(),t.getImage(Gt.FULL,!1,1,!1),!0),this._dynamicAssetName=this.getAvatarAssetName(),this._needsUpdate=!0,t.dispose())}}avatarExists(){return this._figure&&null!==this.getAsset(this.getAvatarAssetName())}getAvatarAssetName(){return\"mannequin_\"+this._figure+\"_\"+this._mannequinScale+\"_\"+this.direction+\"_\"+this.object.id}resetFigure(t){t===this._figure&&this.updateAvatar(!0)}getSpriteAssetName(t,e){const s=this.getLayerTag(t,this.direction,e);return this._figure&&s===JN.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists()?this.getAvatarAssetName():super.getSpriteAssetName(t,e)}getLayerXOffset(t,e,s){return this.getLayerTag(t,e,s)===JN.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists()?-this.getSprite(s).width/2:super.getLayerXOffset(t,e,s)}getLayerYOffset(t,e,s){return this.getLayerTag(t,e,s)===JN.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists()?-this.getSprite(s).height:super.getLayerYOffset(t,e,s)}get disposed(){return this._disposed}}JN.AVATAR_IMAGE_SPRITE_TAG=\"avatar_image\";class $N extends NN{constructor(){super(),this._animPhaseIndex=void 0,this._animDirectionIndex=void 0,this._animSpeedIndex=void 0,this._animFactorIndex=void 0,this._animOffsetIndex=void 0,this._animOffsetIndex=[]}updateAnimation(t){this._animSpeedIndex||this.initItems(t);let e=this.getSprite(2);return e&&(this._animOffsetIndex[0]=this.getNewPoint(t,0)),e=this.getSprite(3),e&&(this._animOffsetIndex[1]=this.getNewPoint(t,1)),super.updateAnimation(t)}getNewPoint(t,e){let s=0,i=this._animPhaseIndex[e],r=this._animDirectionIndex[e];const n=this._animSpeedIndex[e],a=this._animFactorIndex[e];let o=1;32==t?(s=$N.AREA_DIAMETER_SMALL,o=.5):s=$N.AREA_DIAMETER_LARGE;const h=i+r*n;Math.abs(h)>=s&&(r>0?i-=h-s:i+=-s-h,r=-r,this._animDirectionIndex[e]=r);const _=(s-Math.abs(i))*a;let d=r*Math.sin(Math.abs(i/4))*_;return r>0?d-=_:d+=_,i+=r*n*o,this._animPhaseIndex[e]=i,0==Math.trunc(d)&&(this._animFactorIndex[e]=this.getRandomAmplitudeFactor()),new k(i,d)}initItems(t){let e;e=32===t?$N.AREA_DIAMETER_SMALL:$N.AREA_DIAMETER_LARGE,this._animPhaseIndex=[],this._animPhaseIndex.push(Math.random()*e*1.5),this._animPhaseIndex.push(Math.random()*e*1.5),this._animDirectionIndex=[],this._animDirectionIndex.push(1),this._animDirectionIndex.push(-1),this._animSpeedIndex=[],this._animSpeedIndex.push($N.ANIM_SPEED_FAST),this._animSpeedIndex.push($N.ANIM_SPEED_SLOW),this._animFactorIndex=[],this._animFactorIndex.push(this.getRandomAmplitudeFactor()),this._animFactorIndex.push(this.getRandomAmplitudeFactor())}getLayerXOffset(t,e,s){return 2!==s&&3!==s||2!=this._animOffsetIndex.length?super.getLayerXOffset(t,e,s):this._animOffsetIndex[s-2].x}getLayerYOffset(t,e,s){return 2!==s&&3!==s||2!=this._animOffsetIndex.length?super.getLayerYOffset(t,e,s):this._animOffsetIndex[s-2].y}getRandomAmplitudeFactor(){return 30*Math.random()/100+.15}}$N.UPDATE_INTERVAL=2,$N.AREA_DIAMETER_SMALL=15,$N.AREA_DIAMETER_LARGE=31,$N.ANIM_SPEED_FAST=2,$N.ANIM_SPEED_SLOW=1;class ty{constructor(t,e,s,i,r,n){this._name=void 0,this._index=void 0,this._radius=void 0,this._arcSpeed=void 0,this._arcOffset=void 0,this._height=void 0,this._position=void 0,this._positionVector=void 0,this._children=void 0,this._name=t,this._index=e,this._radius=s,this._arcSpeed=i*Math.PI*2/360,this._arcOffset=r*Math.PI*2/360,this._height=n,this._position=0,this._positionVector=new dt(0,0,0),this._children=[]}dispose(){for(;this._children.length>0;){this._children.shift().dispose()}}update(t,e,s){this._position=this._position+this._arcSpeed/ty.SYSTEM_TEMPO,t[this._index]=this.getPositionVector(e,s);for(const i of this._children)i.update(t,this._positionVector,s)}getPositionVector(t,e){const s=this._radius*Math.cos(this._position+this._arcOffset),i=this._radius*Math.sin(this._position+this._arcOffset);return this._positionVector.x=e/2*(s-i),this._positionVector.y=(i+s)*(e/2)*.5-this._height*(e/2),this._positionVector.z=-Math.trunc(4*(s+i)-.7),t&&this._positionVector.add(t),this._positionVector}addChild(t){this._children.indexOf(t)>=0||this._children.push(t)}hasChild(t){return!!this.getChild(t)}getChild(t){for(const e of this._children){if(e.name===t)return e;if(e.hasChild(t))return e.getChild(t)}return null}get name(){return this._name}}ty.SYSTEM_TEMPO=30;class ey extends NN{constructor(){super(),this._planetIndex=void 0,this._planetNameIndex=void 0,this._offsetArray=void 0,this._rootPosition=void 0,this._offsetArray=[],this._rootPosition=new dt}dispose(){if(this._planetIndex)for(;this._planetIndex.length>0;){this._planetIndex.shift().dispose()}this._planetIndex=null,this._planetNameIndex=null}updateAnimation(t){if(!this._planetIndex&&this.spriteCount>0&&!this.processPlanets())return 0;if(this._planetIndex){for(const e of this._planetIndex)e.update(this._offsetArray,this._rootPosition,t);return super.updateAnimation(t)}return 0}getLayerXOffset(t,e,s){return this._offsetArray[s]?this._offsetArray[s].x:super.getLayerXOffset(t,e,s)}getLayerYOffset(t,e,s){return this._offsetArray[s]?this._offsetArray[s].y:super.getLayerYOffset(t,e,s)}getLayerZOffset(t,e,s){return this._offsetArray[s]?this._offsetArray[s].z:super.getLayerZOffset(t,e,s)}processPlanets(){if(!this.object||!this.object.model)return;const t=this.object.model.getValue(rt.FURNITURE_PLANETSYSTEM_DATA);if(!t)return!1;this._planetIndex=[],this._planetNameIndex=[];for(const e of t){this.getSprite(e.id)&&this.addPlanet(e.name,e.id,e.parent,e.radius||0,e.arcSpeed||0,e.arcOffset||0,e.height||0)}return!0}addPlanet(t,e,s,i,r,n,a){if(!this._planetIndex)return;const o=new ty(t,e,i,r,n,a),h=this.getPlanet(s);h?h.addChild(o):(this._planetIndex.push(o),this._planetNameIndex.push(t))}getPlanet(t){for(const e of this._planetIndex){if(e.name===t)return e;if(e.hasChild(t))return e.getChild(t)}return null}}class sy extends NN{}class iy extends NN{constructor(){super(),this._stateQueue=void 0,this._animationCounter=void 0,this._stateQueue=[],this._animationCounter=-1}setAnimation(t){return t===iy.ANIMATION_ID_ROLL_ONCE&&(this._stateQueue=[],this._stateQueue.push(iy.ANIMATION_ID_NORMAL),this._animationCounter=iy.ANIMATION_DURATION),super.setAnimation(t)}updateAnimation(t){return this._animationCounter>0&&this._animationCounter--,this._animationCounter||this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(t)}usesAnimationResetting(){return!0}}iy.ANIMATION_ID_ROLL=3,iy.ANIMATION_ID_ROLL_ONCE=2,iy.ANIMATION_ID_NORMAL=1,iy.ANIMATION_DURATION=15;class ry extends NN{usesAnimationResetting(){return!0}}class ny extends DN{constructor(){super(...arguments),this._imageOffset=void 0}imageReady(t,e){super.imageReady(t,e),t&&this.setImageOffset(t.width,t.height)}setImageOffset(t,e){const s=new EN;s.setDirection(1,0,-e),s.setDirection(3,0,0),s.setDirection(5,-t,0),s.setDirection(7,-t,-e),s.setDirection(4,-t/2,-e/2),this._imageOffset=s}getLayerXOffset(t,e,s){if(this._imageOffset){const t=this._imageOffset.getXOffset(e,0);if(void 0!==t)return t+this._offsetX}return super.getLayerXOffset(t,e,s)+this._offsetX}getLayerYOffset(t,e,s){if(this._imageOffset){const t=this._imageOffset.getYOffset(e,0);if(void 0!==t)return t+this._offsetY}return super.getLayerYOffset(t,e,s)+this._offsetY}getLayerZOffset(t,e,s){return super.getLayerZOffset(t,e,s)+-this._offsetZ}getLayerIgnoreMouse(t,e,s){return!0}}class ay extends NN{getFrameNumber(t,e){const s=this.getLayerTag(t,this.direction,e),i=this.object.getState(0);switch(s){case ay.ONES_SPRITE:return Math.floor(i%10);case ay.TENS_SPRITE:return Math.floor(i/10%10);case ay.HUNDREDS_SPRITE:return Math.floor(i/100%10);case ay.THOUSANDS_SPRITE:return Math.floor(i/1e3%10);default:return super.getFrameNumber(t,e)}}}ay.ONES_SPRITE=\"ones_sprite\",ay.TENS_SPRITE=\"tens_sprite\",ay.HUNDREDS_SPRITE=\"hundreds_sprite\",ay.THOUSANDS_SPRITE=\"thousands_sprite\";class oy extends NN{constructor(){super(...arguments),this._internalFrameIncreaseCounter=0}updateAnimations(t){return this._internalFrameIncreaseCounter=this._internalFrameIncreaseCounter+this.object.model.getValue(rt.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED),this._frameIncrease=this._internalFrameIncreaseCounter,this._internalFrameIncreaseCounter=this._internalFrameIncreaseCounter-this._frameIncrease,super.updateAnimations(t)}}class hy extends SN{getLayerColor(t,e,s){return this._data?this._data.getLayerColor(t,e,s):IN.DEFAULT_COLOR}}class _y extends NN{constructor(){super(),this._stateQueue=void 0,this._running=void 0,this._stateQueue=[],this._running=!1,super.setAnimation(_y.ANIMATION_ID_OFF)}setAnimation(t){if(0===t&&!this._running)return this._running=!0,this._stateQueue=[],this._stateQueue.push(_y.ANIMATION_ID_START_ROLL),void this._stateQueue.push(_y.ANIMATION_ID_ROLL);if(t>0&&t<=_y.ANIMATION_ID_OFFSET_SLOW2){if(this._running)return this._running=!1,this._stateQueue=[],2===this.direction?(this._stateQueue.push(_y.ANIMATION_ID_OFFSET_SLOW1+5),this._stateQueue.push(_y.ANIMATION_ID_OFFSET_SLOW2+5)):(this._stateQueue.push(_y.ANIMATION_ID_OFFSET_SLOW1+t),this._stateQueue.push(_y.ANIMATION_ID_OFFSET_SLOW2+t)),void this._stateQueue.push(_y.ANIMATION_ID_OFF);super.setAnimation(_y.ANIMATION_ID_OFF)}}updateAnimation(t){return this.getLastFramePlayed(11)&&this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(t)}}_y.ANIMATION_ID_OFFSET_SLOW1=20,_y.ANIMATION_ID_OFFSET_SLOW2=10,_y.ANIMATION_ID_START_ROLL=31,_y.ANIMATION_ID_ROLL=32,_y.ANIMATION_ID_OFF=30;class dy extends NN{updateObject(t,e){return super.updateObject(t,e),!0}getFrameNumber(t,e){const s=this.object.model.getValue(rt.FURNITURE_VOTE_COUNTER_COUNT);switch(this.getLayerTag(t,this.direction,e)){case dy.ONES_SPRITE:return s%10;case dy.TENS_SPRITE:return s/10%10;case dy.HUNDREDS_SPRITE:return s/100%10;default:return super.getFrameNumber(t,e)}}getLayerAlpha(t,e,s){if(this.object.model.getValue(rt.FURNITURE_VOTE_COUNTER_COUNT)===dy.HIDE_COUNTER_SCORE){switch(this.getLayerTag(t,e,s)){case dy.ONES_SPRITE:case dy.TENS_SPRITE:case dy.HUNDREDS_SPRITE:return 0}}return super.getLayerAlpha(t,e,s)}}dy.ONES_SPRITE=\"ones_sprite\",dy.TENS_SPRITE=\"tens_sprite\",dy.HUNDREDS_SPRITE=\"hundreds_sprite\",dy.HIDE_COUNTER_SCORE=-1;class uy extends NN{getFrameNumber(t,e){const s=this.object.model.getValue(rt.FURNITURE_VOTE_MAJORITY_RESULT);switch(this.getLayerTag(t,this.direction,e)){case uy.ONES_SPRITE:return s%10;case uy.TENS_SPRITE:return s/10%10;case uy.HUNDREDS_SPRITE:return s/100%10;default:return super.getFrameNumber(t,e)}}getLayerAlpha(t,e,s){const i=this.object.model.getValue(rt.FURNITURE_VOTE_MAJORITY_RESULT);if(-1!==uy.HIDE_RESULTS_STATES.indexOf(this.object.getState(0))||i===uy.HIDE_RESULTS_VALUE){switch(this.getLayerTag(t,e,s)){case uy.ONES_SPRITE:case uy.TENS_SPRITE:case uy.HUNDREDS_SPRITE:return 0}}return super.getLayerAlpha(t,e,s)}}uy.ONES_SPRITE=\"ones_sprite\",uy.TENS_SPRITE=\"tens_sprite\",uy.HUNDREDS_SPRITE=\"hundreds_sprite\",uy.HIDE_RESULTS_STATES=[-1,1],uy.HIDE_RESULTS_VALUE=-1;class cy extends NN{}class ly extends wN{getThumbnailURL(){if(!this.object)return null;const t=this.object.model.getValue(rt.FURNITURE_DATA);return t&&t[ly.THUMBNAIL_URL]||null}}ly.THUMBNAIL_URL=\"THUMBNAIL_URL\";class gy{constructor(t){this._sprite=void 0,this._texture=void 0,this._amount=void 0,this._alpha=void 0,this._sprite=new W(t),this._texture=null,this._amount=-1,this._alpha=0}renderBubble(t){if(!this._sprite||this._amount===t)return null;const e=new H;e.addChild(this._sprite);const s=new UA.a(\"+\"+t,{fontFamily:\"Arial\",fontSize:9,fill:16777215,align:\"center\"});return s.anchor.x=.5,s.x=this._sprite.width/2,s.y=19,e.addChild(s),this._texture?lL.instance.renderer.render(e,{renderTexture:this._texture,clear:!0}):this._texture=At.generateTexture(e),this._texture}get amount(){return this._amount}set amount(t){this._amount=t}get alpha(){return this._alpha}set alpha(t){this._alpha=t}}class Ey extends vN{constructor(t,e){super(t,e),this._posturesToAnimations=void 0,this._gesturesToAnimations=void 0,this._defaultPosture=void 0,this._posturesToAnimations=new Map,this._gesturesToAnimations=new Map,this._defaultPosture=null}processPostures(t){if(!t)return!1;if(t.defaultPosture&&t.defaultPosture.length&&(this._defaultPosture=t.defaultPosture),!t.postures)return!1;for(const e of t.postures)this._posturesToAnimations.get(e.id)||(null===this._defaultPosture&&(this._defaultPosture=e.id),this._posturesToAnimations.set(e.id,e.animationId));return void 0!==this._posturesToAnimations.get(this._defaultPosture)}processGestures(t){if(!t)return!1;for(const e of t)this._gesturesToAnimations.get(e.id)||this._gesturesToAnimations.set(e.id,e.animationId);return!0}postureToAnimation(t){return this._posturesToAnimations.get(t)||(t=this._defaultPosture),this._posturesToAnimations.get(t)}getGestureDisabled(t){return\"ded\"===t}gestureToAnimation(t){return this._gesturesToAnimations.get(t)?this._gesturesToAnimations.get(t):Ey.DEFAULT}animationToPosture(t,e){if(t>=0&&t<this._posturesToAnimations.size){const e=this._posturesToAnimations.keys();for(;;){const s=e.next();if(s.done)return null;if(t<=0)return s.value;--t}}return e?this._defaultPosture:null}animationToGesture(t){if(t>=0&&t<this._gesturesToAnimations.size){const e=this._gesturesToAnimations.keys();for(;;){const s=e.next();if(s.done)return null;if(t<=0)return s.value;--t}}return null}getGestureForAnimationId(t){for(const e of this._gesturesToAnimations.keys())if(this._gesturesToAnimations.get(e)===t)return e;return null}get totalPostures(){return this._posturesToAnimations.size}get totalGestures(){return this._gesturesToAnimations.size}}Ey.DEFAULT=-1;class py extends AN{constructor(){super(),this._isAllowedToTurnHead=void 0,this._isAllowedToTurnHead=!0}createSizeData(t,e,s){return t>1?new Ey(e,s):new vN(e,s)}defineVisualizations(t){return this._isAllowedToTurnHead=!0,super.defineVisualizations(t)}processVisualElement(t,e,s){if(!t||!e||!s)return!1;switch(e){case\"postures\":if(!(t instanceof Ey)||!t.processPostures(s))return!1;break;case\"gestures\":if(!(t instanceof Ey)||!t.processGestures(s))return!1;break;default:if(!super.processVisualElement(t,e,s))return!1}return!0}postureToAnimation(t,e){const s=this.getSizeData(t);return s?s.postureToAnimation(e):Ey.DEFAULT}getGestureDisabled(t,e){const s=this.getSizeData(t);return!!s&&s.getGestureDisabled(e)}gestureToAnimation(t,e){const s=this.getSizeData(t);return s?s.gestureToAnimation(e):Ey.DEFAULT}animationToPosture(t,e,s){const i=this.getSizeData(t);return i?i.animationToPosture(e,s):null}animationToGesture(t,e){const s=this.getSizeData(t);return s?s.animationToGesture(e):null}getGestureForAnimationId(t,e){const s=this.getSizeData(t);return s?s.getGestureForAnimationId(e):null}totalPostures(t){const e=this.getSizeData(t);return e?e.totalPostures:0}totalGestures(t){const e=this.getSizeData(t);return e?e.totalGestures:0}get isAllowedToTurnHead(){return this._isAllowedToTurnHead}}class my extends NN{constructor(){for(super(),this._data=void 0,this._posture=void 0,this._gesture=void 0,this._isSleeping=void 0,this._headDirection=void 0,this._headOnly=void 0,this._nonHeadSprites=void 0,this._headSprites=void 0,this._saddleSprites=void 0,this._animationOver=void 0,this._paletteIndex=void 0,this._paletteName=void 0,this._customLayerIds=void 0,this._customPartIds=void 0,this._customPaletteIds=void 0,this._isRiding=void 0,this._color=void 0,this._experience=void 0,this._experienceTimestamp=void 0,this._experienceData=void 0,this._previousAnimationDirection=void 0,this._animationStates=void 0,this._data=null,this._posture=\"\",this._gesture=\"\",this._isSleeping=!1,this._headDirection=-1,this._headOnly=!1,this._nonHeadSprites=[],this._headSprites=[],this._saddleSprites=[],this._animationOver=!1,this._paletteIndex=-1,this._paletteName=\"\",this._customLayerIds=[],this._customPartIds=[],this._customPaletteIds=[],this._isRiding=!1,this._color=16777215,this._experience=0,this._experienceTimestamp=0,this._experienceData=null,this._previousAnimationDirection=-1,this._animationStates=[];this._animationStates.length<my.ANIMATION_INDEX_COUNT;)this._animationStates.push(new mN)}initialize(t){if(!(t instanceof py))return!1;const e=this.getPetAdditionAsset(my.PET_EXPERIENCE_BUBBLE);return e&&(this._experienceData=new gy(e)),super.initialize(t)}dispose(){if(super.dispose(),this._animationStates){for(;this._animationStates.length;){const t=this._animationStates[0];t&&t.dispose(),this._animationStates.pop()}this._animationStates=null}}getAnimationId(t){return t.animationId}update(t,e,s,i){super.update(t,e,s,i),this.updateExperienceBubble(e)}updateExperienceBubble(t){if(this._experienceData&&(this._experienceData.alpha=0,this._experienceTimestamp)){const e=t-this._experienceTimestamp;e<my.EXPERIENCE_BUBBLE_VISIBLE_IN_MS?this._experienceData.alpha=255*Math.sin(e/my.EXPERIENCE_BUBBLE_VISIBLE_IN_MS*Math.PI):this._experienceTimestamp=0;const s=this.getSprite(this.totalSprites-1);if(s){if(this._experienceData.alpha>0){const t=this._experienceData.renderBubble(this._experience);if(t)return s.texture=t,s.offsetX=-20,s.offsetY=-80,s.alpha=this._experienceData.alpha,s.visible=!0,void(s.relativeDepth=-.2)}s.texture=null,s.visible=!1}}}updateModel(t){const e=this.object&&this.object.model;if(!e)return!1;if(this.updateModelCounter===e.updateCounter)return!1;const s=e.getValue(rt.FIGURE_POSTURE),i=e.getValue(rt.FIGURE_GESTURE);this.setPostureAndGesture(s,i);let r=e.getValue(rt.FURNITURE_ALPHA_MULTIPLIER)||null;(null===r||isNaN(r))&&(r=1),this._alphaMultiplier!==r&&(this._alphaMultiplier=r,this._alphaChanged=!0),this._isSleeping=e.getValue(rt.FIGURE_SLEEP)>0;const n=e.getValue(rt.HEAD_DIRECTION);!isNaN(n)&&this._data.isAllowedToTurnHead?this._headDirection=n:this._headDirection=this.object.getDirection().x,this._experience=e.getValue(rt.FIGURE_GAINED_EXPERIENCE),this._experienceTimestamp=e.getValue(rt.FIGURE_EXPERIENCE_TIMESTAMP);const a=e.getValue(rt.PET_PALETTE_INDEX),o=e.getValue(rt.PET_CUSTOM_LAYER_IDS),h=e.getValue(rt.PET_CUSTOM_PARTS_IDS),_=e.getValue(rt.PET_CUSTOM_PALETTE_IDS),d=e.getValue(rt.PET_IS_RIDING),u=e.getValue(rt.PET_HEAD_ONLY),c=e.getValue(rt.PET_COLOR);return a!==this._paletteIndex&&(this._paletteIndex=a,this._paletteName=this._paletteIndex.toString()),this._customLayerIds=o||[],this._customPartIds=h||[],this._customPaletteIds=_||[],this._isRiding=!isNaN(d)&&d>0,this._headOnly=!isNaN(u)&&u>0,isNaN(c)||this._color===c||(this._color=c),this.updateModelCounter=e.updateCounter,!0}updateAnimation(t){if(this.object){const t=this.object.getDirection().x;t!==this._previousAnimationDirection&&(this._previousAnimationDirection=t,this.resetAllAnimationFrames())}return super.updateAnimation(t)}setPostureAndGesture(t,e){t!==this._posture&&(this._posture=t,this.setAnimationForIndex(my.POSTURE_ANIMATION_INDEX,this._data.postureToAnimation(this._scale,t))),this._data.getGestureDisabled(this._scale,t)&&(e=null),e!==this._gesture&&(this._gesture=e,this.setAnimationForIndex(my.GESTURE_ANIMATION_INDEX,this._data.gestureToAnimation(this._scale,e)))}getAnimationStateData(t){return t>=0&&t<this._animationStates.length?this._animationStates[t]:null}setAnimationForIndex(t,e){const s=this.getAnimationStateData(t);s&&this.setSubAnimation(s,e)&&(this._animationOver=!1)}resetAllAnimationFrames(){this._animationOver=!1;let t=this._animationStates.length-1;for(;t>=0;){const e=this._animationStates[t];e&&e.setLayerCount(this.animatedLayerCount),t--}}updateAnimations(t){if(this._animationOver)return 0;let e=!0,s=0,i=0;for(;i<this._animationStates.length;){const r=this._animationStates[i];if(r&&!r.animationOver){s|=this.updateFramesForAnimation(r,t),r.animationOver?(pN.isTransitionFromAnimation(r.animationId)||pN.isTransitionToAnimation(r.animationId))&&(this.setAnimationForIndex(i,r.animationAfterTransitionId),e=!1):e=!1}i++}return this._animationOver=e,s}getSpriteAssetName(t,e){if(this._headOnly&&this.isNonHeadSprite(e))return null;if(this._isRiding&&this._parser3(e))return null;const s=this.totalSprites;if(e<s-my.ADDITIONAL_SPRITE_COUNT){const i=this.getValidSize(t);if(e<s-(1+my.ADDITIONAL_SPRITE_COUNT)){if(e>=ON.LAYER_LETTERS.length)return null;const s=ON.LAYER_LETTERS[e];return 1===i?this._type+\"_icon_\"+s:this._type+\"_\"+i+\"_\"+s+\"_\"+this.getDirection(t,e)+\"_\"+this.getFrameNumber(i,e)}return this._type+\"_\"+i+\"_sd_\"+this.getDirection(t,e)+\"_0\"}return null}getLayerColor(t,e,s){return e<this.totalSprites-my.ADDITIONAL_SPRITE_COUNT?this._color:16777215}getLayerXOffset(t,e,s){let i=super.getLayerXOffset(t,e,s),r=this._animationStates.length-1;for(;r>=0;){const t=this._animationStates[r];if(t){const e=t.getFrame(s);e&&(i+=e.x)}r--}return i}getLayerYOffset(t,e,s){let i=super.getLayerYOffset(t,e,s),r=this._animationStates.length-1;for(;r>=0;){const t=this._animationStates[r];if(t){const e=t.getFrame(s);e&&(i+=e.y)}r--}return i}getLayerZOffset(t,e,s){return this._data?this._data.getLayerZOffset(t,this.getDirection(t,s),s):fN.DEFAULT_ZOFFSET}getDirection(t,e){return this.isHeadSprite(e)?this._data.getValidDirection(t,this._headDirection):this._direction}getFrameNumber(t,e){let s=this._animationStates.length-1;for(;s>=0;){const t=this._animationStates[s];if(t){const s=t.getFrame(e);if(s)return s.id}s--}return super.getFrameNumber(t,e)}isHeadSprite(t){if(void 0===this._headSprites[t]){const e=this._data.getLayerTag(this._scale,TN.USE_DEFAULT_DIRECTION,t)===my.HEAD,s=this._data.getLayerTag(this._scale,TN.USE_DEFAULT_DIRECTION,t)===my.HAIR;this._headSprites[t]=!(!e&&!s)}return this._headSprites[t]}isNonHeadSprite(t){if(void 0===this._nonHeadSprites[t])if(t<this.totalSprites-(1+my.ADDITIONAL_SPRITE_COUNT)){const e=this._data.getLayerTag(this._scale,TN.USE_DEFAULT_DIRECTION,t);e&&e.length>0&&e!==my.HEAD&&e!==my.HAIR?this._nonHeadSprites[t]=!0:this._nonHeadSprites[t]=!1}else this._nonHeadSprites[t]=!0;return this._nonHeadSprites[t]}_parser3(t){return void 0===this._saddleSprites[t]&&(this._data.getLayerTag(this._scale,TN.USE_DEFAULT_DIRECTION,t)===my.SADDLE?this._saddleSprites[t]=!0:this._saddleSprites[t]=!1),this._saddleSprites[t]}getAsset(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(!this.asset)return null;const s=this._customLayerIds.indexOf(e);let i=this._paletteName,r=-1,n=-1;return s>-1&&(r=this._customPartIds[s],n=this._customPaletteIds[s],i=n>-1?n.toString():this._paletteName),!isNaN(r)&&r>-1&&(t=t+\"_\"+r),this.asset.getAssetWithPalette(t,i)}getAdditionalLayerCount(){return super.getAdditionalLayerCount()+my.ADDITIONAL_SPRITE_COUNT}setLayerCount(t){super.setLayerCount(t),this._headSprites=[]}getPostureForAsset(t,e){const s=e.split(\"_\");let i=s.length,r=0;for(;r<s.length;){if(\"64\"===s[r]||\"32\"===s[r]){i=r+3;break}r++}let n=null;if(i<s.length){let e=s[i];e=e.split(\"@\")[0],n=this._data.animationToPosture(t,parseInt(e)/100,!1),n||(n=this._data.getGestureForAnimationId(t,parseInt(e)/100))}return n}getPetAdditionAsset(t){return lL.instance.core.asset.getTexture(t)}}my.TYPE=nt.PET_ANIMATED,my.HEAD=\"head\",my.SADDLE=\"saddle\",my.HAIR=\"hair\",my.ADDITIONAL_SPRITE_COUNT=1,my.EXPERIENCE_BUBBLE_VISIBLE_IN_MS=1e3,my.PET_EXPERIENCE_BUBBLE=\"avatar_addition_pet_experience_bubble\",my.POSTURE_ANIMATION_INDEX=0,my.GESTURE_ANIMATION_INDEX=1,my.ANIMATION_INDEX_COUNT=2;class Iy{constructor(t,e,s){this._loc=void 0,this._type=void 0,this._category=void 0,this.type=t,this.loc=e,this.category=s}get loc(){return this._loc}set loc(t){this._loc||(this._loc=new dt),this._loc.assign(t)}get type(){return this._type}set type(t){this._type=t}get category(){return this._category}set category(t){this._category=t}dispose(){this._loc=null}}Iy.WINDOW=\"window\",Iy.HOLE=\"hole\";class fy{constructor(){this._masks=void 0,this._masks=[]}get masks(){return this._masks}}class Ty{constructor(){this._masks=void 0,this._masks=new Map}get maskCount(){return this._masks.size}dispose(){this._masks&&(this.reset(),this._masks=null)}initialize(t){if(!t)return!1;if(this._masks.clear(),t.masks.length)for(const e of t.masks){if(!e)continue;const t=e.locations.length?e.locations[0]:null;t&&this._masks.set(e.id,new Iy(e.type,t,e.category))}return!0}reset(){for(const t of this._masks.values())t&&t.dispose();this._masks.clear()}addMask(t,e,s,i){const r=new Iy(e,s,i);this._masks.delete(t),this._masks.set(t,r)}removeMask(t){const e=this._masks.get(t);return!!e&&(this._masks.delete(t),e.dispose(),!0)}getXML(){const t=new fy;for(const[e,s]of this._masks.entries()){if(!s)continue;const i=this.getMaskType(s),r=this.getMaskCategory(s),n=this.getMaskLocation(s);if(i&&r&&n){const s={id:e,type:i,category:r,locations:[{x:n.x,y:n.y,z:n.z}]};t.masks.push(s)}}return t}getMaskLocation(t){return t?t.loc:null}getMaskType(t){return t?t.type:null}getMaskCategory(t){return t?t.category:null}get masks(){return this._masks}}class Ry{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._z=void 0,this._points=void 0,this._color=void 0,this._maskAssetNames=void 0,this._maskAssetLocations=void 0,this._maskAssetFlipHs=void 0,this._maskAssetFlipVs=void 0,this._alignBottom=void 0,this._assetNames=void 0,this._assetNames=[],this._maskAssetNames=[],this._maskAssetLocations=[],this._maskAssetFlipHs=[],this._maskAssetFlipVs=[],null!=t&&(this._maskAssetNames=t._maskAssetNames,this._maskAssetLocations=t._maskAssetLocations,this._maskAssetFlipHs=t._maskAssetFlipHs,this._maskAssetFlipVs=t._maskAssetFlipVs),this._color=e,this._alignBottom=s}addMask(t,e,s,i){this._maskAssetNames.push(t),this._maskAssetLocations.push(e),this._maskAssetFlipHs.push(s),this._maskAssetFlipVs.push(i)}addAssetColumn(t){this._assetNames.push(t)}set z(t){this._z=t}get z(){return this._z}set cornerPoints(t){this._points=t}get cornerPoints(){return this._points}get color(){return this._color}get maskAssetNames(){return this._maskAssetNames}get maskAssetLocations(){return this._maskAssetLocations}get maskAssetFlipHs(){return this._maskAssetFlipHs}get maskAssetFlipVs(){return this._maskAssetFlipVs}isBottomAligned(){return this._alignBottom}get assetNameColumns(){return this._assetNames}}class vy{constructor(t,e,s){this._type=void 0,this._leftSideLoc=void 0,this._rightSideLoc=void 0,this._type=t,this._leftSideLoc=e,this._rightSideLoc=s}get type(){return this._type}get leftSideLoc(){return this._leftSideLoc}get rightSideLoc(){return this._rightSideLoc}}class Oy{constructor(t,e,s,i){this._leftSideLoc=void 0,this._rightSideLoc=void 0,this._leftSideLength=void 0,this._rightSideLength=void 0,this._leftSideLoc=t,this._rightSideLoc=e,this._leftSideLength=s,this._rightSideLength=i}get leftSideLoc(){return this._leftSideLoc}get rightSideLoc(){return this._rightSideLoc}get leftSideLength(){return this._leftSideLength}get rightSideLength(){return this._rightSideLength}}class Ay{constructor(t,e){this._bitmap=void 0,this._timeStamp=void 0,this._bitmap=t,this._timeStamp=e}dispose(){this._bitmap=null}get bitmap(){return this._bitmap}get timeStamp(){return this._timeStamp}}class Sy{constructor(){this._seed=1,this._modulus=16777216,this._multiplier=69069,this._increment=5}static setSeed(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Sy._randomizer||(Sy._randomizer=new Sy),Sy._randomizer.seed=t}static setModulus(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777216;Sy._randomizer||(Sy._randomizer=new Sy),Sy._randomizer.modulus=t}static getValues(t,e,s){return Sy._randomizer||(Sy._randomizer=new Sy),Sy._randomizer.getRandomValues(t,e,s)}static getArray(t,e){return Sy._randomizer||(Sy._randomizer=new Sy),Sy._randomizer.getRandomArray(t,e)}set seed(t){this._seed=t}set modulus(t){t<1&&(t=1),this._modulus=t}dispose(){}getRandomValues(t,e,s){const i=[];let r=0;for(;r<t;)i.push(this.iterateScaled(e,s-e)),r++;return i}getRandomArray(t,e){if(t>e||e>1e3)return null;const s=[];let i=0;for(;i<=e;)s.push(i),i++;const r=[];let n=0;for(;n<t;){const t=this.iterateScaled(0,s.length-1);r.push(s[t]),s.splice(t,1),n++}return r}iterate(){let t=this._multiplier*this._seed+this._increment;return t<0&&(t=-t),t%=this._modulus,this._seed=t,t}iterateScaled(t,e){let s=this.iterate();return e<1?t:(s=t+s/this._modulus*e,s)}}Sy.DEFAULT_SEED=1,Sy.DEFAULT_MODULUS=16777216,Sy._randomizer=null;class Ny{constructor(t,e,s,i,r,n,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0;if(this._disposed=void 0,this._randomSeed=void 0,this._origin=void 0,this._location=void 0,this._leftSide=void 0,this._rightSide=void 0,this._normal=void 0,this._secondaryNormals=void 0,this._geometryUpdateId=void 0,this._type=void 0,this._isVisible=void 0,this._bitmapTexture=void 0,this._bitmapData=void 0,this._hasTexture=void 0,this._offset=void 0,this._relativeDepth=void 0,this._color=void 0,this._rasterizer=void 0,this._maskManager=null,this._id=void 0,this._uniqueId=void 0,this._textureOffsetX=void 0,this._textureOffsetY=void 0,this._textureMaxX=void 0,this._textureMaxY=void 0,this._textures=void 0,this._activeTexture=void 0,this._useMask=void 0,this._bitmapMasks=void 0,this._rectangleMasks=void 0,this._maskChanged=void 0,this._maskBitmapData=void 0,this._bitmapMasksOld=void 0,this._rectangleMasksOld=void 0,this._cornerA=void 0,this._cornerB=void 0,this._cornerC=void 0,this._cornerD=void 0,this._width=0,this._height=0,this._canBeVisible=void 0,this._secondaryNormals=[],this._bitmapMasks=[],this._rectangleMasks=[],this._bitmapMasksOld=[],this._rectangleMasksOld=[],this._randomSeed=o,this._bitmapData=null,this._maskBitmapData=null,this._maskChanged=!1,this._activeTexture=null,this._origin=new dt,this._origin.assign(t),this._location=new dt,this._location.assign(e),this._leftSide=new dt,this._leftSide.assign(s),this._rightSide=new dt,this._rightSide.assign(i),this._normal=dt.crossProduct(this._leftSide,this._rightSide),this._normal.length>0&&this._normal.multiply(1/this._normal.length),null!=a)for(const c of a){if(!c)continue;const t=new dt;t.assign(c),this._secondaryNormals.push(t)}this._disposed=!1,this._isVisible=!1,this._id=null,this._hasTexture=!0,this._geometryUpdateId=-1,this._offset=new j.g,this._relativeDepth=0,this._type=r,this._color=0,this._rasterizer=null,this._canBeVisible=!0,this._textures=new Map,this._cornerA=new dt,this._cornerB=new dt,this._cornerC=new dt,this._cornerD=new dt,this._width=0,this._height=0,this._textureOffsetX=h,this._textureOffsetY=_,this._textureMaxX=d,this._textureMaxY=u,this._useMask=n,this._uniqueId=++Ny._uniqueIdCounter}static blend(t,e){return 0}set canBeVisible(t){t!==this._canBeVisible&&(this._canBeVisible||this.resetTextureCache(),this._canBeVisible=t)}get canBeVisible(){return this._canBeVisible}get bitmapData(){if(!this.visible||!this._bitmapData)return null;let t=Qy.getTextureCache(this._bitmapData);return t||(t=At.generateTexture(this._bitmapData,new j.j(0,0,this._width,this._height)),Qy.addTextureCache(this._bitmapData,t)),t}get visible(){return this._isVisible&&this._canBeVisible}get offset(){return this._offset}get relativeDepth(){return this._relativeDepth}get color(){return this._color}set color(t){this._color=t}get type(){return this._type}get leftSide(){return this._leftSide}get rightSide(){return this._rightSide}get location(){return this._location}get normal(){return this._normal}get hasTexture(){return this._hasTexture}set hasTexture(t){this._hasTexture=t}set rasterizer(t){this._rasterizer=t}set maskManager(t){this._maskManager=t}set id(t){t!==this._id&&(this.resetTextureCache(),this._id=t)}get uniqueId(){return this._uniqueId}dispose(){if(this._bitmapData&&(this._bitmapData.destroy(),this._bitmapData=null),this._textures){for(const t of this._textures.values())t&&(t.bitmap&&t.bitmap.destroy(),t.dispose());this._textures=null}this._activeTexture=null,this._location=null,this._origin=null,this._leftSide=null,this._rightSide=null,this._normal=null,this._rasterizer=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._bitmapMasks=null,this._rectangleMasks=null,this._maskBitmapData&&(this._maskBitmapData.destroy(),this._maskBitmapData=null),this._disposed=!0}copyBitmapData(t){return this.visible&&this._bitmapData&&t?this._bitmapData.width!==t.width||this._bitmapData.height!==t.height?null:t:null}cacheTexture(t,e){const s=this._textures.get(t);return s&&(this._textures.delete(t),s.dispose()),this._activeTexture=e,this._textures.set(t,e),!0}resetTextureCache(){if(this._textures&&this._textures.size){for(const t of this._textures.values())t&&t.dispose();this._textures.clear()}this._activeTexture=null}getTextureIdentifier(t){return this._rasterizer?this._rasterizer.getTextureIdentifier(t,this.normal):t.toString()}needsNewTexture(t,e){if(!t)return!1;let s=this._activeTexture;return s||(s=this._textures.get(this.getTextureIdentifier(t.scale))),this.updateMaskChangeStatus(),!(!this._canBeVisible||!(!s||s.timeStamp>=0&&e>s.timeStamp||this._maskChanged))}getTexture(t,e){if(!t)return null;let s=null;if(this.needsNewTexture(t,e)){const i=this.getTextureIdentifier(t.scale),r=this._leftSide.length*t.scale,n=this._rightSide.length*t.scale,a=t.getCoordinatePosition(this._normal);s=this._activeTexture?this._activeTexture:this._textures.get(i);let o=null;if(s&&(o=s.bitmap),this._rasterizer)s=this._rasterizer.render(o,this._id,r,n,t.scale,a,this._hasTexture,this._textureOffsetX,this._textureOffsetY,this._textureMaxX,this._textureMaxY,e),s&&o&&s.bitmap!==o&&o.destroy();else{const t=new Ve.a;t.beginFill(16777215),t.drawRect(0,0,r,n),t.endFill(),s=new Ay(t,-1)}s&&(this.updateMask(s.bitmap,t),this.cacheTexture(i,s))}else s=this._activeTexture?this._activeTexture:this._textures.get(this.getTextureIdentifier(t.scale));return s?(this._activeTexture=s,s.bitmap):null}resolveMasks(t){if(!this._useMask)return null;const e=new Ry;for(;0<this._bitmapMasks.length;){const s=this._bitmapMasks[0];if(s){const i=this._maskManager.getMask(s.type);if(i){const r=i.getAssetName(t.scale);if(r){const n=t.getCoordinatePosition(this._normal),a=i.getGraphicAsset(t.scale,n);if(a){const t=this._maskBitmapData.width*(1-s.leftSideLoc/this._leftSide.length),i=this._maskBitmapData.height*(1-s.rightSideLoc/this._rightSide.length),n=new j.g(t+a.offsetX,i+a.offsetY);e.addMask(r,n,a.flipH,a.flipV)}}}}}return e}screenWidth(t){const e=t.getScreenPoint(new dt(0,0,0)),s=t.getScreenPoint(new dt(0,1,0));return Math.round(this._leftSide.length*Math.abs(e.x-s.x))}getDrawingDatas(t){const e=[];if(this._isVisible){const s=this.resolveMasks(t),i=this._rasterizer.getLayers(this._id);let r=0;for(;r<i.length;){const n=i[r];if(n)if(this._hasTexture&&n.getMaterial()){const i=t.getCoordinatePosition(this._normal),r=n.getMaterial().getMaterialCellMatrix(i),a=new Ry(s,this._color,r.isBottomAligned());Sy.setSeed(this._randomSeed);for(const e of r.getColumns(this.screenWidth(t))){const t=[];for(const s of e.getCells()){const e=s.getAssetName(i);e&&t.push(e)}t.length>0&&(e.isRepeated()||t.push(\"\"),a.addAssetColumn(t))}a.assetNameColumns.length>0&&e.push(a)}else{const t=new Ry(s,this._color);e.push(t)}r++}e.length||e.push(new Ry(s,this._color))}return e}update(t,e){if(!t||this._disposed)return!1;let s=!1;if(this._geometryUpdateId!=t.updateId&&(s=!0),(!s||!this._canBeVisible)&&!this.visible)return!1;if(s){this._activeTexture=null;let e=0;if(e=dt.cosAngle(t.directionAxis,this.normal),e>-.001)return!!this._isVisible&&(this._isVisible=!1,!0);let s=0;for(;s<this._secondaryNormals.length;){if(e=dt.cosAngle(t.directionAxis,this._secondaryNormals[s]),e>-.001)return!!this._isVisible&&(this._isVisible=!1,!0);s++}this.updateCorners(t);const i=t.getScreenPosition(this._origin).z;let r=Math.max(this._cornerA.z,this._cornerB.z,this._cornerC.z,this._cornerD.z)-i;this._type===Ny.TYPE_FLOOR&&(r-=8*(this._location.z+Math.min(0,this._leftSide.z,this._rightSide.z))),this._type===Ny.TYPE_LANDSCAPE&&(r+=.02),this._relativeDepth=r,this._isVisible=!0,this._geometryUpdateId=t.updateId}if(s||this.needsNewTexture(t,e)){if(!this._bitmapData||this._width!==this._bitmapData.width||this._height!==this._bitmapData.height){if(this._bitmapData){if(this._bitmapData.destroy(),this._bitmapData=null,this._width<1||this._height<1)return!0}else if(this._width<1||this._height<1)return!1;const t=new Ve.a;if(t.beginFill(16777215,0),t.drawRect(0,0,this._width,this._height),t.endFill(),this._bitmapData=t,!this._bitmapData)return!1}Sy.setSeed(this._randomSeed);const i=this.getTexture(t,e);return i?(this.renderTexture(t,i),null!==i||s):(this.dispose(),!1)}return!1}updateCorners(t){this._cornerA.assign(t.getScreenPosition(this._location)),this._cornerB.assign(t.getScreenPosition(dt.sum(this._location,this._rightSide))),this._cornerC.assign(t.getScreenPosition(dt.sum(dt.sum(this._location,this._leftSide),this._rightSide))),this._cornerD.assign(t.getScreenPosition(dt.sum(this._location,this._leftSide))),this._offset=t.getScreenPoint(this._origin),this._cornerA.x=Math.round(this._cornerA.x),this._cornerA.y=Math.round(this._cornerA.y),this._cornerB.x=Math.round(this._cornerB.x),this._cornerB.y=Math.round(this._cornerB.y),this._cornerC.x=Math.round(this._cornerC.x),this._cornerC.y=Math.round(this._cornerC.y),this._cornerD.x=Math.round(this._cornerD.x),this._cornerD.y=Math.round(this._cornerD.y),this._offset.x=Math.round(this._offset.x),this._offset.y=Math.round(this._offset.y);const e=Math.min(this._cornerA.x,this._cornerB.x,this._cornerC.x,this._cornerD.x);let s=Math.max(this._cornerA.x,this._cornerB.x,this._cornerC.x,this._cornerD.x);const i=Math.min(this._cornerA.y,this._cornerB.y,this._cornerC.y,this._cornerD.y);let r=Math.max(this._cornerA.y,this._cornerB.y,this._cornerC.y,this._cornerD.y);s-=e,this._offset.x=this._offset.x-e,this._cornerA.x=this._cornerA.x-e,this._cornerB.x=this._cornerB.x-e,this._cornerC.x=this._cornerC.x-e,this._cornerD.x=this._cornerD.x-e,r-=i,this._offset.y=this._offset.y-i,this._cornerA.y=this._cornerA.y-i,this._cornerB.y=this._cornerB.y-i,this._cornerC.y=this._cornerC.y-i,this._cornerD.y=this._cornerD.y-i,this._width=s,this._height=r}renderTexture(t,e){if(null==this._cornerA||null==this._cornerB||null==this._cornerC||null==this._cornerD||null==e||null==this._bitmapData)return;let s=this._cornerD.x-this._cornerC.x,i=this._cornerD.y-this._cornerC.y,r=this._cornerB.x-this._cornerC.x,n=this._cornerB.y-this._cornerC.y;this._type!=Ny.TYPE_WALL&&this._type!=Ny.TYPE_LANDSCAPE||(Math.abs(r-e.width)<=1&&(r=e.width),Math.abs(n-e.width)<=1&&(n=e.width),Math.abs(s-e.height)<=1&&(s=e.height),Math.abs(i-e.height)<=1&&(i=e.height));const a=r/e.width,o=n/e.width,h=s/e.height,_=i/e.height,d=new j.d;d.a=a,d.b=o,d.c=h,d.d=_,d.translate(this._cornerC.x,this._cornerC.y),this.draw(e,d)}draw(t,e){const s=t.clone();s.transform.setFromMatrix(e),this._bitmapData=s}resetBitmapMasks(){!this._disposed&&this._useMask&&this._bitmapMasks.length&&(this._maskChanged=!0,this._bitmapMasks=[])}addBitmapMask(t,e,s){if(!this._useMask)return!1;let i=0;for(;i<this._bitmapMasks.length;){const r=this._bitmapMasks[i];if(r&&r.type===t&&r.leftSideLoc===e&&r.rightSideLoc===s)return!1;i++}const r=new vy(t,e,s);return this._bitmapMasks.push(r),this._maskChanged=!0,!0}resetRectangleMasks(){this._useMask&&this._rectangleMasks.length&&(this._maskChanged=!0,this._rectangleMasks=[])}addRectangleMask(t,e,s,i){if(this._useMask){for(const n of this._rectangleMasks)if(n&&n.leftSideLoc===t&&n.rightSideLoc===e&&n.leftSideLength===s&&n.rightSideLength===i)return!1;const r=new Oy(t,e,s,i);return this._rectangleMasks.push(r),this._maskChanged=!0,!0}return!1}updateMaskChangeStatus(){if(!this._maskChanged)return;let t,e=!0;if(this._bitmapMasks.length===this._bitmapMasksOld.length){for(const s of this._bitmapMasks)if(s){t=!1;for(const e of this._bitmapMasksOld)if(e&&e.type===s.type&&e.leftSideLoc===s.leftSideLoc&&e.rightSideLoc===s.rightSideLoc){t=!0;break}if(!t){e=!1;break}}}else e=!1;this._rectangleMasks.length>this._rectangleMasksOld.length&&(e=!1),e&&(this._maskChanged=!1)}updateMask(t,e){if(!t||!e)return;if(!this._useMask||!this._bitmapMasks.length&&!this._rectangleMasks.length&&!this._maskChanged||!this._maskManager)return;const s=t.width,i=t.height;if(this.updateMaskChangeStatus(),!this._maskBitmapData||this._maskBitmapData.width!==s||this._maskBitmapData.height!==i){this._maskBitmapData&&(this._maskBitmapData.destroy(),this._maskBitmapData=null);const t=new Ve.a;t.beginFill(16777215,0).drawRect(0,0,s,i).endFill(),this._maskBitmapData=t,this._maskChanged=!0}if(this._maskChanged){this._bitmapMasksOld=[],this._rectangleMasksOld=[],this._maskBitmapData&&this._maskBitmapData.beginFill(16777215,0).drawRect(0,0,s,i).endFill(),this.resetTextureCache(t);const r=e.getCoordinatePosition(this._normal);let n=null,a=0,o=0,h=0;for(;h<this._bitmapMasks.length;){const t=this._bitmapMasks[h];t&&(n=t.type,a=this._maskBitmapData.width-this._maskBitmapData.width*t.leftSideLoc/this._leftSide.length,o=this._maskBitmapData.height-this._maskBitmapData.height*t.rightSideLoc/this._rightSide.length,this._maskManager.updateMask(this._maskBitmapData,n,e.scale,r,a,o),this._bitmapMasksOld.push(new vy(n,t.leftSideLoc,t.rightSideLoc))),h++}for(h=0;h<this._rectangleMasks.length;){const t=this._rectangleMasks[h];if(t){a=this._maskBitmapData.width-this._maskBitmapData.width*t.leftSideLoc/this._leftSide.length,o=this._maskBitmapData.height-this._maskBitmapData.height*t.rightSideLoc/this._rightSide.length;const e=this._maskBitmapData.width*t.leftSideLength/this._leftSide.length,s=this._maskBitmapData.height*t.rightSideLength/this._rightSide.length;this._maskBitmapData.beginFill(16711680).drawRect(a-e,o-s,e,s).endFill(),this._rectangleMasksOld.push(new Oy(t.leftSideLength,t.rightSideLoc,t.leftSideLength,t.rightSideLength))}h++}this._maskChanged=!1}this.combineTextureMask(t,this._maskBitmapData)}combineTextureMask(t,e){if(!t||!e)return;const s=At.generateCanvas(e),r=At.generateCanvas(t),n=r.getContext(\"2d\");n.drawImage(s,0,0);const a=n.getImageData(0,0,r.width,r.height),o=a.data;for(let i=0;i<o.length;i+=4){const t=o[i],e=o[i+1],s=o[i+2];o[i+3];t||e||s||(o[i+3]=0)}n.putImageData(a,0,0);const h=i.t.from(r);h&&t.clear().beginTextureFill({texture:h}).drawRect(0,0,h.width,h.height).endFill()}}Ny.ZERO_POINT=new j.g(0,0),Ny.TYPE_UNDEFINED=0,Ny.TYPE_WALL=1,Ny.TYPE_FLOOR=2,Ny.TYPE_LANDSCAPE=3,Ny._uniqueIdCounter=1;class yy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this._asset=void 0,this._normalMinX=void 0,this._normalMaxX=void 0,this._normalMinY=void 0,this._normalMaxY=void 0,this._normalMinX=e,this._normalMaxX=s,this._normalMinY=i,this._normalMaxY=r,this._asset=t}get asset(){return this._asset}get normalMinX(){return this._normalMinX}get normalMaxX(){return this._normalMaxX}get normalMinY(){return this._normalMinY}get normalMaxY(){return this._normalMaxY}dispose(){this._asset=null}}yy.MIN_NORMAL_COORDINATE_VALUE=-1,yy.MAX_NORMAL_COORDINATE_VALUE=1;class Dy{constructor(){this._bitmaps=void 0,this._bitmaps=[]}dispose(){for(const t of this._bitmaps)t&&t.dispose();this._bitmaps=null}addBitmap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this._bitmaps.push(new yy(t,e,s,i,r))}getAsset(t){if(!t)return null;for(const e of this._bitmaps)if(e&&t.x>=e.normalMinX&&t.x<=e.normalMaxX&&t.y>=e.normalMinY&&t.y<=e.normalMaxY)return e.asset;return null}}Dy.MIN_NORMAL_COORDINATE_VALUE=-1,Dy.MAX_NORMAL_COORDINATE_VALUE=1;class My{constructor(){this._maskVisualizations=void 0,this._sizes=void 0,this._assetNames=void 0,this._lastMaskVisualization=void 0,this._lastSize=void 0,this._sizes=[],this._maskVisualizations=new Map,this._assetNames=new Map,this._lastMaskVisualization=null,this._lastSize=-1}dispose(){if(this._maskVisualizations){for(const t of this._maskVisualizations.values())t&&t.dispose();this._maskVisualizations=null}this._lastMaskVisualization=null,this._sizes=null}createMaskVisualization(t){if(this._maskVisualizations.get(t))return null;const e=new Dy;return this._maskVisualizations.set(t,e),this._sizes.push(t),this._sizes.sort(),e}getSizeIndex(t){let e=0;for(;1<this._sizes.length;){if(this._sizes[1]>t){this._sizes[1]-t<t-this._sizes[0]&&(e=1);break}e=1}return e}getMaskVisualization(t){if(t===this._lastSize)return this._lastMaskVisualization;const e=this.getSizeIndex(t);return e<this._sizes.length?this._lastMaskVisualization=this._maskVisualizations.get(this._sizes[e]):this._lastMaskVisualization=null,this._lastSize=t,this._lastMaskVisualization}getGraphicAsset(t,e){const s=this.getMaskVisualization(t);return s?s.getAsset(e):null}getAssetName(t){return this._assetNames&&this._assetNames.get(t)||null}setAssetName(t,e){this._assetNames&&this._assetNames.set(t,e)}}class Cy{constructor(){this._assetCollection=void 0,this._masks=void 0,this._data=void 0,this._assetCollection=null,this._masks=new Map,this._data=null}get data(){return this._data}dispose(){if(this._assetCollection=null,this._data=null,this._masks&&this._masks.size){for(const t of this._masks.values())t&&t.dispose();this._masks.clear()}}initialize(t){this._data=t}initializeAssetCollection(t){this.data&&(this._assetCollection=t,this.parseMasks(this.data,t))}parseMasks(t,e){if(t&&e&&t.masks&&t.masks.length){let s=0;for(;s<t.masks.length;){const i=t.masks[s];if(i){const t=i.id;if(this._masks.get(t))continue;const s=new My;if(i.visualizations&&i.visualizations.length){let t=0;for(;t<i.visualizations.length;){const r=i.visualizations[t];if(r){const t=r.size,i=s.createMaskVisualization(t);if(i){const n=this.parseMaskBitmaps(r.bitmaps,i,e);s.setAssetName(t,n)}}t++}}this._masks.set(t,s)}s++}}}parseMaskBitmaps(t,e,s){if(!t||!t.length)return null;let i=null;for(const r of t){if(!r)continue;const t=r.assetName,n=s.getAsset(t);if(!n)continue;let a=Dy.MIN_NORMAL_COORDINATE_VALUE,o=Dy.MAX_NORMAL_COORDINATE_VALUE,h=Dy.MIN_NORMAL_COORDINATE_VALUE,_=Dy.MAX_NORMAL_COORDINATE_VALUE;void 0!==r.normalMinX&&(a=r.normalMinX),void 0!==r.normalMaxX&&(o=r.normalMaxX),void 0!==r.normalMinY&&(h=r.normalMinY),void 0!==r.normalMaxY&&(_=r.normalMaxY),n.flipH||(i=t),e.addBitmap(n,a,o,h,_)}return i}updateMask(t,e,s,i,r,n){const a=this._masks.get(e);if(!a)return!0;const o=a.getGraphicAsset(s,i);if(!o)return!0;const h=o.texture;if(!h)return!0;const _=new j.g(r+o.offsetX,n+o.offsetY),d=new j.d;let u=1,c=1,l=0,g=0;return o.flipH&&(u=-1,l=-h.width),o.flipV&&(c=-1,g=-h.height),d.scale(u,c),d.translate(_.x+l,_.y+g),t.beginTextureFill({texture:h,matrix:d}).drawRect(d.tx,d.ty,h.width,h.height).endFill(),!0}getMask(t){return this._masks&&this._masks.size&&this._masks.get(t)||null}}class Ly{constructor(t,e,s,i,r){this._x=void 0,this._y=void 0,this._speedX=void 0,this._speedY=void 0,this._bitmapData=void 0,this._x=t,this._y=e,this._speedX=s,this._speedY=i,this._bitmapData=r,isNaN(this._x)&&(this._x=0),isNaN(this._y)&&(this._y=0),isNaN(this._speedX)&&(this._speedX=0),isNaN(this._speedY)&&(this._speedY=0)}get bitmapData(){return this._bitmapData}dispose(){this._bitmapData=null}getPosition(t,e,s,i,r){let n=this._x,a=this._y;s>0&&(n+=this._speedX/s*r/1e3),i>0&&(a+=this._speedY/i*r/1e3);const o=n%1*t,h=a%1*e;return new j.g(o,h)}}class Uy{constructor(t,e){if(this._color=0,this._bitmapData=null,this._isDisposed=!1,this._items=void 0,this._color=0,this._bitmapData=null,this._isDisposed=!1,this._items=[],t&&e)for(const s of t){if(!s)continue;const t=s.asset;if(t){const i=e.getAsset(t);i&&this._items.push(new Ly(s.x,s.y,s.speedX,s.speedY,i))}}}get disposed(){return this._isDisposed}dispose(){if(this._isDisposed=!0,this._bitmapData&&(this._bitmapData.destroy(),this._bitmapData=null),this._items){for(const t of this._items)t&&t.dispose();this._items=[]}}clearCache(){this._bitmapData&&(this._bitmapData.destroy(),this._bitmapData=null)}render(t,e,s,i,r,n,a,o,h,_,d){if(null!=t&&t.width==e&&t.height==s||(null==this._bitmapData||this._bitmapData.width!=e||this._bitmapData.height!=s?(null!=this._bitmapData&&this._bitmapData.destroy(),this._bitmapData=(new Ve.a).drawRect(0,0,e,s)):this._bitmapData.beginFill(16777215).drawRect(0,0,this._bitmapData.width,this._bitmapData.height).endFill(),t=this._bitmapData),a>0&&o>0){let e=0;for(;e<this._items.length;){const s=this._items[e];if(null!=s){const e=s.getPosition(a,o,h,_,d);if(e.x=e.x-r,e.y=e.y-n,s.bitmapData)if(e.x>0&&e.x+s.bitmapData.width<t.width)t.beginFill(65280).beginTextureFill({texture:s.bitmapData.texture,matrix:new j.d(1,0,0,1,e.x,e.y)}).drawRect(e.x,e.y,s.bitmapData.width,s.bitmapData.height).endFill();else if(e.x>0){const i=t.width-e.x;t.beginFill(65280).beginTextureFill({texture:s.bitmapData.texture,matrix:new j.d(1,0,0,1,e.x,e.y)}).drawRect(e.x,e.y,i,s.bitmapData.height).endFill()}else{const i=s.bitmapData.width+e.x;t.beginFill(65280).beginTextureFill({texture:s.bitmapData.texture,matrix:new j.d(1,0,0,1,e.x,e.y)}).drawRect(0,e.y,i,s.bitmapData.height).endFill()}}e++}}return t}}class Py{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._material=void 0,this._color=void 0,this._offset=void 0,this._align=void 0,this._bitmapData=void 0,this._isDisposed=void 0,this._material=t,this._offset=i,this._align=s,this._color=e,this._bitmapData=null,this._isDisposed=!1}get offset(){return this._offset}get align(){return this._align}get disposed(){return this._isDisposed}dispose(){this._isDisposed=!0,this._material=null,this.clearCache()}clearCache(){this._bitmapData&&(this._bitmapData.destroy(),this._bitmapData=null)}render(t,e,s,i,r,n,a){t&&t.width===e&&t.height===s||(t=null);let o=null;if(this._material)o=this._material.render(null,e,s,i,r,n,a+this.offset,this.align===Py.ALIGN_TOP),o&&o!==t&&(this._bitmapData&&this._bitmapData.destroy(),this._bitmapData=o.clone(),o=this._bitmapData);else if(t)t.beginFill(16777215).drawRect(0,0,e,s).endFill(),o=t;else{if(this._bitmapData&&this._bitmapData.width===e&&this._bitmapData.height===s)return this._bitmapData;this._bitmapData&&this._bitmapData.destroy();const t=(new Ve.a).beginFill(16777215).drawRect(0,0,e,s).endFill();this._bitmapData=t,o=this._bitmapData}if(o&&(o.tint=this._color,t&&o!==t)){let i=Qy.getTextureCache(o);i||(i=At.generateTexture(o,new j.j(0,0,e,s)),Qy.addTextureCache(o,i)),t.beginTextureFill({texture:i}).drawRect(0,0,e,s).endFill(),o=t}return o}getMaterial(){return this._material}getColor(){return this._color}}Py.DEFAULT_OFFSET=0,Py.ALIGN_TOP=1,Py.ALIGN_BOTTOM=2,Py.ALIGN_DEFAULT=Py.ALIGN_TOP;class by{constructor(t,e,s){this._layers=void 0,this._geometry=void 0,this._cachedBitmapData=void 0,this._cachedBitmapNormal=void 0,this._isCached=void 0,this._hasAnimationLayers=void 0,this._layers=[],this._geometry=s,this._cachedBitmapData=null,this._cachedBitmapNormal=new dt,this._isCached=!1,this._hasAnimationLayers=!1,e<0&&(e=0);let i=0;for(;i<e;)this._layers.push(null),i++}get geometry(){return this._geometry}get hasAnimationLayers(){return this._hasAnimationLayers}dispose(){if(this._layers&&this._layers.length){for(const t of this._layers)t&&t.dispose();this._layers=null}this._geometry=null,this._cachedBitmapData&&(this._cachedBitmapData.destroy(),this._cachedBitmapData=null),this._cachedBitmapNormal&&(this._cachedBitmapNormal=null)}clearCache(){if(this._isCached){if(this._cachedBitmapData&&(this._cachedBitmapData.destroy(),this._cachedBitmapData=null),this._cachedBitmapNormal&&this._cachedBitmapNormal.assign(new dt),this._layers&&this._layers.length)for(const t of this._layers){if(!t)continue;t.clearCache()}this._isCached=!1}}setLayer(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(t<0||t>this._layers.length)return!1;let n=this._layers[t];return n&&n.dispose(),n=new Py(e,s,i,r),this._layers[t]=n,!0}setAnimationLayer(t,e,s){if(t<0||t>this._layers.length)return!1;let i=this._layers[t];return i&&i.dispose(),i=new Uy(e,s),this._layers[t]=i,this._hasAnimationLayers=!0,!0}getLayers(){return this._layers}render(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0;if(e<1&&(e=1),s<1&&(s=1),t&&t.width===e&&t.height===s||(t=null),this._cachedBitmapData)if(this._cachedBitmapData.width===e&&this._cachedBitmapData.height===s&&dt.isEqual(this._cachedBitmapNormal,i)){if(!this.hasAnimationLayers)return t?(t.addChild(this._cachedBitmapData),t):this._cachedBitmapData}else this._cachedBitmapData.destroy(),this._cachedBitmapData=null;if(this._isCached=!0,this._cachedBitmapData?this._cachedBitmapData.beginFill(16777215).drawRect(0,0,e,s).endFill():this._cachedBitmapData=(new Ve.a).beginFill(16777215).drawRect(0,0,e,s).endFill(),t||(t=this._cachedBitmapData),this._cachedBitmapNormal.assign(i),this._layers&&this._layers.length)for(const c of this._layers)c&&(c instanceof Py?c.render(t,e,s,i,r,n,a):c instanceof Uy&&c.render(t,e,s,i,n,a,o,h,_,d,u));return t&&t!==this._cachedBitmapData?(this._cachedBitmapData.addChild(t.clone()),t):this._cachedBitmapData}}class wy{constructor(){this._planeVisualizations=void 0,this._sizes=void 0,this._lastPlaneVisualization=void 0,this._lastSize=void 0,this._planeVisualizations=new Map,this._sizes=[],this._lastPlaneVisualization=null,this._lastSize=-1}isStatic(t){return!0}dispose(){for(const t of this._planeVisualizations.values())t&&t.dispose();this._planeVisualizations=null,this._lastPlaneVisualization=null,this._sizes=null,this._lastSize=-1}clearCache(){for(const t of this._planeVisualizations.values())t&&t.clearCache()}createPlaneVisualization(t,e,s){if(this._planeVisualizations.get(t.toString()))return null;const i=new by(t,e,s);return this._planeVisualizations.set(t.toString(),i),this._sizes.push(t),this._sizes.sort(),i}getSizeIndex(t){let e=0,s=1;for(;s<this._sizes.length;){if(this._sizes[s]>t){this._sizes[s]-t<t-this._sizes[s-1]&&(e=s);break}e=s,s++}return e}getPlaneVisualization(t){if(t===this._lastSize)return this._lastPlaneVisualization;const e=this.getSizeIndex(t);return e<this._sizes.length?this._lastPlaneVisualization=this._planeVisualizations.get(this._sizes[e].toString()):this._lastPlaneVisualization=null,this._lastSize=t,this._lastPlaneVisualization}getLayers(){return this.getPlaneVisualization(this._lastSize).getLayers()}}class Fy extends wy{render(t,e,s,i,r,n,a,o){const h=this.getPlaneVisualization(i);if(!h||!h.geometry)return null;const _=h.geometry.getScreenPoint(new dt(0,0,0)),d=h.geometry.getScreenPoint(new dt(0,s/h.geometry.scale,0)),u=h.geometry.getScreenPoint(new dt(e/h.geometry.scale,0,0));let c=0,l=0;if(_&&d&&u){e=Math.round(Math.abs(_.x-u.x)),s=Math.round(Math.abs(_.x-d.x));const t=_.x-h.geometry.getScreenPoint(new dt(1,0,0)).x;c=a*Math.trunc(Math.abs(t)),l=o*Math.trunc(Math.abs(t))}return h.render(t,e,s,r,n,c,l)}}Fy.DEFAULT_COLOR=16777215,Fy.HORIZONTAL_ANGLE_DEFAULT=45,Fy.VERTICAL_ANGLE_DEFAULT=30;class xy{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._cells=void 0,this._repeatMode=void 0,this._width=void 0,this._cachedTexture=void 0,this._cachedBitmapData=void 0,this._cachedBitmapNormal=void 0,this._cachedBitmapDataOffsetX=void 0,this._cachedBitmapDataOffsetY=void 0,this._isCached=void 0,this._isStatic=void 0,this._cells=[],this._repeatMode=s,this._width=t<1?1:t,this._cachedBitmapData=null,this._cachedBitmapNormal=null,this._cachedBitmapDataOffsetX=0,this._cachedBitmapDataOffsetY=0,this._isCached=!1,this._isStatic=!0,e&&e.length){let t=0;for(;t<e.length;){const s=e[t];s&&(this._cells.push(s),s.isStatic||(this._isStatic=!1)),t++}}}get isStatic(){return this._isStatic}isRepeated(){return!(this._repeatMode===xy.REPEAT_MODE_NONE)}get width(){return this._width}dispose(){if(this._cells&&this._cells.length){for(const t of this._cells)t&&t.dispose();this._cells=null}this._cachedBitmapData&&(this._cachedBitmapData.destroy(),this._cachedBitmapData=null),this._cachedBitmapNormal&&(this._cachedBitmapNormal=null)}clearCache(){if(this._isCached){if(this._cachedBitmapData&&(this._cachedBitmapData.destroy(),this._cachedBitmapData=null),this._cachedBitmapNormal&&(this._cachedBitmapNormal.x=0,this._cachedBitmapNormal.y=0,this._cachedBitmapNormal.z=0),this._cells&&this._cells.length)for(const t of this._cells)t&&t.clearCache();this._isCached=!1}}render(t,e,s,i){let r=0;if(this._repeatMode==xy.REPEAT_MODE_NONE&&(r=this.getCellsHeight(this._cells,e),t=r),this._cachedBitmapNormal||(this._cachedBitmapNormal=new dt),this.isStatic){if(this._cachedBitmapData){if(this._cachedBitmapData.height===t&&dt.isEqual(this._cachedBitmapNormal,e)&&this._cachedBitmapDataOffsetX===s&&this._cachedBitmapDataOffsetY===i)return this._cachedBitmapData;this._cachedBitmapData.destroy(),this._cachedBitmapData=null}}else this._cachedBitmapData&&(this._cachedBitmapData.height===t?this._cachedBitmapData.beginFill(16777215).drawRect(0,0,this._cachedBitmapData.width,t).endFill():(this._cachedBitmapData.destroy(),this._cachedBitmapData=null));if(this._isCached=!0,this._cachedBitmapData||(this._cachedBitmapData=(new Ve.a).beginFill(16777215).drawRect(0,0,this._width,t).endFill()),this._cachedBitmapNormal.assign(e),this._cachedBitmapDataOffsetX=s,this._cachedBitmapDataOffsetY=i,!this._cells.length)return this._cachedBitmapData;switch(this._repeatMode){case xy.REPEAT_MODE_NONE:this.renderRepeatNone(e);break;case xy.REPEAT_MODE_BORDERS:console.log(\"REPEAT_MODE_BORDERS\");break;case xy.REPEAT_MODE_CENTER:console.log(\"REPEAT_MODE_CENTER\");break;case xy.REPEAT_MODE_FIRST:console.log(\"REPEAT_MODE_FIRST\");break;case xy.REPEAT_MODE_LAST:console.log(\"REPEAT_MODE_LAST\");break;default:this.renderRepeatAll(e,s,i)}return this._cachedBitmapData}getCellsHeight(t,e){if(!t||!t.length)return 0;let s=0,i=0;for(;i<t.length;){const r=t[i];r&&(s+=r.getHeight(e)),i++}return s}renderCells(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!t||!t.length||!this._cachedBitmapData)return e;let a=0;for(;a<t.length;){let o=null;if(o=s?t[a]:t[t.length-1-a],o){const t=o.render(i,r,n);if(t&&(s||(e-=t.height),t.y=e,this._cachedBitmapData.addChild(t),s&&(e+=t.height),s&&e>=this._cachedBitmapData.height||!s&&e<=0))return e}a++}return e}renderRepeatNone(t){this._cells.length&&this._cachedBitmapData&&this.renderCells(this._cells,0,!0,t)}renderRepeatAll(t,e,s){if(!this._cells.length||!this._cachedBitmapData)return;let i=0;for(;i<this._cachedBitmapData.height;)if(i=this.renderCells(this._cells,i,!0,t,e,s),!i)return}getCells(){return this._cells}}xy.REPEAT_MODE_NONE=0,xy.REPEAT_MODE_ALL=1,xy.REPEAT_MODE_BORDERS=2,xy.REPEAT_MODE_CENTER=3,xy.REPEAT_MODE_FIRST=4,xy.REPEAT_MODE_LAST=5;class By{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;this._columns=void 0,this._repeatMode=1,this._align=1,this._cachedBitmapData=void 0,this._cachedBitmapNormal=null,this._cachedBitmapHeight=0,this._isCached=!1,this._isStatic=!0,this._normalMinX=-1,this._normalMaxX=1,this._normalMinY=-1,this._normalMaxY=1,this._columns=[],t<1&&(t=1);let o=0;for(;o<t;)this._columns.push(null),o++;this._repeatMode=e,this._align=s,this._normalMinX=i,this._normalMaxX=r,this._normalMinY=n,this._normalMaxY=a,this._repeatMode==By.REPEAT_MODE_RANDOM&&(this._isStatic=!1)}static nextRandomColumnIndex(t){return Sy.getValues(1,0,17631*t)[0]%t}get normalMinX(){return this._normalMinX}get normalMaxX(){return this._normalMaxX}get normalMinY(){return this._normalMinY}get normalMaxY(){return this._normalMaxY}isBottomAligned(){return this._align===By.ALIGN_BOTTOM}get isStatic(){return this._isStatic}dispose(){this._cachedBitmapData&&(this._cachedBitmapData.destroy(),this._cachedBitmapData=null),this._cachedBitmapNormal&&(this._cachedBitmapNormal=null)}clearCache(){if(this._isCached){if(this._cachedBitmapData&&(this._cachedBitmapData.destroy(),this._cachedBitmapData=null),this._cachedBitmapNormal&&(this._cachedBitmapNormal.x=0,this._cachedBitmapNormal.y=0,this._cachedBitmapNormal.z=0),this._columns&&this._columns.length)for(const t of this._columns)t&&t.clearCache();this._isCached=!1}}createColumn(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(t<0||t>=this._columns.length)return!1;const r=new xy(e,s,i),n=this._columns[t];return n&&n.dispose(),this._columns[t]=r,r&&!r.isStatic&&(this._isStatic=!1),!0}render(t,e,s,i,r,n,a,o){if(e<1&&(e=1),s<1&&(s=1),t&&t.width===e&&t.height===s||(t=null),this._cachedBitmapNormal||(this._cachedBitmapNormal=new dt),this.isStatic){if(this._cachedBitmapData){if(this._cachedBitmapData.width===e&&this._cachedBitmapData.height==s&&dt.isEqual(this._cachedBitmapNormal,i))return t?(this.copyCachedBitmapOnCanvas(t,this._cachedBitmapHeight,a,o),t):this._cachedBitmapData;this._cachedBitmapData.destroy(),this._cachedBitmapData=null}}else this._cachedBitmapData&&(this._cachedBitmapData.width===e&&this._cachedBitmapData.height===s?this._cachedBitmapData.beginFill(16777215).drawRect(0,0,e,s).endFill():(this._cachedBitmapData.destroy(),this._cachedBitmapData=null));if(this._isCached=!0,this._cachedBitmapNormal.assign(i),!r){if(this._cachedBitmapHeight=s,this._cachedBitmapData)this._cachedBitmapData.beginFill(16777215).drawRect(0,0,e,s).endFill();else{const t=(new Ve.a).beginFill(16777215).drawRect(0,0,e,s).endFill();this._cachedBitmapData=t}return t?(this.copyCachedBitmapOnCanvas(t,s,a,o),t):this._cachedBitmapData}if(!this._cachedBitmapData){this._cachedBitmapHeight=s;const t=(new Ve.a).beginFill(16777215).drawRect(0,0,e,s).endFill();this._cachedBitmapData=t}const h=[];let _=0;for(;_<this._columns.length;){const t=this._columns[_];if(t){const e=t.render(s,i,n,a);e&&h.push(e)}_++}if(!h.length)return t||this._cachedBitmapData;let d=0;switch(this._repeatMode){case By.REPEAT_MODE_BORDERS:case By.REPEAT_MODE_CENTER:case By.REPEAT_MODE_FIRST:case By.REPEAT_MODE_LAST:case By.REPEAT_MODE_RANDOM:break;default:d=this.renderRepeatAll(this._cachedBitmapData,h)}return this._cachedBitmapHeight=d,t?(this.copyCachedBitmapOnCanvas(t,d,a,o),t):this._cachedBitmapData}copyCachedBitmapOnCanvas(t,e,s,i){if(!t||!this._cachedBitmapData||t===this._cachedBitmapData)return;let r;i||(s=t.height-e-s),r=this._align==By.ALIGN_TOP?new j.j(0,0,this._cachedBitmapData.width,this._cachedBitmapHeight):new j.j(0,this._cachedBitmapData.height-this._cachedBitmapHeight,this._cachedBitmapData.width,this._cachedBitmapHeight);const n=At.generateTexture(this._cachedBitmapData,r);n&&t.beginTextureFill({texture:n}).drawRect(0,s,r.width,r.height).endFill()}getColumnsWidth(t){if(!t||!t.length)return 0;let e=0;for(const s of t)s&&(e+=s.width);return e}renderColumns(t,e,s,i){if(!t||!e||!e.length)return new j.g(s,0);let r=0,n=0;for(;n<e.length;){const a=i?e[n]:e[e.length-1-n];if(a){i||(s-=a.width);let e=0;this._align==By.ALIGN_BOTTOM&&(e=t.height-a.height);let n=Qy.getTextureCache(a);if(n||(n=At.generateTexture(a,new j.j(0,0,a.width,a.height)),Qy.addTextureCache(a,n)),t.beginTextureFill({texture:n}),t.drawRect(s,e,n.width,n.height),t.endFill(),a.height>r&&(r=a.height),i&&(s+=a.width),i&&s>=t.width||!i&&s<=0)return new j.g(s,r)}n++}return new j.g(s,r)}renderRepeatAll(t,e){if(!t||!e||!e.length)return 0;this.getColumnsWidth(e);let s=0,i=0;for(;s<t.width;){const r=this.renderColumns(t,e,s,!0);if(s=r.x,r.y>i&&(i=r.y),!r.x)return i}return i}getColumns(t){if(this._repeatMode===By.REPEAT_MODE_RANDOM){const e=[];let s=0;for(;s<t;){const t=this._columns[By.nextRandomColumnIndex(this._columns.length)];if(t){if(e.push(t),!(t.width>1))break;s+=t.width}}return e}return this._columns}}By.REPEAT_MODE_ALL=1,By.REPEAT_MODE_BORDERS=2,By.REPEAT_MODE_CENTER=3,By.REPEAT_MODE_FIRST=4,By.REPEAT_MODE_LAST=5,By.REPEAT_MODE_RANDOM=6,By.REPEAT_MODE_DEFAULT=By.REPEAT_MODE_ALL,By.MIN_NORMAL_COORDINATE_VALUE=-1,By.MAX_NORMAL_COORDINATE_VALUE=1,By.ALIGN_TOP=1,By.ALIGN_BOTTOM=2,By.ALIGN_DEFAULT=By.ALIGN_TOP;class Gy{constructor(){this._planeMaterialItems=void 0,this._isCached=void 0,this._planeMaterialItems=[],this._isCached=!1}dispose(){if(this._planeMaterialItems&&this._planeMaterialItems.length){for(const t of this._planeMaterialItems)t&&t.dispose();this._planeMaterialItems=null}this._isCached=!1}clearCache(){if(this._isCached){if(this._planeMaterialItems&&this._planeMaterialItems.length)for(const t of this._planeMaterialItems)t&&t.clearCache();this._isCached=!1}}addMaterialCellMatrix(t,e,s){const i=new By(t,e,s,arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,arguments.length>6&&void 0!==arguments[6]?arguments[6]:1);return this._planeMaterialItems.push(i),i}getMaterialCellMatrix(t){if(!t)return null;if(this._planeMaterialItems&&this._planeMaterialItems.length)for(const e of this._planeMaterialItems)if(e&&t.x>=e.normalMinX&&t.x<=e.normalMaxX&&t.y>=e.normalMinY&&t.y<=e.normalMaxY)return e;return null}render(t,e,s,i,r,n,a,o){e<1&&(e=1),s<1&&(s=1);const h=this.getMaterialCellMatrix(i);return h?(this._isCached=!0,h.render(t,e,s,i,r,n,a,o)):null}}Gy.MIN_NORMAL_COORDINATE_VALUE=-1,Gy.MAX_NORMAL_COORDINATE_VALUE=1;class Hy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this._cachedSprite=void 0,this._texture=void 0,this._extraItemOffsets=void 0,this._extraItemAssets=void 0,this._extraItemCount=0,this._cachedSprite=null,this._texture=t,this._extraItemOffsets=[],this._extraItemAssets=[],this._extraItemCount=0,e&&e.length&&i>0){let t=0;for(;t<e.length;){const s=e[t];s&&this._extraItemAssets.push(s),t++}if(this._extraItemAssets.length){if(s){let t=0;for(;t<s.length;){const e=s[t];e&&this._extraItemOffsets.push(new j.g(e.x,e.y)),t++}}this._extraItemCount=i}}}get isStatic(){return 0==this._extraItemCount}dispose(){this._texture&&(this._texture.dispose(),this._texture=null),this._cachedSprite&&(this._cachedSprite.destroy(),this._cachedSprite=null),this._extraItemAssets=null,this._extraItemOffsets=null,this._extraItemCount=0}clearCache(){this._cachedSprite&&(this._cachedSprite.destroy(),this._cachedSprite=null)}getHeight(t){if(this._texture){const e=this._texture.getBitmap(t);if(e)return e.height}return 0}render(t,e,s){if(!this._texture)return null;const i=this._texture.getBitmap(t);if(!i)return null;const r=new W(i);if(0!==e||0!==s){for(;e<0;)e+=i.width;for(;s<0;)s+=i.height;r.x=e%i.width,r.y=s%i.height,e&&(r.anchor.x=1,r.scale.x=-1),s&&(r.anchor.y=1,r.scale.y=-1)}if(r){if(!this.isStatic){this._cachedSprite&&(this._cachedSprite.width===r.width&&this._cachedSprite.height===r.height||(this._cachedSprite.destroy(),this._cachedSprite=null)),this._cachedSprite||(this._cachedSprite=new W(i));const t=Math.min(this._extraItemCount,this._extraItemOffsets.length),e=Math.max(this._extraItemCount,this._extraItemOffsets.length),s=Sy.getArray(this._extraItemCount,e);let n=0;for(;n<t;){const t=this._extraItemOffsets[s[n]],e=this._extraItemAssets[n%this._extraItemAssets.length];if(t&&e){const s=e.texture;if(s){const i=new j.g(t.x+e.offsetX,t.y+e.offsetY),r=new j.d;let n=1,a=1,o=0,h=0;e.flipH&&(n=-1,o=s.width),e.flipV&&(a=-1,h=s.height);let _=i.x+o;_=_>>1<<1,r.scale(n,a),r.translate(_,i.y+h);const d=new W(s);d.transform.setFromMatrix(r),d.x=r.tx,d.y=r.ty,this._cachedSprite.addChild(d)}}n++}return this._cachedSprite}return r}return null}getAssetName(t){return null==this._texture?null:this._texture.getAssetName(t)}}class Vy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this._bitmap=void 0,this._normalMinX=void 0,this._normalMaxX=void 0,this._normalMinY=void 0,this._normalMaxY=void 0,this._assetName=void 0,this._normalMinX=e,this._normalMaxX=s,this._normalMinY=i,this._normalMaxY=r,this._assetName=n,this._bitmap=t}get bitmap(){return this._bitmap}get normalMinX(){return this._normalMinX}get normalMaxX(){return this._normalMaxX}get normalMinY(){return this._normalMinY}get normalMaxY(){return this._normalMaxY}get assetName(){return this._assetName}dispose(){this._bitmap=null}}Vy.MIN_NORMAL_COORDINATE_VALUE=-1,Vy.MAX_NORMAL_COORDINATE_VALUE=1;class jy{constructor(){this._bitmaps=void 0,this._bitmaps=[]}dispose(){if(this._bitmaps){for(const t of this._bitmaps)t&&t.dispose();this._bitmaps=null}}addBitmap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this._bitmaps.push(new Vy(t,e,s,i,r,n))}getBitmap(t){const e=this.getPlaneTextureBitmap(t);return e?e.bitmap:null}getPlaneTextureBitmap(t){if(!t)return null;for(const e of this._bitmaps)if(e&&t.x>=e.normalMinX&&t.x<=e.normalMaxX&&t.y>=e.normalMinY&&t.y<=e.normalMaxY)return e;return null}getAssetName(t){const e=this.getPlaneTextureBitmap(t);return e?e.assetName:null}}jy.MIN_NORMAL_COORDINATE_VALUE=-1,jy.MAX_NORMAL_COORDINATE_VALUE=1;class ky{constructor(){this._assetCollection=void 0,this._materials=void 0,this._textures=void 0,this._planes=void 0,this._geometries=void 0,this._data=void 0,this._assetCollection=null,this._textures=new Map,this._materials=new Map,this._planes=new Map,this._geometries=new Map,this._data=null}get data(){return this._data}get assetCollection(){return this._assetCollection}initializeDimensions(t,e){return!0}dispose(){if(this._planes){for(const t of this._planes.values())t&&t.dispose();this._planes=null}if(this._materials&&(this.resetMaterials(),this._materials=null),this._textures&&(this.resetTextures(),this._textures=null),this._geometries){for(const t of this._geometries.values())t&&t.dispose();this._geometries=null}this._data=null,this._assetCollection=null}clearCache(){for(const t of this._planes.values())t&&t.clearCache();for(const t of this._materials.values())t&&t.clearCache()}initialize(t){this._data=t}reinitialize(){this.resetTextures(),this.resetMaterials(),this.initializeAll()}resetMaterials(){for(const t of this._materials.values())t&&t.dispose();this._materials.clear()}resetTextures(){for(const t of this._textures.values())t&&t.dispose();this._textures.clear()}getTexture(t){return this._textures.get(t)}getMaterial(t){return this._materials.get(t)}getPlane(t){return this._planes.get(t)}addPlane(t,e){if(!e)return!1;return!this._planes.get(t)&&(this._planes.set(t,e),!0)}initializeAssetCollection(t){this._data&&(this._assetCollection=t,this.initializeAll())}initializeAll(){this._data&&(this.initializeTexturesAndMaterials(),this.initializePlanes())}initializeTexturesAndMaterials(){this._data.textures&&this._data.textures.length&&this.parseTextures(this._data.textures,this.assetCollection),this._data.materials&&this._data.materials.length&&this.parsePlaneMaterials(this._data.materials)}initializePlanes(){}parseTextures(t,e){if(t&&e&&t.length)for(const s of t){if(!s)continue;const t=s.id;if(!this._textures.get(t)){const i=new jy;if(s.bitmaps&&s.bitmaps.length)for(const t of s.bitmaps){if(!t)continue;const s=t.assetName;let r=jy.MIN_NORMAL_COORDINATE_VALUE,n=jy.MAX_NORMAL_COORDINATE_VALUE,a=jy.MIN_NORMAL_COORDINATE_VALUE,o=jy.MAX_NORMAL_COORDINATE_VALUE;void 0!==t.normalMinX&&(r=t.normalMinX),void 0!==t.normalMaxX&&(n=t.normalMaxX),void 0!==t.normalMinY&&(a=t.normalMinY),void 0!==t.normalMaxY&&(o=t.normalMaxY);const h=e.getAsset(s);if(h){const t=h.texture;if(t){let e=t;h.flipH&&(e=je.getFlipHBitmapData(t)),i.addBitmap(e,r,n,a,o,s)}}}this._textures.set(t,i)}}}parsePlaneMaterials(t){if(t&&t.length)for(const e of t){if(!e)continue;const t=e.id,s=new Gy;if(e.matrices&&e.matrices.length)for(const i of e.matrices){if(!i)continue;let t=i.repeatMode,e=i.align;const r=By.MIN_NORMAL_COORDINATE_VALUE,n=By.MAX_NORMAL_COORDINATE_VALUE,a=By.MIN_NORMAL_COORDINATE_VALUE,o=By.MAX_NORMAL_COORDINATE_VALUE;switch(t){case\"borders\":t=By.REPEAT_MODE_BORDERS;break;case\"center\":t=By.REPEAT_MODE_CENTER;break;case\"first\":t=By.REPEAT_MODE_FIRST;break;case\"last\":t=By.REPEAT_MODE_LAST;break;case\"random\":t=By.REPEAT_MODE_RANDOM;break;default:t=By.REPEAT_MODE_DEFAULT}switch(e){case\"top\":e=By.ALIGN_TOP;break;case\"bottom\":e=By.ALIGN_BOTTOM;break;default:e=By.ALIGN_DEFAULT}if(i.columns&&i.columns.length){const h=s.addMaterialCellMatrix(i.columns.length,t,e,r,n,a,o);let _=0;for(;_<i.columns.length;){const t=i.columns[_];t&&this.parsePlaneMaterialCellColumn(t,h,_),_++}}}this._materials.set(t,s)}}parsePlaneMaterialCellColumn(t,e,s){if(!t||!e)return;let i=xy.REPEAT_MODE_ALL;const r=t.width,n=this.parsePlaneMaterialCells(t);switch(t.repeatMode){case\"borders\":i=xy.REPEAT_MODE_BORDERS;break;case\"center\":i=xy.REPEAT_MODE_CENTER;break;case\"first\":i=xy.REPEAT_MODE_FIRST;break;case\"last\":i=xy.REPEAT_MODE_LAST;break;case\"none\":i=xy.REPEAT_MODE_NONE;break;default:i=xy.REPEAT_MODE_ALL}e.createColumn(s,r,n,i)}parsePlaneMaterialCells(t){if(!t||!t.cells||!t.cells.length)return null;const e=[];let s=0;for(;s<t.cells.length;){const i=t.cells[s];if(i){const t=i.textureId;let s=null,r=null,n=null,a=0;if(i.extras&&i.extras.length){const t=i.extras[0],e=t.types,n=t.offsets;if(e&&n&&e.length&&n.length){const i=e[0],o=n[0];s=this.parseExtraItemTypes(i),r=this.parseExtraItemOffsets(o),a=r.length,t.limitMax&&(a=t.limitMax)}}if(s&&s.length){n=[];for(const t of s){if(!t)continue;const e=this._assetCollection.getAsset(t);e&&n.push(e)}}const o=this.getTexture(t),h=new Hy(o,n,r,a);e.push(h)}s++}return e&&e.length?e:null}parseExtraItemTypes(t){const e=[];if(t&&t.types&&t.types.length){let s=0;for(;s<t.types.length;){const i=t.types[s].assetName;i&&e.push(i),s++}}return e}parseExtraItemOffsets(t){const e=[];if(t&&t.offsets&&t.offsets.length){let s=0;for(;s<t.offsets.length;){const i=t.offsets[s],r=i.x,n=i.y;e.push(new j.g(r,n)),s++}}return e}getGeometry(t,e,s){(e=Math.abs(e))>90&&(e=90),(s=Math.abs(s))>90&&(s=90);const i=`${t}_${Math.round(e)}_${Math.round(s)}`;let r=this._geometries.get(i);return r||(r=new ze(t,new dt(e,s),new dt(-10,0,0)),this._geometries.set(i,r),r)}parseVisualizations(t,e){if(t&&e&&e&&e.length)for(const s of e){if(!s)continue;const e=s.size;let i=Fy.HORIZONTAL_ANGLE_DEFAULT,r=Fy.VERTICAL_ANGLE_DEFAULT;s.horizontalAngle&&(i=s.horizontalAngle),s.verticalAngle&&(r=s.verticalAngle);const n=s.layers,a=t.createPlaneVisualization(e,n&&n.length||0,this.getGeometry(e,i,r));if(a&&n&&n.length){let t=0;for(;t<n.length;){const e=n[t];if(e){let s=null,i=Py.ALIGN_DEFAULT,r=Fy.DEFAULT_COLOR,n=Py.DEFAULT_OFFSET;e.materialId&&(s=this.getMaterial(e.materialId)),e.color&&(r=e.color),e.offset&&(n=e.offset),e.align&&(\"bottom\"===e.align?i=Py.ALIGN_BOTTOM:\"top\"==e.align&&(i=Py.ALIGN_TOP)),a.setLayer(t,s,r,i,n)}t++}}}}render(t,e,s,i,r,n,a){return null}getTextureIdentifier(t,e){return t.toString()}getLayers(t){let e=this.getPlane(t);return e||(e=this.getPlane(ky.DEFAULT)),e.getLayers()}}ky.DEFAULT=\"default\";class zy extends wy{constructor(){super(...arguments),this._width=0,this._height=0}isStatic(t){const e=this.getPlaneVisualization(t);return e?!e.hasAnimationLayers:super.isStatic(t)}initializeDimensions(t,e){t<0&&(t=0),e<0&&(e=0),t===this._width&&e===this._height||(this._width=t,this._height=e)}render(t,e,s,i,r,n,a,o,h,_,d){const u=this.getPlaneVisualization(i);if(!u||!u.geometry)return null;const c=u.geometry.getScreenPoint(new dt(0,0,0)),l=u.geometry.getScreenPoint(new dt(0,0,1)),g=u.geometry.getScreenPoint(new dt(0,1,0));if(c&&l&&g){e=Math.round(Math.abs((c.x-g.x)*e/u.geometry.scale)),s=Math.round(Math.abs((c.y-l.y)*s/u.geometry.scale));const i=a*Math.abs(c.x-g.x),E=o*Math.abs(c.y-l.y),p=h*Math.abs(c.x-g.x),m=_*Math.abs(c.y-l.y);return u.render(t,e,s,r,n,i,E,p,m,h,_,d)}return null}}zy.DEFAULT_COLOR=16777215,zy.HORIZONTAL_ANGLE_DEFAULT=45,zy.VERTICAL_ANGLE_DEFAULT=30;class Yy extends ky{constructor(){super(...arguments),this._landscapeWidth=0,this._landscapeHeight=0}initializeDimensions(t,e){return t<0&&(t=0),e<0&&(e=0),this._landscapeWidth=t,this._landscapeHeight=e,!0}initializePlanes(){if(!this.data)return;const t=this.data.landscapes;t&&t.length&&this.parseLandscapes(t)}parseLandscapes(t){if(!t)return;const e=Math.trunc(654321*Math.random());for(const s in t){const i=t[s];if(!i)continue;const r=i.id,n=i.animatedVisualizations,a=new zy;for(const t of n){if(!t)continue;const s=t.size;let i=zy.HORIZONTAL_ANGLE_DEFAULT,r=zy.VERTICAL_ANGLE_DEFAULT;t.horizontalAngle&&(i=t.horizontalAngle),t.verticalAngle&&(r=t.verticalAngle);const n=t.layers,o=t.animationLayers,h=n&&n.length||0,_=o&&o.length||0,d=h+_,u=a.createPlaneVisualization(s,d||0,this.getGeometry(s,i,r));if(u){Sy.setSeed(e);let t=0;if(h)for(;t<n.length;){const e=n[t];if(e){let s=null,i=Py.ALIGN_DEFAULT,r=zy.DEFAULT_COLOR,n=Py.DEFAULT_OFFSET;e.materialId&&(s=this.getMaterial(e.materialId)),e.color&&(r=e.color),e.offset&&(n=e.offset),e.align&&(\"bottom\"===e.align?i=Py.ALIGN_BOTTOM:\"top\"===e.align&&(i=Py.ALIGN_TOP)),u.setLayer(t,s,r,i,n)}t++}if(t=0,_){const e=[];for(;t<o.length;){const s=o[t];if(s){const t=s.animationItems;if(t&&t.length)for(const s of t)if(s){s.id;const t=s.assetId,i=this.getCoordinateValue(s.x||\"\",s.randomX||\"\"),r=this.getCoordinateValue(s.y||\"\",s.randomY||\"\"),n=s.speedX?s.speedX/lL.instance.getConfiguration(\"system.animation.fps\"):0,a=s.speedY?s.speedY/lL.instance.getConfiguration(\"system.animation.fps\"):0;e.push({asset:t,x:i,y:r,speedX:n,speedY:a})}}t++}u.setAnimationLayer(t,e,this.assetCollection)}}}this.addPlane(r,a)||a.dispose()}}getCoordinateValue(t,e){let s=0;if(t.length>0&&\"%\"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1),s=parseFloat(t)/100),e.length>0){const t=1e4,i=Sy.getValues(1,0,t)[0]/t;\"%\"===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1),s+=i*parseFloat(e)/100)}return s}render(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,c=this.getPlane(e);if(c||(c=this.getPlane(Yy.DEFAULT)),!c)return null;t&&t.clear();let l=c.render(t,s,i,r,n,a,o,h,_,d,u);if(l&&l!==t&&(l=l.clone(),!l))return null;let g=null;return g=!c.isStatic(r)&&Yy.UPDATE_INTERVAL>0?new Ay(l,Math.round(u/Yy.UPDATE_INTERVAL)*Yy.UPDATE_INTERVAL+Yy.UPDATE_INTERVAL):new Ay(l,-1),g}getTextureIdentifier(t,e){return e?e.x<0?t+\"_0\":t+\"_1\":super.getTextureIdentifier(t,e)}}Yy.UPDATE_INTERVAL=500;class Wy extends ky{initializePlanes(){if(!this.data)return;const t=this.data.floors;t&&t.length&&this.parseFloors(t)}parseFloors(t){if(t)for(const e in t){const s=t[e];if(!s)continue;const i=s.id,r=s.visualizations,n=new Fy;this.parseVisualizations(n,r),this.addPlane(i,n)||n.dispose()}}render(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,_=this.getPlane(e);if(_||(_=this.getPlane(ky.DEFAULT)),!_)return null;t&&t.clear();let d=_.render(t,s,i,r,n,a,o,h);return d&&d!==t&&(d=d.clone(),!d)?null:new Ay(d,-1)}}class Ky extends wy{render(t,e,s,i,r,n){const a=this.getPlaneVisualization(i);if(!a||!a.geometry)return null;const o=a.geometry.getScreenPoint(new dt(0,0,0)),h=a.geometry.getScreenPoint(new dt(0,0,s/a.geometry.scale)),_=a.geometry.getScreenPoint(new dt(0,e/a.geometry.scale,0));return o&&h&&_&&(e=Math.round(Math.abs(o.x-_.x)),s=Math.round(Math.abs(o.y-h.y))),a.render(t,e,s,r,n)}}Ky.DEFAULT_COLOR=16777215,Ky.HORIZONTAL_ANGLE_DEFAULT=45,Ky.VERTICAL_ANGLE_DEFAULT=30;class Xy extends ky{initializePlanes(){if(!this.data)return;const t=this.data.walls;t&&t.length&&this.parseWalls(t)}parseWalls(t){if(t)for(const e in t){const s=t[e];if(!s)continue;const i=s.id,r=s.visualizations,n=new Ky;this.parseVisualizations(n,r),this.addPlane(i,n)||n.dispose()}}render(t,e,s,i,r,n,a){let o=this.getPlane(e);if(o||(o=this.getPlane(ky.DEFAULT)),!o)return null;if(t){const e=t.getBounds();t.clear(),t.drawRect(e.x,e.y,e.width,e.height)}let h=o.render(t,s,i,r,n,a);return h&&h!==t&&(h=h.clone(),!h)?null:new Ay(h,-1)}getTextureIdentifier(t,e){return e?`${t}_${e.x}_${e.y}_${e.z}`:super.getTextureIdentifier(t,e)}}class qy extends c{constructor(){super(),this._wallRasterizer=void 0,this._floorRasterizer=void 0,this._landscapeRasterizer=void 0,this._maskManager=void 0,this._initialized=void 0,this._wallRasterizer=new Xy,this._floorRasterizer=new Wy,this._landscapeRasterizer=new Yy,this._maskManager=new Cy,this._initialized=!1}initialize(t){const e=t.wallData;e&&this._wallRasterizer.initialize(e);const s=t.floorData;s&&this._floorRasterizer.initialize(s);const i=t.landscapeData;i&&this._landscapeRasterizer.initialize(i);const r=t.maskData;return r&&this._maskManager.initialize(r),!0}onDispose(){this._wallRasterizer&&(this._wallRasterizer.dispose(),this._wallRasterizer=null),this._floorRasterizer&&(this._floorRasterizer.dispose(),this._floorRasterizer=null),this._landscapeRasterizer&&(this._landscapeRasterizer.dispose(),this._landscapeRasterizer=null),this._maskManager&&(this._maskManager.dispose(),this._maskManager=null),super.onDispose()}setGraphicAssetCollection(t){this._initialized||(this._wallRasterizer.initializeAssetCollection(t),this._floorRasterizer.initializeAssetCollection(t),this._landscapeRasterizer.initializeAssetCollection(t),this._maskManager.initializeAssetCollection(t),this._initialized=!0)}clearCache(){this._wallRasterizer&&this._wallRasterizer.clearCache(),this._floorRasterizer&&this._floorRasterizer.clearCache(),this._landscapeRasterizer&&this._landscapeRasterizer.clearCache()}get wallRasterizer(){return this._wallRasterizer}get floorRasterizer(){return this._floorRasterizer}get landscapeRasterizer(){return this._landscapeRasterizer}get maskManager(){return this._maskManager}}class Qy extends xe{constructor(){super(),this._data=void 0,this._roomPlaneParser=void 0,this._roomPlaneBitmapMaskParser=void 0,this._geometryUpdateId=void 0,this._boundingRectangle=void 0,this._directionX=void 0,this._directionY=void 0,this._directionZ=void 0,this._floorThickness=void 0,this._wallThickness=void 0,this._holeUpdateTime=void 0,this._planes=void 0,this._visiblePlanes=void 0,this._visiblePlaneSpriteNumbers=void 0,this._roomScale=void 0,this._lastUpdateTime=void 0,this._updateIntervalTime=void 0,this._wallType=void 0,this._floorType=void 0,this._landscapeType=void 0,this._colorBackgroundOnly=void 0,this._color=void 0,this._redColor=void 0,this._greenColor=void 0,this._blueColor=void 0,this._typeVisibility=void 0,this._assetUpdateCounter=void 0,this._maskData=void 0,this._isPlaneSet=void 0,this._data=null,this._roomPlaneParser=new x_,this._roomPlaneBitmapMaskParser=new Ty,this._geometryUpdateId=-1,this._directionX=0,this._directionY=0,this._directionZ=0,this._floorThickness=1,this._wallThickness=1,this._holeUpdateTime=NaN,this._planes=[],this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[],this._roomScale=0,this._lastUpdateTime=-1e3,this._updateIntervalTime=250,this._wallType=null,this._floorType=null,this._landscapeType=null,this._colorBackgroundOnly=!0,this._color=16777215,this._redColor=255,this._greenColor=255,this._blueColor=255,this._typeVisibility=[],this._assetUpdateCounter=0,this._maskData=null,this._isPlaneSet=!1,this._typeVisibility[Ny.TYPE_UNDEFINED]=!1,this._typeVisibility[Ny.TYPE_FLOOR]=!0,this._typeVisibility[Ny.TYPE_WALL]=!0,this._typeVisibility[Ny.TYPE_LANDSCAPE]=!0}static getTextureCache(t){const e=Qy.RENDER_TEXTURE_CACHE.get(Qy.LAST_VISUALIZATION);return e?e.getValue(t):null}static addTextureCache(t,e){if(!Qy.LAST_VISUALIZATION)return;let s=Qy.RENDER_TEXTURE_CACHE.get(Qy.LAST_VISUALIZATION);s||(s=new U,Qy.RENDER_TEXTURE_CACHE.set(Qy.LAST_VISUALIZATION,s)),s.add(t,e)}initialize(t){return t instanceof qy&&(this._data=t,super.initialize(t),this._data.setGraphicAssetCollection(this.asset),!0)}dispose(){super.dispose(),this.clearPlanes(),this._planes=null,this._visiblePlanes=null,this._visiblePlaneSpriteNumbers=null,this._roomPlaneParser&&(this._roomPlaneParser.dispose(),this._roomPlaneParser=null),this._roomPlaneBitmapMaskParser&&(this._roomPlaneBitmapMaskParser.dispose(),this._roomPlaneBitmapMaskParser=null),this._data&&(this._data.clearCache(),this._data=null);const t=Qy.RENDER_TEXTURE_CACHE.get(this);if(t){for(const e of t.getValues())e.destroy(!0);t.dispose(),Qy.RENDER_TEXTURE_CACHE.delete(this)}}reset(){super.reset(),this._floorType=null,this._wallType=null,this._landscapeType=null,this._maskData=null,this._geometryUpdateId=-1,this._roomScale=0}update(t,e,s,i){if(!this.object||!t)return;Qy.LAST_VISUALIZATION=this;let r=0;const n=Qy.RENDER_TEXTURE_CACHE.get(Qy.LAST_VISUALIZATION);n&&(r=n.length);const a=this.updateGeometry(t),o=this.object.model;let h=!1;if(this.updateThickness(o)&&(h=!0),this.updateHole(o)&&(h=!0),this.initializeRoomPlanes()&&n&&r&&setTimeout((()=>{for(;r;){const t=n.getWithIndex(0);t&&(t.destroy(!0),n.remove(n.getKey(0))),r--}}),0),h=this.updateMasks(o),!(e<this._lastUpdateTime+this._updateIntervalTime)||a||h){if(this.updatePlaneTexturesAndVisibilities(o)&&(h=!0),this.updatePlanes(t,a,e)&&(h=!0),h){let t=0;for(;t<this._visiblePlanes.length;){const e=this._visiblePlaneSpriteNumbers[t],s=this.getSprite(e),i=this._visiblePlanes[t];if(s&&i&&i.type!==Ny.TYPE_LANDSCAPE)if(this._colorBackgroundOnly){let t=i.color;const e=(255&t)*this._redColor/255,r=(t>>8&255)*this._greenColor/255;t=(t>>24<<24)+((t>>16&255)*this._blueColor/255<<16)+(r<<8)+e,s.color=t}else s.color=i.color;t++}this.updateSpriteCounter++}this.updateModelCounter=o.updateCounter,this._lastUpdateTime=e}}updateGeometry(t){if(!t)return!1;if(this._geometryUpdateId===t.updateId)return!1;this._geometryUpdateId=t.updateId,this._boundingRectangle=null;const e=t.direction;return!(!e||e.x===this._directionX&&e.y===this._directionY&&e.z===this._directionZ&&t.scale===this._roomScale)&&(this._directionX=e.x,this._directionY=e.y,this._directionZ=e.z,this._roomScale=t.scale,!0)}updateThickness(t){if(this.updateModelCounter===t.updateCounter)return!1;const e=t.getValue(rt.ROOM_FLOOR_THICKNESS),s=t.getValue(rt.ROOM_WALL_THICKNESS);return!(isNaN(e)||isNaN(s)||e===this._floorThickness&&s===this._wallThickness)&&(this._floorThickness=e,this._wallThickness=s,this.clearPlanes(),!0)}updateHole(t){if(this.updateModelCounter===t.updateCounter)return!1;const e=t.getValue(rt.ROOM_FLOOR_HOLE_UPDATE_TIME);return!isNaN(e)&&e!==this._holeUpdateTime&&(this._holeUpdateTime=e,this.clearPlanes(),!0)}updateMasks(t){if(this.updateModelCounter===t.updateCounter)return!1;let e=!1;const s=t.getValue(rt.ROOM_PLANE_MASK_XML);s!==this._maskData&&(this.updatePlaneMasks(s),this._maskData=s,e=!0);const i=t.getValue(rt.ROOM_BACKGROUND_COLOR);i!==this._color&&(this._color=i,this._redColor=255&this._color,this._greenColor=this._color>>8&255,this._blueColor=this._color>>16&255,e=!0);const r=t.getValue(rt.ROOM_COLORIZE_BG_ONLY)||!1;return r!==this._colorBackgroundOnly&&(this._colorBackgroundOnly=r,e=!0),e}updatePlaneTexturesAndVisibilities(t){if(this.updateModelCounter===t.updateCounter)return!1;const e=t.getValue(rt.ROOM_FLOOR_TYPE),s=t.getValue(rt.ROOM_WALL_TYPE),i=t.getValue(rt.ROOM_LANDSCAPE_TYPE);this.updatePlaneTypes(e,s,i);const r=1===t.getValue(rt.ROOM_FLOOR_VISIBILITY),n=1===t.getValue(rt.ROOM_WALL_VISIBILITY),a=1===t.getValue(rt.ROOM_LANDSCAPE_VISIBILITY);return this.updatePlaneVisibility(r,n,a),!0}clearPlanes(){if(this._planes){for(;this._planes.length;){const t=this._planes[0];t&&t.dispose(),this._planes.pop()}this._planes=[],this._planes=[]}this._isPlaneSet=!1,this._assetUpdateCounter=this._assetUpdateCounter+1,this.reset()}initializeRoomPlanes(){if(!this.object||this._isPlaneSet)return!1;isNaN(this._floorThickness)||(this._roomPlaneParser.floorThicknessMultiplier=this._floorThickness),isNaN(this._wallThickness)||(this._roomPlaneParser.wallThicknessMultiplier=this._wallThickness);const t=this.object.model.getValue(rt.ROOM_MAP_DATA);if(!this._roomPlaneParser.initializeFromMapData(t))return;const e=this.getLandscapeWidth(),s=this.getLandscapeHeight();let i=0,r=this.object.model.getValue(rt.ROOM_RANDOM_SEED),n=0;for(;n<this._roomPlaneParser.planeCount;){const t=this._roomPlaneParser.getPlaneLocation(n),a=this._roomPlaneParser.getPlaneLeftSide(n),o=this._roomPlaneParser.getPlaneRightSide(n),h=this._roomPlaneParser.getPlaneSecondaryNormals(n),_=this._roomPlaneParser.getPlaneType(n);let d=null;if(!(t&&a&&o))return;{const u=dt.crossProduct(a,o);if(r=7613*r+517,d=null,_===w_.PLANE_FLOOR){const e=t.x+a.x+.5,s=t.y+o.y+.5,i=Math.trunc(e)-e,n=Math.trunc(s)-s;d=new Ny(this.object.getLocation(),t,a,o,Ny.TYPE_FLOOR,!0,h,r,-i,-n),0!==u.z?d.color=Qy.FLOOR_COLOR:d.color=0!==u.x?Qy.FLOOR_COLOR_RIGHT:Qy.FLOOR_COLOR_LEFT,this._data&&(d.rasterizer=this._data.floorRasterizer)}else _===w_.PLANE_WALL?(d=new Ny(this.object.getLocation(),t,a,o,Ny.TYPE_WALL,!0,h,r),(a.length<1||o.length<1)&&(d.hasTexture=!1),0===u.x&&0===u.y?d.color=Qy.WALL_COLOR_BORDER:u.y>0?d.color=Qy.WALL_COLOR_TOP:0===u.y?d.color=Qy.WALL_COLOR_SIDE:d.color=Qy.WALL_COLOR_BOTTOM,this._data&&(d.rasterizer=this._data.wallRasterizer)):_===w_.PLANE_LANDSCAPE?(d=new Ny(this.object.getLocation(),t,a,o,Ny.TYPE_LANDSCAPE,!0,h,r,i,0,e,s),u.y>0?d.color=Qy.LANDSCAPE_COLOR_TOP:0==u.y?d.color=Qy.LANDSCAPE_COLOR_SIDE:d.color=Qy.LANDSCAPE_COLOR_BOTTOM,this._data&&(d.rasterizer=this._data.landscapeRasterizer),i+=a.length):_==w_.PLANE_BILLBOARD&&(d=new Ny(this.object.getLocation(),t,a,o,Ny.TYPE_WALL,!0,h,r),(a.length<1||o.length<1)&&(d.hasTexture=!1),0==u.x&&0==u.y?d.color=Qy.WALL_COLOR_BORDER:u.y>0?d.color=Qy.WALL_COLOR_TOP:0==u.y?d.color=Qy.WALL_COLOR_SIDE:d.color=Qy.WALL_COLOR_BOTTOM);if(d){d.maskManager=this._data.maskManager;let t=0;for(;t<this._roomPlaneParser.getPlaneMaskCount(n);){const e=this._roomPlaneParser.getPlaneMaskLeftSideLoc(n,t),s=this._roomPlaneParser.getPlaneMaskRightSideLoc(n,t),i=this._roomPlaneParser.getPlaneMaskLeftSideLength(n,t),r=this._roomPlaneParser.getPlaneMaskRightSideLength(n,t);d.addRectangleMask(e,s,i,r),t++}this._planes.push(d)}}n++}return this._isPlaneSet=!0,this.defineSprites(),!0}defineSprites(){this.createSprites(this._planes.length);let t=0;for(;t<this._planes.length;){const e=this._planes[t],s=this.getSprite(t);e&&s&&e.leftSide&&e.rightSide&&(e.type===Ny.TYPE_WALL&&(e.leftSide.length<1||e.rightSide.length<1)?s.alphaTolerance=Pe.MATCH_NOTHING:s.alphaTolerance=Pe.MATCH_OPAQUE_PIXELS,e.type===Ny.TYPE_WALL?s.tag=\"plane.wall@\"+(t+1):e.type===Ny.TYPE_FLOOR?s.tag=\"plane.floor@\"+(t+1):s.tag=\"plane@\"+(t+1),s.spriteType=be.ROOM_PLANE),t++}}getLandscapeWidth(){let t=0,e=0;for(;e<this._roomPlaneParser.planeCount;){if(this._roomPlaneParser.getPlaneType(e)===w_.PLANE_LANDSCAPE){t+=this._roomPlaneParser.getPlaneLeftSide(e).length}e++}return t}getLandscapeHeight(){let t=0,e=0;for(;e<this._roomPlaneParser.planeCount;){if(this._roomPlaneParser.getPlaneType(e)===w_.PLANE_LANDSCAPE){const s=this._roomPlaneParser.getPlaneRightSide(e);s.length>t&&(t=s.length)}e++}return t>5&&(t=5),t}updatePlaneTypes(t,e,s){if(t!==this._floorType?this._floorType=t:t=null,e!==this._wallType?this._wallType=e:e=null,s!==this._landscapeType?this._landscapeType=s:s=null,!t&&!e&&!s)return!1;let i=0;for(;i<this._planes.length;){const r=this._planes[i];r&&(r.type===Ny.TYPE_FLOOR&&t?r.id=t:r.type===Ny.TYPE_WALL&&e?r.id=e:r.type===Ny.TYPE_LANDSCAPE&&s&&(r.id=s)),i++}return!0}updatePlaneVisibility(t,e,s){t===this._typeVisibility[Ny.TYPE_FLOOR]&&e===this._typeVisibility[Ny.TYPE_WALL]&&s===this._typeVisibility[Ny.TYPE_LANDSCAPE]||(this._typeVisibility[Ny.TYPE_FLOOR]=t,this._typeVisibility[Ny.TYPE_WALL]=e,this._typeVisibility[Ny.TYPE_LANDSCAPE]=s,this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[])}updatePlanes(t,e,s){if(!t||!this.object)return;this._assetUpdateCounter++,e&&(this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[]);const i=this._visiblePlanes.length>0;let r=this._visiblePlanes;this._visiblePlanes.length||(r=this._planes);let n=0,a=!1,o=0;for(;o<r.length;){let e=o;i&&(e=this._visiblePlaneSpriteNumbers[o]);const h=this.getSprite(e);if(h){const _=r[o];if(_){if(h.id=_.uniqueId,_.update(t,s)){if(_.visible){n=_.relativeDepth+this.floorRelativeDepth+e/1e3,_.type!==Ny.TYPE_FLOOR&&(n=_.relativeDepth+this.wallRelativeDepth+e/1e3,(_.leftSide.length<1||_.rightSide.length<1)&&(n+=.5*Qy.ROOM_DEPTH_OFFSET));const s=\"plane \"+e+\" \"+t.scale;this.updateSprite(h,_,s,n)}a=!0}h.visible!=(_.visible&&this._typeVisibility[_.type])&&(h.visible=!h.visible,a=!0),h.visible&&(i||(this._visiblePlanes.push(_),this._visiblePlaneSpriteNumbers.push(o)))}else h.id=0,h.visible&&(h.visible=!1,a=!0)}o++}return a}updatePlaneMasks(t){if(!t)return;this._roomPlaneBitmapMaskParser.initialize(t);const e=[],s=[];let i=!1,r=0;for(;r<this._planes.length;){const t=this._planes[r];t&&(t.resetBitmapMasks(),t.type===Ny.TYPE_LANDSCAPE&&e.push(r)),r++}for(const n of this._roomPlaneBitmapMaskParser.masks.values()){const t=this._roomPlaneBitmapMaskParser.getMaskType(n),e=this._roomPlaneBitmapMaskParser.getMaskLocation(n),r=this._roomPlaneBitmapMaskParser.getMaskCategory(n);if(e){let n=0;for(;n<this._planes.length;){const a=this._planes[n];if((a.type===Ny.TYPE_WALL||a.type===Ny.TYPE_LANDSCAPE)&&a&&a.location&&a.normal){const o=dt.dif(e,a.location);if(Math.abs(dt.scalarProjection(o,a.normal))<.01&&a.leftSide&&a.rightSide){const e=dt.scalarProjection(o,a.leftSide),h=dt.scalarProjection(o,a.rightSide);a.type===Ny.TYPE_WALL||a.type===Ny.TYPE_LANDSCAPE&&r===Iy.HOLE?a.addBitmapMask(t,e,h):a.type===Ny.TYPE_LANDSCAPE&&(a.canBeVisible||(i=!0),a.canBeVisible=!0,s.push(n))}}n++}}}for(r=0;r<e.length;){const t=e[r];if(s.indexOf(t)<0){this._planes[t].canBeVisible=!1,i=!0}r++}i&&(this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[])}updateSprite(t,e,s,i){const r=e.offset;t.offsetX=-r.x,t.offsetY=-r.y,t.relativeDepth=i,t.color=e.color,t.texture=this.getPlaneBitmap(e,s),t.name=s+\"_\"+this._assetUpdateCounter}getPlaneBitmap(t,e){return t.bitmapData}getBoundingRectangle(){return this._boundingRectangle||(this._boundingRectangle=super.getBoundingRectangle()),new j.j(this._boundingRectangle.x,this._boundingRectangle.y,this._boundingRectangle.width,this._boundingRectangle.height)}get planes(){const t=[];for(const e of this._visiblePlanes)t.push(e);return t}get floorRelativeDepth(){return Qy.ROOM_DEPTH_OFFSET+.1}get wallRelativeDepth(){return Qy.ROOM_DEPTH_OFFSET+.5}}Qy.LAST_VISUALIZATION=null,Qy.RENDER_TEXTURE_CACHE=new Map,Qy.FLOOR_COLOR=16777215,Qy.FLOOR_COLOR_LEFT=14540253,Qy.FLOOR_COLOR_RIGHT=12303291,Qy.WALL_COLOR_TOP=16777215,Qy.WALL_COLOR_SIDE=13421772,Qy.WALL_COLOR_BOTTOM=10066329,Qy.WALL_COLOR_BORDER=10066329,Qy.LANDSCAPE_COLOR_TOP=16777215,Qy.LANDSCAPE_COLOR_SIDE=13421772,Qy.LANDSCAPE_COLOR_BOTTOM=10066329,Qy.ROOM_DEPTH_OFFSET=1e3;class Zy extends NN{constructor(){super(),this._tileHeight=void 0,this._tileHeight=0}getLayerYOffset(t,e,s){return 1===s?(this._tileHeight=this.object.model.getValue(rt.TILE_CURSOR_HEIGHT),32*-this._tileHeight):super.getLayerYOffset(t,e,s)}}class Jy{constructor(){this._visualizationDatas=void 0,this._visualizationDatas=new Map}getVisualization(t){const e=this.getVisualizationType(t);return e?new e:null}getVisualizationType(t){if(!t)return null;let e=null;switch(t){case nt.ROOM:e=Qy;break;case nt.TILE_CURSOR:e=Zy;break;case nt.USER:case nt.BOT:case nt.RENTABLE_BOT:e=_N;break;case nt.PET_ANIMATED:e=my;break;case nt.FURNITURE_STATIC:e=SN;break;case nt.FURNITURE_ANIMATED:e=NN;break;case nt.FURNITURE_RESETTING_ANIMATED:e=ry;break;case nt.FURNITURE_BADGE_DISPLAY:e=yN;break;case nt.FURNITURE_BG:e=ny;break;case nt.FURNITURE_BB:e=MN;break;case nt.FURNITURE_ISOMETRIC_BB:e=QN;break;case nt.FURNITURE_BOTTLE:e=CN;break;case nt.FURNITURE_BUILDER_PLACEHOLDER:e=LN;break;case nt.FURNITURE_COUNTER_CLOCK:e=UN;break;case nt.FURNITURE_CUBOID:e=PN;break;case nt.FURNITURE_EXTERNAL_IMAGE:e=FN;break;case nt.FURNITURE_FIREWORKS:e=zN;break;case nt.FURNITURE_GIFT_WRAPPED_FIREWORKS:e=YN;break;case nt.FURNITURE_GIFT_WRAPPED:e=WN;break;case nt.FURNITURE_GUILD_CUSTOMIZED:e=KN;break;case nt.FURNITURE_GUILD_ISOMETRIC_BADGE:e=XN;break;case nt.FURNITURE_HABBOWHEEL:e=qN;break;case nt.FURNITURE_MANNEQUIN:e=JN;break;case nt.FURNITURE_PARTY_BEAMER:e=$N;break;case nt.FURNITURE_PLANET_SYSTEM:e=ey;break;case nt.FURNITURE_POSTER:e=sy;break;case nt.FURNITURE_QUEUE_TILE:e=iy;break;case nt.FURNITURE_SCORE_BOARD:e=ay;break;case nt.FURNITURE_SOUNDBLOCK:e=oy;break;case nt.FURNITURE_STICKIE:e=hy;break;case nt.FURNITURE_VAL_RANDOMIZER:e=_y;break;case nt.FURNITURE_VOTE_COUNTER:e=dy;break;case nt.FURNITURE_VOTE_MAJORITY:e=uy;break;case nt.FURNITURE_WATER_AREA:e=cy;break;case nt.FURNITURE_YOUTUBE:e=ly}return e||(l.log(`Unknown Visualization: ${t}`),null)}getVisualizationData(t,e,s){const i=this._visualizationDatas.get(t);if(i)return i;let r=null;switch(e){case nt.FURNITURE_STATIC:case nt.FURNITURE_GIFT_WRAPPED:case nt.FURNITURE_BB:case nt.FURNITURE_ISOMETRIC_BB:case nt.FURNITURE_BG:case nt.FURNITURE_STICKIE:case nt.FURNITURE_BUILDER_PLACEHOLDER:r=new ON;break;case nt.FURNITURE_ANIMATED:case nt.FURNITURE_RESETTING_ANIMATED:case nt.FURNITURE_POSTER:case nt.FURNITURE_HABBOWHEEL:case nt.FURNITURE_VAL_RANDOMIZER:case nt.FURNITURE_BOTTLE:case nt.FURNITURE_PLANET_SYSTEM:case nt.FURNITURE_QUEUE_TILE:case nt.FURNITURE_PARTY_BEAMER:case nt.FURNITURE_COUNTER_CLOCK:case nt.FURNITURE_WATER_AREA:case nt.FURNITURE_SCORE_BOARD:case nt.FURNITURE_FIREWORKS:case nt.FURNITURE_GIFT_WRAPPED_FIREWORKS:case nt.FURNITURE_GUILD_CUSTOMIZED:case nt.FURNITURE_GUILD_ISOMETRIC_BADGE:case nt.FURNITURE_VOTE_COUNTER:case nt.FURNITURE_VOTE_MAJORITY:case nt.FURNITURE_SOUNDBLOCK:case nt.FURNITURE_BADGE_DISPLAY:case nt.FURNITURE_EXTERNAL_IMAGE:case nt.FURNITURE_YOUTUBE:case nt.TILE_CURSOR:r=new AN;break;case nt.FURNITURE_MANNEQUIN:r=new ZN;break;case nt.ROOM:r=new qy;break;case nt.USER:case nt.BOT:case nt.RENTABLE_BOT:r=new hN;break;case nt.PET_ANIMATED:r=new py}return r?r.initialize(s)?((r instanceof hN||r instanceof ZN)&&(r.avatarManager=lL.instance.avatar),Jy.CACHING_ENABLED&&this._visualizationDatas.set(t,r),r):(r.dispose(),null):null}}Jy.CACHING_ENABLED=!0;class $y{}$y.ROOM_MIN_X=\"room_min_x\",$y.ROOM_MAX_X=\"room_max_x\",$y.ROOM_MIN_Y=\"room_min_y\",$y.ROOM_MAX_Y=\"room_max_y\",$y.ROOM_IS_PUBLIC=\"room_is_public\",$y.ROOM_Z_SCALE=\"room_z_scale\",$y.AD_DISPLAY_DELAY=\"ad_display_delay\",$y.IS_PLAYING_GAME=\"is_playing_game\",$y.RESTRICTS_DRAGGING=\"restricts_dragging\",$y.RESTRICTS_SCALING=\"restricts_scaling\",$y.RESTRICTED_SCALE=\"room_scale\";class tD{constructor(t,e){this._width=void 0,this._height=void 0,this._heights=void 0,this._isNotStackable=void 0,this._isRoomTile=void 0,this._width=t,this._height=e,this._heights=[],this._isNotStackable=[],this._isRoomTile=[];let s=t*e;for(;s>0;)this._heights.push(0),this._isNotStackable.push(!1),this._isRoomTile.push(!1),s--}dispose(){this._width=0,this._height=0,this._height=null,this._isNotStackable=null,this._isRoomTile=null}validPosition(t,e){return t>=0&&t<this._width&&e>=0&&e<this._height}getTileHeight(t,e){return this.validPosition(t,e)?this._heights[e*this._width+t]:0}setTileHeight(t,e,s){this.validPosition(t,e)&&(this._heights[e*this._width+t]=s)}setStackingBlocked(t,e,s){this.validPosition(t,e)&&(this._isNotStackable[e*this._width+t]=s)}setIsRoomTile(t,e,s){this.validPosition(t,e)&&(this._isRoomTile[e*this._width+t]=s)}validateLocation(t,e,s,i,r,n,a,o,h){let _=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1,d=0,u=0;if(!this.validPosition(t,e)||!this.validPosition(t+s-1,e+i-1))return!1;(r<0||r>=this._width)&&(r=0),(n<0||n>=this._height)&&(n=0),a=Math.min(a,this._width-r),o=Math.min(o,this._height-n),-1===_&&(_=this.getTileHeight(t,e));let c=e;for(;c<e+i;){for(d=t;d<t+s;){if(d<r||d>=r+a||c<n||c>=n+o)if(u=c*this._width+d,h){if(!this._isRoomTile[u])return!1}else if(this._isNotStackable[u]||!this._isRoomTile[u]||Math.abs(this._heights[u]-_)>.01)return!1;d++}c++}return!0}get width(){return this._width}get height(){return this._height}}class eD{constructor(){this._isDisposed=void 0,this._scale=void 0,this._heightMap=void 0,this._width=void 0,this._height=void 0,this._floorHeight=void 0,this._isDisposed=!1,this._scale=64,this._heightMap=[],this._width=0,this._height=0,this._floorHeight=0}get disposed(){return this._isDisposed}get scale(){return this._scale}set scale(t){this._scale=t}dispose(){this.reset(),this._isDisposed=!0}initialize(t,e,s){if(t<=this._width&&e<=this._height)return this._width=t,this._height=e,void(this._floorHeight=s);this.reset();let i=0;for(;i<e;){const e=[];this._heightMap.push(e);let s=0;for(;s<t;)e.push(0),s++;i++}this._width=t,this._height=e,this._floorHeight=s}reset(){this._heightMap=[]}setHeight(t,e,s){if(t<0||t>=this._width||e<0||e>=this._height)return!1;const i=this._heightMap[e];return!!i&&(i[t]=s,!0)}getHeight(t,e){if(t<0||t>=this._width||e<0||e>=this._height)return 0;const s=this._heightMap[e];return s?s[t]:0}getLocation(t,e,s,i,r){let n,a,o;if(0==t&&0==e)if(t=this._width,e=this._height,n=Math.round(this.scale/10),r==eD.R){for(o=this._width-1;o>=0;){for(a=1;a<this._height;){if(this.getHeight(o,a)<=this._floorHeight){a-1<e&&(t=o,e=a-1);break}a++}o--}i+=this.scale/4-n/2,s+=this.scale/2}else{for(a=this._height-1;a>=0;){for(o=1;o<this._width;){if(this.getHeight(o,a)<=this._floorHeight){o-1<t&&(t=o-1,e=a);break}o++}a--}i+=this.scale/4-n/2,s-=n}let h=t,_=e,d=this.getHeight(t,e);r==eD.R?(h+=s/(this._scale/2)-.5,_+=.5,d-=(i-s/2)/(this._scale/2)):(_+=(this._scale/2-s)/(this._scale/2)-.5,h+=.5,d-=(i-(this._scale/2-s)/2)/(this._scale/2));return new dt(h,_,d)}getLocationOldFormat(t,e,s){let i,r,n,a,o,h=0,_=0;r=Math.ceil(t),h=r-t;let d=0;for(i=0;i<this._width;){if(r>=0&&r<this._height){if(this.getHeight(i,r)<=this._floorHeight){n=i-1,a=r,_=i,s=eD.L;break}if(this.getHeight(i,r+1)<=this._floorHeight){n=i,a=r,_=a-t,s=eD.R;break}}r++,i++}const u=this.scale/2*h;let c=-_*this.scale/2;return c+=18*-e/32*this.scale/2,d=this.getHeight(n,a),o=d*this.scale/2+c,s==eD.R?o+=h*this.scale/4:o+=(1-h)*this.scale/4,this.getLocation(n,a,u,o,s)}getOldLocation(t,e){if(null==t)return null;let s=0,i=0,r=0,n=0,a=\"\",o=0;if(90==e)s=Math.floor(t.x-.5),i=Math.floor(t.y+.5),o=this.getHeight(s,i),r=this._scale/2-(t.y-i+.5)*(this._scale/2),n=(o-t.z)*(this._scale/2)+(this._scale/2-r)/2,a=eD.L;else{if(180!=e)return null;s=Math.floor(t.x+.5),i=Math.floor(t.y-.5),o=this.getHeight(s,i),r=(t.x+.5-s)*(this._scale/2),n=(o-t.z)*(this._scale/2)+r/2,a=eD.R}return[s,i,r,n,a]}getOldLocationString(t,e){const s=this.getOldLocation(t,e);if(null==s)return null;return\":w=\"+Math.trunc(s[0])+\",\"+Math.trunc(s[1])+\" l=\"+Math.trunc(s[2])+\",\"+Math.trunc(s[3])+\" \"+s[4]}getDirection(t){return t==eD.R?180:90}getFloorAltitude(t,e){const s=this.getHeight(t,e),i=s+1;return s+(Math.trunc(this.getHeight(t-1,e-1))==i||Math.trunc(this.getHeight(t,e-1))==i||Math.trunc(this.getHeight(t+1,e-1))==i||Math.trunc(this.getHeight(t-1,e))==i||Math.trunc(this.getHeight(t+1,e))==i||Math.trunc(this.getHeight(t-1,e+1))==i||Math.trunc(this.getHeight(t,e+1))==i||Math.trunc(this.getHeight(t+1,e+1))==i?.5:0)}isRoomTile(t,e){return t>=0&&t<this._width&&e>=0&&e<this._height&&this._heightMap[e][t]>=0}}eD.DEFAULT_SCALE=32,eD.L=\"l\",eD.R=\"r\";class sD extends c{constructor(t){super(),this._connection=void 0,this._roomCreator=void 0,this._planeParser=void 0,this._latestEntryTileEvent=void 0,this._currentRoomId=void 0,this._ownUserId=void 0,this._initialConnection=void 0,this._guideId=void 0,this._requesterId=void 0,this._connection=null,this._roomCreator=t,this._planeParser=new x_,this._latestEntryTileEvent=null,this._currentRoomId=0,this._ownUserId=0,this._initialConnection=!0,this._guideId=-1,this._requesterId=-1}onDispose(){super.onDispose(),this._connection=null,this._roomCreator=null,this._latestEntryTileEvent=null,this._planeParser&&(this._planeParser.dispose(),this._planeParser=null)}setConnection(t){!this._connection&&t&&(this._connection=t,this._connection.addMessageEvent(new _m(this.onUserInfoEvent.bind(this))),this._connection.addMessageEvent(new Op(this.onRoomReadyMessageEvent.bind(this))),this._connection.addMessageEvent(new vp(this.onRoomPaintEvent.bind(this))),this._connection.addMessageEvent(new mp(this.onRoomModelEvent.bind(this))),this._connection.addMessageEvent(new fp(this.onRoomHeightMapEvent.bind(this))),this._connection.addMessageEvent(new Tp(this.onRoomHeightMapUpdateEvent.bind(this))),this._connection.addMessageEvent(new Ap(this.onRoomThicknessEvent.bind(this))),this._connection.addMessageEvent(new Ip(this.onRoomDoorEvent.bind(this))),this._connection.addMessageEvent(new YE(this.onRoomRollingEvent.bind(this))),this._connection.addMessageEvent(new zE(this.onObjectsDataUpdateEvent.bind(this))),this._connection.addMessageEvent(new JE(this.onFurnitureAliasesEvent.bind(this))),this._connection.addMessageEvent(new XE(this.onFurnitureFloorAddEvent.bind(this))),this._connection.addMessageEvent(new qE(this.onFurnitureFloorEvent.bind(this))),this._connection.addMessageEvent(new QE(this.onFurnitureFloorRemoveEvent.bind(this))),this._connection.addMessageEvent(new ZE(this.onFurnitureFloorUpdateEvent.bind(this))),this._connection.addMessageEvent(new dp(this.onFurnitureWallAddEvent.bind(this))),this._connection.addMessageEvent(new up(this.onFurnitureWallEvent.bind(this))),this._connection.addMessageEvent(new cp(this.onFurnitureWallRemoveEvent.bind(this))),this._connection.addMessageEvent(new lp(this.onFurnitureWallUpdateEvent.bind(this))),this._connection.addMessageEvent(new $E(this.onFurnitureDataEvent.bind(this))),this._connection.addMessageEvent(new rp(this.onItemDataUpdateMessageEvent.bind(this))),this._connection.addMessageEvent(new hp(this.onOneWayDoorStatusMessageEvent.bind(this))),this._connection.addMessageEvent(new wp(this.onRoomUnitDanceEvent.bind(this))),this._connection.addMessageEvent(new Fp(this.onRoomUnitEffectEvent.bind(this))),this._connection.addMessageEvent(new xp(this.onRoomUnitEvent.bind(this))),this._connection.addMessageEvent(new Bp(this.onRoomUnitExpressionEvent.bind(this))),this._connection.addMessageEvent(new Gp(this.onRoomUnitHandItemEvent.bind(this))),this._connection.addMessageEvent(new Vp(this.onRoomUnitIdleEvent.bind(this))),this._connection.addMessageEvent(new jp(this.onRoomUnitInfoEvent.bind(this))),this._connection.addMessageEvent(new kp(this.onRoomUnitNumberEvent.bind(this))),this._connection.addMessageEvent(new zp(this.onRoomUnitRemoveEvent.bind(this))),this._connection.addMessageEvent(new Yp(this.onRoomUnitStatusEvent.bind(this))),this._connection.addMessageEvent(new Lp(this.onRoomUnitChatEvent.bind(this))),this._connection.addMessageEvent(new Up(this.onRoomUnitChatEvent.bind(this))),this._connection.addMessageEvent(new Pp(this.onRoomUnitChatEvent.bind(this))),this._connection.addMessageEvent(new bp(this.onRoomUnitTypingEvent.bind(this))),this._connection.addMessageEvent(new Np(this.onPetFigureUpdateEvent.bind(this))),this._connection.addMessageEvent(new Sp(this.onPetExperienceEvent.bind(this))),this._connection.addMessageEvent(new Dp(this.onYouArePlayingGameEvent.bind(this))),this._connection.addMessageEvent(new KE(this.onDiceValueMessageEvent.bind(this))),this._connection.addMessageEvent(new mm(this.onIgnoreResultEvent.bind(this))),this._connection.addMessageEvent(new Nl(this.onGuideSessionStartedMessageEvent.bind(this))),this._connection.addMessageEvent(new Tl(this.onGuideSessionEndedMessageEvent.bind(this))),this._connection.addMessageEvent(new Rl(this.onGuideSessionErrorMessageEvent.bind(this))))}setRoomId(t){0!==this._currentRoomId&&this._roomCreator&&this._roomCreator.destroyRoom(this._currentRoomId),this._currentRoomId=t,this._latestEntryTileEvent=null}clearRoomId(){this._currentRoomId=0,this._latestEntryTileEvent=null}onUserInfoEvent(t){if(!(t instanceof _m)||!t.connection)return;const e=t.getParser();e&&(this._ownUserId=e.userInfo.userId)}onRoomReadyMessageEvent(t){const e=t.getParser();if(this._currentRoomId!==e.roomId&&this.setRoomId(e.roomId),this._roomCreator&&this._roomCreator.setRoomInstanceModelName(e.roomId,e.name),this._initialConnection)return t.connection.send(new wv),void(this._initialConnection=!1);t.connection.send(new aO)}onRoomPaintEvent(t){if(!(t instanceof vp))return;const e=t.getParser();if(!e)return;const s=e.floorType,i=e.wallType,r=e.landscapeType;this._roomCreator&&this._roomCreator.updateRoomInstancePlaneType(this._currentRoomId,s,i,r)}onRoomModelEvent(t){if(!(t instanceof mp)||!t.connection||!this._roomCreator)return;const e=t.getParser();if(!e)return;const s=this._roomCreator.getLegacyWallGeometry(this._currentRoomId);if(!s)return;this._planeParser.reset();const i=e.width,r=e.height;this._planeParser.initializeTileMap(i,r);let n=null;this._latestEntryTileEvent&&(n=this._latestEntryTileEvent.getParser());let a=-1,o=-1,h=0,_=0,d=0;for(;d<r;){let t=0;for(;t<i;){const s=e.getHeight(t,d);(d>0&&d<r-1||t>0&&t<i-1)&&s!=x_.TILE_BLOCKED&&(null==n||t==n.x&&d==n.y)&&(e.getHeight(t,d-1)==x_.TILE_BLOCKED&&e.getHeight(t-1,d)==x_.TILE_BLOCKED&&e.getHeight(t,d+1)==x_.TILE_BLOCKED&&(a=t+.5,o=d,h=s,_=90),e.getHeight(t,d-1)==x_.TILE_BLOCKED&&e.getHeight(t-1,d)==x_.TILE_BLOCKED&&e.getHeight(t+1,d)==x_.TILE_BLOCKED&&(a=t,o=d+.5,h=s,_=180)),this._planeParser.setTileHeight(t,d,s),t++}d++}this._planeParser.setTileHeight(Math.floor(a),Math.floor(o),h),this._planeParser.initializeFromTileData(e.wallHeight),this._planeParser.setTileHeight(Math.floor(a),Math.floor(o),h+this._planeParser.wallHeight),64===e.scale?(this._planeParser.restrictsDragging=!0,this._planeParser.restrictsScaling=!0,this._planeParser.restrictedScale=.5):(this._planeParser.restrictsDragging=!1,this._planeParser.restrictsScaling=!1,this._planeParser.restrictedScale=1),s.scale=eD.DEFAULT_SCALE,s.initialize(i,r,this._planeParser.floorHeight);let u=e.height-1;for(;u>=0;){let t=e.width-1;for(;t>=0;)s.setHeight(t,u,this._planeParser.getTileHeight(t,u)),t--;u--}const c=this._planeParser.getMapData();c.doors.push({x:a,y:o,z:h,dir:_}),this._roomCreator.createRoomInstance(this._currentRoomId,c)}onRoomHeightMapEvent(t){if(!(t instanceof fp)||!t.connection||!this._roomCreator)return;const e=t.getParser();if(!e)return;const s=e.width,i=e.height,r=new tD(s,i);let n=0;for(;n<i;){let t=0;for(;t<s;)r.setTileHeight(t,n,e.getTileHeight(t,n)),r.setStackingBlocked(t,n,e.getStackingBlocked(t,n)),r.setIsRoomTile(t,n,e.isRoomTile(t,n)),t++;n++}this._roomCreator.setFurnitureStackingHeightMap(this._currentRoomId,r)}onRoomHeightMapUpdateEvent(t){if(!(t instanceof Tp)||!t.connection||!this._roomCreator)return;const e=t.getParser();if(!e)return;const s=this._roomCreator.getFurnitureStackingHeightMap(this._currentRoomId);if(s){for(;e.next();)s.setTileHeight(e.x,e.y,e.tileHeight()),s.setStackingBlocked(e.x,e.y,e.isStackingBlocked()),s.setIsRoomTile(e.x,e.y,e.isRoomTile());this._roomCreator.refreshTileObjectMap(this._currentRoomId,\"RoomMessageHandler.onRoomHeightMapUpdateEvent()\")}}onRoomThicknessEvent(t){if(!(t instanceof Ap))return;const e=t.getParser();if(!e)return;const s=!e.hideWalls,i=e.thicknessWall,r=e.thicknessFloor;this._roomCreator&&(this._roomCreator.updateRoomInstancePlaneVisibility(this._currentRoomId,s,true),this._roomCreator.updateRoomInstancePlaneThickness(this._currentRoomId,i,r))}onRoomDoorEvent(t){t instanceof Ip&&(this._latestEntryTileEvent=t)}onRoomRollingEvent(t){if(!(t instanceof YE)||!t.connection||!this._roomCreator)return;const e=t.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,e.rollerId,null,null,1,null),this._roomCreator.updateRoomObjectFloor(this._currentRoomId,e.rollerId,null,null,2,null);const s=e.itemsRolling;if(s&&s.length)for(const r of s)r&&this._roomCreator.rollRoomObjectFloor(this._currentRoomId,r.id,r.location,r.targetLocation);const i=e.unitRolling;if(i){this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId,i.id,i.location,i.targetLocation);const t=this._roomCreator.getRoomObjectUser(this._currentRoomId,i.id);if(t&&t.type!==it.MONSTER_PLANT){let t=\"std\";switch(i.movementType){case r_.MOVE:t=\"mv\";break;case r_.SLIDE:t=\"std\"}this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,i.id,t)}}}onObjectsDataUpdateEvent(t){if(!(t instanceof zE)||!t.connection||!this._roomCreator)return;const e=t.getParser();if(e)for(const s of e.objects)this._roomCreator.updateRoomObjectFloor(this._currentRoomId,s.id,null,null,s.state,s.data)}onFurnitureAliasesEvent(t){if(!(t instanceof JE)||!t.connection||!this._roomCreator)return;t.getParser().aliases;this._connection.send(new aO)}onFurnitureFloorAddEvent(t){if(!(t instanceof XE)||!t.connection||!this._roomCreator)return;const e=t.getParser().item;e&&this.addRoomObjectFurnitureFloor(this._currentRoomId,e)}onFurnitureFloorEvent(t){if(!(t instanceof qE)||!t.connection||!this._roomCreator)return;const e=t.getParser();if(!e)return;const s=e.items.length;let i=0;for(;i<s;){const t=e.items[i];t&&this.addRoomObjectFurnitureFloor(this._currentRoomId,t),i++}}onFurnitureFloorRemoveEvent(t){if(!(t instanceof QE)||!t.connection||!this._roomCreator)return;const e=t.getParser();e&&(e.delay>0?setTimeout((()=>{this._roomCreator.removeRoomObjectFloor(this._currentRoomId,e.itemId,e.isExpired?-1:e.userId,!0)}),e.delay):this._roomCreator.removeRoomObjectFloor(this._currentRoomId,e.itemId,e.isExpired?-1:e.userId,!0))}onFurnitureFloorUpdateEvent(t){if(!(t instanceof ZE)||!t.connection||!this._roomCreator)return;const e=t.getParser().item;if(!e)return;const s=new dt(e.x,e.y,e.z),i=new dt(e.direction);this._roomCreator.updateRoomObjectFloor(this._currentRoomId,e.itemId,s,i,e.data.state,e.data,e.extra),this._roomCreator.updateRoomObjectFloorHeight(this._currentRoomId,e.itemId,e.stackHeight),this._roomCreator.updateRoomObjectFloorExpiration(this._currentRoomId,e.itemId,e.expires)}onFurnitureWallAddEvent(t){if(!(t instanceof dp)||!t.connection||!this._roomCreator)return;const e=t.getParser().item;e&&this.addRoomObjectFurnitureWall(this._currentRoomId,e)}onFurnitureWallEvent(t){if(!(t instanceof up)||!t.connection||!this._roomCreator)return;const e=t.getParser();if(!e)return;const s=e.items.length;let i=0;for(;i<s;){const t=e.items[i];t&&this.addRoomObjectFurnitureWall(this._currentRoomId,t),i++}}onFurnitureWallRemoveEvent(t){if(!(t instanceof cp)||!t.connection||!this._roomCreator)return;const e=t.getParser();e&&this._roomCreator.removeRoomObjectWall(this._currentRoomId,e.itemId,e.userId)}onFurnitureWallUpdateEvent(t){if(!(t instanceof lp)||!t.connection||!this._roomCreator)return;const e=this._roomCreator.getLegacyWallGeometry(this._currentRoomId);if(!e)return;const s=t.getParser().item;if(!s)return;const i=e.getLocation(s.width,s.height,s.localX,s.localY,s.direction),r=new dt(e.getDirection(s.direction));this._roomCreator.updateRoomObjectWall(this._currentRoomId,s.itemId,i,r,s.state,s.stuffData),this._roomCreator.updateRoomObjectWallExpiration(this._currentRoomId,s.itemId,s.secondsToExpiration)}onFurnitureDataEvent(t){if(!(t instanceof $E)||!t.connection||!this._roomCreator)return;const e=t.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,e.furnitureId,null,null,e.objectData.state,e.objectData)}onItemDataUpdateMessageEvent(t){if(!(t instanceof rp)||!t.connection||!this._roomCreator)return;const e=t.getParser();this._roomCreator.updateRoomObjectWallItemData(this._currentRoomId,e.furnitureId,e.data)}onOneWayDoorStatusMessageEvent(t){if(!(t instanceof hp)||!t.connection||!this._roomCreator)return;const e=t.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,e.itemId,null,null,e.state,new la)}onDiceValueMessageEvent(t){if(!(t instanceof KE)||!t.connection||!this._roomCreator)return;const e=t.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,e.itemId,null,null,e.value,new la)}onRoomUnitDanceEvent(t){t instanceof wp&&t.connection&&this._roomCreator&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,t.getParser().unitId,rt.FIGURE_DANCE,t.getParser().danceId)}onRoomUnitEffectEvent(t){t instanceof Fp&&t.connection&&this._roomCreator&&this._roomCreator.updateRoomObjectUserEffect(this._currentRoomId,t.getParser().unitId,t.getParser().effectId,t.getParser().delay)}onRoomUnitEvent(t){if(!(t instanceof xp)||!t.connection||!this._roomCreator)return;const e=t.getParser().users;if(e&&e.length){for(const t of e){if(!t)continue;const e=new dt(t.x,t.y,t.z),s=new dt(t.dir);this._roomCreator.addRoomObjectUser(this._currentRoomId,t.roomIndex,e,s,t.dir,t.userType,t.figure),t.webID===this._ownUserId&&(this._roomCreator.setRoomSessionOwnUser(this._currentRoomId,t.roomIndex),this._roomCreator.updateRoomObjectUserOwn(this._currentRoomId,t.roomIndex)),this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,t.roomIndex,t.figure,t.sex,t.subType,t.isRiding),it.getTypeString(t.userType)===it.PET&&this._roomCreator.getPetTypeId(t.figure)===er.MONSTERPLANT&&this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,t.roomIndex,t.petPosture),this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,t.roomIndex,rt.FIGURE_IS_MUTED,this._roomCreator.sessionDataManager.isUserIgnored(t.name)?1:0)}this.updateGuideMarker()}}onRoomUnitExpressionEvent(t){t instanceof Bp&&t.connection&&this._roomCreator&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,t.getParser().unitId,rt.FIGURE_EXPRESSION,t.getParser().expression)}onRoomUnitHandItemEvent(t){t instanceof Gp&&t.connection&&this._roomCreator&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,t.getParser().unitId,rt.FIGURE_CARRY_OBJECT,t.getParser().handId)}onRoomUnitIdleEvent(t){t instanceof Vp&&t.connection&&this._roomCreator&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,t.getParser().unitId,rt.FIGURE_SLEEP,t.getParser().isIdle?1:0)}onRoomUnitInfoEvent(t){t instanceof jp&&t.connection&&this._roomCreator&&this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,t.getParser().unitId,t.getParser().figure,t.getParser().gender)}onRoomUnitNumberEvent(t){if(!(t instanceof kp)||!t.connection||!this._roomCreator)return;const e=t.getParser();e&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,e.unitId,rt.FIGURE_NUMBER_VALUE,e.value)}onRoomUnitRemoveEvent(t){t instanceof zp&&t.connection&&this._roomCreator&&(this._roomCreator.removeRoomObjectUser(this._currentRoomId,t.getParser().unitId),this.updateGuideMarker())}onRoomUnitStatusEvent(t){if(!(t instanceof Yp)||!t.connection||!this._roomCreator)return;const e=t.getParser().statuses;if(!e||!e.length)return;const s=this._roomCreator.getRoomInstance(this._currentRoomId);if(!s)return;const i=s.model.getValue($y.ROOM_Z_SCALE)||1;for(const r of e){if(!r)continue;let t=r.height;t&&(t/=i);const e=new dt(r.x,r.y,r.z+t),s=new dt(r.direction);let n=null;r.didMove&&(n=new dt(r.targetX,r.targetY,r.targetZ)),this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId,r.id,e,n,r.canStandUp,t,s,r.headDirection),this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId,r.id,null);let a=!0,o=!1,h=rt.STD,_=\"\";if(r.actions&&r.actions.length)for(const i of r.actions)if(i)switch(i.action){case\"flatctrl\":this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId,r.id,i.value);break;case\"sign\":1===r.actions.length&&(a=!1),this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,r.id,rt.FIGURE_SIGN,parseInt(i.value));break;case\"gst\":1===r.actions.length&&(a=!1),this._roomCreator.updateRoomObjectUserPetGesture(this._currentRoomId,r.id,i.value);break;case\"wav\":case\"mv\":default:o=!0,h=i.action,_=i.value;case\"trd\":}o?this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,r.id,h,_):a&&this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,r.id,rt.STD,\"\")}this.updateGuideMarker()}onRoomUnitChatEvent(t){if(!t.connection||!this._roomCreator)return;const e=t.getParser();e&&(this._roomCreator.updateRoomObjectUserGesture(this._currentRoomId,e.roomIndex,e.gesture),this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,e.roomIndex,rt.FIGURE_TALK,e.message.length/10))}onRoomUnitTypingEvent(t){t instanceof bp&&t.connection&&this._roomCreator&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,t.getParser().unitId,rt.FIGURE_IS_TYPING,t.getParser().isTyping?1:0)}onPetFigureUpdateEvent(t){if(!(t instanceof Np)||!t.connection||!this._roomCreator)return;const e=t.getParser();e&&this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,e.roomIndex,e.figureData.figuredata,\"\",\"\",e.isRiding)}onPetExperienceEvent(t){const e=t.getParser();e&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,e.roomIndex,rt.FIGURE_GAINED_EXPERIENCE,e.gainedExperience)}onYouArePlayingGameEvent(t){if(!t)return;const e=t.getParser();e&&this._roomCreator.setRoomEngineGameMode(this._currentRoomId,e.isPlaying)}addRoomObjectFurnitureFloor(t,e){if(!e||!this._roomCreator)return;const s=new dt(e.x,e.y,e.z),i=new dt(e.direction);e.spriteName?this._roomCreator.addFurnitureFloorByTypeName(t,e.itemId,e.spriteName,s,i,e.state,e.data,e.extra,e.expires,e.usagePolicy,e.userId,e.username,!0,!0,e.stackHeight):this._roomCreator.addFurnitureFloor(t,e.itemId,e.spriteId,s,i,e.state,e.data,e.extra,e.expires,e.usagePolicy,e.userId,e.username,!0,!0,e.stackHeight)}addRoomObjectFurnitureWall(t,e){if(!e||!this._roomCreator)return;const s=this._roomCreator.getLegacyWallGeometry(t);if(!s)return;let i=null;e.isOldFormat||(i=s.getLocation(e.width,e.height,e.localX,e.localY,e.direction));const r=new dt(s.getDirection(e.direction));this._roomCreator.addFurnitureWall(t,e.itemId,e.spriteId,i,r,e.state,e.stuffData,e.secondsToExpiration,e.usagePolicy,e.userId,e.username)}onIgnoreResultEvent(t){if(!t)return;const e=t.getParser();if(!e)return;const s=this._roomCreator.roomSessionManager.getSession(this._currentRoomId);if(!s)return;const i=s.userDataManager.getUserDataByName(e.name);if(i)switch(e.result){case 1:case 2:return void this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,i.roomIndex,rt.FIGURE_IS_MUTED,1);case 3:return void this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,i.roomIndex,rt.FIGURE_IS_MUTED,0)}}onGuideSessionStartedMessageEvent(t){const e=t.getParser();this._guideId=e.guideUserId,this._requesterId=e.requesterUserId,this.updateGuideMarker()}onGuideSessionEndedMessageEvent(t){this.removeGuideMarker()}onGuideSessionErrorMessageEvent(t){this.removeGuideMarker()}updateGuideMarker(){const t=this._roomCreator.sessionDataManager.userId;this.setUserGuideStatus(this._guideId,this._requesterId===t?JS.GUIDE:JS.NONE),this.setUserGuideStatus(this._requesterId,this._guideId===t?JS.REQUESTER:JS.NONE)}removeGuideMarker(){this.setUserGuideStatus(this._guideId,JS.NONE),this.setUserGuideStatus(this._requesterId,JS.NONE),this._guideId=-1,this._requesterId=-1}setUserGuideStatus(t,e){if(!this._roomCreator||!this._roomCreator.roomSessionManager)return;const s=this._roomCreator.roomSessionManager.getSession(this._currentRoomId);if(!s)return;const i=s.userDataManager.getDataByType(t,dd.USER);i&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,i.roomIndex,rt.FIGURE_GUIDE_STATUS,e)}get currentRoomId(){return this._currentRoomId}}class iD{}iD.CATALOG=\"catalog\",iD.INVENTORY=\"inventory\";class rD extends IS{constructor(t){super(),this._selected=void 0,this._selected=t}get selected(){return this._selected}}class nD extends IS{constructor(t){super(),this._selected=void 0,this._selected=t}get selected(){return this._selected}}class aD extends Ue{constructor(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(t,null),this._height=void 0,this._sourceEventId=void 0,this._visible=void 0,this._toggleVisibility=void 0,this._height=e,this._visible=s,this._sourceEventId=i,this._toggleVisibility=r}get height(){return this._height}get visible(){return this._visible}get sourceEventId(){return this._sourceEventId}get toggleVisibility(){return this._toggleVisibility}}class oD extends Ue{constructor(t){super(null,null),this._type=void 0,this._type=t}get type(){return this._type}}oD.ENABLED=\"ROVUM_ENABLED\",oD.DISABLED=\"ROVUM_DISABLED\";class hD{}hD.OBJECT_UNDEFINED=\"OBJECT_UNDEFINED\",hD.OBJECT_MOVE=\"OBJECT_MOVE\",hD.OBJECT_PLACE=\"OBJECT_PLACE\",hD.OBJECT_ROTATE_POSITIVE=\"OBJECT_ROTATE_POSITIVE\",hD.OBJECT_ROTATE_NEGATIVE=\"OBJECT_ROTATE_NEGATIVE\",hD.OBJECT_MOVE_TO=\"OBJECT_MOVE_TO\",hD.OBJECT_PLACE_TO=\"OBJECT_PLACE_TO\",hD.OBJECT_PICKUP=\"OBJECT_PICKUP\",hD.OBJECT_PICKUP_BOT=\"OBJECT_PICKUP_BOT\",hD.OBJECT_PICKUP_PET=\"OBJECT_PICKUP_PET\",hD.OBJECT_EJECT=\"OBJECT_EJECT\",hD.OBJECT_SAVE_STUFF_DATA=\"OBJECT_SAVE_STUFF_DATA\";class _D{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;this._id=0,this._category=0,this._operation=\"\",this._loc=null,this._dir=null,this._typeId=0,this._instanceData=null,this._stuffData=null,this._state=-1,this._animFrame=-1,this._posture=null,this._id=t,this._category=e,this._operation=s,this._loc=new dt,this._loc.assign(i),this._dir=new dt,this._dir.assign(r),this._typeId=n,this._instanceData=a,this._stuffData=o,this._state=h,this._animFrame=_,this._posture=d}get id(){return this._id}get category(){return this._category}get operation(){return this._operation}get loc(){return this._loc}get dir(){return this._dir}get typeId(){return this._typeId}get instanceData(){return this._instanceData}get stuffData(){return this._stuffData}get state(){return this._state}get animFrame(){return this._animFrame}get posture(){return this._posture}dispose(){this._loc=null,this._dir=null}}class dD extends c{constructor(t){super(),this._roomEngine=void 0,this._eventIds=void 0,this._selectedAvatarId=void 0,this._selectedObjectId=void 0,this._selectedObjectCategory=void 0,this._whereYouClickIsWhereYouGo=void 0,this._objectPlacementSource=void 0,this._roomEngine=t,this._eventIds=new Map,this._selectedAvatarId=-1,this._selectedObjectId=-1,this._selectedObjectCategory=-2,this._whereYouClickIsWhereYouGo=!0,this._objectPlacementSource=null,this.onRoomEngineObjectEvent=this.onRoomEngineObjectEvent.bind(this),this._roomEngine.events.addEventListener(YA.ADDED,this.onRoomEngineObjectEvent)}dispose(){this._eventIds&&(this._eventIds=null),this._roomEngine.events.removeEventListener(YA.ADDED,this.onRoomEngineObjectEvent),this._roomEngine=null}onRoomEngineObjectEvent(t){let e=this.getSelectedRoomObjectData(t.roomId);if(e&&e.operation===hD.OBJECT_PLACE&&e.id===t.objectId){const s=this._roomEngine.getRoomObject(t.roomId,e.id,e.category);if(s&&s.model&&e.category===st.FLOOR){const i=s.model.getValue(rt.FURNITURE_ALLOWED_DIRECTIONS);if(i&&i.length){const r=new dt(i[0]);if(s.setDirection(r),this.updateSelectedObjectData(t.roomId,e.id,e.category,e.loc,r,e.operation,e.typeId,e.instanceData,e.stuffData,e.state,e.animFrame,e.posture),e=this.getSelectedRoomObjectData(t.roomId),!e)return}}this.setFurnitureAlphaMultiplier(s,.5)}}processRoomCanvasMouseEvent(t,e,s){if(!t||!e)return;if(ke.isRunning())return;const i=e.type;let r=this._roomEngine.getRoomObjectCategoryForType(i);r===st.ROOM||this._roomEngine.isPlayingGame()&&r===st.UNIT||(r=st.MINIMUM);if(this.getMouseEventId(r,t.type)===t.eventId){if(t.type===ts.MOUSE_CLICK||t.type===ts.DOUBLE_CLICK||t.type===ts.MOUSE_DOWN||t.type===ts.MOUSE_UP||t.type===ts.MOUSE_MOVE)return}else t.eventId&&this.setMouseEventId(r,t.type,t.eventId);e.mouseHandler&&e.mouseHandler.mouseEvent(t,s)}processRoomObjectPlacement(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-1,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;this._objectPlacementSource=t;const d=new dt(-100,-100),u=new dt(0);return this.setSelectedRoomObjectData(e,s,i,d,u,hD.OBJECT_PLACE,r,n,a,o,h,_),this._roomEngine&&(this._roomEngine.setObjectMoverIconSprite(r,i,!1,n,a,o,h,_),this._roomEngine.setObjectMoverIconSpriteVisible(!1)),!0}cancelRoomObjectInsert(t){return this.resetSelectedObjectData(t),!0}getMouseEventId(t,e){const s=this._eventIds.get(t);return s&&s.get(e)||null}setMouseEventId(t,e,s){let i=this._eventIds.get(t);i||(i=new Map,this._eventIds.set(t,i)),i.delete(e),i.set(e,s)}handleRoomObjectEvent(t,e){if(t)if(t instanceof Me)this.handleRoomObjectMouseEvent(t,e);else switch(t.type){case uS.STATE_CHANGE:case uS.STATE_RANDOM:return void this.onRoomObjectStateChangedEvent(t,e);case eS.DIMMER_STATE:return void this.onRoomObjectDimmerStateUpdateEvent(t,e);case aS.POSITION_CHANGED:case aS.OBJECT_REMOVED:return void this.handleSelectedObjectRemove(t,e);case gS.OPEN_WIDGET:case gS.CLOSE_WIDGET:case gS.OPEN_FURNI_CONTEXT_MENU:case gS.CLOSE_FURNI_CONTEXT_MENU:case gS.PLACEHOLDER:case gS.CREDITFURNI:case gS.STICKIE:case gS.PRESENT:case gS.TROPHY:case gS.TEASER:case gS.ECOTRONBOX:case gS.DIMMER:case gS.WIDGET_REMOVE_DIMMER:case gS.CLOTHING_CHANGE:case gS.JUKEBOX_PLAYLIST_EDITOR:case gS.MANNEQUIN:case gS.PET_PRODUCT_MENU:case gS.GUILD_FURNI_CONTEXT_MENU:case gS.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:case gS.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:case gS.BACKGROUND_COLOR:case gS.MYSTERYBOX_OPEN_DIALOG:case gS.EFFECTBOX_OPEN_DIALOG:case gS.MYSTERYTROPHY_OPEN_DIALOG:case gS.ACHIEVEMENT_RESOLUTION_OPEN:case gS.ACHIEVEMENT_RESOLUTION_ENGRAVING:case gS.ACHIEVEMENT_RESOLUTION_FAILED:case gS.FRIEND_FURNITURE_CONFIRM:case gS.FRIEND_FURNITURE_ENGRAVING:case gS.BADGE_DISPLAY_ENGRAVING:case gS.HIGH_SCORE_DISPLAY:case gS.HIDE_HIGH_SCORE_DISPLAY:case gS.INERNAL_LINK:case gS.ROOM_LINK:return void this.onRoomObjectWidgetRequestEvent(t,e);case iS.DICE_ACTIVATE:case iS.DICE_OFF:case iS.USE_HABBOWHEEL:case iS.STICKIE:case iS.ENTER_ONEWAYDOOR:return void this.onRoomObjectFurnitureActionEvent(t,e);case iS.SOUND_MACHINE_INIT:case iS.SOUND_MACHINE_START:case iS.SOUND_MACHINE_STOP:case iS.SOUND_MACHINE_DISPOSE:return void this.handleObjectSoundMachineEvent(t,e);case iS.JUKEBOX_INIT:case iS.JUKEBOX_START:case iS.JUKEBOX_MACHINE_STOP:case iS.JUKEBOX_DISPOSE:return void this.handleObjectJukeboxEvent(t,e);case sS.ADD_HOLE:case sS.REMOVE_HOLE:return void this.onRoomObjectFloorHoleEvent(t,e);case hS.ROOM_AD_FURNI_CLICK:case hS.ROOM_AD_FURNI_DOUBLE_CLICK:case hS.ROOM_AD_TOOLTIP_SHOW:case hS.ROOM_AD_TOOLTIP_HIDE:case hS.ROOM_AD_LOAD_IMAGE:return void this.onRoomObjectRoomAdEvent(t,e);case $A.LOAD_BADGE:return void this.onRoomObjectBadgeAssetEvent(t,e);case iS.MOUSE_ARROW:case iS.MOUSE_BUTTON:return void this.handleMousePointer(t,e);case oS.PLAY_SOUND:case oS.PLAY_SOUND_AT_PITCH:return void this.handleRoomObjectPlaySoundEvent(t,e);case _S.ROOM_OBJECT_INITIALIZED:case _S.ROOM_OBJECT_DISPOSED:case _S.PLAY_SAMPLE:case _S.CHANGE_PITCH:return void this.handleRoomObjectSamplePlaybackEvent(t,e);case nS.ROOM_BACKGROUND_COLOR:return void this.onHSLColorEnableEvent(t,e);case tS.RODRE_CURRENT_USER_ID:case tS.RODRE_URL_PREFIX:return void this.onRoomObjectDataRequestEvent(t,e);default:return void l.log(`Unhandled Event: ${t.constructor.name}`,`Object ID: ${t.object.id}`)}}handleRoomObjectMouseEvent(t,e){if(t&&t.type)switch(t.type){case Me.CLICK:return void this.handleRoomObjectMouseClickEvent(t,e);case Me.MOUSE_MOVE:return void this.handleRoomObjectMouseMoveEvent(t,e);case Me.MOUSE_DOWN:return void this.handleRoomObjectMouseDownEvent(t,e);case Me.MOUSE_DOWN_LONG:return void this.handleRoomObjectMouseDownLongEvent(t,e);case Me.MOUSE_ENTER:return void this.handleRoomObjectMouseEnterEvent(t,e);case Me.MOUSE_LEAVE:return void this.handleRoomObjectMouseLeaveEvent(t,e)}}handleRoomObjectMouseClickEvent(t,e){if(!t)return;let s=hD.OBJECT_UNDEFINED;const i=this.getSelectedRoomObjectData(e);i&&(s=i.operation);let r=!1,n=!1;this._whereYouClickIsWhereYouGo&&(s&&s!==hD.OBJECT_UNDEFINED||(r=this.handleMoveTargetFurni(e,t)));const a=this._roomEngine.getRoomObjectCategoryForType(t.objectType);switch(s){case hD.OBJECT_MOVE:a===st.ROOM?i&&this.modifyRoomObject(e,i.id,i.category,hD.OBJECT_MOVE_TO):a===st.UNIT&&(i&&t.objectType===it.MONSTER_PLANT&&this.modifyRoomObject(e,i.id,i.category,hD.OBJECT_MOVE_TO),t.eventId&&this.setMouseEventId(st.ROOM,ts.MOUSE_CLICK,t.eventId),this.placeObjectOnUser(e,t.objectId,a)),n=!0,-1!==t.objectId&&this.setSelectedObject(e,t.objectId,a);break;case hD.OBJECT_PLACE:if(a===st.ROOM)this.placeObject(e,t instanceof cS,t instanceof lS);else if(a===st.UNIT)switch(t.objectType){case it.MONSTER_PLANT:case it.RENTABLE_BOT:this.placeObject(e,t instanceof cS,t instanceof lS);break;default:t.eventId&&this.setMouseEventId(st.ROOM,ts.MOUSE_CLICK,t.eventId),this.placeObjectOnUser(e,t.objectId,a)}break;case hD.OBJECT_UNDEFINED:a===st.ROOM?!r&&t instanceof cS&&this.onRoomObjectTileMouseEvent(e,t):(this.setSelectedObject(e,t.objectId,a),n=!1,a===st.UNIT?(!t.ctrlKey||t.altKey||t.shiftKey||t.objectType!==it.RENTABLE_BOT?!t.ctrlKey||t.altKey||t.shiftKey||t.objectType!==it.MONSTER_PLANT?t.ctrlKey||t.altKey||!t.shiftKey||t.objectType!==it.MONSTER_PLANT||this.modifyRoomObject(e,t.objectId,a,hD.OBJECT_ROTATE_POSITIVE):this.modifyRoomObject(e,t.objectId,a,hD.OBJECT_PICKUP_PET):this.modifyRoomObject(e,t.objectId,a,hD.OBJECT_PICKUP_BOT),this._roomEngine.isPlayingGame()?n=!0:r=!0):a!==st.FLOOR&&a!==st.WALL||(t.altKey||t.ctrlKey||t.shiftKey)&&(t.ctrlKey||t.altKey||!t.shiftKey?!t.ctrlKey||t.altKey||t.shiftKey||this.modifyRoomObject(e,t.objectId,a,hD.OBJECT_PICKUP):a===st.FLOOR&&this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new YA(YA.REQUEST_ROTATE,e,t.objectId,a)),this._roomEngine.isPlayingGame()?n=!0:r=!0),t.eventId&&(r&&this.setMouseEventId(st.ROOM,ts.MOUSE_CLICK,t.eventId),n&&this.setMouseEventId(st.MINIMUM,ts.MOUSE_CLICK,t.eventId)))}if(a===st.ROOM){const s=this.getMouseEventId(st.MINIMUM,ts.MOUSE_CLICK),i=this.getMouseEventId(st.UNIT,ts.MOUSE_CLICK);s===t.eventId||i===t.eventId||n||(this.deselectObject(e),this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new YA(YA.DESELECTED,e,-1,st.MINIMUM)),this.setSelectedAvatar(e,0,!1))}}handleRoomObjectMouseMoveEvent(t,e){if(!t)return;let s=hD.OBJECT_UNDEFINED;const i=this.getSelectedRoomObjectData(e);i&&(s=i.operation);const r=this._roomEngine.getRoomObjectCategoryForType(t.objectType);if(this._roomEngine){const s=this._roomEngine.getRoomObjectCursor(e);if(s&&s.logic){let i=null;t instanceof cS?i=this.handleMouseOverTile(t,e):t.object&&-1!==t.object.id?this._whereYouClickIsWhereYouGo&&(i=this.handleMouseOverObject(r,e,t)):i=new aD(null,0,!1,t.eventId),s.processUpdateMessage(i)}}switch(s){case hD.OBJECT_MOVE:return void(r===st.ROOM&&this.handleObjectMove(t,e));case hD.OBJECT_PLACE:return void(r===st.ROOM&&this.handleObjectPlace(t,e))}}handleRoomObjectMouseDownEvent(t,e){if(!t)return;let s=hD.OBJECT_UNDEFINED;const i=this.getSelectedRoomObjectData(e);i&&(s=i.operation);const r=this._roomEngine.getRoomObjectCategoryForType(t.objectType);s!==hD.OBJECT_UNDEFINED||r!==st.FLOOR&&r!==st.WALL&&t.objectType!==it.MONSTER_PLANT||(t.altKey&&!t.ctrlKey&&!t.shiftKey||this.decorateModeMove(t))&&this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new YA(YA.REQUEST_MOVE,e,t.objectId,r))}handleRoomObjectMouseDownLongEvent(t,e){if(!t)return;let s=hD.OBJECT_UNDEFINED;const i=this.getSelectedRoomObjectData(e);i&&(s=i.operation);const r=this._roomEngine.getRoomObjectCategoryForType(t.objectType);s!==hD.OBJECT_UNDEFINED||r!==st.FLOOR&&r!==st.WALL&&t.objectType!==it.MONSTER_PLANT||(!t.ctrlKey&&!t.shiftKey||this.decorateModeMove(t))&&this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new YA(YA.REQUEST_MANIPULATION,e,t.objectId,r))}handleRoomObjectMouseEnterEvent(t,e){const s=t.objectId,i=t.objectType,r=this._roomEngine.getRoomObjectCategoryForType(i);this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new YA(YA.MOUSE_ENTER,e,s,r))}handleRoomObjectMouseLeaveEvent(t,e){const s=t.objectId,i=t.objectType,r=this._roomEngine.getRoomObjectCategoryForType(i);if(r!==st.ROOM&&r===st.UNIT){const t=this._roomEngine.getRoomObjectCursor(e);t&&t.processUpdateMessage(new VS(0,null))}this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new YA(YA.MOUSE_LEAVE,e,s,r))}onRoomObjectStateChangedEvent(t,e){if(t)switch(t.type){case uS.STATE_CHANGE:return void this.changeObjectState(e,t.object.id,t.object.type,t.state,!1);case uS.STATE_RANDOM:return void this.changeObjectState(e,t.object.id,t.object.type,t.state,!0)}}onRoomObjectDimmerStateUpdateEvent(t,e){t&&(t.type!==eS.DIMMER_STATE||this._roomEngine.events.dispatchEvent(new zA(e,t.state,t.presetId,t.effectId,t.color,t.brightness)))}handleSelectedObjectRemove(t,e){if(t&&this._roomEngine)switch(t.type){case aS.POSITION_CHANGED:{const s=t.objectId,i=t.objectType,r=this._roomEngine.getRoomObjectCategoryForType(i),n=this._roomEngine.getRoomObject(e,s,r),a=this._roomEngine.getRoomObjectSelectionArrow(e);if(n&&a&&a.logic){const t=n.getLocation();a.logic.processUpdateMessage(new Ue(t,null))}return}case aS.OBJECT_REMOVED:return void this.setSelectedAvatar(e,0,!1)}}onRoomObjectWidgetRequestEvent(t,e){if(!t||!this._roomEngine)return;const s=t.objectId,i=t.objectType,r=this._roomEngine.getRoomObjectCategoryForType(i),n=this._roomEngine.events;if(n)switch(t.type){case gS.OPEN_WIDGET:return void n.dispatchEvent(new ZA(ZA.OPEN_WIDGET,e,s,r,t.object.logic.widget));case gS.CLOSE_WIDGET:return void n.dispatchEvent(new ZA(ZA.CLOSE_WIDGET,e,s,r,t.object.logic.widget));case gS.OPEN_FURNI_CONTEXT_MENU:return void n.dispatchEvent(new ZA(ZA.OPEN_FURNI_CONTEXT_MENU,e,s,r,t.object.logic.contextMenu));case gS.CLOSE_FURNI_CONTEXT_MENU:return void n.dispatchEvent(new ZA(ZA.CLOSE_FURNI_CONTEXT_MENU,e,s,r));case gS.PLACEHOLDER:return void n.dispatchEvent(new ZA(ZA.REQUEST_PLACEHOLDER,e,s,r));case gS.CREDITFURNI:return void n.dispatchEvent(new ZA(ZA.REQUEST_CREDITFURNI,e,s,r));case gS.STICKIE:return void n.dispatchEvent(new ZA(ZA.REQUEST_STICKIE,e,s,r));case gS.PRESENT:return void n.dispatchEvent(new ZA(ZA.REQUEST_PRESENT,e,s,r));case gS.TROPHY:return void n.dispatchEvent(new ZA(ZA.REQUEST_TROPHY,e,s,r));case gS.TEASER:return void n.dispatchEvent(new ZA(ZA.REQUEST_TEASER,e,s,r));case gS.ECOTRONBOX:return void n.dispatchEvent(new ZA(ZA.REQUEST_ECOTRONBOX,e,s,r));case gS.DIMMER:return void n.dispatchEvent(new ZA(ZA.REQUEST_DIMMER,e,s,r));case gS.WIDGET_REMOVE_DIMMER:return void n.dispatchEvent(new ZA(ZA.REMOVE_DIMMER,e,s,r));case gS.CLOTHING_CHANGE:return void n.dispatchEvent(new ZA(ZA.REQUEST_CLOTHING_CHANGE,e,s,r));case gS.JUKEBOX_PLAYLIST_EDITOR:return void n.dispatchEvent(new ZA(ZA.REQUEST_PLAYLIST_EDITOR,e,s,r));case gS.MANNEQUIN:return void n.dispatchEvent(new ZA(ZA.REQUEST_MANNEQUIN,e,s,r));case gS.PET_PRODUCT_MENU:return void n.dispatchEvent(new JA(JA.USE_PRODUCT_FROM_ROOM,e,s,r));case gS.GUILD_FURNI_CONTEXT_MENU:return void this._roomEngine.connection.send(new Fv(t.objectId,t.object.model.getValue(rt.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID)));case gS.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:return void n.dispatchEvent(new ZA(ZA.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,e,s,r));case gS.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:return void n.dispatchEvent(new ZA(ZA.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,e,s,r));case gS.BACKGROUND_COLOR:return void n.dispatchEvent(new ZA(ZA.REQUEST_BACKGROUND_COLOR,e,s,r));case gS.MYSTERYBOX_OPEN_DIALOG:return void n.dispatchEvent(new ZA(ZA.REQUEST_MYSTERYBOX_OPEN_DIALOG,e,s,r));case gS.EFFECTBOX_OPEN_DIALOG:return void n.dispatchEvent(new ZA(ZA.REQUEST_EFFECTBOX_OPEN_DIALOG,e,s,r));case gS.MYSTERYTROPHY_OPEN_DIALOG:return void n.dispatchEvent(new ZA(ZA.REQUEST_MYSTERYTROPHY_OPEN_DIALOG,e,s,r));case gS.ACHIEVEMENT_RESOLUTION_OPEN:return void this._roomEngine.connection.send(new $I(t.objectId,0));case gS.ACHIEVEMENT_RESOLUTION_ENGRAVING:return void n.dispatchEvent(new ZA(ZA.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,e,s,r));case gS.ACHIEVEMENT_RESOLUTION_FAILED:return void n.dispatchEvent(new ZA(ZA.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,e,s,r));case gS.FRIEND_FURNITURE_CONFIRM:return void n.dispatchEvent(new ZA(ZA.REQUEST_FRIEND_FURNITURE_CONFIRM,e,s,r));case gS.FRIEND_FURNITURE_ENGRAVING:return void n.dispatchEvent(new ZA(ZA.REQUEST_FRIEND_FURNITURE_ENGRAVING,e,s,r));case gS.BADGE_DISPLAY_ENGRAVING:return void n.dispatchEvent(new ZA(ZA.REQUEST_BADGE_DISPLAY_ENGRAVING,e,s,r));case gS.HIGH_SCORE_DISPLAY:return void n.dispatchEvent(new ZA(ZA.REQUEST_HIGH_SCORE_DISPLAY,e,s,r));case gS.HIDE_HIGH_SCORE_DISPLAY:return void n.dispatchEvent(new ZA(ZA.REQUEST_HIDE_HIGH_SCORE_DISPLAY,e,s,r));case gS.INERNAL_LINK:return void n.dispatchEvent(new ZA(ZA.REQUEST_INTERNAL_LINK,e,s,r));case gS.ROOM_LINK:return void n.dispatchEvent(new ZA(ZA.REQUEST_ROOM_LINK,e,s,r))}}onRoomObjectFurnitureActionEvent(t,e){t&&this.useObject(e,t.object.id,t.object.type,t.type)}handleObjectSoundMachineEvent(t,e){if(!t)return;const s=this._roomEngine.getRoomObjectCategoryForType(t.objectType),i=this.getSelectedRoomObjectData(e);if(!i||i.category!==s||i.id!==t.objectId||i.operation!==hD.OBJECT_PLACE)switch(t.type){case iS.SOUND_MACHINE_INIT:return void this._roomEngine.events.dispatchEvent(new dS(dS.SOUND_MACHINE_INIT,e,t.objectId,s));case iS.SOUND_MACHINE_START:return void this._roomEngine.events.dispatchEvent(new dS(dS.SOUND_MACHINE_SWITCHED_ON,e,t.objectId,s));case iS.SOUND_MACHINE_STOP:return void this._roomEngine.events.dispatchEvent(new dS(dS.SOUND_MACHINE_SWITCHED_OFF,e,t.objectId,s));case iS.SOUND_MACHINE_DISPOSE:return void this._roomEngine.events.dispatchEvent(new dS(dS.SOUND_MACHINE_DISPOSE,e,t.objectId,s))}}handleObjectJukeboxEvent(t,e){if(!t)return;const s=this._roomEngine.getRoomObjectCategoryForType(t.objectType),i=this.getSelectedRoomObjectData(e);if(!i||i.category!==s||i.id!==t.objectId||i.operation!==hD.OBJECT_PLACE)switch(t.type){case iS.JUKEBOX_INIT:return void this._roomEngine.events.dispatchEvent(new dS(dS.JUKEBOX_INIT,e,t.objectId,s));case iS.JUKEBOX_START:return void this._roomEngine.events.dispatchEvent(new dS(dS.JUKEBOX_SWITCHED_ON,e,t.objectId,s));case iS.JUKEBOX_MACHINE_STOP:return void this._roomEngine.events.dispatchEvent(new dS(dS.JUKEBOX_SWITCHED_OFF,e,t.objectId,s));case iS.JUKEBOX_DISPOSE:return void this._roomEngine.events.dispatchEvent(new dS(dS.JUKEBOX_DISPOSE,e,t.objectId,s))}}onRoomObjectFloorHoleEvent(t,e){if(t)switch(t.type){case sS.ADD_HOLE:return void this._roomEngine.addRoomInstanceFloorHole(e,t.objectId);case sS.REMOVE_HOLE:return void this._roomEngine.removeRoomInstanceFloorHole(e,t.objectId)}}onRoomObjectRoomAdEvent(t,e){if(!t)return;let s=null;switch(t.type){case hS.ROOM_AD_FURNI_CLICK:this._roomEngine.events.dispatchEvent(t),t.clickUrl&&t.clickUrl.length>0&&lL.instance.createLinkEvent(t.clickUrl),s=qA.FURNI_CLICK;break;case hS.ROOM_AD_FURNI_DOUBLE_CLICK:if(t.clickUrl&&t.clickUrl.length>0){const e=\"CATALOG_PAGE\";0===t.clickUrl.indexOf(e)&&lL.instance.createLinkEvent(t.clickUrl.substr(e.length))}s=qA.FURNI_DOUBLE_CLICK;break;case hS.ROOM_AD_TOOLTIP_SHOW:s=qA.TOOLTIP_SHOW;break;case hS.ROOM_AD_TOOLTIP_HIDE:s=qA.TOOLTIP_HIDE}s&&this._roomEngine.events.dispatchEvent(new YA(s,e,t.objectId,this._roomEngine.getRoomObjectCategoryForType(t.objectType)))}onRoomObjectBadgeAssetEvent(t,e){if(t&&this._roomEngine)if(t.type!==$A.LOAD_BADGE);else{const s=t.objectId,i=t.objectType,r=this._roomEngine.getRoomObjectCategoryForType(i);this._roomEngine.loadRoomObjectBadgeImage(e,s,r,t.badgeId,t.groupBadge)}}handleMousePointer(t,e){t&&this._roomEngine.updateMousePointer(t.type,t.objectId,t.objectType)}handleRoomObjectPlaySoundEvent(t,e){const s=this._roomEngine.getRoomObjectCategoryForType(t.objectType);switch(t.type){case oS.PLAY_SOUND:return void this._roomEngine.events.dispatchEvent(new XA(XA.PLAY_SOUND,e,t.objectId,s,t.soundId,t.pitch));case oS.PLAY_SOUND_AT_PITCH:return void this._roomEngine.events.dispatchEvent(new XA(XA.PLAY_SOUND_AT_PITCH,e,t.objectId,s,t.soundId,t.pitch))}}handleRoomObjectSamplePlaybackEvent(t,e){if(!t)return;const s=this._roomEngine.getRoomObjectCategoryForType(t.objectType);switch(t.type){case _S.ROOM_OBJECT_INITIALIZED:this._roomEngine.events.dispatchEvent(new QA(QA.ROOM_OBJECT_INITIALIZED,e,t.objectId,s,t.sampleId,t.pitch));break;case _S.ROOM_OBJECT_DISPOSED:this._roomEngine.events.dispatchEvent(new QA(QA.ROOM_OBJECT_DISPOSED,e,t.objectId,s,t.sampleId,t.pitch));break;case _S.PLAY_SAMPLE:this._roomEngine.events.dispatchEvent(new QA(QA.PLAY_SAMPLE,e,t.objectId,s,t.sampleId,t.pitch));break;case _S.CHANGE_PITCH:this._roomEngine.events.dispatchEvent(new QA(QA.CHANGE_PITCH,e,t.objectId,s,t.sampleId,t.pitch))}}onHSLColorEnableEvent(t,e){t&&this._roomEngine&&(t.type!==nS.ROOM_BACKGROUND_COLOR||this._roomEngine.events.dispatchEvent(new rS(rS.ROOM_BACKGROUND_COLOR,e,t.enable,t.hue,t.saturation,t.lightness)))}onRoomObjectDataRequestEvent(t,e){if(t&&this._roomEngine&&t.object)switch(t.type){case tS.RODRE_CURRENT_USER_ID:return void t.object.model.setValue(rt.SESSION_CURRENT_USER_ID,this._roomEngine.sessionDataManager.userId);case tS.RODRE_URL_PREFIX:return void t.object.model.setValue(rt.SESSION_URL_PREFIX,lL.instance.getConfiguration(\"url.prefix\"))}}onRoomObjectTileMouseEvent(t,e){if(!this._roomEngine||this._roomEngine.isDecorating||!this._roomEngine.roomSessionManager)return;const s=this._roomEngine.roomSessionManager.getSession(t);s&&!s.isSpectator&&this.sendWalkUpdate(e.tileXAsInt,e.tileYAsInt)}handleObjectMove(t,e){if(!t||!this._roomEngine)return;if(!this._roomEngine.events)return;const s=this.getSelectedRoomObjectData(e);if(!s)return;const i=this._roomEngine.getRoomObject(e,s.id,s.category);if(!i)return;let r=!0;if(s.category===st.FLOOR||s.category===st.UNIT){const n=this._roomEngine.getFurnitureStackingHeightMap(e);t instanceof cS&&this.handleFurnitureMove(i,s,Math.trunc(t.tileX+.5),Math.trunc(t.tileY+.5),n)||(this.handleFurnitureMove(i,s,s.loc.x,s.loc.y,n),r=!1)}else if(s.category===st.WALL){if(r=!1,t instanceof lS){const e=t.wallLocation,n=t.wallWidth,a=t.wallHeight,o=t.x,h=t.y,_=t.direction;this.handleWallItemMove(i,s,e,n,a,o,h,_)&&(r=!0)}r||(i.setLocation(s.loc),i.setDirection(s.dir)),this._roomEngine.updateRoomObjectMask(e,s.id,r)}r?(this.setFurnitureAlphaMultiplier(i,.5),this._roomEngine.setObjectMoverIconSpriteVisible(!1)):(this.setFurnitureAlphaMultiplier(i,0),this._roomEngine.setObjectMoverIconSpriteVisible(!0))}handleObjectPlace(t,e){if(!t||!this._roomEngine)return;if(!this._roomEngine.events)return;let s=this.getSelectedRoomObjectData(e);if(!s)return;let i=this._roomEngine.getRoomObject(e,s.id,s.category);if(!i){if(t instanceof cS){if(s.category===st.FLOOR)this._roomEngine.addFurnitureFloor(e,s.id,s.typeId,s.loc,s.dir,0,s.stuffData,parseFloat(s.instanceData),-1,0,0,\"\",!1);else if(s.category===st.UNIT){this._roomEngine.addRoomObjectUser(e,s.id,new dt,new dt(180),180,s.typeId,s.instanceData);const t=this._roomEngine.getRoomObject(e,s.id,s.category);t&&s.posture&&t.model.setValue(rt.FIGURE_POSTURE,s.posture)}}else t instanceof lS&&s.category===st.WALL&&this._roomEngine.addFurnitureWall(e,s.id,s.typeId,s.loc,s.dir,0,s.instanceData,0);if(i=this._roomEngine.getRoomObject(e,s.id,s.category),i&&s.category===st.FLOOR){const t=i.model.getValue(rt.FURNITURE_ALLOWED_DIRECTIONS);if(t&&t.length){const r=new dt(t[0]);if(i.setDirection(r),this.updateSelectedObjectData(e,s.id,s.category,s.loc,r,s.operation,s.typeId,s.instanceData,s.stuffData,s.state,s.animFrame,s.posture),s=this.getSelectedRoomObjectData(e),!s)return}}this.setFurnitureAlphaMultiplier(i,.5),this._roomEngine.setObjectMoverIconSpriteVisible(!0)}if(i){let r=!0;const n=this._roomEngine.getFurnitureStackingHeightMap(e);if(s.category===st.FLOOR)t instanceof cS&&this.handleFurnitureMove(i,s,Math.trunc(t.tileX+.5),Math.trunc(t.tileY+.5),n)||(this._roomEngine.removeRoomObjectFloor(e,s.id),r=!1);else if(s.category===st.WALL){if(r=!1,t instanceof lS){const e=t.wallLocation,n=t.wallWidth,a=t.wallHeight,o=t.x,h=t.y,_=t.direction;this.handleWallItemMove(i,s,e,n,a,o,h,_)&&(r=!0)}r||this._roomEngine.removeRoomObjectWall(e,s.id),this._roomEngine.updateRoomObjectMask(e,s.id,r)}else s.category===st.UNIT&&(t instanceof cS&&this.handleUserPlace(i,Math.trunc(t.tileX+.5),Math.trunc(t.tileY+.5),this._roomEngine.getLegacyWallGeometry(e))||(this._roomEngine.removeRoomObjectUser(e,s.id),r=!1));this._roomEngine.setObjectMoverIconSpriteVisible(!r)}}handleFurnitureMove(t,e,s,i,r){if(!t||!e)return!1;const n=new dt;n.assign(t.getDirection()),t.setDirection(e.dir);const a=new dt(s,i,0),o=new dt;o.assign(t.getDirection());let h=this.validateFurnitureLocation(t,a,e.loc,e.dir,r);return h||(o.x=this.getValidRoomObjectDirection(t,!0),t.setDirection(o),h=this.validateFurnitureLocation(t,a,e.loc,e.dir,r)),h?(t.setLocation(h),o&&t.setDirection(o),!0):(t.setDirection(n),!1)}handleWallItemMove(t,e,s,i,r,n,a,o){if(!t||!e)return!1;const h=new dt(o),_=this.validateWallItemLocation(t,s,i,r,n,a,e);return!!_&&(t.setLocation(_),t.setDirection(h),!0)}validateFurnitureLocation(t,e,s,i,r){if(!t||!t.model||!e)return null;let n=null;const a=t.getDirection();if(!a)return null;if(!s||!i)return null;if(e.x===s.x&&e.y===s.y&&a.x===i.x)return n=new dt,n.assign(s),n;let o=t.model.getValue(rt.FURNITURE_SIZE_X),h=t.model.getValue(rt.FURNITURE_SIZE_Y);o<1&&(o=1),h<1&&(h=1);const _=s.x,d=s.y;let u=o,c=h,l=0,g=Math.trunc(Math.trunc(a.x+45)%360/90);if(1!==g&&3!==g||(l=o,o=h,h=l),g=Math.trunc(Math.trunc(i.x+45)%360/90),1!==g&&3!==g||(l=u,u=c,c=l),r&&e){const s=1===t.model.getValue(rt.FURNITURE_ALWAYS_STACKABLE);return r.validateLocation(e.x,e.y,o,h,_,d,u,c,s)?new dt(e.x,e.y,r.getTileHeight(e.x,e.y)):null}return null}validateWallItemLocation(t,e,s,i,r,n,a){if(null==t||null==t.model||null==e||null==s||null==i||null==a)return null;const o=t.model.getValue(rt.FURNITURE_SIZE_X),h=t.model.getValue(rt.FURNITURE_SIZE_Z),_=t.model.getValue(rt.FURNITURE_CENTER_Z);if((r<o/2||r>s.length-o/2||n<_||n>i.length-(h-_))&&(r<o/2&&r<=s.length-o/2?r=o/2:r>=o/2&&r>s.length-o/2&&(r=s.length-o/2),n<_&&n<=i.length-(h-_)?n=_:n>=_&&n>i.length-(h-_)&&(n=i.length-(h-_))),r<o/2||r>s.length-o/2||n<_||n>i.length-(h-_))return null;let d=dt.sum(dt.product(s,r/s.length),dt.product(i,n/i.length));return d=dt.sum(e,d),d}changeObjectState(t,e,s,i,r){const n=this._roomEngine.getRoomObjectCategoryForType(s);this.changeRoomObjectState(t,e,n,i,r)}useObject(t,e,s,i){if(this._roomEngine&&this._roomEngine.connection)switch(i){case iS.DICE_ACTIVATE:return void this._roomEngine.connection.send(new kv(e));case iS.DICE_OFF:return void this._roomEngine.connection.send(new zv(e));case iS.USE_HABBOWHEEL:return void this._roomEngine.connection.send(new jv(e));case iS.STICKIE:return void this._roomEngine.connection.send(new Ov(e));case iS.ENTER_ONEWAYDOOR:return void this._roomEngine.connection.send(new Kv(e))}}changeRoomObjectState(t,e,s,i,r){return!this._roomEngine||!this._roomEngine.connection||(s===st.FLOOR?r?this._roomEngine.connection.send(new Xv(e,i)):this._roomEngine.connection.send(new Wv(e,i)):s===st.WALL&&this._roomEngine.connection.send(new Qv(e,i)),!0)}sendWalkUpdate(t,e){this._roomEngine&&this._roomEngine.connection&&this._roomEngine.connection.send(new NO(t,e))}handleMouseOverObject(t,e,s){if(t!==st.FLOOR)return null;const i=this._roomEngine.getRoomObject(e,s.objectId,st.FLOOR);if(!i)return null;const r=this.getActiveSurfaceLocation(i,s);if(!r)return null;if(!this._roomEngine.getFurnitureStackingHeightMap(e))return null;const n=r.x,a=r.y,o=r.z;return new aD(new dt(n,a,i.getLocation().z),o,!0,s.eventId)}handleMoveTargetFurni(t,e){if(e.objectType===it.USER||e.objectType===it.PET||e.objectType===it.BOT||e.objectType===it.RENTABLE_BOT||e.objectType===it.MONSTER_PLANT)return;const s=this._roomEngine.getRoomObject(t,e.objectId,st.FLOOR),i=this.getActiveSurfaceLocation(s,e);return!!i&&(this.sendWalkUpdate(i.x,i.y),!0)}getActiveSurfaceLocation(t,e){if(!t||!e)return null;const s=this._roomEngine.sessionDataManager.getFloorItemDataByName(t.type);if(!s)return null;if(!s.canStandOn&&!s.canSitOn&&!s.canLayOn)return null;const i=t.model;if(!i)return null;const r=t.getLocation(),n=t.getDirection();let a=i.getValue(rt.FURNITURE_SIZE_X),o=i.getValue(rt.FURNITURE_SIZE_Y);const h=i.getValue(rt.FURNITURE_SIZE_Z);90!==n.x&&270!==n.x||([a,o]=[o,a]),a<1&&(a=1),o<1&&(o=1);const _=this._roomEngine.getActiveRoomInstanceRenderingCanvas();if(!_)return null;const d=_.geometry.scale,u=s.canSitOn?.5:0,c=(d/2+e.spriteOffsetX+e.localX)/(d/4),l=(e.spriteOffsetY+e.localY+(h-u)*d/2)/(d/4),g=(c+2*l)/4,E=(c-2*l)/4,p=Math.floor(r.x+g),m=Math.floor(r.y-E+1);let I=!1;(p<r.x||p>=r.x+a||m<r.y||m>=r.y+o)&&(I=!0);const f=s.canSitOn?h-.5:h;return I?null:new dt(p,m,f)}handleMouseOverTile(t,e){if(this._whereYouClickIsWhereYouGo)return new aD(new dt(t.tileXAsInt,t.tileYAsInt,t.tileZAsInt),0,!0,t.eventId);const s=this._roomEngine.getRoomObjectCursor(e);if(s&&s.visualization){const s=t.tileXAsInt,i=t.tileYAsInt,r=t.tileZAsInt;if(this._roomEngine.getRoomInstance(e)){const n=this._roomEngine.getRoomTileObjectMap(e);if(n){const a=n.getObjectIntTile(s,i),o=this._roomEngine.getFurnitureStackingHeightMap(e);if(o){if(a&&a.model&&a.model.getValue(rt.FURNITURE_IS_VARIABLE_HEIGHT)>0){const n=o.getTileHeight(s,i),a=this._roomEngine.getLegacyWallGeometry(e).getHeight(s,i);return new aD(new dt(s,i,r),n-a,!0,t.eventId)}return new aD(new dt(s,i,r),0,!0,t.eventId)}}}}return null}placeObject(t,e,s){const i=this.getSelectedRoomObjectData(t);if(!i)return;let r=null,n=i.id;const a=i.category;let o=0,h=0,_=0,d=0,u=\"\";if(this._roomEngine&&this._roomEngine.connection&&(r=this._roomEngine.getRoomObject(t,n,a),r)){const e=r.getLocation();if(d=r.getDirection().x,a===st.FLOOR||a===st.UNIT)o=e.x,h=e.y,_=e.z;else if(a===st.WALL){o=e.x,h=e.y,_=e.z;const s=this._roomEngine.getLegacyWallGeometry(t);s&&(u=s.getOldLocationString(e,d))}d=(d/45%8+8)%8,n<0&&a===st.UNIT&&(n*=-1),this._objectPlacementSource!==iD.CATALOG&&(a===st.UNIT?i.typeId===dd.PET?this._roomEngine.connection.send(new Nv(n,Math.trunc(o),Math.trunc(h))):i.typeId===dd.RENTABLE_BOT&&this._roomEngine.connection.send(new Iv(n,Math.trunc(o),Math.trunc(h))):void 0!==r.model.getValue(rt.FURNITURE_IS_STICKIE)?this._roomEngine.connection.send(new Hv(n,u)):this._roomEngine.connection.send(new Bv(n,a,u,Math.trunc(o),Math.trunc(h),d)))}if(this._roomEngine.setPlacedRoomObjectData(t,new _D(i.id,i.category,null,i.dir,null)),this.resetSelectedObjectData(t),this._roomEngine&&this._roomEngine.events){const c=r&&r.id===i.id;this._roomEngine.events.dispatchEvent(new WA(YA.PLACED,t,n,a,u,o,h,_,d,c,e,s,i.instanceData))}}modifyRoomObject(t,e,s,i){if(!this._roomEngine)return!1;const r=this._roomEngine.getRoomObject(t,e,s);if(!r)return!1;let n=!0;switch(i){case hD.OBJECT_ROTATE_POSITIVE:case hD.OBJECT_ROTATE_NEGATIVE:if(this._roomEngine.connection){let s=0;s=i==hD.OBJECT_ROTATE_NEGATIVE?this.getValidRoomObjectDirection(r,!1):this.getValidRoomObjectDirection(r,!0);const n=r.getLocation().x,a=r.getLocation().y;if(this.isValidLocation(r,new dt(s),this._roomEngine.getFurnitureStackingHeightMap(t)))if(s=Math.trunc(s/45),r.type===it.MONSTER_PLANT){const i=this._roomEngine.roomSessionManager.getSession(t);if(i){const t=i.userDataManager.getUserDataByIndex(e);t&&this._roomEngine.connection.send(new Sv(t.webID,Math.trunc(n),Math.trunc(a),s))}}else this._roomEngine.connection.send(new bv(e,n,a,s))}break;case hD.OBJECT_EJECT:case hD.OBJECT_PICKUP:this._roomEngine.connection&&this._roomEngine.connection.send(new xv(s,e));break;case hD.OBJECT_PICKUP_PET:if(this._roomEngine.connection){const s=this._roomEngine.roomSessionManager.getSession(t);if(s){const t=s.userDataManager.getUserDataByIndex(e);s.pickupPet(t.webID)}}break;case hD.OBJECT_PICKUP_BOT:if(this._roomEngine.connection){const s=this._roomEngine.roomSessionManager.getSession(t);if(s){const t=s.userDataManager.getUserDataByIndex(e);s.pickupBot(t.webID)}}break;case hD.OBJECT_MOVE:n=!1,this.setFurnitureAlphaMultiplier(r,.5),this.setSelectedRoomObjectData(t,r.id,s,r.getLocation(),r.getDirection(),i),this._roomEngine.setObjectMoverIconSprite(r.id,s,!0),this._roomEngine.setObjectMoverIconSpriteVisible(!1);break;case hD.OBJECT_MOVE_TO:{const i=this.getSelectedRoomObjectData(t);if(this.updateSelectedObjectData(t,i.id,i.category,i.loc,i.dir,hD.OBJECT_MOVE_TO,i.typeId,i.instanceData,i.stuffData,i.state,i.animFrame,i.posture),this.setFurnitureAlphaMultiplier(r,1),this._roomEngine.removeObjectMoverIconSprite(),this._roomEngine.connection)if(s===st.FLOOR){const t=r.getDirection().x%360,s=r.getLocation(),i=t/45;this._roomEngine.connection.send(new bv(e,s.x,s.y,i))}else if(s===st.WALL){const s=r.getDirection().x%360,i=this._roomEngine.getLegacyWallGeometry(t);if(i){const t=i.getOldLocationString(r.getLocation(),s);t&&this._roomEngine.connection.send(new eO(e,t))}}else if(s===st.UNIT){const s=r.getDirection().x%360,i=r.getLocation(),n=s/45,a=(parseInt(r.model.getValue(rt.RACE)),this._roomEngine.roomSessionManager.getSession(t));if(a){const t=a.userDataManager.getUserDataByIndex(e);t&&this._roomEngine.connection.send(new Sv(t.webID,i.x,i.y,n))}}break}}return n&&this.resetSelectedObjectData(t),!0}modifyRoomObjectDataWithMap(t,e,s,i,r){if(!this._roomEngine)return!1;if(!this._roomEngine.getRoomObject(t,e,s))return!1;if(i===hD.OBJECT_SAVE_STUFF_DATA)this._roomEngine.connection&&this._roomEngine.connection.send(new Cv(e,r));return!0}modifyWallItemData(t,e,s,i){return!(!this._roomEngine||!this._roomEngine.connection)&&(this._roomEngine.connection.send(new Mv(e,s,i)),!0)}deleteWallItem(t,e){return!(!this._roomEngine||!this._roomEngine.connection)&&(this._roomEngine.connection.send(new Dv(e)),!0)}getValidRoomObjectDirection(t,e){if(!t||!t.model)return 0;let s=0,i=0,r=[];r=t.type===it.MONSTER_PLANT?t.model.getValue(rt.PET_ALLOWED_DIRECTIONS):t.model.getValue(rt.FURNITURE_ALLOWED_DIRECTIONS);let n=t.getDirection().x;if(r&&r.length){if(s=r.indexOf(n),s<0){for(s=0,i=0;i<r.length&&!(n<=r[i]);)s++,i++;s%=r.length}s=e?(s+1)%r.length:(s-1+r.length)%r.length,n=r[s]}return n}isValidLocation(t,e,s){if(!t||!t.model||!e)return!1;const i=t.getDirection(),r=t.getLocation();if(!i||!r)return!1;if(i.x%180===e.x%180)return!0;let n=t.model.getValue(rt.FURNITURE_SIZE_X),a=t.model.getValue(rt.FURNITURE_SIZE_Y);n<1&&(n=1),a<1&&(a=1);let o=n,h=a,_=Math.trunc(Math.trunc(e.x+45)%360/90);if(1!==_&&3!==_||([n,a]=[a,n]),_=Math.trunc(Math.trunc(i.x+45)%360/90),1!==_&&3!==_||([o,h]=[h,o]),s&&r){const e=1===t.model.getValue(rt.FURNITURE_ALWAYS_STACKABLE);if(s.validateLocation(r.x,r.y,n,a,r.x,r.y,o,h,e,r.z))return!0}return!1}placeObjectOnUser(t,e,s){const i=this.getSelectedRoomObjectData(t);if(!i)return;this._roomEngine.getRoomObject(t,e,s)&&this._roomEngine&&this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new KA(YA.PLACED_ON_USER,t,e,s,i.id,i.category))}setSelectedObject(t,e,s){if(!this._roomEngine)return;const i=this._roomEngine.events;if(i)switch(s){case st.UNIT:case st.FLOOR:case st.WALL:if(s===st.UNIT)this.deselectObject(t),this.setSelectedAvatar(t,e,!0);else if(this.setSelectedAvatar(t,0,!1),e!==this._selectedObjectId){this.deselectObject(t);const i=this._roomEngine.getRoomObject(t,e,s);i&&i.logic&&(i.logic.processUpdateMessage(new nD(!0)),this._selectedObjectId=e,this._selectedObjectCategory=s)}return void i.dispatchEvent(new YA(YA.SELECTED,t,e,s))}}deselectObject(t){if(-1===this._selectedObjectId)return;const e=this._roomEngine.getRoomObject(t,this._selectedObjectId,this._selectedObjectCategory);e&&e.logic&&(e.logic.processUpdateMessage(new nD(!1)),this._selectedObjectId=-1,this._selectedObjectCategory=st.MINIMUM)}setSelectedAvatar(t,e,s){if(!this._roomEngine)return;const i=st.UNIT,r=this._roomEngine.getRoomObject(t,this._selectedAvatarId,i);r&&r.logic&&(r.logic.processUpdateMessage(new rD(!1)),this._selectedAvatarId=-1);let n=!1;if(s){const s=this._roomEngine.getRoomObject(t,e,i);if(s&&s.logic){s.logic.processUpdateMessage(new rD(!0)),n=!0,this._selectedAvatarId=e;const t=s.getLocation();t&&this._roomEngine.connection.send(new OO(~~t.x,~~t.y))}}const a=this._roomEngine.getRoomObjectSelectionArrow(t);a&&a.logic&&(n&&!this._roomEngine.isPlayingGame()?a.logic.processUpdateMessage(new oD(oD.ENABLED)):a.logic.processUpdateMessage(new oD(oD.DISABLED)))}resetSelectedObjectData(t){if(!this._roomEngine)return;this._roomEngine.removeObjectMoverIconSprite();const e=this.getSelectedRoomObjectData(t);if(e){if(e.operation===hD.OBJECT_MOVE||e.operation===hD.OBJECT_MOVE_TO){const s=this._roomEngine.getRoomObject(t,e.id,e.category);s&&e.operation!==hD.OBJECT_MOVE_TO&&(s.setLocation(e.loc),s.setDirection(e.dir)),this.setFurnitureAlphaMultiplier(s,1),e.category===st.WALL&&this._roomEngine.updateRoomObjectMask(t,e.id,!0),this.updateSelectedObjectData(t,e.id,e.category,e.loc,e.dir,hD.OBJECT_MOVE,e.typeId,e.instanceData,e.stuffData,e.state,e.animFrame,e.posture)}else if(e.operation===hD.OBJECT_PLACE){const s=e.id;switch(e.category){case st.FLOOR:this._roomEngine.removeRoomObjectFloor(t,s);break;case st.WALL:this._roomEngine.removeRoomObjectWall(t,s);break;case st.UNIT:this._roomEngine.removeRoomObjectUser(t,s)}}this._roomEngine.setSelectedRoomObjectData(t,null)}}getSelectedRoomObjectData(t){return this._roomEngine?this._roomEngine.getSelectedRoomObjectData(t):null}setFurnitureAlphaMultiplier(t,e){t&&t.model&&t.model.setValue(rt.FURNITURE_ALPHA_MULTIPLIER,e)}decorateModeMove(t){return this._roomEngine.isDecorating&&!(t.ctrlKey||t.shiftKey)}cancelRoomObjectPlacement(t){return this.resetSelectedObjectData(t),!0}setSelectedRoomObjectData(t,e,s,i,r,n){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:-1,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null;if(this.resetSelectedObjectData(t),!this._roomEngine)return;const c=new _D(e,s,n,i,r,a,o,h,_,d,u);this._roomEngine.setSelectedRoomObjectData(t,c)}updateSelectedObjectData(t,e,s,i,r,n){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:-1,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null;if(!this._roomEngine)return null;const c=new _D(e,s,n,i,r,a,o,h,_,d,u);this._roomEngine.setSelectedRoomObjectData(t,c)}handleUserPlace(t,e,s,i){return!!i.isRoomTile(e,s)&&(t.setLocation(new dt(e,s,i.getHeight(e,s))),!0)}get engine(){return this._roomEngine}get selectedAvatarId(){return this._selectedAvatarId}}class uD extends we{constructor(){super(),this._liftAmount=void 0,this._location=void 0,this._locationDelta=void 0,this._lastUpdateTime=void 0,this._changeTime=void 0,this._updateInterval=void 0,this._liftAmount=0,this._location=new dt,this._locationDelta=new dt,this._lastUpdateTime=0,this._changeTime=0,this._updateInterval=uD.DEFAULT_UPDATE_INTERVAL}onDispose(){this._liftAmount=0,super.onDispose()}update(t){super.update(t);const e=this.getLocationOffset(),s=this.object&&this.object.model;if(s&&(e?this._liftAmount!==e.z&&(this._liftAmount=e.z,s.setValue(rt.FURNITURE_LIFT_AMOUNT,this._liftAmount)):0!==this._liftAmount&&(this._liftAmount=0,s.setValue(rt.FURNITURE_LIFT_AMOUNT,this._liftAmount))),this._locationDelta.length>0||e){const t=uD.TEMP_VECTOR;let s=this.time-this._changeTime;s===this._updateInterval>>1&&s++,s>this._updateInterval&&(s=this._updateInterval),this._locationDelta.length>0?(t.assign(this._locationDelta),t.multiply(s/this._updateInterval),t.add(this._location)):t.assign(this._location),e&&t.add(e),this.object.setLocation(t),s===this._updateInterval&&(this._locationDelta.x=0,this._locationDelta.y=0,this._locationDelta.z=0)}this._lastUpdateTime=this.time}setObject(t){super.setObject(t),t&&this._location.assign(t.getLocation())}processUpdateMessage(t){if(t)return super.processUpdateMessage(t),t.location&&this._location.assign(t.location),t instanceof BS?this.processMoveMessage(t):void 0}processMoveMessage(t){t&&this.object&&t.location&&(this._changeTime=this._lastUpdateTime,this._locationDelta.assign(t.targetLocation),this._locationDelta.subtract(this._location))}getLocationOffset(){return null}get lastUpdateTime(){return this._lastUpdateTime}set updateInterval(t){t<=0&&(t=1),this._updateInterval=t}}uD.DEFAULT_UPDATE_INTERVAL=500,uD.TEMP_VECTOR=new dt;class cD extends uD{constructor(){super(),this._selected=void 0,this._reportedLocation=void 0,this._effectChangeTimeStamp=void 0,this._newEffect=void 0,this._blinkingStartTimestamp=void 0,this._blinkingEndTimestamp=void 0,this._talkingEndTimestamp=void 0,this._talkingPauseStartTimestamp=void 0,this._talkingPauseEndTimestamp=void 0,this._carryObjectStartTimestamp=void 0,this._carryObjectEndTimestamp=void 0,this._allowUseCarryObject=void 0,this._animationEndTimestamp=void 0,this._signEndTimestamp=void 0,this._gestureEndTimestamp=void 0,this._numberValueEndTimestamp=void 0,this._selected=!1,this._reportedLocation=null,this._effectChangeTimeStamp=0,this._newEffect=0,this._blinkingStartTimestamp=lL.instance.time+this.randomBlinkStartTimestamp(),this._blinkingEndTimestamp=0,this._talkingEndTimestamp=0,this._talkingPauseStartTimestamp=0,this._talkingPauseEndTimestamp=0,this._carryObjectStartTimestamp=0,this._carryObjectEndTimestamp=0,this._allowUseCarryObject=!1,this._animationEndTimestamp=0,this._signEndTimestamp=0,this._gestureEndTimestamp=0,this._numberValueEndTimestamp=0}getEventTypes(){const t=[Me.CLICK,aS.POSITION_CHANGED,Me.MOUSE_ENTER,Me.MOUSE_LEAVE,iS.MOUSE_BUTTON,iS.MOUSE_ARROW];return this.mergeTypes(super.getEventTypes(),t)}dispose(){this._selected&&this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new aS(aS.OBJECT_REMOVED,this.object)),super.dispose(),this._reportedLocation=null}update(t){if(super.update(t),this._selected&&this.object&&this.eventDispatcher){const t=this.object.getLocation();this._reportedLocation&&this._reportedLocation.x===t.x&&this._reportedLocation.y===t.y&&this._reportedLocation.z===t.z||(this._reportedLocation||(this._reportedLocation=new dt),this._reportedLocation.assign(t),this.eventDispatcher.dispatchEvent(new aS(aS.POSITION_CHANGED,this.object)))}const e=this.object&&this.object.model;e&&this.updateModel(this.time,e)}updateModel(t,e){this._talkingEndTimestamp>0&&(t>this._talkingEndTimestamp?(e.setValue(rt.FIGURE_TALK,0),this._talkingEndTimestamp=0,this._talkingPauseStartTimestamp=0,this._talkingPauseEndTimestamp=0):this._talkingPauseEndTimestamp||this._talkingPauseStartTimestamp?this._talkingPauseStartTimestamp>0&&t>this._talkingPauseStartTimestamp?(e.setValue(rt.FIGURE_TALK,0),this._talkingPauseStartTimestamp=0):this._talkingPauseEndTimestamp>0&&t>this._talkingPauseEndTimestamp&&(e.setValue(rt.FIGURE_TALK,1),this._talkingPauseEndTimestamp=0):(this._talkingPauseStartTimestamp=t+this.randomTalkingPauseStartTimestamp(),this._talkingPauseEndTimestamp=this._talkingPauseStartTimestamp+this.randomTalkingPauseEndTimestamp())),this._animationEndTimestamp>0&&t>this._animationEndTimestamp&&(e.setValue(rt.FIGURE_EXPRESSION,0),this._animationEndTimestamp=0),this._gestureEndTimestamp>0&&t>this._gestureEndTimestamp&&(e.setValue(rt.FIGURE_GESTURE,0),this._gestureEndTimestamp=0),this._signEndTimestamp>0&&t>this._signEndTimestamp&&(e.setValue(rt.FIGURE_SIGN,-1),this._signEndTimestamp=0),this._carryObjectEndTimestamp>0&&t>this._carryObjectEndTimestamp&&(e.setValue(rt.FIGURE_CARRY_OBJECT,0),e.setValue(rt.FIGURE_USE_OBJECT,0),this._carryObjectStartTimestamp=0,this._carryObjectEndTimestamp=0,this._allowUseCarryObject=!1),this._allowUseCarryObject&&t-this._carryObjectStartTimestamp>5e3&&((t-this._carryObjectStartTimestamp)%1e4<1e3?e.setValue(rt.FIGURE_USE_OBJECT,1):e.setValue(rt.FIGURE_USE_OBJECT,0)),this._blinkingStartTimestamp>-1&&t>this._blinkingStartTimestamp&&(e.setValue(rt.FIGURE_BLINK,1),this._blinkingStartTimestamp=t+this.randomBlinkStartTimestamp(),this._blinkingEndTimestamp=t+this.randomBlinkEndTimestamp()),this._blinkingEndTimestamp>0&&t>this._blinkingEndTimestamp&&(e.setValue(rt.FIGURE_BLINK,0),this._blinkingEndTimestamp=0),this._effectChangeTimeStamp>0&&t>this._effectChangeTimeStamp&&(e.setValue(rt.FIGURE_EFFECT,this._newEffect),this._effectChangeTimeStamp=0),this._numberValueEndTimestamp>0&&t>this._numberValueEndTimestamp&&(e.setValue(rt.FIGURE_NUMBER_VALUE,0),this._numberValueEndTimestamp=0)}processUpdateMessage(t){if(!t||!this.object)return;super.processUpdateMessage(t);const e=this.object&&this.object.model;if(e){if(t instanceof bS)return e.setValue(rt.FIGURE_POSTURE,t.postureType),void e.setValue(rt.FIGURE_POSTURE_PARAMETER,t.parameter);if(t instanceof TS)return e.setValue(rt.FIGURE_TALK,1),void(this._talkingEndTimestamp=this.time+1e3*t.numberOfWords);if(t instanceof xS)e.setValue(rt.FIGURE_IS_TYPING,t.isTyping?1:0);else if(t instanceof MS)e.setValue(rt.FIGURE_IS_MUTED,t.isMuted?1:0);else if(t instanceof PS)e.setValue(rt.FIGURE_IS_PLAYING_GAME,t.isPlayingGame?1:0);else{if(t instanceof GS)return e.setValue(rt.HEAD_DIRECTION,t.headDirection),e.setValue(rt.FIGURE_CAN_STAND_UP,t.canStandUp),void e.setValue(rt.FIGURE_VERTICAL_OFFSET,t.baseY);if(t instanceof yS)return e.setValue(rt.FIGURE_GESTURE,t.gesture),void(this._gestureEndTimestamp=this.time+3e3);if(t instanceof AS)return e.setValue(rt.FIGURE_EXPRESSION,t.expressionType),this._animationEndTimestamp=Bt.getExpressionTimeout(e.getValue(rt.FIGURE_EXPRESSION)),void(this._animationEndTimestamp>-1&&(this._animationEndTimestamp+=this.time));if(t instanceof RS)e.setValue(rt.FIGURE_DANCE,t.danceStyle);else{if(t instanceof FS)return e.setValue(rt.FIGURE_SLEEP,t.isSleeping?1:0),void(t.isSleeping?this._blinkingStartTimestamp=-1:this._blinkingStartTimestamp=this.time+this.randomBlinkStartTimestamp());if(t instanceof US)return e.setValue(rt.FIGURE_NUMBER_VALUE,t.value),void(this._numberValueEndTimestamp=this.time+3e3);if(t instanceof vS)this.updateAvatarEffect(t.effect,t.delayMilliseconds,e);else{if(t instanceof fS)return e.setValue(rt.FIGURE_CARRY_OBJECT,t.itemType),e.setValue(rt.FIGURE_USE_OBJECT,0),void(0===t.itemType?(this._carryObjectStartTimestamp=0,this._carryObjectEndTimestamp=0,this._allowUseCarryObject=!1):(this._carryObjectStartTimestamp=this.time,t.itemType<cD.MAX_HAND_ID?(this._carryObjectEndTimestamp=0,this._allowUseCarryObject=t.itemType<=cD.MAX_HAND_USE_ID):(this._carryObjectEndTimestamp=this._carryObjectStartTimestamp+1500,this._allowUseCarryObject=!1)));if(t instanceof HS)e.setValue(rt.FIGURE_USE_OBJECT,t.itemType);else{if(t instanceof wS)return e.setValue(rt.FIGURE_SIGN,t.signType),void(this._signEndTimestamp=this.time+5e3);if(!(t instanceof NS))return t instanceof SS?(e.setValue(rt.FIGURE,t.figure),void e.setValue(rt.GENDER,t.gender)):t instanceof rD?(this._selected=t.selected,void(this._reportedLocation=null)):void(t instanceof CS&&e.setValue(rt.OWN_USER,1));e.setValue(rt.FIGURE_FLAT_CONTROL,t.level)}}}}}}updateAvatarEffect(t,e,s){if(t===cD.EFFECT_TYPE_SPLASH)this._effectChangeTimeStamp=lL.instance.time+cD.EFFECT_SPLASH_LENGTH,this._newEffect=cD.EFFECT_TYPE_SWIM;else if(t===cD.EFFECT_TYPE_SPLASH_DARK)this._effectChangeTimeStamp=lL.instance.time+cD.EFFECT_SPLASH_LENGTH,this._newEffect=cD.EFFECT_TYPE_SWIM_DARK;else if(s.getValue(rt.FIGURE_EFFECT)===cD.EFFECT_TYPE_SWIM)this._effectChangeTimeStamp=lL.instance.time+cD.EFFECT_SPLASH_LENGTH,this._newEffect=t,t=cD.EFFECT_TYPE_SPLASH;else if(s.getValue(rt.FIGURE_EFFECT)===cD.EFFECT_TYPE_SWIM_DARK)this._effectChangeTimeStamp=lL.instance.time+cD.EFFECT_SPLASH_LENGTH,this._newEffect=t,t=cD.EFFECT_TYPE_SPLASH_DARK;else{if(0!==e)return this._effectChangeTimeStamp=lL.instance.time+e,void(this._newEffect=t);this._effectChangeTimeStamp=0}s.setValue(rt.FIGURE_EFFECT,t)}mouseEvent(t,e){let s=null;switch(t.type){case ts.MOUSE_CLICK:s=Me.CLICK;break;case ts.ROLL_OVER:s=Me.MOUSE_ENTER,this.object.model&&this.object.model.setValue(rt.FIGURE_HIGHLIGHT,1),this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.MOUSE_BUTTON,this.object));break;case ts.ROLL_OUT:s=Me.MOUSE_LEAVE,this.object.model&&this.object.model.setValue(rt.FIGURE_HIGHLIGHT,0),this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.MOUSE_ARROW,this.object))}s&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new Me(s,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown))}randomTalkingPauseStartTimestamp(){return 100+200*Math.random()}randomTalkingPauseEndTimestamp(){return 75+75*Math.random()}randomBlinkStartTimestamp(){return 4500+1e3*Math.random()}randomBlinkEndTimestamp(){return 50+200*Math.random()}}cD.MAX_HAND_ID=999999999,cD.MAX_HAND_USE_ID=999,cD.EFFECT_TYPE_SPLASH=28,cD.EFFECT_SPLASH_LENGTH=500,cD.EFFECT_TYPE_SWIM=29,cD.EFFECT_TYPE_SPLASH_DARK=184,cD.EFFECT_TYPE_SWIM_DARK=185;class lD extends uD{constructor(){super(),this._sizeX=void 0,this._sizeY=void 0,this._sizeZ=void 0,this._centerX=void 0,this._centerY=void 0,this._centerZ=void 0,this._directions=void 0,this._mouseOver=void 0,this._locationOffset=void 0,this._bouncingStep=void 0,this._storedRotateMessage=void 0,this._directionInitialized=void 0,this._sizeX=0,this._sizeY=0,this._sizeZ=0,this._centerX=0,this._centerY=0,this._centerZ=0,this._directions=[],this._mouseOver=!1,this._locationOffset=new dt,this._bouncingStep=0,this._storedRotateMessage=null,this._directionInitialized=!1,-1===lD.BOUNCING_STEPS&&(lD.BOUNCING_STEPS=lL.instance.getConfiguration(\"furni.rotation.bounce.steps\",8)),-1===lD.BOUNCING_Z&&(lD.BOUNCING_Z=lL.instance.getConfiguration(\"furni.rotation.bounce.height\",.0625))}getEventTypes(){const t=[uS.STATE_CHANGE,Me.CLICK,Me.MOUSE_DOWN,Me.MOUSE_DOWN_LONG,hS.ROOM_AD_TOOLTIP_SHOW,hS.ROOM_AD_TOOLTIP_HIDE,hS.ROOM_AD_FURNI_DOUBLE_CLICK,hS.ROOM_AD_FURNI_CLICK];return this.widget&&t.push(gS.OPEN_WIDGET,gS.CLOSE_WIDGET),this.contextMenu&&t.push(gS.OPEN_FURNI_CONTEXT_MENU,gS.CLOSE_FURNI_CONTEXT_MENU),this.mergeTypes(super.getEventTypes(),t)}initialize(t){if(!t)return;const e=this.object&&this.object.model;if(e){if(t.logic){if(t.logic.model){const e=t.logic.model.dimensions;e&&(this._sizeX=e.x,this._sizeY=e.y,this._sizeZ=e.z,this._centerX=this._sizeX/2,this._centerY=this._sizeY/2,this._centerZ=this._sizeZ/2);const s=t.logic.model.directions;if(s&&s.length){for(const t of s)this._directions.push(t);this._directions.sort(((t,e)=>t-e))}}if(t.logic.customVars){const s=t.logic.customVars.variables;s&&s.length&&e.setValue(rt.FURNITURE_CUSTOM_VARIABLES,s)}}e.setValue(rt.FURNITURE_SIZE_X,this._sizeX),e.setValue(rt.FURNITURE_SIZE_Y,this._sizeY),e.setValue(rt.FURNITURE_SIZE_Z,this._sizeZ),e.setValue(rt.FURNITURE_CENTER_X,this._centerX),e.setValue(rt.FURNITURE_CENTER_Y,this._centerY),e.setValue(rt.FURNITURE_CENTER_Z,this._centerZ),e.setValue(rt.FURNITURE_ALLOWED_DIRECTIONS,this._directions),e.setValue(rt.FURNITURE_ALPHA_MULTIPLIER,1)}}onDispose(){this._storedRotateMessage=null,this._directions=null,super.onDispose()}setObject(t){super.setObject(t),t&&t.getLocation().length&&(this._directionInitialized=!0)}getAdClickUrl(t){return t.getValue(rt.FURNITURE_AD_URL)}handleAdClick(t,e,s){this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new hS(hS.ROOM_AD_FURNI_CLICK,this.object))}update(t){super.update(t),this._bouncingStep>0&&(this._bouncingStep++,this._bouncingStep>lD.BOUNCING_STEPS&&(this._bouncingStep=0))}processUpdateMessage(t){if(t instanceof VS)this.processDataUpdateMessage(t);else if(t instanceof kS)this.processObjectHeightUpdateMessage(t);else if(t instanceof zS)this.processItemDataUpdateMessage(t);else{if(this._mouseOver=!1,t.location&&t.direction){if(!(t instanceof BS)){const e=this.object.getDirection(),s=this.object.getLocation();e.x!==t.direction.x&&this._directionInitialized&&s.x===t.location.x&&s.y===t.location.y&&s.z===t.location.z&&(this._bouncingStep=1,this._storedRotateMessage=new Ue(t.location,t.direction),t=null)}this._directionInitialized=!0}if(t instanceof nD&&this.contextMenu&&this.eventDispatcher&&this.object){const e=t.selected?gS.OPEN_FURNI_CONTEXT_MENU:gS.CLOSE_FURNI_CONTEXT_MENU;this.eventDispatcher.dispatchEvent(new gS(e,this.object))}super.processUpdateMessage(t)}}processDataUpdateMessage(t){t&&(this.object.setState(t.state,0),t.data&&t.data.writeRoomObjectModel(this.object.model),null!==t.extra&&this.object.model.setValue(rt.FURNITURE_EXTRAS,t.extra.toString()),this.object.model.setValue(rt.FURNITURE_STATE_UPDATE_TIME,this.lastUpdateTime))}processObjectHeightUpdateMessage(t){t&&this.object.model.setValue(rt.FURNITURE_SIZE_Z,t.height)}processItemDataUpdateMessage(t){t&&this.object.model.setValue(rt.FURNITURE_ITEMDATA,t.data)}mouseEvent(t,e){const s=this.getAdClickUrl(this.object.model);switch(t.type){case ts.MOUSE_MOVE:if(this.eventDispatcher){const e=new Me(Me.MOUSE_MOVE,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown);e.localX=t.localX,e.localY=t.localY,e.spriteOffsetX=t.spriteOffsetX,e.spriteOffsetY=t.spriteOffsetY,this.eventDispatcher.dispatchEvent(e)}return;case ts.ROLL_OVER:if(!this._mouseOver){if(this.eventDispatcher){s&&0===s.indexOf(\"http\")&&this.eventDispatcher.dispatchEvent(new hS(hS.ROOM_AD_TOOLTIP_SHOW,this.object));const e=new Me(Me.MOUSE_ENTER,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown);e.localX=t.localX,e.localY=t.localY,e.spriteOffsetX=t.spriteOffsetX,e.spriteOffsetY=t.spriteOffsetY,this.eventDispatcher.dispatchEvent(e)}this._mouseOver=!0}return;case ts.ROLL_OUT:if(this._mouseOver){if(this.eventDispatcher){s&&0===s.indexOf(\"http\")&&this.eventDispatcher.dispatchEvent(new hS(hS.ROOM_AD_TOOLTIP_HIDE,this.object));const e=new Me(Me.MOUSE_LEAVE,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown);e.localX=t.localX,e.localY=t.localY,e.spriteOffsetX=t.spriteOffsetX,e.spriteOffsetY=t.spriteOffsetY,this.eventDispatcher.dispatchEvent(e)}this._mouseOver=!1}return;case ts.DOUBLE_CLICK:return void this.useObject();case ts.MOUSE_CLICK:if(this.eventDispatcher){const e=new Me(Me.CLICK,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown);e.localX=t.localX,e.localY=t.localY,e.spriteOffsetX=t.spriteOffsetX,e.spriteOffsetY=t.spriteOffsetY,this.eventDispatcher.dispatchEvent(e),s&&0===s.indexOf(\"http\")&&this.eventDispatcher.dispatchEvent(new hS(hS.ROOM_AD_TOOLTIP_HIDE,this.object)),s&&s.length&&this.handleAdClick(this.object.id,this.object.type,s)}return;case ts.MOUSE_DOWN:if(this.eventDispatcher){const e=new Me(Me.MOUSE_DOWN,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown);this.eventDispatcher.dispatchEvent(e)}return;case ts.MOUSE_DOWN_LONG:if(this.eventDispatcher){const e=new Me(Me.MOUSE_DOWN_LONG,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown);this.eventDispatcher.dispatchEvent(e)}return}}getLocationOffset(){return this._bouncingStep<=0?null:(this._locationOffset.x=0,this._locationOffset.y=0,this._bouncingStep<=lD.BOUNCING_STEPS/2?this._locationOffset.z=lD.BOUNCING_Z*this._bouncingStep:this._bouncingStep<=lD.BOUNCING_STEPS&&(this._storedRotateMessage&&(super.processUpdateMessage(this._storedRotateMessage),this._storedRotateMessage=null),this._locationOffset.z=lD.BOUNCING_Z*(lD.BOUNCING_STEPS-this._bouncingStep)),this._locationOffset)}useObject(){if(!this.object||!this.eventDispatcher)return;const t=this.getAdClickUrl(this.object.model);t&&t.length&&this.eventDispatcher.dispatchEvent(new hS(hS.ROOM_AD_FURNI_DOUBLE_CLICK,this.object,null,t)),this.widget&&this.eventDispatcher.dispatchEvent(new gS(gS.OPEN_WIDGET,this.object)),this.eventDispatcher.dispatchEvent(new uS(uS.STATE_CHANGE,this.object))}tearDown(){1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&(this.widget&&this.eventDispatcher.dispatchEvent(new gS(gS.CLOSE_WIDGET,this.object)),this.contextMenu&&this.eventDispatcher.dispatchEvent(new gS(gS.CLOSE_FURNI_CONTEXT_MENU,this.object))),super.tearDown()}}lD.BOUNCING_STEPS=-1,lD.BOUNCING_Z=-1;class gD extends lD{getEventTypes(){const t=[gS.BADGE_DISPLAY_ENGRAVING,$A.LOAD_BADGE];return this.mergeTypes(super.getEventTypes(),t)}processUpdateMessage(t){if(super.processUpdateMessage(t),this.object)if(t instanceof VS){const e=t.data;e instanceof pa&&this.updateBadge(e.getValue(1))}else t instanceof jS&&\"loading_icon\"!==t.assetName&&(this.object.model.setValue(rt.FURNITURE_BADGE_ASSET_NAME,t.assetName),this.object.model.setValue(rt.FURNITURE_BADGE_IMAGE_STATUS,1),this.update(lL.instance.time))}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.BADGE_DISPLAY_ENGRAVING,this.object))}updateBadge(t){\"\"!==t&&this.eventDispatcher&&(this.object.model.setValue(rt.FURNITURE_BADGE_IMAGE_STATUS,-1),this.eventDispatcher.dispatchEvent(new $A($A.LOAD_BADGE,this.object,t,!1)))}}class ED extends gD{getEventTypes(){const t=[gS.ACHIEVEMENT_RESOLUTION_OPEN,gS.ACHIEVEMENT_RESOLUTION_ENGRAVING,gS.ACHIEVEMENT_RESOLUTION_FAILED,$A.LOAD_BADGE];return this.mergeTypes(super.getEventTypes(),t)}processUpdateMessage(t){if(super.processUpdateMessage(t),t instanceof jS&&\"loading_icon\"!==t.assetName&&this.object.model.setValue(rt.FURNITURE_BADGE_VISIBLE_IN_STATE,ED.BADGE_VISIBLE_IN_STATE),t instanceof nD){if(!this.eventDispatcher||!this.object)return;this.eventDispatcher.dispatchEvent(new gS(gS.CLOSE_FURNI_CONTEXT_MENU,this.object))}}useObject(){if(!this.object||!this.eventDispatcher)return;let t=null;switch(this.object.getState(0)){case ED.STATE_RESOLUTION_NOT_STARTED:case ED.STATE_RESOLUTION_IN_PROGRESS:t=new gS(gS.ACHIEVEMENT_RESOLUTION_OPEN,this.object);break;case ED.STATE_RESOLUTION_ACHIEVED:t=new gS(gS.ACHIEVEMENT_RESOLUTION_ENGRAVING,this.object);break;case ED.STATE_RESOLUTION_FAILED:t=new gS(gS.ACHIEVEMENT_RESOLUTION_FAILED,this.object)}t&&this.eventDispatcher.dispatchEvent(t)}updateBadge(t){t!==ED.ACH_NOT_SET&&super.updateBadge(t)}}ED.STATE_RESOLUTION_NOT_STARTED=0,ED.STATE_RESOLUTION_IN_PROGRESS=1,ED.STATE_RESOLUTION_ACHIEVED=2,ED.STATE_RESOLUTION_FAILED=3,ED.ACH_NOT_SET=\"ach_0\",ED.BADGE_VISIBLE_IN_STATE=2;class pD extends lD{constructor(){super(),this.onRoomToObjectOwnAvatarMoveEvent=this.onRoomToObjectOwnAvatarMoveEvent.bind(this)}initialize(t){super.initialize(t),this.eventDispatcher&&this.eventDispatcher.addEventListener(ES.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent)}tearDown(){this.eventDispatcher&&this.eventDispatcher.removeEventListener(ES.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent),super.tearDown()}onRoomToObjectOwnAvatarMoveEvent(t){if(!t||!this.object)return;const e=this.object.getLocation(),s=t.targetLocation;if(!s)return;let i=this.object.model.getValue(rt.FURNITURE_SIZE_X),r=this.object.model.getValue(rt.FURNITURE_SIZE_Y);const n=(Math.floor(this.object.getDirection().x)+45)%360/90;1!==n&&3!==n||([i,r]=[r,i]),s.x>=e.x&&s.x<e.x+i&&s.y>=e.y&&s.y<e.y+r?this.object.setState(1,0):this.object.setState(0,0)}}class mD extends lD{getEventTypes(){const t=[uS.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),t)}mouseEvent(t,e){if(!t||!e||!this.object)return;let s=null;if(t.type===ts.DOUBLE_CLICK){switch(t.spriteTag){case\"start_stop\":s=new uS(uS.STATE_CHANGE,this.object,1);break;case\"reset\":s=new uS(uS.STATE_CHANGE,this.object,2)}if(this.eventDispatcher&&s)return void this.eventDispatcher.dispatchEvent(s)}super.mouseEvent(t,e)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new uS(uS.STATE_CHANGE,this.object,1))}}class ID{}ID.INFOSTAND_EXTRA_PARAM=\"RWEIEP_INFOSTAND_EXTRA_PARAM\",ID.JUKEBOX=\"RWEIEP_JUKEBOX\",ID.USABLE_PRODUCT=\"RWEIEP_USABLE_PRODUCT\",ID.SONGDISK=\"RWEIEP_SONGDISK\",ID.CRACKABLE_FURNI=\"RWEIEP_CRACKABLE_FURNI\",ID.BRANDING_OPTIONS=\"RWEIEP_BRANDING_OPTIONS\",ID.USABLE=\"RWEIEP_USABLE\";class fD extends lD{processUpdateMessage(t){super.processUpdateMessage(t),this.object&&1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&this.object.model.setValue(ID.INFOSTAND_EXTRA_PARAM,ID.CRACKABLE_FURNI)}}class TD{}TD.TOUCH_START=\"touchstart\",TD.TOUCH_MOVE=\"touchmove\",TD.TOUCH_CANCEL=\"touchcancel\",TD.TOUCH_END=\"touchend\",TD.TOUCH_LONG=\"touchlong\";class RD{constructor(t){this._ordinal=void 0,this._ordinal=t}get ordinal(){return this._ordinal}equals(t){return t&&t._ordinal==this._ordinal}}RD.NONE=new RD(0),RD.WAVE=new RD(1),RD.BLOW=new RD(2),RD.LAUGH=new RD(3),RD.CRY=new RD(4),RD.IDLE=new RD(5),RD.JUMP=new RD(6),RD.RESPECT=new RD(7);class vD{}vD.DUMMY=\"DUMMY\",vD.FRIEND_FURNITURE=\"FRIEND_FURNITURE\",vD.MONSTERPLANT_SEED=\"MONSTERPLANT_SEED\",vD.MYSTERY_BOX=\"MYSTERY_BOX\",vD.EFFECT_BOX=\"EFFECT_BOX\",vD.MYSTERY_TROPHY=\"MYSTERY_TROPHY\",vD.RANDOM_TELEPORT=\"RANDOM_TELEPORT\",vD.PURCHASABLE_CLOTHING=\"PURCHASABLE_CLOTHING\",vD.GENERIC_USABLE=\"GENERIC_USABLE\";class OD{}OD.LOVE_LOCK=0,OD.CARVE_A_TREE=1,OD.FRIENDS_PORTRAIT=2,OD.WILD_WEST_WANTED=3,OD.HABBOWEEN=4;class AD{}AD.CHAT_WIDGET=\"RWE_CHAT_WIDGET\",AD.INFOSTAND=\"RWE_INFOSTAND\",AD.ME_MENU=\"RWE_ME_MENU\",AD.CHAT_INPUT_WIDGET=\"RWE_CHAT_INPUT_WIDGET\",AD.FURNI_PLACEHOLDER=\"RWE_FURNI_PLACEHOLDER\",AD.FURNI_CREDIT_WIDGET=\"RWE_FURNI_CREDIT_WIDGET\",AD.FURNI_STICKIE_WIDGET=\"RWE_FURNI_STICKIE_WIDGET\",AD.FURNI_TROPHY_WIDGET=\"RWE_FURNI_TROPHY_WIDGET\",AD.FURNI_LOVELOCK_WIDGET=\"RWE_FURNI_LOVELOCK_WIDGET\",AD.FURNI_PRESENT_WIDGET=\"RWE_FURNI_PRESENT_WIDGET\",AD.FURNI_ECOTRONBOX_WIDGET=\"RWE_FURNI_ECOTRONBOX_WIDGET\",AD.FURNI_PET_PACKAGE_WIDGET=\"RWE_FURNI_PET_PACKAGE_WIDGET\",AD.PLAYLIST_EDITOR_WIDGET=\"RWE_PLAYLIST_EDITOR_WIDGET\",AD.DOORBELL=\"RWE_DOORBELL\",AD.LOADINGBAR=\"RWE_LOADINGBAR\",AD.ROOM_QUEUE=\"RWE_ROOM_QUEUE\",AD.ROOM_POLL=\"RWE_ROOM_POLL\",AD.ROOM_VOTE=\"RWE_ROOM_VOTE\",AD.USER_CHOOSER=\"RWE_USER_CHOOSER\",AD.FURNI_CHOOSER=\"RWE_FURNI_CHOOSER\",AD.ROOM_DIMMER=\"RWE_ROOM_DIMMER\",AD.FRIEND_REQUEST=\"RWE_FRIEND_REQUEST\",AD.CLOTHING_CHANGE=\"RWE_CLOTHING_CHANGE\",AD.CONVERSION_TRACKING=\"RWE_CONVERSION_TRACKING\",AD.USER_NOTIFICATION=\"RWE_USER_NOTIFICATION\",AD.FRIENDS_BAR=\"RWE_FRIENDS_BAR\",AD.PURSE_WIDGET=\"RWE_PURSE_WIDGET\",AD.AVATAR_INFO=\"RWE_AVATAR_INFO\",AD.WELCOME_GIFT=\"RWE_WELCOME_GIFT\",AD.SPAMWALL_POSTIT_WIDGET=\"RWE_SPAMWALL_POSTIT_WIDGET\",AD.EFFECTS=\"RWE_EFFECTS\",AD.MANNEQUIN=\"RWE_MANNEQUIN\",AD.FURNITURE_CONTEXT_MENU=\"RWE_FURNITURE_CONTEXT_MENU\",AD.LOCATION_WIDGET=\"RWE_LOCATION_WIDGET\",AD.CAMERA=\"RWE_CAMERA\",AD.ROOM_THUMBNAIL_CAMERA=\"RWE_ROOM_THUMBNAIL_CAMERA\",AD.ROOM_BACKGROUND_COLOR=\"RWE_ROOM_BACKGROUND_COLOR\",AD.CUSTOM_USER_NOTIFICATION=\"RWE_CUSTOM_USER_NOTIFICATION\",AD.FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING=\"RWE_FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING\",AD.FRIEND_FURNI_CONFIRM=\"RWE_FRIEND_FURNI_CONFIRM\",AD.FRIEND_FURNI_ENGRAVING=\"RWE_FRIEND_FURNI_ENGRAVING\",AD.HIGH_SCORE_DISPLAY=\"RWE_HIGH_SCORE_DISPLAY\",AD.INTERNAL_LINK=\"RWE_INTERNAL_LINK\",AD.CUSTOM_STACK_HEIGHT=\"RWE_CUSTOM_STACK_HEIGHT\",AD.YOUTUBE=\"RWE_YOUTUBE\",AD.RENTABLESPACE=\"RWE_RENTABLESPACE\",AD.VIMEO=\"RWE_VIMEO\",AD.ROOM_TOOLS=\"RWE_ROOM_TOOLS\",AD.EXTERNAL_IMAGE=\"RWE_EXTERNAL_IMAGE\",AD.WORD_QUIZZ=\"RWE_WORD_QUIZZ\",AD.UI_HELP_BUBBLE=\"RWE_UI_HELP_BUBBLE\",AD.ROOM_LINK=\"RWE_ROOM_LINK\",AD.CRAFTING=\"RWE_CRAFTING\",AD.ROOMGAME_CHECKERS=\"RWE_GAME_CHECKERS\";class SD{}SD.NOBODY=0,SD.CONTROLLER=1,SD.EVERYBODY=2;class ND{}ND.NORMAL=0,ND.GENERIC=1,ND.BOT=2;class yD extends lD{get widget(){return AD.CRAFTING}}class DD extends lD{getEventTypes(){const t=[gS.CREDITFURNI];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t);let e=0;t.logic&&t.logic.credits&&\"\"!==t.logic.credits&&t.logic.credits.length>0&&(e=parseInt(t.logic.credits)),this.object.model.setValue(rt.FURNITURE_CREDIT_VALUE,e)}useObject(){this.object&&this.eventDispatcher&&(this.eventDispatcher.dispatchEvent(new gS(gS.CREDITFURNI,this.object)),super.useObject())}}class MD extends lD{getEventTypes(){const t=[iS.MOUSE_BUTTON,iS.MOUSE_ARROW];return this.mergeTypes(super.getEventTypes(),t)}mouseEvent(t,e){if(t&&e&&this.object){switch(t.type){case ts.ROLL_OVER:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.MOUSE_BUTTON,this.object));break;case ts.ROLL_OUT:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.MOUSE_ARROW,this.object))}super.mouseEvent(t,e)}}}class CD extends MD{initialize(t){super.initialize(t),this.object&&this.object.model&&this.object.model.setValue(rt.FURNITURE_ALWAYS_STACKABLE,1)}get widget(){return AD.CUSTOM_STACK_HEIGHT}}class LD extends lD{constructor(){super(),this._noTags=void 0,this._noTagsLastStateActivate=void 0,this._noTags=!1,this._noTagsLastStateActivate=!1}getEventTypes(){const t=[iS.DICE_ACTIVATE,iS.DICE_OFF];return this.mergeTypes(super.getEventTypes(),t)}mouseEvent(t,e){if(!t||!e||!this.object)return;let s=null;if(t.type===ts.DOUBLE_CLICK)return this._noTags?this._noTagsLastStateActivate&&0!==this.object.getState(0)&&100!==this.object.getState(0)?(s=new iS(iS.DICE_OFF,this.object),this._noTagsLastStateActivate=!1):(s=new iS(iS.DICE_ACTIVATE,this.object),this._noTagsLastStateActivate=!0):\"activate\"===t.spriteTag||0===this.object.getState(0)||100===this.object.getState(0)?s=new iS(iS.DICE_ACTIVATE,this.object):\"deactivate\"===t.spriteTag&&(s=new iS(iS.DICE_OFF,this.object)),void(s&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(s));super.mouseEvent(t,e)}}class UD extends lD{getEventTypes(){const t=[gS.ECOTRONBOX];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.ECOTRONBOX,this.object))}}class PD extends lD{constructor(){super(),this._showStateOnceRendered=void 0,this._updateCount=void 0,this._showStateOnceRendered=!1,this._updateCount=0}getEventTypes(){const t=[gS.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),t.logic&&t.logic.action&&1===t.logic.action.startState&&(this._showStateOnceRendered=!0)}update(t){super.update(t),this._showStateOnceRendered&&(this._updateCount++,this._showStateOnceRendered&&this._updateCount>20&&(this.setAutomaticStateIndex(1),this._showStateOnceRendered=!1))}setAutomaticStateIndex(t){this.object&&this.object.model&&this.object.model.setValue(rt.FURNITURE_AUTOMATIC_STATE_INDEX,t)}mouseEvent(t,e){t&&e&&(t.type===ts.DOUBLE_CLICK&&this.setAutomaticStateIndex(0),super.mouseEvent(t,e))}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.INERNAL_LINK,this.object))}}class bD extends lD{constructor(){super(...arguments),this._timer=void 0}getEventTypes(){const t=[gS.ROOM_LINK];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),t.logic&&t.logic.action&&t.logic.action.link&&\"\"!==t.logic.action.link&&t.logic.action.link.length>0&&this.object&&this.object.model&&this.object.model.setValue(rt.FURNITURE_INTERNAL_LINK,t.logic.action.link)}onDispose(){this._timer&&(clearTimeout(this._timer),this._timer=null),super.onDispose()}setAutomaticStateIndex(t){this.object&&this.object.model&&this.object.model.setValue(rt.FURNITURE_AUTOMATIC_STATE_INDEX,t)}useObject(){this.setAutomaticStateIndex(1),this._timer&&(clearTimeout(this._timer),this._timer=null),this._timer=setTimeout((()=>{this.setAutomaticStateIndex(0),this._timer=null}),2500),this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.ROOM_LINK,this.object))}}class wD extends lD{constructor(){super(...arguments),this._timer=void 0}getEventTypes(){const t=[gS.EFFECTBOX_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.EFFECTBOX_OPEN_DIALOG,this.object))}get contextMenu(){return vD.EFFECT_BOX}}class FD extends MD{initialize(t){if(super.initialize(t),t&&this.object&&this.object.model){let e=\"\";t.logic&&t.logic.maskType&&\"\"!==t.logic.maskType&&t.logic.maskType.length>0&&(e=t.logic.maskType),this.object.model.setValue(rt.FURNITURE_USES_PLANE_MASK,0),this.object.model.setValue(rt.FURNITURE_PLANE_MASK_TYPE,e)}}get widget(){return AD.EXTERNAL_IMAGE}}class xD extends lD{getEventTypes(){const t=[uS.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),t.logic&&t.logic.particleSystems&&t.logic.particleSystems.length&&this.object.model.setValue(rt.FURNITURE_FIREWORKS_DATA,t.logic.particleSystems)}mouseEvent(t,e){if(!t||!e||!this.object)return;let s=null;if(t.type===ts.DOUBLE_CLICK){switch(t.spriteTag){case\"start_stop\":s=new uS(uS.STATE_CHANGE,this.object,1);break;case\"reset\":s=new uS(uS.STATE_CHANGE,this.object,2)}if(this.eventDispatcher&&s)return void this.eventDispatcher.dispatchEvent(s)}super.mouseEvent(t,e)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new uS(uS.STATE_CHANGE,this.object,0))}}class BD extends MD{constructor(){super(),this._currentState=void 0,this._currentLocation=void 0,this._currentState=-1,this._currentLocation=null}getEventTypes(){const t=[sS.ADD_HOLE,sS.REMOVE_HOLE];return this.mergeTypes(super.getEventTypes(),t)}onDispose(){this._currentState===BD.STATE_HOLE&&this.eventDispatcher.dispatchEvent(new sS(sS.REMOVE_HOLE,this.object)),super.onDispose()}update(t){super.update(t),this.handleAutomaticStateUpdate()}processUpdateMessage(t){if(super.processUpdateMessage(t),!this.object)return;t instanceof VS&&this.handleStateUpdate(this.object.getState(0));const e=this.object.getLocation();this._currentLocation?e.x===this._currentLocation.x&&e.y===this._currentLocation.y||this._currentState===BD.STATE_HOLE&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new sS(sS.ADD_HOLE,this.object)):this._currentLocation=new dt,this._currentLocation.assign(e)}handleStateUpdate(t){t!==this._currentState&&(this.eventDispatcher&&(t===BD.STATE_HOLE?this.eventDispatcher.dispatchEvent(new sS(sS.ADD_HOLE,this.object)):this._currentState===BD.STATE_HOLE&&this.eventDispatcher.dispatchEvent(new sS(sS.REMOVE_HOLE,this.object))),this._currentState=t)}handleAutomaticStateUpdate(){if(!this.object)return;const t=this.object.model;if(!t)return;const e=t.getValue(rt.FURNITURE_AUTOMATIC_STATE_INDEX);isNaN(e)||this.handleStateUpdate(e%2)}}BD.STATE_HOLE=0;class GD extends MD{constructor(){super(...arguments),this._state=-1}initialize(t){super.initialize(t),this.object&&this.object.model.setValue(rt.FURNITURE_FRIENDFURNI_ENGRAVING,this.engravingDialogType)}processUpdateMessage(t){if(t instanceof VS){const e=t.data;this._state=e?e.state:t.state}super.processUpdateMessage(t)}getEventTypes(){const t=[gS.FRIEND_FURNITURE_ENGRAVING];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&(this._state===GD.STATE_LOCKED?this.eventDispatcher.dispatchEvent(new gS(gS.FRIEND_FURNITURE_ENGRAVING,this.object)):super.useObject())}get engravingDialogType(){return 0}get contextMenu(){return this._state===GD.STATE_UNLOCKED?vD.FRIEND_FURNITURE:vD.DUMMY}}GD.STATE_UNINITIALIZED=-1,GD.STATE_UNLOCKED=0,GD.STATE_LOCKED=1;class HD extends Ue{constructor(t){super(null,null),this._type=void 0,this._type=t}get type(){return this._type}}HD.IMAGE_LOADED=\"ROAUM_IMAGE_LOADED\",HD.IMAGE_LOADING_FAILED=\"ROAUM_IMAGE_FAILED\";class VD extends Ue{constructor(t){super(null,null),this._type=void 0,this._mapData=void 0,this._type=VD.UPDATE_MAP,this._mapData=t}get type(){return this._type}get mapData(){return this._mapData}}VD.UPDATE_MAP=\"RORMUM_UPDATE_MAP\";class jD extends MD{getEventTypes(){const t=[$A.LOAD_BADGE,gS.GUILD_FURNI_CONTEXT_MENU,gS.CLOSE_FURNI_CONTEXT_MENU];return this.mergeTypes(super.getEventTypes(),t)}processUpdateMessage(t){if(super.processUpdateMessage(t),t instanceof VS){const e=t.data;e instanceof pa&&(this.updateGroupId(e.getValue(jD.GROUPID_KEY)),this.updateBadge(e.getValue(jD.BADGE_KEY)),this.updateColors(e.getValue(jD.COLOR1_KEY),e.getValue(jD.COLOR2_KEY)))}else t instanceof jS?\"loading_icon\"!==t.assetName&&(this.object.model.setValue(rt.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME,t.assetName),this.update(lL.instance.time)):t instanceof nD&&(t.selected||this.eventDispatcher.dispatchEvent(new gS(gS.CLOSE_FURNI_CONTEXT_MENU,this.object)))}updateGroupId(t){this.object.model.setValue(rt.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID,parseInt(t))}updateBadge(t){this.eventDispatcher.dispatchEvent(new $A($A.LOAD_BADGE,this.object,t,!0))}updateColors(t,e){this.object.model.setValue(rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_1,parseInt(t,16)),this.object.model.setValue(rt.FURNITURE_GUILD_CUSTOMIZED_COLOR_2,parseInt(e,16))}mouseEvent(t,e){if(t&&e&&this.object){if(t.type===ts.MOUSE_CLICK)this.openContextMenu();super.mouseEvent(t,e)}}openContextMenu(){this.eventDispatcher.dispatchEvent(new gS(gS.GUILD_FURNI_CONTEXT_MENU,this.object))}}jD.GROUPID_KEY=1,jD.BADGE_KEY=2,jD.COLOR1_KEY=3,jD.COLOR2_KEY=4;class kD extends jD{getEventTypes(){const t=[gS.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),t)}updateGroupId(t){super.updateGroupId(t),this.object.model.setValue(rt.FURNITURE_INTERNAL_LINK,`groupforum/${t}`)}useObject(){this.object&&this.eventDispatcher&&(this.eventDispatcher.dispatchEvent(new gS(gS.INERNAL_LINK,this.object)),super.useObject())}}class zD extends lD{constructor(){super(...arguments),this._state=-1}getEventTypes(){return[gS.HIGH_SCORE_DISPLAY,gS.HIDE_HIGH_SCORE_DISPLAY]}tearDown(){1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&this.eventDispatcher.dispatchEvent(new gS(gS.HIDE_HIGH_SCORE_DISPLAY,this.object)),super.tearDown()}processUpdateMessage(t){super.processUpdateMessage(t),1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&t instanceof VS&&(t.state===zD.SHOW_WIDGET_IN_STATE?this.eventDispatcher.dispatchEvent(new gS(gS.HIGH_SCORE_DISPLAY,this.object)):this.eventDispatcher.dispatchEvent(new gS(gS.HIDE_HIGH_SCORE_DISPLAY,this.object)),this._state=t.state)}}zD.SHOW_WIDGET_IN_STATE=1;class YD extends lD{getEventTypes(){const t=[uS.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),t)}mouseEvent(t,e){if(!t||!e||!this.object)return;let s=null;switch(t.type){case ts.DOUBLE_CLICK:if(\"off\"===t.spriteTag)s=new uS(uS.STATE_CHANGE,this.object,3);break;case ts.MOUSE_CLICK:switch(t.spriteTag){case\"inc\":s=new uS(uS.STATE_CHANGE,this.object,2);break;case\"dec\":s=new uS(uS.STATE_CHANGE,this.object,1)}}this.eventDispatcher&&s?this.eventDispatcher.dispatchEvent(s):super.mouseEvent(t,e)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new uS(uS.STATE_CHANGE,this.object,3))}}class WD{}WD.LOVE_LOCK=0,WD.CARVE_A_TREE=1,WD.FRIENDS_PORTRAIT=2,WD.WILD_WEST_WANTED=3,WD.HABBOWEEN=4;class KD extends GD{get engravingDialogType(){return WD.HABBOWEEN}}class XD extends MD{constructor(){super(),this._nextState=void 0,this._nextStateExtra=void 0,this._nextStateTimestamp=void 0,this._nextState=0,this._nextStateTimestamp=0}update(t){if(this._nextStateTimestamp>0&&t>=this._nextStateTimestamp){this._nextStateTimestamp=0;const t=new la;t.setString(this._nextState.toString()),super.processUpdateMessage(new VS(this._nextState,t,this._nextStateExtra))}super.update(t)}processUpdateMessage(t){t instanceof VS?this.processUpdate(t):super.processUpdateMessage(t)}processUpdate(t){if(!t)return;const e=~~(t.state/1e3),s=~~(t.state%1e3);if(s)this._nextState=e,this._nextStateExtra=t.extra,this._nextStateTimestamp=this.time+s;else{this._nextStateTimestamp=0;const s=new la;s.setString(e.toString()),super.processUpdateMessage(new VS(e,s,t.extra))}}}class qD extends lD{constructor(){super(...arguments),this._showStateOnceRendered=!1,this._updateCount=0}getEventTypes(){const t=[gS.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),t.logic&&t.logic.action&&(this.object.model.setValue(rt.FURNITURE_INTERNAL_LINK,t.logic.action.link),1===t.logic.action.startState&&(this._showStateOnceRendered=!0))}update(t){super.update(t),this._showStateOnceRendered&&(this._updateCount++,this._showStateOnceRendered&&20===this._updateCount&&(this.setAutomaticStateIndex(1),this._showStateOnceRendered=!1))}setAutomaticStateIndex(t){this.object&&this.object.model&&this.object.model.setValue(rt.FURNITURE_AUTOMATIC_STATE_INDEX,t)}mouseEvent(t,e){t&&e&&(t.type===ts.DOUBLE_CLICK&&this._showStateOnceRendered&&this.setAutomaticStateIndex(0),super.mouseEvent(t,e))}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.INERNAL_LINK,this.object))}}class QD extends MD{constructor(){super(...arguments),this._disposeEventsAllowed=!1,this._isInitialized=!1,this._currentState=-1}getEventTypes(){const t=[iS.JUKEBOX_START,iS.JUKEBOX_MACHINE_STOP,iS.JUKEBOX_DISPOSE,iS.JUKEBOX_INIT,gS.JUKEBOX_PLAYLIST_EDITOR];return this.mergeTypes(super.getEventTypes(),t)}onDispose(){this.requestDispose(),super.onDispose()}processUpdateMessage(t){if(super.processUpdateMessage(t),1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&(this._isInitialized||this.requestInit(),this.object.model.setValue(ID.INFOSTAND_EXTRA_PARAM,ID.JUKEBOX),t instanceof VS)){const t=this.object.getState(0);t!==this._currentState&&(this._currentState=t,1===t?this.requestPlayList():0===t&&this.requestStopPlaying())}}requestInit(){this.object&&this.eventDispatcher&&(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new iS(iS.JUKEBOX_INIT,this.object)),this._isInitialized=!0)}requestPlayList(){this.object&&this.eventDispatcher&&(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new iS(iS.JUKEBOX_START,this.object)))}requestStopPlaying(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.JUKEBOX_MACHINE_STOP,this.object))}requestDispose(){this._disposeEventsAllowed&&this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.JUKEBOX_DISPOSE,this.object))}useObject(){this.object&&this.eventDispatcher&&(this.eventDispatcher.dispatchEvent(new gS(gS.JUKEBOX_PLAYLIST_EDITOR,this.object)),this.eventDispatcher.dispatchEvent(new uS(uS.STATE_CHANGE,this.object,-1)))}}class ZD extends GD{get engravingDialogType(){return WD.LOVE_LOCK}}class JD extends lD{getEventTypes(){const t=[gS.MANNEQUIN];return this.mergeTypes(super.getEventTypes(),t)}processUpdateMessage(t){super.processUpdateMessage(t),t instanceof VS&&(t.data.writeRoomObjectModel(this.object.model),this.processObjectData())}processObjectData(){if(!this.object||!this.object.model)return;const t=new ga;t.initializeFromRoomObjectModel(this.object.model),this.object.model.setValue(rt.FURNITURE_MANNEQUIN_GENDER,t.getValue(JD.GENDER)),this.object.model.setValue(rt.FURNITURE_MANNEQUIN_FIGURE,t.getValue(JD.FIGURE)),this.object.model.setValue(rt.FURNITURE_MANNEQUIN_NAME,t.getValue(JD.OUTFIT_NAME))}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.MANNEQUIN,this.object))}}JD.GENDER=\"GENDER\",JD.FIGURE=\"FIGURE\",JD.OUTFIT_NAME=\"OUTFIT_NAME\";class $D extends MD{getEventTypes(){const t=[gS.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,this.object))}get contextMenu(){return vD.MONSTERPLANT_SEED}}class tM extends MD{initialize(t){super.initialize(t),this.object&&this.object.model&&this.object.model.setValue(rt.FURNITURE_IS_VARIABLE_HEIGHT,1)}}class eM extends MD{getEventTypes(){const t=[gS.MYSTERYBOX_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.MYSTERYBOX_OPEN_DIALOG,this.object))}get contextMenu(){return vD.MYSTERY_BOX}}class sM extends MD{getEventTypes(){const t=[gS.MYSTERYTROPHY_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.MYSTERYTROPHY_OPEN_DIALOG,this.object))}get contextMenu(){return vD.MYSTERY_TROPHY}}class iM extends lD{getEventTypes(){const t=[iS.ENTER_ONEWAYDOOR];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.ENTER_ONEWAYDOOR,this.object))}}class rM extends lD{getEventTypes(){const t=[gS.PET_PRODUCT_MENU];return this.mergeTypes(super.getEventTypes(),t)}processUpdateMessage(t){super.processUpdateMessage(t),this.object&&1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&this.object.model.setValue(ID.INFOSTAND_EXTRA_PARAM,ID.USABLE_PRODUCT)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.PET_PRODUCT_MENU,this.object))}}class nM extends lD{getEventTypes(){const t=[gS.PLACEHOLDER];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.PLACEHOLDER,this.object))}}class aM extends lD{initialize(t){super.initialize(t),t.logic&&t.logic.planetSystems&&this.object.model.setValue(rt.FURNITURE_PLANETSYSTEM_DATA,t.logic.planetSystems)}}class oM extends lD{getEventTypes(){const t=[gS.PRESENT];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),t.logic&&t.logic.particleSystems&&t.logic.particleSystems.length&&this.object.model.setValue(rt.FURNITURE_FIREWORKS_DATA,t.logic.particleSystems)}processUpdateMessage(t){super.processUpdateMessage(t),t instanceof VS&&(t.data.writeRoomObjectModel(this.object.model),this.updateStuffData()),t instanceof YS&&t.numberKey===rt.FURNITURE_DISABLE_PICKING_ANIMATION&&this.object.model.setValue(rt.FURNITURE_DISABLE_PICKING_ANIMATION,t.numberValue)}updateStuffData(){if(!this.object||!this.object.model)return;const t=new ga;t.initializeFromRoomObjectModel(this.object.model);const e=t.getValue(oM.MESSAGE),s=this.object.model.getValue(rt.FURNITURE_DATA);e||\"string\"!==typeof s?this.object.model.setValue(rt.FURNITURE_DATA,t.getValue(oM.MESSAGE)):this.object.model.setValue(rt.FURNITURE_DATA,s.substr(1)),this.writeToModel(rt.FURNITURE_TYPE_ID,t.getValue(oM.PRODUCT_CODE)),this.writeToModel(rt.FURNITURE_PURCHASER_NAME,t.getValue(oM.PURCHASER_NAME)),this.writeToModel(rt.FURNITURE_PURCHASER_FIGURE,t.getValue(oM.PURCHASER_FIGURE))}writeToModel(t,e){e&&this.object.model.setValue(t,e)}mouseEvent(t,e){if(t&&e&&this.object){switch(t.type){case ts.ROLL_OVER:this.eventDispatcher.dispatchEvent(new iS(iS.MOUSE_BUTTON,this.object));break;case ts.ROLL_OUT:this.eventDispatcher.dispatchEvent(new iS(iS.MOUSE_ARROW,this.object))}super.mouseEvent(t,e)}}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.PRESENT,this.object))}}oM.MESSAGE=\"MESSAGE\",oM.PRODUCT_CODE=\"PRODUCT_CODE\",oM.EXTRA_PARAM=\"EXTRA_PARAM\",oM.PURCHASER_NAME=\"PURCHASER_NAME\",oM.PURCHASER_FIGURE=\"PURCHASER_FIGURE\";class hM extends MD{getEventTypes(){const t=[gS.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,this.object))}get contextMenu(){return vD.PURCHASABLE_CLOTHING}}class _M extends MD{constructor(){super(),this._oldLocation=void 0,this.updateInterval=uD.DEFAULT_UPDATE_INTERVAL,this._oldLocation=new dt}processUpdateMessage(t){if(!t)return;const e=t instanceof BS;if(this.object&&!e&&t.location){const e=this.object.getLocation(),s=dt.dif(t.location,e);if(s&&Math.abs(s.x)<2&&Math.abs(s.y)<2){let i=e;return(Math.abs(s.x)>1||Math.abs(s.y)>1)&&(i=dt.sum(e,dt.product(s,.5))),void super.processUpdateMessage(new BS(i,t.location,t.direction))}}if(t.location&&!e&&super.processUpdateMessage(new BS(t.location,t.location,t.direction)),t instanceof VS)return t.state>0?this.updateInterval=uD.DEFAULT_UPDATE_INTERVAL/this.getUpdateIntervalValue(t.state):this.updateInterval=1,void this.handleDataUpdate(t);e&&t.isSlide&&(this.updateInterval=uD.DEFAULT_UPDATE_INTERVAL),super.processUpdateMessage(t)}getUpdateIntervalValue(t){return t/_M.MAX_ANIMATION_COUNT}getAnimationValue(t){return t%_M.MAX_ANIMATION_COUNT}handleDataUpdate(t){const e=this.getAnimationValue(t.state);if(e!==t.state){const s=new la;s.setString(e.toString()),t=new VS(e,s,t.extra)}super.processUpdateMessage(t)}update(t){this.object&&(this._oldLocation.assign(this.object.getLocation()),super.update(t),0===dt.dif(this.object.getLocation(),this._oldLocation).length&&this.object.getState(0)!==_M.ANIMATION_NOT_MOVING&&this.object.setState(_M.ANIMATION_NOT_MOVING,0))}}_M.ANIMATION_NOT_MOVING=0,_M.ANIMATION_MOVING=1,_M.MAX_ANIMATION_COUNT=10;class dM extends lD{getEventTypes(){const t=[uS.STATE_RANDOM];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new uS(uS.STATE_RANDOM,this.object))}}class uM extends MD{get contextMenu(){return vD.RANDOM_TELEPORT}}class cM extends lD{getEventTypes(){const t=[tS.RODRE_CURRENT_USER_ID];return this.mergeTypes(super.getEventTypes(),t)}update(t){if(super.update(t),this.object&&this.object.model){this.object.model.getValue(rt.SESSION_CURRENT_USER_ID)||this.eventDispatcher.dispatchEvent(new tS(tS.RODRE_CURRENT_USER_ID,this.object));const t=this.object.model.getValue(rt.FURNITURE_DATA).getValue(\"renterId\"),e=this.object.model.getValue(rt.SESSION_CURRENT_USER_ID);t?parseInt(t)===e?this.object.setState(2,0):this.object.setState(1,0):this.object.setState(0,0)}}get widget(){return AD.RENTABLESPACE}}class lM extends MD{constructor(){super(),this._roomColorUpdated=void 0,this._roomColorUpdated=!1}getEventTypes(){const t=[gS.BACKGROUND_COLOR,nS.ROOM_BACKGROUND_COLOR];return this.mergeTypes(super.getEventTypes(),t)}onDispose(){if(this._roomColorUpdated){if(this.eventDispatcher&&this.object){1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&this.eventDispatcher.dispatchEvent(new nS(nS.ROOM_BACKGROUND_COLOR,this.object,!1,0,0,0))}this._roomColorUpdated=!1}super.onDispose()}processUpdateMessage(t){if(super.processUpdateMessage(t),t instanceof VS){t.data.writeRoomObjectModel(this.object.model);1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&this.processColorUpdate()}}processColorUpdate(){if(!this.object||!this.object.model)return;const t=new Ea;t.initializeFromRoomObjectModel(this.object.model);const e=t.getValue(0),s=t.getValue(1),i=t.getValue(2),r=t.getValue(3);e>-1&&s>-1&&i>-1&&r>-1&&(this.object.model.setValue(rt.FURNITURE_ROOM_BACKGROUND_COLOR_HUE,s),this.object.model.setValue(rt.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION,i),this.object.model.setValue(rt.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS,r),this.object.setState(e,0),this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new nS(nS.ROOM_BACKGROUND_COLOR,this.object,1===e,s,i,r)),this._roomColorUpdated=!0)}mouseEvent(t,e){t&&e&&this.object&&(t.type!==ts.DOUBLE_CLICK?super.mouseEvent(t,e):this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.BACKGROUND_COLOR,this.object)))}}var gM=s(63);class EM extends lD{constructor(){super(),this._disableFurnitureSelection=void 0,this._hasClickUrl=void 0,this._disableFurnitureSelection=!0,this._hasClickUrl=!1}getEventTypes(){const t=[hS.ROOM_AD_LOAD_IMAGE];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),this._disableFurnitureSelection&&this.object.model.setValue(rt.FURNITURE_SELECTION_DISABLED,1)}processUpdateMessage(t){super.processUpdateMessage(t),t instanceof VS&&this.processAdDataUpdateMessage(t),t instanceof HD&&this.processAdUpdate(t)}processAdDataUpdateMessage(t){if(!t)return;const e=new ga;e.initializeFromRoomObjectModel(this.object.model);const s=parseInt(e.getValue(EM.STATE));isNaN(s)||this.object.getState(0)===s||this.object.setState(s,0);const i=e.getValue(EM.IMAGEURL_KEY),r=this.object.model.getValue(rt.FURNITURE_BRANDING_IMAGE_URL);r&&r===i||(this.object.model.setValue(rt.FURNITURE_BRANDING_IMAGE_URL,i),this.object.model.setValue(rt.FURNITURE_BRANDING_IMAGE_STATUS,0),this.downloadBackground());const n=e.getValue(EM.CLICKURL_KEY);if(n){const t=this.object.model.getValue(rt.FURNITURE_BRANDING_URL);t&&t===n||this.object.model&&this.object.model.setValue(rt.FURNITURE_BRANDING_URL,n)}const a=parseInt(e.getValue(EM.OFFSETX_KEY)),o=parseInt(e.getValue(EM.OFFSETY_KEY)),h=parseInt(e.getValue(EM.OFFSETZ_KEY));isNaN(a)||this.object.model.setValue(rt.FURNITURE_BRANDING_OFFSET_X,a),isNaN(o)||this.object.model.setValue(rt.FURNITURE_BRANDING_OFFSET_Y,o),isNaN(h)||this.object.model.setValue(rt.FURNITURE_BRANDING_OFFSET_Z,h);let _=EM.IMAGEURL_KEY+\"=\"+(null!==i?i:\"\")+\"\\t\";this._hasClickUrl&&(_=_+(EM.CLICKURL_KEY+\"=\")+(null!==n?n:\"\")+\"\\t\"),_=_+(EM.OFFSETX_KEY+\"=\")+a+\"\\t\",_=_+(EM.OFFSETY_KEY+\"=\")+o+\"\\t\",_=_+(EM.OFFSETZ_KEY+\"=\")+h+\"\\t\",this.object.model.setValue(ID.INFOSTAND_EXTRA_PARAM,ID.BRANDING_OPTIONS+_)}processAdUpdate(t){if(t&&this.object)switch(t.type){case HD.IMAGE_LOADED:this.object.model.setValue(rt.FURNITURE_BRANDING_IMAGE_STATUS,1);break;case HD.IMAGE_LOADING_FAILED:this.object.model.setValue(rt.FURNITURE_BRANDING_IMAGE_STATUS,-1)}}mouseEvent(t,e){t&&e&&t.type!==ts.MOUSE_MOVE&&t.type!==ts.DOUBLE_CLICK&&super.mouseEvent(t,e)}downloadBackground(){const t=this.object&&this.object.model;if(!t)return;const e=t.getValue(rt.FURNITURE_BRANDING_IMAGE_URL),s=t.getValue(rt.FURNITURE_BRANDING_IMAGE_STATUS);if(e&&\"\"!==e&&1!==s)if(e.endsWith(\".gif\"))this.object.model.setValue(rt.FURNITURE_BRANDING_IS_ANIMATED,!0),fetch(e).then((t=>t.arrayBuffer())).then((t=>Object(gM.parseGIF)(t))).then((t=>{const s=t.lsd.width,r=t.lsd.height,n=s*r,a=Object(gM.decompressFrames)(t,!1),o=[],h=[];let _=new Uint8Array(4*n);for(let e=0;e<a.length;e++){e>0&&(_=_.slice(0));const t=a[e].pixels,n=a[e].colorTable,d=a[e].transparentIndex,u=a[e].dims;for(let e=0;e<u.height;e++)for(let i=0;i<u.width;i++){const r=t[e*u.width+i],a=(e+u.top)*s+(i+u.left);if(d!==r){const t=n[r];_[4*a]=t[0],_[4*a+1]=t[1],_[4*a+2]=t[2],_[4*a+3]=255}}const c=i.c.fromBuffer(_,s,r);o.push(new i.t(c)),h.push(a[e].delay)}lL.instance.roomEngine.roomContentLoader.createGifCollection(e,o,h),this.processUpdateMessage(new HD(HD.IMAGE_LOADED))})).catch((t=>{this.processUpdateMessage(new HD(HD.IMAGE_LOADING_FAILED))}));else{const t=lL.instance.core&&lL.instance.core.asset;if(!t)return;if(!t.getTexture(e))return void t.downloadAsset(e,(t=>{t?this.processUpdateMessage(new HD(HD.IMAGE_LOADED)):this.processUpdateMessage(new HD(HD.IMAGE_LOADING_FAILED))}));this.processUpdateMessage(new HD(HD.IMAGE_LOADED))}}}EM.STATE=\"state\",EM.IMAGEURL_KEY=\"imageUrl\",EM.CLICKURL_KEY=\"clickUrl\",EM.OFFSETX_KEY=\"offsetX\",EM.OFFSETY_KEY=\"offsetY\",EM.OFFSETZ_KEY=\"offsetZ\";class pM extends EM{getAdClickUrl(t){return null}}class mM{constructor(t){this._data=void 0,this._maxSize=void 0,this._index=void 0,this._data=[],this._maxSize=t,this._index=0}reset(){this._data=[],this._index=0}addValue(t){this._data.length<this._maxSize?this._data.push(t):this._data[this._index]=t,this._index=(this._index+1)%this._maxSize}getMax(){let t=Number.MIN_VALUE,e=0;for(;e<this._maxSize;)this._data[e]>t&&(t=this._data[e]),e++;return t}getMin(){let t=Number.MAX_VALUE,e=0;for(;e<this._maxSize;)this._data[e]<t&&(t=this._data[e]),e++;return t}}class IM{static format(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return t>s*IM.YEAR?IM.getLocalization(\"friendlytime.years\"+e,Math.round(t/IM.YEAR)):t>s*IM.MONTH?IM.getLocalization(\"friendlytime.months\"+e,Math.round(t/IM.MONTH)):t>s*IM.DAY?IM.getLocalization(\"friendlytime.days\"+e,Math.round(t/IM.DAY)):t>s*IM.HOUR?IM.getLocalization(\"friendlytime.hours\"+e,Math.round(t/IM.HOUR)):t>s*IM.MINUTE?IM.getLocalization(\"friendlytime.minutes\"+e,Math.round(t/IM.MINUTE)):IM.getLocalization(\"friendlytime.seconds\"+e,Math.round(t))}static shortFormat(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return t>s*IM.YEAR?IM.getLocalization(\"friendlytime.years.short\"+e,Math.round(t/IM.YEAR)):t>s*IM.MONTH?IM.getLocalization(\"friendlytime.months.short\"+e,Math.round(t/IM.MONTH)):t>s*IM.DAY?IM.getLocalization(\"friendlytime.days.short\"+e,Math.round(t/IM.DAY)):t>s*IM.HOUR?IM.getLocalization(\"friendlytime.hours.short\"+e,Math.round(t/IM.HOUR)):t>s*IM.MINUTE?IM.getLocalization(\"friendlytime.minutes.short\"+e,Math.round(t/IM.MINUTE)):IM.getLocalization(\"friendlytime.seconds.short\"+e,Math.round(t))}static getLocalization(t,e){return lL.instance.getLocalizationWithParameter(t,\"amount\",e.toString())}}IM.MINUTE=60,IM.HOUR=60*IM.MINUTE,IM.DAY=24*IM.HOUR,IM.WEEK=7*IM.DAY,IM.MONTH=30*IM.DAY,IM.YEAR=365*IM.DAY;class fM{static logEventLog(t){try{AA.available&&AA.call(\"logEventLog\",t)}catch(e){l.log(\"External interface not working, failed to log event log.\")}}static openPage(t){try{AA.available?AA.call(\"openPage\",t):l.log(\"External interface not available, openPage failed.\")}catch(e){l.log(\"Failed to open web page \"+t)}}static openWebPage(t){window.open(t)}static sendHeartBeat(){try{AA.available&&AA.call(\"heartBeat\")}catch(t){l.log(\"Failed to send heartbeat\")}}static openWebPageAndMinimizeClient(t){try{AA.available&&fM.openPage(t)}catch(e){l.log(\"Failed to open web page \"+t)}}static closeWebPageAndRestoreClient(){try{AA.available&&AA.call(\"closeWebPageAndRestoreClient\")}catch(t){l.log(\"Failed to close web page and restore client!\")}}static openHabblet(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{AA.available&&AA.call(\"openHabblet\",t,e)}catch(s){l.log(\"Failed to open Habblet \"+t)}}static closeHabblet(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{AA.available&&AA.call(\"closeHabblet\",t,e)}catch(s){l.log(\"Failed to close Habblet \"+t)}}static send(t,e){try{AA.available&&AA.call(\"disconnect\",t,e)}catch(s){l.log(\"Failed to close send \")}}static showGame(t){try{AA.available&&AA.callGame(\"showGame\",t)}catch(e){l.log(\"Failed to open game: \"+e)}}static hideGame(){try{AA.available&&AA.callGame(\"hideGame\")}catch(t){l.log(\"Failed to hide game\")}}static open(t){try{AA.available?AA.call(\"openExternalLink\",escape(t)):l.log(\"External interface not available. Could not request to open: \"+t)}catch(e){l.log(\"External interface not working. Could not request to open: \"+t)}}static roomVisited(t){try{AA.available?AA.call(\"roomVisited\",t):l.log(\"External interface not available. Could not store last room visit.\")}catch(e){l.log(\"External interface not working. Could not store last room visit.\")}}static openMinimail(t){try{AA.available?AA.call(\"openMinimail\",t):l.log(\"External interface not available. Could not open minimail.\")}catch(e){l.log(\"External interface not working. Could not open minimail.\")}}static openNews(){try{AA.available?AA.call(\"openNews\"):l.log(\"External interface not available. Could not open news.\")}catch(t){l.log(\"External interface not working. Could not open news.\")}}static closeNews(){try{AA.available?AA.call(\"closeNews\"):l.log(\"External interface not available. Could not close news.\")}catch(t){l.log(\"External interface not working. Could not close news.\")}}static openAvatars(){try{AA.available?AA.call(\"openAvatars\"):l.log(\"External interface not available. Could not open avatars.\")}catch(t){l.log(\"External interface not working. Could not open avatars.\")}}static openRoomEnterAd(){try{AA.available?AA.call(\"openRoomEnterAd\"):l.log(\"External interface not available. Could not open roomenterad.\")}catch(t){l.log(\"External interface not working. Could not open roomenterad.\")}}static updateFigure(t){try{AA.available?AA.call(\"updateFigure\",t):l.log(\"External interface not available. Could not update figure.\")}catch(e){l.log(\"External interface not working. Could not update figure.\")}}}fM.ADVERTISEMENT=\"advertisement\",fM.OPENLINK=\"openlink\",fM.OPENROOM=\"openroom\";class TM{static isWebGLAvailable(){return Object(LA.q)()}}class RM extends EM{constructor(){super(),this._hasClickUrl=!0}getAdClickUrl(t){return t.getValue(rt.FURNITURE_BRANDING_URL)}handleAdClick(t,e,s){0!==s.indexOf(\"http\")?this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new hS(hS.ROOM_AD_FURNI_CLICK,this.object,\"\",s)):fM.openWebPage(s)}}class vM extends lD{constructor(){super(),this._roomColorUpdated=void 0,this._roomColorUpdated=!1}getEventTypes(){const t=[gS.DIMMER,gS.WIDGET_REMOVE_DIMMER,eS.DIMMER_STATE];return this.mergeTypes(super.getEventTypes(),t)}onDispose(){if(this._roomColorUpdated&&this.eventDispatcher&&this.object){1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&(this.eventDispatcher.dispatchEvent(new eS(this.object,0,1,1,16777215,255)),this.eventDispatcher.dispatchEvent(new gS(gS.WIDGET_REMOVE_DIMMER,this.object))),this._roomColorUpdated=!1}super.onDispose()}processUpdateMessage(t){if(t instanceof VS){if(t.data){const e=t.data.getLegacyString();1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&this.processDimmerData(e),super.processUpdateMessage(new VS(this.getStateFromDimmerData(e),t.data))}}else super.processUpdateMessage(t)}getStateFromDimmerData(t){if(!t)return 0;const e=t.split(\",\");return e.length>=5?parseInt(e[0])-1:0}processDimmerData(t){if(!t)return;const e=t.split(\",\");if(e.length>=5){const s=this.getStateFromDimmerData(t),i=parseInt(e[1]),r=parseInt(e[2]),n=e[3];let a=parseInt(n.substr(1),16),o=parseInt(e[4]);s||(a=16777215,o=255),this.eventDispatcher&&this.object&&(this.eventDispatcher.dispatchEvent(new eS(this.object,s,i,r,a,o)),this._roomColorUpdated=!0)}}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.DIMMER,this.object))}update(t){super.update(t)}}class OM extends lD{constructor(){super(),this._score=void 0,this._scoreIncreaser=void 0,this._scoreTimer=void 0,this._score=0,this._scoreIncreaser=50,this._scoreTimer=0}processUpdateMessage(t){if(t instanceof VS)return this.updateScore(t.state);super.processUpdateMessage(t)}updateScore(t){this._score=t;const e=this.object.getState(0);if(this._score!==e){let t=this._score-e;t<0&&(t=-t),t*OM.UPDATE_INTERVAL>OM.MAX_UPDATE_TIME?this._scoreIncreaser=OM.MAX_UPDATE_TIME/t:this._scoreIncreaser=OM.UPDATE_INTERVAL,this._scoreTimer=lL.instance.time}}update(t){super.update(t);const e=this.object.getState(0);if(e!==this._score&&t>=this._scoreTimer+this._scoreIncreaser){const s=t-this._scoreTimer;let i=s/this._scoreIncreaser,r=1;this._score<e&&(r=-1),i>r*(this._score-e)&&(i=r*(this._score-e)),this.object.setState(e+r*i,0),this._scoreTimer=t-(s-i*this._scoreIncreaser)}}}OM.UPDATE_INTERVAL=50,OM.MAX_UPDATE_TIME=3e3;class AM extends lD{processUpdateMessage(t){if(super.processUpdateMessage(t),1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)){const t=this.object.model.getValue(rt.FURNITURE_EXTRAS),e=parseInt(t);this.object.model.setValue(ID.INFOSTAND_EXTRA_PARAM,ID.SONGDISK+e)}}}class SM extends MD{constructor(){super(...arguments),this._state=-1,this._sampleId=-1,this._noPitch=!1,this._lastLocZ=0}getEventTypes(){const t=[_S.ROOM_OBJECT_INITIALIZED,_S.ROOM_OBJECT_DISPOSED,_S.PLAY_SAMPLE,_S.CHANGE_PITCH];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),t.logic&&t.logic.soundSample&&(this._sampleId=t.logic.soundSample.id,this._noPitch=t.logic.soundSample.noPitch),this.object.model.setValue(rt.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED,1)}onDispose(){this._state!==SM.STATE_UNINITIALIZED&&this.eventDispatcher.dispatchEvent(new _S(_S.ROOM_OBJECT_DISPOSED,this.object,this._sampleId)),super.onDispose()}processUpdateMessage(t){super.processUpdateMessage(t),t instanceof VS&&this.updateSoundBlockMessage(t)}updateSoundBlockMessage(t){if(!t)return;const e=this.object&&this.object.model,s=this.object&&this.object.location;e&&s&&(this._state===SM.STATE_UNINITIALIZED&&1===e.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&(this._lastLocZ=s.z,this.eventDispatcher.dispatchEvent(new _S(_S.ROOM_OBJECT_INITIALIZED,this.object,this._sampleId,this.getPitchForHeight(s.z)))),this._state!==SM.STATE_UNINITIALIZED&&1===e.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&this._lastLocZ!==s.z&&(this._lastLocZ=s.z,this.eventDispatcher.dispatchEvent(new _S(_S.CHANGE_PITCH,this.object,this._sampleId,this.getPitchForHeight(s.z)))),this._state!==SM.STATE_UNINITIALIZED&&t.state!==this._state&&this.playSoundAt(s.z),this._state=t.state)}playSoundAt(t){if(!this.object)return;const e=this.getPitchForHeight(t);this.object.model.setValue(rt.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED,e),this.eventDispatcher.dispatchEvent(new _S(_S.PLAY_SAMPLE,this.object,this._sampleId,e))}getPitchForHeight(t){if(this._noPitch)return 1;let e=2*t;return e>SM.HIGHEST_SEMITONE&&(e=Math.min(0,SM.LOWEST_SEMITONE+(e-SM.HIGHEST_SEMITONE-1))),Math.pow(2,e/12)}}SM.HIGHEST_SEMITONE=12,SM.LOWEST_SEMITONE=-12,SM.STATE_UNINITIALIZED=-1;class NM extends MD{constructor(){super(...arguments),this._disposeEventsAllowed=!1,this._isInitialized=!1,this._currentState=-1}getEventTypes(){const t=[iS.SOUND_MACHINE_START,iS.SOUND_MACHINE_STOP,iS.SOUND_MACHINE_DISPOSE,iS.SOUND_MACHINE_INIT];return this.mergeTypes(super.getEventTypes(),t)}onDispose(){this.requestDispose(),super.onDispose()}processUpdateMessage(t){if(super.processUpdateMessage(t),1===this.object.model.getValue(rt.FURNITURE_REAL_ROOM_OBJECT)&&(this._isInitialized||this.requestInit(),this.object.model.setValue(ID.INFOSTAND_EXTRA_PARAM,ID.JUKEBOX),t instanceof VS)){const t=this.object.getState(0);t!==this._currentState&&(this._currentState=t,1===t?this.requestPlayList():0===t&&this.requestStopPlaying())}}requestInit(){this.object&&this.eventDispatcher&&(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new iS(iS.SOUND_MACHINE_INIT,this.object)),this._isInitialized=!0)}requestPlayList(){this.object&&this.eventDispatcher&&(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new iS(iS.SOUND_MACHINE_START,this.object)))}requestStopPlaying(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.SOUND_MACHINE_STOP,this.object))}requestDispose(){this._disposeEventsAllowed&&this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.SOUND_MACHINE_DISPOSE,this.object))}}class yM extends lD{getEventTypes(){const t=[gS.STICKIE,iS.STICKIE];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t),this.updateColor(),this.object&&this.object.model.setValue(rt.FURNITURE_IS_STICKIE,\"\")}processUpdateMessage(t){super.processUpdateMessage(t),t instanceof zS&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.STICKIE,this.object)),this.updateColor()}updateColor(){if(!this.object)return;const t=this.object.model.getValue(rt.FURNITURE_DATA);let e=yM.STICKIE_COLORS.indexOf(t);e<0&&(e=3),this.object.model.setValue(rt.FURNITURE_COLOR,e+1)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new iS(iS.STICKIE,this.object))}}yM.STICKIE_COLORS=[\"9CCEFF\",\"FF9CFF\",\"9CFF9C\",\"FFFF33\"];class DM extends lD{getEventTypes(){const t=[gS.TROPHY];return this.mergeTypes(super.getEventTypes(),t)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.TROPHY,this.object))}}class MM extends MD{constructor(){super(),this._total=void 0,this._lastUpdate=void 0,this._interval=void 0,this._total=0,this._lastUpdate=0,this._interval=33}processUpdateMessage(t){if(super.processUpdateMessage(t),t instanceof VS){const e=t.data;if(!e)return;this.updateTotal(e.result)}}updateTotal(t){if(this._total=t,!this._lastUpdate)return this.object.model.setValue(rt.FURNITURE_VOTE_COUNTER_COUNT,t),void(this._lastUpdate=lL.instance.time);if(this._total!==this.currentTotal){const t=Math.abs(this._total-this.currentTotal);t*MM.UPDATE_INTERVAL>MM.MAX_UPDATE_TIME?this._interval=MM.MAX_UPDATE_TIME/t:this._interval=MM.UPDATE_INTERVAL,this._lastUpdate=lL.instance.time}}update(t){if(super.update(t),this.object&&this.currentTotal!==this._total&&t>=this._lastUpdate+this._interval){const e=t-this._lastUpdate;let s=e/this._interval,i=1;this._total<this.currentTotal&&(i=-1),s>i*(this._total-this.currentTotal)&&(s=i*(this._total-this.currentTotal)),this.object.model.setValue(rt.FURNITURE_VOTE_COUNTER_COUNT,this.currentTotal+i*s),this._lastUpdate=t-(e-s*this._interval)}}get currentTotal(){return this.object.model.getValue(rt.FURNITURE_VOTE_COUNTER_COUNT)}}MM.UPDATE_INTERVAL=33,MM.MAX_UPDATE_TIME=1e3;class CM extends MD{processUpdateMessage(t){if(super.processUpdateMessage(t),this.object&&t instanceof VS){const e=t.data;e instanceof ma&&this.object.model.setValue(rt.FURNITURE_VOTE_MAJORITY_RESULT,e.result)}}}class LM extends MD{mouseEvent(t,e){t&&e&&(t.type===ts.DOUBLE_CLICK&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new uS(uS.STATE_CHANGE,this.object)),super.mouseEvent(t,e))}}class UM extends MD{initialize(t){super.initialize(t);let e=\"\";t.logic&&t.logic.maskType&&\"\"!==t.logic.maskType&&t.logic.maskType.length>0&&(e=t.logic.maskType),this.object.model.setValue(rt.FURNITURE_USES_PLANE_MASK,0),this.object.model.setValue(rt.FURNITURE_PLANE_MASK_TYPE,e)}}class PM extends lD{getEventTypes(){const t=[tS.RODRE_URL_PREFIX];return this.mergeTypes(super.getEventTypes(),t)}update(t){super.update(t),this.object.model.getValue(rt.SESSION_URL_PREFIX)||this.eventDispatcher.dispatchEvent(new tS(tS.RODRE_URL_PREFIX,this.object))}get widget(){return AD.YOUTUBE}}class bM extends uD{constructor(){super(),this._selected=void 0,this._reportedLocation=void 0,this._postureIndex=void 0,this._gestureIndex=void 0,this._headDirectionDelta=void 0,this._directions=void 0,this._talkingEndTimestamp=void 0,this._gestureEndTimestamp=void 0,this._expressionEndTimestamp=void 0,this._selected=!1,this._reportedLocation=null,this._postureIndex=0,this._gestureIndex=0,this._headDirectionDelta=0,this._directions=[],this._talkingEndTimestamp=0,this._gestureEndTimestamp=0,this._expressionEndTimestamp=0}getEventTypes(){const t=[Me.CLICK,aS.POSITION_CHANGED];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){if(!t)return;const e=this.object&&this.object.model;if(e){if(t.logic&&t.logic.model){const e=t.logic.model.directions;if(e&&e.length){for(const t of e)this._directions.push(t);this._directions.sort()}}e.setValue(rt.PET_ALLOWED_DIRECTIONS,this._directions)}}dispose(){this._selected&&this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new aS(aS.OBJECT_REMOVED,this.object)),this._directions=null,this._reportedLocation=null}update(t){if(super.update(t),this._selected&&this.object&&this.eventDispatcher){const t=this.object.getLocation();this._reportedLocation&&this._reportedLocation.x===t.x&&this._reportedLocation.y===t.y&&this._reportedLocation.z===t.z||(this._reportedLocation||(this._reportedLocation=new dt),this._reportedLocation.assign(t),this.eventDispatcher.dispatchEvent(new aS(aS.POSITION_CHANGED,this.object)))}this.object&&this.object.model&&this.updateModel(t,this.object.model)}updateModel(t,e){this._gestureEndTimestamp>0&&t>this._gestureEndTimestamp&&(e.setValue(rt.FIGURE_GESTURE,null),this._gestureEndTimestamp=0),this._talkingEndTimestamp>0&&t>this._talkingEndTimestamp&&(e.setValue(rt.FIGURE_TALK,0),this._talkingEndTimestamp=0),this._expressionEndTimestamp>0&&t>this._expressionEndTimestamp&&(e.setValue(rt.FIGURE_EXPRESSION,0),this._expressionEndTimestamp=0)}processUpdateMessage(t){if(!t||!this.object)return;super.processUpdateMessage(t);const e=this.object&&this.object.model;if(e)if(t instanceof GS)e.setValue(rt.HEAD_DIRECTION,t.headDirection);else{if(t instanceof SS){const s=new wA(t.figure);return e.setValue(rt.FIGURE,t.figure),e.setValue(rt.RACE,t.subType),e.setValue(rt.PET_PALETTE_INDEX,s.paletteId),e.setValue(rt.PET_COLOR,s.color),e.setValue(rt.PET_TYPE,s.typeId),e.setValue(rt.PET_CUSTOM_LAYER_IDS,s.customLayerIds),e.setValue(rt.PET_CUSTOM_PARTS_IDS,s.customPartIds),e.setValue(rt.PET_CUSTOM_PALETTE_IDS,s.customPaletteIds),void e.setValue(rt.PET_IS_RIDING,t.isRiding?1:0)}if(t instanceof bS)e.setValue(rt.FIGURE_POSTURE,t.postureType);else{if(t instanceof TS)return e.setValue(rt.FIGURE_TALK,1),void(this._talkingEndTimestamp=this.time+1e3*t.numberOfWords);if(!(t instanceof FS))return t instanceof LS?(e.setValue(rt.FIGURE_GESTURE,t.gesture),void(this._gestureEndTimestamp=this.time+3e3)):t instanceof rD?(this._selected=t.selected,void(this._reportedLocation=null)):t instanceof OS?(e.setValue(rt.FIGURE_EXPERIENCE_TIMESTAMP,this.time),void e.setValue(rt.FIGURE_GAINED_EXPERIENCE,t.gainedExperience)):void 0;e.setValue(rt.FIGURE_SLEEP,t.isSleeping?1:0)}}}mouseEvent(t,e){let s=null;switch(t.type){case ts.MOUSE_CLICK:s=Me.CLICK;break;case ts.DOUBLE_CLICK:break;case ts.MOUSE_DOWN:this.object.model.getValue(rt.PET_TYPE)===er.MONSTERPLANT&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new Me(Me.MOUSE_DOWN,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown));break}s&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new Me(s,this.object,t.eventId,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown))}}class wM extends we{constructor(){super(),this._planeParser=void 0,this._planeBitmapMaskParser=void 0,this._color=void 0,this._light=void 0,this._originalColor=void 0,this._originalLight=void 0,this._targetColor=void 0,this._targetLight=void 0,this._colorChangedTime=void 0,this._colorTransitionLength=void 0,this._lastHoleUpdate=void 0,this._needsMapUpdate=void 0,this._skipColorTransition=void 0,this._planeParser=new x_,this._planeBitmapMaskParser=new Ty,this._color=16777215,this._light=255,this._originalColor=16777215,this._originalLight=255,this._targetColor=16777215,this._targetLight=255,this._colorChangedTime=0,this._colorTransitionLength=1500,this._lastHoleUpdate=0,this._needsMapUpdate=!1,this._skipColorTransition=!1}getEventTypes(){const t=[Me.MOUSE_MOVE,Me.CLICK];return this.mergeTypes(super.getEventTypes(),t)}dispose(){super.dispose(),this._planeParser&&(this._planeParser.dispose(),this._planeParser=null),this._planeBitmapMaskParser&&(this._planeBitmapMaskParser.dispose(),this._planeBitmapMaskParser=null)}initialize(t){t&&this.object&&t instanceof P_&&this._planeParser.initializeFromMapData(t)&&(this.object.model.setValue(rt.ROOM_MAP_DATA,t),this.object.model.setValue(rt.ROOM_BACKGROUND_COLOR,16777215),this.object.model.setValue(rt.ROOM_FLOOR_VISIBILITY,1),this.object.model.setValue(rt.ROOM_WALL_VISIBILITY,1),this.object.model.setValue(rt.ROOM_LANDSCAPE_VISIBILITY,1),this._skipColorTransition=!0===lL.instance.getConfiguration(\"room.color.skip.transition\"))}update(t){if(super.update(t),this.updateBackgroundColor(t),this._needsMapUpdate){if(this._lastHoleUpdate&&t-this._lastHoleUpdate<5)return;const e=this.object&&this.object.model;if(e){const s=this._planeParser.getMapData();e.setValue(rt.ROOM_MAP_DATA,s),e.setValue(rt.ROOM_FLOOR_HOLE_UPDATE_TIME,t),this._planeParser.initializeFromMapData(s)}this._lastHoleUpdate=0,this._needsMapUpdate=!1}}updateBackgroundColor(t){if(!this.object||!this._colorChangedTime)return;let e=this._color,s=this._light;if(t-this._colorChangedTime>=this._colorTransitionLength)e=this._targetColor,s=this._targetLight,this._colorChangedTime=0;else{let i=this._originalColor>>16&255,r=this._originalColor>>8&255,n=255&this._originalColor;const a=this._targetColor>>16&255,o=this._targetColor>>8&255,h=255&this._targetColor,_=(t-this._colorChangedTime)/this._colorTransitionLength;i+=(a-i)*_,r+=(o-r)*_,n+=(h-n)*_,e=(i<<16)+(r<<8)+n,s=this._originalLight+(this._targetLight-this._originalLight)*_,this._color=e,this._light=s}let i=Ge.rgbToHSL(e);i=(16776960&i)+s,e=Ge.hslToRGB(i),this.object.model&&this.object.model.setValue(rt.ROOM_BACKGROUND_COLOR,e)}processUpdateMessage(t){if(!t||!this.object)return;const e=this.object.model;e&&(t instanceof ZS?this.onObjectRoomUpdateMessage(t,e):t instanceof XS?this.onObjectRoomMaskUpdateMessage(t,e):t instanceof QS?this.onObjectRoomPlaneVisibilityUpdateMessage(t,e):t instanceof qS?this.onObjectRoomPlanePropertyUpdateMessage(t,e):t instanceof KS?this.onObjectRoomFloorHoleUpdateMessage(t,e):t instanceof WS?this.onObjectRoomColorUpdateMessage(t,e):t instanceof VD&&this.onObjectRoomMapUpdateMessage(t))}onObjectRoomUpdateMessage(t,e){switch(t.type){case ZS.ROOM_FLOOR_UPDATE:return void e.setValue(rt.ROOM_FLOOR_TYPE,t.value);case ZS.ROOM_WALL_UPDATE:return void e.setValue(rt.ROOM_WALL_TYPE,t.value);case ZS.ROOM_LANDSCAPE_UPDATE:return void e.setValue(rt.ROOM_LANDSCAPE_TYPE,t.value)}}onObjectRoomMaskUpdateMessage(t,e){let s=null,i=!1;switch(t.type){case XS.ADD_MASK:s=Iy.WINDOW,t.maskCategory===XS.HOLE&&(s=Iy.HOLE),this._planeBitmapMaskParser.addMask(t.maskId,t.maskType,t.maskLocation,s),i=!0;break;case XS.REMOVE_MASK:i=this._planeBitmapMaskParser.removeMask(t.maskId)}i&&e.setValue(rt.ROOM_PLANE_MASK_XML,this._planeBitmapMaskParser.getXML())}onObjectRoomPlaneVisibilityUpdateMessage(t,e){let s=0;switch(t.visible&&(s=1),t.type){case QS.FLOOR_VISIBILITY:return void e.setValue(rt.ROOM_FLOOR_VISIBILITY,s);case QS.WALL_VISIBILITY:return e.setValue(rt.ROOM_WALL_VISIBILITY,s),void e.setValue(rt.ROOM_LANDSCAPE_VISIBILITY,s)}}onObjectRoomPlanePropertyUpdateMessage(t,e){switch(t.type){case qS.FLOOR_THICKNESS:return void e.setValue(rt.ROOM_FLOOR_THICKNESS,t.value);case qS.WALL_THICKNESS:return void e.setValue(rt.ROOM_WALL_THICKNESS,t.value)}}onObjectRoomFloorHoleUpdateMessage(t,e){switch(t.type){case KS.ADD:return this._planeParser.addFloorHole(t.id,t.x,t.y,t.width,t.height),void(this._needsMapUpdate=!0);case KS.REMOVE:return this._planeParser.removeFloorHole(t.id),void(this._needsMapUpdate=!0)}this._lastHoleUpdate=this.time}onObjectRoomColorUpdateMessage(t,e){t&&e&&(this._originalColor=this._color,this._originalLight=this._light,this._targetColor=t.color,this._targetLight=t.light,this._colorChangedTime=this.time,this._skipColorTransition?this._colorTransitionLength=0:this._colorTransitionLength=1500,e.setValue(rt.ROOM_COLORIZE_BG_ONLY,t.backgroundOnly))}onObjectRoomMapUpdateMessage(t){t&&t.mapData&&(this.object.model.setValue(rt.ROOM_MAP_DATA,t.mapData),this.object.model.setValue(rt.ROOM_FLOOR_HOLE_UPDATE_TIME,this.time),this._planeParser.initializeFromMapData(t.mapData))}mouseEvent(t,e){if(!t||!e||!this.object||!this.object.model)return;const s=t.spriteTag;let i=0;if(s&&s.indexOf(\"@\")>=0&&(i=parseInt(s.substr(s.indexOf(\"@\")+1))),i<1||i>this._planeParser.planeCount)return void(t.type===ts.ROLL_OUT&&this.object.model.setValue(rt.ROOM_SELECTED_PLANE,0));i--;let r=null;const n=this._planeParser.getPlaneLocation(i),a=this._planeParser.getPlaneLeftSide(i),o=this._planeParser.getPlaneRightSide(i),h=this._planeParser.getPlaneNormalDirection(i),_=this._planeParser.getPlaneType(i);if(null==n||null==a||null==o||null==h)return;const d=a.length,u=o.length;if(0==d||0==u)return;const c=t.screenX,l=t.screenY,g=new j.g(c,l);if(r=e.getPlanePosition(g,n,a,o),!r)return void this.object.model.setValue(rt.ROOM_SELECTED_PLANE,0);const E=dt.product(a,r.x/d);E.add(dt.product(o,r.y/u)),E.add(n);const p=E.x,m=E.y,I=E.z;if(!(r.x>=0&&r.x<d&&r.y>=0&&r.y<u))return void this.object.model.setValue(rt.ROOM_SELECTED_PLANE,0);this.object.model.setValue(rt.ROOM_SELECTED_X,p),this.object.model.setValue(rt.ROOM_SELECTED_Y,m),this.object.model.setValue(rt.ROOM_SELECTED_Z,I),this.object.model.setValue(rt.ROOM_SELECTED_PLANE,i+1);let f=null;switch(t.type===ts.MOUSE_MOVE||t.type===ts.ROLL_OVER?f=Me.MOUSE_MOVE:t.type===ts.MOUSE_CLICK&&(f=Me.CLICK),t.type){case ts.MOUSE_MOVE:case ts.ROLL_OVER:case ts.MOUSE_CLICK:{let e=null;if(_===w_.PLANE_FLOOR)e=new cS(f,this.object,t.eventId,p,m,I,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown);else if(_===w_.PLANE_WALL||_===w_.PLANE_LANDSCAPE){let s=90;h&&(s=h.x+90,s>360&&(s-=360));const i=a.length*r.x/d,_=o.length*r.y/u;e=new lS(f,this.object,t.eventId,n,a,o,i,_,s,t.altKey,t.ctrlKey,t.shiftKey,t.buttonDown)}return void(this.eventDispatcher&&this.eventDispatcher.dispatchEvent(e))}}}}class FM extends we{initialize(t){this.object&&(this.object.model.setValue(rt.FURNITURE_ALPHA_MULTIPLIER,1),this.object.setState(1,0))}processUpdateMessage(t){if(super.processUpdateMessage(t),t instanceof oD&&this.object)switch(t.type){case oD.ENABLED:return void this.object.setState(0,0);case oD.DISABLED:return void this.object.setState(1,0)}}}class xM extends we{constructor(){super(),this._lastEventId=void 0,this._isHidden=void 0,this._lastEventId=null,this._isHidden=!1}initialize(t){this.object&&(this.object.model.setValue(rt.FURNITURE_ALPHA_MULTIPLIER,1),this.object.setState(xM.CURSOR_HIDDEN_STATE,0))}processUpdateMessage(t){t instanceof aD&&(this._lastEventId&&this._lastEventId===t.sourceEventId||(t.toggleVisibility&&(this._isHidden=!this._isHidden),super.processUpdateMessage(t),this.object&&(this._isHidden?this.object.setState(xM.CURSOR_HIDDEN_STATE,0):t.visible?(this.object.model.setValue(rt.TILE_CURSOR_HEIGHT,t.height),this.object.setState(t.height>.8?xM.CURSOR_HEIGHT_STATE:xM.CURSOR_VISIBLE_STATE)):this.object.setState(xM.CURSOR_HIDDEN_STATE,0)),this._lastEventId=t.sourceEventId))}}xM.CURSOR_VISIBLE_STATE=0,xM.CURSOR_HIDDEN_STATE=1,xM.CURSOR_HEIGHT_STATE=6;class BM{}BM.FURNITURE_BASIC=\"furniture_basic\",BM.FURNITURE_MULTISTATE=\"furniture_multistate\",BM.FURNITURE_MULTIHEIGHT=\"furniture_multiheight\",BM.FURNITURE_RANDOMSTATE=\"furniture_randomstate\",BM.FURNITURE_PLACEHOLDER=\"furniture_placeholder\",BM.FURNITURE_CREDIT=\"furniture_credit\",BM.FURNITURE_STICKIE=\"furniture_stickie\",BM.FURNITURE_PRESENT=\"furniture_present\",BM.FURNITURE_TROPHY=\"furniture_trophy\",BM.FURNITURE_ECOTRON_BOX=\"furniture_ecotron_box\",BM.FURNITURE_DICE=\"furniture_dice\",BM.FURNITURE_HOCKEY_SCORE=\"furniture_hockey_score\",BM.FURNITURE_HABBOWHEEL=\"furniture_habbowheel\",BM.FURNITURE_ONE_WAY_DOOR=\"furniture_one_way_door\",BM.FURNITURE_PLANET_SYSTEM=\"furniture_planet_system\",BM.FURNITURE_WINDOW=\"furniture_window\",BM.FURNITURE_EXTERNAL_IMAGE_WALLITEM=\"furniture_external_image_wallitem\",BM.FURNITURE_ROOMDIMMER=\"furniture_roomdimmer\",BM.FURNITURE_SOUND_MACHINE=\"furniture_sound_machine\",BM.FURNITURE_JUKEBOX=\"furniture_jukebox\",BM.FURNITURE_CRACKABLE=\"furniture_crackable\",BM.FURNITURE_PUSHABLE=\"furniture_pushable\",BM.FURNITURE_CLOTHING_CHANGE=\"furniture_clothing_change\",BM.FURNITURE_COUNTER_CLOCK=\"furniture_counter_clock\",BM.FURNITURE_SCORE=\"furniture_score\",BM.FURNITURE_ES=\"furniture_es\",BM.FURNITURE_FIREWORKS=\"furniture_fireworks\",BM.FURNITURE_SONG_DISK=\"furniture_song_disk\",BM.FURNITURE_BB=\"furniture_bb\",BM.FURNITURE_BG=\"furniture_bg\",BM.FURNITURE_WELCOME_GIFT=\"furniture_welcome_gift\",BM.FURNITURE_FLOOR_HOLE=\"furniture_floor_hole\",BM.FURNITURE_MANNEQUIN=\"furniture_mannequin\",BM.FURNITURE_GUILD_CUSTOMIZED=\"furniture_guild_customized\",BM.FURNITURE_GROUP_FORUM_TERMINAL=\"furniture_group_forum_terminal\",BM.FURNITURE_PET_CUSTOMIZATION=\"furniture_pet_customization\",BM.FURNITURE_CUCKOO_CLOCK=\"furniture_cuckoo_clock\",BM.FURNITURE_VOTE_COUNTER=\"furniture_vote_counter\",BM.FURNITURE_VOTE_MAJORITY=\"furniture_vote_majority\",BM.FURNITURE_SOUNDBLOCK=\"furniture_soundblock\",BM.FURNITURE_RANDOM_TELEPORT=\"furniture_random_teleport\",BM.FURNITURE_MONSTERPLANT_SEED=\"furniture_monsterplant_seed\",BM.FURNITURE_PURCHASABLE_CLOTHING=\"furniture_purchasable_clothing\",BM.FURNITURE_BACKGROUND_COLOR=\"furniture_background_color\",BM.FURNITURE_MYSTERYBOX=\"furniture_mysterybox\",BM.FURNITURE_EFFECTBOX=\"furniture_effectbox\",BM.FURNITURE_MYSTERYTROPHY=\"furniture_mysterytrophy\",BM.FURNITURE_ACHIEVEMENT_RESOLUTION=\"furniture_achievement_resolution\",BM.FURNITURE_LOVELOCK=\"furniture_lovelock\",BM.FURNITURE_WILDWEST_WANTED=\"furniture_wildwest_wanted\",BM.FURNITURE_HWEEN_LOVELOCK=\"furniture_hween_lovelock\",BM.FURNITURE_BADGE_DISPLAY=\"furniture_badge_display\",BM.FURNITURE_HIGH_SCORE=\"furniture_high_score\",BM.FURNITURE_INTERNAL_LINK=\"furniture_internal_link\",BM.FURNITURE_CUSTOM_STACK_HEIGHT=\"furniture_custom_stack_height\",BM.FURNITURE_YOUTUBE=\"furniture_youtube\",BM.FURNITURE_RENTABLE_SPACE=\"furniture_rentable_space\",BM.FURNITURE_CHANGE_STATE_WHEN_STEP_ON=\"furniture_change_state_when_step_on\",BM.FURNITURE_VIMEO=\"furniture_vimeo\",BM.FURNITURE_EDITABLE_INTERNAL_LINK=\"furniture_editable_internal_link\",BM.FURNITURE_EDITABLE_ROOM_LINK=\"furniture_editable_room_link\",BM.FURNITURE_CRAFTING_GIZMO=\"furniture_crafting_gizmo\",BM.ROOM=\"room\",BM.USER=\"user\",BM.BOT=\"bot\",BM.RENTABLE_BOT=\"rentable_bot\",BM.PET=\"pet\",BM.TILE_CURSOR=\"tile_cursor\",BM.SELECTION_ARROW=\"selection_arrow\",BM.GAME_SNOWBALL=\"game_snowball\",BM.GAME_SNOWSPLASH=\"game_snowsplash\";class GM extends lD{getEventTypes(){const t=[gS.CLOTHING_CHANGE];return this.mergeTypes(super.getEventTypes(),t)}initialize(t){super.initialize(t);const e=this.object.model.getValue(rt.FURNITURE_DATA);this.updateClothingData(e)}processUpdateMessage(t){super.processUpdateMessage(t),t instanceof VS&&t.data&&this.updateClothingData(t.data.getLegacyString())}updateClothingData(t){if(!t||!t.length)return;const[e,s]=t.split(\",\");e&&e.length&&this.object.model.setValue(rt.FURNITURE_CLOTHING_BOY,e),s&&s.length&&this.object.model.setValue(rt.FURNITURE_CLOTHING_GIRL,s)}useObject(){this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new gS(gS.CLOTHING_CHANGE,this.object))}}class HM extends MD{constructor(){super(...arguments),this._state=1}getEventTypes(){const t=[oS.PLAY_SOUND_AT_PITCH];return this.mergeTypes(super.getEventTypes(),t)}processUpdateMessage(t){super.processUpdateMessage(t),t instanceof VS&&(-1!==this._state&&t.state!==this._state&&this.dispatchSoundEvent(this.object.location.z),this._state=t.state)}dispatchSoundEvent(t){const e=Math.pow(2,t-1.2);this.eventDispatcher.dispatchEvent(new oS(oS.PLAY_SOUND_AT_PITCH,this.object,\"FURNITURE_cuckoo_clock\",e))}}class VM{constructor(){this._events=void 0,this._cachedEvents=void 0,this._registeredEvents=void 0,this._functions=void 0,this._events=new g,this._cachedEvents=new Map,this._registeredEvents=new Map,this._functions=[]}getLogic(t){const e=this.getLogicType(t);if(!e)return null;const s=new e;if(!s)return null;if(s.eventDispatcher=this._events,!this._cachedEvents.get(t)){this._cachedEvents.set(t,!0);const e=s.getEventTypes();for(const t of e)t&&this.registerEventType(t)}return s}registerEventType(t){if(!this._registeredEvents.get(t)){this._registeredEvents.set(t,!0);for(const e of this._functions)e&&this._events.addEventListener(t,e)}}registerEventFunction(t){if(t&&!(this._functions.indexOf(t)>=0)){this._functions.push(t);for(const e of this._registeredEvents.keys())e&&this._events.addEventListener(e,t)}}removeEventFunction(t){if(!t)return;const e=this._functions.indexOf(t);if(-1!==e){this._functions.splice(e,1);for(const e of this._registeredEvents.keys())e&&this._events.removeEventListener(e,t)}}getLogicType(t){if(!t)return null;let e=null;switch(t){case BM.ROOM:e=wM;break;case BM.TILE_CURSOR:e=xM;break;case BM.SELECTION_ARROW:e=FM;break;case BM.USER:case BM.BOT:case BM.RENTABLE_BOT:e=cD;break;case BM.PET:e=bM;break;case BM.FURNITURE_BASIC:e=lD;break;case BM.FURNITURE_BADGE_DISPLAY:e=gD;break;case BM.FURNITURE_CHANGE_STATE_WHEN_STEP_ON:e=pD;break;case BM.FURNITURE_COUNTER_CLOCK:e=mD;break;case BM.FURNITURE_CRACKABLE:e=fD;break;case BM.FURNITURE_CREDIT:e=DD;break;case BM.FURNITURE_CUSTOM_STACK_HEIGHT:e=CD;break;case BM.FURNITURE_DICE:e=LD;break;case BM.FURNITURE_EDITABLE_INTERNAL_LINK:e=PD;break;case BM.FURNITURE_EDITABLE_ROOM_LINK:e=bD;break;case BM.FURNITURE_EXTERNAL_IMAGE_WALLITEM:e=FD;break;case BM.FURNITURE_FIREWORKS:e=xD;break;case BM.FURNITURE_FLOOR_HOLE:e=BD;break;case BM.FURNITURE_GUILD_CUSTOMIZED:e=jD;break;case BM.FURNITURE_HIGH_SCORE:e=zD;break;case BM.FURNITURE_HOCKEY_SCORE:e=YD;break;case BM.FURNITURE_ES:e=XD;break;case BM.FURNITURE_MANNEQUIN:e=JD;break;case BM.FURNITURE_MULTIHEIGHT:e=tM;break;case BM.FURNITURE_MULTISTATE:e=MD;break;case BM.FURNITURE_ONE_WAY_DOOR:e=iM;break;case BM.FURNITURE_PET_CUSTOMIZATION:e=rM;break;case BM.FURNITURE_PRESENT:e=oM;break;case BM.FURNITURE_PURCHASABLE_CLOTHING:e=hM;break;case BM.FURNITURE_PUSHABLE:e=_M;break;case BM.FURNITURE_BACKGROUND_COLOR:e=lM;break;case BM.FURNITURE_BG:e=pM;break;case BM.FURNITURE_BB:e=RM;break;case BM.FURNITURE_ROOMDIMMER:e=vM;break;case BM.FURNITURE_SCORE:e=OM;break;case BM.FURNITURE_SOUNDBLOCK:e=SM;break;case BM.FURNITURE_STICKIE:e=yM;break;case BM.FURNITURE_TROPHY:e=DM;break;case BM.FURNITURE_VOTE_COUNTER:e=MM;break;case BM.FURNITURE_VOTE_MAJORITY:e=CM;break;case BM.FURNITURE_WINDOW:e=UM;break;case BM.FURNITURE_LOVELOCK:e=ZD;break;case BM.FURNITURE_YOUTUBE:e=PM;break;case BM.FURNITURE_CRAFTING_GIZMO:e=yD;break;case BM.FURNITURE_RENTABLE_SPACE:e=cM;break;case BM.FURNITURE_EFFECTBOX:e=wD;break;case BM.FURNITURE_MONSTERPLANT_SEED:e=$D;break;case BM.FURNITURE_MYSTERYBOX:e=eM;break;case BM.FURNITURE_MYSTERYTROPHY:e=sM;break;case BM.FURNITURE_RANDOM_TELEPORT:e=uM;break;case BM.FURNITURE_CLOTHING_CHANGE:e=GM;break;case BM.FURNITURE_CUCKOO_CLOCK:e=HM;break;case BM.FURNITURE_ECOTRON_BOX:e=UD;break;case BM.FURNITURE_GROUP_FORUM_TERMINAL:e=kD;break;case BM.FURNITURE_HWEEN_LOVELOCK:e=KD;break;case BM.FURNITURE_INTERNAL_LINK:e=qD;break;case BM.FURNITURE_JUKEBOX:e=QD;break;case BM.FURNITURE_PLACEHOLDER:e=nM;break;case BM.FURNITURE_PLANET_SYSTEM:e=aM;break;case BM.FURNITURE_RANDOMSTATE:e=dM;break;case BM.FURNITURE_SONG_DISK:e=AM;break;case BM.FURNITURE_SOUND_MACHINE:e=NM;break;case BM.FURNITURE_WELCOME_GIFT:e=LM;break;case BM.FURNITURE_ACHIEVEMENT_RESOLUTION:e=ED;break;default:e=lD}return e||(l.log(`Unknown Logic: ${t}`),null)}get events(){return this._events}}class jM{constructor(t,e){this._roomId=void 0,this._data=void 0,this._floorType=void 0,this._wallType=void 0,this._landscapeType=void 0,this._roomId=t,this._data=e,this._floorType=null,this._wallType=null,this._landscapeType=null}get roomId(){return this._roomId}get data(){return this._data}get floorType(){return this._floorType}set floorType(t){this._floorType=t}get wallType(){return this._wallType}set wallType(t){this._wallType=t}get landscapeType(){return this._landscapeType}set landscapeType(t){this._landscapeType=t}}class kM{constructor(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:NaN,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:\"\",c=!(arguments.length>12&&void 0!==arguments[12])||arguments[12],l=!(arguments.length>13&&void 0!==arguments[13])||arguments[13],g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:-1;this._id=void 0,this._typeId=void 0,this._type=void 0,this._location=void 0,this._direction=void 0,this._state=void 0,this._data=void 0,this._extra=void 0,this._expiryTime=void 0,this._usagePolicy=void 0,this._ownerId=void 0,this._ownerName=void 0,this._synchronized=void 0,this._realRoomObject=void 0,this._sizeZ=void 0,this._id=t,this._typeId=e,this._type=s,this._state=n,this._data=a,this._extra=o,this._expiryTime=h,this._usagePolicy=_,this._ownerId=d,this._ownerName=u,this._synchronized=c,this._realRoomObject=l,this._sizeZ=g,this._location=new dt,this._direction=new dt,this._location.assign(i),this._direction.assign(r)}get id(){return this._id}get typeId(){return this._typeId}get type(){return this._type}get location(){return this._location}get direction(){return this._direction}get state(){return this._state}get data(){return this._data}get extra(){return this._extra}get expiryTime(){return this._expiryTime}get usagePolicy(){return this._usagePolicy}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get synchronized(){return this._synchronized}get realRoomObject(){return this._realRoomObject}get sizeZ(){return this._sizeZ}}class zM{constructor(){this._targetId=-1,this._targetCategory=-2,this._targetLoc=null,this._moveDistance=0,this._previousMoveSpeed=0,this._maintainPreviousMoveSpeed=!1,this._currentLoc=null,this._targetObjectLoc=void 0,this._limitedLocX=!1,this._limitedLocY=!1,this._centeredLocX=!1,this._centeredLocY=!1,this._screenWd=0,this._screenHt=0,this._scale=0,this._roomWd=0,this._roomHt=0,this._geometryUpdateId=-1,this._scaleChanged=!1,this._followDuration=void 0,this._targetObjectLoc=new dt}get location(){return this._currentLoc}get targetId(){return this._targetId}set targetId(t){this._targetId=t}get targetCategory(){return this._targetCategory}set targetCategory(t){this._targetCategory=t}get targetObjectLoc(){return this._targetObjectLoc}set targetObjectLoc(t){this._targetObjectLoc.assign(t)}get limitedLocationX(){return this._limitedLocX}set limitedLocationX(t){this._limitedLocX=t}get limitedLocationY(){return this._limitedLocY}set limitedLocationY(t){this._limitedLocY=t}get centeredLocX(){return this._centeredLocX}set centeredLocX(t){this._centeredLocX=t}get centeredLocY(){return this._centeredLocY}set centeredLocY(t){this._centeredLocY=t}get screenWd(){return this._screenWd}set screenWd(t){this._screenWd=t}get screenHt(){return this._screenHt}set screenHt(t){this._screenHt=t}get scale(){return this._scale}set scale(t){this._scale!=t&&(this._scale=t,this._scaleChanged=!0)}get roomWd(){return this._roomWd}set roomWd(t){this._roomWd=t}get roomHt(){return this._roomHt}set roomHt(t){this._roomHt=t}get geometryUpdateId(){return this._geometryUpdateId}set geometryUpdateId(t){this._geometryUpdateId=t}get isMoving(){return null!=this._targetLoc&&null!=this._currentLoc}set target(t){let e;null==this._targetLoc&&(this._targetLoc=new dt),this._targetLoc.x==t.x&&this._targetLoc.y==t.y&&this._targetLoc.z==t.z||(this._targetLoc.assign(t),e=dt.dif(this._targetLoc,this._currentLoc),this._moveDistance=e.length,this._maintainPreviousMoveSpeed=!0)}dispose(){this._targetLoc=null,this._currentLoc=null}initializeLocation(t){null==this._currentLoc&&(this._currentLoc=new dt,this._currentLoc.assign(t))}resetLocation(t){null==this._currentLoc&&(this._currentLoc=new dt),this._currentLoc.assign(t)}update(t,e){let s,i,r,n,a;if(this._followDuration>0&&null!=this._targetLoc&&null!=this._currentLoc){if(this._scaleChanged)return this._scaleChanged=!1,this._currentLoc=this._targetLoc,void(this._targetLoc=null);s=dt.dif(this._targetLoc,this._currentLoc),s.length>this._moveDistance&&(this._moveDistance=s.length),s.length<=e?(this._currentLoc=this._targetLoc,this._targetLoc=null,this._previousMoveSpeed=0):(i=Math.sin(Math.PI*s.length/this._moveDistance),r=.5*e,n=this._moveDistance/zM.MOVE_SPEED_DENOMINATOR,a=r+(n-r)*i,this._maintainPreviousMoveSpeed&&(a<this._previousMoveSpeed?(a=this._previousMoveSpeed,a>s.length&&(a=s.length)):this._maintainPreviousMoveSpeed=!1),this._previousMoveSpeed=a,s.divide(s.length),s.multiply(a),this._currentLoc=dt.sum(this._currentLoc,s))}}reset(){this._geometryUpdateId=-1}activateFollowing(t){this._followDuration=t}}zM.MOVE_SPEED_DENOMINATOR=12;class YM{constructor(t,e){this._tileObjectMap=void 0,this._width=void 0,this._height=void 0,this._tileObjectMap=new Map;let s=0;for(;s<e;)this._tileObjectMap.set(s,new Map),s++;this._width=t,this._height=e}clear(){for(const t of this._tileObjectMap.values())t&&t.clear();this._tileObjectMap.clear()}populate(t){this.clear();for(const e of t)this.addRoomObject(e)}dispose(){this._tileObjectMap=null,this._width=0,this._height=0}getObjectIntTile(t,e){if(t>=0&&t<this._width&&e>=0&&e<this._height){const s=this._tileObjectMap.get(e);if(s)return s.get(t)}return null}setObjectInTile(t,e,s){if(s.isReady){if(t>=0&&t<this._width&&e>=0&&e<this._height){const i=this._tileObjectMap.get(e);i&&i.set(t,s)}}else l.log(\"Assigning non initialized object to tile object map!\")}addRoomObject(t){if(!t||!t.model||!t.isReady)return;const e=t.getLocation(),s=t.getDirection();if(!e||!s)return;let i=t.model.getValue(rt.FURNITURE_SIZE_X),r=t.model.getValue(rt.FURNITURE_SIZE_Y);i<1&&(i=1),r<1&&(r=1);const n=Math.trunc(s.x+45)%360/90;1!==n&&3!==n||([i,r]=[r,i]);let a=e.y;for(;a<e.y+r;){let s=e.x;for(;s<e.x+i;){const i=this.getObjectIntTile(s,a);(!i||i!==t&&i.getLocation().z<=e.z)&&this.setObjectInTile(s,a,t),s++}a++}}}class WM{constructor(t){this._roomId=void 0,this._modelName=void 0,this._legacyGeometry=void 0,this._tileObjectMap=void 0,this._roomCamera=void 0,this._selectedObject=void 0,this._placedObject=void 0,this._furnitureStackingHeightMap=void 0,this._floorStack=void 0,this._wallStack=void 0,this._mouseButtonCursorOwners=void 0,this._roomId=t,this._modelName=null,this._legacyGeometry=new eD,this._tileObjectMap=null,this._roomCamera=new zM,this._selectedObject=null,this._placedObject=null,this._furnitureStackingHeightMap=null,this._floorStack=new Map,this._wallStack=new Map,this._mouseButtonCursorOwners=[]}dispose(){}setModelName(t){this._modelName=t}setSelectedObject(t){this._selectedObject&&this._selectedObject.dispose(),this._selectedObject=t}setPlacedObject(t){this._placedObject&&this._placedObject.dispose(),this._placedObject=t}setFurnitureStackingHeightMap(t){this._furnitureStackingHeightMap&&this._furnitureStackingHeightMap.dispose(),this._furnitureStackingHeightMap=t,this._tileObjectMap&&this._tileObjectMap.dispose(),this._furnitureStackingHeightMap&&(this._tileObjectMap=new YM(this._furnitureStackingHeightMap.width,this._furnitureStackingHeightMap.height))}addPendingFurnitureFloor(t){t&&(this._floorStack.delete(t.id),this._floorStack.set(t.id,t))}removePendingFunitureFloor(t){const e=this._floorStack.get(t);return e?(this._floorStack.delete(t),e):null}getPendingFurnitureFloor(t){const e=this._floorStack.get(t);return e?(this._floorStack.delete(t),e):null}getNextPendingFurnitureFloor(){if(!this._floorStack.size)return null;const t=this._floorStack.keys();return this.getPendingFurnitureFloor(t.next().value)}addPendingFurnitureWall(t){t&&(this._wallStack.delete(t.id),this._wallStack.set(t.id,t))}removePendingFurnitureWall(t){const e=this._wallStack.get(t);return e?(this._wallStack.delete(t),e):null}getPendingFurnitureWall(t){const e=this._wallStack.get(t);return e?(this._wallStack.delete(t),e):null}getNextPendingFurnitureWall(){if(!this._wallStack.size)return null;const t=this._wallStack.keys();return this.getPendingFurnitureWall(t.next().value)}addButtonMouseCursorOwner(t){return-1===this._mouseButtonCursorOwners.indexOf(t)&&(this._mouseButtonCursorOwners.push(t),!0)}removeButtonMouseCursorOwner(t){const e=this._mouseButtonCursorOwners.indexOf(t);return e>-1&&(this._mouseButtonCursorOwners.splice(e,1),!0)}hasButtonMouseCursorOwners(){return this._mouseButtonCursorOwners.length>0}get roomId(){return this._roomId}get modelName(){return this._modelName}get legacyGeometry(){return this._legacyGeometry}get tileObjectMap(){return this._tileObjectMap}get roomCamera(){return this._roomCamera}get selectedObject(){return this._selectedObject}get placedObject(){return this._placedObject}get furnitureStackingHeightMap(){return this._furnitureStackingHeightMap}}class KM{constructor(t,e){this._object=void 0,this._groupBadge=void 0,this._object=t,this._groupBadge=e}get object(){return this._object}get groupBadge(){return this._groupBadge}}class XM{constructor(){this.maxZ=void 0,this.spriteCount=0,this.externalImageCount=0}static addMannequinSprites(t,e){const s=[];for(const i of t)if(i)if(\"boutique_mannequin1\"===i.type&&0===i.name.indexOf(\"mannequin_\")){const t=e.getRoomObject(e.activeRoomId,i.objectId,st.FLOOR);if(t){const e=t.visualization.getSpriteList();if(e)for(const t of e)t.x=t.x+(i.x+i.width/2+XM.MANNEQUIN_MAGIC_X_OFFSET),t.y=t.y+(i.y+i.height+XM.MANNEQUIN_MAGIC_Y_OFFSET),t.z=t.z+i.z,s.push(t)}}else s.push(i);return s}static sortSpriteDataObjects(t,e){return t.z<e.z?1:(t.z,e.z,-1)}static isSpriteInViewPort(t,e,s){return!0}static sortQuadPoints(t,e,s,i){const r=[];if(t.x==e.x?r.push(t,s,e,i):t.x==s.x?r.push(t,e,s,i):e.x<t.x&&e.y>t.y||e.x>t.x&&e.y<t.y?r.push(t,s,e,i):r.push(t,e,s,i),r[0].x<r[1].x){let t=r[0];r[0]=r[1],r[1]=t,t=r[2],r[2]=r[3],r[3]=t}if(r[0].y<r[2].y){let t=r[0];r[0]=r[2],r[2]=t,t=r[1],r[1]=r[3],r[3]=t}return r}getFurniData(t,e,s,i){const r=[];let n=e.getSortableSpriteList();const a=s.getRoomObjects(s.activeRoomId,st.UNIT);for(const o of a)if(o.id!==i){const t=o.visualization.getSpriteList();if(t){let i=0,r=0;for(const t of n)if(t.name===\"avatar_\"+o.id){i=t.z,r=t.y+t.height-e.geometry.scale/4;break}const a=s.getRoomObjectScreenLocation(s.activeRoomId,o.id,st.UNIT,e.id);if(a){0===r&&(r=a.y);for(const s of t)s.x=s.x+(a.x-e.screenOffsetX),s.y=s.y+r,s.z=s.z+i,0!==s.name.indexOf(\"h_std_fx29_\")&&0!==s.name.indexOf(\"h_std_fx185_\")||(s.y=s.y+XM.AVATAR_WATER_EFFECT_MAGIC_Y_OFFSET),n.push(s)}}}n=XM.addMannequinSprites(n,s),n.sort(XM.sortSpriteDataObjects);for(const o of n)null!==o.name&&o.name.length>0&&0!==o.name.indexOf(\"tile_cursor_\")&&XM.isSpriteInViewPort(o,t,e)&&(i<0||o.objectId!=i)&&(r.push(this.getSpriteDataObject(o,t,e,s)),this.maxZ||(this.maxZ=o.z),this.spriteCount++);return JSON.stringify(r)}getRoomRenderingModifiers(t){return JSON.stringify(new Object)}getSpriteDataObject(t,e,s,i){let r=null,n=[];const a={};let o=t.name;return-1!==t.name.indexOf(\"@\")&&(n=t.name.split(\"@\"),o=n[0],r=n[1]),a.name=o,a.x=t.x-e.x,a.y=t.y-e.y,a.x=a.x+s.screenOffsetX,a.y=a.y+s.screenOffsetY,a.z=t.z,t.alpha&&\"255\"!==t.alpha.toString()&&(a.alpha=t.alpha),t.flipH&&(a.flipH=t.flipH),t.skew&&(a.skew=t.skew),t.frame&&(a.frame=t.frame),t.color&&t.color.length>0&&(a.color=parseInt(t.color)),t.blendMode&&\"normal\"!==t.blendMode&&(a.blendMode=t.blendMode),0===o.indexOf(\"http\")&&(a.width=t.width,a.height=t.height,this.externalImageCount++,this.externalImageCount>XM.MAX_EXTERNAL_IMAGE_COUNT&&(a.name=\"box\")),t.posture&&(a.posture=t.posture),a}makeBackgroundPlane(t,e,s){const i=new j.g(0,0),r=new j.g(t.width,0),n=new j.g(0,t.height),a=new j.g(t.width,t.height),o=XM.sortQuadPoints(i,r,n,a);let h=0;s.length>0?(h=s[0].z,this.maxZ&&(h=Math.max(this.maxZ,h))):h=this.maxZ?this.maxZ:0,h+=1.776104*this.spriteCount+2.31743*s.length;const _=new Ry(null,e);return _.cornerPoints=o,_.z=h,_}sortRoomPlanes(t,e,s){const i=new Map;let r=1;this.maxZ&&(r+=this.maxZ);for(const o of t){const t={plane:o,z:r};i.set(o.uniqueId,t)}const n=e.getPlaneSortableSprites();n.sort(((t,e)=>e.z-t.z)),n.reverse();let a=[];for(const o of n){const t=o.sprite;if(t){const e=i.get(t.id);e&&(i.delete(t.id),e.z=o.z,a.push(e))}}return a=a.concat(Array.from(i.values())),a}getRoomPlanes(t,e,s,i){const r=[],n=s.getRoomObject(s.activeRoomId,qM.ROOM_OBJECT_ID,st.ROOM).visualization;if(n){const a=e.geometry,o=this.sortRoomPlanes(n.planes,e,s),h=lL.instance.stage;for(const s of o){const i=s.plane,n=[],o=dt.sum(i.location,i.leftSide),_=a.getScreenPoint(i.location),d=a.getScreenPoint(o),u=a.getScreenPoint(dt.sum(i.location,i.rightSide)),c=a.getScreenPoint(dt.sum(o,i.rightSide));n.push(_,d,u,c);let l=0,g=0;for(const s of n)s.x+=h.width/2,s.y+=h.height/2,s.x+=e.screenOffsetX,s.y+=e.screenOffsetY,s.x+=-t.x,s.y+=-t.y,s.x<0?l--:s.x>=t.width&&l++,s.y<0?g--:s.y>=t.height&&g++;if(4===Math.abs(l)||4===Math.abs(g));else{const t=XM.sortQuadPoints(_,d,u,c);for(const e of i.getDrawingDatas(a))e.cornerPoints=t,e.z=s.z,r.push(e)}}r.unshift(this.makeBackgroundPlane(t,i,r))}return r}}XM.MANNEQUIN_MAGIC_X_OFFSET=1,XM.MANNEQUIN_MAGIC_Y_OFFSET=-16,XM.AVATAR_WATER_EFFECT_MAGIC_Y_OFFSET=-52,XM.MAX_EXTERNAL_IMAGE_COUNT=30;class qM extends y{constructor(t){super(),this._communication=void 0,this._roomRendererFactory=void 0,this._roomManager=void 0,this._visualizationFactory=void 0,this._sessionDataManager=void 0,this._roomSessionManager=void 0,this._roomObjectEventHandler=void 0,this._roomMessageHandler=void 0,this._roomContentLoader=void 0,this._ready=void 0,this._roomContentLoaderReady=void 0,this._imageObjectIdBank=void 0,this._imageCallbacks=void 0,this._thumbnailObjectIdBank=void 0,this._thumbnailCallbacks=void 0,this._activeRoomId=void 0,this._activeRoomActiveCanvas=void 0,this._activeRoomActiveCanvasMouseX=void 0,this._activeRoomActiveCanvasMouseY=void 0,this._activeRoomIsDragged=void 0,this._activeRoomWasDragged=void 0,this._activeRoomDragStartX=void 0,this._activeRoomDragStartY=void 0,this._activeRoomDragX=void 0,this._activeRoomDragY=void 0,this._roomDraggingAlwaysCenters=void 0,this._roomAllowsDragging=void 0,this._roomDatas=void 0,this._roomInstanceDatas=void 0,this._skipFurnitureCreationForNextFrame=void 0,this._mouseCursorUpdate=void 0,this._badgeListenerObjects=void 0,this._logicFactory=void 0,this._communication=t,this._sessionDataManager=null,this._roomSessionManager=null,this._roomManager=null,this._roomObjectEventHandler=new dD(this),this._roomMessageHandler=new sD(this),this._roomContentLoader=new ot,this._ready=!1,this._roomContentLoaderReady=!1,this._activeRoomId=-1,this._activeRoomActiveCanvas=-1,this._roomInstanceDatas=new Map,this._roomDatas=new Map,this._roomRendererFactory=new as,this._visualizationFactory=new Jy,this._logicFactory=new VM,this._activeRoomActiveCanvasMouseX=0,this._activeRoomActiveCanvasMouseY=0,this._activeRoomIsDragged=!1,this._activeRoomWasDragged=!1,this._activeRoomDragStartX=0,this._activeRoomDragStartY=0,this._activeRoomDragX=0,this._activeRoomDragY=0,this._skipFurnitureCreationForNextFrame=!1,this._mouseCursorUpdate=!1,this._imageObjectIdBank=null,this._imageCallbacks=new Map,this._thumbnailCallbacks=new Map,this._roomDraggingAlwaysCenters=!1,this._roomAllowsDragging=!0,this._badgeListenerObjects=new Map,this.runVisibilityUpdate=this.runVisibilityUpdate.bind(this),this.processRoomObjectEvent=this.processRoomObjectEvent.bind(this),this.onRoomSessionEvent=this.onRoomSessionEvent.bind(this),this.onRoomContentLoaderReadyEvent=this.onRoomContentLoaderReadyEvent.bind(this),this.onBadgeImageReadyEvent=this.onBadgeImageReadyEvent.bind(this)}onInit(){this._ready||(this._imageObjectIdBank=new He(1e3),this._thumbnailObjectIdBank=new He(1e3),this._logicFactory.registerEventFunction(this.processRoomObjectEvent),this._roomManager&&(this._roomManager.setContentLoader(this._roomContentLoader),this._roomManager.addUpdateCategory(st.FLOOR),this._roomManager.addUpdateCategory(st.WALL),this._roomManager.addUpdateCategory(st.UNIT),this._roomManager.addUpdateCategory(st.CURSOR),this._roomManager.addUpdateCategory(st.ROOM)),this._roomMessageHandler.setConnection(this._communication.connection),this._roomContentLoader.initialize(this.events),this._roomContentLoader.setSessionDataManager(this._sessionDataManager),this._roomContentLoader.setIconListener(this),this._roomSessionManager&&(this._roomSessionManager.events.addEventListener(HA.STARTED,this.onRoomSessionEvent),this._roomSessionManager.events.addEventListener(HA.ENDED,this.onRoomSessionEvent)),this.events.addEventListener(ot.LOADER_READY,this.onRoomContentLoaderReadyEvent),lL.instance.ticker.add(this.update,this),document.addEventListener(\"visibilitychange\",this.runVisibilityUpdate))}onDispose(){if(this._ready){for(const[t,e]of this._roomInstanceDatas)this.removeRoomInstance(t);document.removeEventListener(\"visibilitychange\",this.runVisibilityUpdate),lL.instance.ticker.remove(this.update,this),this._roomObjectEventHandler&&this._roomObjectEventHandler.dispose(),this._roomMessageHandler&&this._roomMessageHandler.dispose(),this._roomContentLoader&&this._roomContentLoader.dispose(),this.events.removeEventListener(ot.LOADER_READY,this.onRoomContentLoaderReadyEvent),this._roomSessionManager&&(this._roomSessionManager.events.removeEventListener(HA.STARTED,this.onRoomSessionEvent),this._roomSessionManager.events.removeEventListener(HA.ENDED,this.onRoomSessionEvent)),super.onDispose()}}onRoomSessionEvent(t){if(t instanceof HA)switch(t.type){case HA.STARTED:return void(this._roomMessageHandler&&this._roomMessageHandler.setRoomId(t.session.roomId));case HA.ENDED:return void(this._roomMessageHandler&&(this._roomMessageHandler.clearRoomId(),this.removeRoomInstance(t.session.roomId)))}}onRoomContentLoaderReadyEvent(t){this._roomContentLoaderReady=!0,this._roomManager.init()}setActiveRoomId(t){this._activeRoomId=t}destroyRoom(t){this.removeRoomInstance(t)}getRoomInstance(t){return this._roomManager&&this._roomManager.getRoomInstance(this.getRoomId(t))||null}removeRoomInstance(t){this.getRoomInstance(t)&&this._roomManager&&this._roomManager.removeRoomInstance(this.getRoomId(t));const e=this._roomInstanceDatas.get(t);e&&(this._roomInstanceDatas.delete(e.roomId),e.dispose()),this.events.dispatchEvent(new PA(PA.DISPOSED,t))}createRoomInstance(t,e){let s=\"111\",i=\"201\",r=\"1\";if(!this._ready){let n=this._roomDatas.get(t);return n&&(this._roomDatas.delete(t),s=n.floorType,i=n.wallType,r=n.landscapeType),n=new jM(t,e),n.floorType=s,n.wallType=i,n.landscapeType=r,this._roomDatas.set(t,n),void l.log(\"Room Engine not initilized yet, can not create room. Room data stored for later initialization.\")}if(!e)return void l.log(\"Room property messages received before floor height map, will initialize when floor height map received.\");const n=this._roomDatas.get(t);n&&(this._roomDatas.delete(t),n.floorType&&(s=n.floorType),n.wallType&&(i=n.wallType),n.landscapeType&&(r=n.landscapeType));this.setupRoomInstance(t,e,s,i,r,this.getRoomInstanceModelName(t))&&(e.restrictsDragging?this._roomAllowsDragging=!1:this._roomAllowsDragging=!0,this.events.dispatchEvent(new PA(PA.INITIALIZED,t)))}setupRoomInstance(t,e,s,i,r,n){if(!this._ready||!this._roomManager)return;const a=this._roomManager.createRoomInstance(this.getRoomId(t));if(!a)return null;const o=st.ROOM,h=a.createRoomObjectAndInitalize(qM.ROOM_OBJECT_ID,qM.ROOM_OBJECT_TYPE,o);if(a.model.setValue($y.ROOM_IS_PUBLIC,0),a.model.setValue($y.ROOM_Z_SCALE,1),e){a.model.setValue($y.RESTRICTS_DRAGGING,e.restrictsDragging),a.model.setValue($y.RESTRICTS_SCALING,e.restrictsScaling),a.model.setValue($y.RESTRICTED_SCALE,e.restrictedScale);if(e.dimensions){const t=e.dimensions.minX,s=e.dimensions.maxX,i=e.dimensions.minY,r=e.dimensions.maxY;a.model.setValue($y.ROOM_MIN_X,t),a.model.setValue($y.ROOM_MAX_X,s),a.model.setValue($y.ROOM_MIN_Y,i),a.model.setValue($y.ROOM_MAX_Y,r);const n=423*t+671*s+913*i+7509*r;h&&h.model&&h.model.setValue(rt.ROOM_RANDOM_SEED,n)}}const _=h&&h.logic||null;if(_&&(_.initialize(e),s&&(_.processUpdateMessage(new ZS(ZS.ROOM_FLOOR_UPDATE,s)),a.model.setValue(rt.ROOM_FLOOR_TYPE,s)),i&&(_.processUpdateMessage(new ZS(ZS.ROOM_WALL_UPDATE,i)),a.model.setValue(rt.ROOM_WALL_TYPE,i)),r&&(_.processUpdateMessage(new ZS(ZS.ROOM_LANDSCAPE_UPDATE,r)),a.model.setValue(rt.ROOM_LANDSCAPE_TYPE,r))),e&&e.doors.length){let t=0;for(;t<e.doors.length;){const s=e.doors[t];if(s){const e=s.x,i=s.y,r=s.z,n=s.dir,o=XS.DOOR,h=\"door_\"+t,d=new dt(e,i,r);_.processUpdateMessage(new XS(XS.ADD_MASK,h,o,d,XS.HOLE)),90!==n&&180!==n||(90===n&&(a.model.setValue(rt.ROOM_DOOR_X,e-.5),a.model.setValue(rt.ROOM_DOOR_Y,i)),180===n&&(a.model.setValue(rt.ROOM_DOOR_X,e),a.model.setValue(rt.ROOM_DOOR_Y,i-.5)),a.model.setValue(rt.ROOM_DOOR_Z,r),a.model.setValue(rt.ROOM_DOOR_DIR,n))}t++}}return a.createRoomObjectAndInitalize(qM.CURSOR_OBJECT_ID,qM.CURSOR_OBJECT_TYPE,st.CURSOR),lL.instance.getConfiguration(\"enable.avatar.arrow\",!1)&&a.createRoomObjectAndInitalize(qM.ARROW_OBJECT_ID,qM.ARROW_OBJECT_TYPE,st.CURSOR),a}getRoomInstanceDisplay(t,e,s,r,n){const a=this.getRoomInstance(t);if(!a)return null;let o=a.renderer;if(!o&&(o=this._roomRendererFactory.createRenderer(),!o))return null;o.roomObjectVariableAccurateZ=rt.OBJECT_ACCURATE_Z_VALUE,a.setRenderer(o);const h=o.createCanvas(e,s,r,n);if(!h)return null;if(a.model.getValue($y.RESTRICTS_SCALING)){let t=a.model.getValue($y.RESTRICTED_SCALE);t||(t=1),h.setScale(t),h.restrictsScaling=!0}else h.restrictsScaling=!1;if(h.setMouseListener(this._roomObjectEventHandler),h.geometry){h.geometry.z_scale=a.model.getValue($y.ROOM_Z_SCALE);const t=a.model.getValue(rt.ROOM_DOOR_X),e=a.model.getValue(rt.ROOM_DOOR_Y),s=a.model.getValue(rt.ROOM_DOOR_Z),r=a.model.getValue(rt.ROOM_DOOR_DIR),n=new dt(t,e,s);let o=null;90===r&&(o=new dt(-2e3,0,0)),180===r&&(o=new dt(0,-2e3,0)),h.geometry.setDisplacement(n,o);const _=h.master;if(_){const t=new W(i.t.EMPTY);t.name=qM.OVERLAY,t.interactive=!1,_.addChild(t)}}return h.master}setRoomInstanceRenderingCanvasMask(t,e,s){const i=this.getRoomInstanceRenderingCanvas(t,e);i&&i.setMask(s)}setRoomInstanceRenderingCanvasScale(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const o=this.getRoomInstanceRenderingCanvas(t,e);if(o){if(o.restrictsScaling&&!n)return;o.setScale(s,i,r,n,a),this.events.dispatchEvent(new PA(PA.ROOM_ZOOMED,t))}}getRoomInstanceRenderingCanvas(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const s=this.getRoomInstance(t);if(!s)return null;const i=s.renderer;if(!i)return null;-1===e&&(e=this._activeRoomActiveCanvas);const r=i.getCanvas(e);return r||null}getActiveRoomInstanceRenderingCanvas(){return this.getRoomInstanceRenderingCanvas(this._activeRoomId,this._activeRoomActiveCanvas)}getRoomInstanceRenderingCanvasOffset(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===e&&(e=this._activeRoomActiveCanvas);const s=this.getRoomInstanceRenderingCanvas(t,e);return s?new j.g(s.screenOffsetX,s.screenOffsetY):null}setRoomInstanceRenderingCanvasOffset(t,e,s){const i=this.getRoomInstanceRenderingCanvas(t,e);if(!i||!s)return!1;const r=~~s.x,n=~~s.y;return i.screenOffsetX!==r||i.screenOffsetY!==n?(this.events.dispatchEvent(new kA(t,-(i.screenOffsetX-r),-(i.screenOffsetY-n))),i.screenOffsetX=r,i.screenOffsetY=n,!0):void 0}getRoomInstanceRenderingCanvasScale(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1e3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1e3===t&&(t=this._activeRoomId),-1===e&&(e=this._activeRoomActiveCanvas);const s=this.getRoomInstanceRenderingCanvas(t,e);return s?s.scale:1}initializeRoomInstanceRenderingCanvas(t,e,s,i){const r=this.getRoomInstanceRenderingCanvas(t,e);r&&r.initialize(s,i)}getRoomInstanceGeometry(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const s=this.getRoomInstance(t);if(!s)return null;const i=s.renderer;if(!i)return null;-1===e&&(e=this._activeRoomActiveCanvas);const r=i.getCanvas(e);return r?r.geometry:null}getRoomInstanceVariable(t,e){const s=this.getRoomInstance(t);return s&&s.model&&s.model.getValue(e)||null}updateRoomInstancePlaneVisibility(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.getRoomOwnObject(t);return!!i&&(i.processUpdateMessage(new QS(QS.WALL_VISIBILITY,e)),i.processUpdateMessage(new QS(QS.FLOOR_VISIBILITY,s)),!0)}updateRoomInstancePlaneThickness(t,e,s){const i=this.getRoomOwnObject(t);return!!i&&(i.processUpdateMessage(new qS(qS.WALL_THICKNESS,e)),i.processUpdateMessage(new qS(qS.FLOOR_THICKNESS,s)),!0)}updateRoomInstancePlaneType(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const n=this.getRoomOwnObject(t),a=this.getRoomInstance(t);if(!n){let r=this._roomDatas.get(t);return r||(r=new jM(t,null),this._roomDatas.set(t,r)),e&&(r.floorType=e),s&&(r.wallType=s),i&&(r.landscapeType=i),!0}return e&&(a&&!r&&a.model.setValue(rt.ROOM_FLOOR_TYPE,e),n.processUpdateMessage(new ZS(ZS.ROOM_FLOOR_UPDATE,e))),s&&(a&&!r&&a.model.setValue(rt.ROOM_WALL_TYPE,s),n.processUpdateMessage(new ZS(ZS.ROOM_WALL_UPDATE,s))),i&&(a&&!r&&a.model.setValue(rt.ROOM_LANDSCAPE_TYPE,i),n.processUpdateMessage(new ZS(ZS.ROOM_LANDSCAPE_UPDATE,i))),!0}updateObjectRoomColor(t,e,s,i){const r=this.getRoomOwnObject(t);if(!r||!r.logic)return!1;const n=new WS(WS.BACKGROUND_COLOR,e,s,i);return r.logic.processUpdateMessage(n),this.events.dispatchEvent(new jA(t,e,s,i)),!0}addRoomInstanceFloorHole(t,e){if(e<0)return;const s=this.getRoomOwnObject(t),i=this.getRoomObjectFloor(t,e);if(s&&s.logic&&i&&i.model){const t=i.getLocation(),r=i.model.getValue(rt.FURNITURE_SIZE_X),n=i.model.getValue(rt.FURNITURE_SIZE_Y);s.processUpdateMessage(new KS(KS.ADD,e,t.x,t.y,r,n))}}removeRoomInstanceFloorHole(t,e){if(e<0)return;const s=this.getRoomOwnObject(t);s&&s.processUpdateMessage(new KS(KS.REMOVE,e))}setRoomEngineGameMode(t,e){const s=this.getRoomInstance(t);if(!s)return;const i=e?1:0;s.model.setValue($y.IS_PLAYING_GAME,i),0===i?this.events.dispatchEvent(new PA(PA.NORMAL_MODE,t)):this.events.dispatchEvent(new PA(PA.GAME_MODE,t))}isRoomIdPlayingGame(t){const e=this.getRoomInstance(t);return!!e&&e.model.getValue($y.IS_PLAYING_GAME)>0}isPlayingGame(){return this.isRoomIdPlayingGame(this._activeRoomId)}disableUpdate(t){t?lL.instance.ticker.remove(this.update,this):(lL.instance.ticker.remove(this.update,this),lL.instance.ticker.add(this.update,this))}runUpdate(){this.update(1)}runVisibilityUpdate(){document.hidden||this.update(1,!0)}update(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._roomManager&&(t=lL.instance.time,ke.turnVisualizationOn(),this.processPendingFurniture(),this._roomManager.update(t,e),this.updateRoomCameras(t),this._mouseCursorUpdate&&this.setPointer(),ke.turnVisualizationOff())}setPointer(){this._mouseCursorUpdate=!1;const t=this.getRoomInstanceData(this._activeRoomId);t&&t.hasButtonMouseCursorOwners()?document.body.style.cursor=\"pointer\":document.body.style.cursor=\"auto\"}processPendingFurniture(){if(this._skipFurnitureCreationForNextFrame)return void(this._skipFurnitureCreationForNextFrame=!1);const t=(new Date).valueOf();for(const e of this._roomInstanceDatas.values()){if(!e)continue;let s=null,i=0,r=!1;for(;s=e.getNextPendingFurnitureFloor();)if(r=this.processPendingFurnitureFloor(e.roomId,s.id,s),!(++i%5)){if((new Date).valueOf()-t>=40){this._skipFurnitureCreationForNextFrame=!0;break}}for(;!this._skipFurnitureCreationForNextFrame&&(s=e.getNextPendingFurnitureWall());)if(r=this.processPendingFurnitureWall(e.roomId,s.id,s),!(++i%5)){if((new Date).valueOf()-t>=40){this._skipFurnitureCreationForNextFrame=!0;break}}if(r&&this._roomManager){this._roomManager.getRoomInstance(this.getRoomId(e.roomId)).hasUninitializedObjects()||this.objectsInitialized(e.roomId.toString())}if(this._skipFurnitureCreationForNextFrame)return}}onRoomEngineInitalized(t){if(t){this._ready=!0,this.events.dispatchEvent(new PA(PA.ENGINE_INITIALIZED,0));for(const t of this._roomDatas.values())t&&this.createRoomInstance(t.roomId,t.data)}}processPendingFurnitureFloor(t,e,s){if(!s){const i=this.getRoomInstanceData(t);if(i&&(s=i.getPendingFurnitureFloor(e)),!s)return!1}let i=s.type,r=!1;i||(i=this.getFurnitureFloorName(s.typeId),r=!0);const n=this.createRoomObjectFloor(t,e,i);if(!n)return!1;const a=n.model;if(a&&(a.setValue(rt.FURNITURE_COLOR,this.getFurnitureFloorColorIndex(s.typeId)),a.setValue(rt.FURNITURE_TYPE_ID,s.typeId),a.setValue(rt.FURNITURE_AD_URL,this.getRoomObjectAdUrl(s.type)),a.setValue(rt.FURNITURE_REAL_ROOM_OBJECT,s.realRoomObject?1:0),a.setValue(rt.FURNITURE_EXPIRY_TIME,s.expiryTime),a.setValue(rt.FURNITURE_EXPIRTY_TIMESTAMP,lL.instance.time),a.setValue(rt.FURNITURE_USAGE_POLICY,s.usagePolicy),a.setValue(rt.FURNITURE_OWNER_ID,s.ownerId),a.setValue(rt.FURNITURE_OWNER_NAME,s.ownerName)),!this.updateRoomObjectFloor(t,e,s.location,s.direction,s.state,s.data,s.extra))return!1;if(s.sizeZ>=0&&!this.updateRoomObjectFloorHeight(t,e,s.sizeZ))return!1;this.events&&this.events.dispatchEvent(new YA(YA.ADDED,t,e,st.FLOOR));const o=this.getPlacedRoomObjectData(t);return o&&o.id===e&&o.category===st.FLOOR&&this.selectRoomObject(t,e,st.FLOOR),n.isReady&&s.synchronized&&this.addObjectToTileMap(t,n),!0}processPendingFurnitureWall(t,e,s){if(!s){const i=this.getRoomInstanceData(t);if(i&&(s=i.getPendingFurnitureWall(e)),!s)return!1}let i=\"\";s.data&&(i=s.data.getLegacyString());let r=this.getFurnitureWallName(s.typeId,i);r||(r=\"\");const n=this.createRoomObjectWall(t,e,r);if(!n)return!1;const a=n.model;if(a&&(a.setValue(rt.FURNITURE_COLOR,this.getFurnitureWallColorIndex(s.typeId)),a.setValue(rt.FURNITURE_TYPE_ID,s.typeId),a.setValue(rt.FURNITURE_AD_URL,this.getRoomObjectAdUrl(s.type)),a.setValue(rt.FURNITURE_REAL_ROOM_OBJECT,s.realRoomObject?1:0),a.setValue(rt.OBJECT_ACCURATE_Z_VALUE,1),a.setValue(rt.FURNITURE_EXPIRY_TIME,s.expiryTime),a.setValue(rt.FURNITURE_EXPIRTY_TIMESTAMP,lL.instance.time),a.setValue(rt.FURNITURE_USAGE_POLICY,s.usagePolicy),a.setValue(rt.FURNITURE_OWNER_ID,s.ownerId),a.setValue(rt.FURNITURE_OWNER_NAME,s.ownerName)),!this.updateRoomObjectWall(t,e,s.location,s.direction,s.state,i))return!1;this.events&&this.events.dispatchEvent(new YA(YA.ADDED,t,e,st.WALL));const o=this.getPlacedRoomObjectData(t);return o&&Math.abs(o.id)===e&&o.category===st.WALL&&this.selectRoomObject(t,e,st.WALL),!0}setRoomSessionOwnUser(t,e){if(!this._roomSessionManager)return;const s=this._roomSessionManager.getSession(t);s&&s.setOwnRoomIndex(e);const i=this.getRoomCamera(t);i&&(i.targetId=e,i.targetCategory=st.UNIT,i.activateFollowing(this.cameraFollowDuration))}get cameraFollowDuration(){return 1e3}updateRoomCameras(t){for(const e of this._roomInstanceDatas.values()){if(!e)continue;const s=e.roomCamera;if(!s)continue;let i=null;const r=this.getRoomObject(e.roomId,s.targetId,s.targetCategory);r&&(i=r.getLocation()),i&&(e.roomId===this._activeRoomId&&this._activeRoomIsDragged||this.updateRoomCamera(e.roomId,1,i,t))}if(this._activeRoomWasDragged){const t=this.getRoomInstanceRenderingCanvas(this._activeRoomId,1);t&&this.setRoomInstanceRenderingCanvasOffset(this._activeRoomId,1,new j.g(t.screenOffsetX+this._activeRoomDragX,t.screenOffsetY+this._activeRoomDragY)),this._activeRoomDragX=0,this._activeRoomDragY=0}}updateRoomCamera(t,e,s,i){const r=this.getRoomInstanceRenderingCanvas(t,e),n=this.getRoomInstanceData(t);if(!r||!n||1!==r.scale)return;const a=r.geometry,o=n.roomCamera,h=this.getRoomInstance(t);if(!a||!o||!h)return;const _=this.getRoomCanvasRectangle(t,e);if(!_)return;let d=Math.floor(s.z)+1;const u=Math.round(_.width),c=Math.round(_.height),l=this.getCanvasBoundingRectangle(e);if(l&&(l.right<0||l.bottom<0||l.left>=u||l.top>=c)&&o.reset(),o.screenWd!==u||o.screenHt!==c||o.scale!==a.scale||o.geometryUpdateId!==a.updateId||!dt.isEqual(s,o.targetObjectLoc)||o.isMoving){o.targetObjectLoc=s;const t=new dt;t.assign(s),t.x=Math.round(t.x),t.y=Math.round(t.y);const e=h.model.getValue($y.ROOM_MIN_X)-.5,n=h.model.getValue($y.ROOM_MIN_Y)-.5,g=h.model.getValue($y.ROOM_MAX_X)+.5,E=h.model.getValue($y.ROOM_MAX_Y)+.5,p=Math.round((e+g)/2),m=Math.round((n+E)/2),I=2;let f=new j.g(t.x-p,t.y-m);const T=a.scale/Math.sqrt(2),R=T/2,v=new j.d;v.rotate(-(a.direction.x+90)/180*Math.PI),f=v.apply(f),f.y=f.y*(R/T);const O=_.width/2/T-1,A=_.height/2/R-1;let S=0,N=0,y=0,D=0,M=a.getScreenPoint(new dt(p,m,I));if(!M)return;if(M.x=M.x+Math.round(_.width/2),M.y=M.y+Math.round(_.height/2),!l)return void a.adjustLocation(new dt(0,0),25);if(l.x+=-r.screenOffsetX,l.y+=-r.screenOffsetY,!(l.width>1&&l.height>1))return void a.adjustLocation(new dt(-30,-30),25);S=(l.left-M.x-.25*a.scale)/T,y=(l.right-M.x+.25*a.scale)/T,N=(l.top-M.y-.5*a.scale)/R,D=(l.bottom-M.y+.5*a.scale)/R;let C=!1,L=!1,U=!1,P=!1;Math.round((y-S)*T)<_.width?(d=2,f.x=(y+S)/2,U=!0):(f.x>y-O&&(f.x=y-O,C=!0),f.x<S+O&&(f.x=S+O,C=!0));Math.round((D-N)*R)<_.height?(d=2,f.y=(D+N)/2,P=!0):(f.y>D-A&&(f.y=D-A,L=!0),f.y<N+A&&(f.y=N+A,L=!0),L&&(f.y=f.y/(R/T))),v.invert(),f=v.apply(f),f.x=f.x+p,f.y=f.y+m;let b=.35,w=.2,F=.2;const x=10,B=10;if(F*u>100&&(F=100/u),b*c>150&&(b=150/c),w*c>150&&(w=150/c),o.limitedLocationX&&o.screenWd==u&&o.screenHt==c&&(F=0),o.limitedLocationY&&o.screenWd==u&&o.screenHt==c&&(b=0,w=0),_.width=_.width*(1-2*F),_.height=_.height*(1-(b+w)),_.width<x&&(_.width=x),_.height<B&&(_.height=B),b+w>0?(_.x+=-_.width/2,_.y+=-_.height*(w/(b+w))):(_.x+=-_.width/2,_.y+=-_.height/2),M=a.getScreenPoint(t),!M)return;if(M){M.x=M.x+r.screenOffsetX,M.y=M.y+r.screenOffsetY,t.z=d,t.x=Math.round(2*f.x)/2,t.y=Math.round(2*f.y)/2,o.location||(a.location=t,this.useOffsetScrolling?o.initializeLocation(new dt(0,0,0)):o.initializeLocation(t));const e=a.getScreenPoint(t),s=new dt(0,0,0);e&&(s.x=e.x,s.y=e.y),(M.x<_.left||M.x>_.right)&&!o.centeredLocX||(M.y<_.top||M.y>_.bottom)&&!o.centeredLocY||U&&!o.centeredLocX&&o.screenWd!=u||P&&!o.centeredLocY&&o.screenHt!=c||o.roomWd!=l.width||o.roomHt!=l.height||o.screenWd!=u||o.screenHt!=c?(o.limitedLocationX=C,o.limitedLocationY=L,this.useOffsetScrolling?o.target=s:o.target=t):(C||(o.limitedLocationX=!1),L||(o.limitedLocationY=!1))}o.centeredLocX=U,o.centeredLocY=P,o.screenWd=u,o.screenHt=c,o.scale=a.scale,o.geometryUpdateId=a.updateId,o.roomWd=l.width,o.roomHt=l.height,this._sessionDataManager.isCameraFollowDisabled||(this.useOffsetScrolling?o.update(i,8):o.update(i,.5)),this.useOffsetScrolling?this.setRoomInstanceRenderingCanvasOffset(this.activeRoomId,1,new j.g(-o.location.x,-o.location.y)):a.adjustLocation(o.location,25)}else o.limitedLocationX=!1,o.limitedLocationY=!1,o.centeredLocX=!1,o.centeredLocY=!1}getRoomCanvasRectangle(t,e){const s=this.getRoomInstanceRenderingCanvas(t,e);return s?new j.j(0,0,s.width,s.height):null}getRoomObjectBoundingRectangle(t,e,s,i){const r=this.getRoomInstanceGeometry(t,i);if(!r)return null;const n=this.getRoomObject(t,e,s);if(!n)return null;const a=n.visualization;if(!a)return null;const o=a.getBoundingRectangle(),h=this.getRoomInstanceRenderingCanvas(t,i),_=h?h.scale:1,d=r.getScreenPoint(n.getLocation());return d?(d.x=Math.round(d.x),d.y=Math.round(d.y),o.x=o.x*_,o.y=o.y*_,o.width=o.width*_,o.height=o.height*_,d.x=d.x*_,d.y=d.y*_,o.x+=d.x,o.y+=d.y,h?(o.x+=Math.round(h.width/2)+h.screenOffsetX,o.y+=Math.round(h.height/2)+h.screenOffsetY,o):null):null}getCanvasBoundingRectangle(t){return this.getRoomObjectBoundingRectangle(this._activeRoomId,qM.ROOM_OBJECT_ID,st.ROOM,t)}getFurnitureFloorName(t){return this._roomContentLoader?this._roomContentLoader.getFurnitureFloorNameForTypeId(t):null}getFurnitureWallName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._roomContentLoader?this._roomContentLoader.getFurnitureWallNameForTypeId(t,e):null}getFurnitureFloorColorIndex(t){return this._roomContentLoader?this._roomContentLoader.getFurnitureFloorColorIndex(t):null}getFurnitureWallColorIndex(t){return this._roomContentLoader?this._roomContentLoader.getFurnitureWallColorIndex(t):null}getRoomInstanceData(t){const e=this._roomInstanceDatas.get(t);if(e)return e;const s=new WM(t);return this._roomInstanceDatas.set(s.roomId,s),s}getRoomInstanceModelName(t){const e=this.getRoomInstanceData(t);return e?e.modelName:null}setRoomInstanceModelName(t,e){const s=this.getRoomInstanceData(t);s&&s.setModelName(e)}getRoomTileObjectMap(t){const e=this.getRoomInstanceData(t);return e?e.tileObjectMap:null}getCurrentRoomCamera(){return this.getRoomCamera(this._activeRoomId)}getRoomCamera(t){const e=this.getRoomInstanceData(t);return e?e.roomCamera:null}getSelectedRoomObjectData(t){const e=this.getRoomInstanceData(t);return e?e.selectedObject:null}setSelectedRoomObjectData(t,e){const s=this.getRoomInstanceData(t);if(!s)return null;s.setSelectedObject(e),e&&s.setPlacedObject(null)}getPlacedRoomObjectData(t){const e=this.getRoomInstanceData(t);return e?e.placedObject:null}setPlacedRoomObjectData(t,e){const s=this.getRoomInstanceData(t);if(!s)return null;s.setPlacedObject(e)}cancelRoomObjectPlacement(){this._roomObjectEventHandler&&this._roomObjectEventHandler.cancelRoomObjectPlacement(this._activeRoomId)}getFurnitureStackingHeightMap(t){const e=this.getRoomInstanceData(t);return e?e.furnitureStackingHeightMap:null}setFurnitureStackingHeightMap(t,e){const s=this.getRoomInstanceData(t);if(!s)return null;s.setFurnitureStackingHeightMap(e)}getLegacyWallGeometry(t){const e=this.getRoomInstanceData(t);return e?e.legacyGeometry:null}createRoomObjectAndInitialize(t,e,s,i){const r=this.getRoomInstance(t);return r?r.createRoomObjectAndInitalize(e,s,i):null}getTotalObjectsForManager(t,e){const s=this.getRoomInstance(t);return s?s.getTotalObjectsForManager(e):0}getRoomObject(t,e,s){if(!this._ready)return null;let i=this.getRoomId(t);return 0===t&&(i=qM.TEMPORARY_ROOM),this.getObject(i,e,s)}getObject(t,e,s){let i=null;if(this._roomManager&&(i=this._roomManager.getRoomInstance(t)),!i)return null;let r=i.getRoomObject(e,s);if(!r)switch(s){case st.FLOOR:this.processPendingFurnitureFloor(this.getRoomIdFromString(t),e,null),r=i.getRoomObject(e,s);break;case st.WALL:this.processPendingFurnitureWall(this.getRoomIdFromString(t),e,null),r=i.getRoomObject(e,s)}return r}getRoomObjectByIndex(t,e,s){const i=this.getRoomInstance(t);return i?i.getRoomObjectByIndex(e,s):null}getRoomObjectCategoryForType(t){return t&&this._roomContentLoader?this._roomContentLoader.getCategoryForType(t):st.MINIMUM}getRoomObjectCursor(t){return this.getObject(this.getRoomId(t),qM.CURSOR_OBJECT_ID,st.CURSOR)}getRoomObjectSelectionArrow(t){return this.getObject(this.getRoomId(t),qM.ARROW_OBJECT_ID,st.CURSOR)}getRoomOwnObject(t){return this.getObject(this.getRoomId(t),qM.ROOM_OBJECT_ID,st.ROOM)}getRoomObjectUser(t,e){return this.getObject(this.getRoomId(t),e,st.UNIT)}removeRoomObjectUser(t,e){return this.removeRoomObject(t,e,st.UNIT)}createRoomObjectUser(t,e,s){return this.createRoomObjectAndInitialize(t,e,s,st.UNIT)}getRoomObjectFloor(t,e){return this.getObject(this.getRoomId(t),e,st.FLOOR)}createRoomObjectFloor(t,e,s){return this.createRoomObjectAndInitialize(t,e,s,st.FLOOR)}removeRoomObjectFloor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=this.getRoomInstanceData(t);if(r&&r.removePendingFunitureFloor(e),this._sessionDataManager&&s===this._sessionDataManager.userId&&!VA.isBuilderClubId(e)){const s=this.getRoomObject(t,e,st.FLOOR);if(s){const i=this.getRoomObjectScreenLocation(t,e,st.FLOOR,this._activeRoomActiveCanvas);if(i){if(!(1===s.model.getValue(rt.FURNITURE_DISABLE_PICKING_ANIMATION))){const t=s.model.getValue(rt.FURNITURE_TYPE_ID),e=s.model.getValue(rt.FURNITURE_EXTRAS),r=s.model.getValue(rt.FURNITURE_DATA_FORMAT),n=Ia.getData(r),a=this.getFurnitureFloorIcon(t,null,e,n).data;if(a){const t=At.generateImage(a);if(this.events){const e=new BA(t,i.x,i.y);e.iconName=FA.INVENTORY,this.events.dispatchEvent(e)}}}}}}this.removeRoomObject(t,e,st.FLOOR),this.setMouseDefault(t,st.FLOOR,e),i&&this.refreshTileObjectMap(t,\"RoomEngine.disposeObjectFurniture()\")}getRoomObjectWall(t,e){return this.getObject(this.getRoomId(t),e,st.WALL)}removeRoomObjectWall(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._sessionDataManager&&s===this._sessionDataManager.userId&&!VA.isBuilderClubId(e)){const s=this.getRoomObject(t,e,st.WALL);if(s&&-1===s.type.indexOf(\"post_it\")&&-1===s.type.indexOf(\"external_image_wallitem\")){const i=this.getRoomObjectScreenLocation(t,e,st.WALL,this._activeRoomActiveCanvas);if(i){const t=s.model.getValue(rt.FURNITURE_TYPE_ID),e=s.model.getValue(rt.FURNITURE_DATA),r=this.getFurnitureWallIcon(t,null,e).data;if(r){const t=At.generateImage(r);if(this.events){const e=new BA(t,i.x,i.y);e.iconName=FA.INVENTORY,this.events.dispatchEvent(e)}}}}}this.removeRoomObject(t,e,st.WALL),this.updateRoomObjectMask(t,e,!1),this.setMouseDefault(t,st.WALL,e)}createRoomObjectWall(t,e,s){return this.createRoomObjectAndInitialize(t,e,s,st.WALL)}removeRoomObject(t,e,s){const i=this.getRoomInstance(t);if(!i)return null;i.removeRoomObject(e,s),this.events&&this.events.dispatchEvent(new YA(YA.REMOVED,t,e,s))}addFurnitureFloor(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:NaN,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:\"\",c=!(arguments.length>12&&void 0!==arguments[12])||arguments[12],l=!(arguments.length>13&&void 0!==arguments[13])||arguments[13],g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:-1;const E=this.getRoomInstanceData(t);if(!E)return!1;const p=new kM(e,s,null,i,r,n,a,o,h,_,d,u,c,l,g);return E.addPendingFurnitureFloor(p),!0}addFurnitureFloorByTypeName(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:NaN,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:\"\",c=!(arguments.length>12&&void 0!==arguments[12])||arguments[12],l=!(arguments.length>13&&void 0!==arguments[13])||arguments[13],g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:-1;const E=this.getRoomInstanceData(t);if(!E)return!1;const p=new kM(e,0,s,i,r,n,a,o,h,_,d,u,c,l,g);return E.addPendingFurnitureFloor(p),!0}addFurnitureWall(t,e,s,i,r,n,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-1,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:\"\",u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];const c=this.getRoomInstanceData(t);if(!c)return!1;const l=new la;l.setString(a);const g=new kM(e,s,null,i,r,n,l,NaN,o,h,_,d,!0,u);return c.addPendingFurnitureWall(g),!0}updateRoomObjectFloor(t,e,s,i,r,n){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const o=this.getRoomObjectFloor(t,e);return!!o&&(o.processUpdateMessage(new Ue(s,i)),o.processUpdateMessage(new VS(r,n,a)),!0)}updateRoomObjectWall(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const a=this.getRoomObjectWall(t,e);if(!a||!a.logic)return!1;const o=new Ue(s,i),h=new la,_=new VS(r,h);return h.setString(n),a.logic.processUpdateMessage(o),a.logic.processUpdateMessage(_),this.updateRoomObjectMask(t,e),!0}updateRoomObjectWallItemData(t,e,s){const i=this.getRoomObjectWall(t,e);return!(!i||!i.logic)&&(i.logic.processUpdateMessage(new zS(s)),!0)}updateRoomObjectFloorHeight(t,e,s){const i=this.getRoomObjectFloor(t,e);return!!i&&(i.processUpdateMessage(new kS(null,null,s)),!0)}updateRoomObjectFloorExpiration(t,e,s){const i=this.getRoomObjectFloor(t,e);return!!i&&(i.model.setValue(rt.FURNITURE_EXPIRY_TIME,s),i.model.setValue(rt.FURNITURE_EXPIRTY_TIMESTAMP,lL.instance.time),!0)}updateRoomObjectWallExpiration(t,e,s){const i=this.getRoomObjectWall(t,e);return!!i&&(i.model.setValue(rt.FURNITURE_EXPIRY_TIME,s),i.model.setValue(rt.FURNITURE_EXPIRTY_TIMESTAMP,lL.instance.time),!0)}updateRoomObjectMask(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=st.WALL+\"_\"+e,r=this.getRoomObjectWall(t,e);let n=null;if(r&&r.model){if(r.model.getValue(rt.FURNITURE_USES_PLANE_MASK)>0){const t=r.model.getValue(rt.FURNITURE_PLANE_MASK_TYPE),e=r.getLocation();n=s?new XS(XS.ADD_MASK,i,t,e):new XS(XS.REMOVE_MASK,i)}}else n=new XS(XS.REMOVE_MASK,i);const a=this.getRoomOwnObject(t);a&&a.logic&&n&&a.logic.processUpdateMessage(n)}rollRoomObjectFloor(t,e,s,i){const r=this.getRoomObjectFloor(t,e);r&&r.processUpdateMessage(new BS(s,i,null,!!i))}updateRoomObjectWallLocation(t,e,s){const i=this.getRoomObjectWall(t,e);return!!i&&(i.logic&&i.logic.processUpdateMessage(new BS(s,null,null)),this.updateRoomObjectMask(t,e),!0)}addRoomObjectUser(t,e,s,i,r,n,a){if(this.getRoomObjectUser(t,e))return!1;let o=it.getTypeString(n);o===it.PET&&(o=this.getPetType(a));const h=this.createRoomObjectUser(t,e,o);return!!h&&(h.processUpdateMessage(new GS(this.fixedUserLocation(t,s),null,i,r,!1,0)),a&&h.processUpdateMessage(new SS(a)),this.events&&this.events.dispatchEvent(new YA(YA.ADDED,t,e,st.UNIT)),!0)}updateRoomObjectUserLocation(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:NaN;const h=this.getRoomObjectUser(t,e);if(!h)return!1;s||(s=h.getLocation()),a||(a=h.getDirection()),isNaN(o)&&(o=h.model.getValue(rt.HEAD_DIRECTION)),h.processUpdateMessage(new GS(this.fixedUserLocation(t,s),this.fixedUserLocation(t,i),a,o,r,n));const _=this._roomSessionManager&&this._roomSessionManager.getSession(t)||null;return _&&_.ownRoomIndex===e&&this._logicFactory.events.dispatchEvent(new ES(ES.ROAME_MOVE_TO,i)),!0}fixedUserLocation(t,e){if(!e)return null;const s=this.getFurnitureStackingHeightMap(t),i=this.getLegacyWallGeometry(t);if(!s||!i)return e;let r=e.z;const n=s.getTileHeight(e.x,e.y),a=i.getHeight(e.x,e.y);return Math.abs(r-n)<.1&&Math.abs(n-a)<.1&&(r=i.getFloorAltitude(e.x,e.y)),new dt(e.x,e.y,r)}updateRoomObjectUserAction(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const n=this.getRoomObjectUser(t,e);if(!n)return!1;let a=null;switch(s){case rt.FIGURE_TALK:a=new TS(i);break;case rt.FIGURE_SLEEP:a=new FS(1===i);break;case rt.FIGURE_IS_TYPING:a=new xS(1===i);break;case rt.FIGURE_IS_MUTED:a=new MS(1===i);break;case rt.FIGURE_CARRY_OBJECT:a=new fS(i,r);break;case rt.FIGURE_USE_OBJECT:a=new HS(i);break;case rt.FIGURE_DANCE:a=new RS(i);break;case rt.FIGURE_GAINED_EXPERIENCE:a=new OS(i);break;case rt.FIGURE_NUMBER_VALUE:a=new US(i);break;case rt.FIGURE_SIGN:a=new wS(i);break;case rt.FIGURE_EXPRESSION:a=new AS(i);break;case rt.FIGURE_IS_PLAYING_GAME:a=new PS(1===i);break;case rt.FIGURE_GUIDE_STATUS:a=new DS(i)}return!!a&&(n.processUpdateMessage(a),!0)}updateRoomObjectUserFigure(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=this.getRoomObjectUser(t,e);return!!a&&(a.processUpdateMessage(new SS(s,i,r,n)),!0)}updateRoomObjectUserFlatControl(t,e,s){const i=this.getRoomObjectUser(t,e);return!!i&&(i.processUpdateMessage(new NS(parseInt(s))),!0)}updateRoomObjectUserEffect(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=this.getRoomObjectUser(t,e);return!!r&&(r.processUpdateMessage(new vS(s,i)),!0)}updateRoomObjectUserGesture(t,e,s){const i=this.getRoomObjectUser(t,e);return!!i&&(i.processUpdateMessage(new yS(s)),!0)}updateRoomObjectUserPetGesture(t,e,s){const i=this.getRoomObjectUser(t,e);return!!i&&(i.processUpdateMessage(new LS(s)),!0)}updateRoomObjectUserPosture(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=this.getRoomObjectUser(t,e);return!!r&&(r.processUpdateMessage(new bS(s,i)),!0)}updateRoomObjectUserOwn(t,e){const s=this.getRoomObjectUser(t,e);s&&s.processUpdateMessage(new CS)}useRoomObject(t,e){const s=this.getRoomObject(this._activeRoomId,t,e);if(s){const t=s.logic;if(t)return t.useObject(),!0}return!1}objectInitialized(t,e,s){const i=this.getRoomIdFromString(t);s===st.WALL&&this.updateRoomObjectMask(i,e);const r=this.getRoomObject(i,e,s);if(r&&r.model&&r.logic){const t=r.model.getValue(rt.FURNITURE_DATA_FORMAT);if(!isNaN(t)){const e=Ia.getData(t);e.initializeFromRoomObjectModel(r.model),r.processUpdateMessage(new VS(r.getState(0),e))}this.events.dispatchEvent(new YA(YA.CONTENT_UPDATED,i,e,s))}t!==qM.TEMPORARY_ROOM&&this.addObjectToTileMap(i,r)}changeObjectModelData(t,e,s,i,r){const n=this.getObject(this.getRoomId(t),e,s);if(!n||!n.logic)return!1;const a=new YS(i,r);return n.processUpdateMessage(a),!0}changeObjectState(t,e,s){const i=this.getObject(this.getRoomId(t),e,s);if(!i||!i.model)return;let r=i.model.getValue(rt.FURNITURE_AUTOMATIC_STATE_INDEX);isNaN(r)?r=1:r+=1,i.model.setValue(rt.FURNITURE_AUTOMATIC_STATE_INDEX,r);const n=i.model.getValue(rt.FURNITURE_DATA_FORMAT),a=Ia.getData(n);a.initializeFromRoomObjectModel(i.model),i.logic&&i.logic.processUpdateMessage(new VS(r,a))}loadRoomObjectBadgeImage(t,e,s,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!this._sessionDataManager)return;let n=null;if(0===t){const t=this._roomManager.getRoomInstance(qM.TEMPORARY_ROOM);t&&(n=t.getRoomObject(e,s))}else n=this.getRoomObjectFloor(t,e);if(!n||!n.logic)return;let a=r?this._sessionDataManager.loadGroupBadgeImage(i):this._sessionDataManager.loadBadgeImage(i);if(a)this.putBadgeInObjectAssets(n,i,r);else{a=\"loading_icon\",this._badgeListenerObjects||(this._badgeListenerObjects=new Map),this._badgeListenerObjects.size||this._sessionDataManager.events.addEventListener(GA.IMAGE_READY,this.onBadgeImageReadyEvent);let t=this._badgeListenerObjects.get(i);t||(t=[]),t.push(new KM(n,r)),this._badgeListenerObjects.set(i,t)}n.logic.processUpdateMessage(new jS(i,a))}onBadgeImageReadyEvent(t){if(!this._sessionDataManager)return;const e=this._badgeListenerObjects&&this._badgeListenerObjects.get(t.badgeId);if(e){for(const s of e){if(!s)continue;this.putBadgeInObjectAssets(s.object,t.badgeId,s.groupBadge);const e=s.groupBadge?this._sessionDataManager.loadGroupBadgeImage(t.badgeId):this._sessionDataManager.loadBadgeImage(t.badgeId);s.object&&s.object.logic&&s.object.logic.processUpdateMessage(new jS(t.badgeId,e))}this._badgeListenerObjects.delete(t.badgeId),this._badgeListenerObjects.size||this._sessionDataManager.events.removeEventListener(GA.IMAGE_READY,this.onBadgeImageReadyEvent)}}putBadgeInObjectAssets(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._roomContentLoader||!this._sessionDataManager)return;const i=s?this._sessionDataManager.loadGroupBadgeImage(e):this._sessionDataManager.loadBadgeImage(e),r=s?this._sessionDataManager.getGroupBadgeImage(e):this._sessionDataManager.getBadgeImage(e);r&&this._roomContentLoader.addAssetToCollection(t.type,i,r,!1)}dispatchMouseEvent(t,e,s,i,r,n,a,o){const h=this.getRoomInstanceRenderingCanvas(this._activeRoomId,t);if(!h)return;const _=this.getRenderingCanvasOverlay(h),d=this.getOverlayIconSprite(_,qM.OBJECT_ICON_SPRITE);if(d){const t=d.getLocalBounds();d.x=e-t.width/2,d.y=s-t.height/2}if(!this.handleRoomDragging(h,e,s,i,r,n,a)&&!h.handleMouseEvent(e,s,i,r,n,a,o)){let t=null;i===ts.MOUSE_CLICK?(this.events&&this.events.dispatchEvent(new YA(YA.DESELECTED,this._activeRoomId,-1,st.MINIMUM)),t=Me.CLICK):i===ts.MOUSE_MOVE?t=Me.MOUSE_MOVE:i===ts.MOUSE_DOWN?t=Me.MOUSE_DOWN:i===ts.MOUSE_DOWN_LONG?t=Me.MOUSE_DOWN_LONG:i===ts.MOUSE_UP&&(t=Me.MOUSE_UP),this._roomObjectEventHandler.handleRoomObjectEvent(new Me(t,this.getRoomObject(this._activeRoomId,qM.ROOM_OBJECT_ID,st.ROOM),null,r),this._activeRoomId)}this._activeRoomActiveCanvas=t,this._activeRoomActiveCanvasMouseX=e,this._activeRoomActiveCanvasMouseY=s}handleRoomDragging(t,e,s,i,r,n,a){let o=e-this._activeRoomActiveCanvasMouseX,h=s-this._activeRoomActiveCanvasMouseY;if(i===ts.MOUSE_DOWN)r||n||a||this.isDecorating||this._roomAllowsDragging&&(this._activeRoomIsDragged=!0,this._activeRoomWasDragged=!1,this._activeRoomDragStartX=this._activeRoomActiveCanvasMouseX,this._activeRoomDragStartY=this._activeRoomActiveCanvasMouseY);else if(i===ts.MOUSE_UP){if(this._activeRoomIsDragged&&(this._activeRoomIsDragged=!1,this._activeRoomWasDragged)){const e=this.getRoomInstanceData(this._activeRoomId);if(e){const s=e.roomCamera;s&&(this.useOffsetScrolling&&(s.isMoving||(s.centeredLocX=!1,s.centeredLocY=!1),s.resetLocation(new dt(-t.screenOffsetX,-t.screenOffsetY))),this._roomDraggingAlwaysCenters&&s.reset())}}}else if(i===ts.MOUSE_MOVE)this._activeRoomIsDragged&&(this._activeRoomWasDragged||(o=e-this._activeRoomDragStartX,h=s-this._activeRoomDragStartY,(o<=-qM.DRAG_THRESHOLD||o>=qM.DRAG_THRESHOLD||h<=-qM.DRAG_THRESHOLD||h>=qM.DRAG_THRESHOLD)&&(this._activeRoomWasDragged=!0),o=0,h=0),0==o&&0==h||(this._activeRoomDragX+=o,this._activeRoomDragY+=h,this._activeRoomWasDragged=!0));else if((i===ts.MOUSE_CLICK||i===ts.DOUBLE_CLICK)&&(this._activeRoomIsDragged=!1,this._activeRoomWasDragged))return this._activeRoomWasDragged=!1,!0;return!1}updateMousePointer(t,e,s){const i=this.getRoomObjectCategoryForType(s);t!==iS.MOUSE_BUTTON?this.setMouseDefault(this._activeRoomId,i,e):this.setMouseButton(this._activeRoomId,i,e)}setMouseButton(t,e,s){if(!this._roomSessionManager)return;const i=this._roomSessionManager.getSession(t);if(i&&(e!==st.FLOOR&&e!==st.WALL||i.controllerLevel>=Hh.GUEST)){const i=this.getRoomInstanceData(t);i&&i.addButtonMouseCursorOwner(e+\"_\"+s)&&(this._mouseCursorUpdate=!0)}}setMouseDefault(t,e,s){if(!this._roomSessionManager)return;const i=this.getRoomInstanceData(t);i&&i.removeButtonMouseCursorOwner(e+\"_\"+s)&&(this._mouseCursorUpdate=!0)}processRoomObjectOperation(t,e,s){if(!this._roomObjectEventHandler)return!1;this._roomObjectEventHandler.modifyRoomObject(this._activeRoomId,t,e,s)}modifyRoomObjectDataWithMap(t,e,s,i){if(!this._roomObjectEventHandler)return!1;e===st.FLOOR&&this._roomObjectEventHandler.modifyRoomObjectDataWithMap(this._activeRoomId,t,e,s,i)}modifyRoomObjectData(t,e,s,i){if(!this._roomObjectEventHandler)return!1;e===st.WALL&&this._roomObjectEventHandler.modifyWallItemData(this._activeRoomId,t,s,i)}processRoomObjectEvent(t){if(!this._roomObjectEventHandler)return;const e=this.getRoomObjectRoomId(t.object);if(!e)return;const s=this.getRoomIdFromString(e);this._roomObjectEventHandler.handleRoomObjectEvent(t,s)}processRoomObjectPlacement(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-1,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;const _=this.getRoomInstance(this._activeRoomId);return!(!_||0!==_.model.getValue($y.ROOM_IS_PUBLIC))&&(!!this._roomObjectEventHandler&&this._roomObjectEventHandler.processRoomObjectPlacement(t,this._activeRoomId,e,s,i,r,n,a,o,h))}getRoomObjectScreenLocation(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;-1==i&&(i=this._activeRoomActiveCanvas);const r=this.getRoomInstanceGeometry(t,i);if(!r)return null;const n=this.getRoomObject(t,e,s);if(!n)return null;const a=r.getScreenPoint(n.getLocation());if(!a)return null;const o=this.getRoomInstanceRenderingCanvas(t,i);return o?(a.x=a.x*o.scale,a.y=a.y*o.scale,a.x+=o.width/2+o.screenOffsetX,a.y+=o.height/2+o.screenOffsetY,a.x=Math.round(a.x),a.y=Math.round(a.y),a):null}selectRoomObject(t,e,s){this._roomObjectEventHandler&&this._roomObjectEventHandler.setSelectedObject(t,e,s)}setSelectedAvatar(t,e){this._roomObjectEventHandler||this._roomObjectEventHandler.setSelectedAvatar(t,e,!0)}cancelRoomObjectInsert(){this._roomObjectEventHandler&&this._roomObjectEventHandler.cancelRoomObjectInsert(this._activeRoomId)}addOverlayIconSprite(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!t||!s)return;let r=this.getOverlayIconSprite(t,e);return r?null:(r=new W(s),r.name=e,r.scale.set(i),t.addChild(r),r)}onRoomContentLoaded(t,e,s){if(!this._roomContentLoader||-1===t)return;this._thumbnailObjectIdBank.freeNumber(t-1);const i=this._thumbnailCallbacks.get(e);if(i){this._thumbnailCallbacks.delete(e);const s=this._roomContentLoader.getImage(e);if(s)for(const e of i)e&&e.imageReady(t,null,s)}}setObjectMoverIconSprite(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=null,_=0,d=null;if(s)d=this.getRoomObjectImage(this._activeRoomId,t,e,new dt,1,null);else if(this._roomContentLoader)if(e===st.FLOOR?(h=this._roomContentLoader.getFurnitureFloorNameForTypeId(t),_=this._roomContentLoader.getFurnitureFloorColorIndex(t)):e===st.WALL&&(h=this._roomContentLoader.getFurnitureWallNameForTypeId(t,i),_=this._roomContentLoader.getFurnitureWallColorIndex(t)),e===st.UNIT)if(h=it.getTypeString(t),\"pet\"===h){h=this.getPetType(i);const t=new wA(i);d=this.getRoomObjectPetImage(t.typeId,t.paletteId,t.color,new dt(180),64,null,!0,0,t.customParts,o)}else d=this.getGenericRoomObjectImage(h,i,new dt(180),64,null,0,null,r,n,a,o);else d=this.getGenericRoomObjectImage(h,_.toString(),new dt,1,null,0,i,r,n,a,o);if(!d||!d.data)return;const u=this.getActiveRoomInstanceRenderingCanvas();if(!u)return;const c=this.getRenderingCanvasOverlay(u);this.removeOverlayIconSprite(c,qM.OBJECT_ICON_SPRITE);const l=this.addOverlayIconSprite(c,qM.OBJECT_ICON_SPRITE,d.data,1);l&&(l.x=this._activeRoomActiveCanvasMouseX-d.data.width/2,l.y=this._activeRoomActiveCanvasMouseY-d.data.height/2)}getRoomObjectImage(t,e,s,i,r,n){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(!this._roomManager)return null;let o=-1,h=null,_=null,d=\"\",u=null;const c=this.getRoomId(t),l=this._roomManager.getRoomInstance(c);if(l){const t=l.getRoomObject(e,s);if(t&&t.model)switch(o=t.id,h=t.type,s){case st.FLOOR:case st.WALL:{d=t.model.getValue(rt.FURNITURE_COLOR).toString(),u=t.model.getValue(rt.FURNITURE_EXTRAS);const e=t.model.getValue(rt.FURNITURE_DATA_FORMAT);e!==la.FORMAT_KEY&&(_=Ia.getData(e),_.initializeFromRoomObjectModel(t.model));break}case st.UNIT:d=t.model.getValue(rt.FIGURE)}}return this.getGenericRoomObjectImage(h,d,i,r,n,a,u,_,-1,-1,null,o)}getFurnitureFloorIconUrl(t){let e=null,s=\"\";return this._roomContentLoader?(e=this._roomContentLoader.getFurnitureFloorNameForTypeId(t),s=this._roomContentLoader.getFurnitureFloorColorIndex(t).toString(),this._roomContentLoader.getAssetIconUrl(e,s)):null}getFurnitureFloorIcon(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.getFurnitureFloorImage(t,new dt,1,e,0,s,-1,-1,i)}getFurnitureWallIconUrl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=null,i=\"\";return this._roomContentLoader?(s=this._roomContentLoader.getFurnitureWallNameForTypeId(t,e),i=this._roomContentLoader.getFurnitureWallColorIndex(t).toString(),this._roomContentLoader.getAssetIconUrl(s,i)):null}getFurnitureWallIcon(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.getFurnitureWallImage(t,new dt,1,e,0,s)}getFurnitureFloorImage(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-1,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,_=null,d=\"\";return this._roomContentLoader&&(_=this._roomContentLoader.getFurnitureFloorNameForTypeId(t),d=this._roomContentLoader.getFurnitureFloorColorIndex(t).toString()),1===s&&i?this.getGenericRoomObjectThumbnail(_,d,i,n,h):this.getGenericRoomObjectImage(_,d,e,s,i,r,n,h,a,o)}getFurnitureWallImage(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-1,h=null,_=\"\";return this._roomContentLoader&&(h=this._roomContentLoader.getFurnitureWallNameForTypeId(t),_=this._roomContentLoader.getFurnitureWallColorIndex(t).toString()),1===s&&i?this.getGenericRoomObjectThumbnail(h,_,i,n,null):this.getGenericRoomObjectImage(h,_,e,s,i,r,n,null,a,o)}getRoomObjectPetImage(t,e,s,i,r,n){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=null,u=t+\" \"+e+\" \"+s.toString(16);if(a&&(u+=\" head\"),h){u=u+\" \"+h.length;for(const t of h)u=u+\" \"+t.layerId+\" \"+t.partId+\" \"+t.paletteId}return this._roomContentLoader&&(d=this._roomContentLoader.getPetNameForType(t)),this.getGenericRoomObjectImage(d,u,i,r,n,o,null,null,-1,-1,_)}getGenericRoomObjectImage(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:-1;if(!this._roomManager)return null;const c=new mS;if(c.id=-1,!this._ready||!t)return c;let l=this._roomManager.getRoomInstance(qM.TEMPORARY_ROOM);if(!l&&(l=this._roomManager.createRoomInstance(qM.TEMPORARY_ROOM),!l))return c;let g=this._imageObjectIdBank.reserveNumber();const E=this.getRoomObjectCategoryForType(t);if(g<0)return c;g++;const p=l.createRoomObjectAndInitalize(g,t,E);if(!p||!p.model||!p.logic)return c;const m=p.model;switch(E){case st.FLOOR:case st.WALL:m.setValue(rt.FURNITURE_COLOR,parseInt(e)),m.setValue(rt.FURNITURE_EXTRAS,a);break;case st.UNIT:if(t===it.USER||t===it.BOT||t===it.RENTABLE_BOT||t===it.PET)m.setValue(rt.FIGURE,e);else{const t=new wA(e);m.setValue(rt.PET_PALETTE_INDEX,t.paletteId),m.setValue(rt.PET_COLOR,t.color),t.headOnly&&m.setValue(rt.PET_HEAD_ONLY,1),t.hasCustomParts&&(m.setValue(rt.PET_CUSTOM_LAYER_IDS,t.customLayerIds),m.setValue(rt.PET_CUSTOM_PARTS_IDS,t.customPartIds),m.setValue(rt.PET_CUSTOM_PALETTE_IDS,t.customPaletteIds)),d&&m.setValue(rt.FIGURE_POSTURE,d)}case st.ROOM:}p.setDirection(s);const I=p.visualization;if(!I)return l.removeRoomObject(g,E),c;(h>-1||o)&&(o&&\"\"!==o.getLegacyString()?p.logic.processUpdateMessage(new VS(parseInt(o.getLegacyString()),o)):p.logic.processUpdateMessage(new VS(h,o)));const f=new ze(i,new dt(-135,30,0),new dt(11,11,5));if(I.update(f,0,!0,!1),_>0){let t=0;for(;t<_;)I.update(f,0,!0,!1),t++}const T=I.getImage(n,u);if(c.data=T,c.id=g,!this.isRoomContentTypeLoaded(t)&&r){let t=this._imageCallbacks.get(g.toString());t||(t=[],this._imageCallbacks.set(g.toString(),t)),t.push(r),m.setValue(rt.IMAGE_QUERY_SCALE,i)}else l.removeRoomObject(g,E),this._imageObjectIdBank.freeNumber(g-1),c.id=0;return f.dispose(),c}getGenericRoomObjectThumbnail(t,e,s){if(!this._roomManager)return null;const i=new mS;if(i.id=-1,!this._ready||!t)return i;let r=this._roomManager.getRoomInstance(qM.TEMPORARY_ROOM);if(!r&&(r=this._roomManager.createRoomInstance(qM.TEMPORARY_ROOM),!r))return i;let n=this._thumbnailObjectIdBank.reserveNumber();this.getRoomObjectCategoryForType(t);if(n<0)return i;n++,i.id=n,i.data=null,i.image=null;const a=[t,e].join(\"_\"),o=this._roomContentLoader.getImage(a);if(!o&&s){let i=this._thumbnailCallbacks.get(a);i||(i=[],this._thumbnailCallbacks.set(a,i),this._roomContentLoader.downloadImage(n,t,e,null)),i.push(s)}else o&&(i.image=o),this._thumbnailObjectIdBank.freeNumber(n-1),i.id=0;return i}initalizeTemporaryObjectsByType(t,e){const s=this._roomManager.getRoomInstance(qM.TEMPORARY_ROOM);if(!s||!this._roomContentLoader)return;const i=this._roomContentLoader.getCategoryForType(t),r=s.getManager(i);let n=null,a=0;if(r&&r.objects.length)for(const o of r.objects.getValues())if(o&&o.model&&o.type===t){const t=o.id,e=o.visualization;let r=null;if(e){const t=o.model.getValue(rt.IMAGE_QUERY_SCALE);n&&a!==t&&(n.dispose(),n=null),n||(a=t,n=new ze(t,new dt(-135,30,0),new dt(11,11,5))),e.update(n,0,!0,!1),r=e.image}s.removeRoomObject(t,i),this._imageObjectIdBank.freeNumber(t-1);const h=this._imageCallbacks.get(t.toString());if(h){this._imageCallbacks.delete(t.toString());for(const e of h)e&&(r?e.imageReady(t,r):e.imageFailed(t))}}n&&n.dispose()}setObjectMoverIconSpriteVisible(t){const e=this.getActiveRoomInstanceRenderingCanvas();if(!e)return;const s=this.getRenderingCanvasOverlay(e),i=this.getOverlayIconSprite(s,qM.OBJECT_ICON_SPRITE);i&&(i.visible=t)}removeObjectMoverIconSprite(){const t=this.getActiveRoomInstanceRenderingCanvas();if(!t)return;const e=this.getRenderingCanvasOverlay(t);this.removeOverlayIconSprite(e,qM.OBJECT_ICON_SPRITE)}getRenderingCanvasOverlay(t){if(!t)return null;const e=t.master;return e&&e.getChildByName(qM.OVERLAY)||null}removeOverlayIconSprite(t,e){if(!t)return!1;let s=t.children.length-1;for(;s>=0;){const i=t.getChildAt(s);if(i&&i.name===e){if(t.removeChildAt(s),i.children.length){const t=i.getChildAt(0);t.parent.removeChild(t),t.destroy()}return!0}s--}return!1}getOverlayIconSprite(t,e){if(!t)return null;let s=t.children.length-1;for(;s>=0;){const i=t.getChildAt(s);if(i&&i.name===e)return i;s--}return null}getRoomObjects(t,e){if(this._ready){const s=this.getRoomId(t),i=this._roomManager.getRoomInstance(s);if(i)return i.getRoomObjectsForCategory(e)}return[]}addObjectToTileMap(t,e){const s=this.getRoomInstanceData(t).tileObjectMap;s&&s.addRoomObject(e)}refreshTileObjectMap(t,e){const s=this.getRoomInstanceData(t).tileObjectMap;s&&s.populate(this.getRoomObjects(t,st.FLOOR))}getRenderRoomMessage(t,e){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,n=null;if(n=r>-1?this.getRoomInstanceRenderingCanvas(this._activeRoomId,r):this.getActiveRoomInstanceRenderingCanvas(),!n)return null;i&&n.skipSpriteVisibilityChecking();let a=-1;s||null==this._roomSessionManager.getSession(this._activeRoomId)||(a=this._roomSessionManager.getSession(this._activeRoomId).ownRoomIndex);const o=new XM,h=o.getFurniData(t,n,this,a),_=o.getRoomRenderingModifiers(this),d=o.getRoomPlanes(t,n,this,e);return i&&n.resumeSpriteVisibilityChecking(),console.log(h,_,d),null}createTextureFromRoom(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;i=e>-1?this.getRoomInstanceRenderingCanvas(this._activeRoomId,e):this.getActiveRoomInstanceRenderingCanvas();let r=null;return r=s?At.generateTexture(i.master,s):i.getDisplayAsTexture(),r}saveTextureAsScreenshot(t){let e=null;e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?new Bm:new xm,e.assignBitmap(t),this._communication.connection.send(e)}saveBase64AsScreenshot(t){let e=null;e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?new Bm:new xm,e.assignBase64(t),this._communication.connection.send(e)}objectsInitialized(t){const e=this.getRoomIdFromString(t);this.events.dispatchEvent(new PA(PA.OBJECTS_INITIALIZED,e))}getRoomId(t){return t.toString()}getRoomIdFromString(t){if(!t)return-1;const e=t.split(\"_\");return e.length<=0?-1:parseInt(e[0])||0}getRoomObjectRoomId(t){return t&&t.model?t.model.getValue(rt.OBJECT_ROOM_ID):null}getRoomObjectAdUrl(t){return this._roomContentLoader.getRoomObjectAdUrl(t)}getPetTypeId(t){let e=-1;if(t){const s=t.split(\" \");s.length>1&&(e=parseInt(s[0]))}return e}getPetType(t){if(!t)return null;const e=t.split(\" \");if(e.length>1){const t=parseInt(e[0]);return this._roomContentLoader?this._roomContentLoader.getPetNameForType(t):\"pet\"}return null}isRoomContentTypeLoaded(t){return!!this._roomContentLoader&&null!==this._roomContentLoader.getCollection(t)}getPetColorResult(t,e){return this._roomContentLoader?this._roomContentLoader.getPetColorResult(t,e):null}getPetColorResultsForTag(t,e){return this._roomContentLoader?this._roomContentLoader.getPetColorResultsForTag(t,e):null}deleteRoomObject(t,e){return!(!this._roomObjectEventHandler||e!==st.WALL)&&this._roomObjectEventHandler.deleteWallItem(this._activeRoomId,t)}get connection(){return this._communication.connection}get sessionDataManager(){return this._sessionDataManager}set sessionDataManager(t){this._sessionDataManager=t}get roomSessionManager(){return this._roomSessionManager}set roomSessionManager(t){this._roomSessionManager=t}get roomManager(){return this._roomManager}set roomManager(t){this._roomManager=t}get objectEventHandler(){return this._roomObjectEventHandler}get roomRendererFactory(){return this._roomRendererFactory}get visualizationFactory(){return this._visualizationFactory}get logicFactory(){return this._logicFactory}get activeRoomId(){return this._activeRoomId}get ready(){return this._ready}get roomContentLoader(){return this._roomContentLoader}get isDecorating(){if(!this._roomSessionManager)return!1;const t=this._roomSessionManager.getSession(this._activeRoomId);return t&&t.isDecorating||!1}get useOffsetScrolling(){return!0}get selectedAvatarId(){return this._roomObjectEventHandler?this._roomObjectEventHandler.selectedAvatarId:-1}getRoomObjectCount(t,e){return null==this._roomManager?0:this._roomManager.getRoomInstance(t.toString()).getRoomObjectsForCategory(e).length}}qM.ROOM_OBJECT_ID=-1,qM.ROOM_OBJECT_TYPE=\"room\",qM.CURSOR_OBJECT_ID=-2,qM.CURSOR_OBJECT_TYPE=\"tile_cursor\",qM.ARROW_OBJECT_ID=-3,qM.ARROW_OBJECT_TYPE=\"selection_arrow\",qM.OVERLAY=\"overlay\",qM.OBJECT_ICON_SPRITE=\"object_icon_sprite\",qM.DRAG_THRESHOLD=15,qM.TEMPORARY_ROOM=\"temporary_room\";class QM{}QM.KICKED_OUT_OF_ROOM=4008,QM.STRIP_LOCKED_FOR_TRADING=-13001;class ZM extends HA{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(t,e),this._message=void 0,this._message=s}get message(){return this._message}}ZM.RSEME_KICKED=\"RSEME_KICKED\",ZM.RSEME_PETS_FORBIDDEN_IN_HOTEL=\"RSEME_PETS_FORBIDDEN_IN_HOTEL\",ZM.RSEME_PETS_FORBIDDEN_IN_FLAT=\"RSEME_PETS_FORBIDDEN_IN_FLAT\",ZM.RSEME_MAX_PETS=\"RSEME_MAX_PETS\",ZM.RSEME_MAX_NUMBER_OF_OWN_PETS=\"RSEME_MAX_NUMBER_OF_OWN_PETS\",ZM.RSEME_NO_FREE_TILES_FOR_PET=\"RSEME_NO_FREE_TILES_FOR_PET\",ZM.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET=\"RSEME_SELECTED_TILE_NOT_FREE_FOR_PET\",ZM.RSEME_BOTS_FORBIDDEN_IN_HOTEL=\"RSEME_BOTS_FORBIDDEN_IN_HOTEL\",ZM.RSEME_BOTS_FORBIDDEN_IN_FLAT=\"RSEME_BOTS_FORBIDDEN_IN_FLAT\",ZM.RSEME_BOT_LIMIT_REACHED=\"RSEME_BOT_LIMIT_REACHED\",ZM.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT=\"RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT\",ZM.RSEME_BOT_NAME_NOT_ACCEPTED=\"RSEME_BOT_NAME_NOT_ACCEPTED\";class JM extends c{constructor(t,e){super(),this._connection=void 0,this._listener=void 0,this._roomId=void 0,this._connection=t,this._listener=e,this._roomId=0}onDispose(){this._connection=null,this._listener=null}setRoomId(t){this._roomId=t}get connection(){return this._connection}get listener(){return this._listener}get roomId(){return this._roomId}}class $M extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new Mc(this.onRoomGenericError.bind(this)))}onRoomGenericError(t){if(!(t instanceof Mc))return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);if(!s)return;let i=null;e.errorCode===QM.KICKED_OUT_OF_ROOM&&(i=ZM.RSEME_KICKED,i&&0!=i.length&&this.listener.events.dispatchEvent(new ZM(i,s)))}}class tC extends HA{constructor(t,e,s){super(t,e),this._id=-1,this._headline=void 0,this._summary=void 0,this._numQuestions=0,this._startMessage=\"\",this._endMessage=\"\",this._questionArray=null,this._npsPoll=!1,this._id=s}get id(){return this._id}get headline(){return this._headline}set headline(t){this._headline=t}get summary(){return this._summary}set summary(t){this._summary=t}get numQuestions(){return this._numQuestions}set numQuestions(t){this._numQuestions=t}get startMessage(){return this._startMessage}set startMessage(t){this._startMessage=t}get endMessage(){return this._endMessage}set endMessage(t){this._endMessage=t}get questionArray(){return this._questionArray}set questionArray(t){this._questionArray=t}get npsPoll(){return this._npsPoll}set npsPoll(t){this._npsPoll=t}}tC.OFFER=\"RSPE_POLL_OFFER\",tC.ERROR=\"RSPE_POLL_ERROR\",tC.CONTENT=\"RSPE_POLL_CONTENT\";class eC extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new _E(this.onPollContentsEvent.bind(this))),t.addMessageEvent(new uE(this.onPollOfferEvent.bind(this))),t.addMessageEvent(new dE(this.onPollErrorEvent.bind(this)))}onPollContentsEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=new tC(tC.CONTENT,e,s.id);i.startMessage=s.startMessage,i.endMessage=s.endMessage,i.numQuestions=s.numQuestions,i.questionArray=s.questionArray,i.npsPoll=s.npsPoll,this.listener.events.dispatchEvent(i)}onPollOfferEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=new tC(tC.OFFER,e,s.id);i.summary=s.headline,i.summary=s.summary,this.listener.events.dispatchEvent(i)}onPollErrorEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;if(!t.getParser())return;const s=new tC(tC.ERROR,e,-1);s.headline=\"???\",s.summary=\"???\",this.listener.events.dispatchEvent(s)}}class sC extends HA{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-1;super(t,e),this._objectId=void 0,this._message=void 0,this._chatType=void 0,this._links=void 0,this._extraParam=void 0,this._style=void 0,this._objectId=s,this._message=i,this._chatType=r,this._links=a,this._extraParam=o,this._style=n}get objectId(){return this._objectId}get message(){return this._message}get chatType(){return this._chatType}get links(){return this._links}get extraParam(){return this._extraParam}get style(){return this._style}}sC.CHAT_EVENT=\"RSCE_CHAT_EVENT\",sC.FLOOD_EVENT=\"RSCE_FLOOD_EVENT\",sC.CHAT_TYPE_SPEAK=0,sC.CHAT_TYPE_WHISPER=1,sC.CHAT_TYPE_SHOUT=2,sC.CHAT_TYPE_RESPECT=3,sC.CHAT_TYPE_PETRESPECT=4,sC.CHAT_TYPE_HAND_ITEM_RECEIVED=5,sC.CHAT_TYPE_PETTREAT=6,sC.CHAT_TYPE_PETREVIVE=7,sC.CHAT_TYPE_PET_REBREED_FERTILIZE=8,sC.CHAT_TYPE_PET_SPEED_FERTILIZE=9,sC.CHAT_TYPE_MUTE_REMAINING=10;class iC extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new Lp(this.onRoomUnitChatEvent.bind(this))),t.addMessageEvent(new Up(this.onRoomUnitChatEvent.bind(this))),t.addMessageEvent(new Pp(this.onRoomUnitChatEvent.bind(this))),t.addMessageEvent(new Hp(this.onRoomUnitHandItemReceivedEvent.bind(this))),t.addMessageEvent(new Am(this.onRespectReceivedEvent.bind(this))),t.addMessageEvent(new RA(this.onPetRespectNoficationEvent.bind(this))),t.addMessageEvent(new vm(this.onPetSupplementedNotificationEvent.bind(this))),t.addMessageEvent(new Mp(this.onFloodControlEvent.bind(this))),t.addMessageEvent(new Cp(this.onRemainingMuteEvent.bind(this)))}onRoomUnitChatEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;let i=sC.CHAT_TYPE_SPEAK;t instanceof Up?i=sC.CHAT_TYPE_SHOUT:t instanceof Pp&&(i=sC.CHAT_TYPE_WHISPER);const r=new sC(sC.CHAT_EVENT,e,s.roomIndex,s.message,i,s.bubble);this.listener.events.dispatchEvent(r)}onRoomUnitHandItemReceivedEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();s&&this.listener.events.dispatchEvent(new sC(sC.CHAT_EVENT,e,s.giverUserId,\"\",sC.CHAT_TYPE_HAND_ITEM_RECEIVED,ND.GENERIC,null,s.handItemType))}onRespectReceivedEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=e.userDataManager.getUserData(s.userId);i&&this.listener.events.dispatchEvent(new sC(sC.CHAT_EVENT,e,i.roomIndex,\"\",sC.CHAT_TYPE_RESPECT,ND.GENERIC))}onPetRespectNoficationEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=e.userDataManager.getPetData(s.petData.id);if(!i)return;let r=sC.CHAT_TYPE_PETRESPECT;s.isTreat&&(r=sC.CHAT_TYPE_PETTREAT),this.listener.events.dispatchEvent(new sC(sC.CHAT_EVENT,e,i.roomIndex,\"\",r,ND.GENERIC))}onPetSupplementedNotificationEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=e.userDataManager.getPetData(s.petId);if(!i)return;let r=-1;const n=e.userDataManager.getUserData(s.userId);n&&(r=n.roomIndex);let a=sC.CHAT_TYPE_PETREVIVE;switch(s.supplementType){case Om.REVIVE:a=sC.CHAT_TYPE_PETREVIVE;break;case Om.REBREED_FERTILIZER:a=sC.CHAT_TYPE_PET_REBREED_FERTILIZE;break;case Om.SPEED_FERTILIZER:a=sC.CHAT_TYPE_PET_SPEED_FERTILIZE}this.listener.events.dispatchEvent(new sC(sC.CHAT_EVENT,e,i.roomIndex,\"\",a,ND.GENERIC,null,r))}onFloodControlEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=s.seconds;this.listener.events.dispatchEvent(new sC(sC.FLOOD_EVENT,e,-1,i.toString(),0,0))}onRemainingMuteEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();s&&this.listener.events.dispatchEvent(new sC(sC.CHAT_EVENT,e,e.ownRoomIndex,\"\",sC.CHAT_TYPE_MUTE_REMAINING,ND.GENERIC,null,s.seconds))}}class rC extends HA{constructor(t,e){super(t,e)}}rC.RSDUE_ALLOW_PETS=\"RSDUE_ALLOW_PETS\";class nC extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new FE(this.onGetGuestRoomResultEvent.bind(this)))}onGetGuestRoomResultEvent(t){if(!(t instanceof FE))return;const e=t.getParser();if(!e)return;if(e.roomForward)return;const s=this.listener.getSession(this.roomId);if(!s)return;const i=e.data;s.tradeMode=i.tradeMode,s.isGuildRoom=0!==i.habboGroupId,s.doorMode=i.doorMode,s.allowPets=i.allowPets,s.moderationSettings=e.moderation,this.listener.events.dispatchEvent(new rC(rC.RSDUE_ALLOW_PETS,s)),this.listener.events.dispatchEvent(new HA(HA.ROOM_DATA,s))}}class aC{constructor(t,e,s,i){this._id=void 0,this._type=void 0,this._color=void 0,this._brightness=void 0,this._id=t,this._type=e,this._color=s,this._brightness=i}get id(){return this._id}get type(){return this._type}get color(){return this._color}get brightness(){return this._brightness}}class oC extends HA{constructor(t,e){super(t,e),this._selectedPresetId=0,this._presets=void 0,this._presets=[]}storePreset(t,e,s,i){this._presets[t-1]=new aC(t,e,s,i)}getPreset(t){return t<0||t>=this._presets.length?null:this._presets[t]}get presetCount(){return this._presets.length}get selectedPresetId(){return this._selectedPresetId}set selectedPresetId(t){this._selectedPresetId=t}}oC.ROOM_DIMMER_PRESETS=\"RSDPE_PRESETS\";class hC extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new _p(this.onRoomDimmerPresets.bind(this)))}onRoomDimmerPresets(t){if(!t)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);if(!s)return;const i=new oC(oC.ROOM_DIMMER_PRESETS,s);i.selectedPresetId=e.selectedPresetId;let r=0;for(;r<e.presetCount;){const t=e.getPreset(r);t&&i.storePreset(t.id,t.type,t.color,t.brightness),r++}this.listener&&this.listener.events.dispatchEvent(i)}}class _C extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new CE(this.onRoomRightsEvent.bind(this))),t.addMessageEvent(new ME(this.onRoomRightsClearEvent.bind(this))),t.addMessageEvent(new LE(this.onRoomRightsOwnerEvent.bind(this)))}onRoomRightsEvent(t){if(!(t instanceof CE))return;const e=this.listener.getSession(this.roomId);e&&e.setControllerLevel(t.getParser().controllerLevel)}onRoomRightsClearEvent(t){if(!(t instanceof ME))return;const e=this.listener.getSession(this.roomId);e&&e.setControllerLevel(Hh.NONE)}onRoomRightsOwnerEvent(t){if(!(t instanceof LE))return;const e=this.listener.getSession(this.roomId);e&&e.setRoomOwner()}}class dC extends HA{constructor(t,e,s,i,r,n,a,o,h){super(t,e),this._classId=0,this._itemType=\"\",this._productCode=void 0,this._placedItemId=0,this._placedItemType=\"\",this._placedInRoom=void 0,this._petFigureString=void 0,this._classId=s,this._itemType=i,this._productCode=r,this._placedItemId=n,this._placedItemType=a,this._placedInRoom=o,this._petFigureString=h}get classId(){return this._classId}get itemType(){return this._itemType}get productCode(){return this._productCode}get placedItemId(){return this._placedItemId}get placedInRoom(){return this._placedInRoom}get placedItemType(){return this._placedItemType}get petFigureString(){return this._petFigureString}}dC.RSPE_PRESENT_OPENED=\"RSPE_PRESENT_OPENED\";class uC extends JM{constructor(t,e){super(t,e),t&&t.addMessageEvent(new Jl(this.onFurnitureGiftOpenedEvent.bind(this)))}onFurnitureGiftOpenedEvent(t){if(!t)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);s&&this.listener&&this.listener.events&&this.listener.events.dispatchEvent(new dC(dC.RSPE_PRESENT_OPENED,s,e.classId,e.itemType,e.productCode,e.placedItemId,e.placedItemType,e.placedInRoom,e.petFigureString))}}class cC extends HA{constructor(t,e,s){super(t,e),this._userName=\"\",this._userName=s}get userName(){return this._userName}}cC.DOORBELL=\"RSDE_DOORBELL\",cC.RSDE_REJECTED=\"RSDE_REJECTED\",cC.RSDE_ACCEPTED=\"RSDE_ACCEPTED\";class lC extends HA{constructor(t,e){super(t,e)}}lC.SPECTATOR_MODE=\"RSSME_SPECTATOR_MODE\";class gC extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new PE(this.onRoomEnterEvent.bind(this))),t.addMessageEvent(new Op(this.onRoomReadyMessageEvent.bind(this))),t.addMessageEvent(new dc(this.onDesktopViewEvent.bind(this))),t.addMessageEvent(new NE(this.onRoomDoorbellAcceptedEvent.bind(this))),t.addMessageEvent(new DE(this.onRoomDoorbellRejectedEvent.bind(this))),t.addMessageEvent(new TA(this.onYouAreSpectatorMessageEvent.bind(this)))}onRoomEnterEvent(t){t instanceof PE&&this.listener&&this.listener.sessionUpdate(this.roomId,gC.RS_CONNECTED)}onRoomReadyMessageEvent(t){if(!(t instanceof Op))return;const e=this.roomId,s=t.getParser().roomId;this.listener&&(this.listener.sessionReinitialize(e,s),this.listener.sessionUpdate(this.roomId,gC.RS_READY))}onDesktopViewEvent(t){t instanceof dc&&this.listener&&this.listener.sessionUpdate(this.roomId,gC.RS_DISCONNECTED)}onRoomDoorbellAcceptedEvent(t){if(!(t instanceof NE)||!this.listener)return;const e=t.getParser();if(!e)return;const s=e.userName;if(s&&s.length){if(this.listener.events){const t=this.listener.getSession(this.roomId);if(!t)return;this.listener.events.dispatchEvent(new cC(cC.RSDE_ACCEPTED,t,s))}}else this.connection.send(new uO(this.roomId))}onRoomDoorbellRejectedEvent(t){if(!(t instanceof DE)||!this.listener)return;const e=t.getParser();if(!e)return;const s=e.userName;if(s&&s.length){if(this.listener.events){const t=this.listener.getSession(this.roomId);if(!t)return;this.listener.events.dispatchEvent(new cC(cC.RSDE_REJECTED,t,s))}}else this.listener.sessionUpdate(this.roomId,gC.RS_DISCONNECTED)}onYouAreSpectatorMessageEvent(t){if(this.listener){const t=this.listener.getSession(this.roomId);if(!t)return;t.isSpectator=!0,this.listener.events.dispatchEvent(new lC(lC.SPECTATOR_MODE,t))}}}gC.RS_CONNECTED=\"RS_CONNECTED\",gC.RS_READY=\"RS_READY\",gC.RS_DISCONNECTED=\"RS_DISCONNECTED\";class EC extends d.a{constructor(t,e){super(EC.MYSTERY_BOX_KEYS_UPDATE),this._boxColor=void 0,this._keyColor=void 0,this._boxColor=t,this._keyColor=e}get boxColor(){return this._boxColor}get keyColor(){return this._keyColor}}EC.MYSTERY_BOX_KEYS_UPDATE=\"mbke_update\";class pC extends d.a{constructor(){super(pC.PERKS_UPDATED)}}pC.PERKS_UPDATED=\"PUE_perks_updated\";class mC extends HA{constructor(t,e,s,i,r,n){super(mC.CONFIRM_PET_BREEDING,t),this._nestId=void 0,this._pet1=void 0,this._pet2=void 0,this._rarityCategories=void 0,this._resultPetTypeId=void 0,this._nestId=e,this._pet1=s,this._pet2=i,this._rarityCategories=r,this._resultPetTypeId=n}get rarityCategories(){return this._rarityCategories}get nestId(){return this._nestId}get pet1(){return this._pet1}get pet2(){return this._pet2}get resultPetTypeId(){return this._resultPetTypeId}}mC.CONFIRM_PET_BREEDING=\"RSPFUE_CONFIRM_PET_BREEDING\";class IC extends HA{constructor(t,e,s){super(IC.RSPFUE_CONFIRM_PET_BREEDING_RESULT,t),this._breedingNestStuffId=void 0,this._result=void 0,this._breedingNestStuffId=e,this._result=s}get breedingNestStuffId(){return this._breedingNestStuffId}get result(){return this._result}}IC.RSPFUE_CONFIRM_PET_BREEDING_RESULT=\"RSPFUE_CONFIRM_PET_BREEDING_RESULT\";class fC extends HA{constructor(t,e,s){super(fC.RSDE_DANCE,t),this._roomIndex=void 0,this._danceId=void 0,this._roomIndex=e,this._danceId=s}get roomIndex(){return this._roomIndex}get danceId(){return this._danceId}}fC.RSDE_DANCE=\"RSDE_DANCE\";class TC extends HA{constructor(t,e,s,i,r){super(TC.FAVOURITE_GROUP_UPDATE,t),this._roomIndex=void 0,this._habboGroupId=void 0,this._habboGroupName=void 0,this._status=void 0,this._roomIndex=e,this._habboGroupId=s,this._habboGroupName=r,this._status=i}get roomIndex(){return this._roomIndex}get habboGroupId(){return this._habboGroupId}get habboGroupName(){return this._habboGroupName}get status(){return this._status}}TC.FAVOURITE_GROUP_UPDATE=\"RSFGUE_FAVOURITE_GROUP_UPDATE\";class RC extends HA{constructor(t,e,s,i){super(RC.RSFRE_FRIEND_REQUEST,t),this._requestId=0,this._userId=0,this._userName=void 0,this._requestId=e,this._userId=s,this._userName=i}get requestId(){return this._requestId}get userId(){return this._userId}get userName(){return this._userName}}RC.RSFRE_FRIEND_REQUEST=\"RSFRE_FRIEND_REQUEST\";class vC extends HA{constructor(t,e,s){super(vC.NEST_BREEDING_SUCCESS,t),this._rarityCategory=void 0,this._petId=void 0,this._petId=e,this._rarityCategory=s}get rarityCategory(){return this._rarityCategory}get petId(){return this._petId}}vC.NEST_BREEDING_SUCCESS=\"RSPFUE_NEST_BREEDING_SUCCESS\";class OC extends HA{constructor(t,e,s,i){super(OC.PET_BREEDING,t),this._state=void 0,this._ownPetId=void 0,this._otherPetId=void 0,this._state=e,this._ownPetId=s,this._otherPetId=i}get state(){return this._state}get ownPetId(){return this._ownPetId}get otherPetId(){return this._otherPetId}}OC.PET_BREEDING=\"RSPFUE_PET_BREEDING\";class AC extends HA{constructor(t,e,s){super(AC.PET_BREEDING_RESULT,t),this._resultData=void 0,this._otherResultData=void 0,this._resultData=e,this._otherResultData=s}get resultData(){return this._resultData}get otherResultData(){return this._otherResultData}}AC.PET_BREEDING_RESULT=\"RSPFUE_PET_BREEDING_RESULT\";class SC extends HA{constructor(t,e,s,i){super(SC.PET_COMMANDS,t),this._petId=void 0,this._allCommandIds=void 0,this._enabledCommandIds=void 0,this._petId=e,this._allCommandIds=s,this._enabledCommandIds=i}get id(){return this._petId}get commands(){return this._allCommandIds}get enabledCommands(){return this._enabledCommandIds}}SC.PET_COMMANDS=\"RSPIUE_ENABLED_PET_COMMANDS\";class NC extends HA{constructor(t,e,s){super(NC.PET_FIGURE_UPDATE,t),this._petId=void 0,this._figure=void 0,this._petId=e,this._figure=s}get id(){return this._petId}get figure(){return this._figure}}NC.PET_FIGURE_UPDATE=\"RSPFUE_PET_FIGURE_UPDATE\";class yC extends HA{constructor(t,e){super(yC.PET_INFO,t),this._petInfo=void 0,this._petInfo=e}get petInfo(){return this._petInfo}}yC.PET_INFO=\"RSPIUE_PET_INFO\";class DC extends HA{constructor(t,e,s){super(DC.PET_LEVEL_UPDATE,t),this._petId=void 0,this._level=void 0,this._petId=e,this._level=s}get petId(){return this._petId}get level(){return this._level}}DC.PET_LEVEL_UPDATE=\"RSPLUE_PET_LEVEL_UPDATE\";class MC extends HA{constructor(t,e,s,i,r,n){super(t,e),this._objectId=-1,this._figureData=void 0,this._nameValidationStatus=0,this._nameValidationInfo=null,this._objectId=s,this._figureData=i,this._nameValidationStatus=r,this._nameValidationInfo=n}get objectId(){return this._objectId}get figureData(){return this._figureData}get nameValidationStatus(){return this._nameValidationStatus}get nameValidationInfo(){return this._nameValidationInfo}}MC.RSOPPE_OPEN_PET_PACKAGE_REQUESTED=\"RSOPPE_OPEN_PET_PACKAGE_REQUESTED\",MC.RSOPPE_OPEN_PET_PACKAGE_RESULT=\"RSOPPE_OPEN_PET_PACKAGE_RESULT\";class CC extends HA{constructor(t,e,s,i,r,n){super(CC.PET_STATUS_UPDATE,t),this._petId=void 0,this._canBreed=void 0,this._canHarvest=void 0,this._canRevive=void 0,this._hasBreedingPermission=void 0,this._petId=e,this._canBreed=s,this._canHarvest=i,this._canRevive=r,this._hasBreedingPermission=n}get petId(){return this._petId}get canBreed(){return this._canBreed}get canHarvest(){return this._canHarvest}get canRevive(){return this._canRevive}get hasBreedingPermission(){return this._hasBreedingPermission}}CC.PET_STATUS_UPDATE=\"RSPFUE_PET_STATUS_UPDATE\";class LC extends HA{constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(LC.QUEUE_STATUS,t),this._name=void 0,this._target=void 0,this._queues=void 0,this._isActive=void 0,this._activeQueue=void 0,this._name=e,this._target=s,this._queues=new Map,this._isActive=i}get isActive(){return this._isActive}get queueSetName(){return this._name}get queueSetTarget(){return this._target}get queueTypes(){return Array.from(this._queues.keys())}getQueueSize(t){return this._queues.get(t)}addQueue(t,e){this._queues.set(t,e)}}LC.QUEUE_STATUS=\"RSQE_QUEUE_STATUS\",LC.QUEUE_TYPE_CLUB=\"c\",LC.QUEUE_TYPE_NORMAL=\"d\",LC.QUEUE_TARGET_VISITOR=2,LC.QUEUE_TARGET_SPECTATOR=1;class UC extends HA{constructor(t,e,s){super(UC.RSUBE_BADGES,t),this._userId=0,this._badges=void 0,this._badges=[],this._userId=e,this._badges=s}get userId(){return this._userId}get badges(){return this._badges}}UC.RSUBE_BADGES=\"RSUBE_BADGES\";class PC extends HA{constructor(t,e){super(PC.USER_DATA_UPDATED,t),this._addedUsers=void 0,this._addedUsers=e}get addedUsers(){return this._addedUsers}}PC.USER_DATA_UPDATED=\"RMUDUE_USER_DATA_UPDATED\";class bC extends HA{constructor(t,e,s,i,r,n){super(bC.USER_FIGURE,t),this._roomIndex=0,this._figure=\"\",this._gender=\"\",this._customInfo=\"\",this._achievementScore=void 0,this._roomIndex=e,this._figure=s,this._gender=i,this._customInfo=r,this._achievementScore=n}get roomIndex(){return this._roomIndex}get figure(){return this._figure}get gender(){return this._gender}get customInfo(){return this._customInfo}get activityPoints(){return this._achievementScore}}bC.USER_FIGURE=\"RSUBE_FIGURE\";class wC extends d.a{constructor(t,e){super(wC.UTRE_USER_TAGS_RECEIVED),this._userId=void 0,this._tags=void 0,this._userId=t,this._tags=e}get userId(){return this._userId}get tags(){return this._tags}}wC.UTRE_USER_TAGS_RECEIVED=\"UTRE_USER_TAGS_RECEIVED\";class FC extends HA{constructor(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;super(t,e),this._question=\"\",this._choices=void 0,this._SafeStr_7651=void 0,this._SafeStr_7654=0,this._choices=[],this._SafeStr_7651=[],this._question=s,this._choices=i,this._SafeStr_7651=r,null==this._SafeStr_7651&&(this._SafeStr_7651=[]),this._SafeStr_7654=n}get question(){return this._question}get choices(){return this._choices.slice()}get _SafeStr_4173(){return this._SafeStr_7651.slice()}get _SafeStr_4174(){return this._SafeStr_7654}}FC.VOTE_QUESTION=\"RSPE_VOTE_QUESTION\",FC.VOTE_RESULT=\"RSPE_VOTE_RESULT\";class xC extends HA{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;super(t,e),this._id=-1,this._pollType=null,this._pollId=-1,this._questionId=-1,this._duration=-1,this._question=null,this._userId=-1,this._value=void 0,this._answerCounts=void 0,this._id=s}get id(){return this._id}get pollType(){return this._pollType}set pollType(t){this._pollType=t}get pollId(){return this._pollId}set pollId(t){this._pollId=t}get questionId(){return this._questionId}set questionId(t){this._questionId=t}get duration(){return this._duration}set duration(t){this._duration=t}get question(){return this._question}set question(t){this._question=t}get userId(){return this._userId}set userId(t){this._userId=t}get value(){return this._value}set value(t){this._value=t}get answerCounts(){return this._answerCounts}set answerCounts(t){this._answerCounts=t}}xC.QUESTION=\"RWPUW_NEW_QUESTION\",xC.FINISHED=\"RWPUW_QUESION_FINSIHED\",xC.ANSWERED=\"RWPUW_QUESTION_ANSWERED\";class BC extends d.a{constructor(t){super(BC.UPDATED),this._uiFlags=void 0,this._uiFlags=t}get uiFlags(){return this._uiFlags}}BC.UPDATED=\"APUE_UPDATED\";class GC extends d.a{constructor(t){super(GC.UNUE_NAME_UPDATED),this._name=void 0,this._name=t}get name(){return this._name}}GC.UNUE_NAME_UPDATED=\"unue_name_updated\";class HC{constructor(){this._id=void 0,this._level=void 0,this._maximumLevel=void 0,this._experience=void 0,this._levelExperienceGoal=void 0,this._energy=void 0,this._maximumEnergy=void 0,this._happyness=void 0,this._maximumHappyness=void 0,this._ownerId=void 0,this._ownerName=void 0,this._respect=void 0,this._age=void 0,this._unknownRarity=void 0,this._saddle=void 0,this._rider=void 0,this._breedable=void 0,this._skillThresholds=void 0,this._publiclyRideable=void 0,this._fullyGrown=void 0,this._dead=void 0,this._maximumTimeToLive=void 0,this._remainingTimeToLive=void 0,this._remainingGrowTime=void 0,this._rarityLevel=void 0,this._publiclyBreedable=void 0,this._adultLevel=7}get id(){return this._id}set id(t){this._id=t}get level(){return this._level}set level(t){this._level=t}get maximumLevel(){return this._maximumLevel}set maximumLevel(t){this._maximumLevel=t}get experience(){return this._experience}set experience(t){this._experience=t}get levelExperienceGoal(){return this._levelExperienceGoal}set levelExperienceGoal(t){this._levelExperienceGoal=t}get energy(){return this._energy}set energy(t){this._energy=t}get maximumEnergy(){return this._maximumEnergy}set maximumEnergy(t){this._maximumEnergy=t}get happyness(){return this._happyness}set happyness(t){this._happyness=t}get maximumHappyness(){return this._maximumHappyness}set maximumHappyness(t){this._maximumHappyness=t}get ownerId(){return this._ownerId}set ownerId(t){this._ownerId=t}get ownerName(){return this._ownerName}set ownerName(t){this._ownerName=t}get respect(){return this._respect}set respect(t){this._respect=t}get age(){return this._age}set age(t){this._age=t}get unknownRarity(){return this._unknownRarity}set unknownRarity(t){this._unknownRarity=t}get saddle(){return this._saddle}set saddle(t){this._saddle=t}get rider(){return this._rider}set rider(t){this._rider=t}get skillTresholds(){return this._skillThresholds}set skillTresholds(t){this._skillThresholds=t}get publiclyRideable(){return this._publiclyRideable}set publiclyRideable(t){this._publiclyRideable=t}get breedable(){return this._breedable}set breedable(t){this._breedable=t}get fullyGrown(){return this._fullyGrown}set fullyGrown(t){this._fullyGrown=t}get dead(){return this._dead}set dead(t){this._dead=t}get rarityLevel(){return this._rarityLevel}set rarityLevel(t){this._rarityLevel=t}get maximumTimeToLive(){return this._maximumTimeToLive}set maximumTimeToLive(t){this._maximumTimeToLive=t}get remainingTimeToLive(){return this._remainingTimeToLive}set remainingTimeToLive(t){this._remainingTimeToLive=t}get remainingGrowTime(){return this._remainingGrowTime}set remainingGrowTime(t){this._remainingGrowTime=t}get publiclyBreedable(){return this._publiclyBreedable}set publiclyBreedable(t){this._publiclyBreedable=t}get adultLevel(){return this._adultLevel}}class VC{constructor(t){this._roomIndex=-1,this._name=\"\",this._type=0,this._sex=\"\",this._figure=\"\",this._custom=\"\",this._activityPoints=void 0,this._webID=0,this._groupID=0,this._groupStatus=0,this._groupName=\"\",this._ownerId=0,this._ownerName=\"\",this._petLevel=0,this._rarityLevel=0,this._hasSaddle=void 0,this._isRiding=void 0,this._canBreed=void 0,this._canHarvest=void 0,this._canRevive=void 0,this._hasBreedingPermission=void 0,this._botSkills=void 0,this._isModerator=void 0,this._roomIndex=t}get roomIndex(){return this._roomIndex}get activityPoints(){return this._activityPoints}set activityPoints(t){this._activityPoints=t}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}set type(t){this._type=t}get sex(){return this._sex}set sex(t){this._sex=t}get figure(){return this._figure}set figure(t){this._figure=t}get custom(){return this._custom}set custom(t){this._custom=t}get webID(){return this._webID}set webID(t){this._webID=t}get groupId(){return this._groupID}set groupId(t){this._groupID=t}get groupName(){return this._groupName}set groupName(t){this._groupName=t}get groupStatus(){return this._groupStatus}set groupStatus(t){this._groupStatus=t}get ownerId(){return this._ownerId}set ownerId(t){this._ownerId=t}get ownerName(){return this._ownerName}set ownerName(t){this._ownerName=t}get rarityLevel(){return this._rarityLevel}set rarityLevel(t){this._rarityLevel=t}get hasSaddle(){return this._hasSaddle}set hasSaddle(t){this._hasSaddle=t}get isRiding(){return this._isRiding}set isRiding(t){this._isRiding=t}get canBreed(){return this._canBreed}set canBreed(t){this._canBreed=t}get canHarvest(){return this._canHarvest}set canHarvest(t){this._canHarvest=t}get canRevive(){return this._canRevive}set canRevive(t){this._canRevive=t}get hasBreedingPermission(){return this._hasBreedingPermission}set hasBreedingPermission(t){this._hasBreedingPermission=t}get petLevel(){return this._petLevel}set petLevel(t){this._petLevel=t}get botSkills(){return this._botSkills}set botSkills(t){this._botSkills=t}get isModerator(){return this._isModerator}set isModerator(t){this._isModerator=t}}class jC extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new xp(this.onRoomUnitEvent.bind(this))),t.addMessageEvent(new jp(this.onRoomUnitInfoEvent.bind(this))),t.addMessageEvent(new zp(this.onRoomUnitRemoveEvent.bind(this))),t.addMessageEvent(new wp(this.onRoomUnitDanceEvent.bind(this))),t.addMessageEvent(new hm(this.onUserCurrentBadgesEvent.bind(this))),t.addMessageEvent(new yE(this.onRoomDoorbellEvent.bind(this))),t.addMessageEvent(new dm(this.onUserNameChangeMessageEvent.bind(this))),t.addMessageEvent(new Sc(this.onNewFriendRequestEvent.bind(this))),t.addMessageEvent(new yp(this.onPetInfoEvent.bind(this))),t.addMessageEvent(new fA(this.onPetStatusUpdateEvent.bind(this))),t.addMessageEvent(new Np(this.onPetFigureUpdateEvent.bind(this))),t.addMessageEvent(new aE(this.onPetPlacingError.bind(this))),t.addMessageEvent(new $g(this.onBotError.bind(this))),t.addMessageEvent(new IA(this.onFavoriteMembershipUpdateMessageEvent.bind(this)))}onRoomUnitEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser().users,i=[];if(s&&s.length)for(const r of s){if(!r)continue;const t=new VC(r.roomIndex);t.name=r.name,t.custom=r.custom,t.activityPoints=r.activityPoints,t.figure=r.figure,t.type=r.userType,t.webID=r.webID,t.groupId=r.groupID,t.groupName=r.groupName,t.groupStatus=r.groupStatus,t.sex=r.sex,t.ownerId=r.ownerId,t.ownerName=r.ownerName,t.rarityLevel=r.rarityLevel,t.hasSaddle=r.hasSaddle,t.isRiding=r.isRiding,t.canBreed=r.canBreed,t.canHarvest=r.canHarvest,t.canRevive=r.canRevive,t.hasBreedingPermission=r.hasBreedingPermission,t.petLevel=r.petLevel,t.botSkills=r.botSkills,t.isModerator=r.isModerator,e.userDataManager.getUserData(r.roomIndex)||i.push(t),e.userDataManager.updateUserData(t)}this.listener.events.dispatchEvent(new PC(e,i))}onRoomUnitInfoEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();s&&(e.userDataManager.updateFigure(s.unitId,s.figure,s.gender,!1,!1),e.userDataManager.updateMotto(s.unitId,s.motto),e.userDataManager.updateAchievementScore(s.unitId,s.achievementScore),this.listener.events.dispatchEvent(new bC(e,s.unitId,s.figure,s.gender,s.motto,s.achievementScore)))}onRoomUnitRemoveEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);e&&e.userDataManager.removeUserData(t.getParser().unitId)}onRoomUnitDanceEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);s&&this.listener.events.dispatchEvent(new fC(s,e.unitId,e.danceId))}onUserCurrentBadgesEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);s&&(s.userDataManager.setUserBadges(e.userId,e.badges),this.listener.events.dispatchEvent(new UC(s,e.userId,e.badges)))}onRoomDoorbellEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=e.userName;if(!s||!s.length)return;const i=this.listener.getSession(this.roomId);i&&this.listener.events.dispatchEvent(new cC(cC.DOORBELL,i,s))}onUserNameChangeMessageEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);s&&s.userDataManager.updateName(e.id,e.newName)}onNewFriendRequestEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);if(!s)return;const i=e.request;this.listener.events.dispatchEvent(new RC(s,i.requestId,i.requesterUserId,i.requesterName))}onPetInfoEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);if(!s)return;const i=new HC;i.id=e.id,i.level=e.level,i.maximumLevel=e.maximumLevel,i.experience=e.experience,i.levelExperienceGoal=e.levelExperienceGoal,i.energy=e.energy,i.maximumEnergy=e.maximumEnergy,i.happyness=e.happyness,i.maximumHappyness=e.maximumHappyness,i.ownerId=e.ownerId,i.ownerName=e.ownerName,i.respect=e.respect,i.age=e.age,i.unknownRarity=e.unknownRarity,i.saddle=e.saddle,i.rider=e.rider,i.breedable=e.breedable,i.fullyGrown=e.fullyGrown,i.rarityLevel=e.rarityLevel,i.dead=e.dead,i.skillTresholds=e.skillTresholds,i.publiclyRideable=e.publiclyRideable,i.maximumTimeToLive=e.maximumTimeToLive,i.remainingTimeToLive=e.remainingTimeToLive,i.remainingGrowTime=e.remainingGrowTime,i.publiclyBreedable=e.publiclyBreedable,this.listener.events.dispatchEvent(new yC(s,i))}onPetStatusUpdateEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);s&&(s.userDataManager.updatePetBreedingStatus(e.roomIndex,e.canBreed,e.canHarvest,e.canRevive,e.hasBreedingPermission),this.listener.events.dispatchEvent(new CC(s,e.petId,e.canBreed,e.canHarvest,e.canRevive,e.hasBreedingPermission)))}onPetFigureUpdateEvent(t){if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);if(!s)return;const i=e.figureData.figuredata;s.userDataManager.updateFigure(e.roomIndex,i,\"\",e.hasSaddle,e.isRiding),this.listener.events.dispatchEvent(new NC(s,e.petId,i))}onPetPlacingError(t){if(!t)return;if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);if(!s)return;let i=null;switch(e.errorCode){case 0:i=ZM.RSEME_PETS_FORBIDDEN_IN_HOTEL;break;case 1:i=ZM.RSEME_PETS_FORBIDDEN_IN_FLAT;break;case 2:i=ZM.RSEME_MAX_PETS;break;case 3:i=ZM.RSEME_NO_FREE_TILES_FOR_PET;break;case 4:i=ZM.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET;break;case 5:i=ZM.RSEME_MAX_NUMBER_OF_OWN_PETS}i&&0!=i.length&&this.listener.events.dispatchEvent(new ZM(i,s))}onBotError(t){if(!t)return;if(!this.listener)return;const e=t.getParser();if(!e)return;const s=this.listener.getSession(this.roomId);if(!s)return;let i=null;switch(e.errorCode){case 0:i=ZM.RSEME_BOTS_FORBIDDEN_IN_HOTEL;break;case 1:i=ZM.RSEME_BOTS_FORBIDDEN_IN_FLAT;break;case 2:i=ZM.RSEME_BOT_LIMIT_REACHED;break;case 3:i=ZM.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT;break;case 4:i=ZM.RSEME_BOT_NAME_NOT_ACCEPTED}i&&0!=i.length&&this.listener.events.dispatchEvent(new ZM(i,s))}onFavoriteMembershipUpdateMessageEvent(t){if(!this.listener)return;const e=t.getParser(),s=this.listener.getSession(this.roomId);if(!s)return;const i=s.userDataManager.getUserDataByIndex(e.roomIndex);i&&(i.groupId=e.groupId,i.groupName=e.groupName,this.listener.events.dispatchEvent(new TC(s,e.roomIndex,e.groupId,e.status,e.groupName)))}}class kC extends JM{constructor(t,e){super(t,e),t.addMessageEvent(new lE(this.onQuestionEvent.bind(this))),t.addMessageEvent(new cE(this.onQuestionAnsweredEvent.bind(this))),t.addMessageEvent(new gE(this.onQuestionFinishedEvent.bind(this)))}onQuestionEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=new xC(xC.QUESTION,e,s.pollId);i.question=s.question,i.duration=s.duration,i.pollType=s.pollType,i.questionId=s.questionId,i.pollId=s.pollId,this.listener.events.dispatchEvent(i)}onQuestionAnsweredEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=new xC(xC.ANSWERED,e,s.userId);i.value=s.value,i.userId=s.userId,i.answerCounts=s.answerCounts,this.listener.events.dispatchEvent(i)}onQuestionFinishedEvent(t){if(!this.listener)return;const e=this.listener.getSession(this.roomId);if(!e)return;const s=t.getParser();if(!s)return;const i=new xC(xC.FINISHED,e);i.questionId=s.questionId,i.answerCounts=s.answerCounts,this.listener.events.dispatchEvent(i)}}class zC{static getLocalizationKey(t){switch(t){case zC.FREE_TRADING:return\"${trading.mode.free}\";case zC.ROOM_CONTROLLER_REQUIRED:return\"${trading.mode.controller}\";case zC.NO_TRADING:return\"${trading.mode.not.allowed}\"}return\"\"}}zC.NO_TRADING=0,zC.ROOM_CONTROLLER_REQUIRED=1,zC.FREE_TRADING=2;class YC extends c{constructor(){super(),this._connection=void 0,this._userDataByType=void 0,this._userDataByRoomIndex=void 0,this._userBadges=void 0,this._connection=null,this._userDataByType=new Map,this._userDataByRoomIndex=new Map,this._userBadges=new Map}onDispose(){this._connection=null}setConnection(t){this._connection=t}getUserData(t){return this.getDataByType(t,YC.TYPE_USER)}getPetData(t){return this.getDataByType(t,YC.TYPE_PET)}getBotData(t){return this.getDataByType(t,YC.TYPE_BOT)}getRentableBotData(t){return this.getDataByType(t,YC.TYPE_RENTABLE_BOT)}getDataByType(t,e){const s=this._userDataByType.get(e);if(!s)return null;const i=s.get(t);return i||null}getUserDataByIndex(t){const e=this._userDataByRoomIndex.get(t);return e||null}getUserDataByName(t){for(const e of this._userDataByRoomIndex.values())if(e&&e.name===t)return e;return null}updateUserData(t){if(!t)return;this.removeUserData(t.roomIndex);let e=this._userDataByType.get(t.type);e||(e=new Map,this._userDataByType.set(t.type,e)),e.set(t.webID,t),this._userDataByRoomIndex.set(t.roomIndex,t)}removeUserData(t){const e=this.getUserDataByIndex(t);if(!e)return;this._userDataByRoomIndex.delete(t);const s=this._userDataByType.get(e.type);s&&s.delete(e.webID)}getUserBadges(t){this._connection&&this._connection.send(new QO(t));const e=this._userBadges.get(t);return e||[]}setUserBadges(t,e){this._userBadges.set(t,e)}updateFigure(t,e,s,i,r){const n=this.getUserDataByIndex(t);n&&(n.figure=e,n.sex=s,n.hasSaddle=i,n.isRiding=r)}updateName(t,e){const s=this.getUserDataByIndex(t);s&&(s.name=e)}updateMotto(t,e){const s=this.getUserDataByIndex(t);s&&(s.custom=e)}updateAchievementScore(t,e){const s=this.getUserDataByIndex(t);s&&(s.activityPoints=e)}updatePetLevel(t,e){const s=this.getUserDataByIndex(t);s&&(s.petLevel=e)}updatePetBreedingStatus(t,e,s,i,r){const n=this.getUserDataByIndex(t);n&&(n.canBreed=e,n.canHarvest=s,n.canRevive=i,n.hasBreedingPermission=r)}requestPetInfo(t){if(!this._connection)return;this.getPetData(t)&&this._connection.send(new CR(t))}get connection(){return this._connection}}YC.TYPE_USER=1,YC.TYPE_PET=2,YC.TYPE_BOT=3,YC.TYPE_RENTABLE_BOT=4;class WC extends c{constructor(){super(),this._connection=void 0,this._userData=void 0,this._roomId=void 0,this._password=void 0,this._state=void 0,this._tradeMode=void 0,this._doorMode=void 0,this._allowPets=void 0,this._controllerLevel=void 0,this._ownRoomIndex=void 0,this._isGuildRoom=void 0,this._isRoomOwner=void 0,this._isDecorating=void 0,this._isSpectator=void 0,this._moderationSettings=void 0,this._connection=null,this._userData=new YC,this._roomId=0,this._password=null,this._state=HA.CREATED,this._tradeMode=zC.NO_TRADING,this._doorMode=0,this._controllerLevel=Hh.NONE,this._ownRoomIndex=-1,this._isGuildRoom=!1,this._isRoomOwner=!1,this._isDecorating=!1,this._isSpectator=!1,this._moderationSettings=null}onDispose(){this._userData&&(this._userData.dispose(),this._userData=null),this._connection=null}setConnection(t){!this._connection&&t&&(this._connection=t,this._userData&&this._userData.setConnection(t))}setControllerLevel(t){t>=Hh.NONE&&t<=Hh.MODERATOR?this._controllerLevel=t:this._controllerLevel=Hh.NONE}setOwnRoomIndex(t){this._ownRoomIndex=t}setRoomOwner(){this._isRoomOwner=!0}start(){return!(this._state!==HA.CREATED||!this._connection)&&(this._state=HA.STARTED,this.enterRoom())}enterRoom(){return!!this._connection&&(this._connection.send(new tv(this._roomId,this._password)),!0)}reset(t){t!==this._roomId&&(this._roomId=t)}sendChatMessage(t,e){this._connection.send(new cO(t,e))}sendShoutMessage(t,e){this._connection.send(new lO(t,e))}sendWhisperMessage(t,e,s){this._connection.send(new EO(t,e,s))}sendChatTypingMessage(t){t?this._connection.send(new pO):this._connection.send(new mO)}sendMottoMessage(t){this._connection.send(new $O(t))}sendDanceMessage(t){this._connection.send(new fO(t))}sendExpressionMessage(t){this._connection.send(new IO(t))}sendSignMessage(t){t<0||t>17||this._connection.send(new SO(t))}sendPostureMessage(t){this._connection.send(new AO(t))}sendDoorbellApprovalMessage(t,e){this._connection.send(new $R(t,e))}sendAmbassadorAlertMessage(t){this._connection.send(new sv(t))}sendKickMessage(t){this._connection.send(new av(t))}sendMuteMessage(t,e){this._connection.send(new hv(t,e,this._roomId))}sendBanMessage(t,e){this._connection.send(new iv(t,this._roomId,e))}sendGiveRightsMessage(t){this._connection.send(new nv(t))}sendTakeRightsMessage(t){this._connection.send(new dv(t))}sendPollStartMessage(t){this._connection.send(new FR(t))}sendPollRejectMessage(t){this._connection.send(new wR(t))}sendPollAnswerMessage(t,e,s){this._connection.send(new bR(t,e,s))}updateMoodlightData(t,e,s,i,r){let n=\"000000\"+s.toString(16).toUpperCase();n=\"#\"+n.substring(n.length-6),this.connection.send(new Uv(t,e,n,i,r))}toggleMoodlightState(){this.connection.send(new Pv)}pickupPet(t){this._connection&&this._connection.send(new yv(t))}pickupBot(t){this._connection&&this._connection.send(new fv(t))}requestMoodlightSettings(){this._connection&&this._connection.send(new Lv)}openGift(t){this._connection.send(new $v(t))}mountPet(t){this._connection.send(new NR(t,!0))}dismountPet(t){this._connection.send(new NR(t,!1))}usePetProduct(t,e){this._connection.send(new PR(t,e))}removePetSaddle(t){this._connection.send(new MR(t))}togglePetBreeding(t){this._connection.send(new LR(t))}togglePetRiding(t){this._connection.send(new UR(t))}useMultistateItem(t){this._connection.send(new Wv(t))}harvestPet(t){this._connection.send(new Av(t))}compostPlant(t){this._connection.send(new vv(t))}get connection(){return this._connection}get userDataManager(){return this._userData}get roomId(){return this._roomId}set roomId(t){this._roomId=t}get password(){return this._password}set password(t){this._password=t}get state(){return this._state}get _Str_7411(){return!0}get tradeMode(){return this._tradeMode}set tradeMode(t){this._tradeMode=t}get doorMode(){return this._doorMode}set doorMode(t){this._doorMode=t}get allowPets(){return this._allowPets}set allowPets(t){this._allowPets=t}get controllerLevel(){return this._controllerLevel}get ownRoomIndex(){return this._ownRoomIndex}get isGuildRoom(){return this._isGuildRoom}set isGuildRoom(t){this._isGuildRoom=t}get isRoomOwner(){return this._isRoomOwner}get isDecorating(){return this._isDecorating}set isDecorating(t){this._isDecorating=t}get isSpectator(){return this._isSpectator}set isSpectator(t){this._isSpectator=t}get moderationSettings(){return this._moderationSettings}set moderationSettings(t){this._moderationSettings=t}}class KC extends y{constructor(t,e){super(),this._communication=void 0,this._roomEngine=void 0,this._handlers=void 0,this._sessions=void 0,this._pendingSession=void 0,this._sessionStarting=void 0,this._viewerSession=void 0,this._communication=t,this._roomEngine=e,this._handlers=[],this._sessions=new Map,this._pendingSession=null,this._sessionStarting=!1,this._viewerSession=null,this.onRoomEngineEvent=this.onRoomEngineEvent.bind(this)}onInit(){this.createHandlers(),this.processPendingSession(),this._roomEngine.events.addEventListener(PA.ENGINE_INITIALIZED,this.onRoomEngineEvent)}onDispose(){this._roomEngine.events.removeEventListener(PA.ENGINE_INITIALIZED,this.onRoomEngineEvent),super.onDispose()}createHandlers(){const t=this._communication&&this._communication.connection;t&&this._handlers.push(new iC(t,this),new nC(t,this),new hC(t,this),new _C(t,this),new gC(t,this),new jC(t,this),new uC(t,this),new $M(t,this),new kC(t,this),new eC(t,this))}setHandlers(t){if(this._handlers&&this._handlers.length)for(const e of this._handlers)e&&e.setRoomId(t.roomId)}onRoomEngineEvent(t){this.processPendingSession()}processPendingSession(){this._pendingSession&&this._roomEngine.ready&&(this.addSession(this._pendingSession),this._pendingSession=null)}getSession(t){const e=this._sessions.get(this.getRoomId(t));return e||null}createSession(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=new WC;return s.roomId=t,s.password=e,this.addSession(s)}addSession(t){return this._roomEngine.ready?(this._sessionStarting=!0,this._sessions.get(this.getRoomId(t.roomId))&&this.removeSession(t.roomId,!1),t.setConnection(this._communication.connection),this._sessions.set(this.getRoomId(t.roomId),t),this.events.dispatchEvent(new HA(HA.CREATED,t)),this._viewerSession=t,this.startSession(this._viewerSession),!0):(this._pendingSession=t,!1)}startSession(t){return t.state!==HA.STARTED&&(this._sessionStarting=!1,t.start()?(this.events.dispatchEvent(new HA(HA.STARTED,t)),this.setHandlers(t),!0):(this.removeSession(t.roomId),!1))}removeSession(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=this.getSession(t);s&&(this._sessions.delete(this.getRoomId(t)),this.events.dispatchEvent(new HA(HA.ENDED,s,e)),s.dispose())}sessionUpdate(t,e){if(this.getSession(t))switch(e){case gC.RS_CONNECTED:case gC.RS_READY:return;case gC.RS_DISCONNECTED:return void this.removeSession(t)}}sessionReinitialize(t,e){const s=this.getSession(t);s&&(this._sessions.delete(this.getRoomId(t)),s.reset(e),this._sessions.set(this.getRoomId(e),s),this.setHandlers(s))}getRoomId(t){return\"hard_coded_room_id\"}get communication(){return this._communication}get roomEngine(){return this._roomEngine}get viewerSession(){return this._viewerSession}}class XC extends d.a{constructor(){super(XC.SETTINGS_UPDATED),this._volumeSystem=void 0,this._volumeFurni=void 0,this._volumeTrax=void 0,this._oldChat=void 0,this._roomInvites=void 0,this._cameraFollow=void 0,this._flags=void 0,this._chatType=void 0}clone(){const t=new XC;return t._volumeSystem=this._volumeSystem,t._volumeFurni=this._volumeFurni,t._volumeTrax=this._volumeTrax,t._oldChat=this._oldChat,t._roomInvites=this._roomInvites,t._cameraFollow=this._cameraFollow,t._flags=this._flags,t._chatType=this._chatType,t}get volumeSystem(){return this._volumeSystem}set volumeSystem(t){this._volumeSystem=t}get volumeFurni(){return this._volumeFurni}set volumeFurni(t){this._volumeFurni=t}get volumeTrax(){return this._volumeTrax}set volumeTrax(t){this._volumeTrax=t}get oldChat(){return this._oldChat}set oldChat(t){this._oldChat=t}get roomInvites(){return this._roomInvites}set roomInvites(t){this._roomInvites=t}get cameraFollow(){return this._cameraFollow}set cameraFollow(t){this._cameraFollow=t}get flags(){return this._flags}set flags(t){this._flags=t}get chatType(){return this._chatType}set chatType(t){this._chatType=t}}XC.SETTINGS_UPDATED=\"NSE_SETTINGS_UPDATED\";class qC{constructor(t,e){this._image=void 0,this._placeHolder=void 0,this._image=t,this._placeHolder=e}get image(){return this._image}get placeHolder(){return this._placeHolder}}class QC{constructor(t){this._code=void 0,this._parts=void 0,this._code=t,this._parts=[]}get code(){return this._code}get parts(){return this._parts}}class ZC{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.type=void 0,this.key=void 0,this.color=void 0,this.position=void 0,this.type=t,this.key=e,this.color=s,this.position=i}get code(){return 0===this.key?null:ZC.getCode(this.type,this.key,this.color,this.position)}static getCode(t,e,s,i){return(t===ZC.BASE?t:e>=100?ZC.SYMBOL_ALT:ZC.SYMBOL)+(e<10?\"0\":\"\")+(t===ZC.BASE?e:e>=100?e-100:e)+(s<10?\"0\":\"\")+s+i}calculatePosition(t){const e=this.calculateGridPos(this.position);let s=ZC.CELL_WIDTH*e.x+ZC.CELL_WIDTH/2-t.width/2,i=ZC.CELL_HEIGHT*e.y+ZC.CELL_HEIGHT/2-t.height/2;return s<0&&(s=0),s+t.width>ZC.IMAGE_WIDTH&&(s=ZC.IMAGE_WIDTH-t.width),i<0&&(i=0),i+t.height>ZC.IMAGE_HEIGHT&&(i=ZC.IMAGE_HEIGHT-t.height),new k(Math.floor(s),Math.floor(i))}calculateGridPos(t){const e=new k;return e.x=Math.floor(t%3),e.y=Math.floor(t/3),e}}ZC.BASE=\"b\",ZC.SYMBOL=\"s\",ZC.SYMBOL_ALT=\"t\",ZC.BASE_PART=0,ZC.LAYER_PART=1,ZC.IMAGE_WIDTH=39,ZC.IMAGE_HEIGHT=39,ZC.CELL_WIDTH=13,ZC.CELL_HEIGHT=13;class JC{constructor(t,e){this._assets=void 0,this._sessionDataManager=void 0,this._messages=void 0,this._groupBases=void 0,this._groupSymbols=void 0,this._groupPartColors=void 0,this._requestedBadges=void 0,this._groupBadgesQueue=void 0,this._readyToGenerateGroupBadges=void 0,this._assets=t,this._sessionDataManager=e,this._groupBases=new Map,this._groupSymbols=new Map,this._groupPartColors=new Map,this._requestedBadges=new Map,this._groupBadgesQueue=new Map,this._readyToGenerateGroupBadges=!1}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new Cc(this.onGroupBadgePartsEvent.bind(this))];for(const t of this._messages)this._sessionDataManager.communication.registerMessageEvent(t)}}dispose(){if(this._messages&&this._messages.length){for(const t of this._messages)this._sessionDataManager.communication.removeMessageEvent(t);this._messages=null}this._sessionDataManager=null}getBadgeImage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JC.NORMAL_BADGE,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getBadgeTexture(t,e);return!i&&s&&(i=this.getBadgePlaceholder()),i}getBadgeInfo(t){const e=this.getBadgeTexture(t);return e?new qC(e,!1):new qC(this.getBadgePlaceholder(),!0)}loadBadgeImage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JC.NORMAL_BADGE;return this._assets.getTexture(this.getBadgeUrl(t,e))?t:(this.getBadgeTexture(t,e),null)}getBadgeTexture(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JC.NORMAL_BADGE;const s=this.getBadgeUrl(t,e);if(!s||!s.length)return null;const i=this._assets.getTexture(s);if(i)return i.clone();if(e===JC.NORMAL_BADGE){if(this._requestedBadges.get(t))return null;this._requestedBadges.set(t,!0),this._assets.downloadAsset(s,(e=>{if(e){this._requestedBadges.delete(t);const e=this._assets.getTexture(s);e&&this._sessionDataManager&&this._sessionDataManager.events.dispatchEvent(new GA(t,e.clone()))}}))}else if(e===JC.GROUP_BADGE){if(this._groupBadgesQueue.get(t))return;this._groupBadgesQueue.set(t,!0),this._readyToGenerateGroupBadges&&this.loadGroupBadge(t)}return null}getBadgePlaceholder(){const t=lL.instance.getConfiguration(\"images.url\")+\"/loading_icon.png\",e=this._assets.getTexture(t);return e?e.clone():null}getBadgeUrl(t){let e=null;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JC.NORMAL_BADGE){case JC.NORMAL_BADGE:e=lL.instance.getConfiguration(\"badge.asset.url\").replace(\"%badgename%\",t);break;case JC.GROUP_BADGE:e=t}return e}loadGroupBadge(t){const e=new QC(t),s=[...t.matchAll(/[b|s][0-9]{4,6}/g)];for(const i of s){const t=i[0],s=6===t.length,r=t[0],n=parseInt(t.slice(1,s?3:4)),a=parseInt(t.slice(s?3:4,s?5:6)),o=t.length<6?0:parseInt(t.slice(s?5:6,s?6:7)),h=new ZC(r,n,a,o);e.parts.push(h)}this.renderGroupBadge(e)}renderGroupBadge(t){const e=new H,s=new W(K.EMPTY);s.width=ZC.IMAGE_WIDTH,s.height=ZC.IMAGE_HEIGHT,e.addChild(s);for(const r of t.parts){let t=!0;const s=\"b\"===r.type?this._groupBases.get(r.key):this._groupSymbols.get(r.key);if(s)for(const i of s){if(!i||!i.length)continue;const s=this._assets.getTexture(`badgepart_${i}`);if(!s)continue;const{x:n,y:a}=r.calculatePosition(s),o=new W(s);o.position.set(n,a),t&&(o.tint=parseInt(this._groupPartColors.get(r.color),16)),t=!1,e.addChild(o)}}this._requestedBadges.delete(t.code),this._groupBadgesQueue.delete(t.code);const i=At.generateTexture(e);this._assets.setTexture(t.code,i),this._sessionDataManager&&this._sessionDataManager.events.dispatchEvent(new GA(t.code,i))}onGroupBadgePartsEvent(t){if(!t)return;const e=t.getParser();if(e){e.bases.forEach(((t,e)=>this._groupBases.set(e,t.map((t=>t.replace(\".png\",\"\").replace(\".gif\",\"\")))))),e.symbols.forEach(((t,e)=>this._groupSymbols.set(e,t.map((t=>t.replace(\".png\",\"\").replace(\".gif\",\"\")))))),this._groupPartColors=e.partColors,this._readyToGenerateGroupBadges=!0;for(const t of this._groupBadgesQueue.keys())this.loadGroupBadge(t)}}get disposed(){return!!this._sessionDataManager}}JC.GROUP_BADGE=\"group_badge\",JC.NORMAL_BADGE=\"normal_badge\";class $C{}$C.OLD_IDENTITY=0,$C.NEW_IDENTITY=1,$C.REAL_NOOB=2;class tL{}tL.SUPER_USER=9,tL.ADMINISTRATOR=8,tL.COMMUNITY=7,tL.PLAYER_SUPPORT=6,tL.MODERATOR=5,tL.EMPLOYEE=4,tL.BUS_PARTNER=3,tL.PARTNER=2,tL.CELEBRITY=1,tL.NONE=0;class eL{constructor(t,e,s,i,r,n,a,o,h,_,d,u,c,l,g,E,p,m,I,f,T,R,v,O,A,S,N,y,D){this._type=void 0,this._id=void 0,this._className=void 0,this._fullName=void 0,this._category=void 0,this._hasIndexedColor=void 0,this._colourIndex=void 0,this._revision=void 0,this._tileSizeX=void 0,this._tileSizeY=void 0,this._tileSizeZ=void 0,this._colors=void 0,this._localizedName=void 0,this._description=void 0,this._adUrl=void 0,this._purchaseOfferId=void 0,this._rentOfferId=void 0,this._customParams=void 0,this._specialType=void 0,this._purchaseCouldBeUsedForBuyout=void 0,this._rentCouldBeUsedForBuyout=void 0,this._availableForBuildersClub=void 0,this._canStandOn=void 0,this._canSitOn=void 0,this._canLayOn=void 0,this._excludedFromDynamic=void 0,this._furniLine=void 0,this._environment=void 0,this._rare=void 0,this._type=t,this._id=e,this._fullName=s,this._className=i,this._category=r,this._revision=o,this._tileSizeX=h,this._tileSizeY=_,this._tileSizeZ=d,this._colors=u,this._hasIndexedColor=c,this._colourIndex=l,this._localizedName=n,this._description=a,this._adUrl=g,this._purchaseOfferId=E,this._purchaseCouldBeUsedForBuyout=p,this._rentOfferId=m,this._rentCouldBeUsedForBuyout=I,this._customParams=T,this._specialType=R,this._availableForBuildersClub=f,this._canStandOn=v,this._canSitOn=O,this._canLayOn=A,this._excludedFromDynamic=S,this._furniLine=N,this._environment=y,this._rare=D}get type(){return this._type}get id(){return this._id}get className(){return this._className}set className(t){this._className=t}get fullName(){return this._fullName}get category(){return this._category}get hasIndexedColor(){return this._hasIndexedColor}get colorIndex(){return this._colourIndex}get revision(){return this._revision}get tileSizeX(){return this._tileSizeX}get tileSizeY(){return this._tileSizeY}get tileSizeZ(){return this._tileSizeZ}get colors(){return this._colors}get name(){return this._localizedName}get description(){return this._description}get adUrl(){return this._adUrl}get purchaseOfferId(){return this._purchaseOfferId}get customParams(){return this._customParams}get specialType(){return this._specialType}get rentOfferId(){return this._rentOfferId}get purchaseCouldBeUsedForBuyout(){return this._purchaseCouldBeUsedForBuyout}get rentCouldBeUsedForBuyout(){return this._rentCouldBeUsedForBuyout}get availableForBuildersClub(){return this._availableForBuildersClub}get canStandOn(){return this._canStandOn}get canSitOn(){return this._canSitOn}get canLayOn(){return this._canLayOn}get isExternalImage(){return!(-1===this._className.indexOf(\"external_image\"))}get excludeDynamic(){return this._excludedFromDynamic}get furniLine(){return this._furniLine}get environment(){return this._environment}get rare(){return this._rare}}class sL extends g{constructor(t,e,s){super(),this._floorItems=void 0,this._wallItems=void 0,this._localization=void 0,this._nitroLogger=void 0,this._floorItems=t,this._wallItems=e,this._localization=s,this._nitroLogger=new l(this.constructor.name)}loadFurnitureData(t){t&&fetch(t).then((t=>t.json())).then((t=>this.onFurnitureDataLoaded(t))).catch((t=>this.onFurnitureDataError(t)))}onFurnitureDataLoaded(t){t&&(\"undefined\"!=typeof t.roomitemtypes&&\"undefined\"!=typeof t.wallitemtypes||this._nitroLogger.warn(\"Could not find `roomitemtypes` or `wallitemtypes` in furnidata.\"),t.roomitemtypes&&this.parseFloorItems(t.roomitemtypes),t.wallitemtypes&&this.parseWallItems(t.wallitemtypes),this.dispatchEvent(new d.a(sL.FURNITURE_DATA_READY)))}onFurnitureDataError(t){t&&(console.error(t),this.dispatchEvent(new d.a(sL.FURNITURE_DATA_ERROR)))}parseFloorItems(t){if(t&&t.furnitype)for(const e of t.furnitype){if(!e)continue;const t=[];if(e.partcolors)for(const o of e.partcolors.color){let e=o;\"#\"===e.charAt(0)?(e=e.replace(\"#\",\"\"),t.push(parseInt(e,16))):t.push(parseInt(e,16))}const s=e.classname.split(\"*\"),i=s[0],r=s.length>1?parseInt(s[1]):0,n=s.length>1,a=new eL(et.FLOOR,e.id,e.classname,i,e.category,e.name,e.description,e.revision,e.xdim,e.ydim,0,t,n,r,e.adurl,e.offerid,e.buyout,e.rentofferid,e.rentbuyout,e.bc,e.customparams,e.specialtype,e.canstandon,e.cansiton,e.canlayon,e.excludeddynamic,e.furniline,e.environment,e.rare);this._floorItems.set(a.id,a),this.updateLocalizations(a)}}parseWallItems(t){if(t&&t.furnitype)for(const e of t.furnitype){if(!e)continue;const t=new eL(et.WALL,e.id,e.classname,e.classname,e.category,e.name,e.description,e.revision,0,0,0,null,!1,0,e.adurl,e.offerid,e.buyout,e.rentofferid,e.rentbuyout,e.bc,null,e.specialtype,!1,!1,!1,e.excludeddynamic,e.furniline,e.environment,e.rare);this._wallItems.set(t.id,t),this.updateLocalizations(t)}}updateLocalizations(t){if(this._localization)switch(t.type){case et.FLOOR:return this._localization.setValue(\"roomItem.name.\"+t.id,t.name),void this._localization.setValue(\"roomItem.desc.\"+t.id,t.description);case et.WALL:return this._localization.setValue(\"wallItem.name.\"+t.id,t.name),void this._localization.setValue(\"wallItem.desc.\"+t.id,t.description)}}}sL.FURNITURE_DATA_READY=\"FDP_FURNITURE_DATA_READY\",sL.FURNITURE_DATA_ERROR=\"FDP_FURNITURE_DATA_ERROR\";class iL{constructor(t){this._sessionDataManager=void 0,this._groupBadges=void 0,this._messages=void 0,this._sessionDataManager=t,this._groupBadges=new Map}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new Op(this.onRoomReadyMessageEvent.bind(this)),new Em(this.onGroupBadgesEvent.bind(this))];for(const t of this._messages)this._sessionDataManager.communication.registerMessageEvent(t)}}dispose(){if(!this.disposed){if(this._messages&&this._messages.length){for(const t of this._messages)this._sessionDataManager.communication.removeMessageEvent(t);this._messages=null}this._groupBadges=null,this._sessionDataManager=null}}onRoomReadyMessageEvent(t){this._sessionDataManager.send(new sA)}onGroupBadgesEvent(t){const e=t.getParser();for(const[s,i]of e.badges.entries())this._groupBadges.set(s,i)}getGroupBadge(t){return this._groupBadges.get(t)}get disposed(){return!!this._sessionDataManager}}class rL{constructor(t){this._sessionDataManager=void 0,this._ignoredUsers=void 0,this._messages=void 0,this._sessionDataManager=t,this._ignoredUsers=[]}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new pm(this.onIgnoredUsersEvent.bind(this)),new mm(this.onIgnoreResultEvent.bind(this))];for(const t of this._messages)this._sessionDataManager.communication.registerMessageEvent(t)}}dispose(){if(!this.disposed){if(this._messages&&this._messages.length){for(const t of this._messages)this._sessionDataManager.communication.removeMessageEvent(t);this._messages=null}this._sessionDataManager=null}}requestIgnoredUsers(){this._sessionDataManager.send(new WO(this._sessionDataManager.userName))}onIgnoredUsersEvent(t){if(!t)return;const e=t.getParser();e&&(this._ignoredUsers=e.ignoredUsers)}onIgnoreResultEvent(t){if(!t)return;const e=t.getParser();if(!e)return;const s=e.name;switch(e.result){case 0:return;case 1:return void this.addUserToIgnoreList(s);case 2:return this.addUserToIgnoreList(s),void this._ignoredUsers.shift();case 3:return void this.removeUserFromIgnoreList(s)}}addUserToIgnoreList(t){this._ignoredUsers.indexOf(t)<0&&this._ignoredUsers.push(t)}removeUserFromIgnoreList(t){const e=this._ignoredUsers.indexOf(t);e>=0&&this._ignoredUsers.splice(e,1)}ignoreUserId(t){this._sessionDataManager.send(new XO(t))}ignoreUser(t){this._sessionDataManager.send(new KO(t))}unignoreUser(t){this._sessionDataManager.send(new qO(t))}isIgnored(t){return this._ignoredUsers.indexOf(t)>=0}get disposed(){return!!this._sessionDataManager}}class nL{constructor(t,e,s){this._type=void 0,this._name=void 0,this._description=void 0,this._type=t,this._name=e,this._description=s}get type(){return this._type}get name(){return this._name}get description(){return this._description}}class aL extends g{constructor(t){super(),this._products=void 0,this._products=t}dispose(){this._products=null}loadProductData(t){t&&fetch(t).then((t=>t.json())).then((t=>this.onProductDataLoadedEvent(t))).catch((t=>this.onProductDataError(t)))}onProductDataLoadedEvent(t){t&&(this.parseProducts(t.productdata),this.dispatchEvent(new d.a(aL.PDP_PRODUCT_DATA_READY)))}onProductDataError(t){t&&this.dispatchEvent(new d.a(aL.PDP_PRODUCT_DATA_FAILED))}parseProducts(t){if(t)for(const e of t.product)e&&this._products.set(e.code,new nL(e.code,e.name,e.description))}}aL.PDP_PRODUCT_DATA_READY=\"PDP_PRODUCT_DATA_READY\",aL.PDP_PRODUCT_DATA_FAILED=\"PDP_PRODUCT_DATA_FAILED\";class oL extends y{constructor(t){super(),this._communication=void 0,this._userId=void 0,this._name=void 0,this._figure=void 0,this._gender=void 0,this._realName=void 0,this._respectsReceived=void 0,this._respectsLeft=void 0,this._respectsPetLeft=void 0,this._canChangeName=void 0,this._ignoredUsersManager=void 0,this._groupInformationManager=void 0,this._clubLevel=void 0,this._securityLevel=void 0,this._isAmbassador=void 0,this._noobnessLevel=void 0,this._systemOpen=void 0,this._systemShutdown=void 0,this._isAuthenticHabbo=void 0,this._isRoomCameraFollowDisabled=void 0,this._chatStyle=void 0,this._uiFlags=void 0,this._floorItems=void 0,this._wallItems=void 0,this._products=void 0,this._furnitureData=void 0,this._productData=void 0,this._furnitureReady=void 0,this._productsReady=void 0,this._furnitureListenersNotified=void 0,this._pendingFurnitureListeners=void 0,this._pendingProductListeners=void 0,this._badgeImageManager=void 0,this._communication=t,this.resetUserInfo(),this._ignoredUsersManager=new rL(this),this._groupInformationManager=new iL(this),this._clubLevel=0,this._securityLevel=0,this._isAmbassador=!1,this._noobnessLevel=-1,this._systemOpen=!1,this._systemShutdown=!1,this._isAuthenticHabbo=!1,this._isRoomCameraFollowDisabled=!1,this._chatStyle=0,this._uiFlags=0,this._floorItems=new Map,this._wallItems=new Map,this._products=new Map,this._furnitureData=null,this._furnitureReady=!1,this._productsReady=!1,this._furnitureListenersNotified=!1,this._pendingFurnitureListeners=[],this._pendingProductListeners=[],this._badgeImageManager=null,this.onFurnitureDataReadyEvent=this.onFurnitureDataReadyEvent.bind(this),this.onProductDataReadyEvent=this.onProductDataReadyEvent.bind(this),this.onNitroSettingsEvent=this.onNitroSettingsEvent.bind(this)}onInit(){this.loadFurnitureData(),this.loadProductData(),this.loadBadgeImageManager(),this._ignoredUsersManager&&this._ignoredUsersManager.init(),this._groupInformationManager&&this._groupInformationManager.init(),this._communication.registerMessageEvent(new lu(this.onUserFigureEvent.bind(this))),this._communication.registerMessageEvent(new _m(this.onUserInfoEvent.bind(this))),this._communication.registerMessageEvent(new nm(this.onUserPermissionsEvent.bind(this))),this._communication.registerMessageEvent(new nu(this.onAvailabilityStatusMessageEvent.bind(this))),this._communication.registerMessageEvent(new uu(this.onChangeNameUpdateEvent.bind(this))),this._communication.registerMessageEvent(new dm(this.onUserNameChangeMessageEvent.bind(this))),this._communication.registerMessageEvent(new Op(this.onRoomModelNameEvent.bind(this))),this._communication.registerMessageEvent(new Im(this.onInClientLinkEvent.bind(this))),this._communication.registerMessageEvent(new Bg(this.onMysteryBoxKeysEvent.bind(this))),this._communication.registerMessageEvent(new al(this.onNoobnessLevelMessageEvent.bind(this))),lL.instance.events.addEventListener(XC.SETTINGS_UPDATED,this.onNitroSettingsEvent)}onDispose(){this.destroyFurnitureData(),this._ignoredUsersManager&&(this._ignoredUsersManager.dispose(),this._ignoredUsersManager=null),this._groupInformationManager&&(this._groupInformationManager.dispose(),this._groupInformationManager=null),lL.instance.events.removeEventListener(XC.SETTINGS_UPDATED,this.onNitroSettingsEvent),super.onDispose()}resetUserInfo(){this._userId=0,this._name=null,this._figure=null,this._gender=null,this._realName=null,this._canChangeName=!1}loadFurnitureData(){this.destroyFurnitureData(),this._furnitureData=new sL(this._floorItems,this._wallItems,lL.instance.localization),this._furnitureData.addEventListener(sL.FURNITURE_DATA_READY,this.onFurnitureDataReadyEvent),this._furnitureData.loadFurnitureData(lL.instance.getConfiguration(\"furnidata.url\"))}loadProductData(){this.destroyProductData(),this._productData=new aL(this._products),this._productData.addEventListener(aL.PDP_PRODUCT_DATA_READY,this.onProductDataReadyEvent),this._productData.loadProductData(lL.instance.getConfiguration(\"productdata.url\"))}loadBadgeImageManager(){this._badgeImageManager||(this._badgeImageManager=new JC(lL.instance.core.asset,this),this._badgeImageManager.init())}hasProductData(t){return!!this._productsReady||(t&&-1===this._pendingProductListeners.indexOf(t)&&this._pendingProductListeners.push(t),!1)}getAllFurnitureData(t){if(!this._furnitureReady)return-1===this._pendingFurnitureListeners.indexOf(t)&&this._pendingFurnitureListeners.push(t),null;const e=[];for(const s of this._floorItems.values())s&&e.push(s);for(const s of this._wallItems.values())s&&e.push(s);return e}removePendingFurniDataListener(t){if(!this._pendingFurnitureListeners)return;const e=this._pendingFurnitureListeners.indexOf(t);-1!==e&&this._pendingFurnitureListeners.splice(e,1)}onUserFigureEvent(t){t&&t.connection&&(this._figure=t.getParser().figure,this._gender=t.getParser().gender,fM.updateFigure(this._figure))}onUserInfoEvent(t){if(!t||!t.connection)return;this.resetUserInfo();const e=t.getParser().userInfo;e&&(this._userId=e.userId,this._name=e.username,this._figure=e.figure,this._gender=e.gender,this._realName=e.realName,this._respectsReceived=e.respectsReceived,this._respectsLeft=e.respectsRemaining,this._respectsPetLeft=e.respectsPetRemaining,this._canChangeName=e.canChangeName,this._ignoredUsersManager&&this._ignoredUsersManager.requestIgnoredUsers())}onUserPermissionsEvent(t){t&&t.connection&&(this._clubLevel=t.getParser().clubLevel,this._securityLevel=t.getParser().securityLevel,this._isAmbassador=t.getParser().isAmbassador)}onAvailabilityStatusMessageEvent(t){if(!t||!t.connection)return;const e=t.getParser();e&&(this._systemOpen=e.isOpen,this._systemShutdown=e.onShutdown,this._isAuthenticHabbo=e.isAuthenticUser)}onChangeNameUpdateEvent(t){if(!t||!t.connection)return;const e=t.getParser();e&&e.resultCode===uu.NAME_OK&&(this._canChangeName=!1,this.events.dispatchEvent(new GC(e.name)))}onUserNameChangeMessageEvent(t){if(!t||!t.connection)return;const e=t.getParser();e&&e.webId===this.userId&&(this._name=e.newName,this._canChangeName=!1,this.events.dispatchEvent(new GC(this._name)))}onRoomModelNameEvent(t){if(!t)return;const e=t.getParser();e&&fM.roomVisited(e.roomId)}onFurnitureDataReadyEvent(t){if(this._furnitureData.removeEventListener(sL.FURNITURE_DATA_READY,this.onFurnitureDataReadyEvent),this._furnitureReady=!0,!this._furnitureListenersNotified&&(this._furnitureListenersNotified=!0,this._pendingFurnitureListeners&&this._pendingFurnitureListeners.length))for(const e of this._pendingFurnitureListeners)e&&e.loadFurnitureData();this._pendingProductListeners=[]}onProductDataReadyEvent(t){this._productData.removeEventListener(aL.PDP_PRODUCT_DATA_READY,this.onProductDataReadyEvent),this._productsReady=!0;for(const e of this._pendingProductListeners)e&&e.loadProductData();this._pendingProductListeners=[]}onInClientLinkEvent(t){if(!t)return;const e=t.getParser();e&&lL.instance.createLinkEvent(e.link)}onMysteryBoxKeysEvent(t){if(!t)return;const e=t.getParser();e&&this.events.dispatchEvent(new EC(e.boxColor,e.keyColor))}onNoobnessLevelMessageEvent(t){this._noobnessLevel=t.getParser().noobnessLevel,this._noobnessLevel!==$C.OLD_IDENTITY&&lL.instance.core.configuration.setValue(\"new.identity\",1)}onNitroSettingsEvent(t){this._isRoomCameraFollowDisabled=t.cameraFollow,this._chatStyle=t.chatType,this._uiFlags=t.flags,this.events.dispatchEvent(new BC(this._uiFlags))}destroyFurnitureData(){this._furnitureData&&(this._furnitureData.dispose(),this._furnitureData=null)}destroyProductData(){this._productData&&(this._productData.dispose(),this._productData=null)}getFloorItemData(t){const e=this._floorItems.get(t);return e||null}getFloorItemDataByName(t){if(!t||!this._floorItems||!this._floorItems.size)return null;for(const e of this._floorItems.values())if(e&&e.className===t)return e}getWallItemData(t){const e=this._wallItems.get(t);return e||null}getWallItemDataByName(t){if(!t||!this._wallItems||!this._wallItems.size)return null;for(const e of this._wallItems.values())if(e&&e.className===t)return e}getProductData(t){return this._productsReady||this.loadProductData(),this._products.get(t)}getBadgeUrl(t){return this._badgeImageManager.getBadgeUrl(t)}getGroupBadgeUrl(t){return this._badgeImageManager.getBadgeUrl(t,JC.GROUP_BADGE)}getBadgeImage(t){return this._badgeImageManager.getBadgeImage(t)}getGroupBadgeImage(t){return this._badgeImageManager.getBadgeImage(t,JC.GROUP_BADGE)}loadBadgeImage(t){return this._badgeImageManager.loadBadgeImage(t)}loadGroupBadgeImage(t){return this._badgeImageManager.loadBadgeImage(t,JC.GROUP_BADGE)}hasSecurity(t){return this._securityLevel>=t}giveRespect(t){t<0||this._respectsLeft<=0||(this.send(new dA(t)),this._respectsLeft--)}givePetRespect(t){t<0||this._respectsPetLeft<=0||(this.send(new yR(t)),this._respectsPetLeft--)}sendSpecialCommandMessage(t){this.send(new cO(t))}sendChatStyleUpdate(t){this._chatStyle=t,this.send(new gO(t))}ignoreUser(t){this._ignoredUsersManager&&this._ignoredUsersManager.ignoreUser(t)}unignoreUser(t){this._ignoredUsersManager&&this._ignoredUsersManager.unignoreUser(t)}isUserIgnored(t){return this._ignoredUsersManager&&this._ignoredUsersManager.isIgnored(t)}getGroupBadge(t){return this._groupInformationManager&&this._groupInformationManager.getGroupBadge(t)}send(t){this._communication.connection.send(t)}get communication(){return this._communication}get userId(){return this._userId}get userName(){return this._name}get figure(){return this._figure}get gender(){return this._gender}get realName(){return this._realName}get ignoredUsersManager(){return this._ignoredUsersManager}get groupInformationManager(){return this._groupInformationManager}get respectsReceived(){return this._respectsReceived}get respectsLeft(){return this._respectsLeft}get respectsPetLeft(){return this._respectsPetLeft}get canChangeName(){return this._canChangeName}get clubLevel(){return this._clubLevel}get securityLevel(){return this._securityLevel}get isAmbassador(){return this._isAmbassador}get isNoob(){return this._noobnessLevel!==$C.OLD_IDENTITY}get isRealNoob(){return this._noobnessLevel===$C.REAL_NOOB}get isSystemOpen(){return this._systemOpen}get isSystemShutdown(){return this._systemShutdown}get isAuthenticHabbo(){return this._isAuthenticHabbo}get isModerator(){return this._securityLevel>=tL.MODERATOR}get isCameraFollowDisabled(){return this._isRoomCameraFollowDisabled}get chatStyle(){return this._chatStyle}get uiFlags(){return this._uiFlags}}var hL=s(35);class _L extends d.a{constructor(t){super(t)}}_L.TRAX_SONG_COMPLETE=\"SME_TRAX_SONG_COMPLETE\";class dL{}dL.PRIORITY_ROOM_PLAYLIST=0,dL.PRIORITY_USER_PLAYLIST=1,dL.PRIORITY_SONG_PLAY=2,dL.PRIORITY_PURCHASE_PREVIEW=3,dL.PRIORITY_COUNT=4;class uL extends y{constructor(){super(),this._timerInstance=void 0,this._songRequestList=void 0,this._requestedSongs=void 0,this._availableSongs=void 0,this._songRequestsPerPriority=void 0,this._currentEntryId=void 0,this._playPosition=void 0,this._isPlaying=void 0,this._timerInstance=null,this._songRequestList=[],this._requestedSongs=new Map,this._availableSongs=new Map,this._songRequestsPerPriority=[],this._currentEntryId=-1,this._playPosition=-1,this._isPlaying=!1,this.onEvent=this.onEvent.bind(this),this._timerInstance=setInterval(this.onTick.bind(this),1e3)}onInit(){lL.instance.communication.connection.addMessageEvent(new Kd(this.onEvent)),lL.instance.communication.connection.addMessageEvent(new Xd(this.onEvent)),lL.instance.communication.connection.addMessageEvent(new Vd(this.onNowPlayingMessageEvent.bind(this))),lL.instance.communication.connection.addMessageEvent(new Hd(this.onEvent)),lL.instance.communication.connection.addMessageEvent(new Gd(this.onEvent)),lL.instance.roomEngine.events.addEventListener(dS.JUKEBOX_INIT,this.onEvent),lL.instance.roomEngine.events.addEventListener(dS.JUKEBOX_DISPOSE,this.onEvent),lL.instance.roomEngine.events.addEventListener(dS.SOUND_MACHINE_INIT,this.onEvent),lL.instance.roomEngine.events.addEventListener(dS.SOUND_MACHINE_DISPOSE,this.onEvent),this.events.addEventListener(_L.TRAX_SONG_COMPLETE,this.onEvent)}onDispose(){this._timerInstance&&(clearInterval(this._timerInstance),this._timerInstance=null),lL.instance.communication.connection.removeMessageEvent(new Kd(this.onEvent)),lL.instance.communication.connection.removeMessageEvent(new Xd(this.onEvent)),lL.instance.communication.connection.removeMessageEvent(new Vd(this.onNowPlayingMessageEvent.bind(this))),lL.instance.communication.connection.removeMessageEvent(new Hd(this.onEvent)),lL.instance.communication.connection.removeMessageEvent(new Gd(this.onEvent)),lL.instance.roomEngine.events.removeEventListener(dS.JUKEBOX_INIT,this.onEvent),lL.instance.roomEngine.events.removeEventListener(dS.JUKEBOX_DISPOSE,this.onEvent),lL.instance.roomEngine.events.removeEventListener(dS.SOUND_MACHINE_INIT,this.onEvent),lL.instance.roomEngine.events.removeEventListener(dS.SOUND_MACHINE_DISPOSE,this.onEvent),this.events.removeEventListener(_L.TRAX_SONG_COMPLETE,this.onEvent)}onEvent(t){}onTraxSongInfoMessageEvent(t){const e=t.getParser();for(const s of e.songs){const t=null!==this._availableSongs.get(s.id);this._requestedSongs.get(s.id);if(!t){const t=new Wd(s.id,s.length,s.name,s.creator,s.data);this._availableSongs.set(s.id,t);const e=this.getTopRequestPriority();this.getSongIdRequestedAtPriority(e)}}}onNowPlayingMessageEvent(t){const e=t.getParser();this._isPlaying=-1!==e.currentSongId,e.currentSongId>=0?this.playSong(e.currentSongId,dL.PRIORITY_ROOM_PLAYLIST,e.syncCount/1e3,0,1,1):this.stopPlaying(),e.nextSongId>=0&&this.requestSong(e.nextSongId,!0),this._playPosition=e.currentPosition}onTick(){0!==this._songRequestList.length&&(lL.instance.communication.connection.send(new xO(...this._songRequestList)),this._songRequestList=[])}requestSong(t,e){null===this._requestedSongs.get(t)&&(this._requestedSongs.set(t,e),this._songRequestList.push(t))}playSong(t,e){}stopPlaying(){this._currentEntryId=-1,this._playPosition=-1,this._isPlaying=!1}getTopRequestPriority(){return this._songRequestsPerPriority.length-1}getSongIdRequestedAtPriority(t){return t<0||t>=dL.PRIORITY_COUNT?-1:this._songRequestsPerPriority[t]?this._songRequestsPerPriority[t].songId:-1}get playPosition(){return this._playPosition}set playPosition(t){this._playPosition=t}}uL.SKIP_POSITION_SET=-1,uL.MAXIMUM_NOTIFY_PRIORITY=dL.PRIORITY_ROOM_PLAYLIST;class cL extends y{constructor(){super(),this._volumeSystem=void 0,this._volumeFurni=void 0,this._volumeTrax=void 0,this._internalSamples=void 0,this._furniSamples=void 0,this._furnitureBeingPlayed=void 0,this._musicManager=void 0,this._volumeSystem=.5,this._volumeFurni=.5,this._volumeTrax=.5,this._internalSamples=new U,this._furniSamples=new U,this._furnitureBeingPlayed=new U,this._musicManager=new uL,this.onEvent=this.onEvent.bind(this)}onInit(){this._musicManager.init(),lL.instance.roomEngine.events.addEventListener(QA.PLAY_SAMPLE,this.onEvent),lL.instance.roomEngine.events.addEventListener(YA.REMOVED,this.onEvent),lL.instance.roomEngine.events.addEventListener(PA.DISPOSED,this.onEvent),lL.instance.events.addEventListener(XC.SETTINGS_UPDATED,this.onEvent),lL.instance.events.addEventListener(hL.a.PLAY_SOUND,this.onEvent)}onDispose(){this._musicManager&&(this._musicManager.dispose(),this._musicManager=null),lL.instance.roomEngine.events.removeEventListener(QA.PLAY_SAMPLE,this.onEvent),lL.instance.roomEngine.events.removeEventListener(YA.REMOVED,this.onEvent),lL.instance.roomEngine.events.removeEventListener(PA.DISPOSED,this.onEvent),lL.instance.events.removeEventListener(XC.SETTINGS_UPDATED,this.onEvent),lL.instance.events.removeEventListener(hL.a.PLAY_SOUND,this.onEvent)}onEvent(t){switch(t.type){case QA.PLAY_SAMPLE:{const e=t;return void this.playFurniSample(e.objectId,e.sampleId,e.pitch)}case YA.REMOVED:{const e=t;return void this.stopFurniSample(e.objectId)}case PA.DISPOSED:return void this._furnitureBeingPlayed.getKeys().forEach((t=>{this.stopFurniSample(t)}));case XC.SETTINGS_UPDATED:{const e=t,s=e.volumeFurni!==this._volumeFurni;return this._volumeSystem=e.volumeSystem/100,this._volumeFurni=e.volumeFurni/100,this._volumeTrax=e.volumeTrax/100,void(s&&this.updateFurniSamplesVolume(this._volumeFurni))}case hL.a.PLAY_SOUND:{const e=t;return void this.playInternalSample(e.sampleCode)}}}playSample(t,e){t.volume=e,t.currentTime=0;try{t.play()}catch(s){console.log(s)}}playInternalSample(t){let e=this._internalSamples.getValue(t);if(!e){const s=lL.instance.getConfiguration(\"sounds.url\");e=new Audio(s.replace(\"%sample%\",t)),this._internalSamples.add(t,e)}this.playSample(e,this._volumeSystem)}playFurniSample(t,e,s){let i=this._furniSamples.getValue(e);if(!i){const t=lL.instance.getConfiguration(\"external.samples.url\");i=new Audio(t.replace(\"%sample%\",e.toString())),this._furniSamples.add(e,i)}this._furnitureBeingPlayed.hasKey(t)||this._furnitureBeingPlayed.add(t,e),i.onended=e=>{this.stopFurniSample(t)},i.onpause=e=>{this.stopFurniSample(t)},i.onerror=e=>{this.stopFurniSample(t)},this.playSample(i,this._volumeFurni,s)}stopInternalSample(t){const e=this._internalSamples.getValue(t);if(e)try{e.pause()}catch(s){console.log(s)}}stopFurniSample(t){const e=this._furnitureBeingPlayed.getValue(t);if(!e)return;const s=this._furniSamples.getValue(e);if(this._furnitureBeingPlayed.remove(t),s)try{s.pause()}catch(i){console.log(i)}}updateInternalSamplesVolume(t){this._internalSamples.getValues().forEach((e=>{e.volume=t}))}updateFurniSamplesVolume(t){this._furniSamples.getValues().forEach((e=>{e.volume=t}))}get musicManager(){return this._musicManager}}AA.available,h.b.SCALE_MODE=window.devicePixelRatio%1?o.p.LINEAR:o.p.NEAREST,h.b.ROUND_PIXELS=!0;class lL extends a.a{constructor(t,e){super(e),this._nitroTimer=void 0,this._worker=void 0,this._core=void 0,this._events=void 0,this._communication=void 0,this._localization=void 0,this._avatar=void 0,this._roomEngine=void 0,this._sessionDataManager=void 0,this._roomSessionManager=void 0,this._roomManager=void 0,this._cameraManager=void 0,this._soundManager=void 0,this._linkTrackers=void 0,this._workerTrackers=void 0,this._isReady=void 0,this._isDisposed=void 0,lL.INSTANCE||(lL.INSTANCE=this),this._nitroTimer=new C,this._worker=null,this._core=t,this._events=new g,this._communication=new OA(t.communication),this._localization=new DA(this._communication),this._avatar=new ye,this._roomEngine=new qM(this._communication),this._sessionDataManager=new oL(this._communication),this._roomSessionManager=new KC(this._communication,this._roomEngine),this._roomManager=new lt(this._roomEngine,this._roomEngine.visualizationFactory,this._roomEngine.logicFactory),this._cameraManager=new _s,this._soundManager=new cL,this._linkTrackers=[],this._workerTrackers=[],this._isReady=!1,this._isDisposed=!1,this._core.configuration.events.addEventListener(u.LOADED,this.onConfigurationLoadedEvent.bind(this)),this._roomEngine.events.addEventListener(PA.ENGINE_INITIALIZED,this.onRoomEngineReady.bind(this)),this._worker&&(this._worker.onmessage=this.createWorkerEvent.bind(this))}static bootstrap(){lL.INSTANCE&&(lL.INSTANCE.dispose(),lL.INSTANCE=null);const t=document.createElement(\"canvas\"),e=new this(new M,{autoDensity:!1,resolution:window.devicePixelRatio,width:window.innerWidth,height:window.innerHeight,view:t});t.addEventListener(\"webglcontextlost\",(()=>e.events.dispatchEvent(new d.a(lL.WEBGL_CONTEXT_LOST))))}init(){if(!this._isReady&&!this._isDisposed){if(this._avatar&&this._avatar.init(),this._soundManager&&this._soundManager.init(),this._roomEngine&&(this._roomEngine.sessionDataManager=this._sessionDataManager,this._roomEngine.roomSessionManager=this._roomSessionManager,this._roomEngine.roomManager=this._roomManager,this._sessionDataManager&&this._sessionDataManager.init(),this._roomSessionManager&&this._roomSessionManager.init(),this._roomEngine.init()),!this._communication.connection)throw new Error(\"No connection found\");new SA(this._communication.connection),this._isReady=!0}}dispose(){this._isDisposed||(this._roomManager&&(this._roomManager.dispose(),this._roomManager=null),this._roomSessionManager&&(this._roomSessionManager.dispose(),this._roomSessionManager=null),this._sessionDataManager&&(this._sessionDataManager.dispose(),this._sessionDataManager=null),this._roomEngine&&(this._roomEngine.dispose(),this._roomEngine=null),this._avatar&&(this._avatar.dispose(),this._avatar=null),this._soundManager&&(this._soundManager.dispose(),this._soundManager=null),this._communication&&(this._communication.dispose(),this._communication=null),super.destroy(),this._isDisposed=!0,this._isReady=!1)}onConfigurationLoadedEvent(t){const e=this.getConfiguration(\"system.animation.fps\",24);this.getConfiguration(\"system.limits.fps\",!0)&&(lL.instance.ticker.maxFPS=e)}onRoomEngineReady(t){this.startSendingHeartBeat()}getConfiguration(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._core.configuration.getValue(t,e)}getLocalization(t){return this._localization.getValue(t)}getLocalizationWithParameter(t,e,s){return this._localization.getValueWithParameter(t,e,s)}getLocalizationWithParameters(t,e,s){return this._localization.getValueWithParameters(t,e,s)}addWorkerEventTracker(t){this._workerTrackers.indexOf(t)>=0||this._workerTrackers.push(t)}removeWorkerEventTracker(t){const e=this._workerTrackers.indexOf(t);-1!==e&&this._workerTrackers.splice(e,1)}createWorkerEvent(t){if(!t)return;const e=t.data;for(const s of this._workerTrackers)s&&s.workerMessageReceived(e)}sendWorkerEvent(t){t&&this._worker&&this._worker.postMessage(t)}addLinkEventTracker(t){this._linkTrackers.indexOf(t)>=0||this._linkTrackers.push(t)}removeLinkEventTracker(t){const e=this._linkTrackers.indexOf(t);-1!==e&&this._linkTrackers.splice(e,1)}createLinkEvent(t){if(t&&\"\"!==t)for(const e of this._linkTrackers){if(!e)continue;const s=e.eventUrlPrefix;s.length>0?t.substr(0,s.length)===s&&e.linkReceived(t):e.linkReceived(t)}}startSendingHeartBeat(){this.sendHeartBeat(),setInterval(this.sendHeartBeat,1e4)}sendHeartBeat(){fM.sendHeartBeat()}setWorker(t){this._worker=t,this._worker.onmessage=this.createWorkerEvent.bind(this)}get nitroTimer(){return this._nitroTimer}get core(){return this._core}get events(){return this._events}get localization(){return this._localization}get communication(){return this._communication}get avatar(){return this._avatar}get roomEngine(){return this._roomEngine}get sessionDataManager(){return this._sessionDataManager}get roomSessionManager(){return this._roomSessionManager}get roomManager(){return this._roomManager}get cameraManager(){return this._cameraManager}get soundManager(){return this._soundManager}get width(){return this.renderer.width}get height(){return this.renderer.height}get ticker(){return _.a.shared}get time(){return this.ticker.lastTime}get isReady(){return this._isReady}get isDisposed(){return this._isDisposed}static get instance(){return this.INSTANCE||null}}lL.WEBGL_CONTEXT_LOST=\"NE_WEBGL_CONTEXT_LOST\",lL.WEBGL_UNAVAILABLE=\"NE_WEBGL_UNAVAILABLE\",lL.READY=\"NE_READY!\",lL.INSTANCE=null;class gL{constructor(t,e){if(this._referenceCount=void 0,this._referenceTimestamp=void 0,this._name=void 0,this._baseTexture=void 0,this._data=void 0,this._textures=void 0,this._assets=void 0,this._palettes=void 0,this._paletteAssetNames=void 0,!t)throw new Error(\"invalid_collection\");this._name=t.name,this._baseTexture=e&&e.baseTexture||null,this._data=t,this._textures=new Map,this._assets=new Map,this._palettes=new Map,this._paletteAssetNames=[],e&&this.addLibraryAsset(e.textures),this.define(t)}dispose(){if(this._palettes){for(const t of this._palettes.values())t.dispose();this._palettes.clear()}if(this._paletteAssetNames&&(this.disposePaletteAssets(),this._paletteAssetNames=null),this._assets){for(const t of this._assets.values())t.recycle();this._assets.clear()}}addReference(){this._referenceCount++,this._referenceTimestamp=lL.instance.time}removeReference(){this._referenceCount--,this._referenceCount<=0&&(this._referenceCount=0,this._referenceTimestamp=lL.instance.time,this.disposePaletteAssets(!1))}define(t){const e=t.assets,s=t.palettes;e&&this.defineAssets(e),s&&this.definePalettes(s)}defineAssets(t){if(t)for(const e in t){const s=t[e];if(!s)continue;const i=-s.x||0,r=-s.y||0;let n=!1;const a=!1,o=s.usesPalette||!1;let h=s.source||\"\";s.flipH&&h.length&&(n=!0),h.length||(h=e);const _=this.getLibraryAsset(h);if(!_)continue;let d=this.createAsset(e,h,_,n,a,i,r,o);if(!d){const t=this.getAsset(e);t&&t.name!==t.source&&(d=this.replaceAsset(e,h,_,n,a,i,r,o))}}}definePalettes(t){if(t)for(const e in t){const s=t[e];if(!s)continue;const i=s.id.toString();if(this._palettes.get(i))continue;let r=16777215,n=16777215,a=s.color1;a&&a.length>0&&(r=parseInt(a,16)),a=s.color2,a&&a.length>0&&(n=parseInt(a,16)),this._palettes.set(i,new qe(s.rgb,r,n))}}createAsset(t,e,s,i,r,n,a,o){if(this._assets.get(t))return!1;const h=Be.createAsset(t,e,s,n,a,i,r,o);return this._assets.set(t,h),!0}replaceAsset(t,e,s,i,r,n,a,o){const h=this._assets.get(t);return h&&(this._assets.delete(t),h.recycle()),this.createAsset(t,e,s,i,r,n,a,o)}getAsset(t){if(!t)return null;const e=this._assets.get(t);return e||null}getAssetWithPalette(t,e){const s=t+\"@\"+e;let i=this.getAsset(s);if(!i){if(i=this.getAsset(t),!i||!i.usesPalette)return i;const r=this.getPalette(e);if(r){const t=r.applyPalette(i.texture);t&&(this._paletteAssetNames.push(s),this.createAsset(s,i.source+\"@\"+e,t,i.flipH,i.flipV,i.x,i.y,!1),i=this.getAsset(s))}}return i}getTexture(t){return this._textures.get(t)}getPaletteNames(){return Array.from(this._palettes.keys())}getPaletteColors(t){const e=this.getPalette(t);return e?[e.primaryColor,e.secondaryColor]:null}getPalette(t){if(!t)return null;const e=this._palettes.get(t);return e||null}addAsset(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!t||!e)return!1;const o=this.getLibraryAsset(t);return o?!!s&&(o.baseTexture=e.baseTexture,o.frame=e.frame,o.trim=e.trim,o.updateUvs(),!0):(this._textures.set(t,e),this.createAsset(t,t,e,n,a,i,r,!1))}disposeAsset(t){const e=this._assets.get(t);if(!e)return;this._assets.delete(t);const s=this.getLibraryAsset(e.source);s&&(this._textures.delete(e.source),s.destroy(!0)),e.recycle()}getLibraryAsset(t){if(!t)return null;t=this._name+\"_\"+t;const e=this._textures.get(t);return e||null}addLibraryAsset(t){if(t)for(const e in t){const s=t[e];s&&this._textures.set(EL.removeFileExtension(e),s)}}disposePaletteAssets(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this._paletteAssetNames&&(t||this._paletteAssetNames.length>gL.PALETTE_ASSET_DISPOSE_THRESHOLD)){for(const t of this._paletteAssetNames)this.disposeAsset(t);this._paletteAssetNames=[]}}get referenceCount(){return this._referenceCount}get referenceTimestamp(){return this._referenceTimestamp}get name(){return this._name}get baseTexture(){return this._baseTexture}get data(){return this._data}get textures(){return this._textures}get assets(){return this._assets}}gL.PALETTE_ASSET_DISPOSE_THRESHOLD=10;class EL extends c{constructor(){super(),this._logger=void 0,this._textures=void 0,this._collections=void 0,this._logger=new l(this.constructor.name),this._textures=new Map,this._collections=new Map}static removeFileExtension(t){return t.substring(0,t.lastIndexOf(\".\"))||t}getTexture(t){if(!t)return null;const e=this._textures.get(t);return e||null}setTexture(t,e){t&&e&&this._textures.set(t,e)}getAsset(t){if(!t)return null;for(const e of this._collections.values()){if(!e)continue;const s=e.getAsset(t);if(s)return s}return null}getCollection(t){if(!t)return null;const e=this._collections.get(t);return e||null}createCollection(t,e){if(!t)return null;const s=new gL(t,e);if(s){for(const[t,e]of s.textures.entries())this.setTexture(t,e);this._collections.set(s.name,s)}return s}downloadAsset(t,e){this.downloadAssets([t],e)}downloadAssets(t,e){if(!t||!t.length)return void e(!0);const s=new r.b;for(const i of t)i&&s.add({url:i,crossOrigin:\"anonymous\",loadType:r.c.LOAD_TYPE.XHR,xhrType:r.c.XHR_RESPONSE_TYPE.BUFFER});let n=t.length;const a=(t,i)=>t?(n--,n?void 0:(s.destroy(),void e(!0))):(this._logger.error(\"Failed to download asset: \"+i),s.destroy(),void e(!1));s.load(((t,e)=>{for(const s in e){const t=e[s];if(!t||t.error||!t.xhr)return void a(!1,t.url);const r=t.xhr.getResponseHeader(\"Content-Type\")||\"application/octet-stream\";if(\"application/octet-stream\"!==r)if(\"image/png\"!==r&&\"image/gif\"!==r)a(!1,t.url);else{const e=P(t.data),s=new i.c(`data:${r};base64,${e}`);if(s.valid){const e=new i.t(s);this.setTexture(t.name,e),a(!0,t.url)}else s.once(\"update\",(()=>{const e=new i.t(s);this.setTexture(t.name,e),a(!0,t.url)}))}else{const e=new J(t.data);this.processAsset(e.baseTexture,e.jsonFile,(e=>{a(e,t.url)}))}}}))}processAsset(t,e,s){const i=e.spritesheet;if(!t||!i||!Object.keys(i).length)return this.createCollection(e,null),void s(!0);const r=()=>{const r=new n.a(t,i);r.parse((()=>{this.createCollection(e,r),s(!0)}))};t.valid?r():t.once(\"update\",(()=>r()))}get collections(){return this._collections}}class pL{}pL.RENDERER_VERSION=\"1.2.5\",pL.UI_VERSION=\"\";class mL{constructor(t,e){this._effect=void 0,this._alpha=void 0,this._effect=t,this._alpha=e}get effect(){return this._effect}get alpha(){return this._alpha}}class IL{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._roomEngine=void 0,this._planeParser=void 0,this._previewRoomId=1,this._currentPreviewObjectType=0,this._currentPreviewObjectCategory=0,this._currentPreviewObjectData=\"\",this._currentPreviewRectangle=null,this._currentPreviewCanvasWidth=0,this._currentPreviewCanvasHeight=0,this._currentPreviewScale=64,this._currentPreviewNeedsZoomOut=void 0,this._automaticStateChange=void 0,this._previousAutomaticStateChangeTime=void 0,this._addViewOffset=void 0,this._backgroundColor=305148561,this._backgroundSprite=null,this._disableUpdate=!1,this._roomEngine=t,this._planeParser=new x_,this._previewRoomId=Ye.makeRoomPreviewerId(e),this._addViewOffset=new j.g(0,0),this.onRoomObjectAdded=this.onRoomObjectAdded.bind(this),this.onRoomInitializedonRoomInitialized=this.onRoomInitializedonRoomInitialized.bind(this),this.isRoomEngineReady&&this._roomEngine.events&&(this._roomEngine.events.addEventListener(YA.ADDED,this.onRoomObjectAdded),this._roomEngine.events.addEventListener(YA.CONTENT_UPDATED,this.onRoomObjectAdded),this._roomEngine.events.addEventListener(PA.INITIALIZED,this.onRoomInitializedonRoomInitialized)),this.createRoomForPreview()}dispose(){this.reset(!0),this.isRoomEngineReady&&this._roomEngine.events&&(this._roomEngine.events.removeEventListener(YA.ADDED,this.onRoomObjectAdded),this._roomEngine.events.removeEventListener(YA.CONTENT_UPDATED,this.onRoomObjectAdded),this._roomEngine.events.removeEventListener(PA.INITIALIZED,this.onRoomInitializedonRoomInitialized)),this._backgroundSprite&&(this._backgroundSprite.destroy(),this._backgroundSprite=null),this._planeParser&&(this._planeParser.dispose(),this._planeParser=null)}createRoomForPreview(){if(this.isRoomEngineReady){const t=7,e=new x_;e.initializeTileMap(t+2,t+2);let s=1;for(;s<1+t;){let i=1;for(;i<1+t;)e.setTileHeight(i,s,0),i++;s++}e.initializeFromTileData(),this._roomEngine.createRoomInstance(this._previewRoomId,e.getMapData()),e.dispose()}}reset(t){this.isRoomEngineReady&&(this._roomEngine.removeRoomObjectFloor(this._previewRoomId,IL.PREVIEW_OBJECT_ID),this._roomEngine.removeRoomObjectWall(this._previewRoomId,IL.PREVIEW_OBJECT_ID),this._roomEngine.removeRoomObjectUser(this._previewRoomId,IL.PREVIEW_OBJECT_ID),t||this.updatePreviewRoomView()),this._currentPreviewObjectCategory=st.MINIMUM}updatePreviewModel(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new B_;i.flush(),i.parseModel(t,e,s);const r=this._roomEngine.getLegacyWallGeometry(this._previewRoomId);if(!r)return;this._planeParser.reset();const n=i.width,a=i.height;this._planeParser.initializeTileMap(n,a);let o=-1,h=-1,_=0,d=0,u=0;for(;u<a;){let t=0;for(;t<n;){const e=i.getHeight(t,u);(u>0&&u<a-1||t>0&&t<n-1)&&e!=x_.TILE_BLOCKED&&(i.getHeight(t,u-1)==x_.TILE_BLOCKED&&i.getHeight(t-1,u)==x_.TILE_BLOCKED&&i.getHeight(t,u+1)==x_.TILE_BLOCKED&&(o=t+.5,h=u,_=e,d=90),i.getHeight(t,u-1)==x_.TILE_BLOCKED&&i.getHeight(t-1,u)==x_.TILE_BLOCKED&&i.getHeight(t+1,u)==x_.TILE_BLOCKED&&(o=t,h=u+.5,_=e,d=180)),this._planeParser.setTileHeight(t,u,e),t++}u++}this._planeParser.setTileHeight(Math.floor(o),Math.floor(h),_),this._planeParser.initializeFromTileData(i.wallHeight),this._planeParser.setTileHeight(Math.floor(o),Math.floor(h),_+this._planeParser.wallHeight),r.scale=eD.DEFAULT_SCALE,r.initialize(n,a,this._planeParser.floorHeight);let c=i.height-1;for(;c>=0;){let t=i.width-1;for(;t>=0;)r.setHeight(t,c,this._planeParser.getTileHeight(t,c)),t--;c--}const l=this._planeParser.getMapData();l.doors.push({x:o,y:h,z:_,dir:d});const g=this.getRoomPreviewOwnRoomObject();g&&g.processUpdateMessage(new VD(l))}addFurnitureIntoRoom(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(s||(s=new la),this.isRoomEngineReady&&(this.reset(!1),this._currentPreviewObjectType=t,this._currentPreviewObjectCategory=st.FLOOR,this._currentPreviewObjectData=\"\",this._roomEngine.addFurnitureFloor(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t,new dt(IL.PREVIEW_OBJECT_LOCATION_X,IL.PREVIEW_OBJECT_LOCATION_Y,0),e,0,s,NaN,-1,0,-1,\"\",!0,!1))){this._previousAutomaticStateChangeTime=lL.instance.time,this._automaticStateChange=!0;const t=this._roomEngine.getRoomObject(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);return t&&i&&t.model.setValue(rt.FURNITURE_EXTRAS,i),this.updatePreviewRoomView(),IL.PREVIEW_OBJECT_ID}return-1}addWallItemIntoRoom(t,e,s){if(this.isRoomEngineReady){if(this._currentPreviewObjectCategory===st.WALL&&this._currentPreviewObjectType===t&&this._currentPreviewObjectData===s)return IL.PREVIEW_OBJECT_ID;if(this.reset(!1),this._currentPreviewObjectType=t,this._currentPreviewObjectCategory=st.WALL,this._currentPreviewObjectData=s,this._roomEngine.addFurnitureWall(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t,new dt(.5,2.3,1.8),e,0,s,0,0,-1,\"\",!1))return this._previousAutomaticStateChangeTime=lL.instance.time,this._automaticStateChange=!0,this.updatePreviewRoomView(),IL.PREVIEW_OBJECT_ID}return-1}addAvatarIntoRoom(t,e){return this.isRoomEngineReady?(this.reset(!1),this._currentPreviewObjectType=1,this._currentPreviewObjectCategory=st.UNIT,this._currentPreviewObjectData=t,this._roomEngine.addRoomObjectUser(this._previewRoomId,IL.PREVIEW_OBJECT_ID,new dt(IL.PREVIEW_OBJECT_LOCATION_X,IL.PREVIEW_OBJECT_LOCATION_Y,0),new dt(90,0,0),135,it.getTypeNumber(it.USER),t)&&(this._previousAutomaticStateChangeTime=lL.instance.time,this._automaticStateChange=!0,this.updateUserGesture(1),this.updateUserEffect(e),this.updateUserPosture(\"std\")),this.updatePreviewRoomView(),IL.PREVIEW_OBJECT_ID):-1}addPetIntoRoom(t){return this.isRoomEngineReady?(this.reset(!1),this._currentPreviewObjectType=1,this._currentPreviewObjectCategory=st.UNIT,this._currentPreviewObjectData=t,this._roomEngine.addRoomObjectUser(this._previewRoomId,IL.PREVIEW_OBJECT_ID,new dt(IL.PREVIEW_OBJECT_LOCATION_X,IL.PREVIEW_OBJECT_LOCATION_Y,0),new dt(90,0,0),90,it.getTypeNumber(it.PET),t)&&(this._previousAutomaticStateChangeTime=lL.instance.time,this._automaticStateChange=!1,this.updateUserGesture(1),this.updateUserPosture(\"std\")),this.updatePreviewRoomView(),IL.PREVIEW_OBJECT_ID):-1}updateUserPosture(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserPosture(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t,e)}updateUserGesture(t){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserGesture(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t)}updateUserEffect(t){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserEffect(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t)}updateObjectUserFigure(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserFigure(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t,e,s,i)}updateObjectUserAction(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserAction(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t,e,s)}updateObjectStuffData(t){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectFloor(this._previewRoomId,IL.PREVIEW_OBJECT_ID,null,null,t.state,t)}changeRoomObjectState(){this.isRoomEngineReady&&(this._automaticStateChange=!1,this._currentPreviewObjectCategory!==st.UNIT&&this._roomEngine.changeObjectState(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory))}changeRoomObjectDirection(){if(this.isRoomEngineReady){const t=this._roomEngine.getRoomObject(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(!t)return;const e=this._roomEngine.objectEventHandler.getValidRoomObjectDirection(t,!0);switch(this._currentPreviewObjectCategory){case st.FLOOR:{const t=new dt(IL.PREVIEW_OBJECT_LOCATION_X,IL.PREVIEW_OBJECT_LOCATION_Y),s=new dt(e,e,e);return void this._roomEngine.updateRoomObjectFloor(this._previewRoomId,IL.PREVIEW_OBJECT_ID,t,s,null,null)}case st.WALL:return}}}checkAutomaticRoomObjectStateChange(){if(this._automaticStateChange){const t=lL.instance.time;t>this._previousAutomaticStateChangeTime+IL.AUTOMATIC_STATE_CHANGE_INTERVAL&&(this._previousAutomaticStateChangeTime=t,this.isRoomEngineReady&&this._roomEngine.changeObjectState(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory))}}getRoomCanvas(t,e){if(this.isRoomEngineReady){const s=this._roomEngine.getRoomInstanceDisplay(this._previewRoomId,IL.PREVIEW_CANVAS_ID,t,e,this._currentPreviewScale);if(s&&null!==this._backgroundColor){let r=this._backgroundSprite;r||(r=new W(i.t.WHITE),s.addChildAt(r,0)),r.width=t,r.height=e,r.tint=this._backgroundColor}this._roomEngine.setRoomInstanceRenderingCanvasMask(this._previewRoomId,IL.PREVIEW_CANVAS_ID,!0);const r=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,IL.PREVIEW_CANVAS_ID);return r&&r.adjustLocation(new dt(IL.PREVIEW_OBJECT_LOCATION_X,IL.PREVIEW_OBJECT_LOCATION_Y,0),30),this._currentPreviewCanvasWidth=t,this._currentPreviewCanvasHeight=e,s}return null}modifyRoomCanvas(t,e){this.isRoomEngineReady&&(this._currentPreviewCanvasWidth=t,this._currentPreviewCanvasHeight=e,this._backgroundSprite&&(this._backgroundSprite.width=t,this._backgroundSprite.height=e),this._roomEngine.initializeRoomInstanceRenderingCanvas(this._previewRoomId,IL.PREVIEW_CANVAS_ID,t,e))}set addViewOffset(t){this._addViewOffset=t}get addViewOffset(){return this._addViewOffset}updatePreviewObjectBoundingRectangle(t){const e=this._roomEngine.getRoomObjectBoundingRectangle(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory,IL.PREVIEW_CANVAS_ID);if(e&&t)if(e.x+=-(this._currentPreviewCanvasWidth>>1),e.y+=-(this._currentPreviewCanvasHeight>>1),e.x+=-t.x,e.y+=-t.y,this._currentPreviewRectangle){const t=this._currentPreviewRectangle.clone().enlarge(e);(t.width-this._currentPreviewRectangle.width>this._currentPreviewCanvasWidth-this._currentPreviewRectangle.width>>1||t.height-this._currentPreviewRectangle.height>this._currentPreviewCanvasHeight-this._currentPreviewRectangle.height>>1||this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)&&(this._currentPreviewRectangle=t)}else this._currentPreviewRectangle=e}validatePreviewSize(t){if(this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)return t;if(this.isRoomEngineReady){const e=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,IL.PREVIEW_CANVAS_ID);this._currentPreviewRectangle.width>this._currentPreviewCanvasWidth*(1+IL.ALLOWED_IMAGE_CUT)||this._currentPreviewRectangle.height>this._currentPreviewCanvasHeight*(1+IL.ALLOWED_IMAGE_CUT)?IL.ZOOM_ENABLED?.5!==this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId,IL.PREVIEW_CANVAS_ID)&&(this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,IL.PREVIEW_CANVAS_ID,.5,null,null),this._currentPreviewScale=IL.SCALE_SMALL,this._currentPreviewNeedsZoomOut=!0,t.x=t.x>>1,t.y=t.y>>1,this._currentPreviewRectangle.x=this._currentPreviewRectangle.x>>2,this._currentPreviewRectangle.y=this._currentPreviewRectangle.y>>2,this._currentPreviewRectangle.width=this._currentPreviewRectangle.width>>2,this._currentPreviewRectangle.height=this._currentPreviewRectangle.height>>2):e.isZoomedIn()&&(e.performZoomOut(),this._currentPreviewScale=IL.SCALE_SMALL,this._currentPreviewNeedsZoomOut=!0):this._currentPreviewNeedsZoomOut||(IL.ZOOM_ENABLED?1!==this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId,IL.PREVIEW_CANVAS_ID)&&(this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,IL.PREVIEW_CANVAS_ID,1,null,null),this._currentPreviewScale=IL.SCALE_NORMAL):e.isZoomedIn()||(e.performZoomIn(),this._currentPreviewScale=IL.SCALE_NORMAL))}return t}zoomIn(){if(this.isRoomEngineReady)if(IL.ZOOM_ENABLED)this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,IL.PREVIEW_CANVAS_ID,1);else{this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,IL.PREVIEW_CANVAS_ID).performZoomIn()}this._currentPreviewScale=IL.SCALE_NORMAL}zoomOut(){if(this.isRoomEngineReady)if(IL.ZOOM_ENABLED)this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,IL.PREVIEW_CANVAS_ID,.5);else{this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,IL.PREVIEW_CANVAS_ID).performZoomOut()}this._currentPreviewScale=IL.SCALE_SMALL}updateAvatarDirection(t,e){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserLocation(this._previewRoomId,IL.PREVIEW_OBJECT_ID,new dt(IL.PREVIEW_OBJECT_LOCATION_X,IL.PREVIEW_OBJECT_LOCATION_Y,0),new dt(IL.PREVIEW_OBJECT_LOCATION_X,IL.PREVIEW_OBJECT_LOCATION_Y,0),!1,0,new dt(45*t,0,0),45*e)}updateObjectRoom(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!this.isRoomEngineReady&&this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId,t,e,s,i)}updateRoomWallsAndFloorVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.isRoomEngineReady&&this._roomEngine.updateRoomInstancePlaneVisibility(this._previewRoomId,t,e)}getCanvasOffset(t){if(this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)return t;let e=-(this._currentPreviewRectangle.left+this._currentPreviewRectangle.right)>>1,s=-(this._currentPreviewRectangle.top+this._currentPreviewRectangle.bottom)>>1;const i=this._currentPreviewCanvasHeight-this._currentPreviewRectangle.height>>1;i>10?s+=Math.min(15,i-10):this._currentPreviewObjectCategory!==st.UNIT?s+=5-Math.max(0,i/2):s-=5-Math.min(0,i/2),s+=this._addViewOffset.y,e+=this._addViewOffset.x;const r=e-t.x,n=s-t.y;if(0!==r||0!==n){const i=Math.sqrt(r*r+n*n);return i>10&&(e=t.x+10*r/i,s=t.y+10*n/i),new j.g(e,s)}return null}updatePreviewRoomView(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((!this._disableUpdate||t)&&(this.checkAutomaticRoomObjectStateChange(),this.isRoomEngineReady)){let t=this._roomEngine.getRoomInstanceRenderingCanvasOffset(this._previewRoomId,IL.PREVIEW_CANVAS_ID);if(t&&(this.updatePreviewObjectBoundingRectangle(t),this._currentPreviewRectangle)){const e=this._currentPreviewScale;t=this.validatePreviewSize(t);const s=this.getCanvasOffset(t);s&&this._roomEngine.setRoomInstanceRenderingCanvasOffset(this._previewRoomId,IL.PREVIEW_CANVAS_ID,s),this._currentPreviewScale!==e&&(this._currentPreviewRectangle=null)}}}set disableUpdate(t){this._disableUpdate=t}set disableRoomEngineUpdate(t){this.isRoomEngineReady&&this._roomEngine.disableUpdate(t)}onRoomInitializedonRoomInitialized(t){t&&(t.type!==PA.INITIALIZED||t.roomId===this._previewRoomId&&this.isRoomEngineReady&&this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId,\"110\",\"99999\"))}onRoomObjectAdded(t){if(t.roomId===this._previewRoomId&&t.objectId===IL.PREVIEW_OBJECT_ID&&t.category===this._currentPreviewObjectCategory){this._currentPreviewRectangle=null,this._currentPreviewNeedsZoomOut=!1;const e=this._roomEngine.getRoomObject(t.roomId,t.objectId,t.category);if(e&&e.model&&t.category===st.WALL){const s=e.model.getValue(rt.FURNITURE_SIZE_Z),i=e.model.getValue(rt.FURNITURE_CENTER_Z);null===s&&null===i||this._roomEngine.updateRoomObjectWallLocation(t.roomId,t.objectId,new dt(.5,2.3,(3.6-s)/2+i))}}}updateRoomEngine(){this.isRoomEngineReady&&this._roomEngine.runUpdate()}getRenderingCanvas(){const t=this._roomEngine.getRoomInstanceRenderingCanvas(this._previewRoomId,IL.PREVIEW_CANVAS_ID);return t||null}getGenericRoomObjectImage(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1,_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;return this.isRoomEngineReady?this._roomEngine.getGenericRoomObjectImage(t,e,s,i,r,n,a,o,h,_,d):null}getRoomObjectImage(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.isRoomEngineReady?this._roomEngine.getRoomObjectImage(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory,t,e,s,i):null}getRoomObjectCurrentImage(){if(this.isRoomEngineReady){const t=this._roomEngine.getRoomObject(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(t&&t.visualization)return t.visualization.getImage(16777215,-1)}return null}getRoomPreviewObject(){if(this.isRoomEngineReady){const t=this._roomEngine.getRoomObject(this._previewRoomId,IL.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(t)return t}return null}getRoomPreviewOwnRoomObject(){if(this.isRoomEngineReady){const t=this._roomEngine.getRoomObject(this._previewRoomId,qM.ROOM_OBJECT_ID,st.ROOM);if(t)return t}return null}get isRoomEngineReady(){return this._roomEngine&&this._roomEngine.ready}get roomId(){return this._previewRoomId}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t}get width(){return this._currentPreviewCanvasWidth}get height(){return this._currentPreviewCanvasHeight}}IL.SCALE_NORMAL=64,IL.SCALE_SMALL=32,IL.PREVIEW_COUNTER=0,IL.PREVIEW_CANVAS_ID=1,IL.PREVIEW_OBJECT_ID=1,IL.PREVIEW_OBJECT_LOCATION_X=2,IL.PREVIEW_OBJECT_LOCATION_Y=2,IL.ALLOWED_IMAGE_CUT=.25,IL.AUTOMATIC_STATE_CHANGE_INTERVAL=2500,IL.ZOOM_ENABLED=!0;class fL{}fL.NO_CLUB=0,fL.CLUB=1,fL.VIP=2;class TL{constructor(t){this._target=void 0,this._running=void 0,this._complete=!0,this._tag=void 0,this._target=t}get running(){return this._running&&!!this._target}get complete(){return this._complete}set target(t){this._target=t}get target(){return this._target}set tag(t){this._tag=t}get tag(){return this._tag}start(){this._running=!0}update(t){}stop(){this._target=null,this._running=!1}tick(t){}}class RL extends TL{constructor(t){super(t)}tick(t){super.tick(t),this.target&&(this.target.remove(),this.target=null)}}class vL extends TL{constructor(t,e){super(t),this._startTimeMs=void 0,this._duration=void 0,this._complete=!1,this._duration=e}get duration(){return this._duration}start(){super.start(),this._complete=!1,this._startTimeMs=lL.instance.time}tick(t){super.tick(t);const e=(t-this._startTimeMs)/this._duration;e<1?this.update(e):(this.update(1),this._complete=!0)}}class OL extends vL{constructor(t,e,s){super(t,e),this._height=void 0,this._offset=void 0,this._height=s}start(){super.start(),this._offset=0,this.target.style.top=this._offset-this._height+\"px\"}update(t){super.update(t),this.target.style.top=this._offset-this._height+this.getBounceOffset(t)*this._height+\"px\"}getBounceOffset(t){return t<.364?7.5625*t*t:t<.727?7.5625*(t-=.545)*t+.75:t<.909?7.5625*(t-=.9091)*t+.9375:7.5625*(t-=.955)*t+.984375}stop(){this.target.style.top=this._offset+\"px\",super.stop()}}class AL extends vL{constructor(t){super(t.target,t.duration),this._interval=void 0,this._interval=t}start(){super.start(),this._interval.start()}update(t){super.update(t),this._interval.update(t)}stop(){super.stop(),this._interval.stop()}}class SL extends AL{constructor(t,e){super(t),this._rate=void 0,this._rate=e}}class NL extends SL{constructor(t,e){super(t,e)}update(t){this._interval.update(Math.pow(t,1/this._rate))}}class yL extends vL{constructor(t,e,s,i,r,n){super(t,e),this._startX=void 0,this._startY=void 0,this._deltaX=void 0,this._deltaY=void 0,this._height=void 0,this._numJumps=void 0,this._deltaX=s,this._deltaY=i,this._height=-r,this._numJumps=n}start(){super.start(),this._startX=this.target.offsetLeft,this._startY=this.target.offsetTop}update(t){super.update(t),this.target.style.left=this._startX+this._deltaX*t+\"px\",this.target.style.top=this._startY+this._height*Math.abs(Math.sin(t*Math.PI*this._numJumps))+this._deltaY*t+\"px\"}}class DL{static get TIMER_TIME(){return 1e3/lL.instance.ticker.FPS}static runMotion(t){return-1===DL._RUNNING_MOTIONS.indexOf(t)&&-1===DL._QUEUED_MOTIONS.indexOf(t)&&(DL._IS_UPDATING?DL._QUEUED_MOTIONS.push(t):(DL._RUNNING_MOTIONS.push(t),t.start()),DL.startTimer()),t}static removeMotion(t){let e=DL._RUNNING_MOTIONS.indexOf(t);e>-1?DL._IS_UPDATING?(e=DL._REMOVED_MOTIONS.indexOf(t),-1==e&&DL._REMOVED_MOTIONS.push(t)):(DL._RUNNING_MOTIONS.splice(e,1),t.running&&t.stop(),DL._RUNNING_MOTIONS.length||DL.stopTimer()):(e=DL._QUEUED_MOTIONS.indexOf(t),e>-1&&DL._QUEUED_MOTIONS.splice(e,1))}static getMotionByTag(t){for(const e of DL._RUNNING_MOTIONS)if(e.tag==t)return e;for(const e of DL._QUEUED_MOTIONS)if(e.tag==t)return e;return null}static getMotionByTarget(t){for(const e of DL._RUNNING_MOTIONS)if(e.target==t)return e;for(const e of DL._QUEUED_MOTIONS)if(e.target==t)return e;return null}static getMotionByTagAndTarget(t,e){for(const s of DL._RUNNING_MOTIONS)if(s.tag==t&&s.target==e)return s;for(const s of DL._QUEUED_MOTIONS)if(s.tag==t&&s.target==e)return s;return null}static get isRunning(){return!!DL._TIMER}static get isUpdating(){return DL._IS_UPDATING}static onTick(){DL._IS_UPDATING=!0;const t=lL.instance.time;let e=null;for(;e=DL._QUEUED_MOTIONS.pop();)DL._RUNNING_MOTIONS.push(e);for(;e=DL._REMOVED_MOTIONS.pop();)DL._RUNNING_MOTIONS.splice(DL._RUNNING_MOTIONS.indexOf(e),1),e.running&&e.stop();for(e of DL._RUNNING_MOTIONS)e.running?(e.tick(t),e.complete&&DL.removeMotion(e)):DL.removeMotion(e);DL._RUNNING_MOTIONS.length||DL.stopTimer(),DL._IS_UPDATING=!1}static startTimer(){DL._TIMER||(DL._TIMER=setInterval(DL.onTick,DL.TIMER_TIME))}static stopTimer(){DL._TIMER&&(clearInterval(DL._TIMER),DL._TIMER=null)}getNumRunningMotions(t){let e=0;for(const s of DL._RUNNING_MOTIONS)s.target===t&&e++;return e}}DL._QUEUED_MOTIONS=[],DL._RUNNING_MOTIONS=[],DL._REMOVED_MOTIONS=[],DL._TIMER=null,DL._IS_UPDATING=!1;class ML extends TL{constructor(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];super(e?e[0].target:null),this._motion=void 0,this._queue=void 0,this._queue=[];for(const i of e)this._queue.push(i);this._motion=e[0],this._complete=!this._motion}get running(){return!(!this._running||!this._motion)&&this._motion.running}start(){super.start(),this._motion.start()}update(t){super.update(t),this._motion.running&&this._motion.update(t)}stop(){super.stop(),this._motion.stop()}tick(t){if(super.tick(t),this._motion.tick(t),this._motion.complete){this._motion.stop();const t=this._queue.indexOf(this._motion);t<this._queue.length-1?(this._motion=this._queue[t+1],this._target=this._motion.target,this._motion.start()):this._complete=!0}}}class CL extends TL{constructor(t){super(null),this._startTimeMs=void 0,this._waitTimeMs=void 0,this._waitTimeMs=t}get running(){return this._running}start(){super.start(),this._complete=!1,this._startTimeMs=lL.instance.time}tick(t){super.tick(t),this._complete=t-this._startTimeMs>=this._waitTimeMs,this._complete&&this.stop()}}},9:function(t,e,s){\"use strict\";s.d(e,\"a\",(function(){return i}));class i{constructor(t){this._type=void 0,this._type=t}get type(){return this._type}}}}]);","name":"static/js/renderer.ec336bec.chunk.js","input":"(this[\"webpackJsonpnitro-react\"] = this[\"webpackJsonpnitro-react\"] || []).push([[1],{\n\n/***/ 2:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"a\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"b\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"c\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"d\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"e\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"f\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"g\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"i\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"j\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"k\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"l\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"m\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"n\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"o\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"p\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"q\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"r\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"s\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"t\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"u\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"v\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"v\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"w\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"w\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"x\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"x\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"y\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"y\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"z\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"z\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"A\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"A\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"B\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"B\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"C\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"C\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"D\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"D\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"E\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"E\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"F\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"F\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"G\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"G\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"H\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"H\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"I\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"I\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"J\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"J\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"K\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"K\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"L\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"L\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"M\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"M\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"N\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"N\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"O\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"O\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"P\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"P\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Q\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Q\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"R\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"R\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"S\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"S\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"T\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"T\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"U\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"U\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"V\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"V\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"W\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"W\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"X\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"X\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Y\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Y\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Z\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Z\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ab\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ab\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"cb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"cb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"db\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"db\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"eb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"eb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ib\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ib\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"jb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"jb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"kb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"kb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"lb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"lb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"mb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"nb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"nb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ob\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ob\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"pb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"rb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"sb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"tb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ub\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ub\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"vb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"vb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"wb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"wb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"yb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"yb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"zb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"zb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ab\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ab\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Bb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Bb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Cb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Cb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Db\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Db\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Eb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Eb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Fb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Gb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Hb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ib\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ib\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Jb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Jb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Kb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Kb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Lb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Lb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Mb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Mb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Nb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Nb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ob\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ob\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Pb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Pb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Rb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Sb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Tb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Tb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ub\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ub\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Vb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Wb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Wb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Yb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Yb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Zb\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Zb\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ac\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ac\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"cc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"cc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"dc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ec\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ec\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ic\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ic\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"jc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"jc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"kc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"kc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"lc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"lc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"mc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"nc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"nc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"oc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"oc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"pc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"rc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"sc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"tc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"uc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"uc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"vc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"vc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"wc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"wc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"yc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"yc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"zc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"zc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ac\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ac\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Bc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Bc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Cc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Cc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Dc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Dc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ec\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ec\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Fc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Gc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Hc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ic\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ic\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Jc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Jc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Kc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Kc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Lc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Lc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Mc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Mc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Nc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Nc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Oc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Oc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Pc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Pc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Rc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Sc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Tc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Tc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Uc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Uc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Vc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Wc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Wc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Yc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Yc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Zc\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Zc\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ad\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ad\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"cd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"cd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"dd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ed\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ed\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"id\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"id\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"jd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"jd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"kd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"kd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ld\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ld\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"md\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"md\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"nd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"nd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"od\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"od\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"pd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"rd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"sd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"td\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"td\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ud\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ud\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"vd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"vd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"wd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"wd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"yd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"yd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"zd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"zd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ad\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ad\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Bd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Bd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Cd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Cd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Dd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Dd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ed\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ed\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Fd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Gd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Hd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Id\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Id\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Jd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Jd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Kd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Kd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ld\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ld\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Md\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Md\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Nd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Nd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Od\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Od\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Pd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Pd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Rd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Sd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Td\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Td\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ud\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ud\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Vd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Wd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Wd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Yd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Yd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Zd\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Zd\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ae\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ae\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"be\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"be\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ce\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ce\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"de\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"de\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ee\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ee\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ge\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ge\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"he\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"he\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ie\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ie\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"je\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"je\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ke\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ke\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"le\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"le\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"me\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"me\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ne\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ne\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"oe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"oe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"pe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"re\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"re\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"se\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"se\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"te\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"te\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ue\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ue\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ve\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ve\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"we\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"we\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ye\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ye\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ze\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ze\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ae\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ae\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Be\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Be\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ce\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ce\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"De\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"De\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ee\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ee\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Fe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ge\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ge\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"He\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"He\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ie\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ie\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Je\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Je\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ke\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ke\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Le\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Le\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Me\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Me\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ne\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ne\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Oe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Oe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Pe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Pe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Re\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Re\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Se\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Se\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Te\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Te\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ue\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ue\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ve\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ve\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"We\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"We\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xe\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xe\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ye\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ye\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ze\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ze\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"af\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"af\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"cf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"cf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"df\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"df\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ef\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ef\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ff\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ff\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"if\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"if\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"jf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"jf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"kf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"kf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"lf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"lf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"mf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"nf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"nf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"of\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"of\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"pf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"rf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"sf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"tf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"uf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"uf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"vf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"vf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"wf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"wf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"yf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"yf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"zf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"zf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Af\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Af\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Bf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Bf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Cf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Cf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Df\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Df\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ef\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ef\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ff\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ff\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Gf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Hf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"If\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"If\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Jf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Jf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Kf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Kf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Lf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Lf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Mf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Mf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Nf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Nf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Of\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Of\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Pf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Pf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Rf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Sf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Tf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Tf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Uf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Uf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Vf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Wf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Wf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Yf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Yf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Zf\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Zf\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ag\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ag\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"cg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"cg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"dg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"eg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"eg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ig\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ig\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"jg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"jg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"kg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"kg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"lg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"lg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"mg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ng\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ng\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"og\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"og\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"pg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"rg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"sg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ug\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"vg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ug\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"wg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"vg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"wg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"yg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"zg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"yg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ag\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"zg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Bg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ag\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Cg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Bg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Dg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Cg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Eg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Dg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Fg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Eg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Gg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Hg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ig\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Jg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ig\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Kg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Jg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Lg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Kg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Mg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Lg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ng\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Mg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Og\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ng\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Pg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Og\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Pg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Rg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Sg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Tg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ug\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Tg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Vg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ug\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Wg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Wg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Yg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Zg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Yg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ah\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Zg\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ah\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ch\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"dh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ch\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"eh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"eh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ih\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"jh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ih\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"kh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"jh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"lh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"kh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"mh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"lh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"nh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"oh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"nh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ph\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"oh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ph\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"rh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"sh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"th\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"uh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"th\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"vh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"uh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"wh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"vh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"wh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"yh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"zh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"yh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ah\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"zh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Bh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ah\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ch\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Bh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Dh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ch\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Eh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Dh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Fh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Eh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Gh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Hh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ih\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Jh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ih\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Kh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Jh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Lh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Kh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Mh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Lh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Nh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Mh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Oh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Nh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ph\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Oh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ph\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Rh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Sh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Th\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Uh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Th\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Vh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Uh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Wh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Wh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Yh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Zh\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Yh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ai\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Zh\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ai\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ci\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"di\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ci\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ei\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"di\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ei\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ii\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ji\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ii\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ki\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ji\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"li\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ki\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"mi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"li\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ni\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"oi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ni\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"pi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"oi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"qi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ri\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"qi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"si\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ri\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ti\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"si\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ui\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ti\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"vi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ui\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"wi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"vi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"xi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"wi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"yi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"xi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"zi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"yi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ai\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"zi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Bi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ai\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ci\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Bi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Di\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ci\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ei\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Di\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Fi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ei\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Gi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Hi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ii\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ji\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ii\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ki\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ji\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Li\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ki\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Mi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Li\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ni\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Mi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Oi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ni\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Pi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Oi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Qi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Pi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ri\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Qi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Si\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ri\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ti\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Si\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Ui\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ti\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Vi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ui\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Wi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Xi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Wi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Yi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Xi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"Zi\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Yi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"aj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Zi\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"bj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"aj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"cj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"dj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"cj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ej\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"fj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ej\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"gj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"hj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"gj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"ij\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"jj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ij\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"kj\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"jj\", function() { return _src__WEBPACK_IMPORTED_MODULE_0__[\"lj\"]; });\n\n\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NitroSoundEvent; });\n/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);\nclass NitroSoundEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__[/* NitroEvent */ \"a\"]{constructor(type,sampleCode){super(type);this._sampleCode=void 0;this._sampleCode=sampleCode;}get sampleCode(){return this._sampleCode;}}NitroSoundEvent.PLAY_SOUND='NSOE_PLAY_SOUND';\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"Xe\", function() { return /* reexport */ NitroLogger; });\n__webpack_require__.d(__webpack_exports__, \"nb\", function() { return /* reexport */ ConfigurationEvent_ConfigurationEvent; });\n__webpack_require__.d(__webpack_exports__, \"yb\", function() { return /* reexport */ EventDispatcher_EventDispatcher; });\n__webpack_require__.d(__webpack_exports__, \"Ue\", function() { return /* reexport */ NitroEvent[\"a\" /* NitroEvent */]; });\n__webpack_require__.d(__webpack_exports__, \"ff\", function() { return /* reexport */ NitroVersion; });\n__webpack_require__.d(__webpack_exports__, \"g\", function() { return /* reexport */ AdvancedMap; });\n__webpack_require__.d(__webpack_exports__, \"Qe\", function() { return /* reexport */ NitroAdjustmentFilter_NitroAdjustmentFilter; });\n__webpack_require__.d(__webpack_exports__, \"Re\", function() { return /* reexport */ NitroAlphaFilter_NitroAlphaFilter; });\n__webpack_require__.d(__webpack_exports__, \"Te\", function() { return /* reexport */ NitroContainer_NitroContainer; });\n__webpack_require__.d(__webpack_exports__, \"Ve\", function() { return /* reexport */ NitroFilter_NitroFilter; });\n__webpack_require__.d(__webpack_exports__, \"Ye\", function() { return /* reexport */ NitroPoint_NitroPoint; });\n__webpack_require__.d(__webpack_exports__, \"Ze\", function() { return /* reexport */ NitroRectangle_NitroRectangle; });\n__webpack_require__.d(__webpack_exports__, \"bf\", function() { return /* reexport */ NitroSprite_NitroSprite; });\n__webpack_require__.d(__webpack_exports__, \"cf\", function() { return /* reexport */ NitroTexture_NitroTexture; });\n__webpack_require__.d(__webpack_exports__, \"yf\", function() { return /* reexport */ PixiApplicationProxy_PixiApplicationProxy; });\n__webpack_require__.d(__webpack_exports__, \"kf\", function() { return /* reexport */ pixi_tilemap_es[\"a\" /* POINT_STRUCT_SIZE */]; });\n__webpack_require__.d(__webpack_exports__, \"df\", function() { return /* reexport */ NitroTilemap_NitroTilemap; });\n__webpack_require__.d(__webpack_exports__, \"p\", function() { return /* reexport */ AvatarFigureContainer; });\n__webpack_require__.d(__webpack_exports__, \"l\", function() { return /* reexport */ AvatarAction; });\n__webpack_require__.d(__webpack_exports__, \"m\", function() { return /* reexport */ AvatarDirectionAngle; });\n__webpack_require__.d(__webpack_exports__, \"n\", function() { return /* reexport */ AvatarEditorFigureCategory; });\n__webpack_require__.d(__webpack_exports__, \"q\", function() { return /* reexport */ AvatarFigurePartType; });\n__webpack_require__.d(__webpack_exports__, \"r\", function() { return /* reexport */ AvatarScaleType; });\n__webpack_require__.d(__webpack_exports__, \"s\", function() { return /* reexport */ AvatarSetType; });\n__webpack_require__.d(__webpack_exports__, \"of\", function() { return /* reexport */ PetCustomPart; });\n__webpack_require__.d(__webpack_exports__, \"pf\", function() { return /* reexport */ PetFigureData_PetFigureData; });\n__webpack_require__.d(__webpack_exports__, \"wf\", function() { return /* reexport */ PetType; });\n__webpack_require__.d(__webpack_exports__, \"ag\", function() { return /* reexport */ RoomCameraWidgetManagerEvent_RoomCameraWidgetManagerEvent; });\n__webpack_require__.d(__webpack_exports__, \"bg\", function() { return /* reexport */ RoomCameraWidgetSelectedEffect; });\n__webpack_require__.d(__webpack_exports__, \"Se\", function() { return /* reexport */ NitroCommunicationDemoEvent_NitroCommunicationDemoEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ld\", function() { return /* reexport */ HotelClosedAndOpensEvent_HotelClosedAndOpensEvent; });\n__webpack_require__.d(__webpack_exports__, \"Md\", function() { return /* reexport */ HotelClosesAndWillOpenAtEvent_HotelClosesAndWillOpenAtEvent; });\n__webpack_require__.d(__webpack_exports__, \"Nd\", function() { return /* reexport */ HotelWillCloseInMinutesEvent_HotelWillCloseInMinutesEvent; });\n__webpack_require__.d(__webpack_exports__, \"de\", function() { return /* reexport */ MaintenanceStatusMessageEvent_MaintenanceStatusMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"fb\", function() { return /* reexport */ CheckUserNameResultMessageEvent_CheckUserNameResultMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ab\", function() { return /* reexport */ FigureUpdateEvent_FigureUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"z\", function() { return /* reexport */ BotAddedToInventoryEvent_BotAddedToInventoryEvent; });\n__webpack_require__.d(__webpack_exports__, \"B\", function() { return /* reexport */ BotInventoryMessageEvent_BotInventoryMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"D\", function() { return /* reexport */ BotRemovedFromInventoryEvent_BotRemovedFromInventoryEvent; });\n__webpack_require__.d(__webpack_exports__, \"bb\", function() { return /* reexport */ CfhSanctionMessageEvent_CfhSanctionMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"cb\", function() { return /* reexport */ CfhTopicsInitEvent_CfhTopicsInitEvent; });\n__webpack_require__.d(__webpack_exports__, \"Eh\", function() { return /* reexport */ SanctionStatusEvent_SanctionStatusEvent; });\n__webpack_require__.d(__webpack_exports__, \"N\", function() { return /* reexport */ CameraPublishStatusMessageEvent_CameraPublishStatusMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"O\", function() { return /* reexport */ CameraPurchaseOKMessageEvent_CameraPurchaseOKMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"P\", function() { return /* reexport */ CameraStorageUrlMessageEvent_CameraStorageUrlMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Pd\", function() { return /* reexport */ InitCameraMessageEvent_InitCameraMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Q\", function() { return /* reexport */ CampaignCalendarDataMessageEvent_CampaignCalendarDataMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"R\", function() { return /* reexport */ CampaignCalendarDoorOpenedMessageEvent_CampaignCalendarDoorOpenedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"y\", function() { return /* reexport */ BonusRareInfoMessageEvent_BonusRareInfoMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"F\", function() { return /* reexport */ BuildersClubFurniCountMessageEvent_BuildersClubFurniCountMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"J\", function() { return /* reexport */ BuildersClubSubscriptionStatusMessageEvent_BuildersClubSubscriptionStatusMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"W\", function() { return /* reexport */ CatalogPageMessageEvent_CatalogPageMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"X\", function() { return /* reexport */ CatalogPageMessageProductData; });\n__webpack_require__.d(__webpack_exports__, \"Y\", function() { return /* reexport */ CatalogPagesListEvent_CatalogPagesListEvent; });\n__webpack_require__.d(__webpack_exports__, \"Z\", function() { return /* reexport */ CatalogPublishedMessageEvent_CatalogPublishedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"hb\", function() { return /* reexport */ ClubGiftInfoEvent_ClubGiftInfoEvent; });\n__webpack_require__.d(__webpack_exports__, \"jb\", function() { return /* reexport */ ClubGiftSelectedEvent_ClubGiftSelectedEvent; });\n__webpack_require__.d(__webpack_exports__, \"Mb\", function() { return /* reexport */ FrontPageItem_FrontPageItem; });\n__webpack_require__.d(__webpack_exports__, \"Fc\", function() { return /* reexport */ GiftReceiverNotFoundEvent_GiftReceiverNotFoundEvent; });\n__webpack_require__.d(__webpack_exports__, \"Gc\", function() { return /* reexport */ GiftWrappingConfigurationEvent_GiftWrappingConfigurationEvent; });\n__webpack_require__.d(__webpack_exports__, \"Gd\", function() { return /* reexport */ HabboClubOffersMessageEvent_HabboClubOffersMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Yd\", function() { return /* reexport */ LimitedEditionSoldOutEvent_LimitedEditionSoldOutEvent; });\n__webpack_require__.d(__webpack_exports__, \"zf\", function() { return /* reexport */ ProductOfferEvent_ProductOfferEvent; });\n__webpack_require__.d(__webpack_exports__, \"Cf\", function() { return /* reexport */ PurchaseErrorMessageEvent_PurchaseErrorMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ff\", function() { return /* reexport */ PurchaseNotAllowedMessageEvent_PurchaseNotAllowedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Gf\", function() { return /* reexport */ PurchaseOKMessageEvent_PurchaseOKMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Lh\", function() { return /* reexport */ SellablePetPalettesMessageEvent_SellablePetPalettesMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Xi\", function() { return /* reexport */ VoucherRedeemErrorMessageEvent_VoucherRedeemErrorMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Yi\", function() { return /* reexport */ VoucherRedeemOkMessageEvent_VoucherRedeemOkMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ub\", function() { return /* reexport */ DesktopViewEvent_DesktopViewEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ib\", function() { return /* reexport */ FriendListFragmentEvent_FriendListFragmentEvent; });\n__webpack_require__.d(__webpack_exports__, \"Jb\", function() { return /* reexport */ FriendListUpdateEvent_FriendListUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"Kb\", function() { return /* reexport */ FriendRequestsEvent_FriendRequestsEvent; });\n__webpack_require__.d(__webpack_exports__, \"Jd\", function() { return /* reexport */ HabboSearchResultEvent_HabboSearchResultEvent; });\n__webpack_require__.d(__webpack_exports__, \"me\", function() { return /* reexport */ MessengerInitEvent_MessengerInitEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ne\", function() { return /* reexport */ NewConsoleMessageEvent_NewConsoleMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Oe\", function() { return /* reexport */ NewFriendRequestEvent_NewFriendRequestEvent; });\n__webpack_require__.d(__webpack_exports__, \"Fg\", function() { return /* reexport */ RoomInviteErrorEvent_RoomInviteErrorEvent; });\n__webpack_require__.d(__webpack_exports__, \"Gg\", function() { return /* reexport */ RoomInviteEvent_RoomInviteEvent; });\n__webpack_require__.d(__webpack_exports__, \"cc\", function() { return /* reexport */ GenericErrorEvent_GenericErrorEvent; });\n__webpack_require__.d(__webpack_exports__, \"Lc\", function() { return /* reexport */ GroupBadgePartsEvent_GroupBadgePartsEvent; });\n__webpack_require__.d(__webpack_exports__, \"Oc\", function() { return /* reexport */ GroupBuyDataEvent_GroupBuyDataEvent; });\n__webpack_require__.d(__webpack_exports__, \"Pc\", function() { return /* reexport */ GroupConfirmMemberRemoveEvent_GroupConfirmMemberRemoveEvent; });\n__webpack_require__.d(__webpack_exports__, \"Vc\", function() { return /* reexport */ GroupInformationEvent_GroupInformationEvent; });\n__webpack_require__.d(__webpack_exports__, \"Yc\", function() { return /* reexport */ GroupMembersEvent_GroupMembersEvent; });\n__webpack_require__.d(__webpack_exports__, \"bd\", function() { return /* reexport */ GroupPurchasedEvent_GroupPurchasedEvent; });\n__webpack_require__.d(__webpack_exports__, \"jd\", function() { return /* reexport */ GroupSettingsEvent_GroupSettingsEvent; });\n__webpack_require__.d(__webpack_exports__, \"Hd\", function() { return /* reexport */ HabboGroupDeactivatedMessageEvent_HabboGroupDeactivatedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"M\", function() { return /* reexport */ CallForHelpResultMessageEvent_CallForHelpResultMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ld\", function() { return /* reexport */ GuideOnDutyStatusMessageEvent_GuideOnDutyStatusMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"md\", function() { return /* reexport */ GuideSessionAttachedMessageEvent_GuideSessionAttachedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"od\", function() { return /* reexport */ GuideSessionDetachedMessageEvent_GuideSessionDetachedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"pd\", function() { return /* reexport */ GuideSessionEndedMessageEvent_GuideSessionEndedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ud\", function() { return /* reexport */ GuideSessionInvitedToGuideRoomMessageEvent_GuideSessionInvitedToGuideRoomMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"wd\", function() { return /* reexport */ GuideSessionMessageMessageEvent_GuideSessionMessageMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"yd\", function() { return /* reexport */ GuideSessionPartnerIsTypingMessageEvent_GuideSessionPartnerIsTypingMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ad\", function() { return /* reexport */ GuideSessionRequesterRoomMessageEvent_GuideSessionRequesterRoomMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Cd\", function() { return /* reexport */ GuideSessionStartedMessageEvent_GuideSessionStartedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Qd\", function() { return /* reexport */ IssueCloseNotificationMessageEvent_IssueCloseNotificationMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* reexport */ AchievementEvent_AchievementEvent; });\n__webpack_require__.d(__webpack_exports__, \"d\", function() { return /* reexport */ AchievementsEvent_AchievementsEvent; });\n__webpack_require__.d(__webpack_exports__, \"e\", function() { return /* reexport */ AchievementsScoreEvent_AchievementsScoreEvent; });\n__webpack_require__.d(__webpack_exports__, \"u\", function() { return /* reexport */ BadgePointLimitsEvent_BadgePointLimitsEvent; });\n__webpack_require__.d(__webpack_exports__, \"v\", function() { return /* reexport */ BadgeReceivedEvent_BadgeReceivedEvent; });\n__webpack_require__.d(__webpack_exports__, \"w\", function() { return /* reexport */ BadgesEvent_BadgesEvent; });\n__webpack_require__.d(__webpack_exports__, \"zb\", function() { return /* reexport */ FigureSetIdsMessageEvent_FigureSetIdsMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ob\", function() { return /* reexport */ FurnitureListAddOrUpdateEvent_FurnitureListAddOrUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"Qb\", function() { return /* reexport */ FurnitureListEvent_FurnitureListEvent; });\n__webpack_require__.d(__webpack_exports__, \"Rb\", function() { return /* reexport */ FurnitureListInvalidateEvent_FurnitureListInvalidateEvent; });\n__webpack_require__.d(__webpack_exports__, \"Sb\", function() { return /* reexport */ FurnitureListRemovedEvent_FurnitureListRemovedEvent; });\n__webpack_require__.d(__webpack_exports__, \"Yb\", function() { return /* reexport */ FurniturePostItPlacedEvent_FurniturePostItPlacedEvent; });\n__webpack_require__.d(__webpack_exports__, \"nf\", function() { return /* reexport */ PetAddedToInventoryEvent_PetAddedToInventoryEvent; });\n__webpack_require__.d(__webpack_exports__, \"qf\", function() { return /* reexport */ PetInventoryEvent_PetInventoryEvent; });\n__webpack_require__.d(__webpack_exports__, \"sf\", function() { return /* reexport */ PetReceivedMessageEvent_PetReceivedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"tf\", function() { return /* reexport */ PetRemovedFromInventoryEvent_PetRemovedFromInventory; });\n__webpack_require__.d(__webpack_exports__, \"Xh\", function() { return /* reexport */ TradingAcceptEvent_TradingAcceptEvent; });\n__webpack_require__.d(__webpack_exports__, \"ai\", function() { return /* reexport */ TradingCloseEvent_TradingCloseEvent; });\n__webpack_require__.d(__webpack_exports__, \"ci\", function() { return /* reexport */ TradingCompletedEvent_TradingCompletedEvent; });\n__webpack_require__.d(__webpack_exports__, \"ei\", function() { return /* reexport */ TradingConfirmationEvent_TradingConfirmationEvent; });\n__webpack_require__.d(__webpack_exports__, \"hi\", function() { return /* reexport */ TradingListItemEvent_TradingListItemEvent; });\n__webpack_require__.d(__webpack_exports__, \"ji\", function() { return /* reexport */ TradingNotOpenEvent_TradingNotOpenEvent; });\n__webpack_require__.d(__webpack_exports__, \"li\", function() { return /* reexport */ TradingOpenEvent_TradingOpenEvent; });\n__webpack_require__.d(__webpack_exports__, \"mi\", function() { return /* reexport */ TradingOpenFailedEvent_TradingOpenFailedEvent; });\n__webpack_require__.d(__webpack_exports__, \"ni\", function() { return /* reexport */ TradingOtherNotAllowedEvent_TradingOtherNotAllowedEvent; });\n__webpack_require__.d(__webpack_exports__, \"pi\", function() { return /* reexport */ TradingYouAreNotAllowedEvent_TradingYouAreNotAllowedEvent; });\n__webpack_require__.d(__webpack_exports__, \"Af\", function() { return /* reexport */ PromoArticlesMessageEvent_PromoArticlesMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ge\", function() { return /* reexport */ MarketplaceBuyOfferResultEvent_MarketplaceBuyOfferResultEvent; });\n__webpack_require__.d(__webpack_exports__, \"he\", function() { return /* reexport */ MarketplaceCancelOfferResultEvent_MarketplaceCancelOfferResultEvent; });\n__webpack_require__.d(__webpack_exports__, \"ie\", function() { return /* reexport */ MarketplaceConfigurationEvent_MarketplaceConfigurationEvent; });\n__webpack_require__.d(__webpack_exports__, \"je\", function() { return /* reexport */ MarketplaceMakeOfferResult_MarketplaceMakeOfferResult; });\n__webpack_require__.d(__webpack_exports__, \"fe\", function() { return /* reexport */ MarketplaceOffersEvent_MarketPlaceOffersEvent; });\n__webpack_require__.d(__webpack_exports__, \"ke\", function() { return /* reexport */ MarketplaceOwnOffersEvent_MarketplaceOwnOffersEvent; });\n__webpack_require__.d(__webpack_exports__, \"ab\", function() { return /* reexport */ CfhChatlogEvent_CfhChatlogEvent; });\n__webpack_require__.d(__webpack_exports__, \"Rd\", function() { return /* reexport */ IssueDeletedMessageEvent_IssueDeletedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Sd\", function() { return /* reexport */ IssueInfoMessageEvent_IssueInfoMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ud\", function() { return /* reexport */ IssuePickFailedMessageEvent_IssuePickFailedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ve\", function() { return /* reexport */ ModeratorActionResultMessageEvent_ModeratorActionResultMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"we\", function() { return /* reexport */ ModeratorCautionEvent_ModeratorCautionEvent; });\n__webpack_require__.d(__webpack_exports__, \"xe\", function() { return /* reexport */ ModeratorInitMessageEvent_ModeratorInitMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ye\", function() { return /* reexport */ ModeratorMessageEvent_ModeratorMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ze\", function() { return /* reexport */ ModeratorRoomInfoEvent_ModeratorRoomInfoEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ae\", function() { return /* reexport */ ModeratorToolPreferencesEvent_ModeratorToolPreferencesEvent; });\n__webpack_require__.d(__webpack_exports__, \"Be\", function() { return /* reexport */ ModeratorUserInfoEvent_ModeratorUserInfoEvent; });\n__webpack_require__.d(__webpack_exports__, \"eg\", function() { return /* reexport */ RoomChatlogEvent_RoomChatlogEvent; });\n__webpack_require__.d(__webpack_exports__, \"yh\", function() { return /* reexport */ RoomVisitsEvent_RoomVisitsEvent; });\n__webpack_require__.d(__webpack_exports__, \"yi\", function() { return /* reexport */ UserBannedMessageEvent_UserBannedMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"zi\", function() { return /* reexport */ UserChatlogEvent_UserChatlogEvent; });\n__webpack_require__.d(__webpack_exports__, \"S\", function() { return /* reexport */ CanCreateRoomEventEvent_CanCreateRoomEventEvent; });\n__webpack_require__.d(__webpack_exports__, \"Fe\", function() { return /* reexport */ NavigatorCategoriesEvent_NavigatorCategoriesEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ge\", function() { return /* reexport */ NavigatorHomeRoomEvent_NavigatorHomeRoomEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ie\", function() { return /* reexport */ NavigatorMetadataEvent_NavigatorMetadataEvent; });\n__webpack_require__.d(__webpack_exports__, \"Je\", function() { return /* reexport */ NavigatorOpenRoomCreatorEvent_NavigatorOpenRoomCreatorEvent; });\n__webpack_require__.d(__webpack_exports__, \"Le\", function() { return /* reexport */ NavigatorSearchEvent_NavigatorSearchEvent; });\n__webpack_require__.d(__webpack_exports__, \"c\", function() { return /* reexport */ AchievementNotificationMessageEvent_AchievementNotificationMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"f\", function() { return /* reexport */ ActivityPointNotificationMessageEvent_ActivityPointNotificationMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ib\", function() { return /* reexport */ ClubGiftNotificationEvent_ClubGiftNotificationEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ed\", function() { return /* reexport */ HabboBroadcastMessageEvent_HabboBroadcastMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Od\", function() { return /* reexport */ InfoFeedEnableMessageEvent_InfoFeedEnableMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ce\", function() { return /* reexport */ MOTDNotificationEvent_MOTDNotificationEvent; });\n__webpack_require__.d(__webpack_exports__, \"gf\", function() { return /* reexport */ NotificationDialogMessageEvent_NotificationDialogMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"rf\", function() { return /* reexport */ PetLevelNotificationEvent_PetLevelNotificationEvent; });\n__webpack_require__.d(__webpack_exports__, \"ri\", function() { return /* reexport */ UnseenItemsEvent_UnseenItemsEvent; });\n__webpack_require__.d(__webpack_exports__, \"lf\", function() { return /* reexport */ PerkAllowancesMessageEvent_PerkAllowancesMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"lb\", function() { return /* reexport */ CommunityGoalHallOfFameMessageEvent_CommunityGoalHallOfFameMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"kg\", function() { return /* reexport */ RoomDoorbellAcceptedEvent_RoomDoorbellAcceptedEvent; });\n__webpack_require__.d(__webpack_exports__, \"lg\", function() { return /* reexport */ RoomDoorbellEvent_RoomDoorbellEvent; });\n__webpack_require__.d(__webpack_exports__, \"mg\", function() { return /* reexport */ RoomDoorbellRejectedEvent_RoomDoorbellRejectedEvent; });\n__webpack_require__.d(__webpack_exports__, \"xg\", function() { return /* reexport */ RoomEnterErrorEvent_RoomEnterErrorEvent; });\n__webpack_require__.d(__webpack_exports__, \"yg\", function() { return /* reexport */ RoomEnterEvent_RoomEnterEvent; });\n__webpack_require__.d(__webpack_exports__, \"Bg\", function() { return /* reexport */ RoomForwardEvent_RoomForwardEvent; });\n__webpack_require__.d(__webpack_exports__, \"A\", function() { return /* reexport */ BotCommandConfigurationEvent_BotCommandConfigurationEvent; });\n__webpack_require__.d(__webpack_exports__, \"oc\", function() { return /* reexport */ GetGuestRoomResultEvent_GetGuestRoomResultEvent; });\n__webpack_require__.d(__webpack_exports__, \"dg\", function() { return /* reexport */ RoomChatSettingsEvent_RoomChatSettingsEvent; });\n__webpack_require__.d(__webpack_exports__, \"zg\", function() { return /* reexport */ RoomEntryInfoMessageEvent_RoomEntryInfoMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ug\", function() { return /* reexport */ RoomScoreEvent_RoomScoreEvent; });\n__webpack_require__.d(__webpack_exports__, \"lh\", function() { return /* reexport */ RoomSettingsEvent_RoomSettingsEvent; });\n__webpack_require__.d(__webpack_exports__, \"mh\", function() { return /* reexport */ RoomSettingsUpdatedEvent_RoomSettingsUpdatedEvent; });\n__webpack_require__.d(__webpack_exports__, \"hg\", function() { return /* reexport */ RoomCreatedEvent_RoomCreatedEvent; });\n__webpack_require__.d(__webpack_exports__, \"ac\", function() { return /* reexport */ FurnitureStackHeightEvent_FurnitureStackHeightEvent; });\n__webpack_require__.d(__webpack_exports__, \"Tc\", function() { return /* reexport */ GroupFurniContextMenuInfoMessageEvent_GroupFurniContextMenuInfoMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Zd\", function() { return /* reexport */ LoveLockFurniFinishedEvent_LoveLockFurniFinishedEvent; });\n__webpack_require__.d(__webpack_exports__, \"ae\", function() { return /* reexport */ LoveLockFurniFriendConfirmedEvent_LoveLockFurniFriendConfirmedEvent; });\n__webpack_require__.d(__webpack_exports__, \"be\", function() { return /* reexport */ LoveLockFurniStartEvent_LoveLockFurniStartEvent; });\n__webpack_require__.d(__webpack_exports__, \"jj\", function() { return /* reexport */ YoutubeControlVideoMessageEvent_YoutubeControlVideoMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"kj\", function() { return /* reexport */ YoutubeDisplayPlaylistsEvent_YoutubeDisplayPlaylistsEvent; });\n__webpack_require__.d(__webpack_exports__, \"lj\", function() { return /* reexport */ YoutubeDisplayVideoMessageEvent_YoutubeDisplayVideoMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Fb\", function() { return /* reexport */ FloorHeightMapEvent_FloorHeightMapEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ag\", function() { return /* reexport */ RoomEntryTileMessageEvent_RoomEntryTileMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Rg\", function() { return /* reexport */ RoomOccupiedTilesMessageEvent_RoomOccupiedTilesMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"zh\", function() { return /* reexport */ RoomVisualizationSettingsEvent_RoomVisualizationSettingsEvent; });\n__webpack_require__.d(__webpack_exports__, \"mb\", function() { return /* reexport */ ConditionDefinition_ConditionDefinition; });\n__webpack_require__.d(__webpack_exports__, \"qi\", function() { return /* reexport */ TriggerDefinition_TriggerDefinition; });\n__webpack_require__.d(__webpack_exports__, \"bj\", function() { return /* reexport */ WiredActionDefinition_WiredActionDefinition; });\n__webpack_require__.d(__webpack_exports__, \"cj\", function() { return /* reexport */ WiredFurniActionEvent_WiredFurniActionEvent; });\n__webpack_require__.d(__webpack_exports__, \"dj\", function() { return /* reexport */ WiredFurniConditionEvent_WiredFurniConditionEvent; });\n__webpack_require__.d(__webpack_exports__, \"ej\", function() { return /* reexport */ WiredFurniTriggerEvent_WiredFurniTriggerEvent; });\n__webpack_require__.d(__webpack_exports__, \"fj\", function() { return /* reexport */ WiredOpenEvent_WiredOpenEvent; });\n__webpack_require__.d(__webpack_exports__, \"gj\", function() { return /* reexport */ WiredRewardResultMessageEvent_WiredRewardResultMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"hj\", function() { return /* reexport */ WiredSaveSuccessEvent_WiredSaveSuccessEvent; });\n__webpack_require__.d(__webpack_exports__, \"ij\", function() { return /* reexport */ WiredValidationErrorEvent_WiredValidationErrorEvent; });\n__webpack_require__.d(__webpack_exports__, \"x\", function() { return /* reexport */ BannedUsersFromRoomEvent_BannedUsersFromRoomEvent; });\n__webpack_require__.d(__webpack_exports__, \"Cb\", function() { return /* reexport */ FlatControllerAddedEvent_FlatControllerAddedEvent; });\n__webpack_require__.d(__webpack_exports__, \"Db\", function() { return /* reexport */ FlatControllerRemovedEvent_FlatControllerRemovedEvent; });\n__webpack_require__.d(__webpack_exports__, \"Eb\", function() { return /* reexport */ FlatControllersEvent_FlatControllersEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ji\", function() { return /* reexport */ UserPermissionsEvent_UserPermissionsEvent; });\n__webpack_require__.d(__webpack_exports__, \"k\", function() { return /* reexport */ ApproveNameMessageEvent_ApproveNameMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Nf\", function() { return /* reexport */ RelationshipStatusInfoEvent_RelationshipStatusInfoEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ei\", function() { return /* reexport */ UserCurrentBadgesEvent_UserCurrentBadgesEvent; });\n__webpack_require__.d(__webpack_exports__, \"Hi\", function() { return /* reexport */ UserInfoEvent_UserInfoEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ii\", function() { return /* reexport */ UserNameChangeMessageEvent_UserNameChangeMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Li\", function() { return /* reexport */ UserProfileEvent_UserProfileEvent; });\n__webpack_require__.d(__webpack_exports__, \"Oi\", function() { return /* reexport */ UserSettingsEvent_UserSettingsEvent; });\n__webpack_require__.d(__webpack_exports__, \"Dd\", function() { return /* reexport */ GuildMembershipsMessageEvent_GuildMembershipsMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ai\", function() { return /* reexport */ UserCreditsEvent_UserCreditsEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ci\", function() { return /* reexport */ UserCurrencyEvent_UserCurrencyEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ti\", function() { return /* reexport */ UserSubscriptionEvent_UserSubscriptionEvent; });\n__webpack_require__.d(__webpack_exports__, \"Xf\", function() { return /* reexport */ RespectReceivedEvent_RespectReceivedEvent; });\n__webpack_require__.d(__webpack_exports__, \"Ih\", function() { return /* reexport */ ScrSendKickbackInfoMessageEvent_ScrSendKickbackInfoMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Vi\", function() { return /* reexport */ UserWardrobePageEvent_UserWardrobePageEvent; });\n__webpack_require__.d(__webpack_exports__, \"Rf\", function() { return /* reexport */ RequestAchievementsMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"db\", function() { return /* reexport */ ChangeUserNameMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"eb\", function() { return /* reexport */ CheckUserNameMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Dc\", function() { return /* reexport */ GetWardrobeMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Gh\", function() { return /* reexport */ SaveWardrobeOutfitMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Bf\", function() { return /* reexport */ PublishPhotoMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Hf\", function() { return /* reexport */ PurchasePhotoMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Uf\", function() { return /* reexport */ RequestCameraConfigurationComposer; });\n__webpack_require__.d(__webpack_exports__, \"if\", function() { return /* reexport */ OpenCampaignCalendarDoorAsStaffComposer; });\n__webpack_require__.d(__webpack_exports__, \"jf\", function() { return /* reexport */ OpenCampaignCalendarDoorComposer; });\n__webpack_require__.d(__webpack_exports__, \"G\", function() { return /* reexport */ BuildersClubPlaceRoomItemMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"H\", function() { return /* reexport */ BuildersClubPlaceWallItemMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"I\", function() { return /* reexport */ BuildersClubQueryFurniCountMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"dc\", function() { return /* reexport */ GetBonusRareInfoMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"fc\", function() { return /* reexport */ GetCatalogIndexComposer; });\n__webpack_require__.d(__webpack_exports__, \"gc\", function() { return /* reexport */ GetCatalogPageComposer; });\n__webpack_require__.d(__webpack_exports__, \"jc\", function() { return /* reexport */ GetClubGiftInfo; });\n__webpack_require__.d(__webpack_exports__, \"kc\", function() { return /* reexport */ GetClubOffersMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"nc\", function() { return /* reexport */ GetGiftWrappingConfigurationComposer; });\n__webpack_require__.d(__webpack_exports__, \"wc\", function() { return /* reexport */ GetProductOfferComposer; });\n__webpack_require__.d(__webpack_exports__, \"Bc\", function() { return /* reexport */ GetSellablePetPalettesComposer; });\n__webpack_require__.d(__webpack_exports__, \"Df\", function() { return /* reexport */ PurchaseFromCatalogAsGiftComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ef\", function() { return /* reexport */ PurchaseFromCatalogComposer; });\n__webpack_require__.d(__webpack_exports__, \"Lf\", function() { return /* reexport */ RedeemVoucherMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Kh\", function() { return /* reexport */ SelectClubGiftComposer; });\n__webpack_require__.d(__webpack_exports__, \"tb\", function() { return /* reexport */ DesktopViewComposer; });\n__webpack_require__.d(__webpack_exports__, \"Hb\", function() { return /* reexport */ FriendFurniConfirmLockMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ AcceptFriendMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"rb\", function() { return /* reexport */ DeclineFriendMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Gb\", function() { return /* reexport */ FollowFriendMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"mc\", function() { return /* reexport */ GetFriendRequestsComposer; });\n__webpack_require__.d(__webpack_exports__, \"Id\", function() { return /* reexport */ HabboSearchComposer; });\n__webpack_require__.d(__webpack_exports__, \"le\", function() { return /* reexport */ MessengerInitComposer; });\n__webpack_require__.d(__webpack_exports__, \"Qf\", function() { return /* reexport */ RemoveFriendComposer; });\n__webpack_require__.d(__webpack_exports__, \"Vf\", function() { return /* reexport */ RequestFriendComposer; });\n__webpack_require__.d(__webpack_exports__, \"Mh\", function() { return /* reexport */ SendMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Nh\", function() { return /* reexport */ SendRoomInviteComposer; });\n__webpack_require__.d(__webpack_exports__, \"Qh\", function() { return /* reexport */ SetRelationshipStatusComposer; });\n__webpack_require__.d(__webpack_exports__, \"Hc\", function() { return /* reexport */ GroupAdminGiveComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ic\", function() { return /* reexport */ GroupAdminTakeComposer; });\n__webpack_require__.d(__webpack_exports__, \"Kc\", function() { return /* reexport */ GroupBadgePartsComposer; });\n__webpack_require__.d(__webpack_exports__, \"Mc\", function() { return /* reexport */ GroupBuyComposer; });\n__webpack_require__.d(__webpack_exports__, \"Nc\", function() { return /* reexport */ GroupBuyDataComposer; });\n__webpack_require__.d(__webpack_exports__, \"Qc\", function() { return /* reexport */ GroupConfirmRemoveMemberComposer; });\n__webpack_require__.d(__webpack_exports__, \"Rc\", function() { return /* reexport */ GroupDeleteComposer; });\n__webpack_require__.d(__webpack_exports__, \"Sc\", function() { return /* reexport */ GroupFavoriteComposer; });\n__webpack_require__.d(__webpack_exports__, \"Uc\", function() { return /* reexport */ GroupInformationComposer; });\n__webpack_require__.d(__webpack_exports__, \"Wc\", function() { return /* reexport */ GroupJoinComposer; });\n__webpack_require__.d(__webpack_exports__, \"Xc\", function() { return /* reexport */ GroupMembersComposer; });\n__webpack_require__.d(__webpack_exports__, \"Zc\", function() { return /* reexport */ GroupMembershipAcceptComposer; });\n__webpack_require__.d(__webpack_exports__, \"ad\", function() { return /* reexport */ GroupMembershipDeclineComposer; });\n__webpack_require__.d(__webpack_exports__, \"dd\", function() { return /* reexport */ GroupRemoveMemberComposer; });\n__webpack_require__.d(__webpack_exports__, \"ed\", function() { return /* reexport */ GroupSaveBadgeComposer; });\n__webpack_require__.d(__webpack_exports__, \"fd\", function() { return /* reexport */ GroupSaveColorsComposer; });\n__webpack_require__.d(__webpack_exports__, \"gd\", function() { return /* reexport */ GroupSaveInformationComposer; });\n__webpack_require__.d(__webpack_exports__, \"hd\", function() { return /* reexport */ GroupSavePreferencesComposer; });\n__webpack_require__.d(__webpack_exports__, \"id\", function() { return /* reexport */ GroupSettingsComposer; });\n__webpack_require__.d(__webpack_exports__, \"kd\", function() { return /* reexport */ GroupUnfavoriteComposer; });\n__webpack_require__.d(__webpack_exports__, \"L\", function() { return /* reexport */ CallForHelpMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"ic\", function() { return /* reexport */ GetCfhStatusMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"vc\", function() { return /* reexport */ GetPendingCallsForHelpMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"nd\", function() { return /* reexport */ GuideSessionCreateMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"qd\", function() { return /* reexport */ GuideSessionFeedbackMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"rd\", function() { return /* reexport */ GuideSessionGetRequesterRoomMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"sd\", function() { return /* reexport */ GuideSessionGuideDecidesMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"td\", function() { return /* reexport */ GuideSessionInviteRequesterMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"vd\", function() { return /* reexport */ GuideSessionMessageMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"xd\", function() { return /* reexport */ GuideSessionOnDutyUpdateMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"zd\", function() { return /* reexport */ GuideSessionRequesterCancelsMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Bd\", function() { return /* reexport */ GuideSessionResolvedMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Sf\", function() { return /* reexport */ RequestBadgesComposer; });\n__webpack_require__.d(__webpack_exports__, \"Oh\", function() { return /* reexport */ SetActivatedBadgesComposer; });\n__webpack_require__.d(__webpack_exports__, \"ec\", function() { return /* reexport */ GetBotInventoryComposer; });\n__webpack_require__.d(__webpack_exports__, \"Pb\", function() { return /* reexport */ FurnitureListComposer; });\n__webpack_require__.d(__webpack_exports__, \"Wf\", function() { return /* reexport */ RequestPetsComposer; });\n__webpack_require__.d(__webpack_exports__, \"Wh\", function() { return /* reexport */ TradingAcceptComposer; });\n__webpack_require__.d(__webpack_exports__, \"Yh\", function() { return /* reexport */ TradingCancelComposer; });\n__webpack_require__.d(__webpack_exports__, \"Zh\", function() { return /* reexport */ TradingCloseComposer; });\n__webpack_require__.d(__webpack_exports__, \"di\", function() { return /* reexport */ TradingConfirmationComposer; });\n__webpack_require__.d(__webpack_exports__, \"fi\", function() { return /* reexport */ TradingListAddItemComposer; });\n__webpack_require__.d(__webpack_exports__, \"gi\", function() { return /* reexport */ TradingListAddItemsComposer; });\n__webpack_require__.d(__webpack_exports__, \"ii\", function() { return /* reexport */ TradingListItemRemoveComposer; });\n__webpack_require__.d(__webpack_exports__, \"ki\", function() { return /* reexport */ TradingOpenComposer; });\n__webpack_require__.d(__webpack_exports__, \"oi\", function() { return /* reexport */ TradingUnacceptComposer; });\n__webpack_require__.d(__webpack_exports__, \"si\", function() { return /* reexport */ UnseenResetCategoryComposer; });\n__webpack_require__.d(__webpack_exports__, \"ti\", function() { return /* reexport */ UnseenResetItemsComposer; });\n__webpack_require__.d(__webpack_exports__, \"xc\", function() { return /* reexport */ GetPromoArticlesComposer; });\n__webpack_require__.d(__webpack_exports__, \"K\", function() { return /* reexport */ BuyMarketplaceOfferMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"T\", function() { return /* reexport */ CancelMarketplaceOfferMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"pc\", function() { return /* reexport */ GetMarketplaceConfigurationMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"qc\", function() { return /* reexport */ GetMarketplaceOffersMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"rc\", function() { return /* reexport */ GetMarketplaceOwnOffersMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"ee\", function() { return /* reexport */ MakeOfferMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Kf\", function() { return /* reexport */ RedeemMarketplaceOfferCreditsMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"gb\", function() { return /* reexport */ CloseIssuesMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"sb\", function() { return /* reexport */ DefaultSanctionMessageComposer_DefaultSanctionMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"hc\", function() { return /* reexport */ GetCfhChatlogMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"sc\", function() { return /* reexport */ GetModeratorRoomInfoMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"tc\", function() { return /* reexport */ GetModeratorUserInfoMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"yc\", function() { return /* reexport */ GetRoomChatlogMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ac\", function() { return /* reexport */ GetRoomVisitsMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Cc\", function() { return /* reexport */ GetUserChatlogMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"ne\", function() { return /* reexport */ ModAlertMessageComposer_ModAlertMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"oe\", function() { return /* reexport */ ModBanMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"te\", function() { return /* reexport */ ModerateRoomMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"ue\", function() { return /* reexport */ ModeratorActionMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"pe\", function() { return /* reexport */ ModKickMessageComposer_ModKickMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"qe\", function() { return /* reexport */ ModMessageMessageComposer_ModMessageMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"re\", function() { return /* reexport */ ModMuteMessageComposer_ModMuteMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"se\", function() { return /* reexport */ ModTradingLockMessageComposer_ModTradingLockMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"xf\", function() { return /* reexport */ PickIssuesMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Of\", function() { return /* reexport */ ReleaseIssuesMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"qb\", function() { return /* reexport */ ConvertGlobalRoomIdMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ee\", function() { return /* reexport */ NavigatorCategoriesComposer; });\n__webpack_require__.d(__webpack_exports__, \"He\", function() { return /* reexport */ NavigatorInitComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ke\", function() { return /* reexport */ NavigatorSearchComposer; });\n__webpack_require__.d(__webpack_exports__, \"Me\", function() { return /* reexport */ NavigatorSettingsComposer; });\n__webpack_require__.d(__webpack_exports__, \"uf\", function() { return /* reexport */ PetRespectComposer; });\n__webpack_require__.d(__webpack_exports__, \"vf\", function() { return /* reexport */ PetSupplementComposer; });\n__webpack_require__.d(__webpack_exports__, \"lc\", function() { return /* reexport */ GetCommunityGoalHallOfFameMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Pf\", function() { return /* reexport */ RemoveAllRightsMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"jg\", function() { return /* reexport */ RoomDeleteComposer; });\n__webpack_require__.d(__webpack_exports__, \"Hg\", function() { return /* reexport */ RoomLikeRoomComposer; });\n__webpack_require__.d(__webpack_exports__, \"oh\", function() { return /* reexport */ RoomStaffPickComposer; });\n__webpack_require__.d(__webpack_exports__, \"ph\", function() { return /* reexport */ RoomTakeRightsComposer; });\n__webpack_require__.d(__webpack_exports__, \"rh\", function() { return /* reexport */ RoomUnbanUserComposer; });\n__webpack_require__.d(__webpack_exports__, \"Tf\", function() { return /* reexport */ RequestBotCommandConfigurationComposer; });\n__webpack_require__.d(__webpack_exports__, \"Zf\", function() { return /* reexport */ RoomBannedUsersComposer; });\n__webpack_require__.d(__webpack_exports__, \"Eg\", function() { return /* reexport */ RoomInfoComposer; });\n__webpack_require__.d(__webpack_exports__, \"kh\", function() { return /* reexport */ RoomSettingsComposer; });\n__webpack_require__.d(__webpack_exports__, \"wh\", function() { return /* reexport */ RoomUsersWithRightsComposer; });\n__webpack_require__.d(__webpack_exports__, \"Fh\", function() { return /* reexport */ SaveRoomSettingsComposer; });\n__webpack_require__.d(__webpack_exports__, \"C\", function() { return /* reexport */ BotRemoveComposer; });\n__webpack_require__.d(__webpack_exports__, \"E\", function() { return /* reexport */ BotSkillSaveComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ph\", function() { return /* reexport */ SetObjectDataMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Wb\", function() { return /* reexport */ FurniturePlaceComposer_FurniturePlaceComposer; });\n__webpack_require__.d(__webpack_exports__, \"Xb\", function() { return /* reexport */ FurniturePlacePaintComposer; });\n__webpack_require__.d(__webpack_exports__, \"Nb\", function() { return /* reexport */ FurnitureExchangeComposer; });\n__webpack_require__.d(__webpack_exports__, \"Vb\", function() { return /* reexport */ FurnitureMultiStateComposer; });\n__webpack_require__.d(__webpack_exports__, \"Zb\", function() { return /* reexport */ FurnitureStackHeightComposer; });\n__webpack_require__.d(__webpack_exports__, \"Tb\", function() { return /* reexport */ FurnitureMannequinSaveLookComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ub\", function() { return /* reexport */ FurnitureMannequinSaveNameComposer; });\n__webpack_require__.d(__webpack_exports__, \"i\", function() { return /* reexport */ ApplyTonerComposer; });\n__webpack_require__.d(__webpack_exports__, \"pb\", function() { return /* reexport */ ControlYoutubeDisplayPlaybackMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ec\", function() { return /* reexport */ GetYoutubeDisplayStatusMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Rh\", function() { return /* reexport */ SetYoutubeDisplayPlaylistMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"uc\", function() { return /* reexport */ GetOccupiedTilesMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"zc\", function() { return /* reexport */ GetRoomEntryTileMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"wi\", function() { return /* reexport */ UpdateFloorPropertiesMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Jf\", function() { return /* reexport */ RedeemItemClothingComposer; });\n__webpack_require__.d(__webpack_exports__, \"gg\", function() { return /* reexport */ RoomCreateComposer; });\n__webpack_require__.d(__webpack_exports__, \"sh\", function() { return /* reexport */ RoomUnitDropHandItemComposer; });\n__webpack_require__.d(__webpack_exports__, \"th\", function() { return /* reexport */ RoomUnitGiveHandItemComposer; });\n__webpack_require__.d(__webpack_exports__, \"uh\", function() { return /* reexport */ RoomUnitGiveHandItemPetComposer; });\n__webpack_require__.d(__webpack_exports__, \"Jg\", function() { return /* reexport */ RoomMuteComposer; });\n__webpack_require__.d(__webpack_exports__, \"ui\", function() { return /* reexport */ UpdateActionMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"vi\", function() { return /* reexport */ UpdateConditionMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"xi\", function() { return /* reexport */ UpdateTriggerMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"j\", function() { return /* reexport */ ApproveNameMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"V\", function() { return /* reexport */ CatalogGroupsComposer; });\n__webpack_require__.d(__webpack_exports__, \"Di\", function() { return /* reexport */ UserCurrentBadgesComposer; });\n__webpack_require__.d(__webpack_exports__, \"Fi\", function() { return /* reexport */ UserFigureComposer; });\n__webpack_require__.d(__webpack_exports__, \"Gi\", function() { return /* reexport */ UserHomeRoomComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ki\", function() { return /* reexport */ UserProfileComposer; });\n__webpack_require__.d(__webpack_exports__, \"Mi\", function() { return /* reexport */ UserRelationshipsComposer; });\n__webpack_require__.d(__webpack_exports__, \"Bi\", function() { return /* reexport */ UserCurrencyComposer; });\n__webpack_require__.d(__webpack_exports__, \"Si\", function() { return /* reexport */ UserSubscriptionComposer; });\n__webpack_require__.d(__webpack_exports__, \"Hh\", function() { return /* reexport */ ScrGetKickbackInfoMessageComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ni\", function() { return /* reexport */ UserSettingsCameraFollowComposer; });\n__webpack_require__.d(__webpack_exports__, \"Pi\", function() { return /* reexport */ UserSettingsOldChatComposer; });\n__webpack_require__.d(__webpack_exports__, \"Qi\", function() { return /* reexport */ UserSettingsRoomInvitesComposer; });\n__webpack_require__.d(__webpack_exports__, \"Ri\", function() { return /* reexport */ UserSettingsSoundComposer; });\n__webpack_require__.d(__webpack_exports__, \"cd\", function() { return /* reexport */ GroupRank; });\n__webpack_require__.d(__webpack_exports__, \"bi\", function() { return /* reexport */ TradingCloseParser; });\n__webpack_require__.d(__webpack_exports__, \"Td\", function() { return /* reexport */ IssueMessageData_IssueMessageData; });\n__webpack_require__.d(__webpack_exports__, \"mf\", function() { return /* reexport */ PerkEnum; });\n__webpack_require__.d(__webpack_exports__, \"U\", function() { return /* reexport */ CantConnectMessageParser; });\n__webpack_require__.d(__webpack_exports__, \"cg\", function() { return /* reexport */ RoomChatSettings; });\n__webpack_require__.d(__webpack_exports__, \"ig\", function() { return /* reexport */ RoomDataParser; });\n__webpack_require__.d(__webpack_exports__, \"Ig\", function() { return /* reexport */ RoomModerationSettings; });\n__webpack_require__.d(__webpack_exports__, \"Ui\", function() { return /* reexport */ UserSubscriptionParser; });\n__webpack_require__.d(__webpack_exports__, \"Mf\", function() { return /* reexport */ RelationshipStatusEnum; });\n__webpack_require__.d(__webpack_exports__, \"af\", function() { return /* reexport */ NitroSettingsEvent_NitroSettingsEvent; });\n__webpack_require__.d(__webpack_exports__, \"ef\", function() { return /* reexport */ NitroToolbarAnimateIconEvent_NitroToolbarAnimateIconEvent; });\n__webpack_require__.d(__webpack_exports__, \"Xd\", function() { return /* reexport */ LegacyExternalInterface; });\n__webpack_require__.d(__webpack_exports__, \"We\", function() { return /* reexport */ NitroLocalizationEvent_NitroLocalizationEvent; });\n__webpack_require__.d(__webpack_exports__, \"Pe\", function() { return /* reexport */ Nitro_Nitro; });\n__webpack_require__.d(__webpack_exports__, \"Ng\", function() { return /* reexport */ RoomObjectPlacementSource; });\n__webpack_require__.d(__webpack_exports__, \"Yf\", function() { return /* reexport */ RoomBackgroundColorEvent_RoomBackgroundColorEvent; });\n__webpack_require__.d(__webpack_exports__, \"ng\", function() { return /* reexport */ RoomDragEvent_RoomDragEvent; });\n__webpack_require__.d(__webpack_exports__, \"og\", function() { return /* reexport */ RoomEngineDimmerStateEvent_RoomEngineDimmerStateEvent; });\n__webpack_require__.d(__webpack_exports__, \"pg\", function() { return /* reexport */ RoomEngineEvent_RoomEngineEvent; });\n__webpack_require__.d(__webpack_exports__, \"qg\", function() { return /* reexport */ RoomEngineObjectEvent_RoomEngineObjectEvent; });\n__webpack_require__.d(__webpack_exports__, \"rg\", function() { return /* reexport */ RoomEngineObjectPlacedEvent_RoomEngineObjectPlacedEvent; });\n__webpack_require__.d(__webpack_exports__, \"sg\", function() { return /* reexport */ RoomEngineRoomAdEvent_RoomEngineRoomAdEvent; });\n__webpack_require__.d(__webpack_exports__, \"tg\", function() { return /* reexport */ RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent; });\n__webpack_require__.d(__webpack_exports__, \"ug\", function() { return /* reexport */ RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent; });\n__webpack_require__.d(__webpack_exports__, \"vg\", function() { return /* reexport */ RoomEngineUseProductEvent_RoomEngineUseProductEvent; });\n__webpack_require__.d(__webpack_exports__, \"Lg\", function() { return /* reexport */ RoomObjectHSLColorEnabledEvent_RoomObjectHSLColorEnabledEvent; });\n__webpack_require__.d(__webpack_exports__, \"Dh\", function() { return /* reexport */ RoomZoomEvent_RoomZoomEvent; });\n__webpack_require__.d(__webpack_exports__, \"hf\", function() { return /* reexport */ ObjectDataFactory_ObjectDataFactory; });\n__webpack_require__.d(__webpack_exports__, \"Wd\", function() { return /* reexport */ LegacyDataType_LegacyDataType; });\n__webpack_require__.d(__webpack_exports__, \"Sh\", function() { return /* reexport */ StringDataType_StringDataType; });\n__webpack_require__.d(__webpack_exports__, \"Kg\", function() { return /* reexport */ RoomObjectCategory; });\n__webpack_require__.d(__webpack_exports__, \"Mg\", function() { return /* reexport */ RoomObjectOperationType; });\n__webpack_require__.d(__webpack_exports__, \"Og\", function() { return /* reexport */ RoomObjectType; });\n__webpack_require__.d(__webpack_exports__, \"Pg\", function() { return /* reexport */ RoomObjectUserType; });\n__webpack_require__.d(__webpack_exports__, \"Qg\", function() { return /* reexport */ RoomObjectVariable; });\n__webpack_require__.d(__webpack_exports__, \"Sg\", function() { return /* reexport */ RoomPreviewer_RoomPreviewer; });\n__webpack_require__.d(__webpack_exports__, \"xh\", function() { return /* reexport */ RoomVariableEnum; });\n__webpack_require__.d(__webpack_exports__, \"Jc\", function() { return /* reexport */ GroupBadgePart_GroupBadgePart; });\n__webpack_require__.d(__webpack_exports__, \"fg\", function() { return /* reexport */ RoomControllerLevel; });\n__webpack_require__.d(__webpack_exports__, \"qh\", function() { return /* reexport */ RoomTradingLevelEnum; });\n__webpack_require__.d(__webpack_exports__, \"Jh\", function() { return /* reexport */ SecurityLevel; });\n__webpack_require__.d(__webpack_exports__, \"t\", function() { return /* reexport */ BadgeImageReadyEvent_BadgeImageReadyEvent; });\n__webpack_require__.d(__webpack_exports__, \"Vg\", function() { return /* reexport */ RoomSessionChatEvent_RoomSessionChatEvent; });\n__webpack_require__.d(__webpack_exports__, \"Wg\", function() { return /* reexport */ RoomSessionDanceEvent_RoomSessionDanceEvent; });\n__webpack_require__.d(__webpack_exports__, \"Xg\", function() { return /* reexport */ RoomSessionDimmerPresetsEvent_RoomSessionDimmerPresetsEvent; });\n__webpack_require__.d(__webpack_exports__, \"Yg\", function() { return /* reexport */ RoomSessionDoorbellEvent_RoomSessionDoorbellEvent; });\n__webpack_require__.d(__webpack_exports__, \"Zg\", function() { return /* reexport */ RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent; });\n__webpack_require__.d(__webpack_exports__, \"ah\", function() { return /* reexport */ RoomSessionEvent_RoomSessionEvent; });\n__webpack_require__.d(__webpack_exports__, \"bh\", function() { return /* reexport */ RoomSessionFavoriteGroupUpdateEvent_RoomSessionFavoriteGroupUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"ch\", function() { return /* reexport */ RoomSessionPetInfoUpdateEvent_RoomSessionPetInfoUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"dh\", function() { return /* reexport */ RoomSessionPetStatusUpdateEvent_RoomSessionPetStatusUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"eh\", function() { return /* reexport */ RoomSessionPollEvent_RoomSessionPollEvent; });\n__webpack_require__.d(__webpack_exports__, \"fh\", function() { return /* reexport */ RoomSessionPresentEvent_RoomSessionPresentEvent; });\n__webpack_require__.d(__webpack_exports__, \"gh\", function() { return /* reexport */ RoomSessionUserBadgesEvent_RoomSessionUserBadgesEvent; });\n__webpack_require__.d(__webpack_exports__, \"hh\", function() { return /* reexport */ RoomSessionUserDataUpdateEvent_RoomSessionUserDataUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"ih\", function() { return /* reexport */ RoomSessionUserFigureUpdateEvent_RoomSessionUserFigureUpdateEvent; });\n__webpack_require__.d(__webpack_exports__, \"jh\", function() { return /* reexport */ RoomSessionWordQuizEvent_RoomSessionWordQuizEvent; });\n__webpack_require__.d(__webpack_exports__, \"bc\", function() { return /* reexport */ FurnitureType; });\n__webpack_require__.d(__webpack_exports__, \"Fd\", function() { return /* reexport */ HabboClubLevelEnum; });\n__webpack_require__.d(__webpack_exports__, \"vh\", function() { return /* reexport */ RoomUserData; });\n__webpack_require__.d(__webpack_exports__, \"De\", function() { return /* reexport */ MouseEventType; });\n__webpack_require__.d(__webpack_exports__, \"Vh\", function() { return /* reexport */ TouchEventType; });\n__webpack_require__.d(__webpack_exports__, \"o\", function() { return /* reexport */ AvatarExpressionEnum; });\n__webpack_require__.d(__webpack_exports__, \"ob\", function() { return /* reexport */ ContextMenuEnum; });\n__webpack_require__.d(__webpack_exports__, \"Ah\", function() { return /* reexport */ RoomWidgetEnum; });\n__webpack_require__.d(__webpack_exports__, \"Bh\", function() { return /* reexport */ RoomWidgetEnumItemExtradataParameter; });\n__webpack_require__.d(__webpack_exports__, \"Ch\", function() { return /* reexport */ RoomWidgetFurniInfoUsagePolicyEnum; });\n__webpack_require__.d(__webpack_exports__, \"Th\", function() { return /* reexport */ SystemChatStyleEnum; });\n__webpack_require__.d(__webpack_exports__, \"Bb\", function() { return /* reexport */ FixedSizeStack; });\n__webpack_require__.d(__webpack_exports__, \"Lb\", function() { return /* reexport */ FriendlyTime_FriendlyTime; });\n__webpack_require__.d(__webpack_exports__, \"Kd\", function() { return /* reexport */ HabboWebTools_HabboWebTools; });\n__webpack_require__.d(__webpack_exports__, \"aj\", function() { return /* reexport */ WebGL_WebGL; });\n__webpack_require__.d(__webpack_exports__, \"vb\", function() { return /* reexport */ Dispose_Dispose; });\n__webpack_require__.d(__webpack_exports__, \"wb\", function() { return /* reexport */ DropBounce_DropBounce; });\n__webpack_require__.d(__webpack_exports__, \"xb\", function() { return /* reexport */ EaseOut_EaseOut; });\n__webpack_require__.d(__webpack_exports__, \"Vd\", function() { return /* reexport */ JumpBy_JumpBy; });\n__webpack_require__.d(__webpack_exports__, \"Ce\", function() { return /* reexport */ Motions_Motions; });\n__webpack_require__.d(__webpack_exports__, \"If\", function() { return /* reexport */ Queue_Queue; });\n__webpack_require__.d(__webpack_exports__, \"Zi\", function() { return /* reexport */ Wait_Wait; });\n__webpack_require__.d(__webpack_exports__, \"h\", function() { return /* reexport */ AlphaTolerance; });\n__webpack_require__.d(__webpack_exports__, \"kb\", function() { return /* reexport */ ColorConverter_ColorConverter; });\n__webpack_require__.d(__webpack_exports__, \"wg\", function() { return /* reexport */ RoomEnterEffect_RoomEnterEffect; });\n__webpack_require__.d(__webpack_exports__, \"Cg\", function() { return /* reexport */ RoomGeometry_RoomGeometry; });\n__webpack_require__.d(__webpack_exports__, \"Dg\", function() { return /* reexport */ RoomId; });\n__webpack_require__.d(__webpack_exports__, \"Tg\", function() { return /* reexport */ RoomRotatingEffect_RoomRotatingEffect; });\n__webpack_require__.d(__webpack_exports__, \"nh\", function() { return /* reexport */ RoomShakingEffect_RoomShakingEffect; });\n__webpack_require__.d(__webpack_exports__, \"Uh\", function() { return /* reexport */ TextureUtils_TextureUtils; });\n__webpack_require__.d(__webpack_exports__, \"Wi\", function() { return /* reexport */ Vector3d; });\n\n// UNUSED EXPORTS: AssetManager, NitroBundle, Disposable, NitroManager, BinaryReader, BinaryWriter, Byte, EvaWireDataWrapper, EvaWireFormat, Short, CommunicationManager, ClientDeviceCategoryEnum, ClientPlatformEnum, WebSocketEventEnum, SocketConnection, SocketConnectionEvent, MessageClassManager, MessageEvent, ConfigurationManager, NitroCore, ArrayBufferToBase64, NitroTimer, NitroBaseTexture, NitroPolygon, NitroRenderTexture, NitroSpritesheet, PixiInteractionEventProxy, PixiLoaderProxy, ActionDefinition, ActionType, ActiveActionData, AvatarActionManager, AssetAlias, AssetAliasCollection, AddDataContainer, Animation, AnimationManager, AvatarAnimationLayerData, AvatarDataContainer, DirectionDataContainer, SpriteDataContainer, AvatarAssetDownloadLibrary, AvatarAssetDownloadManager, AvatarImage, AvatarImageBodyPartContainer, AvatarImagePartContainer, AvatarRenderManager, AvatarStructure, AvatarImageActionCache, AvatarImageBodyPartCache, AvatarImageCache, AvatarImageDirectionCache, ImageData, EffectAssetDownloadLibrary, EffectAssetDownloadManager, AvatarEditorInstanceId, AvatarEditorSideCategory, AvatarGuideStatus, GeometryType, RenderMode, AvatarRenderEffectLibraryEvent, AvatarRenderEvent, AvatarRenderLibraryEvent, AvatarModelGeometry, AvatarSet, GeometryBodyPart, GeometryItem, Matrix4x4, Node3D, Vector3D, PlaceHolderAvatarImage, AnimationAction, AnimationActionPart, AvatarAnimationFrame, AvatarAnimationData, AvatarCanvas, AvatarStructureDownload, FigurePart, FigurePartSet, Palette, PartColor, SetType, FigureSetData, ActivePartSet, PartDefinition, PartSetsData, RoomCameraWidgetEffect, RoomCameraWidgetManager, NitroCommunicationDemo, InterstitialMessageEvent, RoomAdErrorEvent, AvailabilityStatusMessageEvent, AvailabilityTimeMessageEvent, ChangeUserNameResultMessageEvent, OutfitData, WardrobeMessageEvent, BotReceivedMessageEvent, CallForHelpCategoryData, CallForHelpTopicData, CfhSanctionTypeData, CompetitionStatusMessageEvent, ThumbnailStatusMessageEvent, BundleDiscountRuleset, BundleDiscountRulesetMessageEvent, CatalogLocalizationData, CatalogPageExpirationEvent, CatalogPageMessageOfferData, CatalogPageWithEarliestExpiryMessageEvent, ClubGiftData, ClubOfferData, ClubOfferExtendedData, DirectSMSClubBuyAvailableMessageEvent, HabboClubExtendOfferMessageEvent, IsOfferGiftableMessageEvent, LimitedOfferAppearingNextMessageEvent, NodeData, NotEnoughBalanceMessageEvent, PurchaseOKMessageOfferData, RoomAdPurchaseInfoEvent, SeasonalCalendarDailyOfferMessageEvent, TargetedOfferData, TargetedOfferEvent, TargetedOfferNotFoundEvent, ClientPingEvent, CraftableProductsEvent, CraftingRecipeEvent, CraftingRecipesAvailableEvent, CraftingResultEvent, AcceptFriendFailerData, AcceptFriendResultEvent, FindFriendsProcessResultEvent, FollowFriendFailedEvent, FriendCategoryData, FriendNotificationEvent, FriendParser, FriendRequestData, HabboSearchResultData, InstantMessageErrorEvent, MessageErrorEvent, MiniMailNewMessageEvent, MiniMailUnreadCountEvent, LoadGameUrlEvent, ForumDataMessageEvent, ForumsListMessageEvent, GuildForumThreadsEvent, PostMessageMessageEvent, PostThreadMessageEvent, ThreadMessagesMessageEvent, UnreadForumsCountMessageEvent, UpdateMessageMessageEvent, UpdateThreadMessageEvent, NoobnessLevelMessageEvent, CallForHelpDisabledNotifyMessageEvent, CallForHelpPendingCallsDeletedMessageEvent, CallForHelpPendingCallsMessageEvent, CallForHelpReplyMessageEvent, ChatReviewSessionDetachedMessageEvent, ChatReviewSessionOfferedToGuideMessageEvent, ChatReviewSessionResultsMessageEvent, ChatReviewSessionStartedMessageEvent, ChatReviewSessionVotingStatusMessageEvent, GuideSessionErrorMessageEvent, GuideTicketCreationResultMessageEvent, GuideTicketResolutionMessageEvent, HotelMergeNameChangeEvent, QuizDataMessageEvent, QuizResultsMessageEvent, IncomingHeader, AchievementData, AchievementResolutionData, AvatarEffect, AvatarEffectActivatedEvent, AvatarEffectAddedEvent, AvatarEffectExpiredEvent, AvatarEffectSelectedEvent, AvatarEffectsEvent, IsBadgeRequestFulfilledEvent, _Str_16135, _Str_17532, PresentOpenedMessageEvent, ItemDataStructure, PromoArticleData, CommunityGoalVoteMessageEvent, MarketplaceCanMakeOfferResult, MarketplaceItemStatsEvent, MarketplaceOffer, CfhChatlogData, ChatlineData, ChatRecordData, ModeratorUserInfoData, ModRoomData, RoomModerationData, RoomVisitData, RoomVisitsData, UserChatlogData, MysteryBoxKeysEvent, NavigatorCollapsedEvent, NavigatorEventCategoriesEvent, NavigatorLiftedEvent, NavigatorSearchesEvent, NavigatorSettingsEvent, AchievementLevelUpData, BotErrorEvent, HotelWillShutdownEvent, PetPlacingErrorEvent, PollContentsEvent, PollErrorEvent, PollOfferEvent, QuestionAnsweredEvent, QuestionEvent, QuestionFinishedEvent, CommunityGoalData, CommunityGoalEarnedPrizesMessageEvent, CommunityGoalHallOfFameData, CommunityGoalProgressMessageEvent, ConcurrentUsersGoalProgressMessageEvent, EpicPopupMessageEvent, HallOfFameEntryData, PrizeData, QuestCancelledMessageEvent, QuestCompletedMessageEvent, QuestDailyMessageEvent, QuestMessageData, QuestMessageEvent, QuestsMessageEvent, SeasonalQuestsMessageEvent, RoomRightsClearEvent, RoomRightsEvent, RoomRightsOwnerEvent, RoomSettingsErrorEvent, RoomSettingsSavedEvent, ObjectData, ObjectsDataUpdateEvent, ObjectsRollingEvent, DiceValueMessageEvent, FurnitureFloorAddEvent, FurnitureFloorEvent, FurnitureFloorRemoveEvent, FurnitureFloorUpdateEvent, FurnitureAliasesEvent, FurnitureDataEvent, FurniturePostItStickyPoleOpenEvent, ItemDataUpdateMessageEvent, OneWayDoorStatusMessageEvent, RoomDimmerPresetsMessageData, RoomDimmerPresetsEvent, FurnitureWallAddEvent, FurnitureWallEvent, FurnitureWallRemoveEvent, FurnitureWallUpdateEvent, RoomHeightMapEvent, RoomHeightMapUpdateEvent, RoomPaintEvent, RoomReadyMessageEvent, BreedingPetInfo, PetBreedingResultData, PetExperienceEvent, PetFigureUpdateEvent, PetInfoEvent, RarityCategoryData, YouArePlayingGameEvent, FloodControlEvent, RemainingMuteEvent, RoomUnitChatEvent, RoomUnitChatShoutEvent, RoomUnitChatWhisperEvent, RoomUnitTypingEvent, RoomUnitDanceEvent, RoomUnitEffectEvent, RoomUnitEvent, RoomUnitExpressionEvent, RoomUnitHandItemEvent, RoomUnitHandItemReceivedEvent, RoomUnitIdleEvent, RoomUnitInfoEvent, RoomUnitNumberEvent, RoomUnitRemoveEvent, RoomUnitStatusEvent, RoomMutedEvent, Triggerable, BannedUserData, FlatControllerData, AuthenticatedEvent, JukeboxPlayListFullMessageEvent, JukeboxSongDisksMessageEvent, NowPlayingMessageEvent, OfficialSongIdMessageEvent, PlayListEntry, PlayListMessageEvent, PlayListSongAddedMessageEvent, SongInfoEntry, TraxSongInfoMessageEvent, UserSongDisksInventoryMessageEvent, TalentTrackMessageEvent, HabboGroupBadgesMessageEvent, IgnoredUsersEvent, IgnoreResultEvent, InClientLinkEvent, PetSupplementedNotificationEvent, PetSupplementTypeEnum, ScrKickbackData, GetInterstitialMessageComposer, InterstitialShownMessageComposer, PhotoCompetitionMessageComposer, RenderRoomMessageComposer, RenderRoomThumbnailMessageComposer, GetBundleDiscountRulesetComposer, GetCatalogPageExpirationComposer, GetCatalogPageWithEarliestExpiryComposer, GetDirectClubBuyAvailableComposer, GetHabboBasicMembershipExtendOfferComposer, GetHabboClubExtendOfferMessageComposer, GetIsOfferGiftableComposer, GetLimitedOfferAppearingNextComposer, GetNextTargetedOfferComposer, GetRoomAdPurchaseInfoComposer, GetSeasonalCalendarDailyOfferComposer, GetTargetedOfferComposer, MarkCatalogNewAdditionsPageOpenedComposer, PurchaseBasicMembershipExtensionComposer, PurchaseRoomAdMessageComposer, PurchaseTargetedOfferComposer, PurchaseVipMembershipExtensionComposer, RoomAdPurchaseInitiatedComposer, SetTargetedOfferStateComposer, ShopTargetedOfferViewedComposer, ForwardToACompetitionRoomMessageComposer, ForwardToASubmittableRoomMessageComposer, ForwardToRandomCompetitionRoomMessageComposer, GetCurrentTimingCodeMessageComposer, GetIsUserPartOfCompetitionMessageComposer, GetSecondsUntilMessageComposer, RoomCompetitionInitMessageComposer, SubmitRoomToCompetitionMessageComposer, VoteForRoomMessageComposer, CraftComposer, CraftSecretComposer, GetCraftableProductsComposer, GetCraftingRecipeComposer, GetCraftingRecipesAvailableComposer, FindNewFriendsMessageComposer, FriendListUpdateComposer, VisitUserComposer, GetResolutionAchievementsMessageComposer, GetGiftMessageComposer, ResetPhoneNumberStateMessageComposer, SetPhoneNumberVerificationStatusMessageComposer, TryPhoneNumberMessageComposer, VerifyCodeMessageComposer, GetForumsListMessageComposer, GetForumStatsMessageComposer, GetMessagesMessageComposer, GetThreadMessageComposer, GetThreadsMessageComposer, GetUnreadForumsCountMessageComposer, ModerateMessageMessageComposer, ModerateThreadMessageComposer, PostMessageMessageComposer, UpdateForumReadMarkerMessageComposer, UpdateForumReadMarkerEntry, UpdateForumSettingsMessageComposer, UpdateThreadMessageComposer, AuthenticationMessageComposer, ClientHelloMessageComposer, DisconnectMessageComposer, InfoRetrieveMessageComposer, PongMessageComposer, SSOTicketMessageComposer, UniqueIDMessageComposer, VersionCheckMessageComposer, CallForHelpFromForumMessageMessageComposer, CallForHelpFromForumThreadMessageComposer, CallForHelpFromIMMessageComposer, CallForHelpFromPhotoMessageComposer, CallForHelpFromSelfieMessageComposer, ChatReviewGuideDecidesOnOfferMessageComposer, ChatReviewGuideDetachedMessageComposer, ChatReviewGuideVoteMessageComposer, ChatReviewSessionCreateMessageComposer, DeletePendingCallsForHelpMessageComposer, GetFaqCategoryMessageComposer, GetFaqTextMessageComposer, GetGuideReportingStatusMessageComposer, GetQuizQuestionsComposer, GuideSessionIsTypingMessageComposer, GuideSessionReportMessageComposer, PostQuizAnswersComposer, SearchFaqsMessageComposer, FurnitureList2Composer, CommunityGoalVoteMessageComposer, BuyMarketplaceTokensMessageComposer, GetMarketplaceCanMakeOfferComposer, GetMarketplaceItemStatsComposer, CloseIssueDefaultActionMessageComposer, ModToolPreferencesComposer, ModToolSanctionComposer, NavigatorCategoryListModeComposer, NavigatorSearchCloseComposer, NavigatorSearchOpenComposer, NavigatorSearchSaveComposer, NavigatorSettingsSaveComposer, RemoveOwnRoomRightsRoomMessageComposer, OutgoingHeader, PetMountComposer, RemovePetSaddleComposer, RequestPetInfoComposer, TogglePetBreedingComposer, TogglePetRidingComposer, UsePetProductComposer, PollAnswerComposer, PollRejectComposer, PollStartComposer, AcceptQuestMessageComposer, ActivateQuestMessageComposer, CancelQuestMessageComposer, FriendRequestQuestCompleteMessageComposer, GetCommunityGoalEarnedPrizesMessageComposer, GetCommunityGoalProgressMessageComposer, GetConcurrentUsersGoalProgressMessageComposer, GetConcurrentUsersRewardMessageComposer, GetDailyQuestMessageComposer, GetQuestsMessageComposer, GetSeasonalQuestsOnlyMessageComposer, OpenQuestTrackerMessageComposer, RedeemCommunityGoalPrizeMessageComposer, RejectQuestMessageComposer, StartCampaignMessageComposer, RoomDoorbellAccessComposer, RoomEnterComposer, RoomAmbassadorAlertComposer, RoomBanUserComposer, RoomGiveRightsComposer, RoomKickUserComposer, RoomMuteUserComposer, BotPlaceComposer, CompostPlantMessageComposer, GetItemDataComposer, HarvestPetMessageComposer, PetMessageComposer, PetMoveComposer, PetPlaceComposer, PetRemoveComposer, RemoveWallItemComposer, SetItemDataMessageComposer, MoodlightSettingsComposer, MoodlightSettingsSaveComposer, MoodlightTogggleStateComposer, FurnitureFloorUpdateComposer, FurnitureAliasesComposer, FurnitureGroupInfoComposer, FurniturePickupComposer, FurniturePostItPlaceComposer, FurniturePostItSaveStickyPoleComposer, FurnitureColorWheelComposer, FurnitureDiceActivateComposer, FurnitureDiceDeactivateComposer, FurnitureOneWayDoorComposer, FurnitureRandomStateComposer, FurnitureWallMultiStateComposer, OpenPresentComposer, FurnitureWallUpdateComposer, GetRoomEntryDataMessageComposer, GoToFlatMessageComposer, RoomUnitChatComposer, RoomUnitChatShoutComposer, RoomUnitChatStyleComposer, RoomUnitChatWhisperComposer, RoomUnitTypingStartComposer, RoomUnitTypingStopComposer, RoomUnitActionComposer, RoomUnitDanceComposer, RoomUnitLookComposer, RoomUnitPostureComposer, RoomUnitSignComposer, RoomUnitWalkComposer, ApplySnapshotMessageComposer, OpenMessageComposer, AddJukeboxDiskComposer, GetJukeboxPlayListMessageComposer, GetNowPlayingMessageComposer, GetOfficialSongIdMessageComposer, GetSongInfoMessageComposer, GetSoundMachinePlayListMessageComposer, GetSoundSettingsComposer, GetUserSongDisksMessageComposer, RemoveJukeboxDiskComposer, TalentTrackComposer, GetExtendedProfileByNameMessageComposer, GetIgnoredUsersComposer, IgnoreUserComposer, IgnoreUserIdComposer, UnignoreUserComposer, UserMottoComposer, GetHabboGroupBadgesMessageComposer, UserRespectComposer, InterstitialMessageParser, RoomAdErrorMessageParser, AvailabilityStatusMessageParser, AvailabilityTimeMessageParser, HotelClosedAndOpensMessageParser, HotelClosesAndWillOpenAtMessageParser, HotelWillCloseInMinutesMessageParser, MaintenanceStatusMessageParser, ChangeUserNameResultMessageParser, CheckUserNameResultMessageParser, FigureUpdateParser, WardrobeMessageParser, BotAddedToInventoryParser, BotData, BotInventoryMessageParser, BotReceivedMessageParser, BotRemovedFromInventoryParser, CfhSanctionMessageParser, CfhTopicsInitMessageParser, SanctionStatusMessageParser, CameraPublishStatusMessageParser, CameraPurchaseOKMessageParser, CameraStorageUrlMessageParser, CompetitionStatusMessageParser, InitCameraMessageParser, ThumbnailStatusMessageParser, CampaignCalendarData, CampaignCalendarDataMessageParser, CampaignCalendarDoorOpenedMessageParser, BonusRareInfoMessageParser, BuildersClubFurniCountMessageParser, BuildersClubSubscriptionStatusMessageParser, BundleDiscountRulesetMessageParser, CatalogIndexMessageParser, CatalogPageExpirationParser, CatalogPageMessageParser, CatalogPageWithEarliestExpiryMessageParser, CatalogPublishedMessageParser, ClubGiftInfoParser, ClubGiftSelectedParser, DirectSMSClubBuyAvailableMessageParser, GiftReceiverNotFoundParser, GiftWrappingConfigurationParser, HabboClubExtendOfferMessageParser, HabboClubOffersMessageParser, IsOfferGiftableMessageParser, LimitedEditionSoldOutParser, LimitedOfferAppearingNextMessageParser, NotEnoughBalanceMessageParser, ProductOfferMessageParser, PurchaseErrorMessageParser, PurchaseNotAllowedMessageParser, PurchaseOKMessageParser, RoomAdPurchaseInfoEventParser, SeasonalCalendarDailyOfferMessageParser, SellablePetPaletteData, SellablePetPalettesParser, TargetedOfferNotFoundParser, TargetedOfferParser, VoucherRedeemErrorMessageParser, VoucherRedeemOkMessageParser, ClientPingParser, CompetitionEntrySubmitResultMessageParser, CompetitionVotingInfoMessageParser, CompetitionVotingInfoResult, CurrentTimingCodeMessageParser, IsUserPartOfCompetitionMessageParser, NoOwnedRoomsAlertMessageParser, SecondsUntilMessageParser, CraftableProductsMessageParser, CraftingRecipeIngredientParser, CraftingRecipeMessageParser, CraftingRecipesAvailableMessageParser, CraftingResultMessageParser, CraftingResultObjectParser, DesktopViewParser, AcceptFriendResultParser, FindFriendsProcessResultParser, FollowFriendFailedParser, FriendListFragmentParser, FriendListUpdateParser, FriendNotificationParser, FriendRequestsParser, HabboSearchResultParser, InstantMessageErrorParser, MessageErrorParser, MessengerInitParser, MiniMailNewMessageParser, MiniMailUnreadCountParser, NewConsoleMessageParser, NewFriendRequestParser, RoomInviteErrorParser, RoomInviteParser, LoadGameUrlParser, GenericErrorParser, GroupBadgePartsParser, GroupBuyDataParser, GroupConfirmMemberRemoveParser, GroupInformationParser, GroupMembersParser, GroupPurchasedParser, GroupSettingsParser, HabboGroupDeactivatedMessageParser, GroupDataBadgePart, GroupMemberParser, NoobnessLevelMessageParser, CallForHelpDisabledNotifyMessageParser, CallForHelpPendingCallsDeletedMessageParser, CallForHelpPendingCallsMessageParser, CallForHelpReplyMessageParser, CallForHelpResultMessageParser, ChatReviewSessionDetachedMessageParser, ChatReviewSessionOfferedToGuideMessageParser, ChatReviewSessionResultsMessageParser, ChatReviewSessionStartedMessageParser, ChatReviewSessionVotingStatusMessageParser, GuideOnDutyStatusMessageParser, GuideReportingStatusMessageParser, GuideSessionAttachedMessageParser, GuideSessionDetachedMessageParser, GuideSessionEndedMessageParser, GuideSessionErrorMessageParser, GuideSessionInvitedToGuideRoomMessageParser, GuideSessionMessageMessageParser, GuideSessionPartnerIsTypingMessageParser, GuideSessionRequesterRoomMessageParser, GuideSessionStartedMessageParser, GuideTicketCreationResultMessageParser, GuideTicketResolutionMessageParser, HotelMergeNameChangeParser, IssueCloseNotificationMessageParser, QuizDataMessageParser, QuizResultsMessageParser, AchievementParser, AchievementsParser, AchievementsScoreParser, AvatarEffectActivatedParser, AvatarEffectAddedParser, AvatarEffectExpiredParser, AvatarEffectSelectedParser, AvatarEffectsParser, BadgeAndPointLimit, BadgePointLimitsParser, BadgeReceivedParser, BadgesParser, IsBadgeRequestFulfilledParser, FigureSetIdsMessageParser, _Str_8728, _Str_9021, FurnitureListAddOrUpdateParser, FurnitureListInvalidateParser, FurnitureListParser, FurnitureListRemovedParser, FurniturePostItPlacedParser, PresentOpenedMessageParser, FurnitureListItemParser, ConfirmBreedingRequestParser, ConfirmBreedingResultParser, GoToBreedingNestFailureParser, NestBreedingSuccessParser, PetAddedToInventoryParser, PetBreedingMessageParser, PetData, PetFigureDataParser, PetInventoryParser, PetReceivedMessageParser, PetRemovedFromInventoryParser, UserCreditsMessageParser, TradingAcceptParser, TradingCompletedParser, TradingConfirmationParser, TradingListItemParser, TradingNotOpenParser, TradingOpenFailedParser, TradingOpenParser, TradingOtherNotAllowedParser, TradingYouAreNotAllowedParser, PromoArticlesMessageParser, CommunityVoteReceivedParser, MarketplaceBuyOfferResultParser, MarketplaceCancelOfferResultParser, MarketplaceCanMakeOfferResultParser, MarketplaceConfigurationMessageParser, MarketplaceMakeOfferResultParser, MarketplaceItemStatsParser, MarketplaceOfferData, MarketplaceOffersParser, MarketplaceOwnOffersParser, CfhChatlogMessageParser, IssueDeletedMessageParser, IssueInfoMessageParser, IssuePickFailedMessageParser, ModerationCautionParser, ModeratorActionResultMessageParser, ModeratorInitData, ModeratorInitMessageParser, ModeratorMessageParser, ModeratorRoomInfoMessageParser, ModeratorToolPreferencesMessageParser, ModeratorUserInfoMessageParser, PatternMatchData, RoomChatlogMessageParser, RoomVisitsMessageParser, UserBannedMessageParser, UserChatlogMessageParser, MysteryBoxKeysParser, CanCreateRoomEventParser, NavigatorCategoriesParser, NavigatorCategoryDataParser, NavigatorCollapsedParser, NavigatorEventCategoriesParser, NavigatorEventCategoryDataParser, NavigatorHomeRoomParser, NavigatorLiftedDataParser, NavigatorLiftedParser, NavigatorMetadataParser, NavigatorOpenRoomCreatorParser, NavigatorSearchesParser, NavigatorSearchParser, NavigatorSettingsParser, NavigatorSavedSearch, NavigatorSearchResultList, NavigatorSearchResultSet, NavigatorTopLevelContext, AchievementNotificationMessageParser, ActivityPointNotificationParser, BotErrorEventParser, ClubGiftNotificationParser, HabboBroadcastMessageParser, HotelWillShutdownParser, InfoFeedEnableMessageParser, MOTDNotificationParser, NotificationDialogMessageParser, PetLevelNotificationParser, PetPlacingErrorEventParser, UnseenItemsParser, PerkData, PerkAllowancesMessageParser, PollChoice, PollContentsParser, PollErrorParser, PollOfferParser, PollQuestion, QuestionAnsweredParser, QuestionFinishedParser, QuestionParser, CommunityGoalEarnedPrizesMessageParser, CommunityGoalHallOfFameMessageParser, CommunityGoalProgressMessageParser, ConcurrentUsersGoalProgressMessageParser, EpicPopupMessageParser, QuestCancelledMessageParser, QuestCompletedMessageParser, QuestDailyMessageParser, QuestMessageParser, QuestsMessageParser, SeasonalQuestsParser, RoomDoorbellAcceptedParser, RoomDoorbellParser, RoomDoorbellRejectedParser, RoomRightsClearParser, RoomRightsOwnerParser, RoomRightsParser, RoomEnterParser, RoomFowardParser, BotCommandConfigurationParser, RoomChatSettingsParser, RoomEntryInfoMessageParser, RoomInfoParser, RoomScoreParser, RoomSettingsErrorParser, RoomSettingsParser, RoomSettingsSavedParser, RoomSettingsUpdatedParser, FavoriteMembershipUpdateMessageParser, ObjectsDataUpdateParser, ObjectsRollingParser, RoomCreatedParser, DiceValueMessageParser, FurnitureFloorAddParser, FurnitureFloorDataParser, FurnitureFloorParser, FurnitureFloorRemoveParser, FurnitureFloorUpdateParser, FurnitureAliasesParser, FurnitureDataParser, FurnitureStackHeightParser, GroupFurniContextMenuInfoMessageParser, ItemDataUpdateMessageParser, LoveLockFurniFinishedParser, LoveLockFurniFriendConfirmedParser, LoveLockFurniStartParser, OneWayDoorStatusMessageParser, RoomDimmerPresetsMessageParser, FurnitureWallAddParser, FurnitureWallDataParser, FurnitureWallParser, FurnitureWallRemoveParser, FurnitureWallUpdateParser, YoutubeControlVideoMessageParser, YoutubeDisplayPlaylist, YoutubeDisplayPlaylistsMessageParser, YoutubeDisplayVideoMessageParser, FloorHeightMapMessageParser, RoomEntryTileMessageParser, RoomHeightMapParser, RoomHeightMapUpdateParser, RoomOccupiedTilesMessageParser, RoomPaintParser, RoomReadyMessageParser, RoomVisualizationSettingsParser, PetExperienceParser, PetFigureUpdateParser, PetInfoParser, PetStatusUpdateParser, YouArePlayingGameParser, YouAreSpectatorMessageParser, FloodControlParser, RemainingMuteParser, RoomUnitChatParser, RoomUnitTypingParser, RoomUnitDanceParser, RoomUnitEffectParser, RoomUnitExpressionParser, RoomUnitHandItemParser, RoomUnitHandItemReceivedParser, RoomUnitIdleParser, RoomUnitInfoParser, RoomUnitNumberParser, RoomUnitParser, RoomUnitRemoveParser, RoomUnitStatusAction, RoomUnitStatusMessage, RoomUnitStatusParser, UserMessageData, RoomMutedParser, WiredFurniActionParser, WiredFurniConditionParser, WiredFurniTriggerParser, WiredOpenParser, WiredRewardResultMessageParser, WiredSaveSuccessParser, WiredValidationErrorParser, BannedUsersFromRoomParser, FlatControllerAddedParser, FlatControllerRemovedParser, FlatControllersParser, AuthenticatedParser, JukeboxPlayListFullMessageParser, JukeboxSongDisksMessageParser, NowPlayingMessageParser, OfficialSongIdMessageParser, PlayListMessageParser, PlayListSongAddedMessageParser, TraxSongInfoMessageParser, UserSongDisksInventoryMessageParser, TalentTrackLevel, TalentTrackParser, TalentTrackRewardProduct, TalentTrackTask, UserPermissionsParser, ApproveNameResultParser, RelationshipStatusInfo, RelationshipStatusInfoMessageParser, UserCurrentBadgesParser, UserFigureParser, UserInfoDataParser, UserInfoParser, UserNameChangeMessageParser, UserProfileParser, UserSettingsParser, HabboGroupBadgesMessageParser, HabboGroupEntryData, IgnoredUsersParser, IgnoreResultParser, InClientLinkParser, UserCreditsParser, UserCurrencyParser, PetRespectNotificationParser, PetSupplementedNotificationParser, RespectReceivedParser, RoomEntryData, ScrSendKickbackInfoMessageParser, UserWardrobePageParser, NitroCommunicationManager, NitroMessages, ToolbarIconEnum, NitroSoundEvent, NitroToolbarEvent, GameMessageHandler, BadgeBaseAndLevel, NitroLocalizationManager, FriendFurniEngravingWidgetType, RoomEngineObjectPlacedOnUserEvent, RoomEngineObjectPlaySoundEvent, RoomObjectBadgeAssetEvent, RoomObjectDataRequestEvent, RoomObjectDimmerStateUpdateEvent, RoomObjectFloorHoleEvent, RoomObjectFurnitureActionEvent, RoomObjectHSLColorEnableEvent, RoomObjectMoveEvent, RoomObjectPlaySoundIdEvent, RoomObjectRoomAdEvent, RoomObjectSamplePlaybackEvent, RoomObjectSoundMachineEvent, RoomObjectStateChangedEvent, RoomObjectTileMouseEvent, RoomObjectWallMouseEvent, RoomObjectWidgetRequestEvent, RoomToObjectOwnAvatarMoveEvent, ImageResult, ObjectAdUpdateMessage, ObjectAvatarCarryObjectUpdateMessage, ObjectAvatarChatUpdateMessage, ObjectAvatarDanceUpdateMessage, ObjectAvatarEffectUpdateMessage, ObjectAvatarExperienceUpdateMessage, ObjectAvatarExpressionUpdateMessage, ObjectAvatarFigureUpdateMessage, ObjectAvatarFlatControlUpdateMessage, ObjectAvatarGestureUpdateMessage, ObjectAvatarGuideStatusUpdateMessage, ObjectAvatarMutedUpdateMessage, ObjectAvatarOwnMessage, ObjectAvatarPetGestureUpdateMessage, ObjectAvatarPlayerValueUpdateMessage, ObjectAvatarPlayingGameUpdateMessage, ObjectAvatarPostureUpdateMessage, ObjectAvatarSelectedMessage, ObjectAvatarSignUpdateMessage, ObjectAvatarSleepUpdateMessage, ObjectAvatarTypingUpdateMessage, ObjectAvatarUpdateMessage, ObjectAvatarUseObjectUpdateMessage, ObjectDataUpdateMessage, ObjectGroupBadgeUpdateMessage, ObjectHeightUpdateMessage, ObjectItemDataUpdateMessage, ObjectModelDataUpdateMessage, ObjectMoveUpdateMessage, ObjectRoomColorUpdateMessage, ObjectRoomFloorHoleUpdateMessage, ObjectRoomMapUpdateMessage, ObjectRoomMaskUpdateMessage, ObjectRoomPlanePropertyUpdateMessage, ObjectRoomPlaneVisibilityUpdateMessage, ObjectRoomUpdateMessage, ObjectSelectedMessage, ObjectStateUpdateMessage, ObjectTileCursorUpdateMessage, ObjectVisibilityUpdateMessage, ObjectDataBase, ObjectDataFlags, ObjectDataKey, CrackableDataType, EmptyDataType, HighScoreData, HighScoreDataType, MapDataType, NumberDataType, VoteDataType, AvatarLogic, FurnitureAchievementResolutionLogic, FurnitureBadgeDisplayLogic, FurnitureChangeStateWhenStepOnLogic, FurnitureCounterClockLogic, FurnitureCrackableLogic, FurnitureCraftingGizmoLogic, FurnitureCreditLogic, FurnitureCustomStackHeightLogic, FurnitureDiceLogic, FurnitureEcotronBoxLogic, FurnitureEditableInternalLinkLogic, FurnitureEditableRoomLinkLogic, FurnitureEffectBoxLogic, FurnitureExternalImageLogic, FurnitureFireworksLogic, FurnitureFloorHoleLogic, FurnitureFriendFurniLogic, FurnitureGroupForumTerminalLogic, FurnitureGuildCustomizedLogic, FurnitureHabboWheelLogic, FurnitureHighScoreLogic, FurnitureHockeyScoreLogic, FurnitureHweenLovelockLogic, FurnitureIceStormLogic, FurnitureInternalLinkLogic, FurnitureJukeboxLogic, FurnitureLogic, FurnitureLoveLockLogic, FurnitureMannequinLogic, FurnitureMonsterplantSeedLogic, FurnitureMultiHeightLogic, FurnitureMultiStateLogic, FurnitureMysteryBoxLogic, FurnitureMysteryTrophyLogic, FurnitureOneWayDoorLogic, FurniturePetCustomizationLogic, FurniturePlaceholderLogic, FurniturePlanetSystemLogic, FurniturePresentLogic, FurniturePurchaseableClothingLogic, FurniturePushableLogic, FurnitureRandomStateLogic, FurnitureRandomTeleportLogic, FurnitureRentableSpaceLogic, FurnitureRoomBackgroundColorLogic, FurnitureRoomBackgroundLogic, FurnitureRoomBillboardLogic, FurnitureRoomBrandingLogic, FurnitureRoomDimmerLogic, FurnitureScoreLogic, FurnitureSongDiskLogic, FurnitureSoundBlockLogic, FurnitureSoundMachineLogic, FurnitureStickieLogic, FurnitureTrophyLogic, FurnitureVoteCounterLogic, FurnitureVoteMajorityLogic, FurnitureWelcomeGiftLogic, FurnitureWindowLogic, FurnitureYoutubeLogic, MovingObjectLogic, PetLogic, RoomLogic, SelectionArrowLogic, TileCursorLogic, RoomFloorHole, RoomMapData, RoomMapMaskData, RoomObjectLogicType, RoomObjectVisualizationFactory, RoomObjectVisualizationType, RoomPlaneBitmapMaskData, RoomPlaneBitmapMaskParser, RoomPlaneData, RoomPlaneMaskData, RoomPlaneParser, RoomWallData, ExpressionAddition, ExpressionAdditionFactory, FloatingHeartAddition, FloatingIdleZAddition, GameClickTargetAddition, GuideStatusBubbleAddition, MutedBubbleAddition, NumberBubbleAddition, TypingBubbleAddition, AvatarVisualization, AvatarVisualizationData, AnimationData, AnimationFrame, AnimationFrameData, AnimationFrameDirectionalData, AnimationFrameSequenceData, AnimationLayerData, AnimationSizeData, AnimationStateData, ColorData, DirectionalOffsetData, DirectionData, LayerData, PetSizeData, SizeData, FurnitureAnimatedVisualization, FurnitureAnimatedVisualizationData, FurnitureBadgeDisplayVisualization, FurnitureBBVisualization, FurnitureBottleVisualization, FurnitureBrandedImageVisualization, FurnitureBuilderPlaceholderVisualization, FurnitureCounterClockVisualization, FurnitureCuboidVisualization, FurnitureDynamicThumbnailVisualization, FurnitureExternalImageVisualization, FurnitureFireworksVisualization, FurnitureGiftWrappedFireworksVisualization, FurnitureGiftWrappedVisualization, FurnitureGuildCustomizedVisualization, FurnitureGuildIsometricBadgeVisualization, FurnitureHabboWheelVisualization, FurnitureMannequinVisualization, FurnitureMannequinVisualizationData, FurnitureParticleSystem, FurnitureParticleSystemEmitter, FurnitureParticleSystemParticle, FurniturePartyBeamerVisualization, FurniturePlanetSystemVisualization, FurniturePosterVisualization, FurnitureQueueTileVisualization, FurnitureResettingAnimatedVisualization, FurnitureRoomBackgroundVisualization, FurnitureScoreBoardVisualization, FurnitureSoundBlockVisualization, FurnitureStickieVisualization, FurnitureValRandomizerVisualization, FurnitureVisualization, FurnitureVisualizationData, FurnitureVoteCounterVisualization, FurnitureVoteMajorityVisualization, FurnitureWaterAreaVisualization, FurnitureYoutubeVisualization, IsometricImageFurniVisualization, PetVisualization, PetVisualizationData, PlaneMask, PlaneMaskBitmap, PlaneMaskManager, PlaneMaskVisualization, PlaneDrawingData, AnimationItem, LandscapePlane, LandscapeRasterizer, PlaneVisualizationAnimationLayer, FloorPlane, FloorRasterizer, Plane, PlaneMaterial, PlaneMaterialCell, PlaneMaterialCellColumn, PlaneMaterialCellMatrix, PlaneRasterizer, PlaneTexture, PlaneTextureBitmap, PlaneVisualization, PlaneVisualizationLayer, WallPlane, WallRasterizer, RoomPlane, RoomPlaneBitmapMask, RoomPlaneRectangleMask, RoomVisualization, RoomVisualizationData, TileCursorVisualization, PlaneBitmapData, Randomizer, PetColorResult, RoomContentLoader, RoomEngine, RoomMessageHandler, RoomObjectEventHandler, RoomObjectLogicFactory, FurnitureStackingHeightMap, LegacyWallGeometry, ObjectRolling, RoomCamera, RoomData, RoomFurnitureData, RoomInstanceData, RoomObjectBadgeImageAssetListener, SelectedRoomObjectData, SpriteDataCollector, TileObjectMap, BadgeImageManager, BadgeInfo, GroupBadge, GenericErrorEnum, NoobnessLevelEnum, MysteryBoxKeysUpdateEvent, PerksUpdatedEvent, RoomSessionConfirmPetBreedingEvent, RoomSessionConfirmPetBreedingResultEvent, RoomSessionDimmerPresetsEventPresetItem, RoomSessionFriendRequestEvent, RoomSessionNestBreedingSuccessEvent, RoomSessionPetBreedingEvent, RoomSessionPetBreedingResultEvent, RoomSessionPetCommandsUpdateEvent, RoomSessionPetFigureUpdateEvent, RoomSessionPetLevelUpdateEvent, RoomSessionPetPackageEvent, RoomSessionPropertyUpdateEvent, RoomSessionQueueEvent, RoomSessionSpectatorModeEvent, RoomSessionUserTagsEvent, RoomSessionVoteEvent, SessionDataPreferencesEvent, UserNameUpdateEvent, FurnitureData, FurnitureDataLoader, BaseHandler, GenericErrorHandler, RoomChatHandler, RoomDataHandler, RoomDimmerPresetsHandler, RoomPermissionsHandler, RoomPresentHandler, RoomSessionHandler, RoomUsersHandler, IgnoredUsersManager, ProductData, ProductDataLoader, RoomPetData, RoomSession, RoomSessionManager, SessionDataManager, UserDataManager, FriendWidgetEngravingWidgetTypeEnum, FigureDataContainer, FurniId, Callback, Combo, Ease, EaseRate, Interval, Motion, MoveBy, MoveTo, ResizeTo, RoomObjectSpriteData, RoomContentLoadedEvent, RoomObjectEvent, RoomObjectMouseEvent, RoomSpriteMouseEvent, RoomToObjectEvent, RoomObjectUpdateMessage, RoomObjectSpriteType, RoomObjectLogicBase, RoomObject, RoomObjectModel, RoomObjectSprite, RoomObjectSpriteVisualization, GraphicAsset, GraphicAssetGifCollection, GraphicAssetPalette, RoomObjectCache, RoomObjectCacheItem, RoomObjectLocationCacheItem, RoomObjectSortableSpriteCacheItem, RoomRenderer, RoomRendererFactory, RoomSpriteCanvas, ExtendedSprite, ObjectMouseData, SortableSprite, RoomInstance, RoomManager, RoomObjectManager, NumberBank, PointMath, Rasterizer, SpriteUtilities\n\n// EXTERNAL MODULE: ./node_modules/@pixi/core/dist/esm/core.js\nvar esm_core = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/loaders/dist/esm/loaders.js\nvar loaders = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/spritesheet/dist/esm/spritesheet.js\nvar esm_spritesheet = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/app/dist/esm/app.js\nvar app = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/constants/dist/esm/constants.js\nvar constants = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/settings/dist/esm/settings.js + 2 modules\nvar settings = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/ticker/dist/esm/ticker.js\nvar ticker = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/events/NitroEvent.ts\nvar NitroEvent = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/configuration/ConfigurationEvent.ts\nclass ConfigurationEvent_ConfigurationEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type){super(type);}}ConfigurationEvent_ConfigurationEvent.LOADED='NCE_LOADED';ConfigurationEvent_ConfigurationEvent.FAILED='NCE_FAILED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/disposable/Disposable.ts\nclass Disposable{constructor(){this._isDisposed=void 0;this._isDisposing=void 0;this._isDisposed=false;this._isDisposing=false;}dispose(){if(this._isDisposed||this._isDisposing)return;this._isDisposing=true;this.onDispose();this._isDisposed=true;this._isDisposing=false;}onDispose(){return;}get disposed(){return this._isDisposed;}get isDisposing(){return this._isDisposing;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/logger/NitroLogger.ts\nclass NitroLogger{constructor(name){let description=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this._name=void 0;this._description=void 0;this._print=void 0;this._name=name;this._description=description;this._print=true;}log(message){this.printMessage(message,'log');}error(message,trace){this.printMessage(trace||message,'error');}warn(message){this.printMessage(message,'warn');}printMessage(message,modus){if(!this._print)return;NitroLogger.log(message,this._name,modus);}static log(message){let name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Nitro';let modus=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const logString=`[Nitro] [${name}] ${message} ${this.getTimestamp()}`;switch(modus){case'error':console.error(logString);break;case'warn':console.warn(logString);break;case'log':default:console.log(logString);break;}}static error(message){let name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Nitro';return this.log(message,name,'error');}static warn(message){let name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Nitro';return this.log(message,name,'warn');}static getTimestamp(){const now=Date.now();const result=` +${now-NitroLogger.LAST_TIMESTAMP||0}ms`;this.LAST_TIMESTAMP=now;return result;}get description(){return this._description;}set description(description){this._description=description;}get print(){return this._print;}set print(flag){this._print=flag;}}NitroLogger.LAST_TIMESTAMP=Date.now();\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/events/EventDispatcher.ts\nclass EventDispatcher_EventDispatcher extends Disposable{constructor(){super();this._logger=void 0;this._listeners=void 0;this._logger=new NitroLogger(this.constructor.name);this._listeners=new Map();}onDispose(){this.removeAllListeners();super.onDispose();}addEventListener(type,callback){if(!type||!callback)return;const existing=this._listeners.get(type);if(!existing){this._listeners.set(type,[callback]);return;}existing.push(callback);}removeEventListener(type,callback){if(!type||!callback)return;const existing=this._listeners.get(type);if(!existing||!existing.length)return;for(const[i,cb]of existing.entries()){if(!cb||cb!==callback)continue;existing.splice(i,1);if(!existing.length)this._listeners.delete(type);return;}}dispatchEvent(event){if(!event)return false;if(Nitro_Nitro.instance.getConfiguration('system.dispatcher.log'))this._logger.log(`DISPATCHED: ${event.type}`);this.processEvent(event);return true;}processEvent(event){const existing=this._listeners.get(event.type);if(!existing||!existing.length)return;const callbacks=[];for(const callback of existing){if(!callback)continue;callbacks.push(callback);}while(callbacks.length){const callback=callbacks.shift();try{callback(event);}catch(err){this._logger.error(err.stack);return;}}}removeAllListeners(){this._listeners.clear();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/BinaryReader.ts\nclass BinaryReader{constructor(buffer){this._position=void 0;this._dataView=void 0;this._position=0;this._dataView=new DataView(buffer);}readBytes(length){const buffer=new BinaryReader(this._dataView.buffer.slice(this._position,this._position+length));this._position+=length;return buffer;}readByte(){const byte=this._dataView.getInt8(this._position);this._position++;return byte;}readShort(){const short=this._dataView.getInt16(this._position);this._position+=2;return short;}readInt(){const int=this._dataView.getInt32(this._position);this._position+=4;return int;}readFloat(){const float=this._dataView.getFloat32(this._position);this._position+=4;return float;}readDouble(){const double=this._dataView.getFloat64(this._position);this._position+=8;return double;}remaining(){return this._dataView.byteLength-this._position;}toString(encoding){return new TextDecoder().decode(this._dataView.buffer);}toArrayBuffer(){return this._dataView.buffer;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/BinaryWriter.ts\nclass BinaryWriter{constructor(){this._buffer=void 0;this._position=void 0;this._buffer=new Uint8Array();this._position=0;}writeByte(byte){const array=new Uint8Array(1);array[0]=byte;this.appendArray(array);return this;}writeBytes(bytes){const array=new Uint8Array(bytes);this.appendArray(array);return this;}writeShort(short){const array=new Uint8Array(2);array[0]=short>>8;array[1]=short&0xFF;this.appendArray(array);return this;}writeInt(integer){const array=new Uint8Array(4);array[0]=integer>>24;array[1]=integer>>16;array[2]=integer>>8;array[3]=integer&0xFF;this.appendArray(array);return this;}writeString(string){let includeLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const array=new TextEncoder().encode(string);if(includeLength){this.writeShort(array.length);this.appendArray(array);}else{this.appendArray(array);}return this;}appendArray(array){if(!array)return;const mergedArray=new Uint8Array(this.position+array.length>this._buffer.length?this.position+array.length:this._buffer.length);mergedArray.set(this._buffer);mergedArray.set(array,this.position);this._buffer=mergedArray;this.position+=array.length;}getBuffer(){return this._buffer.buffer;}get position(){return this._position;}set position(pos){this._position=pos;}toString(encoding){return new TextDecoder(encoding).decode(this._buffer);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/Byte.ts\nclass Byte{constructor(value){this._value=void 0;this._value=value;}get value(){return this._value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/Short.ts\nclass Short{constructor(value){this._value=void 0;this._value=value;}get value(){return this._value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/evawire/EvaWireDataWrapper.ts\nclass EvaWireDataWrapper{constructor(header,buffer){this._header=void 0;this._buffer=void 0;this._header=header;this._buffer=buffer;}readBytes(length){if(!this._buffer)return null;return this._buffer.readBytes(length);}readByte(){if(!this._buffer)return-1;return this._buffer.readByte();}readBoolean(){return this.readByte()===1;}readShort(){if(!this._buffer)return-1;return this._buffer.readShort();}readInt(){if(!this._buffer)return-1;return this._buffer.readInt();}readFloat(){if(!this._buffer)return-1;return this._buffer.readFloat();}readDouble(){if(!this._buffer)return-1;return this._buffer.readDouble();}readString(){const length=this.readShort();const buffer=this._buffer.readBytes(length);return buffer.toString('utf8');}get header(){return this._header;}get bytesAvailable(){return this._buffer&&this._buffer.remaining()>0;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/evawire/EvaWireFormat.ts\nclass EvaWireFormat_EvaWireFormat{encode(header,messages){const writer=new BinaryWriter();writer.writeShort(header);for(const value of messages){let type=typeof value;if(type==='object'){if(value===null)type='null';else if(value instanceof Byte)type='byte';else if(value instanceof Short)type='short';else if(value instanceof ArrayBuffer)type='arraybuffer';}switch(type){case'undefined':case'null':writer.writeShort(0);break;case'byte':writer.writeByte(value.value);break;case'short':writer.writeShort(value.value);break;case'number':writer.writeInt(value);break;case'boolean':writer.writeByte(value?1:0);break;case'string':if(!value)writer.writeShort(0);else{writer.writeString(value,true);}break;case'arraybuffer':writer.writeBytes(value);break;}}const buffer=writer.getBuffer();if(!buffer)return null;return new BinaryWriter().writeInt(buffer.byteLength).writeBytes(buffer);}decode(connection){if(!connection||!connection.dataBuffer||!connection.dataBuffer.byteLength)return null;const wrappers=[];while(connection.dataBuffer.byteLength){if(connection.dataBuffer.byteLength<4)break;const container=new BinaryReader(connection.dataBuffer);const length=container.readInt();if(length>connection.dataBuffer.byteLength-4)break;const extracted=container.readBytes(length);wrappers.push(new EvaWireDataWrapper(extracted.readShort(),extracted));connection.dataBuffer=connection.dataBuffer.slice(length+4);}return wrappers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/events/SocketConnectionEvent.ts\nclass SocketConnectionEvent_SocketConnectionEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,connection,originalEvent){super(type);this._connection=void 0;this._originalEvent=void 0;this._connection=connection;this._originalEvent=event;}get connection(){return this._connection;}get originalEvent(){return this._originalEvent;}}SocketConnectionEvent_SocketConnectionEvent.CONNECTION_OPENED='SCE_OPEN';SocketConnectionEvent_SocketConnectionEvent.CONNECTION_CLOSED='SCE_CLOSED';SocketConnectionEvent_SocketConnectionEvent.CONNECTION_ERROR='SCE_ERROR';SocketConnectionEvent_SocketConnectionEvent.CONNECTION_MESSAGE='SCE_MESSAGE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/MessageEvent.ts\nclass MessageEvent{constructor(callBack,parser){this._callBack=void 0;this._parserClass=void 0;this._parser=void 0;this._connection=void 0;this._callBack=callBack;this._parserClass=parser;this._parser=null;this._connection=null;}dispose(){this._callBack=null;this._parserClass=null;this._parser=null;this._connection=null;}get callBack(){return this._callBack;}get parserClass(){return this._parserClass;}get parser(){return this._parser;}set parser(parser){this._parser=parser;}get connection(){return this._connection;}set connection(connection){this._connection=connection;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/MessageClassManager.ts\nclass MessageClassManager_MessageClassManager{constructor(){this._messageIdByEvent=void 0;this._messageIdByComposer=void 0;this._messageInstancesById=void 0;this._messageIdByEvent=new Map();this._messageIdByComposer=new Map();this._messageInstancesById=new Map();}dispose(){this._messageIdByEvent.clear();this._messageIdByComposer.clear();this._messageInstancesById.clear();}registerMessages(configuration){for(const[header,handler]of configuration.events)this.registerMessageEventClass(header,handler);for(const[header,handler]of configuration.composers)this.registerMessageComposerClass(header,handler);}registerMessageEventClass(header,handler){if(!header||!handler)return;this._messageIdByEvent.set(handler,header);}registerMessageComposerClass(header,handler){if(!header||!handler)return;this._messageIdByComposer.set(handler,header);}registerMessageEvent(event){if(!event)return;const header=this.getEventId(event);if(!header)return;let existing=this._messageInstancesById.get(header);if(!existing||!existing.length){existing=[];this._messageInstancesById.set(header,existing);}existing.push(event);}removeMessageEvent(event){if(!event)return;const header=this.getEventId(event);if(!header)return;const existing=this._messageInstancesById.get(header);if(!existing)return;for(const[index,message]of existing.entries()){if(!message)continue;if(message!==event)continue;existing.splice(index,1);if(existing.length===0)this._messageInstancesById.delete(header);message.dispose();return;}}getEvents(header){if(!header)return;const existing=this._messageInstancesById.get(header);if(!existing)return;return existing;}getEventId(event){if(!event)return-1;//@ts-ignore\nconst name=event instanceof MessageEvent?event.constructor:event;const existing=this._messageIdByEvent.get(name);if(!existing)return-1;return existing;}getComposerId(composer){if(!composer)return-1;const existing=this._messageIdByComposer.get(composer.constructor);if(!existing)return-1;return existing;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/enums/WebSocketEventEnum.ts\nclass WebSocketEventEnum{}WebSocketEventEnum.CONNECTION_OPENED='open';WebSocketEventEnum.CONNECTION_CLOSED='close';WebSocketEventEnum.CONNECTION_ERROR='error';WebSocketEventEnum.CONNECTION_MESSAGE='message';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/SocketConnection.ts\nclass SocketConnection_SocketConnection extends EventDispatcher_EventDispatcher{constructor(communicationManager,stateListener){super();this._communicationManager=void 0;this._stateListener=void 0;this._socket=void 0;this._messages=void 0;this._codec=void 0;this._dataBuffer=void 0;this._isReady=void 0;this._pendingClientMessages=void 0;this._pendingServerMessages=void 0;this._isAuthenticated=void 0;this._communicationManager=communicationManager;this._stateListener=stateListener;this._socket=null;this._messages=new MessageClassManager_MessageClassManager();this._codec=new EvaWireFormat_EvaWireFormat();this._dataBuffer=null;this._isReady=false;this._pendingClientMessages=[];this._pendingServerMessages=[];this._isAuthenticated=false;this.onOpen=this.onOpen.bind(this);this.onClose=this.onClose.bind(this);this.onError=this.onError.bind(this);this.onMessage=this.onMessage.bind(this);}init(socketUrl){if(this._stateListener){this._stateListener.connectionInit(socketUrl);}this.createSocket(socketUrl);}onDispose(){super.onDispose();this.destroySocket();this._communicationManager=null;this._stateListener=null;this._messages=null;this._codec=null;this._dataBuffer=null;}onReady(){if(this._isReady)return;this._isReady=true;if(this._pendingServerMessages&&this._pendingServerMessages.length)this.processWrappers(...this._pendingServerMessages);if(this._pendingClientMessages&&this._pendingClientMessages.length)this.send(...this._pendingClientMessages);this._pendingServerMessages=[];this._pendingClientMessages=[];}createSocket(socketUrl){if(!socketUrl)return;this.destroySocket();this._dataBuffer=new ArrayBuffer(0);this._socket=new WebSocket(socketUrl);this._socket.addEventListener(WebSocketEventEnum.CONNECTION_OPENED,this.onOpen);this._socket.addEventListener(WebSocketEventEnum.CONNECTION_CLOSED,this.onClose);this._socket.addEventListener(WebSocketEventEnum.CONNECTION_ERROR,this.onError);this._socket.addEventListener(WebSocketEventEnum.CONNECTION_MESSAGE,this.onMessage);}destroySocket(){if(!this._socket)return;this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_OPENED,this.onOpen);this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_CLOSED,this.onClose);this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_ERROR,this.onError);this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_MESSAGE,this.onMessage);if(this._socket.readyState===WebSocket.OPEN)this._socket.close();this._socket=null;}onOpen(event){this.dispatchConnectionEvent(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_OPENED,event);}onClose(event){this.dispatchConnectionEvent(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_CLOSED,event);}onError(event){this.dispatchConnectionEvent(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_ERROR,event);}onMessage(event){if(!event)return;//this.dispatchConnectionEvent(SocketConnectionEvent.CONNECTION_MESSAGE, event);\nconst reader=new FileReader();reader.readAsArrayBuffer(event.data);reader.onloadend=()=>{this._dataBuffer=this.concatArrayBuffers(this._dataBuffer,reader.result);this.processReceivedData();};}dispatchConnectionEvent(type,event){this.dispatchEvent(new SocketConnectionEvent_SocketConnectionEvent(type,this,event));}authenticated(){this._isAuthenticated=true;}send(){for(var _len=arguments.length,composers=new Array(_len),_key=0;_key<_len;_key++){composers[_key]=arguments[_key];}if(this.disposed||!composers)return false;composers=[...composers];if(this._isAuthenticated&&!this._isReady){if(!this._pendingClientMessages)this._pendingClientMessages=[];this._pendingClientMessages.push(...composers);return false;}for(const composer of composers){if(!composer)continue;const header=this._messages.getComposerId(composer);if(header===-1){NitroLogger.log(`Unknown Composer: ${composer.constructor.name}`);continue;}const message=composer.getMessageArray();const encoded=this._codec.encode(header,message);if(!encoded){if(Nitro_Nitro.instance.getConfiguration('system.packet.log'))console.log(`Encoding Failed: ${composer.constructor.name}`);continue;}if(Nitro_Nitro.instance.getConfiguration('system.packet.log'))console.log(`OutgoingComposer: [${header}] ${composer.constructor.name}`,message);this.write(encoded.getBuffer());}return true;}write(buffer){if(this._socket.readyState!==WebSocket.OPEN)return;this._socket.send(buffer);}processReceivedData(){try{this.processData();}catch(err){NitroLogger.log(err);}}processData(){const wrappers=this.splitReceivedMessages();if(!wrappers||!wrappers.length)return;if(this._isAuthenticated&&!this._isReady){if(!this._pendingServerMessages)this._pendingServerMessages=[];this._pendingServerMessages.push(...wrappers);return;}this.processWrappers(...wrappers);}processWrappers(){for(var _len2=arguments.length,wrappers=new Array(_len2),_key2=0;_key2<_len2;_key2++){wrappers[_key2]=arguments[_key2];}if(!wrappers||!wrappers.length)return;for(const wrapper of wrappers){if(!wrapper)continue;const messages=this.getMessagesForWrapper(wrapper);if(!messages||!messages.length)continue;if(Nitro_Nitro.instance.getConfiguration('system.packet.log')){console.log(`IncomingMessage: [${wrapper.header}] ${messages[0].constructor.name}`,messages[0].parser);}this.handleMessages(...messages);}}splitReceivedMessages(){if(!this._dataBuffer||!this._dataBuffer.byteLength)return null;return this._codec.decode(this);}concatArrayBuffers(buffer1,buffer2){const array=new Uint8Array(buffer1.byteLength+buffer2.byteLength);array.set(new Uint8Array(buffer1),0);array.set(new Uint8Array(buffer2),buffer1.byteLength);return array.buffer;}getMessagesForWrapper(wrapper){if(!wrapper)return null;const events=this._messages.getEvents(wrapper.header);if(!events||!events.length){if(Nitro_Nitro.instance.getConfiguration('system.packet.log')){console.log(`IncomingMessage: [${wrapper.header}] UNREGISTERED`,wrapper);}return;}try{//@ts-ignore\nconst parser=new events[0].parserClass();if(!parser||!parser.flush()||!parser.parse(wrapper))return null;for(const event of events)event.parser=parser;}catch(e){NitroLogger.log(`Error parsing message: ${e}`,events[0].constructor.name);return null;}return events;}handleMessages(){for(var _len3=arguments.length,messages=new Array(_len3),_key3=0;_key3<_len3;_key3++){messages[_key3]=arguments[_key3];}messages=[...messages];for(const message of messages){if(!message)continue;message.connection=this;if(message.callBack)message.callBack(message);}}registerMessages(configuration){if(!configuration)return;this._messages.registerMessages(configuration);}addMessageEvent(event){if(!event||!this._messages)return;this._messages.registerMessageEvent(event);}removeMessageEvent(event){if(!event||!this._messages)return;this._messages.removeMessageEvent(event);}get isAuthenticated(){return this._isAuthenticated;}get dataBuffer(){return this._dataBuffer;}set dataBuffer(buffer){this._dataBuffer=buffer;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/CommunicationManager.ts\nclass CommunicationManager_CommunicationManager extends Disposable{constructor(){super();this._connections=void 0;this._connections=[];}onDispose(){if(!this._connections||!this._connections.length)return;for(const connection of this._connections.values())connection&&connection.dispose();}createConnection(){let stateListener=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;const connection=new SocketConnection_SocketConnection(this,stateListener);if(!connection)return;this._connections.push(connection);return connection;}update(time){let index=0;while(index<this._connections.length){const connection=this._connections[index];connection.processReceivedData();if(this.disposed)return;if(connection.disposed)this._connections.splice(index,1);else index++;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/NitroManager.ts\nclass NitroManager_NitroManager extends Disposable{constructor(){let logger=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;super();this._logger=void 0;this._events=void 0;this._isLoaded=void 0;this._isLoading=void 0;this._logger=logger instanceof NitroLogger?logger:new NitroLogger(this.constructor.name);this._events=new EventDispatcher_EventDispatcher();this._isLoaded=false;this._isLoading=false;}init(){if(this._isLoaded||this._isLoading||this.isDisposing)return;this._isLoading=true;this.onInit();this._isLoaded=true;this._isLoading=false;}onInit(){return;}onDispose(){if(this._events)this._events.dispose();super.onDispose();}reload(){this.dispose();this.init();}get logger(){return this._logger;}get events(){return this._events;}get isLoaded(){return this._isLoaded;}get isLoading(){return this._isLoading;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/configuration/ConfigurationManager.ts\nclass ConfigurationManager_ConfigurationManager extends NitroManager_NitroManager{constructor(){super();this._definitions=void 0;this._pendingUrls=void 0;this._missingKeys=void 0;this._definitions=new Map();this._pendingUrls=[];this._missingKeys=[];this.onConfigurationLoaded=this.onConfigurationLoaded.bind(this);}onInit(){this.parseConfiguration(this.getDefaultConfig(),true);this._pendingUrls=this.getValue('config.urls').slice();this.loadNextConfiguration();}loadNextConfiguration(){if(!this._pendingUrls.length){this.dispatchConfigurationEvent(ConfigurationEvent_ConfigurationEvent.LOADED);return;}this.loadConfigurationFromUrl(this._pendingUrls[0]);}loadConfigurationFromUrl(url){if(!url||url===''){this.dispatchConfigurationEvent(ConfigurationEvent_ConfigurationEvent.FAILED);return;}fetch(url).then(response=>response.json()).then(data=>this.onConfigurationLoaded(data,url)).catch(err=>this.onConfigurationFailed(err));}onConfigurationLoaded(data,url){if(!data)return;if(this.parseConfiguration(data)){const index=this._pendingUrls.indexOf(url);if(index>=0)this._pendingUrls.splice(index,1);this.loadNextConfiguration();return;}this.dispatchConfigurationEvent(ConfigurationEvent_ConfigurationEvent.FAILED);}onConfigurationFailed(error){this.dispatchConfigurationEvent(ConfigurationEvent_ConfigurationEvent.FAILED);}dispatchConfigurationEvent(type){this.events&&this.events.dispatchEvent(new ConfigurationEvent_ConfigurationEvent(type));}parseConfiguration(data){let overrides=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!data)return false;try{const regex=new RegExp(/\\${(.*?)}/g);for(const key in data){let value=data[key];if(typeof value==='string')value=this.interpolate(value,regex);if(this._definitions.has(key)){if(overrides)this.setValue(key,value);}else{this.setValue(key,value);}}return true;}catch(e){this.logger.error(e.stack);return false;}}interpolate(value){let regex=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!regex)regex=new RegExp(/\\${(.*?)}/g);const pieces=value.match(regex);if(pieces&&pieces.length){for(const piece of pieces){const existing=this._definitions.get(this.removeInterpolateKey(piece));if(existing)value=value.replace(piece,existing);}}return value;}removeInterpolateKey(value){return value.replace('${','').replace('}','');}getValue(key){let value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let existing=this._definitions.get(key);if(existing===undefined){if(this._missingKeys.indexOf(key)>=0)return value;this._missingKeys.push(key);this.logger.warn(`Missing configuration key: ${key}`);existing=value;}return existing;}setValue(key,value){this._definitions.set(key,value);}getDefaultConfig(){//@ts-ignore\nreturn NitroConfig;}get definitions(){return this._definitions;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/SayHello.ts\nconst SayHello=()=>{if(navigator.userAgent.toLowerCase().indexOf('chrome')>-1){const args=[`\\n %c %c %c Nitro ${NitroVersion.UI_VERSION} - Renderer ${NitroVersion.RENDERER_VERSION} %c %c %c https://discord.nitrodev.co %c %c \\n\\n`,'background: #ffffff; padding:5px 0;','background: #ffffff; padding:5px 0;','color: #ffffff; background: #000000; padding:5px 0;','background: #ffffff; padding:5px 0;','background: #ffffff; padding:5px 0;','background: #000000; padding:5px 0;','background: #ffffff; padding:5px 0;','background: #ffffff; padding:5px 0;'];self.console.log(...args);}else if(self.console){self.console.log(`Nitro ${NitroVersion.UI_VERSION} - Renderer ${NitroVersion.RENDERER_VERSION} `);}};\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/NitroCore.ts\nclass NitroCore_NitroCore extends Disposable{constructor(){super();this._configuration=void 0;this._communication=void 0;this._asset=void 0;SayHello();this._configuration=new ConfigurationManager_ConfigurationManager();this._communication=new CommunicationManager_CommunicationManager();this._asset=new AssetManager_AssetManager();}onDispose(){if(this._asset){this._asset.dispose();this._asset=null;}if(this._communication){this._communication.dispose();this._communication=null;}}get configuration(){return this._configuration;}get communication(){return this._communication;}get asset(){return this._asset;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/NitroTimer.ts\nclass NitroTimer{constructor(){let percision=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;this._elapsedTime=void 0;this._percision=void 0;this._timer=void 0;this._elapsedTime=0;this._percision=percision;this._timer=null;this.start();}start(){this._elapsedTime=0;if(!this._timer){this._timer=setInterval(()=>this.increase(),this._percision);}}stop(){if(this._timer){clearTimeout(this._timer);}}increase(){this._elapsedTime+=this._percision;}getTimer(){return this._elapsedTime;}}\n// EXTERNAL MODULE: ./node_modules/pako/dist/pako.esm.mjs\nvar pako_esm = __webpack_require__(62);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/AdvancedMap.ts\nclass AdvancedMap{constructor(){let map=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this._length=void 0;this._dictionary=void 0;this._array=void 0;this._keys=void 0;this._length=0;this._dictionary=new Map();this._array=[];this._keys=[];if(map)for(const[key,value]of map.entries())this.add(key,value);}get length(){return this._length;}get disposed(){return!this._dictionary;}dispose(){if(!this._dictionary){for(const key of this._dictionary.keys())this._dictionary.delete(key);this._dictionary=null;}this._length=0;this._array=null;this._keys=null;}reset(){for(const key of this._dictionary.keys())this._dictionary.delete(key);this._length=0;this._array=[];this._keys=[];}unshift(key,value){if(this._dictionary.get(key)!==null)return false;this._dictionary.set(key,value);this._array.unshift(value);this._keys.unshift(key);this._length++;return true;}add(key,value){if(this._dictionary.get(key)!==undefined)return false;this._dictionary.set(key,value);this._array[this._length]=value;this._keys[this._length]=key;this._length++;return true;}remove(key){const value=this._dictionary.get(key);if(!value)return null;const index=this._array.indexOf(value);if(index>=0){this._array.splice(index,1);this._keys.splice(index,1);this._length--;}this._dictionary.delete(key);return value;}getWithIndex(index){if(index<0||index>=this._length)return null;return this._array[index];}getKey(index){if(index<0||index>=this._length)return null;return this._keys[index];}getKeys(){return this._keys.slice();}hasKey(key){return this._keys.indexOf(key)>-1;}getValue(key){return this._dictionary.get(key);}getValues(){return this._array.slice();}hasValue(value){return this._array.indexOf(value)>-1;}indexOf(value){return this._array.indexOf(value);}concatenate(newValues){for(const k of newValues._keys)this.add(k,newValues.getValue(k));}clone(){const map=new AdvancedMap();map.concatenate(this);return map;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/ArrayBufferToBase64.ts\nconst ArrayBufferToBase64=buffer=>{let binary='';const bytes=new Uint8Array(buffer);const len=bytes.byteLength;for(let i=0;i<len;i++)binary+=String.fromCharCode(bytes[i]);return window.btoa(binary);};\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/INitroPoint.ts\n\n// EXTERNAL MODULE: ./node_modules/@pixi/filter-adjustment/dist/filter-adjustment.esm.js\nvar filter_adjustment_esm = __webpack_require__(51);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroAdjustmentFilter.ts\nclass NitroAdjustmentFilter_NitroAdjustmentFilter extends filter_adjustment_esm[\"a\" /* AdjustmentFilter */]{}\n// EXTERNAL MODULE: ./node_modules/@pixi/filter-alpha/dist/esm/filter-alpha.js\nvar filter_alpha = __webpack_require__(45);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroAlphaFilter.ts\nclass NitroAlphaFilter_NitroAlphaFilter extends filter_alpha[\"a\" /* AlphaFilter */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroBaseTexture.ts\nclass NitroBaseTexture_NitroBaseTexture extends esm_core[\"c\" /* BaseTexture */]{}\n// EXTERNAL MODULE: ./node_modules/@pixi/display/dist/esm/display.js\nvar esm_display = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroContainer.ts\nclass NitroContainer_NitroContainer extends esm_display[\"b\" /* Container */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroFilter.ts\nclass NitroFilter_NitroFilter extends esm_core[\"j\" /* Filter */]{}\n// EXTERNAL MODULE: ./node_modules/@pixi/math/dist/esm/math.js\nvar math = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroPoint.ts\nclass NitroPoint_NitroPoint extends math[\"g\" /* Point */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroPolygon.ts\nclass NitroPolygon_NitroPolygon extends math[\"h\" /* Polygon */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroRectangle.ts\nclass NitroRectangle_NitroRectangle extends math[\"j\" /* Rectangle */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroRenderTexture.ts\nclass NitroRenderTexture_NitroRenderTexture extends esm_core[\"o\" /* RenderTexture */]{}\n// EXTERNAL MODULE: ./node_modules/@pixi/sprite/dist/esm/sprite.js\nvar esm_sprite = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroSprite.ts\nclass NitroSprite_NitroSprite extends esm_sprite[\"a\" /* Sprite */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroSpritesheet.ts\nclass NitroSpritesheet_NitroSpritesheet extends esm_spritesheet[\"a\" /* Spritesheet */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/NitroTexture.ts\nclass NitroTexture_NitroTexture extends esm_core[\"t\" /* Texture */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/PixiApplicationProxy.ts\nclass PixiApplicationProxy_PixiApplicationProxy extends app[\"a\" /* Application */]{}\n// EXTERNAL MODULE: ./node_modules/@pixi/interaction/dist/esm/interaction.js\nvar interaction = __webpack_require__(52);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/PixiInteractionEventProxy.ts\nclass PixiInteractionEventProxy_PixiInteractionEventProxy extends interaction[\"a\" /* InteractionEvent */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/PixiLoaderProxy.ts\nclass PixiLoaderProxy_PixiLoaderProxy extends loaders[\"b\" /* Loader */]{}\n// EXTERNAL MODULE: ./node_modules/@pixi/tilemap/lib/pixi-tilemap.es.js\nvar pixi_tilemap_es = __webpack_require__(42);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/tilemap/NitroTilemap.ts\nclass NitroTilemap_NitroTilemap extends pixi_tilemap_es[\"c\" /* Tilemap */]{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/tilemap/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/proxy/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/NitroBundle.ts\nclass NitroBundle_NitroBundle{constructor(arrayBuffer){this._jsonFile=null;this._image=null;this._imageData=null;this._baseTexture=null;this.parse(arrayBuffer);}parse(arrayBuffer){const binaryReader=new BinaryReader(arrayBuffer);let fileCount=binaryReader.readShort();while(fileCount>0){const fileNameLength=binaryReader.readShort();const fileName=binaryReader.readBytes(fileNameLength).toString();const fileLength=binaryReader.readInt();const buffer=binaryReader.readBytes(fileLength);if(fileName.endsWith('.json')){const decompressed=Object(pako_esm[\"a\" /* inflate */])(buffer.toArrayBuffer());this._jsonFile=JSON.parse(NitroBundle_NitroBundle.TEXT_DECODER.decode(decompressed));}else{const decompressed=Object(pako_esm[\"a\" /* inflate */])(buffer.toArrayBuffer());const base64=ArrayBufferToBase64(decompressed);this._baseTexture=new esm_core[\"c\" /* BaseTexture */]('data:image/png;base64,'+base64);}fileCount--;}}get jsonFile(){return this._jsonFile;}get baseTexture(){return this._baseTexture;}}NitroBundle_NitroBundle.TEXT_DECODER=new TextDecoder('utf-8');\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/events/RoomContentLoadedEvent.ts\nclass RoomContentLoadedEvent_RoomContentLoadedEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,contentType){super(type);this._contentType=void 0;this._contentType=contentType;}get contentType(){return this._contentType;}}RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_SUCCESS='RCLE_SUCCESS';RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_FAILURE='RCLE_FAILURE';RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_CANCEL='RCLE_CANCEL';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/utils/GraphicAssetGifCollection.ts\nclass GraphicAssetGifCollection{constructor(name,textures,durations){this.name=name;this.textures=textures;this.durations=durations;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/furniture/FurnitureType.ts\nlet FurnitureType;(function(FurnitureType){FurnitureType[\"FLOOR\"]=\"S\";FurnitureType[\"WALL\"]=\"I\";FurnitureType[\"EFFECT\"]=\"E\";FurnitureType[\"BADGE\"]=\"B\";FurnitureType[\"ROBOT\"]=\"R\";FurnitureType[\"HABBO_CLUB\"]=\"H\";FurnitureType[\"PET\"]=\"P\";})(FurnitureType||(FurnitureType={}));\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectCategory.ts\nclass RoomObjectCategory{}RoomObjectCategory.MINIMUM=-2;RoomObjectCategory.ROOM=0;RoomObjectCategory.FLOOR=10;RoomObjectCategory.WALL=20;RoomObjectCategory.UNIT=100;RoomObjectCategory.CURSOR=200;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectUserType.ts\nclass RoomObjectUserType{static getTypeNumber(type){return RoomObjectUserType.AVATAR_TYPES[type];}static getTypeString(type){for(const key in RoomObjectUserType.AVATAR_TYPES){if(!key)continue;if(RoomObjectUserType.AVATAR_TYPES[key]!==type)continue;return key;}return null;}static getRealType(type){switch(type){case RoomObjectUserType.BOT:case RoomObjectUserType.RENTABLE_BOT:return RoomObjectUserType.USER;default:return type;}}}RoomObjectUserType.USER='user';RoomObjectUserType.PET='pet';RoomObjectUserType.BOT='bot';RoomObjectUserType.RENTABLE_BOT='rentable_bot';RoomObjectUserType.MONSTER_PLANT='monsterplant';RoomObjectUserType.AVATAR_TYPES={'user':1,'pet':2,'bot':3,'rentable_bot':4};\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectVariable.ts\nclass RoomObjectVariable{}RoomObjectVariable.OBJECT_ROOM_ID='object_room_id';RoomObjectVariable.OBJECT_ACCURATE_Z_VALUE='object_accurate_z_value';RoomObjectVariable.TILE_CURSOR_HEIGHT='tile_cursor_height';RoomObjectVariable.FIGURE='figure';RoomObjectVariable.GENDER='gender';RoomObjectVariable.OWN_USER='own_user';RoomObjectVariable.FIGURE_CAN_STAND_UP='figure_can_stand_up';RoomObjectVariable.FIGURE_VERTICAL_OFFSET='figure_vertical_offset';RoomObjectVariable.FIGURE_TALK='figure_talk';RoomObjectVariable.FIGURE_DANCE='figure_dance';RoomObjectVariable.FIGURE_SLEEP='figure_sleep';RoomObjectVariable.FIGURE_BLINK='figure_blink';RoomObjectVariable.FIGURE_EFFECT='figure_effect';RoomObjectVariable.FIGURE_CARRY_OBJECT='figure_carry_object';RoomObjectVariable.FIGURE_USE_OBJECT='figure_use_object';RoomObjectVariable.FIGURE_GESTURE='figure_gesture';RoomObjectVariable.FIGURE_POSTURE='figure_posture';RoomObjectVariable.FIGURE_POSTURE_PARAMETER='figure_posture_parameter';RoomObjectVariable.FIGURE_HIGHLIGHT_ENABLE='figure_highlight_enable';RoomObjectVariable.FIGURE_HIGHLIGHT='figure_highlight';RoomObjectVariable.FURNITURE_PURCHASER_NAME='furniture_purchaser_name';RoomObjectVariable.FURNITURE_PURCHASER_FIGURE='furniture_purchaser_figure';RoomObjectVariable.STD='std';RoomObjectVariable.FIGURE_SIGN='figure_sign';RoomObjectVariable.FIGURE_FLAT_CONTROL='figure_flat_control';RoomObjectVariable.FIGURE_IS_TYPING='figure_is_typing';RoomObjectVariable.FIGURE_IS_MUTED='figure_is_muted';RoomObjectVariable.FIGURE_GAINED_EXPERIENCE='figure_gained_experience';RoomObjectVariable.FIGURE_EXPERIENCE_TIMESTAMP='figure_experience_timestamp';RoomObjectVariable.FIGURE_NUMBER_VALUE='figure_number_value';RoomObjectVariable.FIGURE_IS_PLAYING_GAME='figure_is_playing_game';RoomObjectVariable.FIGURE_GUIDE_STATUS='figure_guide_status';RoomObjectVariable.FIGURE_EXPRESSION='figure_expression';RoomObjectVariable.HEAD_DIRECTION='head_direction';RoomObjectVariable.FURNITURE_CUSTOM_VARIABLES='furniture_custom_variables';RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX='furniture_automatic_state_index';RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE='furniture_always_stackable';RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION='furniture_disable_picking_animation';RoomObjectVariable.FURNITURE_DATA_FORMAT='furniture_data_format';RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER='furniture_unique_serial_number';RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE='furniture_unique_edition_size';RoomObjectVariable.FURNITURE_CRACKABLE_STATE='furniture_crackable_state';RoomObjectVariable.FURNITURE_CRACKABLE_HITS='furniture_crackable_hits';RoomObjectVariable.FURNITURE_CRACKABLE_TARGET='furniture_crackable_target';RoomObjectVariable.FURNITURE_CREDIT_VALUE='furniture_credit_value';RoomObjectVariable.FURNITURE_DATA='furniture_data';RoomObjectVariable.FURNITURE_ITEMDATA='furniture_itemdata';RoomObjectVariable.FURNITURE_COLOR='furniture_color';RoomObjectVariable.FURNITURE_LIFT_AMOUNT='furniure_lift_amount';RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID='furniture_guild_customized_guild_id';RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME='furniture_guild_customized_asset_name';RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1='furniture_guild_customized_color_1';RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2='furniture_guild_customized_color_2';RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME='furniture_state_update_time';RoomObjectVariable.FURNITURE_SELECTION_DISABLED='furniture_selection_disabled';RoomObjectVariable.FURNITURE_SIZE_X='furniture_size_x';RoomObjectVariable.FURNITURE_SIZE_Y='furniture_size_y';RoomObjectVariable.FURNITURE_SIZE_Z='furniture_size_z';RoomObjectVariable.FURNITURE_CENTER_X='furniture_center_x';RoomObjectVariable.FURNITURE_CENTER_Y='furniture_center_y';RoomObjectVariable.FURNITURE_CENTER_Z='furniture_center_z';RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS='furniture_allowed_directions';RoomObjectVariable.FURNITURE_AD_URL='furniture_ad_url';RoomObjectVariable.FURNITURE_TYPE_ID='furniture_type_id';RoomObjectVariable.FURNITURE_EXTRAS='furniture_extras';RoomObjectVariable.FURNITURE_EXPIRY_TIME='furniture_expiry_time';RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP='furniture_expiry_timestamp';RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT='furniture_real_room_object';RoomObjectVariable.FURNITURE_IS_STICKIE='furniture_is_stickie';RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS='furniture_branding_image_status';RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL='furniture_branding_image_url';RoomObjectVariable.FURNITURE_BRANDING_URL='furniture_branding_url';RoomObjectVariable.FURNITURE_BRANDING_OFFSET_X='furniture_branding_offset_x';RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Y='furniture_branding_offset_y';RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Z='furniture_branding_offset_z';RoomObjectVariable.FURNITURE_BRANDING_IS_ANIMATED='furniture_branding_is_animated';RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS='furniture_badge_image_status';RoomObjectVariable.FURNITURE_BADGE_ASSET_NAME='furniture_badge_asset_name';RoomObjectVariable.FURNITURE_BADGE_VISIBLE_IN_STATE='furniture_badge_visible_in_state';RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER='furniture_alpha_multiplier';RoomObjectVariable.FURNITURE_USAGE_POLICY='furniture_usage_policy';RoomObjectVariable.FURNITURE_OWNER_ID='furniture_owner_id';RoomObjectVariable.FURNITURE_OWNER_NAME='furniture_owner_name';RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_HUE='furniture_room_background_color_hue';RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION='furniture_room_background_color_saturation';RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS='furniture_room_background_color_lightness';RoomObjectVariable.FURNITURE_USES_PLANE_MASK='furniture_uses_plane_mask';RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE='furniture_plane_mask_type';RoomObjectVariable.FURNITURE_IS_VARIABLE_HEIGHT='furniture_is_variable_height';RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT='furniture_vote_majority_result';RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT='furniture_vote_counter_count';RoomObjectVariable.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED='furniture_soundblock_relative_animation_speed';RoomObjectVariable.FURNITURE_MANNEQUIN_NAME='furniture_mannequin_name';RoomObjectVariable.FURNITURE_MANNEQUIN_GENDER='furniture_mannequin_gender';RoomObjectVariable.FURNITURE_MANNEQUIN_FIGURE='furniture_mannequin_figure';RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE='furniture_highscore_score_type';RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE='furniture_highscore_clear_type';RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT='furniture_highscore_data_entry_count';RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_='furniture_highscore_data_entry_base_users_';RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_='furniture_highscore_data_entry_base_score_';RoomObjectVariable.FURNITURE_INTERNAL_LINK='furniture_internal_link';RoomObjectVariable.FURNITURE_CLOTHING_BOY='furniture_clothing_boy';RoomObjectVariable.FURNITURE_CLOTHING_GIRL='furniture_clothing_girl';RoomObjectVariable.FURNITURE_PLANETSYSTEM_DATA='furniture_planetsystem_data';RoomObjectVariable.FURNITURE_FIREWORKS_DATA='furniture_fireworks_data';RoomObjectVariable.PET_PALETTE_INDEX='pet_palette_index';RoomObjectVariable.PET_COLOR='pet_color';RoomObjectVariable.PET_HEAD_ONLY='pet_head_only';RoomObjectVariable.PET_CUSTOM_LAYER_IDS='pet_custom_layer_ids';RoomObjectVariable.PET_CUSTOM_PARTS_IDS='pet_custom_part_ids';RoomObjectVariable.PET_CUSTOM_PALETTE_IDS='pet_custom_palette_ids';RoomObjectVariable.PET_IS_RIDING='pet_is_riding';RoomObjectVariable.PET_TYPE='pet_type';RoomObjectVariable.PET_ALLOWED_DIRECTIONS='pet_allowed_directions';RoomObjectVariable.RACE='race';RoomObjectVariable.ROOM_MAP_DATA='room_map_data';RoomObjectVariable.ROOM_PLANE_MASK_XML='room_plane_mask_xml';RoomObjectVariable.ROOM_FLOOR_TYPE='room_floor_type';RoomObjectVariable.ROOM_WALL_TYPE='room_wall_type';RoomObjectVariable.ROOM_LANDSCAPE_TYPE='room_landscape_type';RoomObjectVariable.ROOM_WALL_THICKNESS='room_wall_thickness';RoomObjectVariable.ROOM_FLOOR_THICKNESS='room_floor_thickness';RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME='room_floor_hole_update_time';RoomObjectVariable.ROOM_FLOOR_VISIBILITY='room_floor_visibility';RoomObjectVariable.ROOM_WALL_VISIBILITY='room_wall_visibility';RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY='room_landscape_visibility';RoomObjectVariable.ROOM_DOOR_X='room_door_x';RoomObjectVariable.ROOM_DOOR_Y='room_door_y';RoomObjectVariable.ROOM_DOOR_Z='room_door_z';RoomObjectVariable.ROOM_DOOR_DIR='room_door_dir';RoomObjectVariable.ROOM_BACKGROUND_COLOR='room_background_color';RoomObjectVariable.ROOM_COLORIZE_BG_ONLY='room_colorize_bg_only';RoomObjectVariable.ROOM_RANDOM_SEED='room_random_seed';RoomObjectVariable.ROOM_WORLD_TYPE='room_world_type';RoomObjectVariable.ROOM_SELECTED_X='room_selected_x';RoomObjectVariable.ROOM_SELECTED_Y='room_selected_y';RoomObjectVariable.ROOM_SELECTED_Z='room_selected_z';RoomObjectVariable.ROOM_SELECTED_PLANE='room_selected_plane';RoomObjectVariable.IMAGE_QUERY_SCALE='image_query_scale';RoomObjectVariable.FURNITURE_FRIENDFURNI_ENGRAVING='furniture_friendfurni_engraving_type';RoomObjectVariable.SESSION_URL_PREFIX='session_url_prefix';RoomObjectVariable.SESSION_CURRENT_USER_ID='session_current_user_id';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectVisualizationType.ts\nclass RoomObjectVisualizationType{}RoomObjectVisualizationType.FURNITURE_STATIC='furniture_static';RoomObjectVisualizationType.FURNITURE_ANIMATED='furniture_animated';RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED='furniture_resetting_animated';RoomObjectVisualizationType.FURNITURE_POSTER='furniture_poster';RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE='furniture_external_image';RoomObjectVisualizationType.FURNITURE_HABBOWHEEL='furniture_habbowheel';RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER='furniture_val_randomizer';RoomObjectVisualizationType.FURNITURE_BOTTLE='furniture_bottle';RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM='furniture_planet_system';RoomObjectVisualizationType.FURNITURE_QUEUE_TILE='furniture_queue_tile';RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER='furniture_party_beamer';RoomObjectVisualizationType.FURNITURE_CUBOID='furniture_cuboid';RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED='furniture_gift_wrapped';RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS='furniture_gift_wrapped_fireworks';RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK='furniture_counter_clock';RoomObjectVisualizationType.FURNITURE_WATER_AREA='furniture_water_area';RoomObjectVisualizationType.FURNITURE_SCORE_BOARD='furniture_score_board';RoomObjectVisualizationType.FURNITURE_FIREWORKS='furniture_fireworks';RoomObjectVisualizationType.FURNITURE_BB='furniture_bb';RoomObjectVisualizationType.FURNITURE_ISOMETRIC_BB='furniture_isometric_bb';RoomObjectVisualizationType.FURNITURE_BG='furniture_bg';RoomObjectVisualizationType.FURNITURE_STICKIE='furniture_stickie';RoomObjectVisualizationType.FURNITURE_MANNEQUIN='furniture_mannequin';RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED='furniture_guild_customized';RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE='furniture_guild_isometric_badge';RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER='furniture_vote_counter';RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY='furniture_vote_majority';RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK='furniture_soundblock';RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY='furniture_badge_display';RoomObjectVisualizationType.FURNITURE_YOUTUBE='furniture_youtube';RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER='furniture_builder_placeholder';RoomObjectVisualizationType.ROOM='room';RoomObjectVisualizationType.USER='user';RoomObjectVisualizationType.PET_ANIMATED='pet_animated';RoomObjectVisualizationType.BOT='bot';RoomObjectVisualizationType.RENTABLE_BOT='rentable_bot';RoomObjectVisualizationType.TILE_CURSOR='tile_cursor';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/PetColorResult.ts\nclass PetColorResult{constructor(primaryColor,secondaryColor,breed,tag,id,isMaster,layerTags){this._breed=void 0;this._tag=void 0;this._id=void 0;this._primaryColor=void 0;this._secondaryColor=void 0;this._isMaster=void 0;this._layerTags=void 0;this._layerTags=[];this._primaryColor=primaryColor&0xFFFFFF;this._secondaryColor=secondaryColor&0xFFFFFF;this._breed=breed;this._tag=tag>-1&&tag<PetColorResult.COLOR_TAGS.length?PetColorResult.COLOR_TAGS[tag]:'';this._id=id;this._isMaster=isMaster;this._layerTags=layerTags;}get primaryColor(){return this._primaryColor;}get secondaryColor(){return this._secondaryColor;}get breed(){return this._breed;}get tag(){return this._tag;}get id(){return this._id;}get isMaster(){return this._isMaster;}get layerTags(){return this._layerTags;}}PetColorResult.COLOR_TAGS=['Null','Black','White','Grey','Red','Orange','Pink','Green','Lime','Blue','Light-Blue','Dark-Blue','Yellow','Brown','Dark-Brown','Beige','Cyan','Purple','Gold'];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/RoomContentLoader.ts\nclass RoomContentLoader_RoomContentLoader{constructor(){this._logger=void 0;this._stateEvents=void 0;this._sessionDataManager=void 0;this._waitingForSessionDataManager=void 0;this._iconListener=void 0;this._collections=void 0;this._gifCollections=void 0;this._images=void 0;this._events=void 0;this._activeObjects=void 0;this._activeObjectTypes=void 0;this._activeObjectTypeIds=void 0;this._objectTypeAdUrls=void 0;this._wallItems=void 0;this._wallItemTypes=void 0;this._wallItemTypeIds=void 0;this._furniRevisions=void 0;this._pets=void 0;this._petColors=void 0;this._objectAliases=void 0;this._objectOriginalNames=void 0;this._pendingContentTypes=void 0;this._dataInitialized=void 0;this._logger=new NitroLogger(this.constructor.name);this._stateEvents=null;this._sessionDataManager=null;this._waitingForSessionDataManager=false;this._iconListener=null;this._collections=new Map();this._gifCollections=new Map();this._images=new Map();this._events=new Map();this._activeObjects={};this._activeObjectTypes=new Map();this._activeObjectTypeIds=new Map();this._objectTypeAdUrls=new Map();this._wallItems={};this._wallItemTypes=new Map();this._wallItemTypeIds=new Map();this._furniRevisions=new Map();this._pets={};this._petColors=new Map();this._objectAliases=new Map();this._objectOriginalNames=new Map();this._pendingContentTypes=[];this._dataInitialized=false;}initialize(events){this._stateEvents=events;this.setFurnitureData();for(const[index,name]of Nitro_Nitro.instance.getConfiguration('pet.types').entries())this._pets[name]=index;}dispose(){}setSessionDataManager(sessionData){this._sessionDataManager=sessionData;if(this._waitingForSessionDataManager){this._waitingForSessionDataManager=false;this.setFurnitureData();}}loadFurnitureData(){this.setFurnitureData();}setFurnitureData(){if(!this._sessionDataManager){this._waitingForSessionDataManager=true;return;}const furnitureData=this._sessionDataManager.getAllFurnitureData(this);if(!furnitureData)return;this._sessionDataManager.removePendingFurniDataListener(this);this.processFurnitureData(furnitureData);this._stateEvents.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](RoomContentLoader_RoomContentLoader.LOADER_READY));}processFurnitureData(furnitureData){if(!furnitureData)return;for(const furniture of furnitureData){if(!furniture)continue;const id=furniture.id;let className=furniture.className;if(furniture.hasIndexedColor)className=className+'*'+furniture.colorIndex;const revision=furniture.revision;const adUrl=furniture.adUrl;if(adUrl&&adUrl.length>0)this._objectTypeAdUrls.set(className,adUrl);let name=furniture.className;if(furniture.type===FurnitureType.FLOOR){this._activeObjectTypes.set(id,className);this._activeObjectTypeIds.set(className,id);if(!this._activeObjects[name])this._activeObjects[name]=1;}else if(furniture.type===FurnitureType.WALL){if(name==='post.it'){className='post_it';name='post_it';}if(name==='post.it.vd'){className='post_it_vd';name='post_id_vd';}this._wallItemTypes.set(id,className);this._wallItemTypeIds.set(className,id);if(!this._wallItems[name])this._wallItems[name]=1;}const existingRevision=this._furniRevisions.get(name);if(revision>existingRevision){this._furniRevisions.delete(name);this._furniRevisions.set(name,revision);}}}getFurnitureFloorNameForTypeId(typeId){const type=this._activeObjectTypes.get(typeId);return this.removeColorIndex(type);}getFurnitureWallNameForTypeId(typeId){let extra=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let type=this._wallItemTypes.get(typeId);if(type==='poster'&&extra!==null)type=type+extra;return this.removeColorIndex(type);}getFurnitureFloorColorIndex(typeId){const type=this._activeObjectTypes.get(typeId);if(!type)return-1;return this.getColorIndexFromName(type);}getFurnitureWallColorIndex(typeId){const type=this._wallItemTypes.get(typeId);if(!type)return-1;return this.getColorIndexFromName(type);}getColorIndexFromName(name){if(!name)return-1;const index=name.indexOf('*');if(index===-1)return 0;return parseInt(name.substr(index+1));}removeColorIndex(name){if(!name)return null;const index=name.indexOf('*');if(index===-1)return name;return name.substr(0,index);}getRoomObjectAdUrl(type){const value=this._objectTypeAdUrls.get(type);if(!value)return'';return value;}getPetColorResult(petIndex,paletteIndex){const colorResults=this._petColors.get(petIndex);if(!colorResults)return null;return colorResults.get(paletteIndex);}getPetColorResultsForTag(petIndex,tagName){const colorResults=this._petColors.get(petIndex);const results=[];if(colorResults){for(const result of colorResults.values()){if(result.tag===tagName)results.push(result);}}return results;}getCollection(name){if(!name)return null;const existing=this._collections.get(name);if(!existing){const globalCollection=Nitro_Nitro.instance.core.asset.getCollection(name);if(globalCollection){this._collections.set(name,globalCollection);return globalCollection;}return null;}return existing;}getGifCollection(name){if(!name)return null;return this._gifCollections.get(name)||null;}getImage(name){if(!name)return null;const existing=this._images.get(name);if(!existing)return null;const image=new Image();image.src=existing.src;return image;}addAssetToCollection(collectionName,assetName,texture){let override=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;const collection=this.getCollection(collectionName);if(!collection)return false;return collection.addAsset(assetName,texture,override,0,0,false,false);}createGifCollection(collectionName,textures,durations){if(!collectionName||!textures||!durations)return null;const collection=new GraphicAssetGifCollection(collectionName,textures,durations);this._gifCollections.set(collectionName,collection);return collection;}createCollection(data,spritesheet){if(!data||!spritesheet)return null;const collection=new GraphicAssetCollection_GraphicAssetCollection(data,spritesheet);this._collections.set(collection.name,collection);const petIndex=this._pets[collection.name];if(petIndex!==undefined){const keys=collection.getPaletteNames();const palettes=new Map();for(const key of keys){const palette=collection.getPalette(key);const paletteData=data.palettes[key];const primaryColor=palette.primaryColor;const secondaryColor=palette.secondaryColor;const breed=paletteData.breed!==undefined?paletteData.breed:0;const tag=paletteData.colorTag!==undefined?paletteData.colorTag:-1;const master=paletteData.master!==undefined?paletteData.master:false;const layerTags=paletteData.tags!==undefined?paletteData.tags:[];palettes.set(parseInt(key),new PetColorResult(primaryColor,secondaryColor,breed,tag,key,master,layerTags));}this._petColors.set(petIndex,palettes);}}getPlaceholderName(type){const category=this.getCategoryForType(type);switch(category){case RoomObjectCategory.FLOOR:return RoomContentLoader_RoomContentLoader.PLACE_HOLDER;case RoomObjectCategory.WALL:return RoomContentLoader_RoomContentLoader.PLACE_HOLDER_WALL;default:if(this._pets[type]!==undefined)return RoomContentLoader_RoomContentLoader.PLACE_HOLDER_PET;return RoomContentLoader_RoomContentLoader.PLACE_HOLDER_DEFAULT;}}getCategoryForType(type){if(!type)return RoomObjectCategory.MINIMUM;if(this._activeObjects[type]!==undefined)return RoomObjectCategory.FLOOR;if(this._wallItems[type]!==undefined)return RoomObjectCategory.WALL;if(this._pets[type]!==undefined)return RoomObjectCategory.UNIT;if(type.indexOf('poster')===0)return RoomObjectCategory.WALL;if(type==='room')return RoomObjectCategory.ROOM;if(type===RoomObjectUserType.USER)return RoomObjectCategory.UNIT;if(type===RoomObjectUserType.PET)return RoomObjectCategory.UNIT;if(type===RoomObjectUserType.BOT)return RoomObjectCategory.UNIT;if(type===RoomObjectUserType.RENTABLE_BOT)return RoomObjectCategory.UNIT;if(type===RoomContentLoader_RoomContentLoader.TILE_CURSOR||type===RoomContentLoader_RoomContentLoader.SELECTION_ARROW)return RoomObjectCategory.CURSOR;return RoomObjectCategory.MINIMUM;}getPetNameForType(type){return Nitro_Nitro.instance.getConfiguration('pet.types')[type]||null;}isLoaderType(type){type=RoomObjectUserType.getRealType(type);if(type===RoomObjectVisualizationType.USER)return false;return true;}downloadImage(id,type,param){let events=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let typeName=null;let assetUrls=[];if(type&&type.indexOf(',')>=0){typeName=type;type=typeName.split(',')[0];}if(typeName){assetUrls=this.getAssetUrls(typeName,param,true);}else{assetUrls=this.getAssetUrls(type,param,true);}if(assetUrls&&assetUrls.length){const url=assetUrls[0];const image=new Image();image.src=url;image.onload=()=>{image.onerror=null;this._images.set([type,param].join('_'),image);this._iconListener.onRoomContentLoaded(id,[type,param].join('_'),true);};image.onerror=()=>{image.onload=null;this._logger.error('Failed to download asset: '+url);this._iconListener.onRoomContentLoaded(id,[type,param].join('_'),false);};return true;}return false;}downloadAsset(type,events){const assetUrls=this.getAssetUrls(type);if(!assetUrls||!assetUrls.length)return;if(this._pendingContentTypes.indexOf(type)>=0||this.getOrRemoveEventDispatcher(type))return;this._pendingContentTypes.push(type);this._events.set(type,events);const loader=new loaders[\"b\" /* Loader */]();for(const url of assetUrls){if(!url||!url.length)continue;loader.add({url,crossOrigin:'anonymous',loadType:loaders[\"c\" /* LoaderResource */].LOAD_TYPE.XHR,xhrType:loaders[\"c\" /* LoaderResource */].XHR_RESPONSE_TYPE.BUFFER});}let remaining=assetUrls.length;const onDownloaded=(status,url)=>{if(!status){this._logger.error('Failed to download asset: '+url);loader.destroy();events.dispatchEvent(new RoomContentLoadedEvent_RoomContentLoadedEvent(RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_FAILURE,type));return;}remaining--;if(!remaining){loader.destroy();const events=this._events.get(type);if(!events)return;events.dispatchEvent(new RoomContentLoadedEvent_RoomContentLoadedEvent(RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_SUCCESS,type));return;}};loader.load((loader,resources)=>{for(const key in resources){const resource=resources[key];if(!resource||resource.error||!resource.xhr){onDownloaded(false,resource.url);return;}const resourceType=resource.xhr.getResponseHeader('Content-Type')||'application/octet-stream';if(resourceType==='application/octet-stream'){const nitroBundle=new NitroBundle_NitroBundle(resource.data);this.processAsset(nitroBundle.baseTexture,nitroBundle.jsonFile,status=>{onDownloaded(status,resource.url);});continue;}}});}processAsset(baseTexture,data,onDownloaded){const spritesheetData=data.spritesheet;if(!baseTexture||!spritesheetData||!Object.keys(spritesheetData).length){this.createCollection(data,null);onDownloaded(true);return;}const createAsset=()=>{const spritesheet=new esm_spritesheet[\"a\" /* Spritesheet */](baseTexture,spritesheetData);spritesheet.parse(()=>{this.createCollection(data,spritesheet);onDownloaded(true);});};if(baseTexture.valid){createAsset();}else{baseTexture.once('update',()=>createAsset());}}setAssetAliasName(name,originalName){this._objectAliases.set(name,originalName);this._objectOriginalNames.set(originalName,name);}getAssetAliasName(name){const existing=this._objectAliases.get(name);if(!existing)return name;return existing;}getAssetOriginalName(name){const existing=this._objectOriginalNames.get(name);if(!existing)return name;return existing;}getAssetUrls(type){let param=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let icon=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;switch(type){case RoomContentLoader_RoomContentLoader.PLACE_HOLDER:return[this.getAssetUrlWithGenericBase(RoomContentLoader_RoomContentLoader.PLACE_HOLDER)];case RoomContentLoader_RoomContentLoader.PLACE_HOLDER_WALL:return[this.getAssetUrlWithGenericBase(RoomContentLoader_RoomContentLoader.PLACE_HOLDER_WALL)];case RoomContentLoader_RoomContentLoader.PLACE_HOLDER_PET:return[this.getAssetUrlWithGenericBase(RoomContentLoader_RoomContentLoader.PLACE_HOLDER_PET)];case RoomContentLoader_RoomContentLoader.ROOM:return[this.getAssetUrlWithGenericBase('room')];case RoomContentLoader_RoomContentLoader.TILE_CURSOR:return[this.getAssetUrlWithGenericBase(RoomContentLoader_RoomContentLoader.TILE_CURSOR)];case RoomContentLoader_RoomContentLoader.SELECTION_ARROW:return[this.getAssetUrlWithGenericBase(RoomContentLoader_RoomContentLoader.SELECTION_ARROW)];default:{const category=this.getCategoryForType(type);if(category===RoomObjectCategory.FLOOR||category===RoomObjectCategory.WALL){const name=this.getAssetAliasName(type);let assetUrl=icon?this.getAssetUrlWithFurniIconBase(name):this.getAssetUrlWithFurniBase(type);if(icon){const active=param&&param!==''&&this._activeObjectTypeIds.has(name+'*'+param);assetUrl=assetUrl.replace(/%param%/gi,active?'_'+param:'');}return[assetUrl];}if(category===RoomObjectCategory.UNIT){return[this.getAssetUrlWithPetBase(type)];}return null;}}}getAssetIconUrl(type,colorIndex){let assetName=null;let assetUrls=[];if(type&&type.indexOf(',')>=0){assetName=type;type=assetName.split(',')[0];}if(assetName){assetUrls=this.getAssetUrls(assetName,colorIndex,true);}else{assetUrls=this.getAssetUrls(type,colorIndex,true);}if(assetUrls&&assetUrls.length)return assetUrls[0];return null;}getAssetUrlWithGenericBase(assetName){return Nitro_Nitro.instance.getConfiguration('generic.asset.url').replace(/%libname%/gi,assetName);}getAssetUrlWithFurniBase(assetName){return Nitro_Nitro.instance.getConfiguration('furni.asset.url').replace(/%libname%/gi,assetName);}getAssetUrlWithFurniIconBase(assetName){return Nitro_Nitro.instance.getConfiguration('furni.asset.icon.url').replace(/%libname%/gi,assetName);}getAssetUrlWithPetBase(assetName){return Nitro_Nitro.instance.getConfiguration('pet.asset.url').replace(/%libname%/gi,assetName);}setRoomObjectRoomId(object,roomId){const model=object&&object.model;if(!model)return;model.setValue(RoomObjectVariable.OBJECT_ROOM_ID,roomId);}getOrRemoveEventDispatcher(type){let remove=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const existing=this._events.get(type);if(remove)this._events.delete(type);return existing;}setIconListener(listener){this._iconListener=listener;}}RoomContentLoader_RoomContentLoader.PLACE_HOLDER='place_holder';RoomContentLoader_RoomContentLoader.PLACE_HOLDER_WALL='place_holder_wall';RoomContentLoader_RoomContentLoader.PLACE_HOLDER_PET='place_holder_pet';RoomContentLoader_RoomContentLoader.PLACE_HOLDER_DEFAULT=RoomContentLoader_RoomContentLoader.PLACE_HOLDER;RoomContentLoader_RoomContentLoader.ROOM='room';RoomContentLoader_RoomContentLoader.TILE_CURSOR='tile_cursor';RoomContentLoader_RoomContentLoader.SELECTION_ARROW='selection_arrow';RoomContentLoader_RoomContentLoader.LOADER_READY='RCL_LOADER_READY';RoomContentLoader_RoomContentLoader.MANDATORY_LIBRARIES=[RoomContentLoader_RoomContentLoader.PLACE_HOLDER,RoomContentLoader_RoomContentLoader.PLACE_HOLDER_WALL,RoomContentLoader_RoomContentLoader.PLACE_HOLDER_PET,RoomContentLoader_RoomContentLoader.ROOM,RoomContentLoader_RoomContentLoader.TILE_CURSOR,RoomContentLoader_RoomContentLoader.SELECTION_ARROW];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/RoomObjectModel.ts\nclass RoomObjectModel{constructor(){this._map=void 0;this._updateCounter=void 0;this._map=new Map();this._updateCounter=0;}dispose(){this._map.clear();this._updateCounter=0;}getValue(key){const existing=this._map.get(key);return existing;}setValue(key,value){if(this._map.has(key)){if(this._map.get(key)===value)return;}this._map.set(key,value);this._updateCounter++;}removeKey(key){if(!key)return;this._map.delete(key);this._updateCounter++;}get updateCounter(){return this._updateCounter;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/RoomInstance.ts\nclass RoomInstance_RoomInstance extends Disposable{constructor(id,container){super();this._id=void 0;this._container=void 0;this._renderer=void 0;this._managers=void 0;this._updateCategories=void 0;this._model=void 0;this._id=id;this._container=container;this._renderer=null;this._managers=new Map();this._updateCategories=[];this._model=new RoomObjectModel();}onDispose(){this.removeAllManagers();this.destroyRenderer();this._container=null;this._model.dispose();}setRenderer(renderer){if(renderer===this._renderer)return;if(this._renderer)this.destroyRenderer();this._renderer=renderer;if(!this._renderer)return;this._renderer.reset();if(this._managers.size){for(const manager of this._managers.values()){if(!manager)continue;const objects=manager.objects;if(!objects.length)continue;for(const object of objects.getValues()){if(!object)continue;this._renderer.addObject(object);}}}}destroyRenderer(){if(!this._renderer)return;this._renderer.dispose();this._renderer=null;}getManager(category){const manager=this._managers.get(category);if(!manager)return null;return manager;}getManagerOrCreate(category){let manager=this.getManager(category);if(manager)return manager;manager=this._container.createRoomObjectManager(category);if(!manager)return null;this._managers.set(category,manager);return manager;}getTotalObjectsForManager(category){const manager=this.getManager(category);if(!manager)return 0;return manager.totalObjects;}getRoomObject(id,category){const manager=this.getManager(category);if(!manager)return null;const object=manager.getObject(id);if(!object)return null;return object;}getRoomObjectsForCategory(category){const manager=this.getManager(category);return manager?manager.objects.getValues():[];}getRoomObjectByIndex(index,category){const manager=this.getManager(category);if(!manager)return null;const object=manager.getObjectByIndex(index);if(!object)return null;return object;}createRoomObject(id,stateCount,type,category){const manager=this.getManagerOrCreate(category);if(!manager)return null;const object=manager.createObject(id,stateCount,type);if(!object)return null;if(this._renderer)this._renderer.addObject(object);return object;}createRoomObjectAndInitalize(objectId,type,category){if(!this._container)return null;return this._container.createRoomObjectAndInitalize(this._id,objectId,type,category);}removeRoomObject(id,category){const manager=this.getManager(category);if(!manager)return;const object=manager.getObject(id);if(!object)return;object.tearDown();if(this._renderer)this._renderer.removeObject(object);manager.removeObject(id);}removeAllManagers(){for(const manager of this._managers.values()){if(!manager)continue;if(this._renderer){const objects=manager.objects;if(objects.length){for(const object of objects.getValues()){if(!object)continue;this._renderer.removeObject(object);}}}manager.dispose();}this._managers.clear();}addUpdateCategory(category){const index=this._updateCategories.indexOf(category);if(index>=0)return;this._updateCategories.push(category);}removeUpdateCategory(category){const index=this._updateCategories.indexOf(category);if(index===-1)return;this._updateCategories.splice(index,1);}update(time){let update=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(const category of this._updateCategories){const manager=this.getManager(category);if(!manager)continue;const objects=manager.objects;if(!objects.length)continue;for(const object of objects.getValues()){if(!object)continue;const logic=object.logic;logic&&logic.update(time);}}this._renderer&&this._renderer.update(time,update);}hasUninitializedObjects(){for(const manager of this._managers.values()){if(!manager)continue;for(const object of manager.objects.getValues()){if(!object)continue;if(!object.isReady)return true;}}return false;}get id(){return this._id;}get container(){return this._container;}get renderer(){return this._renderer;}get managers(){return this._managers;}get model(){return this._model;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/Vector3d.ts\nclass Vector3d{constructor(){let x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this._x=void 0;this._y=void 0;this._z=void 0;this._length=void 0;this._x=x;this._y=y;this._z=z;this._length=NaN;}static sum(vector1,vector2){if(!vector1||!vector2)return null;return new Vector3d(vector1.x+vector2.x,vector1.y+vector2.y,vector1.z+vector2.z);}static dif(vector1,vector2){if(!vector1||!vector2)return null;return new Vector3d(vector1.x-vector2.x,vector1.y-vector2.y,vector1.z-vector2.z);}static product(vector,value){if(!vector)return null;return new Vector3d(vector.x*value,vector.y*value,vector.z*value);}static dotProduct(vector1,vector2){if(!vector1||!vector2)return 0;return vector1.x*vector2.x+vector1.y*vector2.y+vector1.z*vector2.z;}static crossProduct(vector1,vector2){if(!vector1||!vector2)return null;return new Vector3d(vector1.y*vector2.z-vector1.z*vector2.y,vector1.z*vector2.x-vector1.x*vector2.z,vector1.x*vector2.y-vector1.y*vector2.x);}static scalarProjection(vector1,vector2){if(!vector1||!vector2)return-1;const length=vector2.length;if(length>0){return(vector1.x*vector2.x+vector1.y*vector2.y+vector1.z*vector2.z)/length;}return-1;}static cosAngle(vector1,vector2){if(!vector1||!vector2)return 0;const totalLength=vector1.length*vector2.length;if(!totalLength)return 0;return Vector3d.dotProduct(vector1,vector2)/totalLength;}static isEqual(vector1,vector2){if(!vector1||!vector2)return false;if(vector1.x!==vector2.x||vector1.y!==vector2.y||vector1.z!==vector2.z)return false;return true;}negate(){this._x=-this._x;this._y=-this._y;this._z=-this._z;}add(vector){if(!vector)return;this._x+=vector.x;this._y+=vector.y;this._z+=vector.z;this._length=NaN;}subtract(vector){if(!vector)return;this._x-=vector.x;this._y-=vector.y;this._z-=vector.z;this._length=NaN;}multiply(amount){this._x*=amount;this._y*=amount;this._z*=amount;this._length=NaN;}divide(amount){if(!amount)return;this._x/=amount;this._y/=amount;this._z/=amount;this._length=NaN;}assign(vector){if(!vector)return;this._x=vector.x;this._y=vector.y;this._z=vector.z;this._length=NaN;}get x(){return this._x;}set x(k){this._x=k;this._length=NaN;}get y(){return this._y;}set y(k){this._y=k;this._length=NaN;}get z(){return this._z;}set z(k){this._z=k;this._length=NaN;}get length(){if(isNaN(this._length)){this._length=Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z);}return this._length;}toString(){return`[Vector3d: ${this._x}, ${this._y}, ${this._z}]`;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/RoomObject.ts\nclass RoomObject_RoomObject extends Disposable{constructor(id,stateCount,type){super();this._id=void 0;this._instanceId=void 0;this._type=void 0;this._model=void 0;this._location=void 0;this._direction=void 0;this._states=void 0;this._visualization=void 0;this._logic=void 0;this._pendingLogicMessages=void 0;this._updateCounter=void 0;this._isReady=void 0;this._id=id;this._instanceId=RoomObject_RoomObject.OBJECT_COUNTER++;this._type=type;this._model=new RoomObjectModel();this._location=new Vector3d();this._direction=new Vector3d();this._states=[];this._visualization=null;this._logic=null;this._pendingLogicMessages=[];this._updateCounter=0;this._isReady=false;let i=stateCount-1;while(i>=0){this._states[i]=0;i--;}}onDispose(){this._pendingLogicMessages=[];this.setVisualization(null);this.setLogic(null);if(this._model)this._model.dispose();super.onDispose();}getLocation(){return this._location;}setLocation(vector){if(!vector)return;if(vector.x===this._location.x&&vector.y===this._location.y&&vector.z===this._location.z)return;this._location.x=vector.x;this._location.y=vector.y;this._location.z=vector.z;this._updateCounter++;}getDirection(){return this._direction;}setDirection(vector){if(!vector)return;if(vector.x===this._direction.x&&vector.y===this._direction.y&&vector.z===this._direction.z)return;this._direction.x=(vector.x%360+360)%360;this._direction.y=(vector.y%360+360)%360;this._direction.z=(vector.z%360+360)%360;this._updateCounter++;}getState(){let index=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(index>=0&&index<this._states.length){return this._states[index];}return-1;}setState(state){let index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(index>=0&&index<this._states.length){if(this._states[index]!==state){this._states[index]=state;this._updateCounter++;}return true;}return false;}setVisualization(visualization){if(this._visualization===visualization)return;if(this._visualization)this._visualization.dispose();this._visualization=visualization;if(this._visualization)this._visualization.object=this;}setLogic(logic){if(this._logic===logic)return;const eventHandler=this._logic;if(eventHandler){this._logic=null;eventHandler.setObject(null);}this._logic=logic;if(this._logic){this._logic.setObject(this);while(this._pendingLogicMessages.length){const message=this._pendingLogicMessages.shift();this._logic.processUpdateMessage(message);}}}processUpdateMessage(message){if(this._logic)return this._logic.processUpdateMessage(message);this._pendingLogicMessages.push(message);}tearDown(){if(this._logic)this._logic.tearDown();}get id(){return this._id;}get instanceId(){return this._instanceId;}get type(){return this._type;}get model(){return this._model;}get visualization(){return this._visualization;}get mouseHandler(){return this._logic;}get logic(){return this._logic;}get location(){return this._location;}get direction(){return this._direction;}get updateCounter(){return this._updateCounter;}set updateCounter(count){this._updateCounter=count;}get isReady(){return this._isReady;}set isReady(flag){this._isReady=flag;}}RoomObject_RoomObject.OBJECT_COUNTER=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/RoomObjectManager.ts\nclass RoomObjectManager_RoomObjectManager{constructor(){this._objects=void 0;this._objectsPerType=void 0;this._objects=new AdvancedMap();this._objectsPerType=new AdvancedMap();}dispose(){this.removeAllObjects();}getObject(id){const object=this._objects.getValue(id);if(!object)return null;return object;}getObjectByIndex(index){const object=this._objects.getWithIndex(index);if(!object)return null;return object;}createObject(id,stateCount,type){const object=new RoomObject_RoomObject(id,stateCount,type);return this.addObject(id,type,object);}addObject(id,type,object){if(this._objects.getValue(id)){object.dispose();return null;}this._objects.add(id,object);const typeMap=this.getTypeMap(type);if(typeMap)typeMap.add(id,object);return object;}removeObject(id){const object=this._objects.remove(id);if(object){const typeMap=this.getTypeMap(object.type);if(typeMap)typeMap.remove(object.id);object.dispose();}}removeAllObjects(){let i=0;while(i<this._objects.length){const object=this._objects.getWithIndex(i);if(object)object.dispose();i++;}this._objects.reset();i=0;while(i<this._objectsPerType.length){const typeMap=this._objectsPerType.getWithIndex(i);if(typeMap)typeMap.dispose();i++;}this._objectsPerType.reset();}getTypeMap(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let existing=this._objectsPerType.getValue(k);if(!existing&&_arg_2){existing=new AdvancedMap();this._objectsPerType.add(k,existing);}return existing;}get objects(){return this._objects;}get totalObjects(){return this._objects.length;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/RoomManager.ts\nclass RoomManager_RoomManager extends NitroManager_NitroManager{constructor(listener,visualizationFactory,logicFactory){super();this._state=void 0;this._rooms=void 0;this._contentLoader=void 0;this._updateCategories=void 0;this._listener=void 0;this._visualizationFactory=void 0;this._logicFactory=void 0;this._initialLoadList=void 0;this._pendingContentTypes=void 0;this._skipContentProcessing=void 0;this._disposed=void 0;this._state=RoomManager_RoomManager.ROOM_MANAGER_LOADED;this._rooms=new Map();this._contentLoader=null;this._updateCategories=[];this._listener=listener;this._visualizationFactory=visualizationFactory;this._logicFactory=logicFactory;this._initialLoadList=[];this._pendingContentTypes=[];this._skipContentProcessing=false;this._disposed=false;this.onRoomContentLoadedEvent=this.onRoomContentLoadedEvent.bind(this);this.events.addEventListener(RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_SUCCESS,this.onRoomContentLoadedEvent);this.events.addEventListener(RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_FAILURE,this.onRoomContentLoadedEvent);this.events.addEventListener(RoomContentLoadedEvent_RoomContentLoadedEvent.RCLE_CANCEL,this.onRoomContentLoadedEvent);}onInit(){if(this._state>=RoomManager_RoomManager.ROOM_MANAGER_INITIALIZING||!this._contentLoader)return;const mandatoryLibraries=RoomContentLoader_RoomContentLoader.MANDATORY_LIBRARIES;for(const library of mandatoryLibraries){if(!library)continue;if(this._initialLoadList.indexOf(library)===-1){this._contentLoader.downloadAsset(library,this.events);this._initialLoadList.push(library);}}this._state=RoomManager_RoomManager.ROOM_MANAGER_INITIALIZING;}getRoomInstance(roomId){const existing=this._rooms.get(roomId);if(!existing)return null;return existing;}createRoomInstance(roomId){if(this._rooms.get(roomId))return null;const instance=new RoomInstance_RoomInstance(roomId,this);this._rooms.set(instance.id,instance);if(this._updateCategories.length){for(const category of this._updateCategories){instance.addUpdateCategory(category);}}return instance;}removeRoomInstance(roomId){const existing=this._rooms.get(roomId);if(!existing)return false;this._rooms.delete(roomId);existing.dispose();return true;}createRoomObjectAndInitalize(roomId,objectId,type,category){const instance=this.getRoomInstance(roomId);if(!instance)return null;let visualization=type;let logic=type;let assetName=type;let asset=null;let isLoading=false;if(this._contentLoader.isLoaderType(type)){asset=this._contentLoader.getCollection(type);if(!asset){isLoading=true;this._contentLoader.downloadAsset(type,this.events);assetName=this._contentLoader.getPlaceholderName(type);asset=this._contentLoader.getCollection(assetName);if(!asset)return null;}visualization=asset.data.visualizationType;logic=asset.data.logicType;}const object=instance.createRoomObject(objectId,1,type,category);if(!object)return null;if(this._visualizationFactory){const visualizationInstance=this._visualizationFactory.getVisualization(visualization);if(!visualizationInstance){instance.removeRoomObject(objectId,category);return null;}visualizationInstance.asset=asset;const visualizationData=this._visualizationFactory.getVisualizationData(assetName,visualization,asset&&asset.data||null);if(!visualizationData||!visualizationInstance.initialize(visualizationData)){instance.removeRoomObject(objectId,category);return null;}object.setVisualization(visualizationInstance);}if(this._logicFactory){const logicInstance=this._logicFactory.getLogic(logic);object.setLogic(logicInstance);if(logicInstance){logicInstance.initialize(asset&&asset.data||null);}}if(!isLoading)object.isReady=true;this._contentLoader.setRoomObjectRoomId(object,roomId);return object;}reinitializeRoomObjectsByType(type){if(!type||!this._contentLoader||!this._visualizationFactory||!this._logicFactory)return;const asset=this._contentLoader.getCollection(type);if(!asset)return;const visualization=asset.data.visualizationType;const logic=asset.data.logicType;const visualizationData=this._visualizationFactory.getVisualizationData(type,visualization,asset.data);for(const room of this._rooms.values()){if(!room)continue;for(const[category,manager]of room.managers.entries()){if(!manager)continue;for(const object of manager.objects.getValues()){if(!object||object.type!==type)continue;const visualizationInstance=this._visualizationFactory.getVisualization(visualization);if(visualizationInstance){visualizationInstance.asset=asset;if(!visualizationData||!visualizationInstance.initialize(visualizationData)){manager.removeObject(object.id);}else{object.setVisualization(visualizationInstance);const logicInstance=this._logicFactory.getLogic(logic);object.setLogic(logicInstance);if(logicInstance){logicInstance.initialize(asset.data);}object.isReady=true;if(this._listener)this._listener.objectInitialized(room.id,object.id,category);}}else{manager.removeObject(object.id);}}}}}addUpdateCategory(category){const index=this._updateCategories.indexOf(category);if(index>=0)return;this._updateCategories.push(category);if(!this._rooms.size)return;for(const room of this._rooms.values()){if(!room)continue;room.addUpdateCategory(category);}}removeUpdateCategory(category){const index=this._updateCategories.indexOf(category);if(index===-1)return;this._updateCategories.splice(index,1);if(!this._rooms.size)return;for(const room of this._rooms.values()){if(!room)continue;room.removeUpdateCategory(category);}}setContentLoader(loader){if(this._contentLoader)this._contentLoader.dispose();this._contentLoader=loader;}processPendingContentTypes(time){if(this._skipContentProcessing){this._skipContentProcessing=false;return;}while(this._pendingContentTypes.length){const type=this._pendingContentTypes.shift();const collection=this._contentLoader.getCollection(type);if(!collection){if(this._listener){this._listener.initalizeTemporaryObjectsByType(type,false);}this.logger.log(`Invalid Collection: ${type}`);continue;}this.reinitializeRoomObjectsByType(type);if(this._listener)this._listener.initalizeTemporaryObjectsByType(type,true);if(this._initialLoadList.length>0)this.removeFromInitialLoad(type);}}removeFromInitialLoad(type){if(!type||this._state===RoomManager_RoomManager.ROOM_MANAGER_ERROR)return;if(!this._contentLoader)this._state=RoomManager_RoomManager.ROOM_MANAGER_ERROR;if(this._contentLoader.getCollection(type)){const i=this._initialLoadList.indexOf(type);if(i>=0)this._initialLoadList.splice(i,1);if(!this._initialLoadList.length){this._state=RoomManager_RoomManager.ROOM_MANAGER_INITIALIZED;if(this._listener){this._listener.onRoomEngineInitalized(true);}}}else{this._state=RoomManager_RoomManager.ROOM_MANAGER_ERROR;if(this._listener)this._listener.onRoomEngineInitalized(false);}}onRoomContentLoadedEvent(event){if(!this._contentLoader)return;const contentType=event.contentType;if(this._pendingContentTypes.indexOf(contentType)>=0)return;this._pendingContentTypes.push(contentType);}update(time){let update=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.processPendingContentTypes(time);if(!this._rooms.size)return;for(const room of this._rooms.values())room&&room.update(time,update);}createRoomObjectManager(category){return new RoomObjectManager_RoomObjectManager();}get rooms(){return this._rooms;}get disposed(){return this._disposed;}}RoomManager_RoomManager.ROOM_MANAGER_ERROR=-1;RoomManager_RoomManager.ROOM_MANAGER_LOADING=0;RoomManager_RoomManager.ROOM_MANAGER_LOADED=1;RoomManager_RoomManager.ROOM_MANAGER_INITIALIZING=2;RoomManager_RoomManager.ROOM_MANAGER_INITIALIZED=3;RoomManager_RoomManager.CONTENT_PROCESSING_TIME_LIMIT_MILLISECONDS=40;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/utils/FigureDataContainer.ts\nclass FigureDataContainer{constructor(){this._data=void 0;this._colors=void 0;this._gender='M';this._isDisposed=void 0;this._avatarEffectType=-1;}loadAvatarData(k,_arg_2){this._data=new Map();this._colors=new Map();this._gender=_arg_2;this.parseFigureString(k);}dispose(){this._data=null;this._colors=null;this._isDisposed=true;}get disposed(){return this._isDisposed;}parseFigureString(k){if(!k)return;for(const set of k.split('.')){const _local_3=set.split('-');if(_local_3.length>0){const part=_local_3[0];const setId=parseInt(_local_3[1]);const colors=[];let i=2;while(i<_local_3.length){colors.push(parseInt(_local_3[i]));i++;}if(!colors.length)colors.push(0);this.savePartSetId(part,setId,false);this.savePartSetColourId(part,colors,false);}}}hasSetType(k){return!!this._data.get(k);}getPartSetId(k){if(this.hasSetType(k))return this._data.get(k);return-1;}getColourIds(k){if(this._colors.get(k))return this._colors.get(k);return[];}getFigureString(){let figure='';const sets=[];for(const[key,value]of this._data.entries()){let set=key+'-'+value;const colors=this._colors.get(key);if(colors)for(const color of colors)set=set+('-'+color);sets.push(set);}let i=0;while(i<sets.length){figure=figure+sets[i];if(i<sets.length-1)figure=figure+'.';i++;}return figure;}savePartData(k,_arg_2,_arg_3){let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this.savePartSetId(k,_arg_2,_arg_4);this.savePartSetColourId(k,_arg_3,_arg_4);}savePartSetId(k,_arg_2){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;switch(k){case FigureDataContainer.HD:case FigureDataContainer.HAIR:case FigureDataContainer.HAT:case FigureDataContainer.HEAD_ACCESSORIES:case FigureDataContainer.EYE_ACCESSORIES:case FigureDataContainer.FACE_ACCESSORIES:case FigureDataContainer.SHIRT:case FigureDataContainer.JACKET:case FigureDataContainer.CHEST_ACCESSORIES:case FigureDataContainer.CHEST_PRINTS:case FigureDataContainer.TROUSERS:case FigureDataContainer.SHOES:case FigureDataContainer.TROUSER_ACCESSORIES:if(_arg_2>=0){this._data.set(k,_arg_2);}else{this._data.delete(k);}}}savePartSetColourId(k,_arg_2){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;switch(k){case FigureDataContainer.HD:case FigureDataContainer.HAIR:case FigureDataContainer.HAT:case FigureDataContainer.HEAD_ACCESSORIES:case FigureDataContainer.EYE_ACCESSORIES:case FigureDataContainer.FACE_ACCESSORIES:case FigureDataContainer.SHIRT:case FigureDataContainer.JACKET:case FigureDataContainer.CHEST_ACCESSORIES:case FigureDataContainer.CHEST_PRINTS:case FigureDataContainer.TROUSERS:case FigureDataContainer.SHOES:case FigureDataContainer.TROUSER_ACCESSORIES:this._colors.set(k,_arg_2);return;}}getFigureStringWithFace(k){const partSets=[FigureDataContainer.HD];let figure='';const sets=[];for(const part of partSets){const colors=this._colors.get(part);if(colors){let setId=this._data.get(part);if(part===FigureDataContainer.HD)setId=k;let set=part+'-'+setId;if(setId>=0){let i=0;while(i<colors.length){set=set+('-'+colors[i]);i++;}}sets.push(set);}}let i=0;while(i<sets.length){figure=figure+sets[i];if(i<sets.length-1)figure=figure+'.';i++;}return figure;}get gender(){return this._gender;}}FigureDataContainer.MALE='M';FigureDataContainer.FEMALE='F';FigureDataContainer.UNISEX='U';FigureDataContainer.SCALE='h';FigureDataContainer.STD='std';FigureDataContainer.DEFAULT_FRAME='0';FigureDataContainer.HD='hd';FigureDataContainer.HAIR='hr';FigureDataContainer.HAT='ha';FigureDataContainer.HEAD_ACCESSORIES='he';FigureDataContainer.EYE_ACCESSORIES='ea';FigureDataContainer.FACE_ACCESSORIES='fa';FigureDataContainer.JACKET='cc';FigureDataContainer.SHIRT='ch';FigureDataContainer.CHEST_ACCESSORIES='ca';FigureDataContainer.CHEST_PRINTS='cp';FigureDataContainer.TROUSERS='lg';FigureDataContainer.SHOES='sh';FigureDataContainer.TROUSER_ACCESSORIES='wa';FigureDataContainer.BLOCKED_FX_TYPES=[28,29,30,33,34,35,36,37,38,39,40,41,42,43,68];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/alias/AssetAlias.ts\nclass AssetAlias{constructor(name,alias){this._name=void 0;this._link=void 0;this._flipH=void 0;this._flipV=void 0;this._name=name;this._link=alias.link;this._flipH=alias.flipH;this._flipV=alias.flipV;}get name(){return this._name;}get link(){return this._link;}get flipH(){return this._flipH;}get flipV(){return this._flipV;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/alias/AssetAliasCollection.ts\nclass AssetAliasCollection_AssetAliasCollection{constructor(k,_arg_2){this._assets=void 0;this._aliases=void 0;this._avatarRenderManager=void 0;this._missingAssetNames=void 0;this._avatarRenderManager=k;this._aliases=new Map();this._assets=_arg_2;this._missingAssetNames=[];}dispose(){this._assets=null;this._aliases=null;}reset(){this.init();}init(){for(const collection of this._assets.collections.values()){if(!collection)continue;const aliases=collection.data&&collection.data.aliases;if(!aliases)continue;for(const name in aliases){const alias=aliases[name];if(!alias)continue;this._aliases.set(name,new AssetAlias(name,alias));}}}hasAlias(k){const alias=this._aliases.get(k);if(alias)return true;return false;}getAssetName(k){let _local_2=k;let _local_3=5;while(this.hasAlias(_local_2)&&_local_3>=0){const _local_4=this._aliases.get(_local_2);_local_2=_local_4.link;_local_3--;}return _local_2;}getAsset(name){if(!this._assets)return null;name=this.getAssetName(name);const asset=this._assets.getAsset(name);if(!asset)return null;return asset;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/events/AvatarRenderLibraryEvent.ts\nclass AvatarRenderLibraryEvent_AvatarRenderLibraryEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,library){super(type);this._library=void 0;this._library=library;}get library(){return this._library;}}AvatarRenderLibraryEvent_AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE='ARLE_DOWNLOAD_COMPLETE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarAssetDownloadLibrary.ts\nclass AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary extends EventDispatcher_EventDispatcher{constructor(id,revision,assets,assetUrl){super();this._state=void 0;this._libraryName=void 0;this._revision=void 0;this._downloadUrl=void 0;this._assets=void 0;this._state=AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.NOT_LOADED;this._libraryName=id;this._revision=revision;this._downloadUrl=assetUrl;this._assets=assets;this._downloadUrl=this._downloadUrl.replace(/%libname%/gi,this._libraryName);this._downloadUrl=this._downloadUrl.replace(/%revision%/gi,this._revision);const asset=this._assets.getCollection(this._libraryName);if(asset)this._state=AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADED;}downloadAsset(){if(!this._assets||this._state===AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADING||this._state===AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADED)return;const asset=this._assets.getCollection(this._libraryName);if(asset){this._state=AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADED;this.dispatchEvent(new AvatarRenderLibraryEvent_AvatarRenderLibraryEvent(AvatarRenderLibraryEvent_AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,this));return;}this._state=AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADING;this._assets.downloadAsset(this._downloadUrl,flag=>{if(flag){this._state=AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADED;this.dispatchEvent(new AvatarRenderLibraryEvent_AvatarRenderLibraryEvent(AvatarRenderLibraryEvent_AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,this));}});}get libraryName(){return this._libraryName;}get isLoaded(){return this._state===AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADED;}}AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.DOWNLOAD_COMPLETE='AADL_DOWNLOAD_COMPLETE';AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.NOT_LOADED=0;AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADING=1;AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary.LOADED=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/events/AvatarRenderEvent.ts\nclass AvatarRenderEvent{}AvatarRenderEvent.AVATAR_RENDER_READY='AVATAR_RENDER_READY';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarAssetDownloadManager.ts\nclass AvatarAssetDownloadManager_AvatarAssetDownloadManager extends EventDispatcher_EventDispatcher{constructor(assets,structure){super();this._assets=void 0;this._structure=void 0;this._missingMandatoryLibs=void 0;this._figureMap=void 0;this._pendingContainers=void 0;this._figureListeners=void 0;this._incompleteFigures=void 0;this._pendingDownloadQueue=void 0;this._currentDownloads=void 0;this._libraryNames=void 0;this._isReady=void 0;this._assets=assets;this._structure=structure;this._missingMandatoryLibs=Nitro_Nitro.instance.getConfiguration('avatar.mandatory.libraries');this._figureMap=new Map();this._pendingContainers=[];this._figureListeners=new Map();this._incompleteFigures=new Map();this._pendingDownloadQueue=[];this._currentDownloads=[];this._libraryNames=[];this._isReady=false;this.onLibraryLoaded=this.onLibraryLoaded.bind(this);this.onAvatarRenderReady=this.onAvatarRenderReady.bind(this);this.loadFigureMap();this._structure.renderManager.events.addEventListener(AvatarRenderEvent.AVATAR_RENDER_READY,this.onAvatarRenderReady);}loadFigureMap(){const request=new XMLHttpRequest();try{request.open('GET',Nitro_Nitro.instance.getConfiguration('avatar.figuremap.url'));request.send();request.onloadend=e=>{if(request.responseText){const data=JSON.parse(request.responseText);this.processFigureMap(data.libraries);this.processMissingLibraries();this._isReady=true;this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](AvatarAssetDownloadManager_AvatarAssetDownloadManager.DOWNLOADER_READY));}};request.onerror=e=>{throw new Error('invalid_avatar_figure_map');};}catch(e){NitroLogger.log(e);}}processFigureMap(data){if(!data)return;for(const library of data){if(!library)continue;const id=library.id;const revision=library.revision||'';if(this._libraryNames.indexOf(id)>=0)continue;this._libraryNames.push(id);const downloadLibrary=new AvatarAssetDownloadLibrary_AvatarAssetDownloadLibrary(id,revision,this._assets,Nitro_Nitro.instance.getConfiguration('avatar.asset.url'));downloadLibrary.addEventListener(AvatarRenderLibraryEvent_AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,this.onLibraryLoaded);for(const part of library.parts){const id=part.id;const type=part.type;const partString=type+':'+id;let existing=this._figureMap.get(partString);if(!existing)existing=[];existing.push(downloadLibrary);this._figureMap.set(partString,existing);}}}onAvatarRenderReady(event){if(!event)return;for(const[container,listener]of this._pendingContainers){this.downloadAvatarFigure(container,listener);}this._pendingContainers=[];}onLibraryLoaded(event){if(!event||!event.library)return;const loadedFigures=[];for(const[figure,libraries]of this._incompleteFigures.entries()){let isReady=true;for(const library of libraries){if(!library||library.isLoaded)continue;isReady=false;break;}if(isReady){loadedFigures.push(figure);const listeners=this._figureListeners.get(figure);if(listeners){for(const listener of listeners){if(!listener||listener.disposed)continue;listener.resetFigure(figure);}}this._figureListeners.delete(figure);this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](AvatarAssetDownloadManager_AvatarAssetDownloadManager.LIBRARY_LOADED));}}for(const figure of loadedFigures){if(!figure)continue;this._incompleteFigures.delete(figure);}let index=0;while(index<this._currentDownloads.length){const download=this._currentDownloads[index];if(download){if(download.libraryName===event.library.libraryName)this._currentDownloads.splice(index,1);}index++;}}processMissingLibraries(){const libraries=this._missingMandatoryLibs.slice();for(const library of libraries){if(!library)continue;const map=this._figureMap.get(library);if(map)for(const avatar of map)avatar&&this.downloadLibrary(avatar);}}isAvatarFigureContainerReady(container){if(!this._isReady||!this._structure.renderManager.isReady){return false;}const pendingLibraries=this.getAvatarFigurePendingLibraries(container);return!pendingLibraries.length;}getAvatarFigurePendingLibraries(container){const pendingLibraries=[];if(!container||!this._structure)return pendingLibraries;const figureData=this._structure.figureData;if(!figureData)return pendingLibraries;const setKeys=container.getPartTypeIds();for(const key of setKeys){const set=figureData.getSetType(key);if(!set)continue;const figurePartSet=set.getPartSet(container.getPartSetId(key));if(!figurePartSet)continue;for(const part of figurePartSet.parts){if(!part)continue;const name=part.type+':'+part.id;const existing=this._figureMap.get(name);if(existing===undefined)continue;for(const library of existing){if(!library||library.isLoaded)continue;if(pendingLibraries.indexOf(library)>=0)continue;pendingLibraries.push(library);}}}return pendingLibraries;}downloadAvatarFigure(container,listener){if(!this._isReady||!this._structure.renderManager.isReady){this._pendingContainers.push([container,listener]);return;}const figure=container.getFigureString();const pendingLibraries=this.getAvatarFigurePendingLibraries(container);if(pendingLibraries&&pendingLibraries.length){if(listener&&!listener.disposed){let listeners=this._figureListeners.get(figure);if(!listeners){listeners=[];this._figureListeners.set(figure,listeners);}listeners.push(listener);}this._incompleteFigures.set(figure,pendingLibraries);for(const library of pendingLibraries){if(!library)continue;this.downloadLibrary(library);}}else{if(listener&&!listener.disposed)listener.resetFigure(figure);}}downloadLibrary(library){if(!library||library.isLoaded)return;if(this._pendingDownloadQueue.indexOf(library)>=0||this._currentDownloads.indexOf(library)>=0)return;this._pendingDownloadQueue.push(library);this.processDownloadQueue();}processDownloadQueue(){while(this._pendingDownloadQueue.length){const library=this._pendingDownloadQueue[0];library.downloadAsset();this._currentDownloads.push(this._pendingDownloadQueue.shift());}}}AvatarAssetDownloadManager_AvatarAssetDownloadManager.DOWNLOADER_READY='AADM_DOWNLOADER_READY';AvatarAssetDownloadManager_AvatarAssetDownloadManager.LIBRARY_LOADED='AADM_LIBRARY_LOADED';AvatarAssetDownloadManager_AvatarAssetDownloadManager.MAX_DOWNLOADS=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarFigureContainer.ts\nclass AvatarFigureContainer{constructor(figure){this._parts=void 0;this._parts=new Map();this.parseFigure(figure);}getPartTypeIds(){return this.partSets().keys();}hasPartType(k){return!!this.partSets().get(k);}getPartSetId(k){const existing=this.partSets().get(k);if(!existing)return 0;return existing.get('setid');}getPartColorIds(k){const existing=this.partSets().get(k);if(!existing)return null;return existing.get('colorids');}updatePart(setType,partSetId,colorIds){const set=new Map();set.set('type',setType);set.set('setid',partSetId);set.set('colorids',colorIds);const existingSets=this.partSets();existingSets.delete(setType);existingSets.set(setType,set);}removePart(k){this.partSets().delete(k);}getFigureString(){const parts=[];for(const key of this.partSets().keys()){if(!key)continue;let setParts=[];setParts.push(key);setParts.push(this.getPartSetId(key));setParts=setParts.concat(this.getPartColorIds(key));parts.push(setParts.join('-'));}return parts.join('.');}partSets(){if(!this._parts)this._parts=new Map();return this._parts;}parseFigure(figure){if(!figure)figure='';for(const part of figure.split('.')){const pieces=part.split('-');if(pieces.length>=2){const type=pieces[0];const setId=parseInt(pieces[1]);const colors=[];let index=2;while(index<pieces.length){colors.push(parseInt(pieces[index]));index++;}this.updatePart(type,setId,colors);}}}}\n// EXTERNAL MODULE: ./node_modules/@pixi/filter-color-matrix/dist/esm/filter-color-matrix.js\nvar filter_color_matrix = __webpack_require__(53);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/utils/PaletteMapFilter.ts\nconst vertex=`\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`;const fragment=`\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D lut;\nuniform int channel;\n\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec4 adjusted = currentColor;\n\n    if(currentColor.a > 0.0)\n    {\n        if(channel == 0)\n        {\n            adjusted = texture2D(lut, vec2((currentColor.r * 255.0 + 0.5) / 256.0, 0.5));\n        } else if(channel == 1) {\n            adjusted = texture2D(lut, vec2((currentColor.g * 255.0 + 0.5) / 256.0, 0.5));\n        } else if(channel == 2) {\n            adjusted = texture2D(lut, vec2((currentColor.b * 255.0 + 0.5) / 256.0, 0.5));\n        } else if(channel == 3) {\n            adjusted = texture2D(lut, vec2((currentColor.a * 255.0 + 0.5) / 256.0, 0.5));\n        }\n    }\n\n    gl_FragColor = vec4(adjusted.r, adjusted.g, adjusted.b, currentColor.a);\n}`;class PaletteMapFilter_PaletteMapFilter extends NitroFilter_NitroFilter{constructor(palette){let channel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:PaletteMapFilter_PaletteMapFilter.CHANNEL_RED;super(vertex,fragment);this._lut=void 0;this._channel=void 0;this._channel=channel;let lut=[];lut=this.getLutForPalette(palette);this._lut=NitroBaseTexture_NitroBaseTexture.fromBuffer(Uint8Array.from(lut),lut.length/4,1,{mipmap:0,scaleMode:0});this.uniforms.lut=this._lut;this.uniforms.channel=this._channel;}getLutForPalette(data){const lut=[];for(let i=0;i<data.length;i++){// R\nlut[i*4+PaletteMapFilter_PaletteMapFilter.CHANNEL_RED]=data[i]>>16&0xFF;// G\nlut[i*4+PaletteMapFilter_PaletteMapFilter.CHANNEL_GREEN]=data[i]>>8&0xFF;// B\nlut[i*4+PaletteMapFilter_PaletteMapFilter.CHANNEL_BLUE]=data[i]&0xFF;// A\nlut[i*4+PaletteMapFilter_PaletteMapFilter.CHANNEL_ALPHA]=data[i]>>24&0xFF;}return lut;}get lut(){return this._lut;}get channel(){return this._channel;}}PaletteMapFilter_PaletteMapFilter.CHANNEL_RED=0;PaletteMapFilter_PaletteMapFilter.CHANNEL_GREEN=1;PaletteMapFilter_PaletteMapFilter.CHANNEL_BLUE=2;PaletteMapFilter_PaletteMapFilter.CHANNEL_ALPHA=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/TextureUtils.ts\nclass TextureUtils_TextureUtils{static generateTexture(displayObject){let region=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let scaleMode=arguments.length>2&&arguments[2]!==undefined?arguments[2]:constants[\"p\" /* SCALE_MODES */].NEAREST;let resolution=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;if(!displayObject)return null;return this.getRenderer().generateTexture(displayObject,{scaleMode,resolution,region});}static generateTextureFromImage(image){if(!image)return null;return esm_core[\"t\" /* Texture */].from(image);}static generateImage(target){if(!target)return null;return this.getExtractor().image(target);}static generateImageUrl(target){if(!target)return null;return this.getExtractor().base64(target);}static generateCanvas(target){if(!target)return null;return this.getExtractor().canvas(target);}static getRenderer(){return Nitro_Nitro.instance.renderer;}static getExtractor(){return this.getRenderer().plugins.extract;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/actions/ActiveActionData.ts\nclass ActiveActionData{constructor(action){let parameter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let startFrame=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this._actionType=void 0;this._actionParameter=void 0;this._definition=void 0;this._startFrame=void 0;this._overridingAction=void 0;this._actionType=action||'';this._actionParameter=parameter||'';this._definition=null;this._startFrame=startFrame||0;this._overridingAction=null;}dispose(){this._actionType=null;this._actionParameter=null;this._definition=null;}get id(){if(!this._definition)return'';return this._definition.id+'_'+this._actionParameter;}get actionType(){return this._actionType;}get actionParameter(){return this._actionParameter;}set actionParameter(parameter){this._actionParameter=parameter;}get definition(){return this._definition;}set definition(definition){this._definition=definition;}get startFrame(){return this._startFrame;}get overridingAction(){return this._overridingAction;}set overridingAction(action){this._overridingAction=action;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/data/RoomObjectSpriteData.ts\nclass RoomObjectSpriteData{constructor(){this.objectId=void 0;this.x=void 0;this.y=void 0;this.z=void 0;this.name=void 0;this.blendMode=void 0;this.flipH=void 0;this.skew=void 0;this.frame=void 0;this.color=void 0;this.alpha=void 0;this.width=void 0;this.height=void 0;this.type=void 0;this.posture=void 0;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/AvatarAnimationLayerData.ts\nclass AvatarAnimationLayerData_AvatarAnimationLayerData{constructor(k,_arg_2,_arg_3){this._id=void 0;this._action=void 0;this._animationFrame=void 0;this._dx=void 0;this._dy=void 0;this._dz=void 0;this._directionOffset=void 0;this._type=void 0;this._base=void 0;this._items=void 0;this._id=k.id;this._animationFrame=k.frame||0;this._dx=k.dx||0;this._dy=k.dy||0;this._dz=k.dz||0;this._directionOffset=k.dd||0;this._type=_arg_2;this._base=k.base||'';this._items=new Map();if(k.items)for(const _local_4 of k.items)this._items.set(_local_4.id,_local_4.base);let _local_5='';if(this._base!=='')_local_5=this.baseAsInt().toString();if(_arg_3){this._action=new ActiveActionData(_arg_3.state,this.base);this._action.definition=_arg_3;}}get items(){return this._items;}baseAsInt(){let k=0;let index=0;while(index<this._base.length){k=k+this._base.charCodeAt(index);index++;}return k;}get id(){return this._id;}get animationFrame(){return this._animationFrame;}get dx(){return this._dx;}get dy(){return this._dy;}get dz(){return this._dz;}get dd(){return this._directionOffset;}get type(){return this._type;}get base(){return this._base;}get action(){return this._action;}}AvatarAnimationLayerData_AvatarAnimationLayerData.BODYPART='bodypart';AvatarAnimationLayerData_AvatarAnimationLayerData.FX='fx';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarImageBodyPartContainer.ts\nclass AvatarImageBodyPartContainer_AvatarImageBodyPartContainer{constructor(k,_arg_2,_arg_3){this._image=void 0;this._regPoint=void 0;this._offset=void 0;this._isCacheable=void 0;this._image=k;this._regPoint=_arg_2;this._offset=new math[\"g\" /* Point */](0,0);this._regPoint=_arg_2;this._isCacheable=_arg_3;this.cleanPoints();}dispose(){if(this._image){this._image.destroy({children:true});}this._image=null;this._regPoint=null;this._offset=null;}cleanPoints(){// this._regPoint.x    = this._regPoint.x;\n// this._regPoint.y    = this._regPoint.y;\n// this._offset.x      = this._offset.x;\n// this._offset.y      = this._offset.y;\n}setRegPoint(k){this._regPoint=k;this.cleanPoints();}get image(){return this._image;}set image(k){if(this._image&&this._image!==k){this._image.destroy({children:true});}this._image=k;}get regPoint(){const clone=this._regPoint.clone();clone.x+=this._offset.x;clone.y+=this._offset.y;return clone;}set offset(k){this._offset=k;this.cleanPoints();}get isCacheable(){return this._isCacheable;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarDirectionAngle.ts\nclass AvatarDirectionAngle{}AvatarDirectionAngle.DIRECTION_TO_ANGLE=[45,90,135,180,225,270,315,0];AvatarDirectionAngle.DIRECTION_IS_FLIPPED=[false,false,false,false,true,true,true,false];AvatarDirectionAngle.MIN_DIRECTION=0;AvatarDirectionAngle.MAX_DIRECTION=7;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarFigurePartType.ts\nclass AvatarFigurePartType{}AvatarFigurePartType.BODY='bd';AvatarFigurePartType.SHOES='sh';AvatarFigurePartType.LEGS='lg';AvatarFigurePartType.CHEST='ch';AvatarFigurePartType.WAIST_ACCESSORY='wa';AvatarFigurePartType.CHEST_ACCESSORY='ca';AvatarFigurePartType.HEAD='hd';AvatarFigurePartType.HAIR='hr';AvatarFigurePartType.FACE_ACCESSORY='fa';AvatarFigurePartType.EYE_ACCESSORY='ea';AvatarFigurePartType.HEAD_ACCESSORY='ha';AvatarFigurePartType.HEAD_ACCESSORY_EXTRA='he';AvatarFigurePartType.COAT_CHEST='cc';AvatarFigurePartType.CHEST_PRINT='cp';AvatarFigurePartType.LEFT_HAND_ITEM='li';AvatarFigurePartType.LEFT_HAND='lh';AvatarFigurePartType.LEFT_SLEEVE='ls';AvatarFigurePartType.RIGHT_HAND='rh';AvatarFigurePartType.RIGHT_SLEEVE='rs';AvatarFigurePartType.FACE='fc';AvatarFigurePartType.EYES='ey';AvatarFigurePartType.HAIR_BIG='hrb';AvatarFigurePartType.RIGHT_HAND_ITEM='ri';AvatarFigurePartType.LEFT_COAT_SLEEVE='lc';AvatarFigurePartType.RIGHT_COAT_SLEEVE='rc';AvatarFigurePartType.FIGURE_SETS=[AvatarFigurePartType.SHOES,AvatarFigurePartType.LEGS,AvatarFigurePartType.CHEST,AvatarFigurePartType.WAIST_ACCESSORY,AvatarFigurePartType.CHEST_ACCESSORY,AvatarFigurePartType.HEAD,AvatarFigurePartType.HAIR,AvatarFigurePartType.FACE_ACCESSORY,AvatarFigurePartType.EYE_ACCESSORY,AvatarFigurePartType.HEAD_ACCESSORY,AvatarFigurePartType.HEAD_ACCESSORY_EXTRA,AvatarFigurePartType.COAT_CHEST,AvatarFigurePartType.CHEST_PRINT];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarScaleType.ts\nclass AvatarScaleType{}AvatarScaleType.LARGE='h';AvatarScaleType.SMALL='sh';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/GeometryType.ts\nclass GeometryType{}GeometryType.VERTICAL='vertical';GeometryType.SITTING='sitting';GeometryType.HORIZONTAL='horizontal';GeometryType.SWIM='swim';GeometryType.SNOWWARS_HORIZONTAL='swhorizontal';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/cache/AvatarImageActionCache.ts\nclass AvatarImageActionCache_AvatarImageActionCache{constructor(){this._cache=void 0;this._lastAccessTime=void 0;this._cache=new Map();this.setLastAccessTime(Nitro_Nitro.instance.time);}dispose(){this.debugInfo('[dispose]');if(!this._cache)return;for(const direction of this._cache.values()){if(direction)direction.dispose();}this._cache.clear();}getDirectionCache(k){const existing=this._cache.get(k.toString());if(!existing)return null;return existing;}updateDirectionCache(k,_arg_2){this._cache.set(k.toString(),_arg_2);}setLastAccessTime(k){this._lastAccessTime=k;}getLastAccessTime(){return this._lastAccessTime;}debugInfo(k){}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/cache/AvatarImageBodyPartCache.ts\nclass AvatarImageBodyPartCache{constructor(){this._cache=void 0;this._currentAction=void 0;this._currentDirection=void 0;this._disposed=void 0;this._cache=new Map();}setAction(k,_arg_2){if(!this._currentAction)this._currentAction=k;const _local_3=this.getActionCache(this._currentAction);if(_local_3)_local_3.setLastAccessTime(_arg_2);this._currentAction=k;}dispose(){if(!this._disposed){if(!this._cache)return;this.disposeActions(0,2147483647);this._cache.clear();this._cache=null;this._disposed=true;}}disposeActions(k,_arg_2){if(!this._cache||this._disposed)return;for(const[key,cache]of this._cache.entries()){if(!cache)continue;const _local_3=cache.getLastAccessTime();if(_arg_2-_local_3>=k){cache.dispose();this._cache.delete(key);}}}getAction(){return this._currentAction;}setDirection(k){this._currentDirection=k;}getDirection(){return this._currentDirection;}getActionCache(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!this._currentAction)return null;if(!k)k=this._currentAction;if(k.overridingAction)return this._cache.get(k.overridingAction);return this._cache.get(k.id);}updateActionCache(k,_arg_2){if(k.overridingAction)this._cache.set(k.overridingAction,_arg_2);else this._cache.set(k.id,_arg_2);}debugInfo(k){}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/cache/AvatarImageDirectionCache.ts\nclass AvatarImageDirectionCache{constructor(k){this._partList=void 0;this._images=void 0;this._partList=k;this._images=new Map();}dispose(){for(const image of this._images.values())image&&image.dispose();this._images=null;}getPartList(){return this._partList;}getImageContainer(k){const existing=this._images.get(this.getCacheKey(k));if(!existing)return null;return existing;}updateImageContainer(k,_arg_2){const name=this.getCacheKey(_arg_2);const existing=this._images.get(name);if(existing)existing.dispose();this._images.set(name,k);}getCacheKey(k){let name='';for(const part of this._partList)name+=part.getCacheableKey(k)+'/';return name;}debugInfo(k){}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/cache/ImageData.ts\nclass ImageData_ImageData{constructor(texture,rectangle,_arg_3,flipH,color){let container=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;this._texture=void 0;this._container=void 0;this._rect=void 0;this._regPoint=void 0;this._flipH=void 0;this._colorTransform=void 0;this._texture=texture;this._container=container;this._rect=rectangle;this._regPoint=_arg_3;this._flipH=flipH;this._colorTransform=color;if(flipH)this._regPoint.x=-this._regPoint.x+rectangle.width;}dispose(){this._texture=null;this._regPoint=null;this._colorTransform=null;}get texture(){return this._texture;}get container(){return this._container;}get rect(){return this._rect;}get regPoint(){return this._regPoint;}get flipH(){return this._flipH;}get colorTransform(){return this._colorTransform;}get offsetRect(){return new math[\"j\" /* Rectangle */](-this._regPoint.x,-this._regPoint.y,this._rect.width,this._rect.height);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/cache/AvatarImageCache.ts\nclass AvatarImageCache_AvatarImageCache{constructor(k,_arg_2,_arg_3,_arg_4){this._structure=void 0;this._avatar=void 0;this._assets=void 0;this._scale=void 0;this._cache=void 0;this._canvas=void 0;this._disposed=void 0;this._geometryType=void 0;this._unionImages=void 0;this._matrix=void 0;this._serverRenderData=void 0;this._structure=k;this._avatar=_arg_2;this._assets=_arg_3;this._scale=_arg_4;this._cache=new Map();this._canvas=null;this._disposed=false;this._unionImages=[];this._matrix=new math[\"d\" /* Matrix */]();this._serverRenderData=[];}dispose(){if(this._disposed)return;this._structure=null;this._avatar=null;this._assets=null;this._canvas=null;this._disposed=true;if(this._cache){for(const cache of this._cache.values()){if(!cache)continue;cache.dispose();}this._cache=null;}if(this._unionImages){for(const image of this._unionImages){if(!image)continue;image.dispose();}this._unionImages=[];}}disposeInactiveActions(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:60000;const time=Nitro_Nitro.instance.time;if(this._cache){for(const cache of this._cache.values()){if(!cache)continue;cache.disposeActions(k,time);}}}resetBodyPartCache(k){if(this._cache){for(const cache of this._cache.values()){if(!cache)continue;cache.setAction(k,0);}}}setDirection(k,_arg_2){const parts=this._structure.getBodyPartsUnordered(k);if(parts){for(const part of parts){const actionCache=this.getBodyPartCache(part);if(!actionCache)continue;actionCache.setDirection(_arg_2);}}}setAction(k,_arg_2){const _local_3=this._structure.getActiveBodyPartIds(k,this._avatar);for(const _local_4 of _local_3){const _local_5=this.getBodyPartCache(_local_4);if(_local_5)_local_5.setAction(k,_arg_2);}}setGeometryType(k){if(this._geometryType===k)return;if(this._geometryType===GeometryType.SITTING&&k===GeometryType.VERTICAL||this._geometryType===GeometryType.VERTICAL&&k===GeometryType.SITTING||this._geometryType===GeometryType.SNOWWARS_HORIZONTAL&&(k=GeometryType.SNOWWARS_HORIZONTAL)){this._geometryType=k;this._canvas=null;return;}this.disposeInactiveActions(0);this._geometryType=k;this._canvas=null;}getImageContainer(k,frameNumber){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let _local_4=this.getBodyPartCache(k);if(!_local_4){_local_4=new AvatarImageBodyPartCache();this._cache.set(k,_local_4);}let _local_5=_local_4.getDirection();let _local_7=_local_4.getAction();let frameCount=frameNumber;if(_local_7.definition.startFromFrameZero)frameCount-=_local_7.startFrame;let _local_8=_local_7;let _local_9=[];let _local_10=new Map();const _local_11=new math[\"g\" /* Point */]();if(!(!_local_7||!_local_7.definition)){if(_local_7.definition.isAnimation){let _local_15=_local_5;const _local_16=this._structure.getAnimation(_local_7.definition.state+'.'+_local_7.actionParameter);const _local_17=frameNumber-_local_7.startFrame;if(_local_16){const _local_18=_local_16.getLayerData(_local_17,k,_local_7.overridingAction);if(_local_18){_local_15=_local_5+_local_18.dd;if(_local_18.dd<0){if(_local_15<0){_local_15=8+_local_15;}else if(_local_15>7)_local_15=8-_local_15;}else{if(_local_15<0){_local_15=_local_15+8;}else if(_local_15>7)_local_15=_local_15-8;}if(this._scale===AvatarScaleType.LARGE){_local_11.x=_local_18.dx;_local_11.y=_local_18.dy;}else{_local_11.x=_local_18.dx/2;_local_11.y=_local_18.dy/2;}frameCount=_local_18.animationFrame;if(_local_18.action){_local_7=_local_18.action;}if(_local_18.type===AvatarAnimationLayerData_AvatarAnimationLayerData.BODYPART){if(_local_18.action!=null){_local_8=_local_18.action;}_local_5=_local_15;}else if(_local_18.type===AvatarAnimationLayerData_AvatarAnimationLayerData.FX)_local_5=_local_15;_local_10=_local_18.items;}_local_9=_local_16.removeData;}}}let _local_12=_local_4.getActionCache(_local_8);if(!_local_12||_arg_3){_local_12=new AvatarImageActionCache_AvatarImageActionCache();_local_4.updateActionCache(_local_8,_local_12);}let _local_13=_local_12.getDirectionCache(_local_5);if(!_local_13||_arg_3){const _local_19=this._structure.getParts(k,this._avatar.getFigure(),_local_8,this._geometryType,_local_5,_local_9,this._avatar,_local_10);_local_13=new AvatarImageDirectionCache(_local_19);_local_12.updateDirectionCache(_local_5,_local_13);}let _local_14=_local_13.getImageContainer(frameCount);if(!_local_14||_arg_3){const _local_20=_local_13.getPartList();_local_14=this.renderBodyPart(_local_5,_local_20,frameCount,_local_7,_arg_3);if(_local_14&&!_arg_3){if(_local_14.isCacheable)_local_13.updateImageContainer(_local_14,frameCount);}else{return null;}}const offset=this._structure.getFrameBodyPartOffset(_local_8,_local_5,frameCount,k);_local_11.x+=offset.x;_local_11.y+=offset.y;_local_14.offset=_local_11;return _local_14;}getServerRenderData(){this._serverRenderData=[];return this._serverRenderData;}getBodyPartCache(k){let existing=this._cache.get(k);if(!existing){existing=new AvatarImageBodyPartCache();this._cache.set(k,existing);}return existing;}renderBodyPart(direction,containers,frameCount,_arg_4){let renderServerData=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(!containers||!containers.length)return null;if(!this._canvas){this._canvas=this._structure.getCanvas(this._scale,this._geometryType);if(!this._canvas)return null;}const isFlipped=AvatarDirectionAngle.DIRECTION_IS_FLIPPED[direction]||false;let assetPartDefinition=_arg_4.definition.assetPartDefinition;let isCacheable=true;let containerIndex=containers.length-1;while(containerIndex>=0){const container=containers[containerIndex];let color=16777215;if(!(direction==7&&(container.partType==='fc'||container.partType==='ey'))){if(!(container.partType==='ri'&&!container.partId)){const partId=container.partId;const animationFrame=container.getFrameDefinition(frameCount);let partType=container.partType;let frameNumber=0;if(animationFrame){frameNumber=animationFrame.number;if(animationFrame.assetPartDefinition&&animationFrame.assetPartDefinition!=='')assetPartDefinition=animationFrame.assetPartDefinition;}else frameNumber=container.getFrameIndex(frameCount);let assetDirection=direction;let flipH=false;if(isFlipped){if(assetPartDefinition==='wav'&&(partType===AvatarFigurePartType.LEFT_HAND||partType===AvatarFigurePartType.LEFT_SLEEVE||partType===AvatarFigurePartType.LEFT_COAT_SLEEVE)||assetPartDefinition==='drk'&&(partType===AvatarFigurePartType.RIGHT_HAND||partType===AvatarFigurePartType.RIGHT_SLEEVE||partType===AvatarFigurePartType.RIGHT_COAT_SLEEVE)||assetPartDefinition==='blw'&&partType===AvatarFigurePartType.RIGHT_HAND||assetPartDefinition==='sig'&&partType===AvatarFigurePartType.LEFT_HAND||assetPartDefinition==='respect'&&partType===AvatarFigurePartType.LEFT_HAND||partType===AvatarFigurePartType.RIGHT_HAND_ITEM||partType===AvatarFigurePartType.LEFT_HAND_ITEM||partType===AvatarFigurePartType.CHEST_PRINT){flipH=true;}else{if(direction===4)assetDirection=2;else if(direction===5)assetDirection=1;else if(direction===6)assetDirection=0;if(container.flippedPartType!==partType)partType=container.flippedPartType;}}let assetName=this._scale+'_'+assetPartDefinition+'_'+partType+'_'+partId+'_'+assetDirection+'_'+frameNumber;let asset=this._assets.getAsset(assetName);if(!asset){assetName=this._scale+'_std_'+partType+'_'+partId+'_'+assetDirection+'_0';asset=this._assets.getAsset(assetName);}if(asset){const texture=asset.texture;if(!texture||!texture.valid||!texture.baseTexture){isCacheable=false;}else{if(container.isColorable&&container.color)color=container.color.rgb;const offset=new math[\"g\" /* Point */](-asset.x,-asset.y);if(flipH)offset.x=offset.x+(this._scale===AvatarScaleType.LARGE?65:31);if(renderServerData){const spriteData=new RoomObjectSpriteData();spriteData.name=this._assets.getAssetName(assetName);spriteData.x=-offset.x-33;spriteData.y=-offset.y;spriteData.z=this._serverRenderData.length*-0.0001;spriteData.width=asset.rectangle.width;spriteData.height=asset.rectangle.height;spriteData.flipH=flipH;if(assetPartDefinition==='lay')spriteData.x=spriteData.x+53;if(isFlipped){spriteData.flipH=!spriteData.flipH;if(spriteData.flipH)spriteData.x=-spriteData.x-texture.width;else spriteData.x=spriteData.x+65;}if(container.isColorable)spriteData.color=`${color}`;this._serverRenderData.push(spriteData);}this._unionImages.push(new ImageData_ImageData(texture,asset.rectangle,offset,flipH,color));}}}}containerIndex--;}if(!this._unionImages.length)return null;const imageData=this.createUnionImage(this._unionImages,isFlipped);const canvasOffset=this._scale===AvatarScaleType.LARGE?this._canvas.height-16:this._canvas.height-8;const offset=new math[\"g\" /* Point */](-imageData.regPoint.x,canvasOffset-imageData.regPoint.y);if(isFlipped&&assetPartDefinition!=='lay')offset.x=offset.x+(this._scale===AvatarScaleType.LARGE?67:31);let imageIndex=this._unionImages.length-1;while(imageIndex>=0){const _local_17=this._unionImages.pop();if(_local_17)_local_17.dispose();imageIndex--;}return new AvatarImageBodyPartContainer_AvatarImageBodyPartContainer(imageData.container,offset,isCacheable);}convertColorToHex(k){let _local_2=(k*0xFF).toString(16);if(_local_2.length<2){_local_2='0'+_local_2;}return _local_2;}createUnionImage(k,isFlipped){const bounds=new math[\"j\" /* Rectangle */]();for(const data of k)data&&bounds.enlarge(data.offsetRect);const point=new math[\"g\" /* Point */](-bounds.x,-bounds.y);const container=new NitroContainer_NitroContainer();const sprite=new NitroSprite_NitroSprite(esm_core[\"t\" /* Texture */].EMPTY);sprite.width=bounds.width;sprite.height=bounds.height;container.addChild(sprite);for(const data of k){if(!data)continue;const texture=data.texture;const color=data.colorTransform;const flipH=!(isFlipped&&data.flipH)&&(isFlipped||data.flipH);const regPoint=point.clone();regPoint.x-=data.regPoint.x;regPoint.y-=data.regPoint.y;if(isFlipped)regPoint.x=container.width-(regPoint.x+data.rect.width);if(flipH){this._matrix.a=-1;this._matrix.tx=data.rect.x+data.rect.width+regPoint.x;this._matrix.ty=regPoint.y-data.rect.y;}else{this._matrix.a=1;this._matrix.tx=regPoint.x-data.rect.x;this._matrix.ty=regPoint.y-data.rect.y;}const sprite=new NitroSprite_NitroSprite(texture);sprite.tint=color;sprite.transform.setFromMatrix(this._matrix);container.addChild(sprite);}return new ImageData_ImageData(null,container.getLocalBounds(),point,isFlipped,null,container);}}AvatarImageCache_AvatarImageCache.DEFAULT_MAX_CACHE_STORAGE_TIME_MS=60000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarAction.ts\nclass AvatarAction{static getExpressionTimeout(expressionId){expressionId=parseInt(expressionId);switch(expressionId){case 1:return 5000;case 2:return 1400;case 3:return 2000;case 4:return 2000;case 5:return 0;case 6:return 700;case 7:return 2000;case 8:return 1500;case 9:return 1500;case 10:return 1500;default:return 0;}}static getExpressionId(expression){return AvatarAction.EXPRESSION_MAP.indexOf(expression);}static getExpression(expressionId){if(expressionId>AvatarAction.EXPRESSION_MAP.length)return null;return AvatarAction.EXPRESSION_MAP[expressionId];}static getGestureId(gesture){return AvatarAction.GESTURE_MAP.indexOf(gesture);}static getGesture(gestureId){if(gestureId>AvatarAction.GESTURE_MAP.length)return null;return AvatarAction.GESTURE_MAP[gestureId];}static idToAvatarActionState(id){if(id==='Lay')return'lay';if(id==='Float')return'float';if(id==='Swim')return'swim';if(id==='Sit')return'sit';if(id==='Respect')return'respect';if(id==='Wave')return'wave';if(id==='Idle')return'idle';if(id==='Dance')return'dance';if(id==='UseItem')return'usei';if(id==='CarryItem')return'cri';if(id==='Talk')return'talk';if(id==='Sleep')return'Sleep';if(id==='Move')return'mv';return'std';}}AvatarAction.CARRY_OBJECT='cri';AvatarAction.DANCE='dance';AvatarAction.EFFECT='fx';AvatarAction.EXPRESSION='expression';AvatarAction.EXPRESSION_BLOW_A_KISS='blow';AvatarAction.EXPRESSION_CRY='cry';AvatarAction.EXPRESSION_IDLE='idle';AvatarAction.EXPRESSION_LAUGH='laugh';AvatarAction.EXPRESSION_RESPECT='respect';AvatarAction.EXPRESSION_RIDE_JUMP='ridejump';AvatarAction.EXPRESSION_SNOWBOARD_OLLIE='sbollie';AvatarAction.EXPRESSION_SNOWBORD_360='sb360';AvatarAction.EXPRESSION_WAVE='wave';AvatarAction.GESTURE='gest';AvatarAction.GESTURE_AGGRAVATED='agr';AvatarAction.GESTURE_SAD='sad';AvatarAction.GESTURE_SMILE='sml';AvatarAction.GESTURE_SURPRISED='srp';AvatarAction.GUIDE_STATUS='guide';AvatarAction.MUTED='muted';AvatarAction.PET_GESTURE_BLINK='eyb';AvatarAction.PET_GESTURE_CRAZY='crz';AvatarAction.PET_GESTURE_JOY='joy';AvatarAction.PET_GESTURE_MISERABLE='mis';AvatarAction.PET_GESTURE_PUZZLED='puz';AvatarAction.PET_GESTURE_TONGUE='tng';AvatarAction.PLAYING_GAME='playing_game';AvatarAction.POSTURE='posture';AvatarAction.POSTURE_FLOAT='float';AvatarAction.POSTURE_LAY='lay';AvatarAction.POSTURE_SIT='sit';AvatarAction.POSTURE_STAND='std';AvatarAction.POSTURE_SWIM='swim';AvatarAction.POSTURE_WALK='mv';AvatarAction.SIGN='sign';AvatarAction.SLEEP='sleep';AvatarAction.SNOWWAR_DIE_BACK='swdieback';AvatarAction.SNOWWAR_DIE_FRONT='swdiefront';AvatarAction.SNOWWAR_PICK='swpick';AvatarAction.SNOWWAR_RUN='swrun';AvatarAction.SNOWWAR_THROW='swthrow';AvatarAction.TALK='talk';AvatarAction.BLINK='blink';AvatarAction.TYPING='typing';AvatarAction.USE_OBJECT='usei';AvatarAction.VOTE='vote';AvatarAction.GESTURE_MAP=['',AvatarAction.GESTURE_SMILE,AvatarAction.GESTURE_AGGRAVATED,AvatarAction.GESTURE_SURPRISED,AvatarAction.GESTURE_SAD,AvatarAction.PET_GESTURE_JOY,AvatarAction.PET_GESTURE_CRAZY,AvatarAction.PET_GESTURE_TONGUE,AvatarAction.PET_GESTURE_BLINK,AvatarAction.PET_GESTURE_MISERABLE,AvatarAction.PET_GESTURE_PUZZLED];AvatarAction.EXPRESSION_MAP=['',AvatarAction.EXPRESSION_WAVE,AvatarAction.EXPRESSION_BLOW_A_KISS,AvatarAction.EXPRESSION_LAUGH,AvatarAction.EXPRESSION_CRY,AvatarAction.EXPRESSION_IDLE,AvatarAction.DANCE,AvatarAction.EXPRESSION_RESPECT,AvatarAction.EXPRESSION_SNOWBOARD_OLLIE,AvatarAction.EXPRESSION_SNOWBORD_360,AvatarAction.EXPRESSION_RIDE_JUMP];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarSetType.ts\nclass AvatarSetType{}AvatarSetType.FULL='full';AvatarSetType.HEAD='head';AvatarSetType.BODY='body';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarImage.ts\nclass AvatarImage_AvatarImage{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){let _arg_6=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;this._structure=void 0;this._scale=void 0;this._mainDirection=void 0;this._headDirection=void 0;this._mainAction=void 0;this._disposed=void 0;this._canvasOffsets=void 0;this._assets=void 0;this._cache=void 0;this._figure=void 0;this._avatarSpriteData=void 0;this._actions=void 0;this._image=void 0;this._reusableTexture=void 0;this._defaultAction=void 0;this._frameCounter=0;this._directionOffset=0;this._changes=void 0;this._sprites=void 0;this._isAnimating=false;this._animationHasResetOnToggle=false;this._actionsSorted=false;this._sortedActions=void 0;this._lastActionsString=void 0;this._currentActionsString=void 0;this._fullImageCache=void 0;this._fullImageCacheSize=5;this._isCachedImage=false;this._useFullImageCache=false;this._effectIdInUse=-1;this._animationFrameCount=void 0;this._cachedBodyParts=void 0;this._cachedBodyPartsDirection=-1;this._cachedBodyPartsGeometryType=null;this._cachedBodyPartsAvatarSet=null;this._effectManager=void 0;this._effectListener=void 0;this._canvasOffsets=[];this._actions=[];this._cachedBodyParts=[];this._changes=true;this._disposed=false;this._effectManager=_arg_5;this._structure=k;this._assets=_arg_2;this._scale=_arg_4;this._effectListener=_arg_6;if(this._scale==null){this._scale=AvatarScaleType.LARGE;}if(_arg_3==null){_arg_3=new AvatarFigureContainer('hr-893-45.hd-180-2.ch-210-66.lg-270-82.sh-300-91.wa-2007-.ri-1-');}this._figure=_arg_3;this._cache=new AvatarImageCache_AvatarImageCache(this._structure,this,this._assets,this._scale);this.setDirection(AvatarImage_AvatarImage.DEFAULT_AVATAR_SET,AvatarImage_AvatarImage.DEFAULT_DIRECTION);this._actions=[];this._defaultAction=new ActiveActionData(AvatarAction.POSTURE_STAND);this._defaultAction.definition=this._structure.getActionDefinition(AvatarImage_AvatarImage.DEFAULT_ACTION);this.resetActions();this._fullImageCache=new AdvancedMap();this._animationFrameCount=0;}getServerRenderData(){this.getAvatarPartsForCamera(AvatarSetType.FULL);return this._cache.getServerRenderData();}dispose(){if(this._disposed)return;this._structure=null;this._assets=null;this._mainAction=null;this._figure=null;this._avatarSpriteData=null;this._actions=null;if(this._image){this._image.destroy();this._image=null;}if(this._cache){this._cache.dispose();this._cache=null;}if(this._fullImageCache){for(const k of this._fullImageCache.getValues())k&&k.destroy();this._fullImageCache=null;}this._image=null;this._canvasOffsets=null;this._disposed=true;}get disposed(){return this._disposed;}getFigure(){return this._figure;}getScale(){return this._scale;}getPartColor(k){return this._structure.getPartColor(this._figure,k);}setDirection(k,_arg_2){_arg_2=_arg_2+this._directionOffset;if(_arg_2<AvatarDirectionAngle.MIN_DIRECTION){_arg_2=AvatarDirectionAngle.MAX_DIRECTION+(_arg_2+1);}if(_arg_2>AvatarDirectionAngle.MAX_DIRECTION){_arg_2=_arg_2-(AvatarDirectionAngle.MAX_DIRECTION+1);}if(this._structure.isMainAvatarSet(k)){this._mainDirection=_arg_2;}if(k===AvatarSetType.HEAD||k===AvatarSetType.FULL){if(k===AvatarSetType.HEAD&&this.isHeadTurnPreventedByAction()){_arg_2=this._mainDirection;}this._headDirection=_arg_2;}this._cache.setDirection(k,_arg_2);this._changes=true;}setDirectionAngle(k,_arg_2){this.setDirection(k,Math.floor(_arg_2/45));}getSprites(){return this._sprites;}getCanvasOffsets(){return this._canvasOffsets;}getLayerData(k){return this._structure.getBodyPartData(k.animation.id,this._frameCounter,k.id);}updateAnimationByFrames(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;this._frameCounter+=k;this._changes=true;}resetAnimationFrameCounter(){this._frameCounter=0;this._changes=true;}getFullImageCacheKey(){if(!this._useFullImageCache)return null;if(this._sortedActions.length==1&&this._mainDirection==this._headDirection){return this._mainDirection+this._currentActionsString+this._frameCounter%4;}if(this._sortedActions.length==2){for(const k of this._sortedActions){if(k.actionType=='fx'&&(k.actionParameter=='33'||k.actionParameter=='34'||k.actionParameter=='35'||k.actionParameter=='36')){return this._mainDirection+this._currentActionsString+0;}if(k.actionType=='fx'&&(k.actionParameter=='38'||k.actionParameter=='39')){return this._mainDirection+'_'+this._headDirection+this._currentActionsString+this._frameCounter%11;}if(k.actionType==='dance'&&(k.actionParameter==='1'||k.actionParameter==='2'||k.actionParameter==='3'||k.actionParameter==='4')){let frame=this._frameCounter%8;if(k.actionParameter==='3')frame=this._frameCounter%10;if(k.actionParameter==='4')frame=this._frameCounter%16;return this._mainDirection+k.actionType+k.actionParameter+frame;}}}return null;}getBodyParts(k,_arg_2,_arg_3){if(!(_arg_3==this._cachedBodyPartsDirection)||!(_arg_2==this._cachedBodyPartsGeometryType)||!(k==this._cachedBodyPartsAvatarSet)){this._cachedBodyPartsDirection=_arg_3;this._cachedBodyPartsGeometryType=_arg_2;this._cachedBodyPartsAvatarSet=k;this._cachedBodyParts=this._structure.getBodyParts(k,_arg_2,_arg_3);}return this._cachedBodyParts;}getAvatarPartsForCamera(k){let _local_4;if(this._mainAction==null){return;}const _local_2=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(_local_2==null){return;}const _local_3=this.getBodyParts(k,this._mainAction.definition.geometryType,this._mainDirection);let _local_6=_local_3.length-1;while(_local_6>=0){_local_4=_local_3[_local_6];const _local_5=this._cache.getImageContainer(_local_4,this._frameCounter,true);_local_6--;}}getImage(setType,hightlight){let scale=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let cache=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(!this._changes)return this._image;if(!this._mainAction)return null;if(!this._actionsSorted)this.endActionAppends();const avatarCanvas=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!avatarCanvas)return null;if(this._image&&(this._image.width!==avatarCanvas.width||this._image.height!==avatarCanvas.height)){if(this._reusableTexture){this._reusableTexture.destroy(true);this._reusableTexture=null;}this._image=null;this._isCachedImage=false;}const _local_6=this.getBodyParts(setType,this._mainAction.definition.geometryType,this._mainDirection);this._image=null;const container=new NitroContainer_NitroContainer();let isCachable=true;let partCount=_local_6.length-1;while(partCount>=0){const set=_local_6[partCount];const part=this._cache.getImageContainer(set,this._frameCounter);if(part){const partCacheContainer=part.image;if(!partCacheContainer){container.destroy({children:true});return null;}isCachable=isCachable&&part.isCacheable;const point=part.regPoint.clone();if(point){point.x+=avatarCanvas.offset.x;point.y+=avatarCanvas.offset.y;point.x+=avatarCanvas.regPoint.x;point.y+=avatarCanvas.regPoint.y;const partContainer=new NitroContainer_NitroContainer();partContainer.addChild(partCacheContainer);if(partContainer){partContainer.position.set(point.x,point.y);container.addChild(partContainer);}}}partCount--;}if(this._avatarSpriteData){if(!container.filters)container.filters=[];if(this._avatarSpriteData.colorTransform)container.filters.push(this._avatarSpriteData.colorTransform);if(this._avatarSpriteData.paletteIsGrayscale){this.convertToGrayscale(container);container.filters.push(new PaletteMapFilter_PaletteMapFilter(this._avatarSpriteData.reds,PaletteMapFilter_PaletteMapFilter.CHANNEL_RED));}}if(!cache){return TextureUtils_TextureUtils.generateTexture(container,new math[\"j\" /* Rectangle */](0,0,avatarCanvas.width,avatarCanvas.height));}if(this._reusableTexture){Nitro_Nitro.instance.renderer.render(container,{renderTexture:this._reusableTexture,clear:true});}else{this._reusableTexture=TextureUtils_TextureUtils.generateTexture(container,new math[\"j\" /* Rectangle */](0,0,avatarCanvas.width,avatarCanvas.height));}if(!this._reusableTexture)return null;/*\r\n        if(this._avatarSpriteData)\r\n        {\r\n            if(this._avatarSpriteData.paletteIsGrayscale)\r\n            {\r\n                this._reusableTexture = this.applyPalette(this._reusableTexture, this._avatarSpriteData.reds, [], []);\r\n            }\r\n        }\r\n        */this._image=this._reusableTexture;this._changes=false;return this._image;}applyPalette(texture){let reds=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let greens=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let blues=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];const textureCanvas=TextureUtils_TextureUtils.generateCanvas(texture);const textureCtx=textureCanvas.getContext('2d');const textureImageData=textureCtx.getImageData(0,0,textureCanvas.width,textureCanvas.height);const data=textureImageData.data;for(let i=0;i<data.length;i+=4){if(reds.length==256){let paletteColor=reds[data[i]];if(paletteColor===undefined)paletteColor=0;data[i]=paletteColor>>16&0xFF;data[i+1]=paletteColor>>8&0xFF;data[i+2]=paletteColor&0xFF;}if(greens.length==256){let paletteColor=greens[data[i+1]];if(paletteColor===undefined)paletteColor=0;data[i]=paletteColor>>16&0xFF;data[i+1]=paletteColor>>8&0xFF;data[i+2]=paletteColor&0xFF;}if(blues.length==256){let paletteColor=greens[data[i+2]];if(paletteColor===undefined)paletteColor=0;data[i]=paletteColor>>16&0xFF;data[i+1]=paletteColor>>8&0xFF;data[i+2]=paletteColor&0xFF;}}textureCtx.putImageData(textureImageData,0,0);const newTexture=new esm_sprite[\"a\" /* Sprite */](esm_core[\"t\" /* Texture */].from(textureCanvas));Nitro_Nitro.instance.renderer.render(newTexture,{renderTexture:texture,clear:true});return texture;}getImageAsSprite(setType){let scale=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(!this._mainAction)return null;if(!this._actionsSorted)this.endActionAppends();const avatarCanvas=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!avatarCanvas)return null;const setTypes=this.getBodyParts(setType,this._mainAction.definition.geometryType,this._mainDirection);const container=new NitroSprite_NitroSprite();const sprite=new NitroSprite_NitroSprite(esm_core[\"t\" /* Texture */].EMPTY);sprite.width=avatarCanvas.width;sprite.height=avatarCanvas.height;container.addChild(sprite);let partCount=setTypes.length-1;while(partCount>=0){const set=setTypes[partCount];const part=this._cache.getImageContainer(set,this._frameCounter);if(part){const partCacheContainer=part.image;if(!partCacheContainer){container.destroy({children:true});return null;}const point=part.regPoint.clone();if(point){point.x+=avatarCanvas.offset.x;point.y+=avatarCanvas.offset.y;point.x+=avatarCanvas.regPoint.x;point.y+=avatarCanvas.regPoint.y;const partContainer=new NitroContainer_NitroContainer();partContainer.addChild(partCacheContainer);partContainer.position.set(point.x,point.y);container.addChild(partContainer);}}partCount--;}return container;}getCroppedImage(setType){let scale=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(!this._mainAction)return null;if(!this._actionsSorted)this.endActionAppends();const avatarCanvas=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!avatarCanvas)return null;const setTypes=this.getBodyParts(setType,this._mainAction.definition.geometryType,this._mainDirection);const container=new NitroContainer_NitroContainer();let partCount=setTypes.length-1;while(partCount>=0){const set=setTypes[partCount];const part=this._cache.getImageContainer(set,this._frameCounter);if(part){const partCacheContainer=part.image;if(!partCacheContainer){container.destroy({children:true});return null;}const point=part.regPoint.clone();if(point){point.x+=avatarCanvas.offset.x;point.y+=avatarCanvas.offset.y;point.x+=avatarCanvas.regPoint.x;point.y+=avatarCanvas.regPoint.y;const partContainer=new NitroContainer_NitroContainer();partContainer.addChild(partCacheContainer);if(partContainer){partContainer.position.set(point.x,point.y);container.addChild(partContainer);}}}partCount--;}const texture=TextureUtils_TextureUtils.generateTexture(container,new math[\"j\" /* Rectangle */](0,0,avatarCanvas.width,avatarCanvas.height));const image=TextureUtils_TextureUtils.generateImage(texture);if(!image)return null;return image;}getFullImage(k){const existing=this._fullImageCache.getValue(k);if(existing){if(!existing.valid){this._fullImageCache.remove(k);existing.destroy(true);}return existing;}return null;}cacheFullImage(k,_arg_2){const existing=this._fullImageCache.getValue(k);if(existing){this._fullImageCache.remove(k);existing.destroy(true);}if(this._fullImageCache.length===this._fullImageCacheSize){const oldestKey=this._fullImageCache.getKey(0);if(oldestKey){const removed=this._fullImageCache.remove(oldestKey);removed.destroy(true);}}this._fullImageCache.add(k,_arg_2);}getAsset(k){return this._assets.getAsset(k);}getDirection(){return this._mainDirection;}initActionAppends(){this._actions=[];this._actionsSorted=false;this._currentActionsString='';this._useFullImageCache=false;}endActionAppends(){let k;if(!this.sortActions())return;for(const k of this._sortedActions){if(k.actionType===AvatarAction.EFFECT){if(!this._effectManager.isAvatarEffectReady(parseInt(k.actionParameter)))this._effectManager.downloadAvatarEffect(parseInt(k.actionParameter),this);}}this.resetActions();this.setActionsToParts();}appendAction(k){var _args$;let _local_3='';this._actionsSorted=false;for(var _len=arguments.length,_args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){_args[_key-1]=arguments[_key];}if(_args&&_args.length>0)_local_3=(_args$=_args[0])===null||_args$===void 0?void 0:_args$.toString();switch(k){case AvatarAction.POSTURE:switch(_local_3){case AvatarAction.POSTURE_LAY:if(this._mainDirection==0){this.setDirection(AvatarSetType.FULL,4);}else{this.setDirection(AvatarSetType.FULL,2);}// eslint-disable-next-line no-fallthrough\ncase AvatarAction.POSTURE_WALK:this._useFullImageCache=true;// eslint-disable-next-line no-fallthrough\ncase AvatarAction.POSTURE_STAND:this._useFullImageCache=true;// eslint-disable-next-line no-fallthrough\ncase AvatarAction.POSTURE_SWIM:case AvatarAction.POSTURE_FLOAT:case AvatarAction.POSTURE_SIT:case AvatarAction.SNOWWAR_RUN:case AvatarAction.SNOWWAR_DIE_FRONT:case AvatarAction.SNOWWAR_DIE_BACK:case AvatarAction.SNOWWAR_PICK:case AvatarAction.SNOWWAR_THROW:this.addActionData(_local_3);break;}break;case AvatarAction.GESTURE:switch(_local_3){case AvatarAction.GESTURE_AGGRAVATED:case AvatarAction.GESTURE_SAD:case AvatarAction.GESTURE_SMILE:case AvatarAction.GESTURE_SURPRISED:this.addActionData(_local_3);break;}break;case AvatarAction.EFFECT:if(_local_3==='33'||_local_3==='34'||_local_3==='35'||_local_3==='36'||_local_3==='38'||_local_3==='39'){this._useFullImageCache=true;}// eslint-disable-next-line no-fallthrough\ncase AvatarAction.DANCE:case AvatarAction.TALK:case AvatarAction.EXPRESSION_WAVE:case AvatarAction.SLEEP:case AvatarAction.SIGN:case AvatarAction.EXPRESSION_RESPECT:case AvatarAction.EXPRESSION_BLOW_A_KISS:case AvatarAction.EXPRESSION_LAUGH:case AvatarAction.EXPRESSION_CRY:case AvatarAction.EXPRESSION_IDLE:case AvatarAction.EXPRESSION_SNOWBOARD_OLLIE:case AvatarAction.EXPRESSION_SNOWBORD_360:case AvatarAction.EXPRESSION_RIDE_JUMP:this.addActionData(k,_local_3);break;case AvatarAction.CARRY_OBJECT:case AvatarAction.USE_OBJECT:{const _local_4=this._structure.getActionDefinitionWithState(k);if(_local_4)_local_3=_local_4.getParameterValue(_local_3);this.addActionData(k,_local_3);break;}}return true;}addActionData(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let _local_3;if(!this._actions)this._actions=[];let _local_4=0;while(_local_4<this._actions.length){_local_3=this._actions[_local_4];if(_local_3.actionType==k&&_local_3.actionParameter==_arg_2){return;}_local_4++;}this._actions.push(new ActiveActionData(k,_arg_2,this._frameCounter));}isAnimating(){return this._isAnimating||this._animationFrameCount>1;}resetActions(){this._animationHasResetOnToggle=false;this._isAnimating=false;this._sprites=[];this._avatarSpriteData=null;this._directionOffset=0;this._structure.removeDynamicItems(this);this._mainAction=this._defaultAction;this._mainAction.definition=this._defaultAction.definition;this.resetBodyPartCache(this._defaultAction);return true;}isHeadTurnPreventedByAction(){let _local_2;let _local_3;let k;if(this._sortedActions==null){return false;}for(const _local_3 of this._sortedActions){_local_2=this._structure.getActionDefinitionWithState(_local_3.actionType);if(!(_local_2==null)&&_local_2.getPreventHeadTurn(_local_3.actionParameter)){k=true;}}return k;}sortActions(){let _local_2;let _local_3;let _local_4;let _local_5;let k;this._currentActionsString='';this._sortedActions=this._structure.sortActions(this._actions);this._animationFrameCount=this._structure.maxFrames(this._sortedActions);if(!this._sortedActions){this._canvasOffsets=[0,0,0];if(this._lastActionsString!==''){k=true;this._lastActionsString='';}}else{this._canvasOffsets=this._structure.getCanvasOffsets(this._sortedActions,this._scale,this._mainDirection);for(const _local_4 of this._sortedActions){this._currentActionsString=this._currentActionsString+(_local_4.actionType+_local_4.actionParameter);if(_local_4.actionType===AvatarAction.EFFECT){const _local_5=parseInt(_local_4.actionParameter);if(this._effectIdInUse!==_local_5)_local_2=true;this._effectIdInUse=_local_5;_local_3=true;}}if(!_local_3){if(this._effectIdInUse>-1)_local_2=true;this._effectIdInUse=-1;}if(_local_2)this._cache.disposeInactiveActions(0);if(this._lastActionsString!=this._currentActionsString){k=true;this._lastActionsString=this._currentActionsString;}}this._actionsSorted=true;return k;}setActionsToParts(){if(!this._sortedActions==null)return;const _local_3=Nitro_Nitro.instance.time;const _local_4=[];for(const k of this._sortedActions)_local_4.push(k.actionType);for(const k of this._sortedActions){if(k&&k.definition&&k.definition.isAnimation){const _local_2=this._structure.getAnimation(k.definition.state+'.'+k.actionParameter);if(_local_2&&_local_2.hasOverriddenActions()){const _local_5=_local_2.overriddenActionNames();if(_local_5){for(const _local_6 of _local_5){if(_local_4.indexOf(_local_6)>=0)k.overridingAction=_local_2.overridingAction(_local_6);}}}if(_local_2&&_local_2.resetOnToggle){this._animationHasResetOnToggle=true;}}}for(const k of this._sortedActions){if(!(!k||!k.definition)){if(k.definition.isAnimation&&k.actionParameter==='')k.actionParameter='1';this.setActionToParts(k,_local_3);if(k.definition.isAnimation){this._isAnimating=k.definition.isAnimated(k.actionParameter);const _local_2=this._structure.getAnimation(k.definition.state+'.'+k.actionParameter);if(_local_2){this._sprites=this._sprites.concat(_local_2.spriteData);if(_local_2.hasDirectionData())this._directionOffset=_local_2.directionData.offset;if(_local_2.hasAvatarData())this._avatarSpriteData=_local_2.avatarData;}}}}}setActionToParts(k,_arg_2){if(k==null||k.definition==null){return;}if(k.definition.assetPartDefinition==''){return;}if(k.definition.isMain){this._mainAction=k;this._cache.setGeometryType(k.definition.geometryType);}this._cache.setAction(k,_arg_2);this._changes=true;}resetBodyPartCache(k){if(!k)return;if(k.definition.assetPartDefinition==='')return;if(k.definition.isMain){this._mainAction=k;this._cache.setGeometryType(k.definition.geometryType);}this._cache.resetBodyPartCache(k);this._changes=true;}get avatarSpriteData(){return this._avatarSpriteData;}convertToGrayscale(container){let channel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'CHANNELS_EQUAL';let _local_3=0.33;let _local_4=0.33;let _local_5=0.33;const _local_6=1;switch(channel){case AvatarImage_AvatarImage.CHANNELS_UNIQUE:_local_3=0.3;_local_4=0.59;_local_5=0.11;break;case AvatarImage_AvatarImage.CHANNELS_RED:_local_3=1;_local_4=0;_local_5=0;break;case AvatarImage_AvatarImage.CHANNELS_GREEN:_local_3=0;_local_4=1;_local_5=0;break;case AvatarImage_AvatarImage.CHANNELS_BLUE:_local_3=0;_local_4=0;_local_5=1;break;case AvatarImage_AvatarImage.CHANNELS_DESATURATED:_local_3=0.3086;_local_4=0.6094;_local_5=0.082;break;}const colorFilter=new filter_color_matrix[\"a\" /* ColorMatrixFilter */]();colorFilter.matrix=[_local_3,_local_4,_local_5,0,0,_local_3,_local_4,_local_5,0,0,_local_3,_local_4,_local_5,0,0,0,0,0,1,0];container.filters.push(colorFilter);return container;}errorThis(k){}logThis(k){}isPlaceholder(){return false;}forceActionUpdate(){this._lastActionsString='';}get animationHasResetOnToggle(){return this._animationHasResetOnToggle;}get mainAction(){return this._mainAction.actionType;}resetEffect(effect){if(effect===this._effectIdInUse){this.resetActions();this.setActionsToParts();this._animationHasResetOnToggle=true;this._changes=true;if(this._effectListener)this._effectListener.resetEffect(effect);}}}AvatarImage_AvatarImage.CHANNELS_EQUAL='CHANNELS_EQUAL';AvatarImage_AvatarImage.CHANNELS_UNIQUE='CHANNELS_UNIQUE';AvatarImage_AvatarImage.CHANNELS_RED='CHANNELS_RED';AvatarImage_AvatarImage.CHANNELS_GREEN='CHANNELS_GREEN';AvatarImage_AvatarImage.CHANNELS_BLUE='CHANNELS_BLUE';AvatarImage_AvatarImage.CHANNELS_DESATURATED='CHANNELS_DESATURATED';AvatarImage_AvatarImage.DEFAULT_ACTION='Default';AvatarImage_AvatarImage.DEFAULT_DIRECTION=2;AvatarImage_AvatarImage.DEFAULT_AVATAR_SET=AvatarSetType.FULL;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/actions/ActionType.ts\nclass ActionType{constructor(data){this._id=void 0;this._value=void 0;this._prevents=void 0;this._preventHeadTurn=void 0;this._isAnimated=void 0;this._id=parseInt(data.id);this._value=parseInt(data.id);this._prevents=data.prevents||[];this._preventHeadTurn=data.preventHeadTurn||false;this._isAnimated=true;if(data.animated!==undefined&&data.animated===false)this._isAnimated=false;}get id(){return this._id;}get value(){return this._value;}get prevents(){return this._prevents;}get preventHeadTurn(){return this._preventHeadTurn;}get isAnimated(){return this._isAnimated;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/actions/ActionDefinition.ts\nclass ActionDefinition_ActionDefinition{constructor(data){this._id=void 0;this._state=void 0;this._precedence=void 0;this._activePartSet=void 0;this._assetPartDefinition=void 0;this._lay=void 0;this._geometryType=void 0;this._isMain=void 0;this._isDefault=void 0;this._isAnimation=void 0;this._startFromFrameZero=void 0;this._prevents=void 0;this._preventHeadTurn=void 0;this._types=void 0;this._params=void 0;this._defaultParameterValue=void 0;this._canvasOffsets=void 0;this._id=data.id;this._state=data.state;this._precedence=data.precedence;this._activePartSet=data.activePartSet;this._assetPartDefinition=data.assetPartDefinition;this._lay=data.lay;this._geometryType=data.geometryType;this._isMain=data.main||false;this._isDefault=data.isDefault||false;this._isAnimation=data.animation||false;this._startFromFrameZero=data.startFromFrameZero||false;this._prevents=data.prevents||[];this._preventHeadTurn=data.preventHeadTurn||false;this._types=new Map();this._params=new Map();this._defaultParameterValue='';this._canvasOffsets=null;if(data.params&&data.params.length>0){for(const param of data.params){if(!param)continue;if(param.id==='default')this._defaultParameterValue=param.value;else this._params.set(param.id,param.value);}}if(data.types&&data.types.length>0){for(const type of data.types){if(!type)continue;const action=new ActionType(type);this._types.set(action.id,action);}}}setOffsets(k,_arg_2,_arg_3){if(!this._canvasOffsets)this._canvasOffsets=new Map();let existing=this._canvasOffsets.get(k);if(!existing){existing=new Map();this._canvasOffsets.set(k,existing);}existing.set(_arg_2,_arg_3);}getOffsets(k,_arg_2){if(!this._canvasOffsets)return null;const existing=this._canvasOffsets.get(k);if(!existing)return null;return existing.get(_arg_2);}getType(id){if(!id)return null;const existing=this._types.get(parseInt(id));if(!existing)return null;return existing;}getParameterValue(id){if(!id)return'';const existing=this._params.get(id);if(!existing)return this._defaultParameterValue;return existing;}getPrevents(type){return this._prevents.concat(this.getTypePrevents(type));}getTypePrevents(type){if(!type)return[];const existing=this._types.get(parseInt(type));if(!existing)return[];return existing.prevents;}getPreventHeadTurn(k){if(!k)return this._preventHeadTurn;const type=this.getType(k);if(!type)return this._preventHeadTurn;return type.preventHeadTurn;}isAnimated(k){if(!k)return true;const type=this.getType(k);if(!type)return true;return type.isAnimated;}get id(){return this._id;}get state(){return this._state;}get precedence(){return this._precedence;}get activePartSet(){return this._activePartSet;}get assetPartDefinition(){return this._assetPartDefinition;}get lay(){return this._lay;}get geometryType(){return this._geometryType;}get isMain(){return this._isMain;}get isDefault(){return this._isDefault;}get isAnimation(){return this._isAnimation;}get startFromFrameZero(){return this._startFromFrameZero;}get prevents(){return this._prevents;}get preventHeadTurn(){return this._preventHeadTurn;}get params(){return this._params;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/actions/AvatarActionManager.ts\nclass AvatarActionManager_AvatarActionManager{constructor(k,data){this._assets=void 0;this._actions=void 0;this._defaultAction=void 0;this._assets=k;this._actions=new Map();this._defaultAction=null;this.updateActions(data);}updateActions(data){if(!data)return;for(const action of data.actions){if(!action||!action.state)continue;const definition=new ActionDefinition_ActionDefinition(action);this._actions.set(definition.state,definition);}if(data.actionOffsets)this.parseActionOffsets(data.actionOffsets);}parseActionOffsets(offsets){if(!offsets||!offsets.length)return;for(const offset of offsets){const action=this._actions.get(offset.action);if(!action)continue;for(const canvasOffset of offset.offsets){const size=canvasOffset.size||'';const direction=canvasOffset.direction;if(size===''||direction===undefined)continue;const x=canvasOffset.x||0;const y=canvasOffset.y||0;const z=canvasOffset.z||0;action.setOffsets(size,direction,[x,y,z]);}}}getActionDefinition(id){if(!id)return null;for(const action of this._actions.values()){if(!action||action.id!==id)continue;return action;}return null;}getActionDefinitionWithState(state){const existing=this._actions.get(state);if(!existing)return null;return existing;}getDefaultAction(){if(this._defaultAction)return this._defaultAction;for(const action of this._actions.values()){if(!action||!action.isDefault)continue;this._defaultAction=action;return action;}return null;}getCanvasOffsets(k,_arg_2,_arg_3){let canvasOffsets=[];for(const activeAction of k){if(!activeAction)continue;const action=this._actions.get(activeAction.actionType);const offsets=action&&action.getOffsets(_arg_2,_arg_3);if(offsets)canvasOffsets=offsets;}return canvasOffsets;}sortActions(actions){if(!actions)return null;actions=this.filterActions(actions);const validatedActions=[];for(const action of actions){if(!action)continue;const definition=this._actions.get(action.actionType);if(!definition)continue;action.definition=definition;validatedActions.push(action);}validatedActions.sort(this.sortByPrecedence);return validatedActions;}filterActions(actions){let preventions=[];const activeActions=[];for(const action of actions){if(!action)continue;const localAction=this._actions.get(action.actionType);if(localAction)preventions=preventions.concat(localAction.getPrevents(action.actionParameter));}for(const action of actions){if(!action)continue;let actionType=action.actionType;if(action.actionType==='fx')actionType=actionType+('.'+action.actionParameter);if(preventions.indexOf(actionType)>=0)continue;activeActions.push(action);}return activeActions;}sortByPrecedence(actionOne,actionTwo){if(!actionOne||!actionTwo)return 0;const precedenceOne=actionOne.definition.precedence;const precedenceTwo=actionTwo.definition.precedence;if(precedenceOne<precedenceTwo)return 1;if(precedenceOne>precedenceTwo)return-1;return 0;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/AddDataContainer.ts\nclass AddDataContainer{constructor(k){this._id=void 0;this._align=void 0;this._base=void 0;this._ink=void 0;this._blend=void 0;this._id=k.id||'';this._align=k.align||'';this._base=k.base||'';this._ink=k.ink||0;this._blend=0;const _local_2=k.blend;if(_local_2){if(_local_2.length>0){this._blend=parseInt(_local_2);if(this._blend>1)this._blend=this._blend/100;}}}get id(){return this._id;}get align(){return this._align;}get base(){return this._base;}get ink(){return this._ink;}get blend(){return this._blend;}get isBlended(){return this._blend!==1;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/AvatarDataContainer.ts\nclass AvatarDataContainer_AvatarDataContainer{constructor(k){this._ink=void 0;this._foreGround=void 0;this._backGround=void 0;this._colorTransform=void 0;this._rgb=void 0;this._r=void 0;this._g=void 0;this._b=void 0;this._redMultiplier=void 0;this._greenMultiplier=void 0;this._blueMultiplier=void 0;this._alphaMultiplier=void 0;this._colorMap=void 0;this._paletteIsGrayscale=void 0;this._ink=k.ink;let foreground=k.foreground;let background=k.background;foreground=foreground.replace('#','');background=background.replace('#','');this._foreGround=parseInt(foreground,16);this._backGround=parseInt(background,16);this._colorTransform=null;this._rgb=parseInt(foreground,16);this._r=this._rgb>>16&0xFF;this._g=this._rgb>>8&0xFF;this._b=this._rgb>>0&0xFF;this._redMultiplier=this._r/0xFF*1;this._greenMultiplier=this._g/0xFF*1;this._blueMultiplier=this._b/0xFF*1;this._alphaMultiplier=1;this._paletteIsGrayscale=true;if(this._ink===37){this._alphaMultiplier=0.5;this._paletteIsGrayscale=false;}this._colorTransform=new filter_adjustment_esm[\"a\" /* AdjustmentFilter */]({red:this._r/255,green:this._g/255,blue:this._b/255,alpha:this._alphaMultiplier});this._colorMap=this.generatePaletteMapForGrayscale(this._backGround,this._foreGround);}get ink(){return this._ink;}get colorTransform(){return this._colorTransform;}get reds(){return this._colorMap.get('reds');}get greens(){return this._colorMap.get('greens');}get blues(){return this._colorMap.get('blues');}get alphas(){return this._colorMap.get('alphas');}get paletteIsGrayscale(){return this._paletteIsGrayscale;}generatePaletteMapForGrayscale(background,foreground){const alphaBackground=background>>24&0xFF;const redBackground=background>>16&0xFF;const greenBackground=background>>8&0xFF;const blueBackground=background>>0&0xFF;const alphaForeground=foreground>>24&0xFF;const redForeground=foreground>>16&0xFF;const greenForeground=foreground>>8&0xFF;const blueForeground=foreground>>0&0xFF;const alphaDifference=(alphaForeground-alphaBackground)/0xFF;const redDifference=(redForeground-redBackground)/0xFF;const greenDifference=(greenForeground-greenBackground)/0xFF;const blueDifference=(blueForeground-blueBackground)/0xFF;const _local_15=new Map();const _local_16=[];const _local_17=[];const _local_18=[];const _local_19=[];let _local_20=alphaBackground;let _local_21=redBackground;let _local_22=greenBackground;let _local_23=blueBackground;for(let i=0;i<256;i++){if(_local_21==redBackground&&_local_22==greenBackground&&_local_23==blueBackground){_local_20=0;}_local_20=_local_20+alphaDifference;_local_21=_local_21+redDifference;_local_22=_local_22+greenDifference;_local_23=_local_23+blueDifference;_local_19.push(_local_20<<24);_local_16.push(_local_20<<24|_local_21<<16|_local_22<<8|_local_23);_local_17.push(_local_20<<24|_local_21<<16|_local_22<<8|_local_23);_local_18.push(_local_20<<24|_local_21<<16|_local_22<<8|_local_23);}_local_15.set('alphas',_local_16);_local_15.set('reds',_local_16);_local_15.set('greens',_local_17);_local_15.set('blues',_local_18);return _local_15;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/DirectionDataContainer.ts\nclass DirectionDataContainer{constructor(k){this._offset=void 0;this._offset=k.offset;}get offset(){return this._offset;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/SpriteDataContainer.ts\nclass SpriteDataContainer{constructor(k,_arg_2){this._animation=void 0;this._id=void 0;this._ink=void 0;this._member=void 0;this._hasDirections=void 0;this._hasStaticY=void 0;this._dx=void 0;this._dy=void 0;this._dz=void 0;this._animation=k;this._id=_arg_2.id;this._ink=_arg_2.ink;this._member=_arg_2.member;this._hasStaticY=_arg_2.staticY?true:false;this._hasDirections=_arg_2.directions?true:false;this._dx=[];this._dy=[];this._dz=[];const directions=_arg_2.directionList;if(directions&&directions.length){for(const direction of directions){const id=direction.id;if(id===undefined)continue;this._dx[id]=direction.dx||0;this._dy[id]=direction.dy||0;this._dz[id]=direction.dz||0;}}}getDirectionOffsetX(k){if(k<this._dx.length)return this._dx[k];return 0;}getDirectionOffsetY(k){if(k<this._dy.length)return this._dy[k];return 0;}getDirectionOffsetZ(k){if(k<this._dz.length)return this._dz[k];return 0;}get animation(){return this._animation;}get id(){return this._id;}get ink(){return this._ink;}get member(){return this._member;}get hasDirections(){return this._hasDirections;}get hasStaticY(){return this._hasStaticY;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/Animation.ts\nclass Animation_Animation{constructor(k,_arg_2){this._id=void 0;this._description=void 0;this._frames=void 0;this._spriteData=void 0;this._avatarData=void 0;this._directionData=void 0;this._removeData=void 0;this._addData=void 0;this._overriddenActions=void 0;this._overrideFrames=void 0;this._resetOnToggle=void 0;this._id=_arg_2.name;this._description=this._id;this._frames=[];this._spriteData=null;this._avatarData=null;this._directionData=null;this._removeData=null;this._addData=null;this._overriddenActions=null;this._overrideFrames=null;this._resetOnToggle=_arg_2.resetOnToggle||false;if(_arg_2.sprites&&_arg_2.sprites.length){this._spriteData=[];for(const sprite of _arg_2.sprites)this._spriteData.push(new SpriteDataContainer(this,sprite));}if(_arg_2.avatars&&_arg_2.avatars.length)this._avatarData=new AvatarDataContainer_AvatarDataContainer(_arg_2.avatars[0]);if(_arg_2.directions&&_arg_2.directions.length)this._directionData=new DirectionDataContainer(_arg_2.directions[0]);if(_arg_2.removes&&_arg_2.removes.length){this._removeData=[];for(const remove of _arg_2.removes)this._removeData.push(remove.id);}if(_arg_2.adds&&_arg_2.adds.length){this._addData=[];for(const add of _arg_2.adds)this._addData.push(new AddDataContainer(add));}if(_arg_2.overrides&&_arg_2.overrides.length){this._overrideFrames=new Map();this._overriddenActions=new Map();for(const override of _arg_2.overrides){const name=override.name;const value=override.override;this._overriddenActions.set(value,name);const frames=[];this.parseFrames(frames,override.frames,k);this._overrideFrames.set(name,frames);}}this.parseFrames(this._frames,_arg_2.frames,k);}parseFrames(frames,_arg_2,_arg_3){if(!_arg_2||!_arg_2.length)return;for(const frame of _arg_2){let repeats=1;if(frame.repeats&&frame.repeats>1)repeats=frame.repeats;let index=0;while(index<repeats){const layers=[];if(frame.bodyparts&&frame.bodyparts.length){for(const bodyPart of frame.bodyparts){const definition=_arg_3.getActionDefinition(bodyPart.action);const layer=new AvatarAnimationLayerData_AvatarAnimationLayerData(bodyPart,AvatarAnimationLayerData_AvatarAnimationLayerData.BODYPART,definition);layers.push(layer);}}if(frame.fxs&&frame.fxs.length){for(const fx of frame.fxs){const definition=_arg_3.getActionDefinition(fx.action);const layer=new AvatarAnimationLayerData_AvatarAnimationLayerData(fx,AvatarAnimationLayerData_AvatarAnimationLayerData.FX,definition);layers.push(layer);}}frames.push(layers);index++;}}}frameCount(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!k)return this._frames.length;if(this._overrideFrames){const _local_2=this._overrideFrames.get(k);if(_local_2)return _local_2.length;}return 0;}hasOverriddenActions(){if(!this._overriddenActions)return false;return this._overriddenActions.size>0;}overriddenActionNames(){if(!this._overriddenActions)return null;const keys=[];for(const key of this._overriddenActions.keys())keys.push(key);return keys;}overridingAction(k){if(!this._overriddenActions)return null;return this._overriddenActions.get(k);}getFrame(frameCount){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(frameCount<0)frameCount=0;let layers=[];if(!_arg_2){if(this._frames.length>0){layers=this._frames[frameCount%this._frames.length];}}else{const overrideLayers=this._overrideFrames.get(_arg_2);if(overrideLayers&&overrideLayers.length>0){layers=overrideLayers[frameCount%overrideLayers.length];}}return layers;}getAnimatedBodyPartIds(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const _local_3=[];for(const layer of this.getFrame(k,_arg_2)){if(layer.type===AvatarAnimationLayerData_AvatarAnimationLayerData.BODYPART){_local_3.push(layer.id);}else if(layer.type===AvatarAnimationLayerData_AvatarAnimationLayerData.FX){if(this._addData&&this._addData.length){for(const _local_5 of this._addData){if(_local_5.id===layer.id)_local_3.push(_local_5.align);}}}}return _local_3;}getLayerData(frameCount,spriteId){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;for(const layer of this.getFrame(frameCount,_arg_3)){if(layer.id===spriteId)return layer;if(layer.type===AvatarAnimationLayerData_AvatarAnimationLayerData.FX){if(this._addData&&this._addData.length){for(const addData of this._addData){if(addData.align===spriteId&&addData.id===layer.id)return layer;}}}}return null;}hasAvatarData(){return this._avatarData!==null;}hasDirectionData(){return this._directionData!==null;}hasAddData(){return this._addData!==null;}getAddData(k){if(this._addData){for(const _local_2 of this._addData){if(_local_2.id===k)return _local_2;}}return null;}get id(){return this._id;}get spriteData(){return this._spriteData||Animation_Animation.EMPTY_ARRAY;}get avatarData(){return this._avatarData;}get directionData(){return this._directionData;}get removeData(){return this._removeData||Animation_Animation.EMPTY_ARRAY;}get addData(){return this._addData||Animation_Animation.EMPTY_ARRAY;}toString(){return this._description;}get resetOnToggle(){return this._resetOnToggle;}}Animation_Animation.EMPTY_ARRAY=[];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/AnimationManager.ts\nclass AnimationManager_AnimationManager{constructor(){this._animations=void 0;this._animations=new Map();}registerAnimation(structure,_arg_2){const animationData=_arg_2[Object.keys(_arg_2)[0]];const animation=new Animation_Animation(structure,animationData);this._animations.set(animationData.name,animation);return true;}getAnimation(animation){const existing=this._animations.get(animation);if(!existing)return null;return existing;}getLayerData(animation,frameCount,spriteId){const existing=this.getAnimation(animation);if(!existing)return null;return existing.getLayerData(frameCount,spriteId);}get animations(){return this._animations;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/animation/AvatarAnimationFrame.ts\nclass AvatarAnimationFrame{constructor(data){this._number=void 0;this._assetPartDefinition=void 0;this._number=data.number;this._assetPartDefinition=data.assetPartDefinition||null;}get number(){return this._number;}get assetPartDefinition(){return this._assetPartDefinition;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarImagePartContainer.ts\nclass AvatarImagePartContainer_AvatarImagePartContainer{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7,_arg_8){let _arg_9=arguments.length>8&&arguments[8]!==undefined?arguments[8]:'';let _arg_10=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;let _arg_11=arguments.length>10&&arguments[10]!==undefined?arguments[10]:1;this._bodyPartId=void 0;this._partType=void 0;this._flippedPartType=void 0;this._partId=void 0;this._color=void 0;this._frames=void 0;this._action=void 0;this._isColorable=void 0;this._isBlendable=void 0;this._blendTransform=void 0;this._paletteMapId=void 0;this._bodyPartId=k;this._partType=_arg_2;this._partId=_arg_3;this._color=_arg_4;this._frames=_arg_5;this._action=_arg_6;this._isColorable=_arg_7;this._paletteMapId=_arg_8;this._flippedPartType=_arg_9;this._isBlendable=_arg_10;this._blendTransform=null;if(this._partType==='ey')this._isColorable=false;}getFrameIndex(k){if(!this._frames||!this._frames.length)return 0;const frameNumber=k%this._frames.length;if(this._frames[frameNumber]instanceof AvatarAnimationFrame){return this._frames[frameNumber].number;}return frameNumber;}getFrameDefinition(k){const frameNumber=k%this._frames.length;if(this._frames&&this._frames.length>frameNumber){if(this._frames[frameNumber]instanceof AvatarAnimationFrame){return this._frames[frameNumber];}}return null;}getCacheableKey(k){const frameNumber=k%this._frames.length;if(this._frames&&this._frames.length>frameNumber){if(this._frames[frameNumber]instanceof AvatarAnimationFrame){const frame=this._frames[frameNumber];return this.partId+':'+frame.assetPartDefinition+':'+frame.number;}}return this.partId+':'+frameNumber;}get bodyPartId(){return this._bodyPartId;}get partType(){return this._partType;}get partId(){return this._partId;}get color(){return this._color;}get action(){return this._action;}get isColorable(){return this._isColorable;}set isColorable(k){this._isColorable=k;}get paletteMapId(){return this._paletteMapId;}get flippedPartType(){return this._flippedPartType;}get isBlendable(){return this._isBlendable;}toString(){return[this._bodyPartId,this._partType,this._partId].join(':');}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/AvatarCanvas.ts\nclass AvatarCanvas_AvatarCanvas{constructor(k,_arg_2){this._id=void 0;this._width=void 0;this._height=void 0;this._offset=void 0;this._regPoint=void 0;this._id=k.id;this._width=k.width;this._height=k.height;this._offset=new math[\"g\" /* Point */](k.dx,k.dy);if(_arg_2==AvatarScaleType.LARGE)this._regPoint=new math[\"g\" /* Point */]((this._width-64)/2,0);else this._regPoint=new math[\"g\" /* Point */]((this._width-32)/2,0);}get width(){return this._width;}get height(){return this._height;}get offset(){return this._offset;}get id(){return this._id;}get regPoint(){return this._regPoint;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/AvatarSet.ts\nclass AvatarSet{constructor(k){this._id=void 0;this._isMain=void 0;this._avatarSets=void 0;this._bodyParts=void 0;this._allBodyParts=void 0;this._id=k.id;this._isMain=k.main||false;this._avatarSets=new Map();this._bodyParts=[];this._allBodyParts=[];if(k.avatarSets&&k.avatarSets.length>0){for(const avatarSet of k.avatarSets){if(!avatarSet)continue;const set=new AvatarSet(avatarSet);this._avatarSets.set(set.id,set);}}if(k.bodyParts&&k.bodyParts.length>0){for(const bodyPart of k.bodyParts){if(!bodyPart)continue;this._bodyParts.push(bodyPart.id);}}let bodyParts=this._bodyParts.concat();for(const avatarSet of this._avatarSets.values()){if(!avatarSet)continue;bodyParts=bodyParts.concat(avatarSet.getBodyParts());}this._allBodyParts=bodyParts;}findAvatarSet(k){if(k===this._id)return this;for(const avatarSet of this._avatarSets.values()){if(!avatarSet)continue;if(!avatarSet.findAvatarSet(k))continue;return avatarSet;}return null;}getBodyParts(){return this._allBodyParts.concat();}get id(){return this._id;}get isMain(){if(this._isMain)return true;for(const avatarSet of this._avatarSets.values()){if(!avatarSet)continue;if(!avatarSet.isMain)continue;return true;}return false;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/Vector3D.ts\nclass Vector3D{constructor(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this._x=void 0;this._y=void 0;this._z=void 0;this._x=k;this._y=_arg_2;this._z=_arg_3;}static dot(k,_arg_2){return k.x*_arg_2.x+k.y*_arg_2.y+k.z*_arg_2.z;}static cross(k,_arg_2){const _local_3=new Vector3D();_local_3.x=k.y*_arg_2.z-k.z*_arg_2.y;_local_3.y=k.z*_arg_2.x-k.x*_arg_2.z;_local_3.z=k.x*_arg_2.y-k.y*_arg_2.x;return _local_3;}static subtract(k,_arg_2){return new Vector3D(k.x-_arg_2.x,k.y-_arg_2.y,k.z-_arg_2.z);}dot(k){return this._x*k.x+this._y*k.y+this._z*k.z;}cross(k){const _local_2=new Vector3D();_local_2.x=this._y*k.z-this._z*k.y;_local_2.y=this._z*k.x-this._x*k.z;_local_2.z=this._x*k.y-this._y*k.x;return _local_2;}subtract(k){this._x=this._x-k.x;this._y=this._y-k.y;this._z=this._z-k.z;}add(k){this._x=this._x+k.x;this._y=this._y+k.y;this._z=this._z+k.z;}normalize(){const k=1/this.length();this._x=this._x*k;this._y=this._y*k;this._z=this._z*k;}scaleBy(value){this._x*=value;this._y*=value;this._z*=value;}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z);}toString(){return'Vector3D: ('+this._x+','+this._y+','+this._z+')';}get x(){return this._x;}set x(k){this._x=k;}get y(){return this._y;}set y(k){this._y=k;}get z(){return this._z;}set z(k){this._z=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/Node3D.ts\nclass Node3D_Node3D{constructor(k,_arg_2,_arg_3){this._location=void 0;this._transformedLocation=void 0;this._needsTransformation=void 0;this._location=new Vector3D(k,_arg_2,_arg_3);this._transformedLocation=new Vector3D();this._needsTransformation=false;if(!(k==0)||!(_arg_2==0)||!(_arg_3==0))this._needsTransformation=true;}get location(){return this._location;}get transformedLocation(){return this._transformedLocation;}applyTransform(k){if(this._needsTransformation)this._transformedLocation=k.vectorMultiplication(this._location);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/GeometryItem.ts\nclass GeometryItem_GeometryItem extends Node3D_Node3D{constructor(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;super(parseFloat(k.x),parseFloat(k.y),parseFloat(k.z));this._id=void 0;this._radius=void 0;this._normal=void 0;this._isDoubleSided=void 0;this._isDynamic=void 0;this._id=k.id;this._radius=parseFloat(k.radius);this._normal=new Vector3D(parseFloat(k.nx),parseFloat(k.ny),parseFloat(k.nz));this._isDoubleSided=k.double||false;this._isDynamic=_arg_2;}getDistance(k){const _local_2=Math.abs(k.z-this.transformedLocation.z-this._radius);const _local_3=Math.abs(k.z-this.transformedLocation.z+this._radius);return Math.min(_local_2,_local_3);}get id(){return this._id;}get normal(){return this._normal;}get isDoubleSided(){return this._isDoubleSided;}toString(){return this._id+': '+this.location+' - '+this.transformedLocation;}get isDynamic(){return this._isDynamic;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/GeometryBodyPart.ts\nclass GeometryBodyPart_GeometryBodyPart extends Node3D_Node3D{constructor(k){super(parseFloat(k.x),parseFloat(k.y),parseFloat(k.z));this._id=void 0;this._radius=void 0;this._parts=void 0;this._dynamicParts=void 0;this._id=k.id;this._radius=parseFloat(k.radius);this._parts=new Map();this._dynamicParts=new Map();if(k.items&&k.items.length>0){for(const item of k.items){if(!item)continue;const geometryItem=new GeometryItem_GeometryItem(item);this._parts.set(geometryItem.id,geometryItem);}}}getDynamicParts(k){const existing=this._dynamicParts.get(k);const parts=[];if(existing){for(const index in existing){const item=existing[index];if(!item)continue;parts.push(item);}}return parts;}getPartIds(k){const ids=[];for(const part of this._parts.values()){if(!part)continue;ids.push(part.id);}if(k){const existing=this._dynamicParts.get(k);if(existing){for(const index in existing){const part=existing[index];if(!part)continue;ids.push(part.id);}}}return ids;}removeDynamicParts(k){this._dynamicParts.delete(k);return true;}addPart(k,_arg_2){if(this.hasPart(k.id,_arg_2))return false;let existing=this._dynamicParts.get(_arg_2);if(!existing){existing={};this._dynamicParts.set(_arg_2,existing);}existing[k.id]=new GeometryItem_GeometryItem(k,true);return true;}hasPart(k,_arg_2){let existingPart=this._parts.get(k)||null;if(!existingPart&&this._dynamicParts.get(_arg_2)!==undefined){existingPart=this._dynamicParts.get(_arg_2)[k]||null;}return existingPart!==null;}getParts(k,_arg_2,_arg_3,_arg_4){const parts=[];for(const part of this._parts.values()){if(!part)continue;part.applyTransform(k);parts.push([part.getDistance(_arg_2),part]);}const existingDynamic=this._dynamicParts.get(_arg_4);if(existingDynamic){for(const index in existingDynamic){const part=existingDynamic[index];if(!part)continue;part.applyTransform(k);parts.push([part.getDistance(_arg_2),part]);}}parts.sort((a,b)=>{const partA=a[0];const partB=b[0];if(partA<partB)return-1;if(partA>partB)return 1;return 0;});const partIds=[];for(const part of parts){if(!part)continue;partIds.push(part[1].id);}return partIds;}getDistance(k){const _local_2=Math.abs(k.z-this.transformedLocation.z-this._radius);const _local_3=Math.abs(k.z-this.transformedLocation.z+this._radius);return Math.min(_local_2,_local_3);}get id(){return this._id;}get radius(){return this._radius;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/Matrix4x4.ts\nclass Matrix4x4_Matrix4x4{constructor(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let _arg_6=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let _arg_7=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;let _arg_8=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let _arg_9=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7,_arg_8,_arg_9];}static getXRotationMatrix(k){const _local_2=k*Math.PI/180;const _local_3=Math.cos(_local_2);const _local_4=Math.sin(_local_2);return new Matrix4x4_Matrix4x4(1,0,0,0,_local_3,-_local_4,0,_local_4,_local_3);}static getYRotationMatrix(k){const _local_2=k*Math.PI/180;const _local_3=Math.cos(_local_2);const _local_4=Math.sin(_local_2);return new Matrix4x4_Matrix4x4(_local_3,0,_local_4,0,1,0,-_local_4,0,_local_3);}static getZRotationMatrix(k){const _local_2=k*Math.PI/180;const _local_3=Math.cos(_local_2);const _local_4=Math.sin(_local_2);return new Matrix4x4_Matrix4x4(_local_3,-_local_4,0,_local_4,_local_3,0,0,0,1);}identity(){this._data=[1,0,0,0,1,0,0,0,1];return this;}vectorMultiplication(k){const _local_2=k.x*this._data[0]+k.y*this._data[3]+k.z*this._data[6];const _local_3=k.x*this._data[1]+k.y*this._data[4]+k.z*this._data[7];const _local_4=k.x*this._data[2]+k.y*this._data[5]+k.z*this._data[8];return new Vector3D(_local_2,_local_3,_local_4);}multiply(k){const _local_2=this._data[0]*k.data[0]+this._data[1]*k.data[3]+this._data[2]*k.data[6];const _local_3=this._data[0]*k.data[1]+this._data[1]*k.data[4]+this._data[2]*k.data[7];const _local_4=this._data[0]*k.data[2]+this._data[1]*k.data[5]+this._data[2]*k.data[8];const _local_5=this._data[3]*k.data[0]+this._data[4]*k.data[3]+this._data[5]*k.data[6];const _local_6=this._data[3]*k.data[1]+this._data[4]*k.data[4]+this._data[5]*k.data[7];const _local_7=this._data[3]*k.data[2]+this._data[4]*k.data[5]+this._data[5]*k.data[8];const _local_8=this._data[6]*k.data[0]+this._data[7]*k.data[3]+this._data[8]*k.data[6];const _local_9=this._data[6]*k.data[1]+this._data[7]*k.data[4]+this._data[8]*k.data[7];const _local_10=this._data[6]*k.data[2]+this._data[7]*k.data[5]+this._data[8]*k.data[8];return new Matrix4x4_Matrix4x4(_local_2,_local_3,_local_4,_local_5,_local_6,_local_7,_local_8,_local_9,_local_10);}scalarMultiply(k){let index=0;while(index<this._data.length){this._data[index]=this._data[index]*k;index++;}}rotateX(k){const _local_2=k*Math.PI/180;const _local_3=Math.cos(_local_2);const _local_4=Math.sin(_local_2);const _local_5=new Matrix4x4_Matrix4x4(1,0,0,0,_local_3,-_local_4,0,_local_4,_local_3);return _local_5.multiply(this);}rotateY(k){const _local_2=k*Math.PI/180;const _local_3=Math.cos(_local_2);const _local_4=Math.sin(_local_2);const _local_5=new Matrix4x4_Matrix4x4(_local_3,0,_local_4,0,1,0,-_local_4,0,_local_3);return _local_5.multiply(this);}rotateZ(k){const _local_2=k*Math.PI/180;const _local_3=Math.cos(_local_2);const _local_4=Math.sin(_local_2);const _local_5=new Matrix4x4_Matrix4x4(_local_3,-_local_4,0,_local_4,_local_3,0,0,0,1);return _local_5.multiply(this);}skew(){}transpose(){return new Matrix4x4_Matrix4x4(this._data[0],this._data[3],this._data[6],this._data[1],this._data[4],this._data[7],this._data[2],this._data[5],this._data[8]);}equals(k){return false;}get data(){return this._data;}}Matrix4x4_Matrix4x4.IDENTITY=new Matrix4x4_Matrix4x4(1,0,0,0,1,0,0,0,1);Matrix4x4_Matrix4x4.TOLERANS=1E-18;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/AvatarModelGeometry.ts\nclass AvatarModelGeometry_AvatarModelGeometry{constructor(k){this._camera=void 0;this._avatarSet=void 0;this._geometryTypes=void 0;this._itemIdToBodyPartMap=void 0;this._transformation=void 0;this._canvases=void 0;this._camera=new Vector3D(0,0,10);this._avatarSet=new AvatarSet(k.avatarSets[0]);this._geometryTypes=new Map();this._itemIdToBodyPartMap=new Map();this._transformation=new Matrix4x4_Matrix4x4();this._canvases=new Map();const camera=k.camera;if(camera){this._camera.x=parseFloat(camera.x);this._camera.y=parseFloat(camera.y);this._camera.z=parseFloat(camera.z);}if(k.canvases&&k.canvases.length>0){for(const canvas of k.canvases){if(!canvas)continue;const scale=canvas.scale;const geometries=new Map();if(canvas.geometries&&canvas.geometries.length>0){for(const geometry of canvas.geometries){if(!geometry)continue;const avatarCanvas=new AvatarCanvas_AvatarCanvas(geometry,scale);geometries.set(avatarCanvas.id,avatarCanvas);}}this._canvases.set(scale,geometries);}}if(k.types&&k.types.length>0){for(const type of k.types){if(!type)continue;const bodyParts=new Map();const itemIds=new Map();if(type.bodyParts&&type.bodyParts.length>0){for(const bodyPart of type.bodyParts){if(!bodyPart)continue;const geometryBodyPart=new GeometryBodyPart_GeometryBodyPart(bodyPart);bodyParts.set(geometryBodyPart.id,geometryBodyPart);for(const part of geometryBodyPart.getPartIds(null)){itemIds.set(part,geometryBodyPart);}}}this._geometryTypes.set(type.id,bodyParts);this._itemIdToBodyPartMap.set(type.id,itemIds);}}}removeDynamicItems(k){for(const geometry of this._geometryTypes.values()){if(!geometry)continue;for(const part of geometry.values()){if(!part)continue;part.removeDynamicParts(k);}}}getBodyPartIdsInAvatarSet(k){const avatarSet=this._avatarSet.findAvatarSet(k);if(!avatarSet)return[];return avatarSet.getBodyParts();}isMainAvatarSet(k){const avatarSet=this._avatarSet.findAvatarSet(k);if(!avatarSet)return false;return avatarSet.isMain;}getCanvas(k,_arg_2){const canvas=this._canvases.get(k);if(!canvas)return null;return canvas.get(_arg_2)||null;}typeExists(k){const existing=this._geometryTypes.get(k);if(existing)return true;return false;}hasBodyPart(k,_arg_2){if(this.typeExists(k)){const existing=this._geometryTypes.get(k);if(existing&&existing.get(_arg_2))return true;}return false;}getBodyPartIDs(k){const parts=this.getBodyPartsOfType(k);const types=[];if(parts){for(const part of parts.values()){if(!part)continue;types.push(part.id);}}return types;}getBodyPartsOfType(k){if(this.typeExists(k))return this._geometryTypes.get(k);return new Map();}getBodyPart(k,_arg_2){return this.getBodyPartsOfType(k).get(_arg_2)||null;}getBodyPartOfItem(k,_arg_2,_arg_3){const itemIds=this._itemIdToBodyPartMap.get(k);if(itemIds){const part=itemIds.get(_arg_2);if(part)return part;const parts=this.getBodyPartsOfType(k);if(parts){for(const part of parts.values()){if(!part)continue;if(part.hasPart(_arg_2,_arg_3))return part;}}}return null;}getBodyPartsInAvatarSet(k,_arg_2){const parts=this.getBodyPartIdsInAvatarSet(_arg_2);const geometryParts=[];for(const part of parts){if(!part)continue;const bodyPart=k.get(part);if(bodyPart){geometryParts.push(bodyPart);}}return geometryParts;}getBodyPartsAtAngle(k,_arg_2,_arg_3){if(!_arg_3)return[];const geometryParts=this.getBodyPartsOfType(_arg_3);const parts=this.getBodyPartsInAvatarSet(geometryParts,k);const sets=[];const ids=[];this._transformation=Matrix4x4_Matrix4x4.getYRotationMatrix(_arg_2);for(const part of parts.values()){if(!part)continue;part.applyTransform(this._transformation);sets.push([part.getDistance(this._camera),part]);}sets.sort((a,b)=>{const partA=a[0];const partB=b[0];if(partA<partB)return-1;if(partA>partB)return 1;return 0;});for(const set of sets){if(!set)continue;ids.push(set[1].id);}return ids;}getParts(k,_arg_2,_arg_3,_arg_4,_arg_5){if(this.hasBodyPart(k,_arg_2)){const part=this.getBodyPartsOfType(k).get(_arg_2);this._transformation=Matrix4x4_Matrix4x4.getYRotationMatrix(_arg_3);return part.getParts(this._transformation,this._camera,_arg_4,_arg_5);}return[];}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/animation/AnimationActionPart.ts\nclass AnimationActionPart_AnimationActionPart{constructor(data){this._frames=void 0;this._frames=[];if(data.frames&&data.frames.length>0){for(const frame of data.frames){if(!frame)continue;this._frames.push(new AvatarAnimationFrame(frame));let repeats=frame.repeats||0;if(repeats>1)while(--repeats>0)this._frames.push(this._frames[this._frames.length-1]);}}}get frames(){return this._frames;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/animation/AnimationAction.ts\nclass AnimationAction_AnimationAction{constructor(data){this._id=void 0;this._actionParts=void 0;this._bodyPartOffsets=void 0;this._frameCount=void 0;this._frameIndexes=void 0;this._id=data.id;this._actionParts=new Map();this._bodyPartOffsets=new Map();this._frameCount=0;this._frameIndexes=[];if(data.parts&&data.parts.length>0){for(const part of data.parts){if(!part)continue;const newPart=new AnimationActionPart_AnimationActionPart(part);this._actionParts.set(part.setType,newPart);this._frameCount=Math.max(this._frameCount,newPart.frames.length);}}if(data.offsets&&data.offsets.frames&&data.offsets.frames.length>0){for(const frame of data.offsets.frames){if(!frame)continue;const frameId=frame.id;this._frameCount=Math.max(this._frameCount,frameId);const directions=new Map();this._bodyPartOffsets.set(frameId,directions);if(frame.directions&&frame.directions.length>0){for(const direction of frame.directions){if(!direction)continue;const directionId=direction.id;const offsets=new Map();directions.set(directionId,offsets);if(direction.bodyParts&&direction.bodyParts.length>0){for(const part of direction.bodyParts){if(!part)continue;const partId=part.id;let dx=0;let dy=0;if(part.dx!==undefined)dx=part.dx;if(part.dy!==undefined)dy=part.dy;offsets.set(partId,new math[\"g\" /* Point */](dx,dy));}}}}this._frameIndexes.push(frameId);if(frame.repeats!==undefined){let repeats=frame.repeats||0;if(repeats>1)while(--repeats>0)this._frameIndexes.push(frameId);}}}}getPart(type){if(!type)return null;const existing=this._actionParts.get(type);if(!existing)return null;return existing;}getFrameBodyPartOffset(frameId,frameCount,partId){const frameIndex=frameCount%this._frameIndexes.length;const frameNumber=this._frameIndexes[frameIndex];const offsets=this._bodyPartOffsets.get(frameNumber);if(!offsets)return AnimationAction_AnimationAction.DEFAULT_OFFSET;const frameOffset=offsets.get(frameId);if(!frameOffset)return AnimationAction_AnimationAction.DEFAULT_OFFSET;const offset=frameOffset.get(partId);if(!offset)return AnimationAction_AnimationAction.DEFAULT_OFFSET;return offset;}get id(){return this._id;}get parts(){return this._actionParts;}get frameCount(){return this._frameCount;}}AnimationAction_AnimationAction.DEFAULT_OFFSET=new math[\"g\" /* Point */](0,0);\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/AvatarAnimationData.ts\nclass AvatarAnimationData_AvatarAnimationData{constructor(){this._actions=void 0;this._actions=new Map();}parse(data){if(data&&data.length>0){for(const animation of data){if(!animation)continue;const newAnimation=new AnimationAction_AnimationAction(animation);this._actions.set(newAnimation.id,newAnimation);}}return true;}appendJSON(k){for(const _local_2 of k.action){this._actions.set(_local_2.id,new AnimationAction_AnimationAction(_local_2));}return true;}getAction(action){const existing=this._actions.get(action.id);if(!existing)return null;return existing;}getFrameCount(k){const animationAction=this.getAction(k);if(!animationAction)return 0;return animationAction.frameCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/PartColor.ts\nclass PartColor{constructor(data){this._id=void 0;this._index=void 0;this._clubLevel=void 0;this._isSelectable=void 0;this._rgb=void 0;if(!data)throw new Error('invalid_data');this._id=data.id;this._index=data.index;this._clubLevel=data.club||0;this._isSelectable=data.selectable;this._rgb=parseInt('0x'+data.hexCode,16);}get id(){return this._id;}get index(){return this._index;}get clubLevel(){return this._clubLevel;}get isSelectable(){return this._isSelectable;}get rgb(){return this._rgb;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/Palette.ts\nclass Palette_Palette{constructor(data){this._id=void 0;this._colors=void 0;if(!data)throw new Error('invalid_data');this._id=data.id;this._colors=new AdvancedMap();this.append(data);}append(data){for(const color of data.colors){const newColor=new PartColor(color);this._colors.add(color.id.toString(),newColor);}}getColor(id){if(id===undefined||id<0)return null;return this._colors.getValue(id.toString())||null;}get id(){return this._id;}get colors(){return this._colors;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/FigurePart.ts\nclass FigurePart{constructor(data){this._id=void 0;this._type=void 0;this._breed=void 0;this._index=void 0;this._colorLayerIndex=void 0;this._paletteMapId=void 0;if(!data)throw new Error('invalid_data');this._id=data.id;this._type=data.type;this._index=data.index;this._colorLayerIndex=data.colorindex;this._paletteMapId=-1;this._breed=-1;}dispose(){}get id(){return this._id;}get type(){return this._type;}get breed(){return this._breed;}get index(){return this._index;}get colorLayerIndex(){return this._colorLayerIndex;}get paletteMap(){return this._paletteMapId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/FigurePartSet.ts\nclass FigurePartSet_FigurePartSet{constructor(type,data){this._id=void 0;this._type=void 0;this._gender=void 0;this._clubLevel=void 0;this._isColorable=void 0;this._isSelectable=void 0;this._parts=void 0;this._hiddenLayers=void 0;this._isPreSelectable=void 0;this._isSellable=void 0;if(!type||!data)throw new Error('invalid_data');this._id=data.id;this._type=type;this._gender=data.gender;this._clubLevel=data.club;this._isColorable=data.colorable;this._isSelectable=data.selectable;this._parts=[];this._hiddenLayers=[];this._isPreSelectable=data.preselectable;this._isSellable=data.sellable;for(const part of data.parts){const newPart=new FigurePart(part);const partIndex=this.getPartIndex(newPart);if(partIndex!==-1)this._parts.splice(partIndex,0,newPart);else this._parts.push(newPart);}if(data.hiddenLayers){for(const hiddenLayer of data.hiddenLayers)this._hiddenLayers.push(hiddenLayer.partType);}}dispose(){for(const part of this._parts){const figurePart=part;figurePart.dispose();}this._parts=null;this._hiddenLayers=null;}getPartIndex(part){const totalParts=this._parts.length;if(!totalParts)return-1;for(let i=0;i<totalParts;i++){const existingPart=this._parts[i];if(!existingPart)continue;if(existingPart.type!==part.type||existingPart.index>part.index)continue;return i;}return-1;}getPart(k,_arg_2){for(const part of this._parts){if(part.type!==k||part.id!==_arg_2)continue;return part;}return null;}get id(){return this._id;}get type(){return this._type;}get gender(){return this._gender;}get clubLevel(){return this._clubLevel;}get isColorable(){return this._isColorable;}get isSelectable(){return this._isSelectable;}get parts(){return this._parts;}get hiddenLayers(){return this._hiddenLayers;}get isPreSelectable(){return this._isPreSelectable;}get isSellable(){return this._isSellable;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/SetType.ts\nclass SetType_SetType{constructor(data){this._type=void 0;this._paletteId=void 0;this._isMandatory=void 0;this._partSets=void 0;if(!data)throw new Error('invalid_data');this._type=data.type;this._paletteId=data.paletteId;this._isMandatory={};this._isMandatory['F']=[data.mandatory_f_0,data.mandatory_f_1];this._isMandatory['M']=[data.mandatory_m_0,data.mandatory_m_1];this._partSets=new AdvancedMap();this.append(data);}dispose(){for(const set of this._partSets.getValues()){const partSet=set;partSet.dispose();}this._partSets=null;}cleanUp(data){for(const set of data.sets){const setId=set.id.toString();const partSet=this._partSets.getValue(setId);if(partSet){partSet.dispose();this._partSets.remove(setId);}}}append(setType){if(!setType||!setType.sets)return;for(const set of setType.sets)this._partSets.add(set.id.toString(),new FigurePartSet_FigurePartSet(this._type,set));}getDefaultPartSet(gender){for(const set of this._partSets.getValues()){if(!set)continue;if(set.clubLevel===0&&(set.gender===gender||set.gender==='U'))return set;}return null;}getPartSet(k){return this._partSets.getValue(k.toString());}get type(){return this._type;}get paletteID(){return this._paletteId;}isMandatory(k,_arg_2){return this._isMandatory[k.toUpperCase()][Math.min(_arg_2,1)];}optionalFromClubLevel(k){const _local_2=this._isMandatory[k.toUpperCase()];return _local_2.indexOf(false);}get partSets(){return this._partSets;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/FigureSetData.ts\nclass FigureSetData_FigureSetData{constructor(){this._palettes=void 0;this._setTypes=void 0;this._palettes=new Map();this._setTypes=new Map();}dispose(){}parse(data){if(!data)return false;for(const palette of data.palettes){const newPalette=new Palette_Palette(palette);if(!newPalette)continue;this._palettes.set(newPalette.id.toString(),newPalette);}for(const set of data.setTypes){const newSet=new SetType_SetType(set);if(!newSet)continue;this._setTypes.set(newSet.type,newSet);}return true;}injectJSON(data){for(const setType of data.setTypes){const existingSetType=this._setTypes.get(setType.type);if(existingSetType)existingSetType.cleanUp(setType);else this._setTypes.set(setType.type,new SetType_SetType(setType));}this.appendJSON(data);}appendJSON(data){if(!data)return false;for(const palette of data.palettes){const id=palette.id.toString();const existingPalette=this._palettes.get(id);if(!existingPalette)this._palettes.set(id,new Palette_Palette(palette));else existingPalette.append(palette);}for(const setType of data.setTypes){const type=setType.type;const existingSetType=this._setTypes.get(type);if(!existingSetType)this._setTypes.set(type,new SetType_SetType(setType));else existingSetType.append(setType);}return false;}getMandatorySetTypeIds(k,_arg_2){const types=[];for(const set of this._setTypes.values()){if(!set||!set.isMandatory(k,_arg_2))continue;types.push(set.type);}return types;}getDefaultPartSet(k,_arg_2){const setType=this._setTypes.get(k);if(!setType)return null;return setType.getDefaultPartSet(_arg_2);}getSetType(k){return this._setTypes.get(k)||null;}getPalette(k){return this._palettes.get(k.toString())||null;}getFigurePartSet(k){for(const set of this._setTypes.values()){const partSet=set.getPartSet(k);if(!partSet)continue;return partSet;}return null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/parts/ActivePartSet.ts\nclass ActivePartSet{constructor(data){this._id=void 0;this._parts=void 0;this._id=data.id;this._parts=[];if(data.activeParts&&data.activeParts.length>0){for(const part of data.activeParts){if(!part)continue;this._parts.push(part.setType);}}}get parts(){return this._parts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/parts/PartDefinition.ts\nclass PartDefinition{constructor(data){this._setType=void 0;this._flippedSetType=void 0;this._removeSetType=void 0;this._appendToFigure=void 0;this._staticId=void 0;if(!data)throw new Error('invalid_data');this._setType=data.setType;this._flippedSetType=data.flippedSetType||null;this._removeSetType=data.removeSetType||null;this._appendToFigure=false;this._staticId=-1;}hasStaticId(){return this._staticId>=0;}get staticId(){return this._staticId;}set staticId(k){this._staticId=k;}get setType(){return this._setType;}get flippedSetType(){return this._flippedSetType;}set flippedSetType(type){this._flippedSetType=type;}get removeSetType(){return this._removeSetType;}get appendToFigure(){return this._appendToFigure;}set appendToFigure(flag){this._appendToFigure=flag;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/PartSetsData.ts\nclass PartSetsData_PartSetsData{constructor(){this._parts=void 0;this._activePartSets=void 0;this._parts=new Map();this._activePartSets=new Map();}parse(data){if(data.partSet&&data.partSet.length>0){for(const part of data.partSet){if(!part)continue;this._parts.set(part.setType,new PartDefinition(part));}}if(data.activePartSets&&data.activePartSets.length>0){for(const activePart of data.activePartSets){if(!activePart)continue;this._activePartSets.set(activePart.id,new ActivePartSet(activePart));}}return true;}appendJSON(data){if(data.partSet&&data.partSet.length>0){for(const part of data.partSet){if(!part)continue;this._parts.set(part.setType,new PartDefinition(part));}}if(data.activePartSets&&data.activePartSets.length>0){for(const activePart of data.activePartSets){if(!activePart)continue;this._activePartSets.set(activePart.id,new ActivePartSet(activePart));}}return false;}getActiveParts(k){const activePartSet=this._activePartSets.get(k.activePartSet);if(!activePartSet)return[];return activePartSet.parts;}getPartDefinition(part){const existing=this._parts.get(part);if(!existing)return null;return existing;}addPartDefinition(k){const _local_2=k.setType;let existing=this._parts.get(_local_2);if(!existing){existing=new PartDefinition(k);this._parts.set(_local_2,existing);}return existing;}getActivePartSet(k){const existing=this._activePartSets.get(k.activePartSet);if(!existing)return null;return existing;}get parts(){return this._parts;}get activePartSets(){return this._activePartSets;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarStructure.ts\nclass AvatarStructure_AvatarStructure extends EventDispatcher_EventDispatcher{constructor(renderManager){super();this._renderManager=void 0;this._geometry=void 0;this._figureData=void 0;this._partSetsData=void 0;this._animationData=void 0;this._animationManager=void 0;this._mandatorySetTypeIds=void 0;this._actionManager=void 0;this._defaultAction=void 0;this._renderManager=renderManager;this._geometry=null;this._figureData=new FigureSetData_FigureSetData();this._partSetsData=new PartSetsData_PartSetsData();this._animationData=new AvatarAnimationData_AvatarAnimationData();this._animationManager=new AnimationManager_AnimationManager();this._mandatorySetTypeIds={};this._actionManager=null;this._defaultAction=null;}init(){}dispose(){if(this.disposed)return;super.dispose();this._renderManager=null;this._figureData=null;this._partSetsData=null;this._animationData=null;this._mandatorySetTypeIds=null;}initGeometry(k){if(!k)return;this._geometry=new AvatarModelGeometry_AvatarModelGeometry(k);}initActions(k,_arg_2){if(!_arg_2)return;this._actionManager=new AvatarActionManager_AvatarActionManager(k,_arg_2);this._defaultAction=this._actionManager.getDefaultAction();}updateActions(data){this._actionManager.updateActions(data);this._defaultAction=this._actionManager.getDefaultAction();}initPartSets(k){if(!k)return false;if(this._partSetsData.parse(k)){this._partSetsData.getPartDefinition('ri').appendToFigure=true;this._partSetsData.getPartDefinition('li').appendToFigure=true;return true;}return false;}initAnimation(k){if(!k)return false;return this._animationData.parse(k);}initFigureData(k){if(!k)return false;return this._figureData.parse(k);}injectFigureData(data){this._figureData.injectJSON(data);}registerAnimations(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'fx';let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:200;let index=0;while(index<_arg_3){const collection=k.getCollection(_arg_2+index);if(collection){const animationData=collection.data;this._animationManager.registerAnimation(this,animationData.animations);}index++;}}registerAnimation(data){this._animationManager.registerAnimation(this,data);}getPartColor(k,_arg_2){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;const _local_4=k.getPartColorIds(_arg_2);if(!_local_4||_local_4.length<_arg_3)return null;const _local_5=this._figureData.getSetType(_arg_2);if(_local_5==null)return null;const _local_6=this._figureData.getPalette(_local_5.paletteID);if(!_local_6)return null;return _local_6.getColor(_local_4[_arg_3]);}getBodyPartData(animation,frameCount,spriteId){return this._animationManager.getLayerData(animation,frameCount,spriteId);}getAnimation(k){return this._animationManager.getAnimation(k);}getActionDefinition(k){return this._actionManager.getActionDefinition(k);}getActionDefinitionWithState(k){return this._actionManager.getActionDefinitionWithState(k);}isMainAvatarSet(k){return this._geometry.isMainAvatarSet(k);}sortActions(k){return this._actionManager.sortActions(k);}maxFrames(k){let _local_2=0;for(const _local_3 of k){_local_2=Math.max(_local_2,this._animationData.getFrameCount(_local_3.definition));}return _local_2;}getMandatorySetTypeIds(k,_arg_2){if(!this._mandatorySetTypeIds[k]){this._mandatorySetTypeIds[k]=[];}if(this._mandatorySetTypeIds[k][_arg_2]){return this._mandatorySetTypeIds[k][_arg_2];}this._mandatorySetTypeIds[k][_arg_2]=this._figureData.getMandatorySetTypeIds(k,_arg_2);return this._mandatorySetTypeIds[k][_arg_2];}getDefaultPartSet(k,_arg_2){return this._figureData.getDefaultPartSet(k,_arg_2);}getCanvasOffsets(k,_arg_2,_arg_3){return this._actionManager.getCanvasOffsets(k,_arg_2,_arg_3);}getCanvas(k,_arg_2){return this._geometry.getCanvas(k,_arg_2);}removeDynamicItems(k){this._geometry.removeDynamicItems(k);}getActiveBodyPartIds(k,_arg_2){let _local_3=[];const _local_4=[];const _local_5=k.definition.geometryType;if(k.definition.isAnimation){const _local_7=k.definition.state+'.'+k.actionParameter;const _local_8=this._animationManager.getAnimation(_local_7);if(_local_8){_local_3=_local_8.getAnimatedBodyPartIds(0,k.overridingAction);if(_local_8.hasAddData()){const _local_11={id:'',x:0,y:0,z:0,radius:0.01,nx:0,ny:0,nz:-1,double:1};const _local_12={setType:''};for(const _local_13 of _local_8.addData){const _local_6=this._geometry.getBodyPart(_local_5,_local_13.align);if(_local_6){_local_11.id=_local_13.id;_local_6.addPart(_local_11,_arg_2);_local_12.setType=_local_13.id;const _local_10=this._partSetsData.addPartDefinition(_local_12);_local_10.appendToFigure=true;if(_local_13.base==='')_local_10.staticId=1;if(_local_4.indexOf(_local_6.id)===-1)_local_4.push(_local_6.id);}}}}for(const _local_9 of _local_3){const _local_6=this._geometry.getBodyPart(_local_5,_local_9);if(_local_6&&_local_4.indexOf(_local_6.id)===-1)_local_4.push(_local_6.id);}}else{_local_3=this._partSetsData.getActiveParts(k.definition);for(const _local_14 of _local_3){const _local_6=this._geometry.getBodyPartOfItem(_local_5,_local_14,_arg_2);if(_local_6&&_local_4.indexOf(_local_6.id)===-1)_local_4.push(_local_6.id);}}return _local_4;}getBodyPartsUnordered(k){return this._geometry.getBodyPartIdsInAvatarSet(k);}getBodyParts(k,_arg_2,_arg_3){const _local_4=AvatarDirectionAngle.DIRECTION_TO_ANGLE[_arg_3];return this._geometry.getBodyPartsAtAngle(k,_local_4,_arg_2);}getFrameBodyPartOffset(k,_arg_2,_arg_3,_arg_4){const _local_5=this._animationData.getAction(k.definition);if(_local_5)return _local_5.getFrameBodyPartOffset(_arg_2,_arg_3,_arg_4);return AnimationAction_AnimationAction.DEFAULT_OFFSET;}getParts(k,_arg_2,_arg_3,_arg_4,_arg_5,removes,_arg_7){let _arg_8=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;const _local_10=null;let _local_34=null;let _local_20=[];let _local_36=null;if(!_arg_3==null)return[];const _local_9=this._partSetsData.getActiveParts(_arg_3.definition);const _local_11=[];let _local_14=[0];const _local_15=this._animationData.getAction(_arg_3.definition);if(_arg_3.definition.isAnimation){const _local_24=_arg_3.definition.state+'.'+_arg_3.actionParameter;const _local_10=this._animationManager.getAnimation(_local_24);if(_local_10){_local_14=this.getPopulatedArray(_local_10.frameCount(_arg_3.overridingAction));for(const _local_25 of _local_10.getAnimatedBodyPartIds(0,_arg_3.overridingAction)){if(_local_25===k){const _local_26=this._geometry.getBodyPart(_arg_4,_local_25);if(_local_26){for(const _local_27 of _local_26.getDynamicParts(_arg_7)){_local_9.push(_local_27.id);}}}}}}const _local_16=this._geometry.getParts(_arg_4,k,_arg_5,_local_9,_arg_7);const _local_21=_arg_2.getPartTypeIds();for(const _local_17 of _local_21){if(_arg_8){if(_arg_8.get(_local_17))continue;}const _local_28=_arg_2.getPartSetId(_local_17);const _local_29=_arg_2.getPartColorIds(_local_17);const _local_30=this._figureData.getSetType(_local_17);if(_local_30){const _local_31=this._figureData.getPalette(_local_30.paletteID);if(_local_31){const _local_32=_local_30.getPartSet(_local_28);if(_local_32){removes=removes.concat(_local_32.hiddenLayers);for(const _local_33 of _local_32.parts){if(_local_16.indexOf(_local_33.type)>-1){if(_local_15){const _local_19=_local_15.getPart(_local_33.type);if(_local_19){_local_20=_local_19.frames;}else{_local_20=_local_14;}}else{_local_20=_local_14;}_local_34=_arg_3.definition;if(_local_9.indexOf(_local_33.type)===-1)_local_34=this._defaultAction;const _local_13=this._partSetsData.getPartDefinition(_local_33.type);let _local_35=!_local_13?_local_33.type:_local_13.flippedSetType;if(!_local_35||_local_35==='')_local_35=_local_33.type;if(_local_29&&_local_29.length>_local_33.colorLayerIndex-1){_local_36=_local_31.getColor(_local_29[_local_33.colorLayerIndex-1]);}const _local_37=_local_33.colorLayerIndex>0;const _local_18=new AvatarImagePartContainer_AvatarImagePartContainer(k,_local_33.type,_local_33.id.toString(),_local_36,_local_20,_local_34,_local_37,_local_33.paletteMap,_local_35);_local_11.push(_local_18);}}}}}}const _local_22=[];for(const _local_12 of _local_16){let _local_39=null;let _local_38=false;const _local_40=_arg_8&&_arg_8.get(_local_12);for(const _local_23 of _local_11){if(_local_23.partType===_local_12){if(_local_40){_local_39=_local_23.color;}else{_local_38=true;if(removes.indexOf(_local_12)===-1)_local_22.push(_local_23);}}}if(!_local_38){if(_local_40){const _local_41=_arg_8.get(_local_12);let _local_42=0;let _local_43=0;while(_local_43<_local_41.length){_local_42=_local_42+_local_41.charCodeAt(_local_43);_local_43++;}if(_local_15){const _local_19=_local_15.getPart(_local_12);if(_local_19){_local_20=_local_19.frames;}else{_local_20=_local_14;}}else{_local_20=_local_14;}const _local_18=new AvatarImagePartContainer_AvatarImagePartContainer(k,_local_12,_local_41,_local_39,_local_20,_arg_3.definition,!(_local_39==null),-1,_local_12,false,1);_local_22.push(_local_18);}else{if(_local_9.indexOf(_local_12)>-1){const _local_44=this._geometry.getBodyPartOfItem(_arg_4,_local_12,_arg_7);if(k!==_local_44.id){//\n}else{const _local_13=this._partSetsData.getPartDefinition(_local_12);let _local_45=false;let _local_46=1;if(_local_13.appendToFigure){let _local_47='1';if(_arg_3.actionParameter!==''){_local_47=_arg_3.actionParameter;}if(_local_13.hasStaticId()){_local_47=_local_13.staticId.toString();}if(_local_10!=null){const _local_48=_local_10.getAddData(_local_12);if(_local_48){_local_45=_local_48.isBlended;_local_46=_local_48.blend;}}if(_local_15){const _local_19=_local_15.getPart(_local_12);if(_local_19){_local_20=_local_19.frames;}else{_local_20=_local_14;}}else{_local_20=_local_14;}const _local_18=new AvatarImagePartContainer_AvatarImagePartContainer(k,_local_12,_local_47,null,_local_20,_arg_3.definition,false,-1,_local_12,_local_45,_local_46);_local_22.push(_local_18);}}}}}}return _local_22;}getPopulatedArray(k){const _local_2=[];let index=0;while(index<k){_local_2.push(index);index++;}return _local_2;}getItemIds(){if(this._actionManager){const k=this._actionManager.getActionDefinition('CarryItem').params;const _local_2=[];for(const _local_3 of k.values())_local_2.push(_local_3);return _local_2;}return[];}get renderManager(){return this._renderManager;}get figureData(){return this._figureData;}get partData(){return this._partSetsData;}get animationManager(){return this._animationManager;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/data/HabboAvatarAnimations.ts\nconst HabboAvatarAnimations={'animations':[{'id':'Move','parts':[{'setType':'bd','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'bds','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'ss','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'lg','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'sh','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'lh','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'lhs','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'ls','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'lc','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'rh','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'rhs','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'rs','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'rc','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]},{'setType':'ch','frames':[{'number':0,'assetPartDefinition':'wlk'},{'number':1,'assetPartDefinition':'wlk'},{'number':2,'assetPartDefinition':'wlk'},{'number':3,'assetPartDefinition':'wlk'}]}]},{'id':'Wave','parts':[{'setType':'lh','frames':[{'number':0,'assetPartDefinition':'wav'},{'number':1,'assetPartDefinition':'wav'}]},{'setType':'lhs','frames':[{'number':0,'assetPartDefinition':'wav'},{'number':1,'assetPartDefinition':'wav'}]},{'setType':'ls','frames':[{'number':0,'assetPartDefinition':'wav'},{'number':1,'assetPartDefinition':'wav'}]},{'setType':'lc','frames':[{'number':0,'assetPartDefinition':'wav'},{'number':1,'assetPartDefinition':'wav'}]},{'setType':'ch','frames':[{'number':0,'assetPartDefinition':'wav'},{'number':1,'assetPartDefinition':'wav'},{'number':2,'assetPartDefinition':'wav'},{'number':3,'assetPartDefinition':'wav'}]}]},{'id':'Talk','parts':[{'setType':'hd','frames':[{'number':0,'assetPartDefinition':'spk'},{'number':1,'assetPartDefinition':'spk'}]},{'setType':'fc','frames':[{'number':0,'assetPartDefinition':'spk'},{'number':1,'assetPartDefinition':'spk'}]},{'setType':'fa','frames':[{'number':0,'assetPartDefinition':'spk'},{'number':1,'assetPartDefinition':'spk'}]}]},{'id':'Sign','parts':[{'setType':'lh','frames':[{'number':0,'assetPartDefinition':'sig'}]},{'setType':'li','frames':[{'number':0,'assetPartDefinition':'sig'}]},{'setType':'ls','frames':[{'number':0,'assetPartDefinition':'wav'}]},{'setType':'lc','frames':[{'number':0,'assetPartDefinition':'wav'}]}]},{'id':'Respect','parts':[{'setType':'lh','frames':[{'number':0,'assetPartDefinition':'respect','repeats':15},{'number':1,'assetPartDefinition':'respect','repeats':15}]},{'setType':'ls','frames':[{'number':0,'assetPartDefinition':'wav','repeats':15},{'number':1,'assetPartDefinition':'wav','repeats':15}]},{'setType':'lc','frames':[{'number':0,'assetPartDefinition':'wav','repeats':15},{'number':1,'assetPartDefinition':'wav','repeats':15}]}]},{'id':'Blow','parts':[{'setType':'rh','frames':[{'number':0,'assetPartDefinition':'blw','repeats':10},{'number':1,'assetPartDefinition':'blw','repeats':10}]},{'setType':'rs','frames':[{'number':0,'assetPartDefinition':'drk'}]},{'setType':'rc','frames':[{'number':0,'assetPartDefinition':'drk'}]},{'setType':'ri','frames':[{'number':0,'assetPartDefinition':''}]},{'setType':'ey','frames':[{'number':0,'assetPartDefinition':'std','repeats':10},{'number':0,'assetPartDefinition':'eyb','repeats':10}]},{'setType':'fc','frames':[{'number':0,'assetPartDefinition':'std','repeats':10},{'number':0,'assetPartDefinition':'blw','repeats':10}]}]},{'id':'Laugh','parts':[{'setType':'rh','frames':[{'number':0,'assetPartDefinition':'blw'}]},{'setType':'rs','frames':[{'number':0,'assetPartDefinition':'drk'}]},{'setType':'rc','frames':[{'number':0,'assetPartDefinition':'drk'}]},{'setType':'ri','frames':[{'number':0,'assetPartDefinition':''}]},{'setType':'ey','frames':[{'number':0,'assetPartDefinition':'std','repeats':2}]},{'setType':'fc','frames':[{'number':0,'assetPartDefinition':'sml'}]}],'offsets':{'frames':[{'id':0,'directions':[{'id':0,'bodyParts':[{'id':'head','dx':0,'dy':1}]},{'id':1,'bodyParts':[{'id':'head','dx':0,'dy':1}]},{'id':2,'bodyParts':[{'id':'head','dx':0,'dy':1}]},{'id':3,'bodyParts':[{'id':'head','dx':0,'dy':1}]},{'id':4,'bodyParts':[{'id':'head','dx':0,'dy':1}]},{'id':5,'bodyParts':[{'id':'head','dx':0,'dy':1}]},{'id':6,'bodyParts':[{'id':'head','dx':0,'dy':1}]},{'id':7,'bodyParts':[{'id':'head','dx':0,'dy':1}]}]},{'id':1,'directions':[{'id':0,'bodyParts':[{'id':'head','dx':0,'dy':0}]},{'id':1,'bodyParts':[{'id':'head','dx':0,'dy':0}]},{'id':2,'bodyParts':[{'id':'head','dx':0,'dy':0}]},{'id':3,'bodyParts':[{'id':'head','dx':0,'dy':0}]},{'id':4,'bodyParts':[{'id':'head','dx':0,'dy':0}]},{'id':5,'bodyParts':[{'id':'head','dx':0,'dy':0}]},{'id':6,'bodyParts':[{'id':'head','dx':0,'dy':0}]},{'id':7,'bodyParts':[{'id':'head','dx':0,'dy':0}]}]}]}}]};\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/data/HabboAvatarGeometry.ts\nconst HabboAvatarGeometry={'geometry':{'direction':0,'camera':{'x':0,'y':0,'z':10},'canvases':[{'scale':'h','geometries':[{'id':'vertical','width':90,'height':130,'dx':0,'dy':0},{'id':'sitting','width':90,'height':130,'dx':0,'dy':0},{'id':'horizontal','width':128,'height':80,'dx':30,'dy':0},{'id':'swhorizontal','width':192,'height':120,'dx':0,'dy':-40}]},{'scale':'sh','geometries':[{'id':'vertical','width':45,'height':72,'dx':0,'dy':0},{'id':'sitting','width':45,'height':72,'dx':0,'dy':0},{'id':'horizontal','width':64,'height':50,'dx':15,'dy':-10},{'id':'swhorizontal','width':96,'height':70,'dx':0,'dy':-20},{'id':'swim','width':64,'height':70,'dx':25,'dy':10}]}],'avatarSets':[{'id':'full','avatarSets':[{'id':'body','main':true,'bodyParts':[{'id':'top'},{'id':'bottom'},{'id':'behind'},{'id':'torso'},{'id':'leftitem'},{'id':'rightitem'},{'id':'leftarm'},{'id':'rightarm'}]},{'id':'head','bodyParts':[{'id':'head'}]}]}],'types':[{'id':'vertical','bodyParts':[{'id':'top','x':0,'y':0,'z':0.0,'radius':2.0},{'id':'bottom','x':0,'y':0,'z':0.0,'radius':0.001},{'id':'behind','x':0,'y':0,'z':0.2,'radius':0.3},{'id':'torso','x':0,'y':0,'z':0.0,'radius':0.4,'items':[{'id':'bd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'bds','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'ch','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'sh','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lg','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ss','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cp','x':0,'y':0,'z':0,'radius':0.045,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'wa','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cc','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ca','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'li','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'ri','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftarm','x':-1,'y':0,'z':-0.51,'radius':0.5,'items':[{'id':'lh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ls','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightarm','x':1,'y':0,'z':-0.51,'radius':0.5,'items':[{'id':'rh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rs','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'head','x':0,'y':0,'z':0,'radius':0.5,'items':[{'id':'hd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fc','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ey','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'hr','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'hrb','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fa','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ea','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ha','x':0,'y':0,'z':0,'radius':0.08,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'he','x':0,'y':0,'z':0,'radius':0.09,'nx':0,'ny':0,'nz':-1,'double':false}]}]},{'id':'sitting','bodyParts':[{'id':'top','x':0,'y':0,'z':0.0,'radius':2.0},{'id':'bottom','x':0,'y':0,'z':0.0,'radius':0.001},{'id':'behind','x':0,'y':0,'z':0.2,'radius':0.3},{'id':'torso','x':0,'y':0,'z':0.0,'radius':0.4,'items':[{'id':'bd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'bds','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'ch','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'sh','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lg','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ss','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cp','x':0,'y':0,'z':0,'radius':0.045,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'wa','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cc','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ca','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'li','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'ri','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftarm','x':-1,'y':0,'z':-0.51,'radius':0.5,'items':[{'id':'lh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ls','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightarm','x':1,'y':0,'z':-0.51,'radius':0.5,'items':[{'id':'rh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rs','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'head','x':0,'y':0,'z':0,'radius':0.5,'items':[{'id':'hd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fc','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ey','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'hr','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'hrb','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fa','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ea','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ha','x':0,'y':0,'z':0,'radius':0.08,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'he','x':0,'y':0,'z':0,'radius':0.09,'nx':0,'ny':0,'nz':-1,'double':false}]}]},{'id':'horizontal','bodyParts':[{'id':'torso','x':0,'y':0,'z':0.0,'radius':0.4,'items':[{'id':'bd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'bds','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'ch','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cp','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'sh','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lg','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ss','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'wa','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cc','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ca','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'li','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'ri','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftarm','x':-1,'y':0,'z':-0.51,'radius':0.6,'items':[{'id':'lh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ls','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightarm','x':1,'y':0,'z':-0.51,'radius':0.6,'items':[{'id':'rh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rs','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'head','x':0,'y':0,'z':0,'radius':0.5,'items':[{'id':'hd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fc','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ey','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'hr','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'hrb','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fa','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ea','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ha','x':0,'y':0,'z':0,'radius':0.08,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'he','x':0,'y':0,'z':0,'radius':0.09,'nx':0,'ny':0,'nz':-1,'double':false}]}]},{'id':'swhorizontal','bodyParts':[{'id':'torso','x':0,'y':0,'z':0.0,'radius':0.4,'items':[{'id':'bd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'bds','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'ch','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cp','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'sh','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lg','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ss','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'wa','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'cc','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ca','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'li','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightitem','x':0,'y':0,'z':-0.29,'radius':0.3,'items':[{'id':'ri','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'leftarm','x':-1,'y':0,'z':-0.51,'radius':0.6,'items':[{'id':'lh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ls','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'lc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'rightarm','x':1,'y':0,'z':-0.51,'radius':0.6,'items':[{'id':'rh','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rhs','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rs','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'rc','x':0,'y':0,'z':0,'radius':0.025,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'head','x':0,'y':0,'z':0,'radius':0.5,'items':[{'id':'hd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fc','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ey','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'hr','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'hrb','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fa','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ea','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ha','x':0,'y':0,'z':0,'radius':0.08,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'he','x':0,'y':0,'z':0,'radius':0.09,'nx':0,'ny':0,'nz':-1,'double':false}]}]},{'id':'swim','bodyParts':[{'id':'torso','x':0,'y':0,'z':0.0,'radius':0.4,'items':[{'id':'bds','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'ss','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false}]},{'id':'head','x':0,'y':0,'z':0,'radius':0.5,'items':[{'id':'hd','x':0,'y':0,'z':0,'radius':0.01,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fc','x':0,'y':0,'z':0,'radius':0.02,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ey','x':0,'y':0,'z':0,'radius':0.03,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'hr','x':0,'y':0,'z':0,'radius':0.04,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'hrb','x':0,'y':0,'z':0,'radius':0.05,'nx':0,'ny':0,'nz':-1,'double':true},{'id':'fa','x':0,'y':0,'z':0,'radius':0.06,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ea','x':0,'y':0,'z':0,'radius':0.07,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'ha','x':0,'y':0,'z':0,'radius':0.08,'nx':0,'ny':0,'nz':-1,'double':false},{'id':'he','x':0,'y':0,'z':0,'radius':0.09,'nx':0,'ny':0,'nz':-1,'double':false}]}]}]}};\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/data/HabboAvatarPartSets.ts\nconst HabboAvatarPartSets={'partSets':{'partSet':[{'setType':'ri','flippedSetType':'ri'},{'setType':'ri','flippedSetType':'ri'},{'setType':'rh','flippedSetType':'lh'},{'setType':'rhs','flippedSetType':'lhs'},{'setType':'rs','swim':'0','flippedSetType':'ls'},{'setType':'rc','flippedSetType':'lc'},{'setType':'bd'},{'setType':'bds'},{'setType':'ss'},{'setType':'sh'},{'setType':'lg'},{'setType':'ch'},{'setType':'cp'},{'setType':'cc'},{'setType':'hd'},{'setType':'fc'},{'setType':'ey'},{'setType':'hr'},{'setType':'hrb','removeSetType':'hr'},{'setType':'li','flippedSetType':'li'},{'setType':'lh','flippedSetType':'rh'},{'setType':'lhs','flippedSetType':'rhs'},{'setType':'ls','flippedSetType':'rs'},{'setType':'lc','flippedSetType':'rc'},{'setType':'wa'},{'setType':'ea'},{'setType':'ca'},{'setType':'fa'},{'setType':'ha'},{'setType':'he'}],'activePartSets':[{'id':'figure','activeParts':[{'setType':'rh'},{'setType':'rh'},{'setType':'rhs'},{'setType':'rs'},{'setType':'rc'},{'setType':'bd'},{'setType':'bds'},{'setType':'ss'},{'setType':'sh'},{'setType':'lg'},{'setType':'ch'},{'setType':'cp'},{'setType':'cc'},{'setType':'wa'},{'setType':'hd'},{'setType':'fc'},{'setType':'ey'},{'setType':'hr'},{'setType':'hrb'},{'setType':'lh'},{'setType':'lhs'},{'setType':'ls'},{'setType':'lc'},{'setType':'ea'},{'setType':'ca'},{'setType':'fa'},{'setType':'ha'},{'setType':'he'}]},{'id':'head','activeParts':[{'setType':'hd'},{'setType':'fc'},{'setType':'ey'},{'setType':'hr'},{'setType':'hrb'},{'setType':'ea'},{'setType':'fa'},{'setType':'ha'},{'setType':'he'}]},{'id':'speak','activeParts':[{'setType':'hd'},{'setType':'hr'},{'setType':'hrb'},{'setType':'fc'},{'setType':'fa'},{'setType':'ha'}]},{'id':'gesture','activeParts':[{'setType':'ey'},{'setType':'fc'}]},{'id':'eye','activeParts':[{'setType':'ey'}]},{'id':'handRight','activeParts':[{'setType':'rh'},{'setType':'rhs'},{'setType':'rs'},{'setType':'rc'},{'setType':'ri'}]},{'id':'handRightAndHead','activeParts':[{'setType':'rh'},{'setType':'rhs'},{'setType':'rs'},{'setType':'rc'},{'setType':'ri'},{'setType':'ey'},{'setType':'fc'},{'setType':'hd'}]},{'id':'handLeft','activeParts':[{'setType':'lh'},{'setType':'lhs'},{'setType':'ls'},{'setType':'lc'},{'setType':'li'}]},{'id':'walk','activeParts':[{'setType':'bd'},{'setType':'bds'},{'setType':'ss'},{'setType':'lg'},{'setType':'lh'},{'setType':'lhs'},{'setType':'rh'},{'setType':'rhs'},{'setType':'ls'},{'setType':'lc'},{'setType':'rs'},{'setType':'rc'},{'setType':'sh'}]},{'id':'sit','activeParts':[{'setType':'bd'},{'setType':'bds'},{'setType':'ss'},{'setType':'lg'},{'setType':'sh'},{'setType':'cc'}]},{'id':'itemRight','activeParts':[{'setType':'ri'}]}]}};\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/events/AvatarRenderEffectLibraryEvent.ts\nclass AvatarRenderEffectLibraryEvent_AvatarRenderEffectLibraryEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,library){super(type);this._library=void 0;this._library=library;}get library(){return this._library;}}AvatarRenderEffectLibraryEvent_AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE='ARELE_DOWNLOAD_COMPLETE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/EffectAssetDownloadLibrary.ts\nclass EffectAssetDownloadLibrary_EffectAssetDownloadLibrary extends EventDispatcher_EventDispatcher{constructor(id,revision,assets,assetUrl){super();this._state=void 0;this._libraryName=void 0;this._revision=void 0;this._downloadUrl=void 0;this._assets=void 0;this._animation=void 0;this._state=EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.NOT_LOADED;this._libraryName=id;this._revision=revision;this._downloadUrl=assetUrl;this._assets=assets;this._animation=null;this._downloadUrl=this._downloadUrl.replace(/%libname%/gi,this._libraryName);this._downloadUrl=this._downloadUrl.replace(/%revision%/gi,this._revision);const asset=this._assets.getCollection(this._libraryName);if(asset)this._state=EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADED;}downloadAsset(){if(!this._assets||this._state===EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADING||this._state===EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADED)return;const asset=this._assets.getCollection(this._libraryName);if(asset){this._state=EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADED;this.dispatchEvent(new AvatarRenderEffectLibraryEvent_AvatarRenderEffectLibraryEvent(AvatarRenderEffectLibraryEvent_AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,this));return;}this._state=EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADING;this._assets.downloadAsset(this._downloadUrl,flag=>{if(flag){this._state=EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADED;const collection=this._assets.getCollection(this._libraryName);if(collection)this._animation=collection.data.animations;this.dispatchEvent(new AvatarRenderEffectLibraryEvent_AvatarRenderEffectLibraryEvent(AvatarRenderEffectLibraryEvent_AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,this));}});}get libraryName(){return this._libraryName;}get animation(){return this._animation;}get isLoaded(){return this._state===EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADED;}}EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.DOWNLOAD_COMPLETE='EADL_DOWNLOAD_COMPLETE';EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.NOT_LOADED=0;EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADING=1;EffectAssetDownloadLibrary_EffectAssetDownloadLibrary.LOADED=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/EffectAssetDownloadManager.ts\nclass EffectAssetDownloadManager_EffectAssetDownloadManager extends EventDispatcher_EventDispatcher{constructor(assets,structure){super();this._assets=void 0;this._structure=void 0;this._missingMandatoryLibs=void 0;this._effectMap=void 0;this._initDownloadBuffer=void 0;this._effectListeners=void 0;this._incompleteEffects=void 0;this._pendingDownloadQueue=void 0;this._currentDownloads=void 0;this._libraryNames=void 0;this._isReady=void 0;this._assets=assets;this._structure=structure;this._missingMandatoryLibs=Nitro_Nitro.instance.getConfiguration('avatar.mandatory.effect.libraries');this._effectMap=new Map();this._effectListeners=new Map();this._incompleteEffects=new Map();this._initDownloadBuffer=[];this._pendingDownloadQueue=[];this._currentDownloads=[];this._libraryNames=[];this._isReady=false;this.onLibraryLoaded=this.onLibraryLoaded.bind(this);this.onAvatarRenderReady=this.onAvatarRenderReady.bind(this);this.loadEffectMap();this._structure.renderManager.events.addEventListener(AvatarRenderEvent.AVATAR_RENDER_READY,this.onAvatarRenderReady);}loadEffectMap(){const request=new XMLHttpRequest();try{request.open('GET',Nitro_Nitro.instance.getConfiguration('avatar.effectmap.url'));request.send();request.onloadend=e=>{if(request.responseText){const data=JSON.parse(request.responseText);this.processEffectMap(data.effects);this.processMissingLibraries();this._isReady=true;this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](EffectAssetDownloadManager_EffectAssetDownloadManager.DOWNLOADER_READY));}};request.onerror=e=>{throw new Error('invalid_avatar_effect_map');};}catch(e){NitroLogger.log(e);}}processEffectMap(data){if(!data)return;for(const effect of data){if(!effect)continue;const id=effect.id;const lib=effect.lib;const revision=effect.revision||'';if(this._libraryNames.indexOf(lib)>=0)continue;this._libraryNames.push(lib);const downloadLibrary=new EffectAssetDownloadLibrary_EffectAssetDownloadLibrary(lib,revision,this._assets,Nitro_Nitro.instance.getConfiguration('avatar.asset.effect.url'));downloadLibrary.addEventListener(AvatarRenderEffectLibraryEvent_AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,this.onLibraryLoaded);let existing=this._effectMap.get(id);if(!existing)existing=[];existing.push(downloadLibrary);this._effectMap.set(id,existing);}}downloadAvatarEffect(id,listener){if(!this._isReady||!this._structure.renderManager.isReady){this._initDownloadBuffer.push([id,listener]);return;}const pendingLibraries=this.getAvatarEffectPendingLibraries(id);if(pendingLibraries&&pendingLibraries.length){if(listener&&!listener.disposed){let listeners=this._effectListeners.get(id.toString());if(!listeners)listeners=[];listeners.push(listener);this._effectListeners.set(id.toString(),listeners);}this._incompleteEffects.set(id.toString(),pendingLibraries);for(const library of pendingLibraries){if(!library)continue;this.downloadLibrary(library);}}else{if(listener&&!listener.disposed)listener.resetEffect(id);}}onAvatarRenderReady(event){if(!event)return;for(const[id,listener]of this._initDownloadBuffer){this.downloadAvatarEffect(id,listener);}this._initDownloadBuffer=[];}onLibraryLoaded(event){if(!event||!event.library)return;const loadedEffects=[];this._structure.registerAnimation(event.library.animation);for(const[id,libraries]of this._incompleteEffects.entries()){let isReady=true;for(const library of libraries){if(!library||library.isLoaded)continue;isReady=false;break;}if(isReady){loadedEffects.push(id);const listeners=this._effectListeners.get(id);for(const listener of listeners){if(!listener||listener.disposed)continue;listener.resetEffect(parseInt(id));}this._effectListeners.delete(id);this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](EffectAssetDownloadManager_EffectAssetDownloadManager.LIBRARY_LOADED));}}for(const id of loadedEffects)this._incompleteEffects.delete(id);let index=0;while(index<this._currentDownloads.length){const download=this._currentDownloads[index];if(download){if(download.libraryName===event.library.libraryName)this._currentDownloads.splice(index,1);}index++;}}processMissingLibraries(){const libraries=this._missingMandatoryLibs.slice();for(const library of libraries){if(!library)continue;const map=this._effectMap.get(library);if(map)for(const effect of map)effect&&this.downloadLibrary(effect);}}isAvatarEffectReady(effect){if(!this._isReady||!this._structure.renderManager.isReady){return false;}const pendingLibraries=this.getAvatarEffectPendingLibraries(effect);return!pendingLibraries.length;}getAvatarEffectPendingLibraries(id){const pendingLibraries=[];if(!this._structure)return pendingLibraries;const libraries=this._effectMap.get(id.toString());if(libraries){for(const library of libraries){if(!library||library.isLoaded)continue;if(pendingLibraries.indexOf(library)===-1)pendingLibraries.push(library);}}return pendingLibraries;}downloadLibrary(library){if(!library||library.isLoaded)return;if(this._pendingDownloadQueue.indexOf(library)>=0||this._currentDownloads.indexOf(library)>=0)return;this._pendingDownloadQueue.push(library);this.processDownloadQueue();}processDownloadQueue(){while(this._pendingDownloadQueue.length){const library=this._pendingDownloadQueue[0];library.downloadAsset();this._currentDownloads.push(this._pendingDownloadQueue.shift());}}}EffectAssetDownloadManager_EffectAssetDownloadManager.DOWNLOADER_READY='EADM_DOWNLOADER_READY';EffectAssetDownloadManager_EffectAssetDownloadManager.LIBRARY_LOADED='EADM_LIBRARY_LOADED';EffectAssetDownloadManager_EffectAssetDownloadManager.MAX_DOWNLOADS=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/PlaceHolderAvatarImage.ts\nclass PlaceHolderAvatarImage_PlaceHolderAvatarImage extends AvatarImage_AvatarImage{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){super(k,_arg_2,_arg_3,_arg_4,_arg_5,null);}isPlaceholder(){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/AvatarStructureDownload.ts\nclass AvatarStructureDownload_AvatarStructureDownload extends EventDispatcher_EventDispatcher{constructor(downloadUrl,dataReceiver){super();this._dataReceiver=void 0;this._dataReceiver=dataReceiver;this.download(downloadUrl);}download(url){const request=new XMLHttpRequest();try{request.open('GET',url);request.send();request.onloadend=e=>{const response=request.responseText;if(!response||!response.length)throw new Error('invalid_figure_data');if(this._dataReceiver)this._dataReceiver.appendJSON(JSON.parse(response));this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](AvatarStructureDownload_AvatarStructureDownload.AVATAR_STRUCTURE_DONE));};request.onerror=e=>{throw new Error('invalid_avatar_figure_data');};}catch(e){NitroLogger.log(e);}}}AvatarStructureDownload_AvatarStructureDownload.AVATAR_STRUCTURE_DONE='AVATAR_STRUCTURE_DONE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/AvatarRenderManager.ts\nclass AvatarRenderManager_AvatarRenderManager extends NitroManager_NitroManager{constructor(){super();this._aliasCollection=void 0;this._structure=void 0;this._avatarAssetDownloadManager=void 0;this._effectAssetDownloadManager=void 0;this._placeHolderFigure=void 0;this._figureMapReady=void 0;this._effectMapReady=void 0;this._actionsReady=void 0;this._structureReady=void 0;this._geometryReady=void 0;this._partSetsReady=void 0;this._animationsReady=void 0;this._isReady=void 0;this._structure=null;this._avatarAssetDownloadManager=null;this._placeHolderFigure=null;this._figureMapReady=false;this._effectMapReady=false;this._actionsReady=false;this._geometryReady=false;this._partSetsReady=false;this._animationsReady=false;this._isReady=false;this.onAvatarAssetDownloaderReady=this.onAvatarAssetDownloaderReady.bind(this);this.onAvatarAssetDownloaded=this.onAvatarAssetDownloaded.bind(this);this.onEffectAssetDownloaderReady=this.onEffectAssetDownloaderReady.bind(this);this.onEffectAssetDownloaded=this.onEffectAssetDownloaded.bind(this);this.onAvatarStructureDownloadDone=this.onAvatarStructureDownloadDone.bind(this);}onInit(){this._structure=new AvatarStructure_AvatarStructure(this);this.loadGeometry();this.loadPartSets();this.loadActions();this.loadAnimations();this.loadFigureData();this._aliasCollection=new AssetAliasCollection_AssetAliasCollection(this,Nitro_Nitro.instance.core.asset);this._aliasCollection.init();if(!this._avatarAssetDownloadManager){this._avatarAssetDownloadManager=new AvatarAssetDownloadManager_AvatarAssetDownloadManager(Nitro_Nitro.instance.core.asset,this._structure);this._avatarAssetDownloadManager.addEventListener(AvatarAssetDownloadManager_AvatarAssetDownloadManager.DOWNLOADER_READY,this.onAvatarAssetDownloaderReady);this._avatarAssetDownloadManager.addEventListener(AvatarAssetDownloadManager_AvatarAssetDownloadManager.LIBRARY_LOADED,this.onAvatarAssetDownloaded);}if(!this._effectAssetDownloadManager){this._effectAssetDownloadManager=new EffectAssetDownloadManager_EffectAssetDownloadManager(Nitro_Nitro.instance.core.asset,this._structure);this._effectAssetDownloadManager.addEventListener(EffectAssetDownloadManager_EffectAssetDownloadManager.DOWNLOADER_READY,this.onEffectAssetDownloaderReady);this._effectAssetDownloadManager.addEventListener(EffectAssetDownloadManager_EffectAssetDownloadManager.LIBRARY_LOADED,this.onEffectAssetDownloaded);}this.checkReady();}onDispose(){if(this._avatarAssetDownloadManager){this._avatarAssetDownloadManager.removeEventListener(AvatarAssetDownloadManager_AvatarAssetDownloadManager.DOWNLOADER_READY,this.onAvatarAssetDownloaderReady);this._avatarAssetDownloadManager.removeEventListener(AvatarAssetDownloadManager_AvatarAssetDownloadManager.LIBRARY_LOADED,this.onAvatarAssetDownloaded);}if(this._effectAssetDownloadManager){this._effectAssetDownloadManager.removeEventListener(EffectAssetDownloadManager_EffectAssetDownloadManager.DOWNLOADER_READY,this.onEffectAssetDownloaderReady);this._effectAssetDownloadManager.removeEventListener(EffectAssetDownloadManager_EffectAssetDownloadManager.LIBRARY_LOADED,this.onEffectAssetDownloaded);}}loadGeometry(){if(!this._structure)return;this._structure.initGeometry(HabboAvatarGeometry.geometry);this._geometryReady=true;this.checkReady();}loadPartSets(){if(!this._structure)return;this._structure.initPartSets(HabboAvatarPartSets.partSets);this._partSetsReady=true;this.checkReady();}loadActions(){const defaultActions=Nitro_Nitro.instance.getConfiguration('avatar.default.actions');if(defaultActions)this._structure.initActions(Nitro_Nitro.instance.core.asset,defaultActions);const request=new XMLHttpRequest();try{request.open('GET',Nitro_Nitro.instance.getConfiguration('avatar.actions.url'));request.send();request.onloadend=e=>{if(!this._structure)return;this._structure.updateActions(JSON.parse(request.responseText));this._actionsReady=true;this.checkReady();};request.onerror=e=>{throw new Error('invalid_avatar_actions');};}catch(e){this.logger.error(e);}}loadAnimations(){if(!this._structure)return;this._structure.initAnimation(HabboAvatarAnimations.animations);this._animationsReady=true;this.checkReady();}loadFigureData(){const defaultFigureData=Nitro_Nitro.instance.getConfiguration('avatar.default.figuredata');if(!defaultFigureData||typeof defaultFigureData==='string'){NitroLogger.log('XML figuredata is no longer supported.');return;}if(this._structure)this._structure.initFigureData(defaultFigureData);const structureDownloader=new AvatarStructureDownload_AvatarStructureDownload(Nitro_Nitro.instance.getConfiguration('avatar.figuredata.url'),this._structure.figureData);structureDownloader.addEventListener(AvatarStructureDownload_AvatarStructureDownload.AVATAR_STRUCTURE_DONE,this.onAvatarStructureDownloadDone);}onAvatarStructureDownloadDone(event){this._structureReady=true;this._structure.init();this.checkReady();}onAvatarAssetDownloaderReady(event){if(!event)return;this._figureMapReady=true;this.checkReady();}onAvatarAssetDownloaded(event){if(!event)return;this._aliasCollection.reset();}onEffectAssetDownloaderReady(event){if(!event)return;this._effectMapReady=true;this.checkReady();}onEffectAssetDownloaded(event){if(!event)return;this._aliasCollection.reset();}checkReady(){if(this._isReady)return;if(!this._geometryReady||!this._partSetsReady||!this._actionsReady||!this._animationsReady||!this._figureMapReady||!this._effectMapReady||!this._structureReady)return;this._isReady=true;if(this.events)this.events.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](AvatarRenderEvent.AVATAR_RENDER_READY));}createFigureContainer(figure){return new AvatarFigureContainer(figure);}isFigureContainerReady(container){if(!this._avatarAssetDownloadManager)return false;return this._avatarAssetDownloadManager.isAvatarFigureContainerReady(container);}createAvatarImage(figure,size,gender){let listener=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let effectListener=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(!this._structure||!this._avatarAssetDownloadManager)return null;const figureContainer=new AvatarFigureContainer(figure);if(gender)this.validateAvatarFigure(figureContainer,gender);if(this._avatarAssetDownloadManager.isAvatarFigureContainerReady(figureContainer)){return new AvatarImage_AvatarImage(this._structure,this._aliasCollection,figureContainer,size,this._effectAssetDownloadManager,effectListener);}if(!this._placeHolderFigure)this._placeHolderFigure=new AvatarFigureContainer(AvatarRenderManager_AvatarRenderManager.DEFAULT_FIGURE);this._avatarAssetDownloadManager.downloadAvatarFigure(figureContainer,listener);return new PlaceHolderAvatarImage_PlaceHolderAvatarImage(this._structure,this._aliasCollection,this._placeHolderFigure,size,this._effectAssetDownloadManager);}downloadAvatarFigure(container,listener){if(!this._avatarAssetDownloadManager)return;this._avatarAssetDownloadManager.downloadAvatarFigure(container,listener);}validateAvatarFigure(container,gender){let isValid=false;const typeIds=this._structure.getMandatorySetTypeIds(gender,2);if(typeIds){const figureData=this._structure.figureData;for(const id of typeIds){if(!container.hasPartType(id)){const figurePartSet=this._structure.getDefaultPartSet(id,gender);if(figurePartSet){container.updatePart(id,figurePartSet.id,[0]);isValid=true;}}else{const setType=figureData.getSetType(id);if(setType){const figurePartSet=setType.getPartSet(container.getPartSetId(id));if(!figurePartSet){const partSet=this._structure.getDefaultPartSet(id,gender);if(partSet){container.updatePart(id,partSet.id,[0]);isValid=true;}}}}}}return!isValid;}getFigureClubLevel(container,gender){let searchParts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!this._structure)return 0;const figureData=this._structure.figureData;const parts=Array.from(container.getPartTypeIds());let clubLevel=0;for(const part of parts){const set=figureData.getSetType(part);if(!set)continue;const setId=container.getPartSetId(part);const partSet=set.getPartSet(setId);if(partSet){clubLevel=Math.max(partSet.clubLevel,clubLevel);const palette=figureData.getPalette(set.paletteID);const colors=container.getPartColorIds(part);for(const colorId of colors){const color=palette.getColor(colorId);if(!color)continue;clubLevel=Math.max(color.clubLevel,clubLevel);}}}if(!searchParts)searchParts=this._structure.getBodyPartsUnordered(AvatarSetType.FULL);for(const part of searchParts){const set=figureData.getSetType(part);if(!set)continue;if(parts.indexOf(part)===-1)clubLevel=Math.max(set.optionalFromClubLevel(gender),clubLevel);}return clubLevel;}isValidFigureSetForGender(setId,gender){const structure=this.structureData;const partSet=structure.getFigurePartSet(setId);return!!(partSet&&(partSet.gender.toUpperCase()==='U'||partSet.gender.toUpperCase()===gender.toUpperCase()));}getFigureStringWithFigureIds(k,_arg_2,_arg_3){const container=new FigureDataContainer();container.loadAvatarData(k,_arg_2);const partSets=this.resolveFigureSets(_arg_3);for(const partSet of partSets){container.savePartData(partSet.type,partSet.id,container.getColourIds(partSet.type));}return container.getFigureString();}resolveFigureSets(k){const structure=this.structureData;const partSets=[];for(const _local_4 of k){const partSet=structure.getFigurePartSet(_local_4);if(partSet)partSets.push(partSet);}return partSets;}getMandatoryAvatarPartSetIds(k,_arg_2){if(!this._structure)return null;return this._structure.getMandatorySetTypeIds(k,_arg_2);}getAssetByName(name){return this._aliasCollection.getAsset(name);}get assets(){return Nitro_Nitro.instance.core.asset;}get isReady(){return this._isReady;}get structure(){return this._structure;}get structureData(){if(this._structure)return this._structure.figureData;return null;}get downloadManager(){return this._avatarAssetDownloadManager;}}AvatarRenderManager_AvatarRenderManager.DEFAULT_FIGURE='hd-99999-99999';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/events/RoomObjectEvent.ts\nclass RoomObjectEvent_RoomObjectEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,object){super(type);this._object=void 0;this._object=object;}get object(){return this._object;}get objectId(){if(!this._object)return-1;return this._object.id;}get objectType(){if(!this._object)return null;return this._object.type;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/events/RoomObjectMouseEvent.ts\nclass RoomObjectMouseEvent_RoomObjectMouseEvent extends RoomObjectEvent_RoomObjectEvent{constructor(type,object,eventId){let altKey=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let ctrlKey=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let shiftKey=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let buttonDown=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;super(type,object);this._eventId='';this._altKey=void 0;this._ctrlKey=void 0;this._shiftKey=void 0;this._buttonDown=void 0;this._localX=void 0;this._localY=void 0;this._spriteOffsetX=void 0;this._spriteOffsetY=void 0;this._eventId=eventId;this._altKey=altKey;this._ctrlKey=ctrlKey;this._shiftKey=shiftKey;this._buttonDown=buttonDown;}get eventId(){return this._eventId;}get altKey(){return this._altKey;}get ctrlKey(){return this._ctrlKey;}get shiftKey(){return this._shiftKey;}get buttonDown(){return this._buttonDown;}get localX(){return this._localX;}set localX(k){this._localX=k;}get localY(){return this._localY;}set localY(k){this._localY=k;}get spriteOffsetX(){return this._spriteOffsetX;}set spriteOffsetX(k){this._spriteOffsetX=k;}get spriteOffsetY(){return this._spriteOffsetY;}set spriteOffsetY(k){this._spriteOffsetY=k;}}RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK='ROE_MOUSE_CLICK';RoomObjectMouseEvent_RoomObjectMouseEvent.DOUBLE_CLICK='ROE_MOUSE_DOUBLE_CLICK';RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_MOVE='ROE_MOUSE_MOVE';RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN='ROE_MOUSE_DOWN';RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN_LONG='ROE_MOUSE_DOWN_LONG';RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_UP='ROE_MOUSE_UP';RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_ENTER='ROE_MOUSE_ENTER';RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_LEAVE='ROE_MOUSE_LEAVE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/events/RoomSpriteMouseEvent.ts\nclass RoomSpriteMouseEvent{constructor(type,eventId,canvasId,spriteTag,screenX,screenY){let localX=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;let localY=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let ctrlKey=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let altKey=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;let shiftKey=arguments.length>10&&arguments[10]!==undefined?arguments[10]:false;let buttonDown=arguments.length>11&&arguments[11]!==undefined?arguments[11]:false;this._type=void 0;this._eventId=void 0;this._canvasId=void 0;this._spriteTag=void 0;this._screenX=void 0;this._screenY=void 0;this._localX=void 0;this._localY=void 0;this._ctrlKey=void 0;this._altKey=void 0;this._shiftKey=void 0;this._buttonDown=void 0;this._spriteOffsetX=void 0;this._spriteOffsetY=void 0;this._type=type;this._eventId=eventId;this._canvasId=canvasId;this._spriteTag=spriteTag;this._screenX=screenX;this._screenY=screenY;this._localX=localX;this._localY=localY;this._ctrlKey=ctrlKey;this._altKey=altKey;this._shiftKey=shiftKey;this._buttonDown=buttonDown;this._spriteOffsetX=0;this._spriteOffsetY=0;}get type(){return this._type;}get eventId(){return this._eventId;}get canvasId(){return this._canvasId;}get spriteTag(){return this._spriteTag;}get screenX(){return this._screenX;}get screenY(){return this._screenY;}get localX(){return this._localX;}get localY(){return this._localY;}get ctrlKey(){return this._ctrlKey;}get altKey(){return this._altKey;}get shiftKey(){return this._shiftKey;}get buttonDown(){return this._buttonDown;}get spriteOffsetX(){return this._spriteOffsetX;}set spriteOffsetX(k){this._spriteOffsetX=k;}get spriteOffsetY(){return this._spriteOffsetY;}set spriteOffsetY(k){this._spriteOffsetY=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/events/RoomToObjectEvent.ts\nclass RoomToObjectEvent_RoomToObjectEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type){super(type);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/IRoomInstance.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/IRoomInstanceContainer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/IRoomManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/IRoomManagerListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/IRoomObjectManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/messages/RoomObjectUpdateMessage.ts\nclass RoomObjectUpdateMessage{constructor(location,direction){this._location=void 0;this._direction=void 0;this._location=location;this._direction=direction;}get location(){return this._location;}get direction(){return this._direction;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/messages/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/enum/AlphaTolerance.ts\nclass AlphaTolerance{}AlphaTolerance.MATCH_ALL_PIXELS=-1;AlphaTolerance.MATCH_OPAQUE_PIXELS=128;AlphaTolerance.MATCH_NOTHING=256;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/enum/RoomObjectSpriteType.ts\nclass RoomObjectSpriteType{}RoomObjectSpriteType.DEFAULT=1;RoomObjectSpriteType.ROOM_PLANE=2;RoomObjectSpriteType.AVATAR=3;RoomObjectSpriteType.AVATAR_OWN=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/enum/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/IRoomObject.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/IRoomObjectController.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/IRoomObjectModel.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/IRoomObjectModelController.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/logic/IRoomObjectEventHandler.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/logic/IRoomObjectLogicFactory.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/logic/IRoomObjectMouseHandler.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/logic/RoomObjectLogicBase.ts\nclass RoomObjectLogicBase_RoomObjectLogicBase extends Disposable{constructor(){super();this._events=void 0;this._object=void 0;this._time=void 0;this._object=null;this._events=null;this._time=0;}initialize(data){return;}onDispose(){this._object=null;}update(time){this._time=time;return;}processUpdateMessage(message){if(!message||!this._object)return;this._object.setLocation(message.location);this._object.setDirection(message.direction);}getEventTypes(){return[];}mergeTypes(k,_arg_2){const types=k.concat();for(const type of _arg_2){if(!type||types.indexOf(type)>=0)continue;types.push(type);}return types;}mouseEvent(event,geometry){return;}useObject(){return;}setObject(object){if(this._object===object)return;if(this._object){this._object.setLogic(null);}if(!object){this.dispose();this._object=null;return;}this._object=object;this._object.setLogic(this);}tearDown(){return;}get object(){return this._object;}get eventDispatcher(){return this._events;}set eventDispatcher(events){this._events=events;}get widget(){return null;}get contextMenu(){return null;}get time(){return this._time;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/logic/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IPlaneDrawingData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IPlaneVisualization.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IRoomObjectGraphicVisualization.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IRoomObjectSprite.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IRoomObjectSpriteVisualization.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IRoomObjectVisualization.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IRoomObjectVisualizationData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IRoomObjectVisualizationFactory.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/IRoomPlane.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/ISortableSprite.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/RoomObjectSprite.ts\nclass RoomObjectSprite_RoomObjectSprite{constructor(){this._id=void 0;this._name=void 0;this._type=void 0;this._spriteType=void 0;this._texture=void 0;this._container=void 0;this._width=void 0;this._height=void 0;this._offsetX=void 0;this._offsetY=void 0;this._flipH=void 0;this._flipV=void 0;this._direction=void 0;this._alpha=void 0;this._blendMode=void 0;this._color=void 0;this._relativeDepth=void 0;this._varyingDepth=void 0;this._libraryAssetName=void 0;this._clickHandling=void 0;this._visible=void 0;this._tag=void 0;this._posture=void 0;this._alphaTolerance=void 0;this._filters=void 0;this._updateCounter=void 0;this._updateContainer=void 0;this._id=RoomObjectSprite_RoomObjectSprite.SPRITE_COUNTER++;this._name='';this._type='';this._spriteType=RoomObjectSpriteType.DEFAULT;this._texture=null;this._container=null;this._width=0;this._height=0;this._offsetX=0;this._offsetY=0;this._flipH=false;this._flipV=false;this._direction=0;this._alpha=255;this._blendMode=constants[\"b\" /* BLEND_MODES */].NORMAL;this._color=0xFFFFFF;this._relativeDepth=0;this._varyingDepth=false;this._libraryAssetName='';this._clickHandling=false;this._visible=true;this._tag='';this._posture=null;this._alphaTolerance=AlphaTolerance.MATCH_OPAQUE_PIXELS;this._filters=[];this._updateCounter=0;this._updateContainer=false;}dispose(){this._texture=null;this._width=0;this._height=0;}get id(){return this._id;}set id(id){this._id=id;}get name(){return this._name;}set name(name){if(this._name===name)return;this._name=name;this._updateCounter++;}get type(){return this._type;}set type(type){this._type=type;}get spriteType(){return this._spriteType;}set spriteType(type){this._spriteType=type;}get texture(){return this._texture;}set texture(texture){if(this._texture===texture)return;if(texture){this._width=texture.width;this._height=texture.height;}this._texture=texture;this._updateCounter++;}get container(){return this._container;}set container(container){if(this._container===container)return;this.texture=esm_core[\"t\" /* Texture */].EMPTY;if(container){this._width=container.width;this._height=container.height;}this._container=container;this._updateCounter++;this._updateContainer=true;}get width(){return this._width;}get height(){return this._height;}get offsetX(){return this._offsetX;}set offsetX(x){if(this._offsetX===x)return;this._offsetX=x;this._updateCounter++;}get offsetY(){return this._offsetY;}set offsetY(y){if(this._offsetY===y)return;this._offsetY=y;this._updateCounter++;}get flipH(){return this._flipH;}set flipH(flip){if(this._flipH===flip)return;this._flipH=flip;this._updateCounter++;}get flipV(){return this._flipV;}set flipV(flip){if(this._flipV===flip)return;this._flipV=flip;this._updateCounter++;}get direction(){return this._direction;}set direction(direction){this._direction=direction;}get alpha(){return this._alpha;}set alpha(alpha){alpha=alpha&0xFF;if(this._alpha===alpha)return;this._alpha=alpha;this._updateCounter++;}get blendMode(){return this._blendMode;}set blendMode(blend){if(this._blendMode===blend)return;this._blendMode=blend;this._updateCounter++;}get color(){return this._color;}set color(color){color=color&0xFFFFFF;if(this._color===color)return;this._color=color;this._updateCounter++;}get relativeDepth(){return this._relativeDepth;}set relativeDepth(depth){if(this._relativeDepth===depth)return;this._relativeDepth=depth;this._updateCounter++;}get varyingDepth(){return this._varyingDepth;}set varyingDepth(flag){if(flag===this._varyingDepth)return;this._varyingDepth=flag;this._updateCounter++;}get libraryAssetName(){return this._libraryAssetName;}set libraryAssetName(value){this._libraryAssetName=value;}get clickHandling(){return this._clickHandling;}set clickHandling(flag){this._clickHandling=flag;}get visible(){return this._visible;}set visible(visible){if(this._visible===visible)return;this._visible=visible;this._updateCounter++;}get tag(){return this._tag;}set tag(tag){if(this._tag===tag)return;this._tag=tag;this._updateCounter++;}get posture(){return this._posture;}set posture(posture){if(this._posture===posture)return;this._posture=posture;this._updateCounter++;}get alphaTolerance(){return this._alphaTolerance;}set alphaTolerance(tolerance){if(this._alphaTolerance===tolerance)return;this._alphaTolerance=tolerance;this._updateCounter++;}get filters(){return this._filters;}set filters(filters){this._filters=filters;this._updateCounter++;}get updateCounter(){return this._updateCounter;}get updateContainer(){return this._updateContainer;}set updateContainer(flag){this._updateContainer=flag;}}RoomObjectSprite_RoomObjectSprite.SPRITE_COUNTER=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/RoomObjectSpriteVisualization.ts\nclass RoomObjectSpriteVisualization_RoomObjectSpriteVisualization{constructor(){this._id=void 0;this._object=void 0;this._asset=void 0;this._sprites=void 0;this._scale=void 0;this._updateObjectCounter=void 0;this._updateModelCounter=void 0;this._updateSpriteCounter=void 0;this._id=RoomObjectSpriteVisualization_RoomObjectSpriteVisualization.VISUALIZATION_COUNTER++;this._object=null;this._asset=null;this._sprites=[];this._scale=-1;this._updateObjectCounter=-1;this._updateModelCounter=-1;this._updateSpriteCounter=-1;}initialize(data){return false;}update(geometry,time,update,skipUpdate){return;}reset(){this._scale=-1;}dispose(){if(this._sprites){while(this._sprites.length){const sprite=this._sprites[0];if(sprite)sprite.dispose();this._sprites.pop();}this._sprites=null;}this._object=null;this._asset=null;}getSprite(index){if(index>=0&&index<this._sprites.length)return this._sprites[index];return null;}getSpriteList(){return null;}createSprite(){return this.createSpriteAtIndex(this._sprites.length);}createSpriteAtIndex(index){const sprite=new RoomObjectSprite_RoomObjectSprite();if(index>=this._sprites.length){this._sprites.push(sprite);}else{this._sprites.splice(index,0,sprite);}return sprite;}createSprites(count){while(this._sprites.length>count){const sprite=this._sprites[this._sprites.length-1];if(sprite)sprite.dispose();this._sprites.pop();}while(this._sprites.length<count){this._sprites.push(new RoomObjectSprite_RoomObjectSprite());}}get image(){return this.getImage(0,-1);}getImage(bgColor,originalId){const boundingRectangle=this.getBoundingRectangle();if(boundingRectangle.width*boundingRectangle.height===0)return null;const spriteCount=this.totalSprites;const spriteList=[];let index=0;while(index<spriteCount){const objectSprite=this.getSprite(index);if(objectSprite&&objectSprite.visible&&objectSprite.texture)spriteList.push(objectSprite);index++;}spriteList.sort((a,b)=>{return b.relativeDepth-a.relativeDepth;});const container=new NitroContainer_NitroContainer();index=0;while(index<spriteList.length){const objectSprite=spriteList[index];const texture=objectSprite.texture;if(texture){const sprite=new NitroSprite_NitroSprite(texture);sprite.alpha=objectSprite.alpha/255;sprite.tint=objectSprite.color;sprite.x=objectSprite.offsetX;sprite.y=objectSprite.offsetY;sprite.blendMode=objectSprite.blendMode;sprite.filters=objectSprite.filters;if(objectSprite.flipH)sprite.scale.x=-1;if(objectSprite.flipV)sprite.scale.y=-1;container.addChild(sprite);}index++;}const texture=TextureUtils_TextureUtils.generateTexture(container);if(!texture)return null;return texture;}getBoundingRectangle(){const totalSprites=this.totalSprites;const rectangle=new math[\"j\" /* Rectangle */]();let iterator=0;while(iterator<totalSprites){const sprite=this.getSprite(iterator);if(sprite&&sprite.texture&&sprite.visible){const offsetX=sprite.flipH?-sprite.width+sprite.offsetX:sprite.offsetX;const offsetY=sprite.flipV?-sprite.height+sprite.offsetY:sprite.offsetY;const point=new math[\"g\" /* Point */](offsetX,offsetY);if(iterator===0){rectangle.x=point.x;rectangle.y=point.y;rectangle.width=sprite.width;rectangle.height=sprite.height;}else{if(point.x<rectangle.x)rectangle.x=point.x;if(point.y<rectangle.y)rectangle.y=point.y;if(point.x+sprite.width>rectangle.right)rectangle.width=point.x+sprite.width-rectangle.x;if(point.y+sprite.height>rectangle.bottom)rectangle.height=point.y+sprite.height-rectangle.y;}}iterator++;}return rectangle;}get instanceId(){return this._id;}get object(){return this._object;}set object(object){this._object=object;}get asset(){return this._asset;}set asset(asset){if(this._asset)this._asset.removeReference();this._asset=asset;if(this._asset)this._asset.addReference();}get sprites(){return this._sprites;}get totalSprites(){return this._sprites.length;}get updateObjectCounter(){return this._updateObjectCounter;}set updateObjectCounter(count){this._updateObjectCounter=count;}get updateModelCounter(){return this._updateModelCounter;}set updateModelCounter(count){this._updateModelCounter=count;}get updateSpriteCounter(){return this._updateSpriteCounter;}set updateSpriteCounter(count){this._updateSpriteCounter=count;}get spriteCount(){return this._sprites.length;}}RoomObjectSpriteVisualization_RoomObjectSpriteVisualization.VISUALIZATION_COUNTER=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/utils/GraphicAsset.ts\nclass GraphicAsset_GraphicAsset{constructor(){this._name=void 0;this._source=void 0;this._texture=void 0;this._usesPalette=void 0;this._x=void 0;this._y=void 0;this._width=void 0;this._height=void 0;this._flipH=void 0;this._flipV=void 0;this._rectangle=void 0;this._initialized=void 0;}static createAsset(name,source,texture,x,y){let flipH=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let flipV=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let usesPalette=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;const graphicAsset=GraphicAsset_GraphicAsset.GRAPHIC_POOL.length?GraphicAsset_GraphicAsset.GRAPHIC_POOL.pop():new GraphicAsset_GraphicAsset();graphicAsset._name=name;graphicAsset._source=source||null;if(texture){graphicAsset._texture=texture;graphicAsset._initialized=false;}else{graphicAsset._texture=null;graphicAsset._initialized=true;}graphicAsset._usesPalette=usesPalette;graphicAsset._x=x;graphicAsset._y=y;graphicAsset._flipH=flipH;graphicAsset._flipV=flipV;graphicAsset._rectangle=null;return graphicAsset;}recycle(){this._texture=null;GraphicAsset_GraphicAsset.GRAPHIC_POOL.push(this);}initialize(){if(this._initialized||!this._texture)return;this._width=this._texture.width;this._height=this._texture.height;this._initialized=true;}get name(){return this._name;}get source(){return this._source;}get texture(){return this._texture;}get usesPalette(){return this._usesPalette;}get x(){return this._x;}get y(){return this._y;}get width(){this.initialize();return this._width;}get height(){this.initialize();return this._height;}get offsetX(){if(!this._flipH)return this._x;return-this._x;}get offsetY(){if(!this._flipV)return this._y;return-this._y;}get flipH(){return this._flipH;}get flipV(){return this._flipV;}get rectangle(){if(!this._rectangle)this._rectangle=new math[\"j\" /* Rectangle */](0,0,this.width,this.height);return this._rectangle;}}GraphicAsset_GraphicAsset.GRAPHIC_POOL=[];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/ColorConverter.ts\nclass ColorConverter_ColorConverter{static hex2rgb(hex){let out=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];out[0]=(hex>>16&0xFF)/255;out[1]=(hex>>8&0xFF)/255;out[2]=(hex&0xFF)/255;return out;}static hex2rgba(hex){let out=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];out[0]=(hex>>16&0xFF)/255;out[1]=(hex>>8&0xFF)/255;out[2]=(hex&0xFF)/255;out[3]=hex&0xFF;return out;}static rgb2hex(rgb){return(rgb[0]*255<<16)+(rgb[1]*255<<8)+(rgb[2]*255|0);}static rgba2hex(rgb){return(rgb[0]*255<<16)+(rgb[1]*255<<8)+(rgb[2]*255|0)+(rgb[3]|0);}static rgbStringToHex(rgb){const extracted=rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);return'#'+ColorConverter_ColorConverter.getHex(extracted[1])+ColorConverter_ColorConverter.getHex(extracted[2])+ColorConverter_ColorConverter.getHex(extracted[3]);}static getHex(x){return isNaN(x)?'00':ColorConverter_ColorConverter.HEX_DIGITS[(x-x%16)/16]+ColorConverter_ColorConverter.HEX_DIGITS[x%16];}static int2rgb(color){color>>>=0;const b=color&0xFF;const g=(color&0xFF00)>>>8;const r=(color&0xFF0000)>>>16;const a=((color&0xFF000000)>>>24)/255;return'rgba('+[r,g,b,1].join(',')+')';}static rgbToHSL(k){const _local_2=(k>>16&0xFF)/0xFF;const _local_3=(k>>8&0xFF)/0xFF;const _local_4=(k&0xFF)/0xFF;const _local_5=Math.max(_local_2,_local_3,_local_4);const _local_6=Math.min(_local_2,_local_3,_local_4);const _local_7=_local_5-_local_6;let _local_8=0;let _local_9=0;let _local_10=0;if(_local_7==0){_local_8=0;}else{if(_local_5==_local_2){if(_local_3>_local_4){_local_8=60*(_local_3-_local_4)/_local_7;}else{_local_8=60*(_local_3-_local_4)/_local_7+360;}}else{if(_local_5==_local_3){_local_8=60*(_local_4-_local_2)/_local_7+120;}else{if(_local_5==_local_4){_local_8=60*(_local_2-_local_3)/_local_7+240;}}}}_local_9=0.5*(_local_5+_local_6);if(_local_7==0){_local_10=0;}else{if(_local_9<=0.5){_local_10=_local_7/_local_9*0.5;}else{_local_10=_local_7/(1-_local_9)*0.5;}}const _local_11=Math.round(_local_8/360*0xFF);const _local_12=Math.round(_local_10*0xFF);const _local_13=Math.round(_local_9*0xFF);const _local_14=(_local_11<<16)+(_local_12<<8)+_local_13;return _local_14;}static hslToRGB(k){let _local_12;let _local_13;let _local_14;let _local_15;let _local_16;const _local_2=(k>>16&0xFF)/0xFF;const _local_3=(k>>8&0xFF)/0xFF;const _local_4=(k&0xFF)/0xFF;let _local_5=0;let _local_6=0;let _local_7=0;if(_local_3>0){_local_12=0;_local_13=0;if(_local_4<0.5){_local_12=_local_4*(1+_local_3);}else{_local_12=_local_4+_local_3-_local_4*_local_3;}_local_13=2*_local_4-_local_12;_local_14=_local_2+1/3;_local_15=_local_2;_local_16=_local_2-1/3;if(_local_14<0){_local_14=_local_14+1;}else{if(_local_14>1){_local_14--;}}if(_local_15<0){_local_15=_local_15+1;}else{if(_local_15>1){_local_15--;}}if(_local_16<0){_local_16=_local_16+1;}else{if(_local_16>1){_local_16--;}}if(_local_14*6<1){_local_5=_local_13+(_local_12-_local_13)*6*_local_14;}else{if(_local_14*2<1){_local_5=_local_12;}else{if(_local_14*3<2){_local_5=_local_13+(_local_12-_local_13)*6*(2/3-_local_14);}else{_local_5=_local_13;}}}if(_local_15*6<1){_local_6=_local_13+(_local_12-_local_13)*6*_local_15;}else{if(_local_15*2<1){_local_6=_local_12;}else{if(_local_15*3<2){_local_6=_local_13+(_local_12-_local_13)*6*(2/3-_local_15);}else{_local_6=_local_13;}}}if(_local_16*6<1){_local_7=_local_13+(_local_12-_local_13)*6*_local_16;}else{if(_local_16*2<1){_local_7=_local_12;}else{if(_local_16*3<2){_local_7=_local_13+(_local_12-_local_13)*6*(2/3-_local_16);}else{_local_7=_local_13;}}}}else{_local_5=_local_4;_local_6=_local_4;_local_7=_local_4;}const _local_8=Math.round(_local_5*0xFF);const _local_9=Math.round(_local_6*0xFF);const _local_10=Math.round(_local_7*0xFF);const _local_11=(_local_8<<16)+(_local_9<<8)+_local_10;return _local_11;}static rgb2xyz(k){let _local_2=(k>>16&0xFF)/0xFF;let _local_3=(k>>8&0xFF)/0xFF;let _local_4=(k>>0&0xFF)/0xFF;if(_local_2>0.04045){_local_2=Math.pow((_local_2+0.055)/1.055,2.4);}else{_local_2=_local_2/12.92;}if(_local_3>0.04045){_local_3=Math.pow((_local_3+0.055)/1.055,2.4);}else{_local_3=_local_3/12.92;}if(_local_4>0.04045){_local_4=Math.pow((_local_4+0.055)/1.055,2.4);}else{_local_4=_local_4/12.92;}_local_2=_local_2*100;_local_3=_local_3*100;_local_4=_local_4*100;return new Vector3d(_local_2*0.4124+_local_3*0.3576+_local_4*0.1805,_local_2*0.2126+_local_3*0.7152+_local_4*0.0722,_local_2*0.0193+_local_3*0.1192+_local_4*0.9505);}static xyz2CieLab(k){let _local_2=k.x/95.047;let _local_3=k.y/100;let _local_4=k.z/108.883;if(_local_2>0.008856){_local_2=Math.pow(_local_2,1/3);}else{_local_2=7.787*_local_2+16/116;}if(_local_3>0.008856){_local_3=Math.pow(_local_3,1/3);}else{_local_3=7.787*_local_3+16/116;}if(_local_4>0.008856){_local_4=Math.pow(_local_4,1/3);}else{_local_4=7.787*_local_4+16/116;}return new Vector3d(116*_local_3-16,500*(_local_2-_local_3),200*(_local_3-_local_4));}static rgb2CieLab(k){return ColorConverter_ColorConverter.xyz2CieLab(ColorConverter_ColorConverter.rgb2xyz(k));}}ColorConverter_ColorConverter.HEX_DIGITS=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/IRoomGeometry.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/IVector3D.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/NumberBank.ts\nclass NumberBank{constructor(k){this._reservedNumbers=void 0;this._freeNumbers=void 0;if(k<0)k=0;this._reservedNumbers=[];this._freeNumbers=[];let i=0;while(i<k){this._freeNumbers.push(i);i++;}}dispose(){this._reservedNumbers=null;this._freeNumbers=null;}reserveNumber(){if(this._freeNumbers.length>0){const k=this._freeNumbers.pop();this._reservedNumbers.push(k);return k;}return-1;}freeNumber(k){const i=this._reservedNumbers.indexOf(k);if(i>=0){this._reservedNumbers.splice(i,1);this._freeNumbers.push(k);}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/PointMath.ts\nclass PointMath_PointMath{static sum(k,_arg_2){return new math[\"g\" /* Point */](k.x+_arg_2.x,k.y+_arg_2.y);}static sub(k,_arg_2){return new math[\"g\" /* Point */](k.x-_arg_2.x,k.y-_arg_2.y);}static mul(k,_arg_2){return new math[\"g\" /* Point */](k.x*_arg_2,k.y*_arg_2);}}\n// EXTERNAL MODULE: ./node_modules/@pixi/graphics/dist/esm/graphics.js\nvar esm_graphics = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/Rasterizer.ts\nclass Rasterizer_Rasterizer{// public static line(k:BitmapData, _arg_2: Point, _arg_3: Point, _arg_4: number): void\n// {\n//     var _local_5: number;\n//     var _local_6: number;\n//     var _local_7: number;\n//     var _local_8: number;\n//     var _local_9: number;\n//     var _local_10: number;\n//     var _local_11: number = _arg_2.x;\n//     var _local_12: number = _arg_2.y;\n//     _local_5 = (_arg_3.x - _arg_2.x);\n//     _local_6 = (_arg_3.y - _arg_2.y);\n//     _local_8 = ((_local_5 > 0) ? 1 : -1);\n//     _local_9 = ((_local_6 > 0) ? 1 : -1);\n//     _local_5 = Math.abs(_local_5);\n//     _local_6 = Math.abs(_local_6);\n//     k.lock();\n//     k.setPixel32(_local_11, _local_12, _arg_4);\n//     if (((_local_5 == 0) && (_local_6 == 0)))\n//     {\n//         return;\n//     }\n//     if (_local_5 > _local_6)\n//     {\n//         _local_7 = (_local_5 - 1);\n//         while (_local_7 >= 0)\n//         {\n//             _local_10 = (_local_10 + _local_6);\n//             _local_11 = (_local_11 + _local_8);\n//             if (_local_10 >= (_local_5 / 2))\n//             {\n//                 _local_10 = (_local_10 - _local_5);\n//                 _local_12 = (_local_12 + _local_9);\n//             }\n//             k.setPixel32(_local_11, _local_12, _arg_4);\n//             _local_7--;\n//         }\n//     }\n//     else\n//     {\n//         _local_7 = (_local_6 - 1);\n//         while (_local_7 >= 0)\n//         {\n//             _local_10 = (_local_10 + _local_5);\n//             _local_12 = (_local_12 + _local_9);\n//             if (_local_10 >= (_local_6 / 2))\n//             {\n//                 _local_10 = (_local_10 - _local_6);\n//                 _local_11 = (_local_11 + _local_8);\n//             }\n//             k.setPixel32(_local_11, _local_12, _arg_4);\n//             _local_7--;\n//         }\n//     }\n//     k.setPixel32(_arg_3.x, _arg_3.y, _arg_4);\n//     k.unlock();\n// }\nstatic getFlipHBitmapData(k){if(!k)return null;const matrix=new math[\"d\" /* Matrix */]();matrix.scale(-1,1);matrix.translate(k.width,0);const graphic=new esm_graphics[\"a\" /* Graphics */]();graphic.beginTextureFill({texture:k,matrix}).drawRect(0,0,k.width,k.height).endFill();return TextureUtils_TextureUtils.generateTexture(graphic);}static getFlipVBitmapData(k){if(!k)return null;const matrix=new math[\"d\" /* Matrix */]();matrix.scale(1,-1);matrix.translate(0,k.height);const graphic=new esm_graphics[\"a\" /* Graphics */]();graphic.beginTextureFill({texture:k,matrix}).drawRect(0,0,k.width,k.height).endFill();return TextureUtils_TextureUtils.generateTexture(graphic);}static getFlipHVBitmapData(k){if(!k)return null;const matrix=new math[\"d\" /* Matrix */]();matrix.scale(-1,-1);matrix.translate(k.width,k.height);const graphic=new esm_graphics[\"a\" /* Graphics */]();graphic.beginTextureFill({texture:k,matrix}).drawRect(0,0,k.width,k.height).endFill();return TextureUtils_TextureUtils.generateTexture(graphic);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/RoomEnterEffect.ts\nclass RoomEnterEffect_RoomEnterEffect{static init(delay,duration){RoomEnterEffect_RoomEnterEffect._currentDelta=0;RoomEnterEffect_RoomEnterEffect._startDelayMs=delay;RoomEnterEffect_RoomEnterEffect._effectDurationMs=duration;RoomEnterEffect_RoomEnterEffect._initializationTimeMs=Nitro_Nitro.instance.time;RoomEnterEffect_RoomEnterEffect._state=RoomEnterEffect_RoomEnterEffect.STATE_START_DELAY;}static turnVisualizationOn(){if(RoomEnterEffect_RoomEnterEffect._state===RoomEnterEffect_RoomEnterEffect.STATE_NOT_INITIALIZED||RoomEnterEffect_RoomEnterEffect._state===RoomEnterEffect_RoomEnterEffect.STATE_OVER)return;const k=Nitro_Nitro.instance.time-RoomEnterEffect_RoomEnterEffect._initializationTimeMs;if(k>RoomEnterEffect_RoomEnterEffect._startDelayMs+RoomEnterEffect_RoomEnterEffect._effectDurationMs){RoomEnterEffect_RoomEnterEffect._state=RoomEnterEffect_RoomEnterEffect.STATE_OVER;return;}RoomEnterEffect_RoomEnterEffect._visualizationOn=true;if(k<RoomEnterEffect_RoomEnterEffect._startDelayMs){RoomEnterEffect_RoomEnterEffect._state=RoomEnterEffect_RoomEnterEffect.STATE_START_DELAY;return;}RoomEnterEffect_RoomEnterEffect._state=RoomEnterEffect_RoomEnterEffect.STATE_RUNNING;RoomEnterEffect_RoomEnterEffect._currentDelta=(k-RoomEnterEffect_RoomEnterEffect._startDelayMs)/RoomEnterEffect_RoomEnterEffect._effectDurationMs;}static turnVisualizationOff(){RoomEnterEffect_RoomEnterEffect._visualizationOn=false;}static isVisualizationOn(){return RoomEnterEffect_RoomEnterEffect._visualizationOn&&RoomEnterEffect_RoomEnterEffect.isRunning();}static isRunning(){if(RoomEnterEffect_RoomEnterEffect._state===RoomEnterEffect_RoomEnterEffect.STATE_START_DELAY||RoomEnterEffect_RoomEnterEffect._state===RoomEnterEffect_RoomEnterEffect.STATE_RUNNING)return true;return false;}static getDelta(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return Math.min(Math.max(RoomEnterEffect_RoomEnterEffect._currentDelta,k),_arg_2);}static get totalRunningTime(){return RoomEnterEffect_RoomEnterEffect._startDelayMs+RoomEnterEffect_RoomEnterEffect._effectDurationMs;}}RoomEnterEffect_RoomEnterEffect.STATE_NOT_INITIALIZED=0;RoomEnterEffect_RoomEnterEffect.STATE_START_DELAY=1;RoomEnterEffect_RoomEnterEffect.STATE_RUNNING=2;RoomEnterEffect_RoomEnterEffect.STATE_OVER=3;RoomEnterEffect_RoomEnterEffect._state=RoomEnterEffect_RoomEnterEffect.STATE_NOT_INITIALIZED;RoomEnterEffect_RoomEnterEffect._visualizationOn=false;RoomEnterEffect_RoomEnterEffect._currentDelta=0;RoomEnterEffect_RoomEnterEffect._initializationTimeMs=0;RoomEnterEffect_RoomEnterEffect._startDelayMs=20*1000;RoomEnterEffect_RoomEnterEffect._effectDurationMs=2000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/RoomGeometry.ts\nclass RoomGeometry_RoomGeometry{constructor(scale,direction,location){let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;this._updateId=0;this._x=void 0;this._y=void 0;this._z=void 0;this._directionAxis=void 0;this._location=void 0;this._direction=void 0;this._depth=void 0;this._scale=1;this._x_scale=1;this._y_scale=1;this._z_scale=1;this._x_scale_internal=1;this._y_scale_internal=1;this._z_scale_internal=1;this._loc=void 0;this._dir=void 0;this._clipNear=-500;this._clipFar=500;this._displacements=null;this.scale=scale;this._x=new Vector3d();this._y=new Vector3d();this._z=new Vector3d();this._directionAxis=new Vector3d();this._location=new Vector3d();this._direction=new Vector3d();this._depth=new Vector3d();this._x_scale_internal=1;this._y_scale_internal=1;this.x_scale=1;this.y_scale=1;this._z_scale_internal=Math.sqrt(1/2)/Math.sqrt(3/4);this.z_scale=1;this.location=new Vector3d(location.x,location.y,location.z);this.direction=new Vector3d(direction.x,direction.y,direction.z);if(_arg_4!=null){this.setDepthVector(_arg_4);}else{this.setDepthVector(direction);}this._displacements=new Map();}static getIntersectionVector(k,_arg_2,_arg_3,_arg_4){const _local_5=Vector3d.dotProduct(_arg_2,_arg_4);if(Math.abs(_local_5)<1E-5){return null;}const _local_6=Vector3d.dif(k,_arg_3);const _local_7=-Vector3d.dotProduct(_arg_4,_local_6)/_local_5;const _local_8=Vector3d.sum(k,Vector3d.product(_arg_2,_local_7));return _local_8;}get updateId(){return this._updateId;}get scale(){return this._scale/Math.sqrt(0.5);}set scale(k){if(k<=1){k=1;}k=k*Math.sqrt(0.5);if(k!=this._scale){this._scale=k;this._updateId++;}}get directionAxis(){return this._directionAxis;}get location(){this._location.assign(this._loc);this._location.x=this._location.x*this._x_scale;this._location.y=this._location.y*this._y_scale;this._location.z=this._location.z*this._z_scale;return this._location;}set location(k){if(k==null){return;}if(this._loc==null){this._loc=new Vector3d();}const _local_2=this._loc.x;const _local_3=this._loc.y;const _local_4=this._loc.z;this._loc.assign(k);this._loc.x=this._loc.x/this._x_scale;this._loc.y=this._loc.y/this._y_scale;this._loc.z=this._loc.z/this._z_scale;if(!(this._loc.x==_local_2)||!(this._loc.y==_local_3)||!(this._loc.z==_local_4)){this._updateId++;}}get direction(){return this._direction;}set direction(k){let _local_21;let _local_22;let _local_23;let _local_24;let _local_25;if(k==null){return;}if(this._dir==null){this._dir=new Vector3d();}const _local_2=this._dir.x;const _local_3=this._dir.y;const _local_4=this._dir.z;this._dir.assign(k);this._direction.assign(k);if(!(this._dir.x==_local_2)||!(this._dir.y==_local_3)||!(this._dir.z==_local_4)){this._updateId++;}const _local_5=new Vector3d(0,1,0);const _local_6=new Vector3d(0,0,1);const _local_7=new Vector3d(1,0,0);const _local_8=k.x/180*Math.PI;const _local_9=k.y/180*Math.PI;const _local_10=k.z/180*Math.PI;const _local_11=Math.cos(_local_8);const _local_12=Math.sin(_local_8);const _local_13=Vector3d.sum(Vector3d.product(_local_5,_local_11),Vector3d.product(_local_7,-_local_12));const _local_14=new Vector3d(_local_6.x,_local_6.y,_local_6.z);const _local_15=Vector3d.sum(Vector3d.product(_local_5,_local_12),Vector3d.product(_local_7,_local_11));const _local_16=Math.cos(_local_9);const _local_17=Math.sin(_local_9);const _local_18=new Vector3d(_local_13.x,_local_13.y,_local_13.z);const _local_19=Vector3d.sum(Vector3d.product(_local_14,_local_16),Vector3d.product(_local_15,_local_17));const _local_20=Vector3d.sum(Vector3d.product(_local_14,-_local_17),Vector3d.product(_local_15,_local_16));if(_local_10!=0){_local_21=Math.cos(_local_10);_local_22=Math.sin(_local_10);_local_23=Vector3d.sum(Vector3d.product(_local_18,_local_21),Vector3d.product(_local_19,_local_22));_local_24=Vector3d.sum(Vector3d.product(_local_18,-_local_22),Vector3d.product(_local_19,_local_21));_local_25=new Vector3d(_local_20.x,_local_20.y,_local_20.z);this._x.assign(_local_23);this._y.assign(_local_24);this._z.assign(_local_25);this._directionAxis.assign(this._z);}else{this._x.assign(_local_18);this._y.assign(_local_19);this._z.assign(_local_20);this._directionAxis.assign(this._z);}}set x_scale(k){if(this._x_scale!=k*this._x_scale_internal){this._x_scale=k*this._x_scale_internal;this._updateId++;}}set y_scale(k){if(this._y_scale!=k*this._y_scale_internal){this._y_scale=k*this._y_scale_internal;this._updateId++;}}set z_scale(k){if(this._z_scale!=k*this._z_scale_internal){this._z_scale=k*this._z_scale_internal;this._updateId++;}}dispose(){this._x=null;this._y=null;this._z=null;this._loc=null;this._dir=null;this._directionAxis=null;this._location=null;if(this._displacements!=null){this._displacements.clear();this._displacements=null;}}setDisplacement(k,_arg_2){let _local_3;let _local_4;if(k==null||_arg_2==null){return;}if(this._displacements!=null){_local_3=Math.trunc(Math.round(k.x))+'_'+Math.trunc(Math.round(k.y))+'_'+Math.trunc(Math.round(k.z));this._displacements.delete(_local_3);_local_4=new Vector3d();_local_4.assign(_arg_2);this._displacements.set(_local_3,_local_4);this._updateId++;}}getDisplacenent(k){let _local_2;if(this._displacements!=null){_local_2=Math.trunc(Math.round(k.x))+'_'+Math.trunc(Math.round(k.y))+'_'+Math.trunc(Math.round(k.z));return this._displacements.get(_local_2);}return null;}setDepthVector(k){let _local_18;let _local_19;let _local_20;let _local_21;let _local_22;const _local_2=new Vector3d(0,1,0);const _local_3=new Vector3d(0,0,1);const _local_4=new Vector3d(1,0,0);const _local_5=k.x/180*Math.PI;const _local_6=k.y/180*Math.PI;const _local_7=k.z/180*Math.PI;const _local_8=Math.cos(_local_5);const _local_9=Math.sin(_local_5);const _local_10=Vector3d.sum(Vector3d.product(_local_2,_local_8),Vector3d.product(_local_4,-_local_9));const _local_11=new Vector3d(_local_3.x,_local_3.y,_local_3.z);const _local_12=Vector3d.sum(Vector3d.product(_local_2,_local_9),Vector3d.product(_local_4,_local_8));const _local_13=Math.cos(_local_6);const _local_14=Math.sin(_local_6);const _local_15=new Vector3d(_local_10.x,_local_10.y,_local_10.z);const _local_16=Vector3d.sum(Vector3d.product(_local_11,_local_13),Vector3d.product(_local_12,_local_14));const _local_17=Vector3d.sum(Vector3d.product(_local_11,-_local_14),Vector3d.product(_local_12,_local_13));if(_local_7!=0){_local_18=Math.cos(_local_7);_local_19=Math.sin(_local_7);_local_20=Vector3d.sum(Vector3d.product(_local_15,_local_18),Vector3d.product(_local_16,_local_19));_local_21=Vector3d.sum(Vector3d.product(_local_15,-_local_19),Vector3d.product(_local_16,_local_18));_local_22=new Vector3d(_local_17.x,_local_17.y,_local_17.z);this._depth.assign(_local_22);}else{this._depth.assign(_local_17);}this._updateId++;}adjustLocation(k,_arg_2){if(k==null||this._z==null){return;}const _local_3=Vector3d.product(this._z,-_arg_2);const _local_4=new Vector3d(k.x+_local_3.x,k.y+_local_3.y,k.z+_local_3.z);this.location=_local_4;}getCoordinatePosition(k){if(k==null){return null;}const _local_2=Vector3d.scalarProjection(k,this._x);const _local_3=Vector3d.scalarProjection(k,this._y);const _local_4=Vector3d.scalarProjection(k,this._z);const _local_5=new Vector3d(_local_2,_local_3,_local_4);return _local_5;}getScreenPosition(k){let _local_2=Vector3d.dif(k,this._loc);_local_2.x=_local_2.x*this._x_scale;_local_2.y=_local_2.y*this._y_scale;_local_2.z=_local_2.z*this._z_scale;let _local_3=Vector3d.scalarProjection(_local_2,this._depth);if(_local_3<this._clipNear||_local_3>this._clipFar){return null;}let _local_4=Vector3d.scalarProjection(_local_2,this._x);let _local_5=-Vector3d.scalarProjection(_local_2,this._y);_local_4=_local_4*this._scale;_local_5=_local_5*this._scale;const _local_6=this.getDisplacenent(k);if(_local_6!=null){_local_2=Vector3d.dif(k,this._loc);_local_2.add(_local_6);_local_2.x=_local_2.x*this._x_scale;_local_2.y=_local_2.y*this._y_scale;_local_2.z=_local_2.z*this._z_scale;_local_3=Vector3d.scalarProjection(_local_2,this._depth);}_local_2.x=_local_4;_local_2.y=_local_5;_local_2.z=_local_3;return _local_2;}getScreenPoint(k){const _local_2=this.getScreenPosition(k);if(_local_2==null){return null;}const _local_3=new math[\"g\" /* Point */](_local_2.x,_local_2.y);return _local_3;}getPlanePosition(k,_arg_2,_arg_3,_arg_4){let _local_15;let _local_16;const _local_5=k.x/this._scale;const _local_6=-k.y/this._scale;const _local_7=Vector3d.product(this._x,_local_5);_local_7.add(Vector3d.product(this._y,_local_6));const _local_8=new Vector3d(this._loc.x*this._x_scale,this._loc.y*this._y_scale,this._loc.z*this._z_scale);_local_8.add(_local_7);const _local_9=this._z;const _local_10=new Vector3d(_arg_2.x*this._x_scale,_arg_2.y*this._y_scale,_arg_2.z*this._z_scale);const _local_11=new Vector3d(_arg_3.x*this._x_scale,_arg_3.y*this._y_scale,_arg_3.z*this._z_scale);const _local_12=new Vector3d(_arg_4.x*this._x_scale,_arg_4.y*this._y_scale,_arg_4.z*this._z_scale);const _local_13=Vector3d.crossProduct(_local_11,_local_12);const _local_14=new Vector3d();_local_14.assign(RoomGeometry_RoomGeometry.getIntersectionVector(_local_8,_local_9,_local_10,_local_13));if(_local_14!=null){_local_14.subtract(_local_10);_local_15=Vector3d.scalarProjection(_local_14,_arg_3)/_local_11.length*_arg_3.length;_local_16=Vector3d.scalarProjection(_local_14,_arg_4)/_local_12.length*_arg_4.length;return new math[\"g\" /* Point */](_local_15,_local_16);}return null;}performZoom(){if(this.isZoomedIn()){this.scale=RoomGeometry_RoomGeometry.SCALE_ZOOMED_OUT;}else{this.scale=RoomGeometry_RoomGeometry.SCALE_ZOOMED_IN;}}isZoomedIn(){return this.scale==RoomGeometry_RoomGeometry.SCALE_ZOOMED_IN;}performZoomOut(){this.scale=RoomGeometry_RoomGeometry.SCALE_ZOOMED_OUT;}performZoomIn(){this.scale=RoomGeometry_RoomGeometry.SCALE_ZOOMED_IN;}}RoomGeometry_RoomGeometry.SCALE_ZOOMED_IN=64;RoomGeometry_RoomGeometry.SCALE_ZOOMED_OUT=32;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/RoomId.ts\nclass RoomId{static makeRoomPreviewerId(k){return(k&0xFFFF)+RoomId.PREVIEW_ROOM_ID_BASE;}static isRoomPreviewerId(k){return k>=RoomId.PREVIEW_ROOM_ID_BASE;}}RoomId.PREVIEW_ROOM_ID_BASE=0x7FFF0000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/RoomRotatingEffect.ts\nclass RoomRotatingEffect_RoomRotatingEffect{static init(_arg_1,_arg_2){this._SafeStr_4513=0;this._SafeStr_4515=_arg_1;this._SafeStr_4516=_arg_2;this._SafeStr_4514=Nitro_Nitro.instance.time;this._SafeStr_448=1;}static turnVisualizationOn(){if(this._SafeStr_448===0||this._SafeStr_448===3)return;if(!this._SafeStr_4524)this._SafeStr_4524=setTimeout(()=>this.turnVisualizationOff(),this._SafeStr_4516);const _local_1=Nitro_Nitro.instance.time-this._SafeStr_4514;if(_local_1>this._SafeStr_4515+this._SafeStr_4516){this._SafeStr_448=3;return;}this._SafeStr_4512=true;if(_local_1<this._SafeStr_4515){this._SafeStr_448=1;return;}this._SafeStr_448=2;this._SafeStr_4513=(_local_1-this._SafeStr_4515)/this._SafeStr_4516;}static turnVisualizationOff(){this._SafeStr_4512=false;clearTimeout(this._SafeStr_4524);this._SafeStr_4524=null;}static isVisualizationOn(){return this._SafeStr_4512&&this.isRunning();}static isRunning(){if(this._SafeStr_448===1||this._SafeStr_448===2)return true;return false;}}RoomRotatingEffect_RoomRotatingEffect.STATE_NOT_INITIALIZED=0;RoomRotatingEffect_RoomRotatingEffect.STATE_START_DELAY=1;RoomRotatingEffect_RoomRotatingEffect.STATE_RUNNING=2;RoomRotatingEffect_RoomRotatingEffect.STATE_OVER=3;RoomRotatingEffect_RoomRotatingEffect._SafeStr_448=0;RoomRotatingEffect_RoomRotatingEffect._SafeStr_4512=false;RoomRotatingEffect_RoomRotatingEffect._SafeStr_4513=0;RoomRotatingEffect_RoomRotatingEffect._SafeStr_4514=0;RoomRotatingEffect_RoomRotatingEffect._SafeStr_4515=20000;RoomRotatingEffect_RoomRotatingEffect._SafeStr_4516=5000;RoomRotatingEffect_RoomRotatingEffect._SafeStr_4524=void 0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/RoomShakingEffect.ts\nclass RoomShakingEffect_RoomShakingEffect{static init(_arg_1,_arg_2){this._SafeStr_4513=0;this._SafeStr_4515=_arg_1;this._SafeStr_4516=_arg_2;this._SafeStr_4514=Nitro_Nitro.instance.time;this._SafeStr_448=1;}static turnVisualizationOn(){if(this._SafeStr_448===0||this._SafeStr_448===3)return;if(!this._SafeStr_4524)this._SafeStr_4524=setTimeout(()=>this.turnVisualizationOff(),this._SafeStr_4516);const _local_1=Nitro_Nitro.instance.time-this._SafeStr_4514;if(_local_1>this._SafeStr_4515+this._SafeStr_4516){this._SafeStr_448=3;return;}this._SafeStr_4512=true;if(_local_1<this._SafeStr_4515){this._SafeStr_448=1;return;}this._SafeStr_448=2;this._SafeStr_4513=(_local_1-this._SafeStr_4515)/this._SafeStr_4516;}static turnVisualizationOff(){this._SafeStr_4512=false;clearTimeout(this._SafeStr_4524);this._SafeStr_4524=null;}static isVisualizationOn(){return this._SafeStr_4512&&this.isRunning();}static isRunning(){if(this._SafeStr_448===1||this._SafeStr_448===2)return true;return false;}}RoomShakingEffect_RoomShakingEffect.STATE_NOT_INITIALIZED=0;RoomShakingEffect_RoomShakingEffect.STATE_START_DELAY=1;RoomShakingEffect_RoomShakingEffect.STATE_RUNNING=2;RoomShakingEffect_RoomShakingEffect.STATE_OVER=3;RoomShakingEffect_RoomShakingEffect._SafeStr_448=0;RoomShakingEffect_RoomShakingEffect._SafeStr_4512=false;RoomShakingEffect_RoomShakingEffect._SafeStr_4513=void 0;RoomShakingEffect_RoomShakingEffect._SafeStr_4514=0;RoomShakingEffect_RoomShakingEffect._SafeStr_4515=20000;RoomShakingEffect_RoomShakingEffect._SafeStr_4516=5000;RoomShakingEffect_RoomShakingEffect._SafeStr_4524=void 0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/SpriteUtilities.ts\nclass SpriteUtilities_SpriteUtilities{static hex2int(hex){return parseInt(hex,16);}static inkToBlendMode(ink){if(ink=='ADD'||ink==33)return constants[\"b\" /* BLEND_MODES */].ADD;if(ink=='SUBTRACT')return constants[\"b\" /* BLEND_MODES */].SUBTRACT;if(ink=='DARKEN')return constants[\"b\" /* BLEND_MODES */].DARKEN;return constants[\"b\" /* BLEND_MODES */].NORMAL;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/utils/GraphicAssetPalette.ts\nclass GraphicAssetPalette_GraphicAssetPalette{constructor(palette,primaryColor,secondaryColor){this._palette=void 0;this._primaryColor=void 0;this._secondaryColor=void 0;this._palette=palette;while(this._palette.length<256)this._palette.push([0,0,0]);this._primaryColor=primaryColor;this._secondaryColor=secondaryColor;}dispose(){}applyPalette(texture){const sprite=new NitroSprite_NitroSprite(texture);const textureCanvas=TextureUtils_TextureUtils.generateCanvas(sprite);const textureCtx=textureCanvas.getContext('2d');const textureImageData=textureCtx.getImageData(0,0,textureCanvas.width,textureCanvas.height);const data=textureImageData.data;for(let i=0;i<data.length;i+=4){let paletteColor=this._palette[data[i+1]];if(paletteColor===undefined)paletteColor=[0,0,0];data[i]=paletteColor[0];data[i+1]=paletteColor[1];data[i+2]=paletteColor[2];}textureCtx.putImageData(textureImageData,0,0);return esm_core[\"t\" /* Texture */].from(textureCanvas);}get primaryColor(){return this._primaryColor;}get secondaryColor(){return this._secondaryColor;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/utils/IGraphicAsset.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/utils/IGraphicAssetCollection.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/utils/index.ts\n//export * from './GraphicAssetCollection';\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/cache/RoomObjectLocationCacheItem.ts\nclass RoomObjectLocationCacheItem_RoomObjectLocationCacheItem{constructor(accurateZ){this._roomObjectVariableAccurateZ=void 0;this._location=void 0;this._screenLocation=void 0;this._locationChanged=void 0;this._geometryUpdateId=void 0;this._objectUpdateId=void 0;this._roomObjectVariableAccurateZ=accurateZ||'';this._location=new Vector3d();this._screenLocation=new Vector3d();this._locationChanged=false;this._geometryUpdateId=-1;this._objectUpdateId=-1;}dispose(){this._screenLocation=null;}updateLocation(object,geometry){if(!object||!geometry)return null;let locationChanged=false;const location=object.getLocation();if(geometry.updateId!==this._geometryUpdateId||object.updateCounter!==this._objectUpdateId){this._objectUpdateId=object.updateCounter;if(geometry.updateId!==this._geometryUpdateId||location.x!==this._location.x||location.y!==this._location.y||location.z!==this._location.z){this._geometryUpdateId=geometry.updateId;this._location.assign(location);locationChanged=true;}}this._locationChanged=locationChanged;if(this._locationChanged){const screenLocation=geometry.getScreenPosition(location);if(!screenLocation)return null;const accurateZ=object.model.getValue(this._roomObjectVariableAccurateZ);if(isNaN(accurateZ)||accurateZ===0){const rounded=new Vector3d(Math.round(location.x),Math.round(location.y),location.z);if(rounded.x!==location.x||rounded.y!==location.y){const roundedScreen=geometry.getScreenPosition(rounded);this._screenLocation.assign(screenLocation);if(roundedScreen)this._screenLocation.z=roundedScreen.z;}else{this._screenLocation.assign(screenLocation);}}else{this._screenLocation.assign(screenLocation);}this._screenLocation.x=Math.round(this._screenLocation.x);this._screenLocation.y=Math.round(this._screenLocation.y);}return this._screenLocation;}get locationChanged(){return this._locationChanged;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/cache/RoomObjectSortableSpriteCacheItem.ts\nclass RoomObjectSortableSpriteCacheItem{constructor(){this._sprites=void 0;this._updateId1=void 0;this._updateId2=void 0;this._isEmpty=void 0;this._sprites=[];this._updateId1=-1;this._updateId2=-1;this._isEmpty=false;}get spriteCount(){return this._sprites.length;}get isEmpty(){return this._isEmpty;}dispose(){this.setSpriteCount(0);}addSprite(sprite){this._sprites.push(sprite);}getSprite(k){return this._sprites[k];}get sprites(){return this._sprites;}needsUpdate(k,_arg_2){if(k===this._updateId1&&_arg_2===this._updateId2)return false;this._updateId1=k;this._updateId2=_arg_2;return true;}setSpriteCount(k){if(k<this._sprites.length){let iterator=k;while(iterator<this._sprites.length){const sprite=this._sprites[iterator];if(sprite)sprite.dispose();iterator++;}this._sprites.splice(k,this._sprites.length-k);}this._isEmpty=this._sprites.length?false:true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/cache/RoomObjectCacheItem.ts\nclass RoomObjectCacheItem_RoomObjectCacheItem{constructor(accurateZ){this._objectId=void 0;this._location=void 0;this._sprites=void 0;this._location=new RoomObjectLocationCacheItem_RoomObjectLocationCacheItem(accurateZ);this._sprites=new RoomObjectSortableSpriteCacheItem();}get location(){return this._location;}get sprites(){return this._sprites;}dispose(){if(this._location){this._location.dispose();this._location=null;}if(this._sprites){this._sprites.dispose();this._sprites=null;}}get objectId(){return this._objectId;}set objectId(k){this._objectId=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/cache/RoomObjectCache.ts\nclass RoomObjectCache_RoomObjectCache{constructor(accurateZ){this._data=void 0;this._roomObjectVariableAccurateZ=void 0;this._data=new Map();this._roomObjectVariableAccurateZ=accurateZ;}dispose(){if(this._data){for(const[key,item]of this._data.entries()){if(!item)continue;this._data.delete(key);item.dispose();}this._data=null;}}getObjectCache(k){let existing=this._data.get(k);if(!existing){existing=new RoomObjectCacheItem_RoomObjectCacheItem(this._roomObjectVariableAccurateZ);this._data.set(k,existing);}return existing;}removeObjectCache(k){const existing=this._data.get(k);if(!existing)return;this._data.delete(k);existing.dispose();}getSortableSpriteList(){const spriteData=[];for(const item of this._data.values()){if(!item)continue;const sprites=item.sprites&&item.sprites.sprites;if(!sprites||!sprites.length)continue;for(const sprite of sprites){if(!sprite)continue;if(sprite.sprite.spriteType!==RoomObjectSpriteType.ROOM_PLANE&&sprite.sprite.name!==''){const data=new RoomObjectSpriteData();data.objectId=item.objectId;data.x=sprite.x;data.y=sprite.y;data.z=sprite.z;data.name=sprite.sprite.name||'';data.flipH=sprite.sprite.flipH;data.alpha=sprite.sprite.alpha;data.color=sprite.sprite.color.toString();data.blendMode=sprite.sprite.blendMode.toString();data.width=sprite.sprite.width;data.height=sprite.sprite.height;data.type=sprite.sprite.type;data.posture=sprite.sprite.posture;const isSkewed=this.isSkewedSprite(sprite.sprite);if(isSkewed){data.skew=sprite.sprite.direction%4===0?-0.5:0.5;}if((isSkewed||sprite.name.indexOf('%image.library.url%')>=0||sprite.name.indexOf('%group.badge.url%')>=0)&&data.width<=RoomObjectCache_RoomObjectCache.MAX_SIZE_FOR_AVG_COLOR&&data.height<=RoomObjectCache_RoomObjectCache.MAX_SIZE_FOR_AVG_COLOR){//data.color = Canvas._Str_23439(sprite.sprite.texture).toString();\nif(sprite.sprite.name.indexOf('external_image_wallitem')===0){data.frame=true;}}spriteData.push(data);}}}if(!spriteData||!spriteData.length)return null;return spriteData;}isSkewedSprite(k){if(!k.type)return false;if(k.type.indexOf('external_image_wallitem')===0&&k.tag==='THUMBNAIL')return true;if(k.type.indexOf('guild_forum')===0&&k.tag==='THUMBNAIL')return true;return false;}getPlaneSortableSprites(){const sprites=[];for(const item of this._data.values()){for(const sprite of item.sprites.sprites){if(sprite.sprite.spriteType===RoomObjectSpriteType.ROOM_PLANE)sprites.push(sprite);}}return sprites;}}RoomObjectCache_RoomObjectCache.MAX_SIZE_FOR_AVG_COLOR=200;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/cache/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/IRoomCanvasMouseListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/IRoomRenderer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/IRoomRendererBase.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/IRoomRendererFactory.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/IRoomRenderingCanvas.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/IRoomSpriteCanvasContainer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/MouseEventType.ts\nclass MouseEventType{}MouseEventType.MOUSE_CLICK='click';MouseEventType.DOUBLE_CLICK='double_click';MouseEventType.MOUSE_MOVE='mousemove';MouseEventType.MOUSE_DOWN='mousedown';MouseEventType.MOUSE_DOWN_LONG='mousedown_long';MouseEventType.MOUSE_UP='mouseup';MouseEventType.ROLL_OVER='mouseover';MouseEventType.ROLL_OUT='mouseout';MouseEventType.RIGHT_CLICK='contextmenu';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/utils/ExtendedSprite.ts\nclass ExtendedSprite_ExtendedSprite extends esm_sprite[\"a\" /* Sprite */]{constructor(){let texture=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;super(texture);this._offsetX=void 0;this._offsetY=void 0;this._tag=void 0;this._alphaTolerance=void 0;this._varyingDepth=void 0;this._clickHandling=void 0;this._pairedSpriteId=void 0;this._pairedSpriteUpdateCounter=void 0;this.name=void 0;this._offsetX=0;this._offsetY=0;this._tag='';this._alphaTolerance=128;this._varyingDepth=false;this._clickHandling=false;this._pairedSpriteId=-1;this._pairedSpriteUpdateCounter=-1;}needsUpdate(pairedSpriteId,pairedSpriteUpdateCounter){if(this._pairedSpriteId===pairedSpriteId&&this._pairedSpriteUpdateCounter===pairedSpriteUpdateCounter)return false;this._pairedSpriteId=pairedSpriteId;this._pairedSpriteUpdateCounter=pairedSpriteUpdateCounter;return true;}calculateVertices(){if(!this.texture.orig)return;super.calculateVertices();}setTexture(texture){if(!texture)texture=esm_core[\"t\" /* Texture */].EMPTY;if(texture===this.texture)return;if(texture===esm_core[\"t\" /* Texture */].EMPTY){this._pairedSpriteId=-1;this._pairedSpriteUpdateCounter=-1;}this.texture=texture;}containsPoint(point){return ExtendedSprite_ExtendedSprite.containsPoint(this,point);}static containsPoint(sprite,point){if(!sprite||!point||sprite.alphaTolerance>255)return false;if(!(sprite instanceof esm_sprite[\"a\" /* Sprite */]))return false;if(sprite.texture===esm_core[\"t\" /* Texture */].EMPTY||sprite.blendMode!==constants[\"b\" /* BLEND_MODES */].NORMAL)return;const texture=sprite.texture;const baseTexture=texture.baseTexture;if(!texture||!baseTexture||!baseTexture.valid)return false;const x=point.x*sprite.scale.x;const y=point.y*sprite.scale.y;if(!sprite.getLocalBounds().contains(x,y))return false;//@ts-ignore\nif(!baseTexture.hitMap){let canvas=null;if(!baseTexture.resource){//@ts-ignore\nif(!texture.getLocalBounds){const tempSprite=new NitroSprite_NitroSprite(texture);canvas=TextureUtils_TextureUtils.generateCanvas(tempSprite);tempSprite.destroy();}else{canvas=TextureUtils_TextureUtils.generateCanvas(texture);}}if(!ExtendedSprite_ExtendedSprite.generateHitMap(baseTexture,canvas))return false;}//@ts-ignore\nconst hitMap=baseTexture.hitMap;let dx=x+texture.frame.x;let dy=y+texture.frame.y;if(texture.trim){dx-=texture.trim.x;dy-=texture.trim.y;}dx=Math.round(dx)*baseTexture.resolution;dy=Math.round(dy)*baseTexture.resolution;const ind=dx+dy*baseTexture.realWidth;const ind1=ind%32;const ind2=ind/32|0;return(hitMap[ind2]&1<<ind1)!==0;}static generateHitMap(baseTexture){let tempCanvas=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let canvas=null;let context=null;if(tempCanvas){canvas=tempCanvas;context=canvas.getContext('2d');}else{if(!baseTexture.resource)return false;//@ts-ignore\nconst source=baseTexture.resource.source;if(!source)return false;if(source.getContext){canvas=source;context=canvas.getContext('2d');}else if(source instanceof Image){canvas=document.createElement('canvas');canvas.width=source.width;canvas.height=source.height;context=canvas.getContext('2d');context.drawImage(source,0,0);}else return false;}const width=canvas.width;const height=canvas.height;const imageData=context.getImageData(0,0,width,height);const hitmap=new Uint32Array(Math.ceil(width*height/32));const threshold=128;for(let i=0;i<width*height;i++){const ind1=i%32;const ind2=i/32|0;if(imageData.data[i*4+3]>=threshold){hitmap[ind2]=hitmap[ind2]|1<<ind1;}}//@ts-ignore\nbaseTexture.hitMap=hitmap;return true;}get offsetX(){return this._offsetX;}set offsetX(offset){this._offsetX=offset;}get offsetY(){return this._offsetY;}set offsetY(offset){this._offsetY=offset;}get tag(){return this._tag;}set tag(tag){this._tag=tag;}get alphaTolerance(){return this._alphaTolerance;}set alphaTolerance(tolerance){this._alphaTolerance=tolerance;}get varyingDepth(){return this._varyingDepth;}set varyingDepth(flag){this._varyingDepth=flag;}get clickHandling(){return this._clickHandling;}set clickHandling(flag){this._clickHandling=flag;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/utils/ObjectMouseData.ts\nclass ObjectMouseData{constructor(){this._objectId=void 0;this._spriteTag=void 0;this._objectId='';this._spriteTag='';}get objectId(){return this._objectId;}set objectId(k){this._objectId=k;}get spriteTag(){return this._spriteTag;}set spriteTag(k){this._spriteTag=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/utils/SortableSprite.ts\nclass SortableSprite{constructor(){this._name=void 0;this._sprite=void 0;this._x=void 0;this._y=void 0;this._z=void 0;this._name='';this._sprite=null;this._x=0;this._y=0;this._z=0;}dispose(){this._z=-SortableSprite.Z_INFINITY;this._sprite=null;}get name(){return this._name;}set name(name){this._name=name;}get sprite(){return this._sprite;}set sprite(sprite){this._sprite=sprite;}get x(){return this._x;}set x(x){this._x=x;}get y(){return this._y;}set y(y){this._y=y;}get z(){return this._z;}set z(z){this._z=z;}}SortableSprite.Z_INFINITY=100000000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/RoomSpriteCanvas.ts\nclass RoomSpriteCanvas_RoomSpriteCanvas{constructor(container,id,width,height,scale){this._id=void 0;this._container=void 0;this._geometry=void 0;this._animationFPS=void 0;this._renderTimestamp=void 0;this._totalTimeRunning=void 0;this._lastFrame=void 0;this._master=void 0;this._display=void 0;this._mask=void 0;this._sortableSprites=void 0;this._spriteCount=void 0;this._activeSpriteCount=void 0;this._spritePool=void 0;this._skipObjectUpdate=void 0;this._runningSlow=void 0;this._width=void 0;this._height=void 0;this._renderedWidth=void 0;this._renderedHeight=void 0;this._screenOffsetX=void 0;this._screenOffsetY=void 0;this._mouseLocation=void 0;this._mouseOldX=void 0;this._mouseOldY=void 0;this._mouseCheckCount=void 0;this._mouseSpriteWasHit=void 0;this._mouseActiveObjects=void 0;this._eventCache=void 0;this._eventId=void 0;this._scale=void 0;this._SafeStr_4507=false;this._rotation=0;this._rotationOrigin=null;this._rotationRodLength=0;this._effectDirection=void 0;this._effectLocation=void 0;this._SafeStr_795=0;this._restrictsScaling=void 0;this._noSpriteVisibilityChecking=void 0;this._usesExclusionRectangles=void 0;this._usesMask=void 0;this._canvasUpdated=void 0;this._objectCache=void 0;this._mouseListener=void 0;this._id=id;this._container=container;this._geometry=new RoomGeometry_RoomGeometry(scale,new Vector3d(-135,30,0),new Vector3d(11,11,5),new Vector3d(-135,0.5,0));this._animationFPS=Nitro_Nitro.instance.getConfiguration('system.animation.fps',24);this._renderTimestamp=0;this._totalTimeRunning=0;this._lastFrame=0;this._master=null;this._display=null;this._mask=null;this._sortableSprites=[];this._spriteCount=0;this._activeSpriteCount=0;this._spritePool=[];this._skipObjectUpdate=false;this._runningSlow=false;this._width=0;this._height=0;this._renderedWidth=0;this._renderedHeight=0;this._screenOffsetX=0;this._screenOffsetY=0;this._mouseLocation=new math[\"g\" /* Point */]();this._mouseOldX=0;this._mouseOldY=0;this._mouseCheckCount=0;this._mouseSpriteWasHit=false;this._mouseActiveObjects=new Map();this._eventCache=new Map();this._eventId=0;this._scale=1;this._restrictsScaling=false;this._noSpriteVisibilityChecking=false;this._usesExclusionRectangles=false;this._usesMask=true;this._canvasUpdated=false;this._objectCache=new RoomObjectCache_RoomObjectCache(this._container.roomObjectVariableAccurateZ);this._mouseListener=null;this.setupCanvas();this.initialize(width,height);}setupCanvas(){if(!this._master){this._master=new NitroSprite_NitroSprite();this._master.interactiveChildren=false;}if(!this._display){const display=new NitroContainer_NitroContainer();this._master.addChild(display);this._display=display;}}dispose(){this.cleanSprites(0,true);if(this._geometry){this._geometry.dispose();this._geometry=null;}if(this._mask)this._mask=null;if(this._objectCache){this._objectCache.dispose();this._objectCache=null;}if(this._master){while(this._master.children.length){const child=this._master.removeChildAt(0);child.destroy();}if(this._master.parent)this._master.parent.removeChild(this._master);this._master.destroy();this._master=null;}this._display=null;this._sortableSprites=[];if(this._mouseActiveObjects){this._mouseActiveObjects.clear();this._mouseActiveObjects=null;}if(this._spritePool){for(const sprite of this._spritePool){this.cleanSprite(sprite,true);}this._spritePool=[];}if(this._eventCache){this._eventCache.clear();this._eventCache=null;}this._mouseListener=null;}initialize(width,height){width=width<1?1:width;height=height<1?1:height;if(this._usesMask){if(!this._mask){this._mask=new esm_graphics[\"a\" /* Graphics */]().beginFill(0xFF0000).drawRect(0,0,width,height).endFill();if(this._master){this._master.addChild(this._mask);if(this._display)this._display.mask=this._mask;}}else{this._mask.clear().beginFill(0xFF0000).drawRect(0,0,width,height).endFill();}}if(this._master){if(this._master.hitArea){const hitArea=this._master.hitArea;hitArea.width=width;hitArea.height=height;}else{this._master.hitArea=new math[\"j\" /* Rectangle */](0,0,width,height);}if(this._master.filterArea){const filterArea=this._master.filterArea;filterArea.width=width;filterArea.height=height;}else{this._master.filterArea=new math[\"j\" /* Rectangle */](0,0,width,height);}}this._width=width;this._height=height;}setMask(flag){if(flag&&!this._usesMask){this._usesMask=true;if(this._mask&&this._mask.parent!==this._master){this._master.addChild(this._mask);this._display.mask=this._mask;}}else if(!flag&&this._usesMask){this._usesMask=false;if(this._mask&&this._mask.parent===this._master){this._master.removeChild(this._mask);this._display.mask=null;}}}setScale(scale){let point=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let offsetPoint=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let override=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let asDelta=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(!this._master||!this._display)return;if(this._restrictsScaling&&!override)return;if(!point)point=new math[\"g\" /* Point */](this._width/2,this._height/2);if(!offsetPoint)offsetPoint=point;point=this._display.toLocal(point);if(asDelta){this._scale*=scale;}else{this._scale=scale;}this.screenOffsetX=offsetPoint.x-point.x*this._scale;this.screenOffsetY=offsetPoint.y-point.y*this._scale;}render(time){let update=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._canvasUpdated=false;this._totalTimeRunning+=Nitro_Nitro.instance.ticker.deltaTime;if(this._totalTimeRunning===this._renderTimestamp)return;if(time===-1)time=this._renderTimestamp+1;if(!this._container||!this._geometry)return;if(this._width!==this._renderedWidth||this._height!==this._renderedHeight)update=true;if(this._display.x!==this._screenOffsetX||this._display.y!==this._screenOffsetY){this._display.x=this._screenOffsetX;this._display.y=this._screenOffsetY;update=true;}if(this._display.scale.x!==this._scale){this._display.scale.set(this._scale);update=true;}this.doMagic();const frame=Math.round(this._totalTimeRunning/(60/this._animationFPS));let updateVisuals=false;if(frame!==this._lastFrame){this._lastFrame=frame;updateVisuals=true;}let spriteCount=0;const objects=this._container.objects;if(objects.size){for(const object of objects.values()){if(!object)continue;spriteCount=spriteCount+this.renderObject(object,object.instanceId.toString(),time,update,updateVisuals,spriteCount);}}this._sortableSprites.sort((a,b)=>{return b.z-a.z;});if(spriteCount<this._sortableSprites.length){this._sortableSprites.splice(spriteCount);}let iterator=0;while(iterator<spriteCount){const sprite=this._sortableSprites[iterator];if(sprite&&sprite.sprite)this.renderSprite(iterator,sprite);iterator++;}this.cleanSprites(spriteCount);if(update||updateVisuals)this._canvasUpdated=true;this._renderTimestamp=this._totalTimeRunning;this._renderedWidth=this._width;this._renderedHeight=this._height;}skipSpriteVisibilityChecking(){this._noSpriteVisibilityChecking=true;this.render(-1,true);}resumeSpriteVisibilityChecking(){this._noSpriteVisibilityChecking=false;}getSortableSpriteList(){return this._objectCache.getSortableSpriteList();}getPlaneSortableSprites(){return this._objectCache.getPlaneSortableSprites();}removeFromCache(identifier){this._objectCache.removeObjectCache(identifier);}renderObject(object,identifier,time,update,updateVisuals,count){if(!object)return 0;const visualization=object.visualization;if(!visualization){this.removeFromCache(identifier);return 0;}const cache=this.getCacheItem(identifier);cache.objectId=object.instanceId;const locationCache=cache.location;const sortableCache=cache.sprites;const vector=locationCache.updateLocation(object,this._geometry);if(!vector){this.removeFromCache(identifier);return 0;}if(updateVisuals)visualization.update(this._geometry,time,!sortableCache.isEmpty||update,this._skipObjectUpdate&&this._runningSlow);if(locationCache.locationChanged)update=true;if(!sortableCache.needsUpdate(visualization.instanceId,visualization.updateSpriteCounter)&&!update){return sortableCache.spriteCount;}let x=vector.x;let y=vector.y;let z=vector.z;if(x>0)z=z+x*1.2E-7;else z=z+-x*1.2E-7;x=x+Math.trunc(this._width/2);y=y+Math.trunc(this._height/2);let spriteCount=0;for(const sprite of visualization.sprites.values()){if(!sprite||!sprite.visible)continue;const texture=sprite.texture;const baseTexture=texture&&texture.baseTexture;if(!texture||!baseTexture)continue;const spriteX=x+sprite.offsetX+this._screenOffsetX;const spriteY=y+sprite.offsetY+this._screenOffsetY;if(sprite.flipH){const checkX=x+-(texture.width+-sprite.offsetX)+this._screenOffsetX;if(!this.isSpriteVisible(checkX,spriteY,texture.width,texture.height))continue;}else if(sprite.flipV){const checkY=y+-(texture.height+-sprite.offsetY)+this._screenOffsetY;if(!this.isSpriteVisible(spriteX,checkY,texture.width,texture.height))continue;}else{if(!this.isSpriteVisible(spriteX,spriteY,texture.width,texture.height))continue;}let sortableSprite=sortableCache.getSprite(spriteCount);if(!sortableSprite){sortableSprite=new SortableSprite();sortableCache.addSprite(sortableSprite);this._sortableSprites.push(sortableSprite);sortableSprite.name=identifier;}sortableSprite.sprite=sprite;if(sprite.spriteType===RoomObjectSpriteType.AVATAR||sprite.spriteType===RoomObjectSpriteType.AVATAR_OWN){sortableSprite.sprite.libraryAssetName='avatar_'+object.id;}sortableSprite.x=spriteX-this._screenOffsetX;sortableSprite.y=spriteY-this._screenOffsetY;sortableSprite.z=z+sprite.relativeDepth+3.7E-11*count;spriteCount++;count++;}sortableCache.setSpriteCount(spriteCount);this._canvasUpdated=true;return spriteCount;}getExtendedSprite(index){if(index<0||index>=this._spriteCount)return null;const sprite=this._display.getChildAt(index);if(!sprite)return null;return sprite;}getExtendedSpriteIdentifier(sprite){if(!sprite)return'';return sprite.name;}renderSprite(index,sprite){if(index>=this._spriteCount){this.createAndAddSprite(sprite);return true;}if(!sprite)return false;const objectSprite=sprite.sprite;const extendedSprite=this.getExtendedSprite(index);if(!objectSprite||!extendedSprite)return false;if(extendedSprite.varyingDepth!==objectSprite.varyingDepth){if(extendedSprite.varyingDepth&&!objectSprite.varyingDepth){this._display.removeChildAt(index);this._spritePool.push(extendedSprite);return this.renderSprite(index,sprite);}this.createAndAddSprite(sprite,index);return true;}if(extendedSprite.needsUpdate(objectSprite.id,objectSprite.updateCounter)||RoomEnterEffect_RoomEnterEffect.isVisualizationOn()){extendedSprite.tag=objectSprite.tag;extendedSprite.alphaTolerance=objectSprite.alphaTolerance;extendedSprite.name=sprite.name;extendedSprite.varyingDepth=objectSprite.varyingDepth;extendedSprite.clickHandling=objectSprite.clickHandling;extendedSprite.filters=objectSprite.filters;const alpha=objectSprite.alpha/255;if(extendedSprite.alpha!==alpha)extendedSprite.alpha=alpha;if(extendedSprite.tint!==objectSprite.color)extendedSprite.tint=objectSprite.color;if(extendedSprite.blendMode!==objectSprite.blendMode)extendedSprite.blendMode=objectSprite.blendMode;if(extendedSprite.texture!==objectSprite.texture)extendedSprite.setTexture(objectSprite.texture);if(objectSprite.updateContainer){const length=extendedSprite.children.length;if(length===1)extendedSprite.removeChildAt(0);extendedSprite.addChild(objectSprite.container);objectSprite.updateContainer=false;}if(objectSprite.flipH){if(extendedSprite.scale.x!==-1)extendedSprite.scale.x=-1;}else{if(extendedSprite.scale.x!==1)extendedSprite.scale.x=1;}if(objectSprite.flipV){if(extendedSprite.scale.y!==-1)extendedSprite.scale.y=-1;}else{if(extendedSprite.scale.y!==1)extendedSprite.scale.y=1;}this.updateEnterRoomEffect(extendedSprite,objectSprite);}if(extendedSprite.x!==sprite.x)extendedSprite.x=sprite.x;if(extendedSprite.y!==sprite.y)extendedSprite.y=sprite.y;extendedSprite.offsetX=objectSprite.offsetX;extendedSprite.offsetY=objectSprite.offsetY;return true;}createAndAddSprite(sortableSprite){let index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;const sprite=sortableSprite.sprite;if(!sprite)return;let extendedSprite=null;if(this._spritePool.length>0)extendedSprite=this._spritePool.pop();if(!extendedSprite)extendedSprite=new ExtendedSprite_ExtendedSprite();if(extendedSprite.children.length)extendedSprite.removeChildren();extendedSprite.tag=sprite.tag;extendedSprite.alphaTolerance=sprite.alphaTolerance;extendedSprite.alpha=sprite.alpha/255;extendedSprite.tint=sprite.color;extendedSprite.x=sortableSprite.x;extendedSprite.y=sortableSprite.y;extendedSprite.offsetX=sprite.offsetX;extendedSprite.offsetY=sprite.offsetY;extendedSprite.name=sprite.name;extendedSprite.varyingDepth=sprite.varyingDepth;extendedSprite.clickHandling=sprite.clickHandling;extendedSprite.blendMode=sprite.blendMode;extendedSprite.filters=sprite.filters;extendedSprite.setTexture(sprite.texture);if(sprite.updateContainer){extendedSprite.addChild(sprite.container);sprite.updateContainer=false;}if(sprite.flipH)extendedSprite.scale.x=-1;if(sprite.flipV)extendedSprite.scale.y=-1;this.updateEnterRoomEffect(extendedSprite,sprite);if(index<0||index>=this._spriteCount){this._display.addChild(extendedSprite);this._spriteCount++;}else{this._display.addChildAt(extendedSprite,index);}this._activeSpriteCount++;}cleanSprites(spriteCount){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._display)return;if(spriteCount<0)spriteCount=0;if(spriteCount<this._activeSpriteCount||!this._activeSpriteCount){let iterator=this._spriteCount-1;while(iterator>=spriteCount){this.cleanSprite(this.getExtendedSprite(iterator),_arg_2);iterator--;}}this._activeSpriteCount=spriteCount;}updateEnterRoomEffect(sprite,_arg_2){if(!RoomEnterEffect_RoomEnterEffect.isVisualizationOn()||!_arg_2)return;switch(_arg_2.spriteType){case RoomObjectSpriteType.AVATAR_OWN:return;case RoomObjectSpriteType.ROOM_PLANE:sprite.alpha=RoomEnterEffect_RoomEnterEffect.getDelta(0.9);return;case RoomObjectSpriteType.AVATAR:sprite.alpha=RoomEnterEffect_RoomEnterEffect.getDelta(0.5);return;default:sprite.alpha=RoomEnterEffect_RoomEnterEffect.getDelta(0.1);}}cleanSprite(sprite,_arg_2){if(!sprite)return;if(!_arg_2){sprite.setTexture(null);}else{if(sprite.parent)sprite.parent.removeChild(sprite);sprite.destroy({children:true});}}update(){if(!this._mouseCheckCount){//this.checkMouseHits(this._mouseLocation.x, this._mouseLocation.y, MouseEventType.MOUSE_MOVE);\n}this._mouseCheckCount=0;this._eventId++;}setMouseListener(listener){this._mouseListener=listener;}getCacheItem(id){return this._objectCache.getObjectCache(id);}isSpriteVisible(x,y,width,height){if(this._noSpriteVisibilityChecking)return true;x=(x-this._screenOffsetX)*this._scale+this._screenOffsetX;y=(y-this._screenOffsetY)*this._scale+this._screenOffsetY;width=width*this._scale;height=height*this._scale;if(x<this._width&&x+width>=0&&y<this._height&&y+height>=0){if(!this._usesExclusionRectangles)return true;}return false;}handleMouseEvent(x,y,type,altKey,ctrlKey,shiftKey,buttonDown){x=x-this._screenOffsetX;y=y-this._screenOffsetY;this._mouseLocation.x=x/this._scale;this._mouseLocation.y=y/this._scale;if(this._mouseCheckCount>0&&type==MouseEventType.MOUSE_MOVE)return this._mouseSpriteWasHit;this._mouseSpriteWasHit=this.checkMouseHits(Math.trunc(x/this._scale),Math.trunc(y/this._scale),type,altKey,ctrlKey,shiftKey,buttonDown);this._mouseCheckCount++;return this._mouseSpriteWasHit;}checkMouseHits(x,y,type){let altKey=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let ctrlKey=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let shiftKey=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let buttonDown=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;const checkedSprites=[];let didHitSprite=false;let mouseEvent=null;let spriteId=this._activeSpriteCount-1;while(spriteId>=0){const extendedSprite=this.getExtendedSprite(spriteId);if(extendedSprite&&extendedSprite.containsPoint(new math[\"g\" /* Point */](x-extendedSprite.x,y-extendedSprite.y))){if(extendedSprite.clickHandling&&(type===MouseEventType.MOUSE_CLICK||type===MouseEventType.DOUBLE_CLICK)){//\n}else{const identifier=this.getExtendedSpriteIdentifier(extendedSprite);if(checkedSprites.indexOf(identifier)===-1){const tag=extendedSprite.tag;let mouseData=this._mouseActiveObjects.get(identifier);if(mouseData){if(mouseData.spriteTag!==tag){mouseEvent=this.createMouseEvent(0,0,0,0,MouseEventType.ROLL_OUT,mouseData.spriteTag,altKey,ctrlKey,shiftKey,buttonDown);this.bufferMouseEvent(mouseEvent,identifier);}}if(type===MouseEventType.MOUSE_MOVE&&(!mouseData||mouseData.spriteTag!==tag)){mouseEvent=this.createMouseEvent(x,y,x-extendedSprite.x,y-extendedSprite.y,MouseEventType.ROLL_OVER,tag,altKey,ctrlKey,shiftKey,buttonDown);}else{mouseEvent=this.createMouseEvent(x,y,x-extendedSprite.x,y-extendedSprite.y,type,tag,altKey,ctrlKey,shiftKey,buttonDown);mouseEvent.spriteOffsetX=extendedSprite.offsetX;mouseEvent.spriteOffsetY=extendedSprite.offsetY;}if(!mouseData){mouseData=new ObjectMouseData();mouseData.objectId=identifier;this._mouseActiveObjects.set(identifier,mouseData);}mouseData.spriteTag=tag;if(type!==MouseEventType.MOUSE_MOVE||x!==this._mouseOldX||y!==this._mouseOldY){this.bufferMouseEvent(mouseEvent,identifier);}checkedSprites.push(identifier);}didHitSprite=true;}}spriteId--;}const keys=[];for(const key of this._mouseActiveObjects.keys())key&&keys.push(key);let index=0;while(index<keys.length){const key=keys[index];if(checkedSprites.indexOf(key)>=0)keys[index]=null;index++;}index=0;while(index<keys.length){const key=keys[index];if(key!==null){const existing=this._mouseActiveObjects.get(key);if(existing)this._mouseActiveObjects.delete(key);const mouseEvent=this.createMouseEvent(0,0,0,0,MouseEventType.ROLL_OUT,existing.spriteTag,altKey,ctrlKey,shiftKey,buttonDown);this.bufferMouseEvent(mouseEvent,key);}index++;}this.processMouseEvents();this._mouseOldX=x;this._mouseOldY=y;return didHitSprite;}createMouseEvent(x,y,localX,localY,type,tag,altKey,ctrlKey,shiftKey,buttonDown){const screenX=x-this._width/2;const screenY=y-this._height/2;const canvasName=`canvas_${this._id}`;return new RoomSpriteMouseEvent(type,canvasName+'_'+this._eventId,canvasName,tag,screenX,screenY,localX,localY,ctrlKey,altKey,shiftKey,buttonDown);}bufferMouseEvent(k,_arg_2){if(!k||!this._eventCache)return;this._eventCache.delete(_arg_2);this._eventCache.set(_arg_2,k);}processMouseEvents(){if(!this._container||!this._eventCache)return;for(const[key,event]of this._eventCache.entries()){if(!this._eventCache)return;if(!event)continue;const roomObject=this._container.getRoomObject(parseInt(key));if(!roomObject)continue;if(this._mouseListener){this._mouseListener.processRoomCanvasMouseEvent(event,roomObject,this._geometry);}else{const logic=roomObject.mouseHandler;if(logic){logic.mouseEvent(event,this._geometry);}}}if(this._eventCache)this._eventCache.clear();}getDisplayAsTexture(){this._noSpriteVisibilityChecking=true;const k=this._scale;const _local_2=this._screenOffsetX;const _local_3=this._screenOffsetY;this.setScale(1,null,null,true);this._screenOffsetX=0;this._screenOffsetY=0;this.render(-1,true);this._display.mask=null;const bounds=this._display.getBounds();const renderTexture=esm_core[\"o\" /* RenderTexture */].create({width:this._display.width,height:this._display.height});Nitro_Nitro.instance.renderer.render(this._display,{renderTexture,clear:true,transform:new math[\"d\" /* Matrix */](1,0,0,1,-bounds.x,-bounds.y)});this._display.mask=this._mask;this._noSpriteVisibilityChecking=false;this.setScale(k,null,null,true);this._screenOffsetX=_local_2;this._screenOffsetY=_local_3;return renderTexture;}doMagic(){const geometry=this.geometry;if(this._rotation!==0){let direction=this._effectDirection;geometry.direction=new Vector3d(direction.x+this._rotation,direction.y,direction.z);direction=geometry.direction;geometry.setDepthVector(new Vector3d(direction.x,direction.y,5));const location=new Vector3d();location.assign(this._rotationOrigin);location.x=location.x+this._rotationRodLength*Math.cos((direction.x+180)/180*3.14159265358979)*Math.cos(direction.y/180*3.14159265358979);location.y=location.y+this._rotationRodLength*Math.sin((direction.x+180)/180*3.14159265358979)*Math.cos(direction.y/180*3.14159265358979);location.z=location.z+this._rotationRodLength*Math.sin(direction.y/180*3.14159265358979);geometry.location=location;this._effectLocation=new Vector3d();this._effectLocation.assign(location);this._effectDirection=new Vector3d();this._effectDirection.assign(geometry.direction);}if(RoomShakingEffect_RoomShakingEffect.isVisualizationOn()&&!this._SafeStr_4507){this.changeShaking();}else{if(!RoomShakingEffect_RoomShakingEffect.isVisualizationOn()&&this._SafeStr_4507)this.changeShaking();}if(RoomRotatingEffect_RoomRotatingEffect.isVisualizationOn())this.changeRotation();if(this._SafeStr_4507){this._SafeStr_795++;const _local_4=this._effectDirection;const _local_1=Vector3d.sum(_local_4,new Vector3d(Math.sin(this._SafeStr_795*5/180*3.14159265358979)*2,Math.sin(this._SafeStr_795/180*3.14159265358979)*5,Math.sin(this._SafeStr_795*10/180*3.14159265358979)*2));geometry.direction=_local_1;}else{this._SafeStr_795=0;geometry.direction=this._effectDirection;}}changeShaking(){this._SafeStr_4507=!this._SafeStr_4507;if(this._SafeStr_4507){const direction=this.geometry.direction;this._effectDirection=new Vector3d(direction.x,direction.y,direction.z);}}changeRotation(){if(this._SafeStr_4507)return;const geometry=this.geometry;if(!geometry)return;if(this._rotation===0){const location=geometry.location;const directionAxis=geometry.directionAxis;this._effectLocation=new Vector3d();this._effectLocation.assign(location);this._effectDirection=new Vector3d();this._effectDirection.assign(geometry.direction);const intersection=RoomGeometry_RoomGeometry.getIntersectionVector(location,directionAxis,new Vector3d(0,0,0),new Vector3d(0,0,1));if(intersection!==null){this._rotationOrigin=new Vector3d(intersection.x,intersection.y,intersection.z);this._rotationRodLength=Vector3d.dif(intersection,location).length;this._rotation=1;}return;}this._rotation=0;geometry.location=this._effectLocation;geometry.direction=this._effectDirection;geometry.setDepthVector(new Vector3d(this._effectDirection.x,this._effectDirection.y,5));}moveLeft(){if(this._rotation!==0){if(this._rotation===1){this._rotation=-1;}else{this._rotation=this._rotation-1;}return;}const geometry=this.geometry;const direction=(geometry.direction.x-90)/180*3.14159265358979;geometry.location=Vector3d.sum(geometry.location,new Vector3d(Math.cos(direction)*Math.sqrt(2),Math.sin(direction)*Math.sqrt(2)));}moveRight(){if(this._rotation!==0){if(this._rotation===-1){this._rotation=1;}else{this._rotation=this._rotation+1;}return;}const geometry=this.geometry;const direction=(geometry.direction.x+90)/180*3.14159265358979;geometry.location=Vector3d.sum(geometry.location,new Vector3d(Math.cos(direction)*Math.sqrt(2),Math.sin(direction)*Math.sqrt(2)));}moveUp(){if(this._rotation!==0)return;const geometry=this.geometry;const direction=geometry.direction.x/180*3.14159265358979;geometry.location=Vector3d.sum(geometry.location,new Vector3d(Math.cos(direction)*Math.sqrt(2),Math.sin(direction)*Math.sqrt(2)));}moveDown(){if(this._rotation!==0)return;const geometry=this.geometry;const direction=(geometry.direction.x+180)/180*3.14159265358979;geometry.location=Vector3d.sum(geometry.location,new Vector3d(Math.cos(direction)*Math.sqrt(2),Math.sin(direction)*Math.sqrt(2)));}get id(){return this._id;}get geometry(){return this._geometry;}get master(){return this._master;}get display(){return this._display;}get screenOffsetX(){return this._screenOffsetX;}set screenOffsetX(x){x=Math.trunc(x);this._mouseLocation.x=this._mouseLocation.x-(x-this._screenOffsetX);this._screenOffsetX=x;}get screenOffsetY(){return this._screenOffsetY;}set screenOffsetY(y){y=Math.trunc(y);this._mouseLocation.y=this._mouseLocation.y-(y-this._screenOffsetY);this._screenOffsetY=y;}get scale(){return this._scale;}get width(){return this._width*this._scale;}get height(){return this._height*this._scale;}get restrictsScaling(){return this._restrictsScaling;}set restrictsScaling(flag){this._restrictsScaling=flag;}get canvasUpdated(){return this._canvasUpdated;}set canvasUpdated(flag){this._canvasUpdated=flag;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/RoomRenderer.ts\nclass RoomRenderer_RoomRenderer{constructor(){this._objects=void 0;this._canvases=void 0;this._disposed=void 0;this._roomObjectVariableAccurateZ=void 0;this._objects=new Map();this._canvases=new Map();this._disposed=false;this._roomObjectVariableAccurateZ=null;}dispose(){if(this._disposed)return;if(this._canvases){for(const[key,canvas]of this._canvases.entries()){this._canvases.delete(key);if(!canvas)continue;canvas.dispose();}this._canvases=null;}if(this._objects){this._objects=null;}this._disposed=true;}reset(){this._objects.clear();}getInstanceId(object){if(!object)return-1;return object.instanceId;}getRoomObject(instanceId){return this._objects.get(instanceId);}addObject(object){if(!object)return;this._objects.set(this.getInstanceId(object),object);}removeObject(object){const instanceId=this.getInstanceId(object);this._objects.delete(instanceId);for(const canvas of this._canvases.values()){if(!canvas)continue;const spriteCanvas=canvas;spriteCanvas.removeFromCache(instanceId.toString());}}render(time){let update=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._canvases||!this._canvases.size)return;for(const canvas of this._canvases.values())canvas&&canvas.render(time,update);}update(time){let update=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._canvases||!this._canvases.size)return;this.render(time,update);for(const canvas of this._canvases.values())canvas&&canvas.update();}getCanvas(id){const existing=this._canvases.get(id);if(!existing)return;return existing;}createCanvas(id,width,height,scale){const existing=this._canvases.get(id);if(existing){existing.initialize(width,height);if(existing.geometry)existing.geometry.scale=scale;return existing;}const canvas=this.createSpriteCanvas(id,width,height,scale);if(!canvas)return;this._canvases.set(id,canvas);return canvas;}createSpriteCanvas(id,width,height,scale){return new RoomSpriteCanvas_RoomSpriteCanvas(this,id,width,height,scale);}removeCanvas(id){const existing=this._canvases.get(id);if(!existing)return;this._canvases.delete(id);existing.dispose();}get objects(){return this._objects;}get disposed(){return this._disposed;}get roomObjectVariableAccurateZ(){return this._roomObjectVariableAccurateZ;}set roomObjectVariableAccurateZ(z){this._roomObjectVariableAccurateZ=z;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/RoomRendererFactory.ts\nclass RoomRendererFactory_RoomRendererFactory{createRenderer(){return new RoomRenderer_RoomRenderer();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/renderer/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/events/RoomCameraWidgetManagerEvent.ts\nclass RoomCameraWidgetManagerEvent_RoomCameraWidgetManagerEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type){super(type);}}RoomCameraWidgetManagerEvent_RoomCameraWidgetManagerEvent.INITIALIZED='RCWM_INITIALIZED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/RoomCameraWidgetEffect.ts\nclass RoomCameraWidgetEffect{constructor(name){let minLevel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let texture=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let colorMatrix=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let blendMode=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;this._name=void 0;this._minLevel=-1;this._texture=null;this._colorMatrix=null;this._blendMode=null;this._name=name;this._minLevel=minLevel;this._texture=texture;this._colorMatrix=colorMatrix;this._blendMode=blendMode;}get name(){return this._name;}get texture(){return this._texture;}set texture(texture){this._texture=texture;}get colorMatrix(){return this._colorMatrix;}set colorMatrix(colorMatrix){this._colorMatrix=colorMatrix;}get blendMode(){return this._blendMode;}set blendMode(blendMode){this._blendMode=blendMode;}get minLevel(){return this._minLevel;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/RoomCameraWidgetManager.ts\nclass RoomCameraWidgetManager_RoomCameraWidgetManager{constructor(){this._effects=void 0;this._events=void 0;this._isLoaded=void 0;this._effects=new Map();this._events=new EventDispatcher_EventDispatcher();this._isLoaded=false;}init(){if(this._isLoaded)return;this._isLoaded=true;const imagesUrl=Nitro_Nitro.instance.getConfiguration('image.library.url')+'Habbo-Stories/';const effects=Nitro_Nitro.instance.getConfiguration('camera.available.effects');for(const effect of effects){if(!effect.enabled)continue;const cameraEffect=new RoomCameraWidgetEffect(effect.name,effect.minLevel);if(effect.colorMatrix.length){cameraEffect.colorMatrix=effect.colorMatrix;}else{cameraEffect.texture=esm_core[\"t\" /* Texture */].from(imagesUrl+effect.name+'.png');cameraEffect.blendMode=effect.blendMode;}this._effects.set(cameraEffect.name,cameraEffect);}this.events.dispatchEvent(new RoomCameraWidgetManagerEvent_RoomCameraWidgetManagerEvent(RoomCameraWidgetManagerEvent_RoomCameraWidgetManagerEvent.INITIALIZED));}applyEffects(texture,selectedEffects,isZoomed){const container=new NitroContainer_NitroContainer();const sprite=new NitroSprite_NitroSprite(texture);container.addChild(sprite);for(const selectedEffect of selectedEffects){const effect=selectedEffect.effect;if(!effect)continue;if(effect.colorMatrix){const filter=new filter_color_matrix[\"a\" /* ColorMatrixFilter */]();filter.matrix=effect.colorMatrix;filter.alpha=selectedEffect.alpha;if(!sprite.filters)sprite.filters=[];sprite.filters.push(filter);}else{const effectSprite=new NitroSprite_NitroSprite(effect.texture);effectSprite.alpha=selectedEffect.alpha;effectSprite.blendMode=effect.blendMode;container.addChild(effectSprite);}}return TextureUtils_TextureUtils.generateImage(container);}get effects(){return this._effects;}get events(){return this._events;}get isLoaded(){return this._isLoaded;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/client/ClientPingParser.ts\nclass ClientPingParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/client/ClientPingEvent.ts\nclass ClientPingEvent_ClientPingEvent extends MessageEvent{constructor(callBack){super(callBack,ClientPingParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/security/AuthenticatedParser.ts\nclass AuthenticatedParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/security/AuthenticatedEvent.ts\nclass AuthenticatedEvent_AuthenticatedEvent extends MessageEvent{constructor(callBack){super(callBack,AuthenticatedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/enums/ClientDeviceCategoryEnum.ts\nclass ClientDeviceCategoryEnum{}ClientDeviceCategoryEnum.UNKNOWN=0;ClientDeviceCategoryEnum.BROWSER=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/enums/ClientPlatformEnum.ts\nclass ClientPlatformEnum{}ClientPlatformEnum.UNKNOWN=0;ClientPlatformEnum.FLASH=1;ClientPlatformEnum.HTML5=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/ClientHelloMessageComposer.ts\nclass ClientHelloMessageComposer_ClientHelloMessageComposer{constructor(releaseVersion,type,platform,category){this._data=void 0;this._data=[NitroVersion.RENDERER_VERSION,'HTML5',ClientPlatformEnum.HTML5,ClientDeviceCategoryEnum.BROWSER];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/InfoRetrieveMessageComposer.ts\nclass InfoRetrieveMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/PongMessageComposer.ts\nclass PongMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/SSOTicketMessageComposer.ts\nclass SSOTicketMessageComposer{constructor(ticket,time){this._data=void 0;this._data=[ticket,time];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/demo/NitroCommunicationDemoEvent.ts\nclass NitroCommunicationDemoEvent_NitroCommunicationDemoEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,connection){super(type);this._connection=void 0;this._connection=connection;}get connection(){return this._connection;}}NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_ESTABLISHED='NCE_ESTABLISHED';NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_CLOSED='NCE_CLOSED';NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_ERROR='NCE_ERROR';NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_HANDSHAKING='NCE_HANDSHAKING';NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_HANDSHAKED='NCE_HANDSHAKED';NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_HANDSHAKE_FAILED='NCE_HANDSHAKE_FAILED';NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED='NCE_AUTHENTICATED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/demo/NitroCommunicationDemo.ts\nclass NitroCommunicationDemo_NitroCommunicationDemo extends NitroManager_NitroManager{constructor(communication){super();this._communication=void 0;this._handShaking=void 0;this._didConnect=void 0;this._pongInterval=void 0;this._communication=communication;this._handShaking=false;this._didConnect=false;this._pongInterval=null;this.onConnectionOpenedEvent=this.onConnectionOpenedEvent.bind(this);this.onConnectionClosedEvent=this.onConnectionClosedEvent.bind(this);this.onConnectionErrorEvent=this.onConnectionErrorEvent.bind(this);this.sendPong=this.sendPong.bind(this);}onInit(){const connection=this._communication.connection;if(connection){connection.addEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent);connection.addEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent);connection.addEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent);}this._communication.registerMessageEvent(new ClientPingEvent_ClientPingEvent(this.onClientPingEvent.bind(this)));this._communication.registerMessageEvent(new AuthenticatedEvent_AuthenticatedEvent(this.onAuthenticatedEvent.bind(this)));}onDispose(){const connection=this._communication.connection;if(connection){connection.removeEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent);connection.removeEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent);connection.removeEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent);}this._handShaking=false;this.stopPonging();super.onDispose();}onConnectionOpenedEvent(event){const connection=this._communication.connection;if(!connection)return;this._didConnect=true;this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_ESTABLISHED,connection);if(Nitro_Nitro.instance.getConfiguration('system.pong.manually',false))this.startPonging();this.startHandshake(connection);connection.send(new ClientHelloMessageComposer_ClientHelloMessageComposer(null,null,null,null));this.tryAuthentication(connection);}onConnectionClosedEvent(event){const connection=this._communication.connection;if(!connection)return;this.stopPonging();if(this._didConnect)this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_CLOSED,connection);}onConnectionErrorEvent(event){const connection=this._communication.connection;if(!connection)return;this.stopPonging();this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_ERROR,connection);}tryAuthentication(connection){if(!connection||!this.getSSO()){if(!this.getSSO()){NitroLogger.log('Login without an SSO ticket is not supported');}this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_HANDSHAKE_FAILED,connection);return;}connection.send(new SSOTicketMessageComposer(this.getSSO(),Nitro_Nitro.instance.time));}onClientPingEvent(event){if(!event||!event.connection)return;this.sendPong(event.connection);}onAuthenticatedEvent(event){if(!event||!event.connection)return;this.completeHandshake(event.connection);this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED,event.connection);event.connection.send(new InfoRetrieveMessageComposer());}startHandshake(connection){this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_HANDSHAKING,connection);this._handShaking=true;}completeHandshake(connection){this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_HANDSHAKED,connection);this._handShaking=false;}startPonging(){this.stopPonging();this._pongInterval=setInterval(this.sendPong,Nitro_Nitro.instance.getConfiguration('system.pong.interval.ms',20000));}stopPonging(){if(!this._pongInterval)return;clearInterval(this._pongInterval);this._pongInterval=null;}sendPong(){let connection=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;connection=connection||this._communication.connection||null;if(!connection)return;connection.send(new PongMessageComposer());}dispatchCommunicationDemoEvent(type,connection){Nitro_Nitro.instance.events.dispatchEvent(new NitroCommunicationDemoEvent_NitroCommunicationDemoEvent(type,connection));}getSSO(){return Nitro_Nitro.instance.getConfiguration('sso.ticket',null);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/advertisement/InterstitialMessageParser.ts\nclass InterstitialMessageParser{constructor(){this._canShowInterstitial=void 0;}flush(){this._canShowInterstitial=false;return true;}parse(wrapper){if(!wrapper)return false;this._canShowInterstitial=wrapper.readBoolean();return true;}get canShowInterstitial(){return this._canShowInterstitial;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/advertisement/RoomAdErrorMessageParser.ts\nclass RoomAdErrorMessageParser{constructor(){this._errorCode=void 0;this._filteredText=void 0;}flush(){this._errorCode=0;this._filteredText=null;return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();this._filteredText=wrapper.readString();return true;}get errorCode(){return this._errorCode;}get filteredText(){return this._filteredText;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/advertisement/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/availability/AvailabilityStatusMessageParser.ts\nclass AvailabilityStatusMessageParser{constructor(){this._isOpen=void 0;this._onShutdown=void 0;this._isAuthenticUser=void 0;}flush(){this._isOpen=false;this._onShutdown=false;this._isAuthenticUser=false;return true;}parse(wrapper){if(!wrapper)return false;this._isOpen=wrapper.readBoolean();this._onShutdown=wrapper.readBoolean();if(wrapper.bytesAvailable){this._isAuthenticUser=wrapper.readBoolean();}return true;}get isOpen(){return this._isOpen;}get onShutdown(){return this._onShutdown;}get isAuthenticUser(){return this._isAuthenticUser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/availability/AvailabilityTimeMessageParser.ts\nclass AvailabilityTimeMessageParser{constructor(){this._isOpen=void 0;this._minutesUntilChange=void 0;}flush(){this._isOpen=false;this._minutesUntilChange=0;return true;}parse(wrapper){if(!wrapper)return false;this._isOpen=wrapper.readInt()>0;this._minutesUntilChange=wrapper.readInt();return true;}get isOpen(){return this._isOpen;}get minutesUntilChange(){return this._minutesUntilChange;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/availability/HotelClosedAndOpensMessageParser.ts\nclass HotelClosedAndOpensMessageParser{constructor(){this._openHour=void 0;this._openMinute=void 0;}flush(){this._openHour=0;this._openMinute=0;return true;}parse(wrapper){if(!wrapper)return false;this._openHour=wrapper.readInt();this._openMinute=wrapper.readInt();return true;}get openHour(){return this._openHour;}get openMinute(){return this._openMinute;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/availability/HotelClosesAndWillOpenAtMessageParser.ts\nclass HotelClosesAndWillOpenAtMessageParser{constructor(){this._openHour=void 0;this._openMinute=void 0;this._userThrownOutAtClose=void 0;}flush(){this._openHour=0;this._openMinute=0;this._userThrownOutAtClose=false;return true;}parse(wrapper){if(!wrapper)return false;this._openHour=wrapper.readInt();this._openMinute=wrapper.readInt();this._userThrownOutAtClose=wrapper.readBoolean();return true;}get openHour(){return this._openHour;}get openMinute(){return this._openMinute;}get userThrowOutAtClose(){return this._userThrownOutAtClose;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/availability/HotelWillCloseInMinutesMessageParser.ts\nclass HotelWillCloseInMinutesMessageParser{constructor(){this._minutes=void 0;}flush(){this._minutes=0;return true;}parse(wrapper){if(!wrapper)return false;this._minutes=wrapper.readInt();return true;}get openMinute(){return this._minutes;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/availability/MaintenanceStatusMessageParser.ts\nclass MaintenanceStatusMessageParser{constructor(){this._isInMaintenance=void 0;this._minutesUntilMaintenance=void 0;this._duration=void 0;}flush(){this._isInMaintenance=false;this._minutesUntilMaintenance=0;this._duration=15;return true;}parse(wrapper){if(!wrapper)return false;this._isInMaintenance=wrapper.readBoolean();this._minutesUntilMaintenance=wrapper.readInt();if(wrapper.bytesAvailable){this._duration=wrapper.readInt();}return true;}get isInMaintenance(){return this._isInMaintenance;}get minutesUntilMaintenance(){return this._minutesUntilMaintenance;}get duration(){return this._duration;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/availability/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/avatar/ChangeUserNameResultMessageParser.ts\nclass ChangeUserNameResultMessageParser{constructor(){this._resultCode=void 0;this._name=void 0;this._nameSuggestions=void 0;}flush(){this._resultCode=-1;this._name='';this._nameSuggestions=[];return true;}parse(wrapper){if(!wrapper)return false;this._resultCode=wrapper.readInt();this._name=wrapper.readString();let totalSuggestions=wrapper.readInt();while(totalSuggestions>0){this._nameSuggestions.push(wrapper.readString());totalSuggestions--;}return true;}get resultCode(){return this._resultCode;}get name(){return this._name;}get nameSuggestions(){return this._nameSuggestions;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/avatar/CheckUserNameResultMessageParser.ts\nclass CheckUserNameResultMessageParser{constructor(){this._resultCode=void 0;this._name=void 0;this._nameSuggestions=void 0;}flush(){this._resultCode=-1;this._name='';this._nameSuggestions=[];return true;}parse(wrapper){if(!wrapper)return false;this._resultCode=wrapper.readInt();this._name=wrapper.readString();let totalSuggestions=wrapper.readInt();while(totalSuggestions>0){this._nameSuggestions.push(wrapper.readString());totalSuggestions--;}return true;}get resultCode(){return this._resultCode;}get name(){return this._name;}get nameSuggestions(){return this._nameSuggestions;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/avatar/FigureUpdateParser.ts\nclass FigureUpdateParser{constructor(){this._figure=void 0;this._gender=void 0;}flush(){this._figure='';this._gender='';return true;}parse(wrapper){if(!wrapper)return false;this._figure=wrapper.readString();this._gender=wrapper.readString();if(this._gender)this._gender=this._gender.toUpperCase();return true;}get figure(){return this._figure;}get gender(){return this._gender;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/avatar/WardrobeMessageParser.ts\nclass WardrobeMessageParser_WardrobeMessageParser{constructor(){this._state=void 0;this._outfits=void 0;}flush(){this._state=0;this._outfits=[];return true;}parse(wrapper){if(!wrapper)return false;this._state=wrapper.readInt();let count=wrapper.readInt();while(count>0){this._outfits.push(new OutfitData(wrapper));count--;}return true;}get state(){return this._state;}get outfits(){return this._outfits;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/avatar/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/bots/BotData.ts\nclass BotData{constructor(wrapper){this._id=void 0;this._name=void 0;this._motto=void 0;this._gender=void 0;this._figure=void 0;if(!wrapper)throw new Error('invalid_parser');this._id=wrapper.readInt();this._name=wrapper.readString();this._motto=wrapper.readString();this._gender=wrapper.readString();this._figure=wrapper.readString();}get id(){return this._id;}get name(){return this._name;}get motto(){return this._motto;}get figure(){return this._figure;}get gender(){return this._gender;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/bots/BotAddedToInventoryParser.ts\nclass BotAddedToInventoryParser_BotAddedToInventoryParser{constructor(){this._item=void 0;this._openInventory=void 0;}flush(){this._item=null;this._openInventory=false;return true;}parse(wrapper){if(!wrapper)return false;this._item=new BotData(wrapper);this._openInventory=wrapper.readBoolean();return true;}get item(){return this._item;}openInventory(){return this._openInventory;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/bots/BotInventoryMessageParser.ts\nclass BotInventoryMessageParser_BotInventoryMessageParser{constructor(){this._items=void 0;}flush(){this._items=null;return true;}parse(wrapper){this._items=new Map();let count=wrapper.readInt();while(count>0){const data=new BotData(wrapper);this._items.set(data.id,data);count--;}return true;}get items(){return this._items;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/bots/BotReceivedMessageParser.ts\nclass BotReceivedMessageParser_BotReceivedMessageParser{constructor(){this._boughtAsGift=void 0;this._item=void 0;}flush(){this._boughtAsGift=false;this._item=null;return true;}parse(wrapper){if(!wrapper)return false;this._boughtAsGift=wrapper.readBoolean();this._item=new BotData(wrapper);return true;}get boughtAsGift(){return this._boughtAsGift;}get item(){return this._item;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/bots/BotRemovedFromInventoryParser.ts\nclass BotRemovedFromInventoryParser{constructor(){this._itemId=void 0;}flush(){this._itemId=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();return true;}get itemId(){return this._itemId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/bots/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/callforhelp/CallForHelpTopicData.ts\nclass CallForHelpTopicData{constructor(wrapper){this._name=void 0;this._id=void 0;this._consequence=void 0;this._name=wrapper.readString();this._id=wrapper.readInt();this._consequence=wrapper.readString();}get name(){return this._name;}get id(){return this._id;}get consequence(){return this._consequence;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/callforhelp/CallForHelpCategoryData.ts\nclass CallForHelpCategoryData_CallForHelpCategoryData{constructor(wrapper){this._name=void 0;this._topics=void 0;this._disposed=void 0;this._topics=[];this._name=wrapper.readString();let count=wrapper.readInt();while(count>0){this._topics.push(new CallForHelpTopicData(wrapper));count--;}}dispose(){if(this._disposed)return;this._disposed=true;this._topics=null;}get disposed(){return this._disposed;}get name(){return this._name;}get topics(){return this._topics;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/callforhelp/CfhSanctionMessageEvent.ts\nclass CfhSanctionMessageEvent_CfhSanctionMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CfhSanctionMessageParser_CfhSanctionMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/callforhelp/CfhSanctionTypeData.ts\nclass CfhSanctionTypeData{constructor(wrapper){this._name=void 0;this._sanctionLengthInHours=void 0;this._probationDays=void 0;this._avatarOnly=void 0;this._tradeLockInfo='';this._machineBanInfo='';this._name=wrapper.readString();this._sanctionLengthInHours=wrapper.readInt();this._probationDays=wrapper.readInt();this._avatarOnly=wrapper.readBoolean();if(wrapper.bytesAvailable)this._tradeLockInfo=wrapper.readString();if(wrapper.bytesAvailable)this._machineBanInfo=wrapper.readString();}get name(){return this._name;}get sanctionLengthInHours(){return this._sanctionLengthInHours;}get avatarOnly(){return this._avatarOnly;}get tradeLockInfo(){return this._tradeLockInfo;}get machineBanInfo(){return this._machineBanInfo;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/callforhelp/CfhTopicsInitMessageParser.ts\nclass CfhTopicsInitMessageParser_CfhTopicsInitMessageParser{constructor(){this._callForHelpCategories=void 0;}flush(){this._callForHelpCategories=null;return true;}parse(wrapper){if(!wrapper)return false;this._callForHelpCategories=[];let count=wrapper.readInt();while(count>0){this._callForHelpCategories.push(new CallForHelpCategoryData_CallForHelpCategoryData(wrapper));count--;}return true;}get callForHelpCategories(){return this._callForHelpCategories;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/callforhelp/CfhTopicsInitEvent.ts\nclass CfhTopicsInitEvent_CfhTopicsInitEvent extends MessageEvent{constructor(callBack){super(callBack,CfhTopicsInitMessageParser_CfhTopicsInitMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/callforhelp/SanctionStatusEvent.ts\nclass SanctionStatusEvent_SanctionStatusEvent extends MessageEvent{constructor(callBack){super(callBack,SanctionStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/callforhelp/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/callforhelp/CfhSanctionMessageParser.ts\nclass CfhSanctionMessageParser_CfhSanctionMessageParser{constructor(){this._issueId=void 0;this._accountId=void 0;this._sanctionType=void 0;}flush(){this._issueId=-1;this._accountId=1;this._sanctionType=null;return true;}parse(wrapper){if(!wrapper)return false;this._issueId=wrapper.readInt();this._accountId=wrapper.readInt();this._sanctionType=new CfhSanctionTypeData(wrapper);return true;}get issueId(){return this._issueId;}get accountId(){return this._accountId;}get sanctionType(){return this._sanctionType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/callforhelp/SanctionStatusMessageParser.ts\nclass SanctionStatusMessageParser{constructor(){this._isSanctionNew=void 0;this._isSanctionActive=void 0;this._sanctionName=void 0;this._sanctionLengthHours=void 0;this._sanctionReason=void 0;this._sanctionCreationTime=void 0;this._probationHoursLeft=void 0;this._nextSanctionName=void 0;this._nextSanctionLengthHours=void 0;this._hasCustomMute=void 0;this._tradeLockExpiryTime=void 0;}flush(){this._isSanctionNew=false;this._isSanctionActive=false;this._sanctionName=null;this._sanctionLengthHours=0;this._sanctionReason=null;this._sanctionCreationTime=null;this._probationHoursLeft=0;this._nextSanctionName=null;this._nextSanctionLengthHours=0;this._hasCustomMute=false;this._tradeLockExpiryTime=null;return true;}parse(wrapper){if(!wrapper)return false;this._isSanctionNew=wrapper.readBoolean();this._isSanctionActive=wrapper.readBoolean();this._sanctionName=wrapper.readString();this._sanctionLengthHours=wrapper.readInt();wrapper.readInt();this._sanctionReason=wrapper.readString();this._sanctionCreationTime=wrapper.readString();this._probationHoursLeft=wrapper.readInt();this._nextSanctionName=wrapper.readString();this._nextSanctionLengthHours=wrapper.readInt();wrapper.readInt();this._hasCustomMute=wrapper.readBoolean();if(wrapper.bytesAvailable)this._tradeLockExpiryTime=wrapper.readString();return true;}get isSanctionNew(){return this._isSanctionNew;}get isSanctionActive(){return this._isSanctionActive;}get sanctionName(){return this._sanctionName;}get sanctionLengthHours(){return this._sanctionLengthHours;}get sanctionReason(){return this._sanctionReason;}get sanctionCreationTime(){return this._sanctionCreationTime;}get probationHoursLeft(){return this._probationHoursLeft;}get nextSanctionName(){return this._nextSanctionName;}get nextSanctionLengthHours(){return this._nextSanctionLengthHours;}get hasCustomMute(){return this._hasCustomMute;}get tradeLockExpiryTime(){return this._tradeLockExpiryTime;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/callforhelp/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/camera/CameraPublishStatusMessageParser.ts\nclass CameraPublishStatusMessageParser{constructor(){this._ok=false;this._secondsToWait=0;this._extraDataId=void 0;}flush(){this._ok=false;this._secondsToWait=0;this._extraDataId=null;return true;}parse(wrapper){if(!wrapper)return false;this._ok=wrapper.readBoolean();this._secondsToWait=wrapper.readInt();if(this._ok&&wrapper.bytesAvailable)this._extraDataId=wrapper.readString();return true;}get ok(){return this._ok;}get secondsToWait(){return this._secondsToWait;}get extraDataId(){return this._extraDataId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/camera/CameraPurchaseOKMessageParser.ts\nclass CameraPurchaseOKMessageParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/camera/CameraStorageUrlMessageParser.ts\nclass CameraStorageUrlMessageParser{constructor(){this._url=void 0;}flush(){this._url='';return true;}parse(wrapper){if(!wrapper)return false;this._url=wrapper.readString();return true;}get url(){return this._url;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/camera/CompetitionStatusMessageParser.ts\nclass CompetitionStatusMessageParser{constructor(){this._ok=false;this._errorReason=null;}flush(){this._ok=false;this._errorReason=null;return true;}parse(wrapper){if(!wrapper)return false;this._ok=wrapper.readBoolean();this._errorReason=wrapper.readString();return true;}get ok(){return this._ok;}get errorReason(){return this._errorReason;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/camera/InitCameraMessageParser.ts\nclass InitCameraMessageParser{constructor(){this._creditPrice=0;this._ducketPrice=0;this._publishDucketPrice=0;}flush(){this._creditPrice=0;this._ducketPrice=0;this._publishDucketPrice=0;return true;}parse(wrapper){if(!wrapper)return false;this._creditPrice=wrapper.readInt();this._ducketPrice=wrapper.readInt();if(wrapper.bytesAvailable)this._publishDucketPrice=wrapper.readInt();return true;}get creditPrice(){return this._creditPrice;}get ducketPrice(){return this._ducketPrice;}get publishDucketPrice(){return this._publishDucketPrice;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/camera/ThumbnailStatusMessageParser.ts\nclass ThumbnailStatusMessageParser{constructor(){this._ok=true;this._renderLimitHit=false;}flush(){this._ok=true;this._renderLimitHit=false;return true;}parse(wrapper){if(!wrapper)return false;if(wrapper.bytesAvailable){this._ok=wrapper.readBoolean();this._renderLimitHit=wrapper.readBoolean();}return true;}get ok(){return this._ok;}get isRenderLimitHit(){return this._renderLimitHit;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/camera/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/campaign/CampaignCalendarData.ts\nclass CampaignCalendarData{constructor(){this._campaignName=void 0;this._campaignImage=void 0;this._currentDay=void 0;this._campaignDays=void 0;this._openedDays=void 0;this._missedDays=void 0;}parse(wrapper){if(!wrapper)return false;this._campaignName=wrapper.readString();this._campaignImage=wrapper.readString();this._currentDay=wrapper.readInt();this._campaignDays=wrapper.readInt();this._openedDays=[];let count=wrapper.readInt();for(let i=0;i<count;i++){this._openedDays.push(wrapper.readInt());}this._missedDays=[];count=wrapper.readInt();for(let i=0;i<count;i++){this._missedDays.push(wrapper.readInt());}return true;}clone(){const data=new CampaignCalendarData();data.campaignDays=this._campaignDays;data.campaignImage=this._campaignImage;data.campaignName=this._campaignName;data.currentDay=this._currentDay;data.missedDays=this._missedDays;data.openedDays=this._openedDays;return data;}get campaignName(){return this._campaignName;}set campaignName(name){this._campaignName=name;}get campaignImage(){return this._campaignImage;}set campaignImage(image){this._campaignImage=image;}get currentDay(){return this._currentDay;}set currentDay(day){this._currentDay=day;}get campaignDays(){return this._campaignDays;}set campaignDays(days){this._campaignDays=days;}get openedDays(){return this._openedDays;}set openedDays(days){this._openedDays=days;}get missedDays(){return this._missedDays;}set missedDays(days){this._missedDays=days;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/campaign/CampaignCalendarDataMessageParser.ts\nclass CampaignCalendarDataMessageParser_CampaignCalendarDataMessageParser{constructor(){this._calendarData=void 0;}flush(){this._calendarData=null;return true;}parse(wrapper){if(!wrapper)return false;this._calendarData=new CampaignCalendarData();this._calendarData.parse(wrapper);return true;}get calendarData(){return this._calendarData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/campaign/CampaignCalendarDoorOpenedMessageParser.ts\nclass CampaignCalendarDoorOpenedMessageParser{constructor(){this._doorOpened=void 0;this._productName=void 0;this._customImage=void 0;this._furnitureClassName=void 0;}flush(){this._doorOpened=false;this._productName=null;this._customImage=null;this._furnitureClassName=null;return true;}parse(wrapper){if(!wrapper)return false;this._doorOpened=wrapper.readBoolean();this._productName=wrapper.readString();this._customImage=wrapper.readString();this._furnitureClassName=wrapper.readString();return true;}get doorOpened(){return this._doorOpened;}get productName(){return this._productName;}get customImage(){return this._customImage;}get furnitureClassName(){return this._furnitureClassName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/campaign/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/BonusRareInfoMessageParser.ts\nclass BonusRareInfoMessageParser{constructor(){this._productType=void 0;this._productClassId=void 0;this._totalCoinsForBonus=void 0;this._coinsStillRequiredToBuy=void 0;}flush(){this._totalCoinsForBonus=-1;this._coinsStillRequiredToBuy=-1;this._productType='';this._productClassId=-1;return true;}parse(wrapper){if(!wrapper)return false;this._productType=wrapper.readString();this._productClassId=wrapper.readInt();this._totalCoinsForBonus=wrapper.readInt();this._coinsStillRequiredToBuy=wrapper.readInt();return true;}get totalCoinsForBonus(){return this._totalCoinsForBonus;}get coinsStillRequiredToBuy(){return this._coinsStillRequiredToBuy;}get productType(){return this._productType;}get productClassId(){return this._productClassId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/BuildersClubFurniCountMessageParser.ts\nclass BuildersClubFurniCountMessageParser{constructor(){this._furniCount=void 0;}flush(){this._furniCount=0;return true;}parse(wrapper){if(!wrapper)return false;this._furniCount=wrapper.readInt();return true;}get furniCount(){return this._furniCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/BuildersClubSubscriptionStatusMessageParser.ts\nclass BuildersClubSubscriptionStatusMessageParser{constructor(){this._Str_16456=void 0;this._Str_12494=void 0;this._Str_19123=void 0;this._Str_17298=void 0;}flush(){this._Str_16456=0;this._Str_12494=0;this._Str_19123=0;this._Str_17298=0;return true;}parse(wrapper){if(!wrapper)return false;this._Str_16456=wrapper.readInt();this._Str_12494=wrapper.readInt();this._Str_19123=wrapper.readInt();if(wrapper.bytesAvailable)this._Str_17298=wrapper.readInt();else this._Str_17298=this._Str_16456;return true;}get _Str_3709(){return this._Str_16456;}get _Str_15864(){return this._Str_12494;}get _Str_24094(){return this._Str_19123;}get _Str_24379(){return this._Str_17298;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/BundleDiscountRulesetMessageParser.ts\nclass BundleDiscountRulesetMessageParser_BundleDiscountRulesetMessageParser{constructor(){this._bundleDiscountRuleset=void 0;}flush(){this._bundleDiscountRuleset=null;return true;}parse(wrapper){if(!wrapper)return false;this._bundleDiscountRuleset=new BundleDiscountRuleset(wrapper);return true;}get bundleDiscountRuleset(){return this._bundleDiscountRuleset;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/NodeData.ts\nclass NodeData{constructor(wrapper){this._visible=void 0;this._icon=void 0;this._pageId=void 0;this._pageName=void 0;this._localization=void 0;this._children=void 0;this._offerIds=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._visible=false;this._icon=0;this._pageId=-1;this._pageName=null;this._localization=null;this._children=[];this._offerIds=[];return true;}parse(wrapper){if(!wrapper)return false;this._visible=wrapper.readBoolean();this._icon=wrapper.readInt();this._pageId=wrapper.readInt();this._pageName=wrapper.readString();this._localization=wrapper.readString();let totalOffers=wrapper.readInt();while(totalOffers>0){this._offerIds.push(wrapper.readInt());totalOffers--;}let totalChildren=wrapper.readInt();while(totalChildren>0){this._children.push(new NodeData(wrapper));totalChildren--;}return true;}get visible(){return this._visible;}get icon(){return this._icon;}get pageId(){return this._pageId;}get pageName(){return this._pageName;}get localization(){return this._localization;}get children(){return this._children;}get offerIds(){return this._offerIds;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/CatalogIndexMessageParser.ts\nclass CatalogIndexMessageParser_CatalogIndexMessageParser{constructor(){this._root=void 0;this._newAdditionsAvailable=void 0;this._catalogType=void 0;}flush(){this._root=null;return true;}parse(wrapper){if(!wrapper)return false;this._root=new NodeData(wrapper);this._newAdditionsAvailable=wrapper.readBoolean();this._catalogType=wrapper.readString();return true;}get root(){return this._root;}get newAdditionsAvailable(){return this._newAdditionsAvailable;}get catalogType(){return this._catalogType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/CatalogPageExpirationParser.ts\nclass CatalogPageExpirationParser{constructor(){this._pageName=void 0;this._pageId=void 0;this._Str_5158=void 0;this._image=void 0;}flush(){this._pageName=null;this._pageId=0;this._Str_5158=0;this._image=null;return true;}parse(wrapper){if(!wrapper)return false;this._pageId=wrapper.readInt();this._pageName=wrapper.readString();this._Str_5158=wrapper.readInt();this._image=wrapper.readString();return true;}get pageName(){return this._pageName;}get pageId(){return this._pageId;}get _Str_17123(){return this._Str_5158;}get image(){return this._image;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogLocalizationData.ts\nclass CatalogLocalizationData{constructor(wrapper){this._images=void 0;this._texts=void 0;this._images=[];this._texts=[];let totalImages=wrapper.readInt();while(totalImages>0){this._images.push(wrapper.readString());totalImages--;}let totalTexts=wrapper.readInt();while(totalTexts>0){this._texts.push(wrapper.readString());totalTexts--;}}get images(){return this._images;}get texts(){return this._texts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogPageMessageProductData.ts\nclass CatalogPageMessageProductData{constructor(wrapper){this._productType=void 0;this._furniClassId=void 0;this._extraParam=void 0;this._productCount=void 0;this._uniqueLimitedItem=void 0;this._uniqueLimitedItemSeriesSize=void 0;this._uniqueLimitedItemsLeft=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._productType=null;this._furniClassId=-1;this._extraParam=null;this._productCount=0;this._uniqueLimitedItem=false;this._uniqueLimitedItemSeriesSize=0;this._uniqueLimitedItemsLeft=0;return true;}parse(wrapper){this._productType=wrapper.readString();switch(this._productType){case CatalogPageMessageProductData.B:this._extraParam=wrapper.readString();this._productCount=1;return true;default:this._furniClassId=wrapper.readInt();this._extraParam=wrapper.readString();this._productCount=wrapper.readInt();this._uniqueLimitedItem=wrapper.readBoolean();if(this._uniqueLimitedItem){this._uniqueLimitedItemSeriesSize=wrapper.readInt();this._uniqueLimitedItemsLeft=wrapper.readInt();}return true;}}get productType(){return this._productType;}get furniClassId(){return this._furniClassId;}get extraParam(){return this._extraParam;}get productCount(){return this._productCount;}get uniqueLimitedItem(){return this._uniqueLimitedItem;}get uniqueLimitedSeriesSize(){return this._uniqueLimitedItemSeriesSize;}get uniqueLimitedItemsLeft(){return this._uniqueLimitedItemsLeft;}}CatalogPageMessageProductData.I='i';CatalogPageMessageProductData.S='s';CatalogPageMessageProductData.E='e';CatalogPageMessageProductData.B='b';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogPageMessageOfferData.ts\nclass CatalogPageMessageOfferData_CatalogPageMessageOfferData{constructor(wrapper){this._offerId=void 0;this._localizationId=void 0;this._rent=void 0;this._priceCredits=void 0;this._priceActivityPoints=void 0;this._priceActivityPointsType=void 0;this._clubLevel=void 0;this._giftable=void 0;this._bundlePurchaseAllowed=void 0;this._isPet=void 0;this._previewImage=void 0;this._products=void 0;this._offerId=wrapper.readInt();this._localizationId=wrapper.readString();this._rent=wrapper.readBoolean();this._priceCredits=wrapper.readInt();this._priceActivityPoints=wrapper.readInt();this._priceActivityPointsType=wrapper.readInt();this._giftable=wrapper.readBoolean();this._products=[];let totalProducts=wrapper.readInt();while(totalProducts>0){this._products.push(new CatalogPageMessageProductData(wrapper));totalProducts--;}this._clubLevel=wrapper.readInt();this._bundlePurchaseAllowed=wrapper.readBoolean();this._isPet=wrapper.readBoolean();this._previewImage=wrapper.readString();}get offerId(){return this._offerId;}get localizationId(){return this._localizationId;}get rent(){return this._rent;}get priceCredits(){return this._priceCredits;}get priceActivityPoints(){return this._priceActivityPoints;}get priceActivityPointsType(){return this._priceActivityPointsType;}get clubLevel(){return this._clubLevel;}get giftable(){return this._giftable;}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed;}get isPet(){return this._isPet;}get previewImage(){return this._previewImage;}get products(){return this._products;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/FrontPageItem.ts\nclass FrontPageItem_FrontPageItem{constructor(wrapper){this._type=void 0;this._position=void 0;this._itemName=void 0;this._itemPromoImage=void 0;this._catalogPageLocation=void 0;this._productCode=void 0;this._productOfferId=void 0;this._expirationTime=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._type=-1;this._position=null;this._itemName=null;this._itemPromoImage=null;this._catalogPageLocation=null;this._productCode=null;this._productOfferId=0;this._expirationTime=0;return true;}parse(wrapper){if(!wrapper)return false;this._position=wrapper.readInt();this._itemName=wrapper.readString();this._itemPromoImage=wrapper.readString();this._type=wrapper.readInt();switch(this._type){case FrontPageItem_FrontPageItem.ITEM_CATALOGUE_PAGE:this._catalogPageLocation=wrapper.readString();break;case FrontPageItem_FrontPageItem.ITEM_PRODUCT_OFFER:this._productOfferId=wrapper.readInt();break;case FrontPageItem_FrontPageItem.ITEM_IAP:this._productCode=wrapper.readString();break;}const time=wrapper.readInt();this._expirationTime=time>0?time*1000+Nitro_Nitro.instance.time:0;return true;}get type(){return this._type;}get position(){return this._position;}get itemName(){return this._itemName;}get itemPromoImage(){return this._itemPromoImage;}get catalogPageLocation(){return this._catalogPageLocation;}get productCode(){return this._productCode;}get productOfferId(){return this._productOfferId;}get expirationTime(){return this._expirationTime;}}FrontPageItem_FrontPageItem.ITEM_CATALOGUE_PAGE=0;FrontPageItem_FrontPageItem.ITEM_PRODUCT_OFFER=1;FrontPageItem_FrontPageItem.ITEM_IAP=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/CatalogPageMessageParser.ts\nclass CatalogPageMessageParser_CatalogPageMessageParser{constructor(){this._pageId=void 0;this._catalogType=void 0;this._layoutCode=void 0;this._localization=void 0;this._offers=void 0;this._offerId=void 0;this._acceptSeasonCurrencyAsCredits=void 0;this._frontPageItems=void 0;}flush(){this._pageId=-1;this._catalogType=null;this._layoutCode=null;this._localization=null;this._offers=[];this._offerId=-1;this._acceptSeasonCurrencyAsCredits=false;this._frontPageItems=[];return true;}parse(wrapper){if(!wrapper)return false;this._pageId=wrapper.readInt();this._catalogType=wrapper.readString();this._layoutCode=wrapper.readString();this._localization=new CatalogLocalizationData(wrapper);let totalOffers=wrapper.readInt();while(totalOffers>0){this._offers.push(new CatalogPageMessageOfferData_CatalogPageMessageOfferData(wrapper));totalOffers--;}this._offerId=wrapper.readInt();this._acceptSeasonCurrencyAsCredits=wrapper.readBoolean();if(wrapper.bytesAvailable){let totalFrontPageItems=wrapper.readInt();while(totalFrontPageItems>0){this._frontPageItems.push(new FrontPageItem_FrontPageItem(wrapper));totalFrontPageItems--;}}return true;}get pageId(){return this._pageId;}get catalogType(){return this._catalogType;}get layoutCode(){return this._layoutCode;}get localization(){return this._localization;}get offers(){return this._offers;}get offerId(){return this._offerId;}get acceptSeasonCurrencyAsCredits(){return this._acceptSeasonCurrencyAsCredits;}get frontPageItems(){return this._frontPageItems;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/CatalogPageWithEarliestExpiryMessageParser.ts\nclass CatalogPageWithEarliestExpiryMessageParser{constructor(){this._pageName=void 0;this._Str_5158=void 0;this._image=void 0;}flush(){this._pageName=null;this._Str_5158=0;this._image=null;return true;}parse(wrapper){if(!wrapper)return false;this._pageName=wrapper.readString();this._Str_5158=wrapper.readInt();this._image=wrapper.readString();return true;}get pageName(){return this._pageName;}get _Str_17123(){return this._Str_5158;}get image(){return this._image;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/CatalogPublishedMessageParser.ts\nclass CatalogPublishedMessageParser{constructor(){this._instantlyRefreshCatalogue=void 0;this._newFurniDataHash=void 0;}flush(){this._instantlyRefreshCatalogue=false;this._newFurniDataHash=null;return true;}parse(wrapper){if(!wrapper)return false;this._instantlyRefreshCatalogue=wrapper.readBoolean();if(wrapper.bytesAvailable)this._newFurniDataHash=wrapper.readString();return true;}get instantlyRefreshCatalogue(){return this._instantlyRefreshCatalogue;}get newFurniDataHash(){return this._newFurniDataHash;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/ClubGiftData.ts\nclass ClubGiftData{constructor(wrapper){this._offerId=void 0;this._isVip=void 0;this._isSelectable=void 0;this._daysRequired=void 0;this._offerId=wrapper.readInt();this._isVip=wrapper.readBoolean();this._daysRequired=wrapper.readInt();this._isSelectable=wrapper.readBoolean();}get offerId(){return this._offerId;}get isVip(){return this._isVip;}get isSelectable(){return this._isSelectable;}get daysRequired(){return this._daysRequired;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/ClubGiftInfoParser.ts\nclass ClubGiftInfoParser_ClubGiftInfoParser{constructor(){this._daysUntilNextGift=void 0;this._giftsAvailable=void 0;this._offers=void 0;this._giftData=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._offers=[];this._giftData=new Map();this._daysUntilNextGift=wrapper.readInt();this._giftsAvailable=wrapper.readInt();const offerCount=wrapper.readInt();for(let i=0;i<offerCount;i++){this._offers.push(new CatalogPageMessageOfferData_CatalogPageMessageOfferData(wrapper));}const giftDataCount=wrapper.readInt();for(let i=0;i<giftDataCount;i++){const item=new ClubGiftData(wrapper);this._giftData.set(item.offerId,item);}return true;}get offers(){return this._offers;}get daysUntilNextGift(){return this._daysUntilNextGift;}get giftsAvailable(){return this._giftsAvailable;}set giftsAvailable(gifts){this._giftsAvailable=gifts;}getOfferExtraData(offerId){if(!offerId)return null;return this._giftData.get(offerId);}get giftData(){return this._giftData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/ClubGiftSelectedParser.ts\nclass ClubGiftSelectedParser_ClubGiftSelectedParser{constructor(){this._productCode=void 0;this._products=void 0;}flush(){this._productCode=null;this._products=[];return true;}parse(wrapper){if(!wrapper)return false;this._productCode=wrapper.readString();let count=wrapper.readInt();while(count>0){this._products.push(new CatalogPageMessageProductData(wrapper));count--;}return true;}get productCode(){return this._productCode;}get products(){return this._products;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/DirectSMSClubBuyAvailableMessageParser.ts\nclass DirectSMSClubBuyAvailableMessageParser{constructor(){this._available=void 0;this._Str_16515=void 0;this._Str_22121=void 0;this._Str_21897=void 0;}flush(){this._available=false;this._Str_16515=null;this._Str_22121=null;this._Str_21897=0;return true;}parse(wrapper){if(!wrapper)return false;this._Str_16515=wrapper.readString();if(this._Str_16515!=='')this._available=true;this._Str_22121=wrapper.readString();this._Str_21897=wrapper.readInt();return true;}get available(){return this._available;}get _Str_26301(){return this._Str_16515;}get _Str_26118(){return this._Str_22121;}get _Str_26380(){return this._Str_21897;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/GiftReceiverNotFoundParser.ts\nclass GiftReceiverNotFoundParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/GiftWrappingConfigurationParser.ts\nclass GiftWrappingConfigurationParser{constructor(){this._isEnabled=false;this._price=null;this._giftWrappers=null;this._boxTypes=null;this._ribbonTypes=null;this._giftFurnis=null;}flush(){this._boxTypes=null;this._giftFurnis=null;this._giftWrappers=null;this._ribbonTypes=null;this._isEnabled=null;this._price=null;return true;}parse(wrapper){if(!wrapper)return false;const giftWrappers=[];const boxTypes=[];const ribbonTypes=[];const giftFurnis=[];this._isEnabled=wrapper.readBoolean();// hotel.gifts.special.price\nthis._price=wrapper.readInt();let _local_3=wrapper.readInt();let i=0;while(i<_local_3){giftWrappers.push(wrapper.readInt());i++;}_local_3=wrapper.readInt();i=0;while(i<_local_3){boxTypes.push(wrapper.readInt());i++;}_local_3=wrapper.readInt();i=0;while(i<_local_3){ribbonTypes.push(wrapper.readInt());i++;}_local_3=wrapper.readInt();i=0;while(i<_local_3){giftFurnis.push(wrapper.readInt());i++;}this._giftWrappers=giftWrappers;this._ribbonTypes=ribbonTypes;this._giftFurnis=giftFurnis;this._boxTypes=boxTypes;return true;}get giftWrappers(){return this._giftWrappers;}get ribbonTypes(){return this._ribbonTypes;}get giftFurnis(){return this._giftFurnis;}get boxTypes(){return this._boxTypes;}get isEnabled(){return this._isEnabled;}get price(){return this._price;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/ClubOfferData.ts\nclass ClubOfferData{constructor(wrapper){this._offerId=void 0;this._productCode=void 0;this._priceCredits=void 0;this._priceActivityPoints=void 0;this._priceActivityPointsType=void 0;this._vip=void 0;this._months=void 0;this._extraDays=void 0;this._daysLeftAfterPurchase=void 0;this._year=void 0;this._month=void 0;this._day=void 0;this._giftable=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._offerId=wrapper.readInt();this._productCode=wrapper.readString();wrapper.readBoolean();this._priceCredits=wrapper.readInt();this._priceActivityPoints=wrapper.readInt();this._priceActivityPointsType=wrapper.readInt();this._vip=wrapper.readBoolean();this._months=wrapper.readInt();this._extraDays=wrapper.readInt();this._giftable=wrapper.readBoolean();this._daysLeftAfterPurchase=wrapper.readInt();this._year=wrapper.readInt();this._month=wrapper.readInt();this._day=wrapper.readInt();}get offerId(){return this._offerId;}get productCode(){return this._productCode;}get priceCredits(){return this._priceCredits;}get priceActivityPoints(){return this._priceActivityPoints;}get priceActivityPointsType(){return this._priceActivityPointsType;}get vip(){return this._vip;}get months(){return this._months;}get extraDays(){return this._extraDays;}get daysLeftAfterPurchase(){return this._daysLeftAfterPurchase;}get year(){return this._year;}get month(){return this._month;}get day(){return this._day;}get giftable(){return this._giftable;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/ClubOfferExtendedData.ts\nclass ClubOfferExtendedData_ClubOfferExtendedData extends ClubOfferData{constructor(wrapper){super(wrapper);this._Str_16193=void 0;this._Str_22071=void 0;this._Str_21178=void 0;this._Str_21024=void 0;this._Str_16193=wrapper.readInt();this._Str_22071=wrapper.readInt();this._Str_21178=wrapper.readInt();this._Str_21024=wrapper.readInt();}get _Str_23477(){return this._Str_16193*this.months;}get _Str_21585(){return this._Str_22071*this.months;}get _Str_22469(){return this._Str_21178;}get _Str_24050(){return this._Str_16193*this.months-this.priceCredits;}get _Str_22280(){return this._Str_21585*this.months-this.priceActivityPoints;}get _Str_21229(){return this._Str_21024;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/HabboClubExtendOfferMessageParser.ts\nclass HabboClubExtendOfferMessageParser_HabboClubExtendOfferMessageParser{constructor(){this._offer=void 0;}flush(){this._offer=null;return true;}parse(wrapper){if(!wrapper)return false;this._offer=new ClubOfferExtendedData_ClubOfferExtendedData(wrapper);return true;}get offer(){return this._offer;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/HabboClubOffersMessageParser.ts\nclass HabboClubOffersMessageParser_HabboClubOffersMessageParser{constructor(){this._offers=void 0;}flush(){this._offers=[];return true;}parse(wrapper){if(!wrapper)return false;let totalOffers=wrapper.readInt();while(totalOffers>0){this._offers.push(new ClubOfferData(wrapper));totalOffers--;}return true;}get offers(){return this._offers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/IsOfferGiftableMessageParser.ts\nclass IsOfferGiftableMessageParser{constructor(){this._offerId=void 0;this._Str_21271=void 0;}flush(){this._offerId=0;this._Str_21271=false;return true;}parse(wrapper){if(!wrapper)return false;this._offerId=wrapper.readInt();this._Str_21271=wrapper.readBoolean();return true;}get offerId(){return this._offerId;}get _Str_18028(){return this._Str_21271;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/LimitedEditionSoldOutParser.ts\nclass LimitedEditionSoldOutParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/LimitedOfferAppearingNextMessageParser.ts\nclass LimitedOfferAppearingNextMessageParser{constructor(){this._Str_6800=void 0;this._pageId=void 0;this._offerId=void 0;this._productType=void 0;}flush(){this._Str_6800=-1;this._pageId=-1;this._offerId=-1;this._productType='';return true;}parse(wrapper){if(!wrapper)return false;this._Str_6800=wrapper.readInt();this._pageId=wrapper.readInt();this._offerId=wrapper.readInt();this._productType=wrapper.readString();return true;}get _Str_23051(){return this._Str_6800;}get pageId(){return this._pageId;}get offerId(){return this._offerId;}get productType(){return this._productType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/NotEnoughBalanceMessageParser.ts\nclass NotEnoughBalanceMessageParser{constructor(){this._Str_17433=false;this._Str_19031=false;this._activityPointType=0;}flush(){this._Str_17433=false;this._Str_19031=false;this._activityPointType=0;return true;}parse(wrapper){if(!wrapper)return false;this._Str_17433=wrapper.readBoolean();this._Str_19031=wrapper.readBoolean();if(wrapper.bytesAvailable)this._activityPointType=wrapper.readInt();return true;}get notEnoughCredits(){return this._Str_17433;}get _Str_24352(){return this._Str_19031;}get activityPointType(){return this._activityPointType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/ProductOfferMessageParser.ts\nclass ProductOfferMessageParser_ProductOfferMessageParser{constructor(){this._offer=void 0;}flush(){this._offer=null;return true;}parse(wrapper){if(!wrapper)return false;this._offer=new CatalogPageMessageOfferData_CatalogPageMessageOfferData(wrapper);return true;}get offer(){return this._offer;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/PurchaseErrorMessageParser.ts\nclass PurchaseErrorMessageParser{constructor(){this._code=void 0;}flush(){this._code=0;return true;}parse(wrapper){if(!wrapper)return false;this._code=wrapper.readInt();return true;}get code(){return this._code;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/PurchaseNotAllowedMessageParser.ts\nclass PurchaseNotAllowedMessageParser{constructor(){this._code=void 0;}flush(){this._code=0;return true;}parse(wrapper){if(!wrapper)return false;this._code=wrapper.readInt();return true;}get code(){return this._code;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/PurchaseOKMessageOfferData.ts\nclass PurchaseOKMessageOfferData_PurchaseOKMessageOfferData{constructor(wrapper){this._offerId=void 0;this._localizationId=void 0;this._rent=void 0;this._priceCredits=void 0;this._priceActivityPoints=void 0;this._priceActivityPointsType=void 0;this._clubLevel=void 0;this._giftable=void 0;this._bundlePurchaseAllowed=void 0;this._products=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._offerId=-1;this._localizationId=null;this._rent=false;this._priceCredits=0;this._priceActivityPoints=0;this._priceActivityPointsType=0;this._clubLevel=0;this._giftable=false;this._bundlePurchaseAllowed=false;this._products=[];return true;}parse(wrapper){if(!wrapper)return false;this._offerId=wrapper.readInt();this._localizationId=wrapper.readString();this._rent=wrapper.readBoolean();this._priceCredits=wrapper.readInt();this._priceActivityPoints=wrapper.readInt();this._priceActivityPointsType=wrapper.readInt();this._giftable=wrapper.readBoolean();let totalProducts=wrapper.readInt();while(totalProducts>0){this._products.push(new CatalogPageMessageProductData(wrapper));totalProducts--;}this._clubLevel=wrapper.readInt();this._bundlePurchaseAllowed=wrapper.readBoolean();return true;}get offerId(){return this._offerId;}get localizationId(){return this._localizationId;}get rent(){return this._rent;}get priceCredits(){return this._priceCredits;}get priceActivityPoints(){return this._priceActivityPoints;}get priceActivityPointsType(){return this._priceActivityPointsType;}get clubLevel(){return this._clubLevel;}get giftable(){return this._giftable;}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed;}get products(){return this._products;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/PurchaseOKMessageParser.ts\nclass PurchaseOKMessageParser_PurchaseOKMessageParser{constructor(){this._offer=void 0;}flush(){this._offer=null;return true;}parse(wrapper){if(!wrapper)return false;this._offer=new PurchaseOKMessageOfferData_PurchaseOKMessageOfferData(wrapper);return true;}get offer(){return this._offer;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/access/UserPermissionsParser.ts\nclass UserPermissionsParser{constructor(){this._clubLevel=void 0;this._securityLevel=void 0;this._isAmbassador=void 0;}flush(){this._clubLevel=0;this._securityLevel=0;this._isAmbassador=false;return true;}parse(wrapper){if(!wrapper)return false;this._clubLevel=wrapper.readInt();this._securityLevel=wrapper.readInt();this._isAmbassador=wrapper.readBoolean();return true;}get clubLevel(){return this._clubLevel;}get securityLevel(){return this._securityLevel;}get isAmbassador(){return this._isAmbassador;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/access/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/ApproveNameResultParser.ts\nclass ApproveNameResultParser{constructor(){this._result=void 0;this._validationInfo=void 0;}flush(){this._result=-1;this._validationInfo='';return true;}parse(wrapper){if(!wrapper)return false;this._result=wrapper.readInt();this._validationInfo=wrapper.readString();return true;}get result(){return this._result;}get validationInfo(){return this._validationInfo;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/enums/RelationshipStatusEnum.ts\nclass RelationshipStatusEnum{}RelationshipStatusEnum.NONE=0;RelationshipStatusEnum.HEART=1;RelationshipStatusEnum.SMILE=2;RelationshipStatusEnum.BOBBA=3;RelationshipStatusEnum.RELATIONSHIP_TYPES=[0,1,2,3];RelationshipStatusEnum.RELATIONSHIP_NAMES=['None','Heart','Smile','Bobba'];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/RelationshipStatusInfo.ts\nclass RelationshipStatusInfo_RelationshipStatusInfo{constructor(wrapper){this._relationshipStatusType=void 0;this._friendCount=void 0;this._randomFriendId=void 0;this._randomFriendName=void 0;this._randomFriendFigure=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._relationshipStatusType=RelationshipStatusEnum.NONE;this._friendCount=0;this._randomFriendId=0;this._randomFriendFigure=null;this._randomFriendName=null;return true;}parse(wrapper){if(!wrapper)return false;this._relationshipStatusType=wrapper.readInt();this._friendCount=wrapper.readInt();this._randomFriendId=wrapper.readInt();this._randomFriendName=wrapper.readString();this._randomFriendFigure=wrapper.readString();return true;}get relationshipStatusType(){return this._relationshipStatusType;}get friendCount(){return this._friendCount;}get randomFriendId(){return this._randomFriendId;}get randomFriendName(){return this._randomFriendName;}get randomFriendFigure(){return this._randomFriendFigure;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/RelationshipStatusInfoMessageParser.ts\nclass RelationshipStatusInfoMessageParser_RelationshipStatusInfoMessageParser{constructor(){this._userId=void 0;this._relationshipStatusMap=void 0;}flush(){this._userId=0;this._relationshipStatusMap=null;return true;}parse(wrapper){if(!wrapper)return false;this._userId=wrapper.readInt();this._relationshipStatusMap=new AdvancedMap();const relationshipsCount=wrapper.readInt();for(let i=0;i<relationshipsCount;i++){const relationship=new RelationshipStatusInfo_RelationshipStatusInfo(wrapper);this._relationshipStatusMap.add(relationship.relationshipStatusType,relationship);}return true;}get userId(){return this._userId;}get relationshipStatusMap(){return this._relationshipStatusMap;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/UserCurrentBadgesParser.ts\nclass UserCurrentBadgesParser{constructor(){this._userId=void 0;this._badges=void 0;}flush(){this._userId=null;this._badges=[];return true;}parse(wrapper){if(!wrapper)return false;this._userId=wrapper.readInt();let totalBadges=wrapper.readInt();while(totalBadges>0){const slotId=wrapper.readInt();const badgeCode=wrapper.readString();this._badges.push(badgeCode);totalBadges--;}return true;}get userId(){return this._userId;}get badges(){return this._badges;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/UserFigureParser.ts\nclass UserFigureParser{constructor(){this._figure=void 0;this._gender=void 0;}flush(){this._figure=null;this._gender=null;return true;}parse(wrapper){if(!wrapper)return false;this._figure=wrapper.readString();this._gender=wrapper.readString();return true;}get figure(){return this._figure;}get gender(){return this._gender;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/UserInfoDataParser.ts\nclass UserInfoDataParser{constructor(wrapper){this._userId=void 0;this._username=void 0;this._figure=void 0;this._gender=void 0;this._motto=void 0;this._realName=void 0;this._directMail=void 0;this._respectsReceived=void 0;this._respectsRemaining=void 0;this._respectsPetRemaining=void 0;this._streamPublishingAllowed=void 0;this._lastAccessDate=void 0;this._canChangeName=void 0;this._safetyLocked=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._userId=0;this._username=null;this._figure=null;this._gender=null;this._motto=null;this._realName=null;this._directMail=false;this._respectsReceived=0;this._respectsRemaining=0;this._respectsPetRemaining=0;this._streamPublishingAllowed=false;this._lastAccessDate=null;this._canChangeName=false;this._safetyLocked=false;return true;}parse(wrapper){if(!wrapper)return false;this._userId=wrapper.readInt();this._username=wrapper.readString();this._figure=wrapper.readString();this._gender=wrapper.readString();this._motto=wrapper.readString();this._realName=wrapper.readString();this._directMail=wrapper.readBoolean();this._respectsReceived=wrapper.readInt();this._respectsRemaining=wrapper.readInt();this._respectsPetRemaining=wrapper.readInt();this._streamPublishingAllowed=wrapper.readBoolean();this._lastAccessDate=wrapper.readString();this._canChangeName=wrapper.readBoolean();this._safetyLocked=wrapper.readBoolean();return true;}get userId(){return this._userId;}get username(){return this._username;}get figure(){return this._figure;}get gender(){return this._gender;}get motto(){return this._motto;}get realName(){return this._realName;}get directMail(){return this._directMail;}get respectsReceived(){return this._respectsReceived;}get respectsRemaining(){return this._respectsRemaining;}get respectsPetRemaining(){return this._respectsPetRemaining;}get streamPublishingAllowed(){return this._streamPublishingAllowed;}get lastAccessedDate(){return this._lastAccessDate;}get canChangeName(){return this._canChangeName;}get safetyLocked(){return this._safetyLocked;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/UserInfoParser.ts\nclass UserInfoParser_UserInfoParser{constructor(){this._userInfo=void 0;}flush(){this._userInfo=null;return true;}parse(wrapper){if(!wrapper)return false;this._userInfo=new UserInfoDataParser(wrapper);if(!this._userInfo)return false;return true;}get userInfo(){return this._userInfo;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/UserNameChangeMessageParser.ts\nclass UserNameChangeMessageParser{constructor(){this._webId=void 0;this._id=void 0;this._newName=void 0;}flush(){this._webId=-1;this._id=-1;this._newName='';return true;}parse(wrapper){if(!wrapper)return false;this._webId=wrapper.readInt();this._id=wrapper.readInt();this._newName=wrapper.readString();return true;}get webId(){return this._webId;}get id(){return this._id;}get newName(){return this._newName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/HabboGroupEntryData.ts\nclass HabboGroupEntryData{constructor(wrapper){this._groupId=void 0;this._groupName=void 0;this._badgeCode=void 0;this._colorA=void 0;this._colorB=void 0;this._favourite=void 0;this._ownerId=void 0;this._hasForum=void 0;this._groupId=wrapper.readInt();this._groupName=wrapper.readString();this._badgeCode=wrapper.readString();this._colorA=wrapper.readString();this._colorB=wrapper.readString();this._favourite=wrapper.readBoolean();this._ownerId=wrapper.readInt();this._hasForum=wrapper.readBoolean();}get groupId(){return this._groupId;}get groupName(){return this._groupName;}get badgeCode(){return this._badgeCode;}get colorA(){return this._colorA;}get colorB(){return this._colorB;}get favourite(){return this._favourite;}get ownerId(){return this._ownerId;}get hasForum(){return this._hasForum;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/UserProfileParser.ts\nclass UserProfileParser_UserProfileParser{constructor(){this._id=void 0;this._username=void 0;this._figure=void 0;this._motto=void 0;this._registration=void 0;this._achievementPoints=void 0;this._friendsCount=void 0;this._isMyFriend=void 0;this._requestSent=void 0;this._isOnline=void 0;this._groups=void 0;this._secondsSinceLastVisit=void 0;this._openProfileWindow=void 0;}flush(){this._id=0;this._username=null;this._figure=null;this._motto=null;this._registration=null;this._achievementPoints=0;this._friendsCount=0;this._isMyFriend=false;this._requestSent=false;this._isOnline=false;this._groups=[];this._secondsSinceLastVisit=0;this._openProfileWindow=false;return true;}parse(wrapper){if(!wrapper)return false;this._id=wrapper.readInt();this._username=wrapper.readString();this._figure=wrapper.readString();this._motto=wrapper.readString();this._registration=wrapper.readString();this._achievementPoints=wrapper.readInt();this._friendsCount=wrapper.readInt();this._isMyFriend=wrapper.readBoolean();this._requestSent=wrapper.readBoolean();this._isOnline=wrapper.readBoolean();const groupsCount=wrapper.readInt();for(let i=0;i<groupsCount;i++){this._groups.push(new HabboGroupEntryData(wrapper));}this._secondsSinceLastVisit=wrapper.readInt();this._openProfileWindow=wrapper.readBoolean();return true;}get id(){return this._id;}get username(){return this._username;}get figure(){return this._figure;}get motto(){return this._motto;}get registration(){return this._registration;}get achievementPoints(){return this._achievementPoints;}get friendsCount(){return this._friendsCount;}get isMyFriend(){return this._isMyFriend;}get requestSent(){return this._requestSent;}get isOnline(){return this._isOnline;}get groups(){return this._groups;}get secondsSinceLastVisit(){return this._secondsSinceLastVisit;}get openProfileWindow(){return this._openProfileWindow;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/UserSettingsParser.ts\nclass UserSettingsParser{constructor(){this._volumeSystem=void 0;this._volumeFurni=void 0;this._volumeTrax=void 0;this._oldChat=void 0;this._roomInvites=void 0;this._cameraFollow=void 0;this._flags=void 0;this._chatType=void 0;}flush(){this._volumeSystem=0;this._volumeFurni=0;this._volumeTrax=0;this._oldChat=false;this._roomInvites=false;this._cameraFollow=false;this._flags=0;this._chatType=0;return true;}parse(wrapper){if(!wrapper)return false;this._volumeSystem=wrapper.readInt();this._volumeFurni=wrapper.readInt();this._volumeTrax=wrapper.readInt();this._oldChat=wrapper.readBoolean();this._roomInvites=wrapper.readBoolean();this._cameraFollow=wrapper.readBoolean();this._flags=wrapper.readInt();this._chatType=wrapper.readInt();return true;}get volumeSystem(){return this._volumeSystem;}get volumeFurni(){return this._volumeFurni;}get volumeTrax(){return this._volumeTrax;}get oldChat(){return this._oldChat;}get roomInvites(){return this._roomInvites;}get cameraFollow(){return this._cameraFollow;}get flags(){return this._flags;}get chatType(){return this._chatType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/HabboGroupBadgesMessageParser.ts\nclass HabboGroupBadgesMessageParser{constructor(){this._badges=void 0;}flush(){this._badges=new Map();return true;}parse(wrapper){if(!wrapper)return false;let badgesCount=wrapper.readInt();while(badgesCount>0){const id=wrapper.readInt();const badge=wrapper.readString();this._badges.set(id,badge);badgesCount--;}return true;}get badges(){return this._badges;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/IgnoredUsersParser.ts\nclass IgnoredUsersParser{constructor(){this._ignoredUsers=void 0;}flush(){this._ignoredUsers=[];return true;}parse(wrapper){if(!wrapper)return false;this._ignoredUsers=[];let count=wrapper.readInt();while(count>0){this._ignoredUsers.push(wrapper.readString());count--;}return true;}get ignoredUsers(){return this._ignoredUsers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/IgnoreResultParser.ts\nclass IgnoreResultParser{constructor(){this._result=void 0;this._name=void 0;}flush(){this._result=-1;this._name=null;return true;}parse(wrapper){if(!wrapper)return false;this._result=wrapper.readInt();this._name=wrapper.readString();return true;}get result(){return this._result;}get name(){return this._name;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/InClientLinkParser.ts\nclass InClientLinkParser{constructor(){this._link=void 0;}flush(){this._link=null;return true;}parse(wrapper){if(!wrapper)return false;this._link=wrapper.readString();return true;}get link(){return this._link;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/inventory/currency/UserCreditsParser.ts\nclass UserCreditsParser{constructor(){this._credits=void 0;}flush(){this._credits=null;return true;}parse(wrapper){if(!wrapper)return false;this._credits=wrapper.readString();return true;}get credits(){return this._credits;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/inventory/currency/UserCurrencyParser.ts\nclass UserCurrencyParser{constructor(){this._currencies=void 0;}flush(){this._currencies=new Map();return true;}parse(wrapper){if(!wrapper)return false;let totalCurrencies=wrapper.readInt();while(totalCurrencies>0){this._currencies.set(wrapper.readInt(),wrapper.readInt());totalCurrencies--;}return true;}get currencies(){return this._currencies;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/inventory/currency/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/inventory/subscription/UserSubscriptionParser.ts\nclass UserSubscriptionParser{constructor(){this._productName=void 0;this._daysToPeriodEnd=void 0;this._memberPeriods=void 0;this._periodsSubscribedAhead=void 0;this._responseType=void 0;this._hasEverBeenMember=void 0;this._isVip=void 0;this._pastClubDays=void 0;this._pastVipDays=void 0;this._minutesUntilExpiration=void 0;this._minutesSinceLastModified=void 0;}flush(){this._productName=null;this._daysToPeriodEnd=0;this._memberPeriods=0;this._periodsSubscribedAhead=0;this._responseType=0;this._hasEverBeenMember=false;this._isVip=false;this._pastClubDays=0;this._pastVipDays=0;this._minutesUntilExpiration=0;this._minutesSinceLastModified=0;return true;}parse(wrapper){if(!wrapper)return false;this._productName=wrapper.readString();this._daysToPeriodEnd=wrapper.readInt();this._memberPeriods=wrapper.readInt();this._periodsSubscribedAhead=wrapper.readInt();this._responseType=wrapper.readInt();this._hasEverBeenMember=wrapper.readBoolean();this._isVip=wrapper.readBoolean();this._pastClubDays=wrapper.readInt();this._pastVipDays=wrapper.readInt();this._minutesUntilExpiration=wrapper.readInt();if(wrapper.bytesAvailable)this._minutesSinceLastModified=wrapper.readInt();return true;}get productName(){return this._productName;}get daysToPeriodEnd(){return this._daysToPeriodEnd;}get memberPeriods(){return this._memberPeriods;}get periodsSubscribedAhead(){return this._periodsSubscribedAhead;}get responseType(){return this._responseType;}get hasEverBeenMember(){return this._hasEverBeenMember;}get isVip(){return this._isVip;}get pastClubDays(){return this._pastClubDays;}get pastVipDays(){return this._pastVipDays;}get minutesUntilExpiration(){return this._minutesUntilExpiration;}get minutesSinceLastModified(){return this._minutesSinceLastModified;}}UserSubscriptionParser.RESPONSE_TYPE_LOGIN=1;UserSubscriptionParser.RESPONSE_TYPE_PURCHASE=2;UserSubscriptionParser.RESPONSE_TYPE_DISCOUNT_AVAILABLE=3;UserSubscriptionParser.RESPONSE_TYPE_CITIZENSHIP_DISCOUNT=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/inventory/subscription/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/inventory/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/pets/PetType.ts\nclass PetType{}PetType.DOG=0;PetType.CAT=1;PetType.CROCODILE=2;PetType.TERRIER=3;PetType.BEAR=4;PetType.PIG=5;PetType.LION=6;PetType.RHINO=7;PetType.SPIDER=8;PetType.TURTLE=9;PetType.CHICKEN=10;PetType.FROG=11;PetType.DRAGON=12;PetType.MONSTER=13;PetType.MONKEY=14;PetType.HORSE=15;PetType.MONSTERPLANT=16;PetType.BUNNY=17;PetType.BUNNYEVIL=18;PetType.BUNNYDEPRESSED=19;PetType.BUNNYLOVE=20;PetType.PIGEONGOOD=21;PetType.PIGEONEVIL=22;PetType.DEMONMONKEY=23;PetType.BABYBEAR=24;PetType.BABYTERRIER=25;PetType.GNOME=26;PetType.LEPRECHAUN=27;PetType.KITTENBABY=28;PetType.PUPPYBABY=29;PetType.PIGLETNBABY=30;PetType.HALOOMPA=31;PetType.FOOLS=32;PetType.PTEROSAUR=33;PetType.VELOCIRAPTOR=34;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/PetFigureDataParser.ts\nclass PetFigureDataParser{constructor(wrapper){this._typeId=void 0;this._paletteId=void 0;this._color=void 0;this._breedId=void 0;this._customPartCount=void 0;this._customParts=void 0;this._typeId=wrapper.readInt();this._paletteId=wrapper.readInt();this._color=wrapper.readString();this._breedId=wrapper.readInt();this._customParts=[];this._customPartCount=wrapper.readInt();let i=0;while(i<this._customPartCount){this._customParts.push(wrapper.readInt());this._customParts.push(wrapper.readInt());this._customParts.push(wrapper.readInt());i++;}}get typeId(){return this._typeId;}get paletteId(){return this._paletteId;}get color(){return this._color;}get breedId(){return this._breedId;}get figuredata(){let figure=this.typeId+' '+this.paletteId+' '+this.color;figure=figure+(' '+this.custompartCount);for(const _local_2 of this.customParts)figure=figure+(' '+_local_2);return figure;}get customParts(){return this._customParts;}get custompartCount(){return this._customPartCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/PetData.ts\nclass PetData_PetData{constructor(wrapper){this._id=void 0;this._name=void 0;this._figureData=void 0;this._level=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._id=wrapper.readInt();this._name=wrapper.readString();this._figureData=new PetFigureDataParser(wrapper);this._level=wrapper.readInt();}get id(){return this._id;}get name(){return this._name;}get typeId(){return this._figureData.typeId;}get paletteId(){return this._figureData.paletteId;}get color(){return this._figureData.color;}get breedId(){return this._figureData.breedId;}get customPartCount(){return this._figureData.custompartCount;}get figureString(){return this._figureData.figuredata;}get figureData(){return this._figureData;}get level(){return this._level;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/PetRespectNotificationParser.ts\nclass PetRespectNotificationParser_PetRespectNotificationParser{constructor(){this._respect=void 0;this._petOwnerId=void 0;this._petData=void 0;}flush(){this._respect=0;this._petOwnerId=0;this._petData=null;return true;}parse(wrapper){if(!wrapper)return false;this._respect=wrapper.readInt();this._petOwnerId=wrapper.readInt();this._petData=new PetData_PetData(wrapper);return true;}get respect(){return this._respect;}get petOwnerId(){return this._petOwnerId;}get petData(){return this._petData;}get isTreat(){return this._petData.typeId===PetType.MONSTERPLANT;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/PetSupplementedNotificationParser.ts\nclass PetSupplementedNotificationParser{constructor(){this._petId=void 0;this._userId=void 0;this._supplementType=void 0;}flush(){this._petId=0;this._userId=0;this._supplementType=0;return true;}parse(wrapper){if(!wrapper)return false;this._petId=wrapper.readInt();this._userId=wrapper.readInt();this._supplementType=wrapper.readInt();return true;}get petId(){return this._petId;}get userId(){return this._userId;}get supplementType(){return this._supplementType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/RespectReceivedParser.ts\nclass RespectReceivedParser{constructor(){this._userId=void 0;this._respectsReceived=void 0;}flush(){this._userId=0;this._respectsReceived=0;return true;}parse(wrapper){if(!wrapper)return false;this._userId=wrapper.readInt();this._respectsReceived=wrapper.readInt();return true;}get userId(){return this._userId;}get respectsReceived(){return this._respectsReceived;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/RoomEntryData.ts\nclass RoomEntryData{constructor(roomId,roomName,hasControllers){this._roomId=void 0;this._roomName=void 0;this._hasControllers=false;this._roomId=roomId;this._roomName=roomName;this._hasControllers=hasControllers;}get roomId(){return this._roomId;}get roomName(){return this._roomName;}get _Str_22776(){return this._hasControllers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/ScrKickbackData.ts\nclass ScrKickbackData{constructor(k){this._currentHcStreak=void 0;this._firstSubscriptionDate=void 0;this._kickbackPercentage=void 0;this._totalCreditsMissed=void 0;this._totalCreditsRewarded=void 0;this._totalCreditsSpent=void 0;this._creditRewardForStreakBonus=void 0;this._creditRewardForMonthlySpent=void 0;this._timeUntilPayday=void 0;this._currentHcStreak=k.readInt();this._firstSubscriptionDate=k.readString();this._kickbackPercentage=k.readDouble();this._totalCreditsMissed=k.readInt();this._totalCreditsRewarded=k.readInt();this._totalCreditsSpent=k.readInt();this._creditRewardForStreakBonus=k.readInt();this._creditRewardForMonthlySpent=k.readInt();this._timeUntilPayday=k.readInt();}get currentHcStreak(){return this._currentHcStreak;}get firstSubscriptionDate(){return this._firstSubscriptionDate;}get kickbackPercentage(){return this._kickbackPercentage;}get totalCreditsMissed(){return this._totalCreditsMissed;}get totalCreditsRewarded(){return this._totalCreditsRewarded;}get totalCreditsSpent(){return this._totalCreditsSpent;}get creditRewardForStreakBonus(){return this._creditRewardForStreakBonus;}get creditRewardForMonthlySpent(){return this._creditRewardForMonthlySpent;}get timeUntilPayday(){return this._timeUntilPayday;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/ScrSendKickbackInfoMessageParser.ts\nclass ScrSendKickbackInfoMessageParser_ScrSendKickbackInfoMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){this._data=new ScrKickbackData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/wardrobe/UserWardrobePageParser.ts\nclass UserWardrobePageParser{constructor(){this._looks=void 0;}flush(){this._looks=new Map();return true;}parse(wrapper){if(!wrapper)return false;wrapper.readInt();let totalLooks=wrapper.readInt();while(totalLooks>0){const slotId=wrapper.readInt();const look=wrapper.readString();const gender=wrapper.readString();this._looks.set(slotId,[look,gender]);totalLooks--;}return true;}get looks(){return this._looks;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/wardrobe/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/RoomAdPurchaseInfoEventParser.ts\nclass RoomAdPurchaseInfoEventParser_RoomAdPurchaseInfoEventParser{constructor(){this._isVip=void 0;this._rooms=void 0;}flush(){this._isVip=false;this._rooms=[];return true;}parse(wrapper){if(!wrapper)return false;this._isVip=wrapper.readBoolean();let count=wrapper.readInt();while(count>0){this._rooms.push(new RoomEntryData(wrapper.readInt(),wrapper.readString(),wrapper.readBoolean()));count--;}return true;}get isVip(){return this._isVip;}get rooms(){return this._rooms;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/SeasonalCalendarDailyOfferMessageParser.ts\nclass SeasonalCalendarDailyOfferMessageParser_SeasonalCalendarDailyOfferMessageParser{constructor(){this._pageId=void 0;this._data=void 0;}flush(){this._pageId=-1;this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._pageId=wrapper.readInt();this._data=new CatalogPageMessageOfferData_CatalogPageMessageOfferData(wrapper);return true;}get pageId(){return this._pageId;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/SellablePetPaletteData.ts\nclass SellablePetPaletteData{constructor(wrapper){this._type=void 0;this._breedId=void 0;this._paletteId=void 0;this._sellable=void 0;this._rare=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._type=-1;this._breedId=-1;this._paletteId=-1;this._sellable=false;this._rare=false;return true;}parse(wrapper){if(!wrapper)return false;this._type=wrapper.readInt();this._breedId=wrapper.readInt();this._paletteId=wrapper.readInt();this._sellable=wrapper.readBoolean();this._rare=wrapper.readBoolean();return true;}get type(){return this._type;}get breedId(){return this._breedId;}get paletteId(){return this._paletteId;}get sellable(){return this._sellable;}get rare(){return this._rare;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/SellablePetPalettesParser.ts\nclass SellablePetPalettesParser_SellablePetPalettesParser{constructor(){this._productCode=void 0;this._palettes=void 0;}flush(){this._productCode='';this._palettes=[];return true;}parse(wrapper){if(!wrapper)return false;this._productCode=wrapper.readString();let totalPalettes=wrapper.readInt();while(totalPalettes>0){this._palettes.push(new SellablePetPaletteData(wrapper));totalPalettes--;}return true;}get productCode(){return this._productCode;}get palettes(){return this._palettes;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/TargetedOfferNotFoundParser.ts\nclass TargetedOfferNotFoundParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/TargetedOfferData.ts\nclass TargetedOfferData_TargetedOfferData{constructor(wrapper){this._id=void 0;this._identifier=void 0;this._type=void 0;this._title=void 0;this._Str_1858=void 0;this._Str_2991=void 0;this._Str_18782=void 0;this._productCode=void 0;this._Str_9772=void 0;this._expirationTime=void 0;this._Str_3594=void 0;this._Str_3539=void 0;this._Str_2956=void 0;this._Str_11962=void 0;this._Str_9163=void 0;this._Str_9163=wrapper.readInt();this._id=wrapper.readInt();this._identifier=wrapper.readString();this._productCode=wrapper.readString();this._Str_3594=wrapper.readInt();this._Str_3539=wrapper.readInt();this._Str_2956=wrapper.readInt();this._Str_9772=wrapper.readInt();const time=wrapper.readInt();this._expirationTime=time>0?time*1000+Nitro_Nitro.instance.time:0;this._title=wrapper.readString();this._Str_1858=wrapper.readString();this._Str_2991=wrapper.readString();this._Str_18782=wrapper.readString();this._type=wrapper.readInt();this._Str_11962=[];let count=wrapper.readInt();while(count>0){this._Str_11962.push(wrapper.readString());count--;}return this;}populate(offerData){if(!offerData)return;this._id=offerData.id;this._identifier=offerData.identifier;this._type=offerData.type;this._title=offerData.title;this._Str_1858=offerData.description;this._Str_2991=offerData.imageUrl;this._Str_18782=offerData._Str_13452;this._productCode=offerData.productCode;this._Str_9772=offerData.purchaseLimit;this._expirationTime=offerData.expirationTime;this._Str_3594=offerData.priceInCredits;this._Str_3539=offerData.priceInActivityPoints;this._Str_2956=offerData.activityPointType;this._Str_11962=offerData._Str_24978;this._Str_9163=offerData._Str_11180;}_Str_24338(k){this._Str_9772=this._Str_9772-k;}get id(){return this._id;}get identifier(){return this._identifier;}get type(){return this._type;}get title(){return this._title;}get description(){return this._Str_1858;}get imageUrl(){return this._Str_2991;}get _Str_13452(){return this._Str_18782;}get productCode(){return this._productCode;}get purchaseLimit(){return this._Str_9772;}get expirationTime(){return this._expirationTime;}get priceInCredits(){return this._Str_3594;}get priceInActivityPoints(){return this._Str_3539;}get activityPointType(){return this._Str_2956;}get _Str_24978(){return this._Str_11962;}get _Str_11180(){return this._Str_9163;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/TargetedOfferParser.ts\nclass TargetedOfferParser_TargetedOfferParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new TargetedOfferData_TargetedOfferData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/VoucherRedeemErrorMessageParser.ts\nclass VoucherRedeemErrorMessageParser{constructor(){this._errorCode='';}flush(){this._errorCode='';return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readString();return true;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/VoucherRedeemOkMessageParser.ts\nclass VoucherRedeemOkMessageParser{constructor(){this._productName='';this._productDescription='';}flush(){this._productDescription='';this._productName='';return true;}parse(wrapper){if(!wrapper)return false;this._productDescription=wrapper.readString();this._productName=wrapper.readString();return true;}get productName(){return this._productName;}get productDescription(){return this._productDescription;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/catalog/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/client/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/CompetitionEntrySubmitResultMessageParser.ts\nclass CompetitionEntrySubmitResultMessageParser{constructor(){this._goalId=void 0;this._goalCode=void 0;this._result=void 0;this._requiredFurnis=void 0;this._missingFurnis=void 0;}flush(){this._goalId=0;this._goalCode=null;this._result=0;this._requiredFurnis=null;this._missingFurnis=null;return true;}parse(wrapper){this._goalId=wrapper.readInt();this._goalCode=wrapper.readString();this._result=wrapper.readInt();this._requiredFurnis=[];let count=wrapper.readInt();while(count>0){this._requiredFurnis.push(wrapper.readString());count--;}count=wrapper.readInt();while(count>0){this._missingFurnis[wrapper.readString()]='';count--;}return true;}get goalId(){return this._goalId;}get goalCode(){return this._goalCode;}get result(){return this._result;}get requiredFurnis(){return this._requiredFurnis;}isMissing(name){return!!this._missingFurnis[name];}}CompetitionEntrySubmitResultMessageParser.SUBMITTED=0;CompetitionEntrySubmitResultMessageParser.ASK_FOR_SUBMIT=1;CompetitionEntrySubmitResultMessageParser.ASK_FOR_CONFIRM=2;CompetitionEntrySubmitResultMessageParser.PREREQUISITES_NOT_MET=3;CompetitionEntrySubmitResultMessageParser.ROOM_DOOR_NOT_OPEN=4;CompetitionEntrySubmitResultMessageParser.ROOM_TOO_OLD=5;CompetitionEntrySubmitResultMessageParser.ASK_FOR_ACCEPT_RULES=6;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/CompetitionVotingInfoResult.ts\nclass CompetitionVotingInfoResult{}CompetitionVotingInfoResult.ALLOWED=0;CompetitionVotingInfoResult.REQUIRED_PERK_MISSING=1;CompetitionVotingInfoResult.REQUIRED_BADGE_MISSING=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/CompetitionVotingInfoMessageParser.ts\nclass CompetitionVotingInfoMessageParser_CompetitionVotingInfoMessageParser{constructor(){this._goalId=void 0;this._goalCode=void 0;this._resultCode=void 0;this._votesRemaining=void 0;}flush(){this._goalId=0;this._goalCode=null;this._resultCode=0;this._votesRemaining=0;return true;}parse(wrapper){this._goalId=wrapper.readInt();this._goalCode=wrapper.readString();this._resultCode=wrapper.readInt();this._votesRemaining=wrapper.readInt();return true;}get goalId(){return this._goalId;}get goalCode(){return this._goalCode;}get isVotingAllowedForUser(){return this._resultCode===CompetitionVotingInfoResult.ALLOWED;}get votesRemaining(){return this._votesRemaining;}get resultCode(){return this._resultCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/CurrentTimingCodeMessageParser.ts\nclass CurrentTimingCodeMessageParser{constructor(){this._schedulingStr=void 0;this._code=void 0;}flush(){this._schedulingStr=null;this._code=null;return true;}parse(wrapper){this._schedulingStr=wrapper.readString();this._code=wrapper.readString();return true;}get schedulingStr(){return this._schedulingStr;}get code(){return this._code;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/IsUserPartOfCompetitionMessageParser.ts\nclass IsUserPartOfCompetitionMessageParser{constructor(){this._Str_8579=void 0;this._Str_6987=void 0;}flush(){this._Str_8579=false;this._Str_6987=0;return true;}parse(wrapper){this._Str_8579=wrapper.readBoolean();this._Str_6987=wrapper.readInt();return true;}get _Str_25348(){return this._Str_8579;}get _Str_10760(){return this._Str_6987;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/NoOwnedRoomsAlertMessageParser.ts\nclass NoOwnedRoomsAlertMessageParser{flush(){return true;}parse(wrapper){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/SecondsUntilMessageParser.ts\nclass SecondsUntilMessageParser{constructor(){this._Str_8997=void 0;this._Str_21095=void 0;}flush(){this._Str_8997=null;this._Str_21095=0;return true;}parse(wrapper){this._Str_8997=wrapper.readString();this._Str_21095=wrapper.readInt();return true;}get _Str_23288(){return this._Str_8997;}get _Str_25497(){return this._Str_21095;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/competition/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/crafting/CraftingResultObjectParser.ts\nclass CraftingResultObjectParser{constructor(wrapper){this._recipeName=void 0;this._itemName=void 0;this._recipeName=wrapper.readString();this._itemName=wrapper.readString();}get recipeName(){return this._recipeName;}get itemName(){return this._itemName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/crafting/CraftableProductsMessageParser.ts\nclass CraftableProductsMessageParser_CraftableProductsMessageParser{constructor(){this._recipes=void 0;this._ingredients=void 0;this._recipes=[];this._ingredients=[];}flush(){this._recipes=[];this._ingredients=[];return true;}parse(wrapper){if(!wrapper)return false;const craftingResultCount=wrapper.readInt();for(let i=0;i<craftingResultCount;i++){this._recipes.push(new CraftingResultObjectParser(wrapper));}const ingredientCount=wrapper.readInt();for(let i=0;i<ingredientCount;i++){this._ingredients.push(wrapper.readString());}return true;}get recipes(){return this._recipes;}get ingredients(){return this._ingredients;}isActive(){return this._recipes.length>0||this._ingredients.length>0;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/crafting/CraftingRecipeIngredientParser.ts\nclass CraftingRecipeIngredientParser{constructor(wrapper){this._count=void 0;this._itemName=void 0;this._count=wrapper.readInt();this._itemName=wrapper.readString();}get count(){return this._count;}get itemName(){return this._itemName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/crafting/CraftingRecipeMessageParser.ts\nclass CraftingRecipeMessageParser_CraftingRecipeMessageParser{constructor(){this._ingredients=void 0;this._ingredients=[];}parse(wrapper){if(!wrapper)return false;const ingredientCount=wrapper.readInt();for(let i=0;i<ingredientCount;i++){this._ingredients.push(new CraftingRecipeIngredientParser(wrapper));}return true;}flush(){this._ingredients=[];return true;}get ingredients(){return this._ingredients;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/crafting/CraftingRecipesAvailableMessageParser.ts\nclass CraftingRecipesAvailableMessageParser{constructor(){this._hasRecipes=void 0;this._count=void 0;}parse(wrapper){if(!wrapper)return false;this._count=wrapper.readInt();this._hasRecipes=wrapper.readBoolean();return true;}flush(){this._count=0;this._hasRecipes=false;return true;}get count(){return this._count;}get hasRecipes(){return this._hasRecipes;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/crafting/CraftingResultMessageParser.ts\nclass CraftingResultMessageParser_CraftingResultMessageParser{constructor(){this._success=void 0;this._result=void 0;}parse(wrapper){if(!wrapper)return false;this._success=wrapper.readBoolean();if(this._success){this._result=new CraftingResultObjectParser(wrapper);}return true;}flush(){this._success=false;return true;}get success(){return this._success;}get result(){return this._result;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/crafting/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/desktop/DesktopViewParser.ts\nclass DesktopViewParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/desktop/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/AcceptFriendFailureData.ts\nclass AcceptFriendFailerData{constructor(wrapper){this._senderId=void 0;this._errorCode=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._senderId=wrapper.readInt();this._errorCode=wrapper.readInt();}get senderId(){return this._senderId;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/AcceptFriendResultParser.ts\nclass AcceptFriendResultParser_AcceptFriendResultParser{constructor(){this._failuers=void 0;}flush(){this._failuers=[];return true;}parse(wrapper){if(!wrapper)return false;let totalFailures=wrapper.readInt();while(totalFailures>0){this._failuers.push(new AcceptFriendFailerData(wrapper));totalFailures--;}return true;}get failures(){return this._failuers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/FindFriendsProcessResultParser.ts\nclass FindFriendsProcessResultParser{constructor(){this._success=void 0;}flush(){this._success=false;return true;}parse(wrapper){if(!wrapper)return false;this._success=wrapper.readBoolean();return true;}get success(){return this._success;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/FollowFriendFailedParser.ts\nclass FollowFriendFailedParser{constructor(){this._errorCode=void 0;}flush(){this._errorCode=0;return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();return true;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FriendParser.ts\nclass FriendParser{constructor(wrapper){this._id=void 0;this._name=void 0;this._gender=void 0;this._online=void 0;this._followingAllowed=void 0;this._figure=void 0;this._categoryId=void 0;this._motto=void 0;this._realName=void 0;this._lastAccess=void 0;this._persistedMessageUser=void 0;this._vipMember=void 0;this._pocketHabboUser=void 0;this._relationshipStatus=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._id=wrapper.readInt();this._name=wrapper.readString();this._gender=wrapper.readInt();this._online=wrapper.readBoolean();this._followingAllowed=wrapper.readBoolean();this._figure=wrapper.readString();this._categoryId=wrapper.readInt();this._motto=wrapper.readString();this._realName=wrapper.readString();this._lastAccess=wrapper.readString();this._persistedMessageUser=wrapper.readBoolean();this._vipMember=wrapper.readBoolean();this._pocketHabboUser=wrapper.readBoolean();this._relationshipStatus=wrapper.readShort();}get id(){return this._id;}get name(){return this._name;}get gender(){return this._gender;}get online(){return this._online;}get followingAllowed(){return this._followingAllowed;}get figure(){return this._figure;}get categoryId(){return this._categoryId;}get motto(){return this._motto;}get lastAccess(){return this._lastAccess;}get realName(){return this._realName;}get persistedMessageUser(){return this._persistedMessageUser;}get vipMember(){return this._vipMember;}get pocketHabboUser(){return this._pocketHabboUser;}get relationshipStatus(){return this._relationshipStatus;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/FriendListFragmentMessageParser.ts\nclass FriendListFragmentMessageParser_FriendListFragmentParser{constructor(){this._totalFragments=void 0;this._fragmentNumber=void 0;this._fragment=void 0;}flush(){this._totalFragments=0;this._fragmentNumber=0;this._fragment=[];return true;}parse(wrapper){if(!wrapper)return false;this._totalFragments=wrapper.readInt();this._fragmentNumber=wrapper.readInt();let totalFriends=wrapper.readInt();while(totalFriends>0){this._fragment.push(new FriendParser(wrapper));totalFriends--;}return true;}get totalFragments(){return this._totalFragments;}get fragmentNumber(){return this._fragmentNumber;}get fragment(){return this._fragment;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FriendCategoryData.ts\nclass FriendCategoryData{constructor(wrapper){this._id=void 0;this._name=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._id=wrapper.readInt();this._name=wrapper.readString();}get id(){return this._id;}get name(){return this._name;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/FriendListUpdateParser.ts\nclass FriendListUpdateParser_FriendListUpdateParser{constructor(){this._categories=void 0;this._removedFriendIds=void 0;this._addedFriends=void 0;this._updatedFriends=void 0;}flush(){this._categories=[];this._removedFriendIds=[];this._addedFriends=[];this._updatedFriends=[];return true;}parse(wrapper){if(!wrapper)return false;let totalCategories=wrapper.readInt();while(totalCategories>0){this._categories.push(new FriendCategoryData(wrapper));totalCategories--;}let totalUpdates=wrapper.readInt();while(totalUpdates>0){const type=wrapper.readInt();if(type===-1){this._removedFriendIds.push(wrapper.readInt());}else if(type===0){this._updatedFriends.push(new FriendParser(wrapper));}else if(type===1){this._addedFriends.push(new FriendParser(wrapper));}totalUpdates--;}return true;}get categories(){return this._categories;}get removedFriendIds(){return this._removedFriendIds;}get addedFriends(){return this._addedFriends;}get updatedFriends(){return this._updatedFriends;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/FriendNotificationParser.ts\nclass FriendNotificationParser{constructor(){this._typeCode=void 0;this._avatarId=void 0;this._message=void 0;}flush(){this._typeCode=-1;this._avatarId=0;this._message=null;return true;}parse(wrapper){if(!wrapper)return false;this._typeCode=wrapper.readInt();this._avatarId=wrapper.readInt();this._message=wrapper.readString();return true;}get typeCode(){return this._typeCode;}get avatarId(){return this._avatarId;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FriendRequestData.ts\nclass FriendRequestData{constructor(wrapper){this._requestId=void 0;this._requesterName=void 0;this._requesterUserId=void 0;this._figureString=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._requestId=wrapper.readInt();this._requesterName=wrapper.readString();this._figureString=wrapper.readString();this._requesterUserId=this._requestId;}get requestId(){return this._requestId;}get requesterName(){return this._requesterName;}get requesterUserId(){return this._requesterUserId;}get figureString(){return this._figureString;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/FriendRequestsParser.ts\nclass FriendRequestsParser_FriendRequestsParser{constructor(){this._totalRequests=void 0;this._requests=void 0;}flush(){this._totalRequests=0;this._requests=[];return true;}parse(wrapper){if(!wrapper)return false;this._totalRequests=wrapper.readInt();let totalRequests=wrapper.readInt();while(totalRequests>0){this._requests.push(new FriendRequestData(wrapper));totalRequests--;}return true;}get totalRequests(){return this._totalRequests;}get requests(){return this._requests;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/HabboSearchResultData.ts\nclass HabboSearchResultData{constructor(wrapper){this._avatarId=void 0;this._avatarName=void 0;this._avatarMotto=void 0;this._isAvatarOnline=void 0;this._canFollow=void 0;this._avatarGender=void 0;this._avatarFigure=void 0;this._lastOnlineData=void 0;this._realName=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._avatarId=wrapper.readInt();this._avatarName=wrapper.readString();this._avatarMotto=wrapper.readString();this._isAvatarOnline=wrapper.readBoolean();this._canFollow=wrapper.readBoolean();this._lastOnlineData=wrapper.readString();// this was not assigned to anything on original packet\nthis._avatarGender=wrapper.readInt();this._avatarFigure=wrapper.readString();this._realName=wrapper.readString();}get avatarId(){return this._avatarId;}get avatarName(){return this._avatarName;}get avatarMotto(){return this._avatarMotto;}get isAvatarOnline(){return this._isAvatarOnline;}get canFollow(){return this._canFollow;}get avatarGender(){return this._avatarGender;}get avatarFigure(){return this._avatarFigure;}get lastOnlineData(){return this._lastOnlineData;}get realName(){return this._realName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/HabboSearchResultParser.ts\nclass HabboSearchResultParser_HabboSearchResultParser{constructor(){this._friends=void 0;this._others=void 0;}flush(){this._friends=[];this._others=[];return true;}parse(wrapper){if(!wrapper)return false;let totalFriends=wrapper.readInt();while(totalFriends>0){this._friends.push(new HabboSearchResultData(wrapper));totalFriends--;}let totalOthers=wrapper.readInt();while(totalOthers>0){this._others.push(new HabboSearchResultData(wrapper));totalOthers--;}return true;}get friends(){return this._friends;}get others(){return this._others;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/InstantMessageErrorParser.ts\nclass InstantMessageErrorParser{constructor(){this._errorCode=void 0;this._userId=void 0;this._message=void 0;}flush(){this._errorCode=0;this._userId=0;this._message=null;return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();this._userId=wrapper.readInt();this._message=wrapper.readString();return true;}get errorCode(){return this._errorCode;}get userId(){return this._userId;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/MessageErrorParser.ts\nclass MessageErrorParser{constructor(){this._clientMessageId=void 0;this._errorCode=void 0;}flush(){this._clientMessageId=0;this._errorCode=0;return true;}parse(wrapper){if(!wrapper)return false;this._clientMessageId=wrapper.readInt();this._errorCode=wrapper.readInt();return true;}get clientMessageId(){return this._clientMessageId;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/MessengerInitParser.ts\nclass MessengerInitParser_MessengerInitParser{constructor(){this._userFriendLimit=void 0;this._normalFriendLimit=void 0;this._extendedFriendLimit=void 0;this._categories=void 0;}flush(){this._userFriendLimit=0;this._normalFriendLimit=0;this._extendedFriendLimit=0;this._categories=[];return true;}parse(wrapper){if(!wrapper)return false;this._userFriendLimit=wrapper.readInt();this._normalFriendLimit=wrapper.readInt();this._extendedFriendLimit=wrapper.readInt();let totalCategories=wrapper.readInt();while(totalCategories>0){this._categories.push(new FriendCategoryData(wrapper));totalCategories--;}return true;}get userFriendLimit(){return this._userFriendLimit;}get normalFriendLimit(){return this._normalFriendLimit;}get extendedFriendLimit(){return this._extendedFriendLimit;}get categories(){return this._categories;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/MiniMailNewMessageParser.ts\nclass MiniMailNewMessageParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/MiniMailUnreadCountParser.ts\nclass MiniMailUnreadCountParser{constructor(){this._count=void 0;}flush(){this._count=0;return true;}parse(wrapper){if(!wrapper)return false;this._count=wrapper.readInt();return true;}get count(){return this._count;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/NewConsoleMessageParser.ts\nclass NewConsoleMessageParser{constructor(){this._senderId=void 0;this._messageText=void 0;this._secondsSinceSent=void 0;this._extraData=void 0;}flush(){this._senderId=0;this._messageText=null;this._secondsSinceSent=0;this._extraData=null;return true;}parse(wrapper){if(!wrapper)return false;this._senderId=wrapper.readInt();this._messageText=wrapper.readString();this._secondsSinceSent=wrapper.readInt();if(wrapper.bytesAvailable){this._extraData=wrapper.readString();}return true;}get senderId(){return this._senderId;}get messageText(){return this._messageText;}get secondsSinceSent(){return this._secondsSinceSent;}get extraData(){return this._extraData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/NewFriendRequestMessageParser.ts\nclass NewFriendRequestMessageParser_NewFriendRequestParser{constructor(){this._request=void 0;}flush(){this._request=null;return true;}parse(wrapper){if(!wrapper)return false;this._request=new FriendRequestData(wrapper);return true;}get request(){return this._request;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/RoomInviteErrorParser.ts\nclass RoomInviteErrorParser{constructor(){this._errorCode=void 0;this._failedRecipients=void 0;}flush(){this._errorCode=0;this._failedRecipients=[];return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();let totalFailed=wrapper.readInt();while(totalFailed>0){this._failedRecipients.push(wrapper.readInt());totalFailed--;}return true;}get errorCode(){return this._errorCode;}get failedRecipients(){return this._failedRecipients;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/RoomInviteMessageParser.ts\nclass RoomInviteParser{constructor(){this._senderId=void 0;this._messageText=void 0;}flush(){this._senderId=0;this._messageText=null;return true;}parse(wrapper){if(!wrapper)return false;this._senderId=wrapper.readInt();this._messageText=wrapper.readString();return true;}get senderId(){return this._senderId;}get messageText(){return this._messageText;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/friendlist/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/game/LoadGameUrlParser.ts\nclass LoadGameUrlParser{constructor(){this._gameTypeId=void 0;this._url=void 0;this._gameClientId=void 0;}flush(){this._gameTypeId=0;this._url=null;this._gameClientId=null;return true;}parse(wrapper){if(!wrapper)return false;this._gameTypeId=wrapper.readInt();this._gameClientId=wrapper.readString();this._url=wrapper.readString();return true;}get gameTypeId(){return this._gameTypeId;}get url(){return this._url;}get gameClientId(){return this._gameClientId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/game/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/generic/GenericErrorParser.ts\nclass GenericErrorParser{constructor(){this._errorCode=void 0;}flush(){this._errorCode=0;return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();return true;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/generic/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/GroupBadgePartsParser.ts\nclass GroupBadgePartsParser{constructor(){this._bases=void 0;this._symbols=void 0;this._partColors=void 0;this._colorsA=void 0;this._colorsB=void 0;}flush(){this._bases=new Map();this._symbols=new Map();this._partColors=new Map();this._colorsA=new Map();this._colorsB=new Map();return true;}parse(wrapper){if(!wrapper)return false;let basesCount=wrapper.readInt();while(basesCount>0){const id=wrapper.readInt();const valueA=wrapper.readString();const valueB=wrapper.readString();this._bases.set(id,[valueA,valueB]);basesCount--;}let symbolsCount=wrapper.readInt();while(symbolsCount>0){const id=wrapper.readInt();const valueA=wrapper.readString();const valueB=wrapper.readString();this._symbols.set(id,[valueA,valueB]);symbolsCount--;}let partColorsCount=wrapper.readInt();while(partColorsCount>0){const id=wrapper.readInt();const color=wrapper.readString();this._partColors.set(id,color);partColorsCount--;}let colorsACount=wrapper.readInt();while(colorsACount>0){const id=wrapper.readInt();const color=wrapper.readString();this._colorsA.set(id,color);colorsACount--;}let colorsBCount=wrapper.readInt();while(colorsBCount>0){const id=wrapper.readInt();const color=wrapper.readString();this._colorsB.set(id,color);colorsBCount--;}return true;}get bases(){return this._bases;}get symbols(){return this._symbols;}get partColors(){return this._partColors;}get colorsA(){return this._colorsA;}get colorsB(){return this._colorsB;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/GroupBuyDataParser.ts\nclass GroupBuyDataParser{constructor(){this._groupCost=void 0;this._availableRooms=void 0;}flush(){this._groupCost=0;this._availableRooms=new Map();return true;}parse(wrapper){if(!wrapper)return false;this._groupCost=wrapper.readInt();let availableRoomsCount=wrapper.readInt();while(availableRoomsCount>0){const roomId=wrapper.readInt();const roomName=wrapper.readString();wrapper.readBoolean();this._availableRooms.set(roomId,roomName);availableRoomsCount--;}return true;}get groupCost(){return this._groupCost;}get availableRooms(){return this._availableRooms;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/GroupConfirmMemberRemoveParser.ts\nclass GroupConfirmMemberRemoveParser{constructor(){this._userId=void 0;this._furnitureCount=void 0;}flush(){this._userId=0;this._furnitureCount=0;return true;}parse(wrapper){if(!wrapper)return false;this._userId=wrapper.readInt();this._furnitureCount=wrapper.readInt();return true;}get userId(){return this._userId;}get furnitureCount(){return this._furnitureCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/GroupInformationParser.ts\nclass GroupInformationParser{constructor(){this._id=void 0;this._type=void 0;this._title=void 0;this._description=void 0;this._badge=void 0;this._roomId=void 0;this._roomName=void 0;this._membershipType=void 0;this._membersCount=void 0;this._isFavorite=void 0;this._createdAt=void 0;this._isOwner=void 0;this._isAdmin=void 0;this._ownerName=void 0;this._flag=void 0;this._canMembersDecorate=void 0;this._pendingRequestsCount=void 0;}flush(){this._id=0;this._type=0;this._title=null;this._description=null;this._badge=null;this._roomId=0;this._roomName=null;this._membershipType=0;this._membersCount=0;this._isFavorite=false;this._createdAt=null;this._isOwner=false;this._isAdmin=false;this._ownerName=null;this._flag=false;this._canMembersDecorate=false;this._pendingRequestsCount=0;return true;}parse(wrapper){if(!wrapper)return false;this._id=wrapper.readInt();wrapper.readBoolean();this._type=wrapper.readInt();this._title=wrapper.readString();this._description=wrapper.readString();this._badge=wrapper.readString();this._roomId=wrapper.readInt();this._roomName=wrapper.readString();this._membershipType=wrapper.readInt();this._membersCount=wrapper.readInt();this._isFavorite=wrapper.readBoolean();this._createdAt=wrapper.readString();this._isOwner=wrapper.readBoolean();this._isAdmin=wrapper.readBoolean();this._ownerName=wrapper.readString();this._flag=wrapper.readBoolean();this._canMembersDecorate=wrapper.readBoolean();this._pendingRequestsCount=wrapper.readInt();return true;}get id(){return this._id;}get type(){return this._type;}get title(){return this._title;}get description(){return this._description;}get badge(){return this._badge;}get roomId(){return this._roomId;}get roomName(){return this._roomName;}get membershipType(){return this._membershipType;}get membersCount(){return this._membersCount;}get isFavorite(){return this._isFavorite;}get createdAt(){return this._createdAt;}get isOwner(){return this._isOwner;}get isAdmin(){return this._isAdmin;}get ownerName(){return this._ownerName;}get flag(){return this._flag;}get canMembersDecorate(){return this._canMembersDecorate;}get pendingRequestsCount(){return this._pendingRequestsCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/utils/GroupDataBadgePart.ts\nclass GroupDataBadgePart{constructor(isBase){this.isBase=void 0;this.key=void 0;this.color=void 0;this.position=void 0;this.isBase=isBase;this.key=0;this.color=0;this.position=4;}get code(){if(this.key===0)return null;return(this.isBase?'b':'s')+(this.key<100?'0':'')+(this.key<10?'0':'')+this.key+(this.color<10?'0':'')+this.color+this.position;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/utils/GroupMemberParser.ts\nclass GroupRank{}GroupRank.OWNER=0;GroupRank.ADMIN=1;GroupRank.MEMBER=2;GroupRank.REQUESTED=3;GroupRank.DELETED=4;class GroupMemberParser{constructor(wrapper){this._rank=void 0;this._id=void 0;this._name=void 0;this._figure=void 0;this._joinedAt=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._rank=-1;this._id=0;this._name=null;this._figure=null;this._joinedAt=null;return true;}parse(wrapper){if(!wrapper)return false;this._rank=wrapper.readInt();this._id=wrapper.readInt();this._name=wrapper.readString();this._figure=wrapper.readString();this._joinedAt=wrapper.readString();return true;}get id(){return this._id;}get name(){return this._name;}get figure(){return this._figure;}get rank(){return this._rank;}get joinedAt(){return this._joinedAt;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/GroupMembersParser.ts\nclass GroupMembersParser_GroupMembersParser{constructor(){this._groupId=void 0;this._groupTitle=void 0;this._roomId=void 0;this._badge=void 0;this._totalMembersCount=void 0;this._result=void 0;this._admin=void 0;this._pageSize=void 0;this._pageIndex=void 0;this._level=void 0;this._query=void 0;}flush(){this._groupId=0;this._groupTitle=null;this._roomId=0;this._badge=null;this._totalMembersCount=0;this._result=[];this._admin=false;this._pageSize=0;this._pageIndex=0;this._level=0;this._query=null;return true;}parse(wrapper){if(!wrapper)return false;this._groupId=wrapper.readInt();this._groupTitle=wrapper.readString();this._roomId=wrapper.readInt();this._badge=wrapper.readString();this._totalMembersCount=wrapper.readInt();let resultCount=wrapper.readInt();while(resultCount>0){this._result.push(new GroupMemberParser(wrapper));resultCount--;}this._admin=wrapper.readBoolean();this._pageSize=wrapper.readInt();this._pageIndex=wrapper.readInt();this._level=wrapper.readInt();this._query=wrapper.readString();return true;}get groupId(){return this._groupId;}get groupTitle(){return this._groupTitle;}get roomId(){return this._roomId;}get badge(){return this._badge;}get totalMembersCount(){return this._totalMembersCount;}get result(){return this._result;}get admin(){return this._admin;}get pageSize(){return this._pageSize;}get pageIndex(){return this._pageIndex;}get level(){return this._level;}get query(){return this._query;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/GroupPurchasedParser.ts\nclass GroupPurchasedParser{constructor(){this._roomId=void 0;this._groupId=void 0;}flush(){this._roomId=0;this._groupId=0;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._groupId=wrapper.readInt();return true;}get roomId(){return this._roomId;}get guildId(){return this._groupId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/GroupSettingsParser.ts\nclass GroupSettingsParser_GroupSettingsParser{constructor(){this._roomId=void 0;this._roomName=void 0;this._id=void 0;this._title=void 0;this._description=void 0;this._colorA=void 0;this._colorB=void 0;this._state=void 0;this._canMembersDecorate=void 0;this._badgeParts=void 0;this._badgeCode=void 0;this._membersCount=void 0;}flush(){this._roomId=0;this._roomName=null;this._id=0;this._title=null;this._description=null;this._colorA=0;this._colorB=0;this._state=0;this._canMembersDecorate=false;this._badgeParts=new Map();this._badgeCode=null;this._membersCount=0;return true;}parse(wrapper){if(!wrapper)return false;const hasRoomData=wrapper.readInt();if(hasRoomData===1){this._roomId=wrapper.readInt();this._roomName=wrapper.readString();wrapper.readBoolean();}wrapper.readBoolean();this._id=wrapper.readInt();this._title=wrapper.readString();this._description=wrapper.readString();wrapper.readInt();this._colorA=wrapper.readInt();this._colorB=wrapper.readInt();this._state=wrapper.readInt();this._canMembersDecorate=wrapper.readInt()===0;wrapper.readBoolean();wrapper.readString();const badgePartsCount=wrapper.readInt();for(let i=0;i<badgePartsCount;i++){const part=new GroupDataBadgePart(i===0);part.key=wrapper.readInt();part.color=wrapper.readInt();part.position=wrapper.readInt();if(part.key===0){part.position=4;}this._badgeParts.set(i,part);}this._badgeCode=wrapper.readString();this._membersCount=wrapper.readInt();return true;}get roomId(){return this._roomId;}get roomName(){return this._roomName;}get id(){return this._id;}get title(){return this._title;}get description(){return this._description;}get colorA(){return this._colorA;}get colorB(){return this._colorB;}get state(){return this._state;}get canMembersDecorate(){return this._canMembersDecorate;}get badgeParts(){return this._badgeParts;}get badgeCode(){return this._badgeCode;}get membersCount(){return this._membersCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/HabboGroupDeactivatedMessageParser.ts\nclass HabboGroupDeactivatedMessageParser{constructor(){this._groupId=void 0;}flush(){return true;}parse(wrapper){this._groupId=wrapper.readInt();return true;}get groupId(){return this._groupId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/group/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/handshake/NoobnessLevelMessageParser.ts\nclass NoobnessLevelMessageParser{constructor(){this._noobnessLevel=void 0;}flush(){this._noobnessLevel=0;return true;}parse(wrapper){if(!wrapper)return false;this._noobnessLevel=wrapper.readInt();return true;}get noobnessLevel(){return this._noobnessLevel;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/handshake/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/CallForHelpDisabledNotifyMessageParser.ts\nclass CallForHelpDisabledNotifyMessageParser{constructor(){this._infoUrl=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._infoUrl=wrapper.readString();return true;}get infoUrl(){return this._infoUrl;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/CallForHelpPendingCallsDeletedMessageParser.ts\nclass CallForHelpPendingCallsDeletedMessageParser{flush(){return true;}parse(wrapper){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/CallForHelpPendingCallsMessageParser.ts\nclass CallForHelpPendingCallsMessageParser{constructor(){this._calls=void 0;}flush(){this._calls=[];return true;}parse(wrapper){this._calls=[];const count=wrapper.readInt();for(let i=0;i<count;i++){const callId=wrapper.readString();const timestamp=wrapper.readString();const message=wrapper.readString();this._calls.push({callId:callId,timeStamp:timestamp,message:message});}return true;}get pendingCalls(){return this._calls;}get count(){return this._calls.length;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/CallForHelpReplyMessageParser.ts\nclass CallForHelpReplyMessageParser{constructor(){this._message=void 0;}flush(){this._message=null;return true;}parse(wrapper){this._message=wrapper.readString();return true;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/CallForHelpResultMessageParser.ts\nclass CallForHelpResultMessageParser{constructor(){this._resultType=void 0;this._messageText=void 0;}flush(){this._resultType=0;this._messageText=null;return true;}parse(wrapper){if(!wrapper)return false;this._resultType=wrapper.readInt();this._messageText=wrapper.readString();return true;}get resultType(){return this._resultType;}get messageText(){return this._messageText;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/ChatReviewSessionDetachedMessageParser.ts\nclass ChatReviewSessionDetachedMessageParser{flush(){return true;}parse(wrapper){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/ChatReviewSessionOfferedToGuideMessageParser.ts\nclass ChatReviewSessionOfferedToGuideMessageParser{constructor(){this._acceptanceTimeout=void 0;}flush(){this._acceptanceTimeout=-1;return true;}parse(wrapper){this._acceptanceTimeout=wrapper.readInt();return true;}get acceptanceTimeout(){return this._acceptanceTimeout;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/ChatReviewSessionResultsMessageParser.ts\nclass ChatReviewSessionResultsMessageParser{constructor(){this._winningVoteCode=void 0;this._ownVoteCode=void 0;this._finalStatus=void 0;}flush(){this._winningVoteCode=-1;this._ownVoteCode=-1;this._finalStatus=null;return true;}parse(wrapper){this._finalStatus=[];this._winningVoteCode=wrapper.readInt();this._ownVoteCode=wrapper.readInt();const count=wrapper.readInt();for(let i=0;i<count;i++){this._finalStatus.push(wrapper.readInt());}return true;}get winningVoteCode(){return this._winningVoteCode;}get ownVoteCode(){return this._ownVoteCode;}get finalStatus(){return this._finalStatus;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/ChatReviewSessionStartedMessageParser.ts\nclass ChatReviewSessionStartedMessageParser{constructor(){this._votingTimeout=void 0;this._chatRecord=void 0;}flush(){return true;}parse(wrapper){this._votingTimeout=wrapper.readInt();this._chatRecord=wrapper.readString();return true;}get votingTimeout(){return this._votingTimeout;}get chatRecord(){return this._chatRecord;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/ChatReviewSessionVotingStatusMessageParser.ts\nclass ChatReviewSessionVotingStatusMessageParser{constructor(){this._status=void 0;}flush(){this._status=null;return true;}parse(wrapper){this._status=[];const count=wrapper.readInt();for(let i=0;i<count;i++){this._status.push(wrapper.readInt());}return true;}get status(){return this._status;}}ChatReviewSessionVotingStatusMessageParser.AWAITING_VOTE=0;ChatReviewSessionVotingStatusMessageParser.VOTED_OK=1;ChatReviewSessionVotingStatusMessageParser.VOTED_BAD=2;ChatReviewSessionVotingStatusMessageParser.VOTED_VERY_BAD=3;ChatReviewSessionVotingStatusMessageParser.NO_VOTE=4;ChatReviewSessionVotingStatusMessageParser.FINDING_NEW_VOTER=5;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideOnDutyStatusMessageParser.ts\nclass GuideOnDutyStatusMessageParser{constructor(){this._onDuty=void 0;this._guidesOnDuty=void 0;this._helpersOnDuty=void 0;this._guardiansOnDuty=void 0;}flush(){this._onDuty=false;this._guidesOnDuty=0;this._helpersOnDuty=0;this._guardiansOnDuty=0;return true;}parse(wrapper){if(!wrapper)return false;this._onDuty=wrapper.readBoolean();this._guidesOnDuty=wrapper.readInt();this._helpersOnDuty=wrapper.readInt();this._guardiansOnDuty=wrapper.readInt();return true;}get onDuty(){return this._onDuty;}get guidesOnDuty(){return this._guidesOnDuty;}get helpersOnDuty(){return this._helpersOnDuty;}get guardiansOnDuty(){return this._guardiansOnDuty;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/common/PendingGuideTicketData.ts\nclass PendingGuideTicketData{constructor(type,secondsAgo,isGuide,otherPartyName,otherPartyFigure,description,roomName){this._type=void 0;this._secondsAgo=void 0;this._isGuide=void 0;this._otherPartyName=void 0;this._otherPartyFigure=void 0;this._description=void 0;this._roomName=void 0;this._type=type;this._secondsAgo=secondsAgo;this._isGuide=isGuide;this._otherPartyName=otherPartyName;this._otherPartyFigure=otherPartyFigure;this._description=description;this._roomName=roomName;}get type(){return this._type;}set type(value){this._type=value;}get secondsAgo(){return this._secondsAgo;}set secondsAgo(value){this._secondsAgo=value;}get isGuide(){return this._isGuide;}set isGuide(value){this._isGuide=value;}get otherPartyName(){return this._otherPartyName;}set otherPartyName(value){this._otherPartyName=value;}get otherPartyFigure(){return this._otherPartyFigure;}set otherPartyFigure(value){this._otherPartyFigure=value;}get description(){return this._description;}set description(value){this._description=value;}get roomName(){return this._roomName;}set roomName(value){this._roomName=value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideReportingStatusMessageParser.ts\nclass GuideReportingStatusMessageParser_GuideReportingStatusMessageParser{constructor(){this._statusCode=void 0;this._pendingTicket=void 0;}flush(){this._statusCode=0;this._pendingTicket=null;return true;}parse(wrapper){if(!wrapper)return false;this._statusCode=wrapper.readInt();this._pendingTicket=new PendingGuideTicketData(wrapper.readInt(),wrapper.readInt(),wrapper.readBoolean(),wrapper.readString(),wrapper.readString(),wrapper.readString(),wrapper.readString());return true;}get statusCode(){return this._statusCode;}get pendingTicket(){return this._pendingTicket;}}GuideReportingStatusMessageParser_GuideReportingStatusMessageParser.GUIDE_REPORTING_STATUS_OK=0;GuideReportingStatusMessageParser_GuideReportingStatusMessageParser.GUIDE_REPORTING_STATUS_PENDING_TICKET=1;GuideReportingStatusMessageParser_GuideReportingStatusMessageParser.GUIDE_REPORTING_STATUS_ABUSIVE=2;GuideReportingStatusMessageParser_GuideReportingStatusMessageParser.GUIDE_REPORTING_STATUS_REPORTING_TOO_QUICKLY=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionAttachedMessageParser.ts\nclass GuideSessionAttachedMessageParser{constructor(){this._asGuide=void 0;this._helpRequestType=void 0;this._helpRequestDescription=void 0;this._roleSpecificWaitTime=void 0;}flush(){this._asGuide=false;this._helpRequestType=0;this._helpRequestDescription=null;this._roleSpecificWaitTime=0;return true;}parse(wrapper){if(!wrapper)return false;this._asGuide=wrapper.readBoolean();this._helpRequestType=wrapper.readInt();this._helpRequestDescription=wrapper.readString();this._roleSpecificWaitTime=wrapper.readInt();return true;}get asGuide(){return this._asGuide;}get helpRequestType(){return this._helpRequestType;}get helpRequestDescription(){return this._helpRequestDescription;}get roleSpecificWaitTime(){return this._roleSpecificWaitTime;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionDetachedMessageParser.ts\nclass GuideSessionDetachedMessageParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionEndedMessageParser.ts\nclass GuideSessionEndedMessageParser{constructor(){this._endReason=void 0;}flush(){this._endReason=0;return true;}parse(wrapper){if(!wrapper)return false;this._endReason=wrapper.readInt();return true;}get endReason(){return this._endReason;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionErrorMessageParser.ts\nclass GuideSessionErrorMessageParser{constructor(){this._errorCode=void 0;}flush(){this._errorCode=0;return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();return true;}get errorCode(){return this._errorCode;}}GuideSessionErrorMessageParser.ERROR_GENERIC=0;GuideSessionErrorMessageParser.ERROR_GUIDES_REJECT=1;GuideSessionErrorMessageParser.ERROR_NOT_ENOUGH_GUIDES=2;GuideSessionErrorMessageParser.ERROR_NOT_ENOUGH_VOTES=3;GuideSessionErrorMessageParser.ERROR_NO_CHATLOG_FOUND=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionInvitedToGuideRoomMessageParser.ts\nclass GuideSessionInvitedToGuideRoomMessageParser{constructor(){this._roomId=void 0;this._roomName=void 0;}flush(){this._roomId=0;this._roomName=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._roomName=wrapper.readString();return true;}get roomId(){return this._roomId;}get roomName(){return this._roomName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionMessageMessageParser.ts\nclass GuideSessionMessageMessageParser{constructor(){this._chatMessage=void 0;this._senderId=void 0;}flush(){this._chatMessage=null;this._senderId=0;return true;}parse(wrapper){if(!wrapper)return false;this._chatMessage=wrapper.readString();this._senderId=wrapper.readInt();return true;}get chatMessage(){return this._chatMessage;}get senderId(){return this._senderId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionPartnerIsTypingMessageParser.ts\nclass GuideSessionPartnerIsTypingMessageParser{constructor(){this._isTyping=void 0;}flush(){this._isTyping=false;return true;}parse(wrapper){if(!wrapper)return false;this._isTyping=wrapper.readBoolean();return true;}get isTyping(){return this._isTyping;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionRequesterRoomMessageParser.ts\nclass GuideSessionRequesterRoomMessageParser{constructor(){this._requesterRoomId=void 0;}flush(){this._requesterRoomId=0;return true;}parse(wrapper){if(!wrapper)return false;this._requesterRoomId=wrapper.readInt();return true;}get requesterRoomId(){return this._requesterRoomId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideSessionStartedMessageParser.ts\nclass GuideSessionStartedMessageParser{constructor(){this._requesterUserId=void 0;this._requesterName=void 0;this._requesterFigure=void 0;this._guideUserId=void 0;this._guideName=void 0;this._guideFigure=void 0;}flush(){this._requesterUserId=0;this._requesterName=null;this._requesterFigure=null;this._guideUserId=0;this._guideName=null;this._guideFigure=null;return true;}parse(wrapper){if(!wrapper)return false;this._requesterUserId=wrapper.readInt();this._requesterName=wrapper.readString();this._requesterFigure=wrapper.readString();this._guideUserId=wrapper.readInt();this._guideName=wrapper.readString();this._guideFigure=wrapper.readString();return true;}get requesterUserId(){return this._requesterUserId;}get requesterName(){return this._requesterName;}get requesterFigure(){return this._requesterFigure;}get guideUserId(){return this._guideUserId;}get guideName(){return this._guideName;}get guideFigure(){return this._guideFigure;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideTicketCreationResultMessageParser.ts\nclass GuideTicketCreationResultMessageParser{constructor(){this._result=void 0;}flush(){this._result=0;return true;}parse(wrapper){if(!wrapper)return false;this._result=wrapper.readInt();return true;}get result(){return this._result;}}GuideTicketCreationResultMessageParser.CREATION_RESULT_OK=0;GuideTicketCreationResultMessageParser.CREATION_RESULT_UNABLE_TO_REPORT=1;GuideTicketCreationResultMessageParser.CREATION_RESULT_NO_CHATLOG_FOUND=2;GuideTicketCreationResultMessageParser.CREATION_RESULT_BULLY_ALREADY_REPORTED=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/GuideTicketResolutionMessageParser.ts\nclass GuideTicketResolutionMessageParser{constructor(){this._resolution=void 0;}flush(){this._resolution=0;return true;}parse(wrapper){if(!wrapper)return false;this._resolution=wrapper.readInt();return true;}get resolution(){return this._resolution;}}GuideTicketResolutionMessageParser.RESOLUTION_GUARDIANS_TOOK_ACTION=0;GuideTicketResolutionMessageParser.RESOLUTION_FORWARDED_TO_MODERATORS=1;GuideTicketResolutionMessageParser.RESOLUTION_REPORTER_IS_ABUSIVE=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/HotelMergeNameChangeParser.ts\nclass HotelMergeNameChangeParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/IssueCloseNotificationMessageParser.ts\nclass IssueCloseNotificationMessageParser{constructor(){this._closeReason=void 0;this._messageText=void 0;}flush(){this._closeReason=0;this._messageText='';return true;}parse(wrapper){if(!wrapper)return false;this._closeReason=wrapper.readInt();this._messageText=wrapper.readString();return true;}get closeReason(){return this._closeReason;}get messageText(){return this._messageText;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/QuizDataMessageParser.ts\nclass QuizDataMessageParser{constructor(){this._quizCode=void 0;this._questionIds=void 0;}flush(){this._quizCode=null;this._questionIds=[];return true;}parse(wrapper){if(!wrapper)return false;this._quizCode=wrapper.readString();const size=wrapper.readInt();this._questionIds=[];for(let i=0;i<size;i++)this._questionIds.push(wrapper.readInt());return true;}get quizCode(){return this._quizCode;}get questionIds(){return this._questionIds;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/QuizResultsMessageParser.ts\nclass QuizResultsMessageParser{constructor(){this._quizCode=void 0;this._questionIdsForWrongAnswers=void 0;}flush(){this._quizCode=null;this._questionIdsForWrongAnswers=[];return true;}parse(wrapper){if(!wrapper)return false;this._quizCode=wrapper.readString();const size=wrapper.readInt();this._questionIdsForWrongAnswers=[];for(let i=0;i<size;i++)this._questionIdsForWrongAnswers.push(wrapper.readInt());return true;}get quizCode(){return this._quizCode;}get questionIdsForWrongAnswers(){return this._questionIdsForWrongAnswers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/help/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/achievements/AchievementData.ts\nclass AchievementData{constructor(wrapper){this._achievementId=void 0;this._level=void 0;this._badgeId=void 0;this._scoreAtStartOfLevel=void 0;this._scoreLimit=void 0;this._levelRewardPoints=void 0;this._levelRewardPointType=void 0;this._currentPoints=void 0;this._finalLevel=void 0;this._category=void 0;this._subCategory=void 0;this._levelCount=void 0;this._displayMethod=void 0;this._unseen=0;if(!wrapper)throw new Error('invalid_parser');this._achievementId=wrapper.readInt();this._level=wrapper.readInt();this._badgeId=wrapper.readString();this._scoreAtStartOfLevel=wrapper.readInt();this._scoreLimit=Math.max(1,wrapper.readInt());this._levelRewardPoints=wrapper.readInt();this._levelRewardPointType=wrapper.readInt();this._currentPoints=wrapper.readInt();this._finalLevel=wrapper.readBoolean();this._category=wrapper.readString();this._subCategory=wrapper.readString();this._levelCount=wrapper.readInt();this._displayMethod=wrapper.readInt();}get achievementId(){return this._achievementId;}get badgeId(){return this._badgeId;}get level(){return this._level;}get scoreAtStartOfLevel(){return this._scoreAtStartOfLevel;}get scoreLimit(){return this._scoreLimit-this._scoreAtStartOfLevel;}get levelRewardPoints(){return this._levelRewardPoints;}get levelRewardPointType(){return this._levelRewardPointType;}get currentPoints(){return this._currentPoints-this._scoreAtStartOfLevel;}get finalLevel(){return this._finalLevel;}get category(){return this._category;}get subCategory(){return this._subCategory;}get levelCount(){return this._levelCount;}get firstLevelAchieved(){return this._level>1||this._finalLevel;}setMaxProgress(){this._currentPoints=this._scoreLimit;}get displayMethod(){return this._displayMethod;}get progress(){return this._currentPoints;}get toNextProgress(){return this._scoreLimit;}set unseen(unseen){this._unseen=unseen;}get unseen(){return this._unseen;}reset(badge){this._achievementId=badge._achievementId;this._level=badge._level;this._badgeId=badge._badgeId;this._scoreAtStartOfLevel=badge._scoreAtStartOfLevel;this._scoreLimit=badge._scoreLimit;this._levelRewardPoints=badge._levelRewardPoints;this._levelRewardPointType=badge._levelRewardPointType;this._currentPoints=badge._currentPoints;this._finalLevel=badge._finalLevel;this._category=badge.category;this._subCategory=badge._subCategory;this._levelCount=badge._levelCount;this._displayMethod=badge._displayMethod;}}AchievementData.DISPLAY_METHOD_OBSOLETE=-1;AchievementData.DISPLAY_METHOD_SHOW_LEVEL_PROGRESS=0;AchievementData.DISPLAY_METHOD_NEVER_SHOW_PROGRESS=1;AchievementData.DISPLAY_METHOD_SHOW_TOTAL_PROGRESS=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/achievements/AchievementParser.ts\nclass AchievementParser_AchievementParser{constructor(){this._achievement=void 0;}flush(){this._achievement=null;return true;}parse(k){if(!k)return false;this._achievement=new AchievementData(k);return true;}get achievement(){return this._achievement;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/achievements/AchievementsParser.ts\nclass AchievementsParser_AchievementsParser{constructor(){this._achievements=void 0;this._defaultCategory=void 0;}flush(){this._achievements=[];this._defaultCategory=null;return true;}parse(k){if(!k)return false;this._achievements=[];let totalCount=k.readInt();while(totalCount>0){this._achievements.push(new AchievementData(k));totalCount--;}this._defaultCategory=k.readString();return true;}get achievements(){return this._achievements;}get defaultCategory(){return this._defaultCategory;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/achievements/AchievementsScoreParser.ts\nclass AchievementsScoreParser{constructor(){this._score=void 0;}flush(){this._score=0;return true;}parse(k){if(!k)return false;this._score=k.readInt();return true;}get score(){return this._score;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/achievements/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/avatareffect/AvatarEffectActivatedParser.ts\nclass AvatarEffectActivatedParser{constructor(){this._type=void 0;this._duration=void 0;this._isPermanent=void 0;}flush(){this._type=0;this._duration=0;this._isPermanent=false;return true;}parse(wrapper){if(!wrapper)return false;this._type=wrapper.readInt();this._duration=wrapper.readInt();this._isPermanent=wrapper.readBoolean();return true;}get type(){return this._type;}get duration(){return this._duration;}get isPermanent(){return this._isPermanent;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/avatareffect/AvatarEffectAddedParser.ts\nclass AvatarEffectAddedParser{constructor(){this._type=void 0;this._subType=void 0;this._duration=void 0;this._permanent=void 0;}flush(){this._type=0;this._subType=0;this._duration=0;this._permanent=false;return true;}parse(wrapper){if(!wrapper)return false;this._type=wrapper.readInt();this._subType=wrapper.readInt();this._duration=wrapper.readInt();this._permanent=wrapper.readBoolean();return true;}get type(){return this._type;}get subType(){return this._subType;}get duration(){return this._duration;}get isPermanent(){return this._permanent;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/avatareffect/AvatarEffectExpiredParser.ts\nclass AvatarEffectExpiredParser{constructor(){this._type=void 0;}flush(){this._type=0;return true;}parse(wrapper){if(!wrapper)return false;this._type=wrapper.readInt();return true;}get type(){return this._type;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/avatareffect/AvatarEffectSelectedParser.ts\nclass AvatarEffectSelectedParser{constructor(){this._type=void 0;}flush(){this._type=0;return true;}parse(wrapper){if(!wrapper)return false;this._type=wrapper.readInt();return true;}get type(){return this._type;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/avatareffect/AvatarEffect.ts\nclass AvatarEffect{constructor(){this._type=void 0;this._subType=void 0;this._duration=void 0;this._inactiveEffectsInInventory=void 0;this._secondsLeftIfActive=void 0;this._permanent=void 0;}get type(){return this._type;}set type(k){this._type=k;}get subType(){return this._subType;}set subType(k){this._subType=k;}get duration(){return this._duration;}set duration(k){this._duration=k;}get inactiveEffectsInInventory(){return this._inactiveEffectsInInventory;}set inactiveEffectsInInventory(k){this._inactiveEffectsInInventory=k;}get secondsLeftIfActive(){return this._secondsLeftIfActive;}set secondsLeftIfActive(k){this._secondsLeftIfActive=k;}get isPermanent(){return this._permanent;}set isPermanent(k){this._permanent=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/avatareffect/AvatarEffectsParser.ts\nclass AvatarEffectsParser_AvatarEffectsParser{constructor(){this._effects=void 0;}flush(){this._effects=[];return true;}parse(wrapper){if(!wrapper)return false;let totalEffects=wrapper.readInt();while(totalEffects>0){const effect=new AvatarEffect();effect.type=wrapper.readInt();effect.subType=wrapper.readInt();effect.duration=wrapper.readInt();effect.inactiveEffectsInInventory=wrapper.readInt();effect.secondsLeftIfActive=wrapper.readInt();effect.isPermanent=wrapper.readBoolean();this._effects.push(effect);totalEffects--;}return true;}get effects(){return this._effects;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/avatareffect/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/badges/BadgeAndPointLimit.ts\nclass BadgeAndPointLimit{constructor(k,_arg_2){this._badgeId=void 0;this._limit=void 0;if(!_arg_2)throw new Error('invalid_parser');this._badgeId='ACH_'+k+_arg_2.readInt();this._limit=_arg_2.readInt();}get badgeId(){return this._badgeId;}get limit(){return this._limit;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/badges/BadgePointLimitsParser.ts\nclass BadgePointLimitsParser_BadgePointLimitsParser{constructor(){this._data=void 0;}flush(){this._data=[];return true;}parse(wrapper){if(!wrapper)return false;let _local_2=wrapper.readInt();while(_local_2>0){const _local_4=wrapper.readString();const _local_5=wrapper.readInt();let _local_6=0;while(_local_6<_local_5){this._data.push(new BadgeAndPointLimit(_local_4,wrapper));_local_6++;}_local_2--;}return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/badges/BadgeReceivedParser.ts\nclass BadgeReceivedParser{constructor(){this._badgeId=void 0;this._badgeCode=void 0;}flush(){this._badgeId=0;this._badgeCode=null;return true;}parse(wrapper){if(!wrapper)return false;this._badgeId=wrapper.readInt();this._badgeCode=wrapper.readString();return true;}get badgeId(){return this._badgeId;}get badgeCode(){return this._badgeCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/badges/BadgesParser.ts\nclass BadgesParser_BadgesParser{constructor(){this._allBadgeCodes=void 0;this._activeBadgeCodes=void 0;this._badgeIds=void 0;}flush(){this._allBadgeCodes=[];this._activeBadgeCodes=null;this._badgeIds=null;return true;}parse(wrapper){if(!wrapper)return false;this._allBadgeCodes=[];this._activeBadgeCodes=new AdvancedMap();this._badgeIds=new AdvancedMap();let count=wrapper.readInt();while(count>0){const badgeId=wrapper.readInt();const badgeCode=wrapper.readString();this._badgeIds.add(badgeCode,badgeId);this._allBadgeCodes.push(badgeCode);count--;}count=wrapper.readInt();while(count>0){const badgeSlot=wrapper.readInt();const badgeCode=wrapper.readString();this._activeBadgeCodes.add(badgeCode,badgeSlot);count--;}return true;}getBadgeId(code){return this._badgeIds.getValue(code);}getActiveBadgeSlot(code){return this._activeBadgeCodes.getValue(code);}getAllBadgeCodes(){return this._allBadgeCodes;}getActiveBadgeCodes(){return this._activeBadgeCodes.getKeys();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/badges/IsBadgeRequestFulfilledParser.ts\nclass IsBadgeRequestFulfilledParser{constructor(){this._requestCode=void 0;this._fulfilled=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._requestCode=wrapper.readString();this._fulfilled=wrapper.readBoolean();return true;}get requestCode(){return this._requestCode;}get fulfilled(){return this._fulfilled;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/badges/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/clothing/FigureSetIdsMessageParser.ts\nclass FigureSetIdsMessageParser{constructor(){this._figureSetIds=void 0;this._boundFurnitureNames=void 0;}flush(){this._figureSetIds=[];this._boundFurnitureNames=[];return true;}parse(wrapper){if(!wrapper)return false;let totalSetIds=wrapper.readInt();while(totalSetIds>0){this._figureSetIds.push(wrapper.readInt());totalSetIds--;}let totalFurnitureNames=wrapper.readInt();while(totalFurnitureNames>0){this._boundFurnitureNames.push(wrapper.readString());totalFurnitureNames--;}return true;}get figureSetIds(){return this._figureSetIds;}get boundsFurnitureNames(){return this._boundFurnitureNames;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/clothing/_Str_8728.ts\nclass _Str_8728{constructor(){this._itemId=void 0;}flush(){this._itemId=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();return true;}get itemId(){return this._itemId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/clothing/_Str_9021.ts\nclass _Str_9021{constructor(){this._itemId=void 0;}flush(){this._itemId=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();return true;}get itemId(){return this._itemId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/clothing/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/ObjectDataFlags.ts\nclass ObjectDataFlags{}ObjectDataFlags.UNIQUE_SET=256;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/ObjectDataBase.ts\nclass ObjectDataBase_ObjectDataBase{constructor(){this._flags=void 0;this._uniqueNumber=void 0;this._uniqueSeries=void 0;this._flags=0;this._uniqueNumber=0;this._uniqueSeries=0;}parseWrapper(wrapper){if((this._flags&ObjectDataFlags.UNIQUE_SET)>0){this._uniqueNumber=wrapper.readInt();this._uniqueSeries=wrapper.readInt();}}initializeFromRoomObjectModel(model){this._uniqueNumber=model.getValue(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER);this._uniqueSeries=model.getValue(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE);}writeRoomObjectModel(model){if(!model)return;model.setValue(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER,this._uniqueNumber);model.setValue(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE,this._uniqueSeries);}getLegacyString(){return'';}compare(data){return false;}get state(){const state=parseInt(this.getLegacyString());return isNaN(state)?0:state;}get isUnique(){return this._uniqueSeries>0;}get uniqueNumber(){return this._uniqueNumber;}set uniqueNumber(number){this._uniqueNumber=number;}get uniqueSeries(){return this._uniqueSeries;}set uniqueSeries(series){this._uniqueSeries=series;}get rarityLevel(){return-1;}get flags(){return this._flags;}set flags(flags){this._flags=flags;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/ObjectDataKey.ts\nclass ObjectDataKey{}ObjectDataKey.LEGACY_KEY=0;ObjectDataKey.MAP_KEY=1;ObjectDataKey.STRING_KEY=2;ObjectDataKey.VOTE_KEY=3;ObjectDataKey.EMPTY_KEY=4;ObjectDataKey.NUMBER_KEY=5;ObjectDataKey.HIGHSCORE_KEY=6;ObjectDataKey.CRACKABLE_KEY=7;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/CrackableDataType.ts\nclass CrackableDataType_CrackableDataType extends ObjectDataBase_ObjectDataBase{constructor(){super();this._state=void 0;this._hits=void 0;this._target=void 0;this._state='';this._hits=0;this._target=0;}parseWrapper(wrapper){if(!wrapper)return;this._state=wrapper.readString();this._hits=wrapper.readInt();this._target=wrapper.readInt();super.parseWrapper(wrapper);}initializeFromRoomObjectModel(model){super.initializeFromRoomObjectModel(model);this._state=model.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_STATE);this._hits=model.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_HITS);this._target=model.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,CrackableDataType_CrackableDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_STATE,this._state);model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_HITS,this._hits);model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET,this._target);}getLegacyString(){return this._state;}compare(data){return true;}get hits(){return this._hits;}get target(){return this._target;}}CrackableDataType_CrackableDataType.FORMAT_KEY=ObjectDataKey.CRACKABLE_KEY;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/EmptyDataType.ts\nclass EmptyDataType_EmptyDataType extends ObjectDataBase_ObjectDataBase{constructor(){super(...arguments);this._state=void 0;}parseWrapper(wrapper){if(!wrapper)return;this._state='';super.parseWrapper(wrapper);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,EmptyDataType_EmptyDataType.FORMAT_KEY);}getLegacyString(){return this._state;}compare(data){return super.compare(data);}}EmptyDataType_EmptyDataType.FORMAT_KEY=ObjectDataKey.EMPTY_KEY;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/HighScoreData.ts\nclass HighScoreData{constructor(){this._score=void 0;this._users=void 0;this._score=-1;this._users=[];}get score(){return this._score;}set score(k){this._score=k;}get users(){return this._users;}set users(k){this._users=k;}addUsername(k){this._users.push(k);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/HighScoreDataType.ts\nclass HighScoreDataType_HighScoreDataType extends ObjectDataBase_ObjectDataBase{constructor(){super();this._state=void 0;this._scoreType=void 0;this._clearType=void 0;this._entries=void 0;this._state='';this._scoreType=-1;this._clearType=-1;this._entries=[];}parseWrapper(wrapper){if(!wrapper)return;this._state=wrapper.readString();this._scoreType=wrapper.readInt();this._clearType=wrapper.readInt();let totalScores=wrapper.readInt();while(totalScores>0){const data=new HighScoreData();data.score=wrapper.readInt();let totalUsers=wrapper.readInt();while(totalUsers>0){data.addUsername(wrapper.readString());totalUsers--;}this._entries.push(data);totalScores--;}super.parseWrapper(wrapper);}initializeFromRoomObjectModel(model){this._scoreType=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE);this._clearType=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE);this._entries=[];const totalEntries=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT);let i=0;while(i<totalEntries){const data=new HighScoreData();data.score=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+i);data.users=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+i);this._entries.push(data);i++;}super.initializeFromRoomObjectModel(model);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,HighScoreDataType_HighScoreDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE,this._scoreType);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE,this._clearType);if(this._entries){model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT,this._entries.length);let i=0;while(i<this._entries.length){const entry=this._entries[i];model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+i,entry.score);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+i,entry.users);i++;}}}getLegacyString(){return this._state;}get entries(){return this._entries;}get clearType(){return this._clearType;}get scoreType(){return this._scoreType;}}HighScoreDataType_HighScoreDataType.FORMAT_KEY=ObjectDataKey.HIGHSCORE_KEY;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/LegacyDataType.ts\nclass LegacyDataType_LegacyDataType extends ObjectDataBase_ObjectDataBase{constructor(){super();this._data=void 0;this._data='';}parseWrapper(wrapper){if(!wrapper)return;this._data=wrapper.readString();super.parseWrapper(wrapper);}initializeFromRoomObjectModel(model){super.initializeFromRoomObjectModel(model);this._data=model.getValue(RoomObjectVariable.FURNITURE_DATA);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,LegacyDataType_LegacyDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_DATA,this._data);}getLegacyString(){return this._data;}compare(data){return this._data===data.getLegacyString();}setString(data){this._data=data;}}LegacyDataType_LegacyDataType.FORMAT_KEY=ObjectDataKey.LEGACY_KEY;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/MapDataType.ts\nclass MapDataType_MapDataType extends ObjectDataBase_ObjectDataBase{constructor(){super();this._data=void 0;this._data={};}parseWrapper(wrapper){if(!wrapper)return;this._data={};const totalSets=wrapper.readInt();if(totalSets)for(let i=0;i<totalSets;i++)this._data[wrapper.readString()]=wrapper.readString();super.parseWrapper(wrapper);}initializeFromRoomObjectModel(model){super.initializeFromRoomObjectModel(model);this._data=model.getValue(RoomObjectVariable.FURNITURE_DATA)||{};}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,MapDataType_MapDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_DATA,this._data);}getLegacyString(){if(!this._data)return'';const state=this._data[MapDataType_MapDataType.STATE];if(state===undefined||state===null)return'';return state;}compare(data){return false;}getValue(key){return this._data[key];}get rarityLevel(){if(!this._data)return-1;const state=this._data[MapDataType_MapDataType.RARITY];if(state===undefined||state===null)return-1;return parseInt(state);}// TODO: How to get the keys?\nget data(){return this._data;}}MapDataType_MapDataType.FORMAT_KEY=ObjectDataKey.MAP_KEY;MapDataType_MapDataType.STATE='state';MapDataType_MapDataType.RARITY='rarity';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/NumberDataType.ts\nclass NumberDataType_NumberDataType extends ObjectDataBase_ObjectDataBase{constructor(){super();this._data=void 0;this._data=[];}parseWrapper(wrapper){if(!wrapper)return;this._data=[];const totalNumbers=wrapper.readInt();if(totalNumbers)for(let i=0;i<totalNumbers;i++)this._data.push(wrapper.readInt());super.parseWrapper(wrapper);}initializeFromRoomObjectModel(model){super.initializeFromRoomObjectModel(model);this._data=model.getValue(RoomObjectVariable.FURNITURE_DATA);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,NumberDataType_NumberDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_DATA,this._data);}getLegacyString(){if(!this._data||!this._data.length)return'';return this._data[NumberDataType_NumberDataType.STATE].toString();}compare(data){if(!(data instanceof NumberDataType_NumberDataType))return false;let i=0;while(i<this._data.length){if(i===0){//\n}else{if(this._data[i]!==data.getValue(i))return false;}i++;}return true;}getValue(index){if(!this._data||!this._data.length)return-1;const value=this._data[index];if(value===undefined||value===null)return-1;return value;}}NumberDataType_NumberDataType.FORMAT_KEY=ObjectDataKey.NUMBER_KEY;NumberDataType_NumberDataType.STATE=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/StringDataType.ts\nclass StringDataType_StringDataType extends ObjectDataBase_ObjectDataBase{constructor(){super();this._data=void 0;this._data=[];}parseWrapper(wrapper){if(!wrapper)return;this._data=[];const totalStrings=wrapper.readInt();if(totalStrings)for(let i=0;i<totalStrings;i++)this._data.push(wrapper.readString());super.parseWrapper(wrapper);}initializeFromRoomObjectModel(model){super.initializeFromRoomObjectModel(model);this._data=model.getValue(RoomObjectVariable.FURNITURE_DATA);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,StringDataType_StringDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_DATA,this._data);}getLegacyString(){if(!this._data||!this._data.length)return'';return this._data[StringDataType_StringDataType.STATE];}compare(data){if(!(data instanceof StringDataType_StringDataType))return false;let i=0;while(i<this._data.length){if(i===0){//\n}else{if(this._data[i]!==data.getValue(i))return false;}i++;}return true;}getValue(index){return this._data[index]||'';}setValue(data){this._data=data;}}StringDataType_StringDataType.FORMAT_KEY=ObjectDataKey.STRING_KEY;StringDataType_StringDataType.STATE=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/VoteDataType.ts\nclass VoteDataType_VoteDataType extends ObjectDataBase_ObjectDataBase{constructor(){super();this._state=void 0;this._result=void 0;this._state='';this._result=0;}parseWrapper(wrapper){if(!wrapper)return;this._state=wrapper.readString();this._result=wrapper.readInt();super.parseWrapper(wrapper);}writeRoomObjectModel(model){super.writeRoomObjectModel(model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,VoteDataType_VoteDataType.FORMAT_KEY);const data={};data['S']=this._state;data['R']=this._result.toString();model.setValue(RoomObjectVariable.FURNITURE_DATA,data);}getLegacyString(){return this._state;}compare(data){return true;}setString(state){this._state=state;}get result(){return this._result;}}VoteDataType_VoteDataType.FORMAT_KEY=ObjectDataKey.VOTE_KEY;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/ObjectDataFactory.ts\nclass ObjectDataFactory_ObjectDataFactory{static getData(flags){let objectData=null;switch(flags&0xFF){case CrackableDataType_CrackableDataType.FORMAT_KEY:objectData=new CrackableDataType_CrackableDataType();break;case EmptyDataType_EmptyDataType.FORMAT_KEY:objectData=new EmptyDataType_EmptyDataType();break;case HighScoreDataType_HighScoreDataType.FORMAT_KEY:objectData=new HighScoreDataType_HighScoreDataType();break;case LegacyDataType_LegacyDataType.FORMAT_KEY:objectData=new LegacyDataType_LegacyDataType();break;case MapDataType_MapDataType.FORMAT_KEY:objectData=new MapDataType_MapDataType();break;case NumberDataType_NumberDataType.FORMAT_KEY:objectData=new NumberDataType_NumberDataType();break;case StringDataType_StringDataType.FORMAT_KEY:objectData=new StringDataType_StringDataType();break;case VoteDataType_VoteDataType.FORMAT_KEY:objectData=new VoteDataType_VoteDataType();break;}if(!objectData)return null;objectData.flags=flags&0xFF00;return objectData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/FurnitureDataParser.ts\nclass FurnitureDataParser_FurnitureDataParser{constructor(){this._itemId=void 0;this._data=void 0;}flush(){this._itemId=0;this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=parseInt(wrapper.readString());this._data=FurnitureDataParser_FurnitureDataParser.parseObjectData(wrapper);return true;}static parseObjectData(wrapper){if(!wrapper)return null;const data=ObjectDataFactory_ObjectDataFactory.getData(wrapper.readInt());if(!data)return null;data.parseWrapper(wrapper);return data;}get furnitureId(){return this._itemId;}get objectData(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/utils/FurnitureListItemParser.ts\nclass FurnitureListItemParser_FurnitureListItemParser{constructor(wrapper){this._rentable=void 0;this._itemId=void 0;this._furniType=void 0;this._ref=void 0;this._spriteId=void 0;this._category=void 0;this._stuffData=void 0;this._isGroupable=void 0;this._isRecyclable=void 0;this._tradable=void 0;this._sellable=void 0;this._secondsToExpiration=void 0;this._extra=void 0;this._flatId=void 0;this._isWallItem=void 0;this._hasRentPeriodStarted=void 0;this._expirationTimeStamp=void 0;this._slotId=void 0;this._songId=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._rentable=false;this._itemId=0;this._furniType=null;this._ref=0;this._spriteId=0;this._category=0;this._stuffData=null;this._isGroupable=false;this._isRecyclable=false;this._tradable=false;this._sellable=false;this._secondsToExpiration=0;this._extra=0;this._flatId=0;this._isWallItem=false;this._hasRentPeriodStarted=false;this._expirationTimeStamp=0;this._slotId='';this._songId=-1;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();this._furniType=wrapper.readString();this._ref=wrapper.readInt();this._spriteId=wrapper.readInt();this._category=wrapper.readInt();this._stuffData=FurnitureDataParser_FurnitureDataParser.parseObjectData(wrapper);this._isRecyclable=wrapper.readBoolean();this._tradable=wrapper.readBoolean();this._isGroupable=wrapper.readBoolean();this._sellable=wrapper.readBoolean();this._secondsToExpiration=wrapper.readInt();this._expirationTimeStamp=Nitro_Nitro.instance.time;if(this.secondsToExpiration>-1){this._rentable=true;}else{this._rentable=false;this._secondsToExpiration=-1;}this._hasRentPeriodStarted=wrapper.readBoolean();this._flatId=wrapper.readInt();this._isWallItem=this._furniType===FurnitureListItemParser_FurnitureListItemParser.WALL_ITEM;if(this._furniType===FurnitureListItemParser_FurnitureListItemParser.FLOOR_ITEM){this._slotId=wrapper.readString();this._extra=wrapper.readInt();}return true;}get itemId(){return this._itemId;}get furniType(){return this._furniType;}get ref(){return this._ref;}get spriteId(){return this._spriteId;}get category(){return this._category;}get stuffData(){return this._stuffData;}get isGroupable(){return this._isGroupable;}get isRecycleable(){return this._isRecyclable;}get tradable(){return this._tradable;}get sellable(){return this._sellable;}get secondsToExpiration(){return this._secondsToExpiration;}get flatId(){return this._flatId;}get slotId(){return this._slotId;}get songId(){return this._songId;}get extra(){return this._extra;}get rentable(){return this._rentable;}get isWallItem(){return this._isWallItem;}get hasRentPeriodStarted(){return this._hasRentPeriodStarted;}get expirationTimeStamp(){return this._expirationTimeStamp;}get creationDay(){return 0;}get creationMonth(){return 0;}get creationYear(){return 0;}get isExternalImageFurni(){return!(this._furniType.indexOf('external_image')===-1);}}FurnitureListItemParser_FurnitureListItemParser.WALL_ITEM='I';FurnitureListItemParser_FurnitureListItemParser.FLOOR_ITEM='S';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/FurnitureListAddOrUpdateParser.ts\nclass FurnitureListAddOrUpdateParser_FurnitureListAddOrUpdateParser{constructor(){this._items=void 0;}flush(){this._items=[];return true;}parse(wrapper){if(!wrapper)return false;this._items.push(new FurnitureListItemParser_FurnitureListItemParser(wrapper));return true;}get items(){return this._items;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/FurnitureListInvalidateParser.ts\nclass FurnitureListInvalidateParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/FurnitureListParser.ts\nclass FurnitureListParser_FurnitureListParser{constructor(){this._totalFragments=void 0;this._fragmentNumber=void 0;this._fragment=void 0;}flush(){this._totalFragments=0;this._fragmentNumber=0;this._fragment=new Map();return true;}parse(wrapper){if(!wrapper)return false;this._totalFragments=wrapper.readInt();this._fragmentNumber=wrapper.readInt();let totalItems=wrapper.readInt();while(totalItems>0){const item=new FurnitureListItemParser_FurnitureListItemParser(wrapper);if(item)this._fragment.set(item.itemId,item);totalItems--;}return true;}get totalFragments(){return this._totalFragments;}get fragmentNumber(){return this._fragmentNumber;}get fragment(){return this._fragment;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/FurnitureListRemovedParser.ts\nclass FurnitureListRemovedParser{constructor(){this._itemId=void 0;}flush(){this._itemId=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();return true;}get itemId(){return this._itemId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/FurniturePostItPlacedParser.ts\nclass FurniturePostItPlacedParser{constructor(){this._itemId=void 0;this._itemsLeft=void 0;}flush(){this._itemId=0;this._itemsLeft=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();this._itemsLeft=wrapper.readInt();return true;}get itemId(){return this._itemId;}get itemsLeft(){return this._itemsLeft;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/PresentOpenedMessageParser.ts\nclass PresentOpenedMessageParser{constructor(){this._itemType=void 0;this._classId=void 0;this._productCode=void 0;this._placedItemId=void 0;this._placedItemType=void 0;this._placedInRoom=void 0;this._petFigureString=void 0;}flush(){this._itemType='';this._classId=0;this._productCode='';return true;}parse(wrapper){if(!wrapper)return false;this._itemType=wrapper.readString();this._classId=wrapper.readInt();this._productCode=wrapper.readString();this._placedItemId=wrapper.readInt();this._placedItemType=wrapper.readString();this._placedInRoom=wrapper.readBoolean();this._petFigureString=wrapper.readString();return true;}get itemType(){return this._itemType;}get classId(){return this._classId;}get productCode(){return this._productCode;}get placedItemId(){return this._placedItemId;}get placedItemType(){return this._placedItemType;}get placedInRoom(){return this._placedInRoom;}get petFigureString(){return this._petFigureString;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/furniture/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/BreedingPetInfo.ts\nclass BreedingPetInfo{constructor(wrapper){this._webId=void 0;this._name=void 0;this._level=void 0;this._figure=void 0;this._owner=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._webId=wrapper.readInt();this._name=wrapper.readString();this._level=wrapper.readInt();this._figure=wrapper.readString();this._owner=wrapper.readString();}dispose(){this._webId=0;this._name='';this._level=0;this._figure='';this._owner='';}get webId(){return this._webId;}get name(){return this._name;}get level(){return this._level;}get figure(){return this._figure;}get owner(){return this._owner;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/RarityCategoryData.ts\nclass RarityCategoryData{constructor(wrapper){this._chance=void 0;this._breeds=void 0;if(!wrapper)throw new Error('invalid_wrapper');this._chance=wrapper.readInt();this._breeds=[];let totalCount=wrapper.readInt();while(totalCount>0){this._breeds.push(wrapper.readInt());totalCount--;}}dispose(){this._chance=-1;this._breeds=[];}get chance(){return this._chance;}get breeds(){return this._breeds;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/ConfirmBreedingRequestParser.ts\nclass ConfirmBreedingRequestParser_ConfirmBreedingRequestParser{constructor(){this._nestId=void 0;this._pet1=void 0;this._pet2=void 0;this._rarityCategories=void 0;this._resultPetType=void 0;}flush(){this._nestId=0;if(this._pet1){this._pet1.dispose();this._pet1=null;}if(this._pet2){this._pet2.dispose();this._pet2=null;}for(const k of this._rarityCategories)k&&k.dispose();this._rarityCategories=[];return true;}parse(wrapper){if(!wrapper)return false;this._nestId=wrapper.readInt();this._pet1=new BreedingPetInfo(wrapper);this._pet2=new BreedingPetInfo(wrapper);let totalCount=wrapper.readInt();while(totalCount>0){this._rarityCategories.push(new RarityCategoryData(wrapper));totalCount--;}this._resultPetType=wrapper.readInt();return true;}get nestId(){return this._nestId;}get pet1(){return this._pet1;}get pet2(){return this._pet2;}get rarityCategories(){return this._rarityCategories;}get resultPetType(){return this._resultPetType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/ConfirmBreedingResultParser.ts\nclass ConfirmBreedingResultParser{constructor(){this._breedingNestStuffId=void 0;this._result=void 0;}flush(){this._breedingNestStuffId=0;this._result=0;return true;}parse(wrapper){if(!wrapper)return false;this._breedingNestStuffId=wrapper.readInt();this._result=wrapper.readInt();return true;}get breedingNestStuffId(){return this._breedingNestStuffId;}get result(){return this._result;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/GoToBreedingNestFailureParser.ts\nclass GoToBreedingNestFailureParser{constructor(){this._reason=void 0;}flush(){return true;}parse(wrapper){this._reason=wrapper.readInt();return true;}get reason(){return this._reason;}}GoToBreedingNestFailureParser.PET_TOO_TIRED_TO_BREED=6;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/NestBreedingSuccessParser.ts\nclass NestBreedingSuccessParser{constructor(){this._rarityCategory=void 0;this._petId=void 0;}flush(){this._petId=-1;this._rarityCategory=-1;return true;}parse(k){this._petId=k.readInt();this._rarityCategory=k.readInt();return true;}get rarityCategory(){return this._rarityCategory;}get petId(){return this._petId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/PetAddedToInventoryParser.ts\nclass PetAddedToInventoryParser_PetAddedToInventoryParser{constructor(){this._pet=void 0;this._boughtAsGift=void 0;}flush(){this._pet=null;this._boughtAsGift=false;return true;}parse(wrapper){this._pet=new PetData_PetData(wrapper);this._boughtAsGift=wrapper.readBoolean();return true;}get pet(){return this._pet;}get boughtAsGift(){return this._boughtAsGift;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/PetBreedingMessageParser.ts\nclass PetBreedingMessageParser{constructor(){this._state=void 0;this._ownPetId=void 0;this._otherPetId=void 0;}flush(){this._state=0;this._ownPetId=0;this._otherPetId=0;return true;}parse(wrapper){if(!wrapper)return false;this._state=wrapper.readInt();this._ownPetId=wrapper.readInt();this._otherPetId=wrapper.readInt();return true;}get state(){return this._state;}get ownPetId(){return this._ownPetId;}get otherPetId(){return this._otherPetId;}}PetBreedingMessageParser.STATE_CANCEL=1;PetBreedingMessageParser.STATE_ACCEPT=2;PetBreedingMessageParser.STATE_REQUEST=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/PetInventoryParser.ts\nclass PetInventoryParser_PetInventoryParser{constructor(){this._totalFragments=void 0;this._fragmentNumber=void 0;this._fragment=void 0;}flush(){this._fragment=null;return true;}parse(wrapper){this._totalFragments=wrapper.readInt();this._fragmentNumber=wrapper.readInt();let totalCount=wrapper.readInt();this._fragment=new Map();while(totalCount>0){const petData=new PetData_PetData(wrapper);this._fragment.set(petData.id,petData);totalCount--;}return true;}get totalFragments(){return this._totalFragments;}get fragmentNumber(){return this._fragmentNumber;}get fragment(){return this._fragment;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/PetReceivedMessageParser.ts\nclass PetReceivedMessageParser_PetReceivedMessageParser{constructor(){this._boughtAsGift=void 0;this._pet=void 0;}flush(){this._boughtAsGift=false;this._pet=null;return true;}parse(k){this._boughtAsGift=k.readBoolean();this._pet=new PetData_PetData(k);return true;}get boughtAsGift(){return this._boughtAsGift;}get pet(){return this._pet;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/PetRemovedFromInventoryParser.ts\nclass PetRemovedFromInventoryParser{constructor(){this._petId=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._petId=wrapper.readInt();return true;}get petId(){return this._petId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/pets/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/purse/UserCreditsMessageParser.ts\nclass UserCreditsMessageParser{constructor(){this._balance=void 0;}parse(wrapper){if(!wrapper)return false;this._balance=parseFloat(wrapper.readString());return true;}flush(){return true;}get balance(){return this._balance;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/purse/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingAcceptParser.ts\nclass TradingAcceptParser{constructor(){this._userID=void 0;this._userAccepts=void 0;}flush(){this._userID=-1;this._userAccepts=false;return true;}parse(wrapper){if(!wrapper)return false;this._userID=wrapper.readInt();this._userAccepts=wrapper.readInt()>0;return true;}get userID(){return this._userID;}get userAccepts(){return this._userAccepts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingCloseParser.ts\nclass TradingCloseParser{constructor(){this._userId=void 0;this._reason=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._userId=wrapper.readInt();this._reason=wrapper.readInt();return true;}get userID(){return this._userId;}get reason(){return this._reason;}}TradingCloseParser.ERROR_WHILE_COMMIT=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingCompletedParser.ts\nclass TradingCompletedParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingConfirmationParser.ts\nclass TradingConfirmationParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/ItemDataStructure.ts\nclass ItemDataStructure_ItemDataStructure{constructor(wrapper){this._expirationTimeStamp=void 0;this._isWallItem=void 0;this._itemId=void 0;this._furniType=void 0;this._ref=void 0;this._spriteId=void 0;this._category=void 0;this._stuffData=void 0;this._extra=void 0;this._secondsToExpiration=void 0;this._creationDay=void 0;this._creationMonth=void 0;this._creationYear=void 0;this._isGroupable=void 0;this._songId=void 0;this._flatId=void 0;this._rentable=void 0;this._hasRentPeriodStarted=void 0;this._itemId=wrapper.readInt();this._furniType=wrapper.readString().toUpperCase();this._ref=wrapper.readInt();this._spriteId=wrapper.readInt();this._category=wrapper.readInt();this._isGroupable=wrapper.readBoolean();this._stuffData=FurnitureDataParser_FurnitureDataParser.parseObjectData(wrapper);this._secondsToExpiration=-1;this._expirationTimeStamp=Nitro_Nitro.instance.time;this._hasRentPeriodStarted=false;this._creationDay=wrapper.readInt();this._creationMonth=wrapper.readInt();this._creationYear=wrapper.readInt();this._extra=this.furniType==='S'?wrapper.readInt():-1;this._flatId=-1;this._rentable=false;this._isWallItem=this._furniType==='I';}get itemId(){return this._itemId;}get furniType(){return this._furniType;}get ref(){return this._ref;}get spriteId(){return this._spriteId;}get category(){return this._category;}get stuffData(){return this._stuffData;}get extra(){return this._extra;}get secondsToExpiration(){return this._secondsToExpiration;}get creationDay(){return this._creationDay;}get creationMonth(){return this._creationMonth;}get creationYear(){return this._creationYear;}get isGroupable(){return this._isGroupable;}get songId(){return this._extra;}get flatId(){return this._flatId;}get rentable(){return this._rentable;}get isWallItem(){return this._isWallItem;}get hasRentPeriodStarted(){return this._hasRentPeriodStarted;}get expirationTimeStamp(){return this._expirationTimeStamp;}get isRecycleable(){return true;}get tradable(){return true;}get sellable(){return true;}get slotId(){return null;}get isExternalImageFurni(){return this._furniType.indexOf('external_image')!==-1;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingListItemParser.ts\nclass TradingListItemParser_TradingListItemParser{constructor(){this._firstUserID=void 0;this._firstUserItemArray=void 0;this._firstUserNumItems=void 0;this._firstUserNumCredits=void 0;this._secondUserID=void 0;this._secondUserItemArray=void 0;this._secondUserNumItems=void 0;this._secondUserNumCredits=void 0;}flush(){this._firstUserID=-1;this._firstUserItemArray=null;this._firstUserNumItems=0;this._firstUserNumCredits=0;this._secondUserID=-1;this._secondUserItemArray=null;this._secondUserNumItems=0;this._secondUserNumCredits=0;return true;}parse(wrapper){if(!wrapper)return false;this._firstUserID=wrapper.readInt();this._firstUserItemArray=[];if(!this.parseItems(wrapper,this._firstUserItemArray))return false;this._firstUserNumItems=wrapper.readInt();this._firstUserNumCredits=wrapper.readInt();this._secondUserID=wrapper.readInt();this._secondUserItemArray=[];if(!this.parseItems(wrapper,this._secondUserItemArray))return false;this._secondUserNumItems=wrapper.readInt();this._secondUserNumCredits=wrapper.readInt();return true;}parseItems(k,itemArray){let count=k.readInt();while(count>0){itemArray.push(new ItemDataStructure_ItemDataStructure(k));count--;}return true;}get firstUserID(){return this._firstUserID;}get firstUserItemArray(){return this._firstUserItemArray;}get firstUserNumItems(){return this._firstUserNumItems;}get firstUserNumCredits(){return this._firstUserNumCredits;}get secondUserID(){return this._secondUserID;}get secondUserItemArray(){return this._secondUserItemArray;}get secondUserNumItems(){return this._secondUserNumItems;}get secondUserNumCredits(){return this._secondUserNumCredits;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingNotOpenParser.ts\nclass TradingNotOpenParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingOpenFailedParser.ts\nclass TradingOpenFailedParser{constructor(){this._reason=void 0;this._otherUserName=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._reason=wrapper.readInt();this._otherUserName=wrapper.readString();return true;}get reason(){return this._reason;}get otherUserName(){return this._otherUserName;}}TradingOpenFailedParser.REASON_YOU_ARE_ALREADY_TRADING=7;TradingOpenFailedParser.REASON_OTHER_USER_ALREADY_TRADING=8;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingOpenParser.ts\nclass TradingOpenParser{constructor(){this._userId=void 0;this._userCanTrade=void 0;this._otherUserId=void 0;this._otherUserCanTrade=void 0;}flush(){this._userId=-1;this._userCanTrade=false;this._otherUserId=-1;this._otherUserCanTrade=false;return true;}parse(wrapper){if(!wrapper)return false;this._userId=wrapper.readInt();this._userCanTrade=wrapper.readInt()===1;this._otherUserId=wrapper.readInt();this._otherUserCanTrade=wrapper.readInt()===1;return true;}get userID(){return this._userId;}get userCanTrade(){return this._userCanTrade;}get otherUserID(){return this._otherUserId;}get otherUserCanTrade(){return this._otherUserCanTrade;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingOtherNotAllowedParser.ts\nclass TradingOtherNotAllowedParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/TradingYouAreNotAllowedParser.ts\nclass TradingYouAreNotAllowedParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/trading/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/inventory/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/landingview/PromoArticleData.ts\nclass PromoArticleData{constructor(k){this._id=void 0;this._title=void 0;this._bodyText=void 0;this._buttonText=void 0;this._linkType=void 0;this._linkContent=void 0;this._imageUrl=void 0;this._id=k.readInt();this._title=k.readString();this._bodyText=k.readString();this._buttonText=k.readString();this._linkType=k.readInt();this._linkContent=k.readString();this._imageUrl=k.readString();}get id(){return this._id;}get title(){return this._title;}get bodyText(){return this._bodyText;}get buttonText(){return this._buttonText;}get linkType(){return this._linkType;}get linkContent(){return this._linkContent;}get imageUrl(){return this._imageUrl;}}PromoArticleData.LINK_TYPE_URL=0;PromoArticleData.LINK_TYPE_INTERNAL=1;PromoArticleData.LINK_TYPE_NO_LINK=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/landingview/PromoArticlesMessageParser.ts\nclass PromoArticlesMessageParser_PromoArticlesMessageParser{constructor(){this._articles=void 0;}flush(){this._articles=[];return true;}parse(wrapper){if(!wrapper)return false;const count=wrapper.readInt();for(let i=0;i<count;i++){this._articles.push(new PromoArticleData(wrapper));}return true;}get articles(){return this._articles;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/landingview/votes/CommunityVoteReceivedParser.ts\nclass CommunityVoteReceivedParser{constructor(){this._acknowledged=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._acknowledged=wrapper.readBoolean();return true;}get acknowledged(){return this._acknowledged;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/landingview/votes/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/landingview/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceBuyOfferResultParser.ts\nclass MarketplaceBuyOfferResultParser{constructor(){this._result=void 0;this._newOfferId=void 0;this._newPrice=void 0;this._requestedOfferId=void 0;}flush(){this._newOfferId=-1;this._newPrice=0;this._requestedOfferId=-1;return true;}parse(wrapper){if(!wrapper)return false;this._result=wrapper.readInt();this._newOfferId=wrapper.readInt();this._newPrice=wrapper.readInt();this._requestedOfferId=wrapper.readInt();return true;}get result(){return this._result;}get offerId(){return this._newOfferId;}get newPrice(){return this._newPrice;}get requestedOfferId(){return this._requestedOfferId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceCancelOfferResultParser.ts\nclass MarketplaceCancelOfferResultParser{constructor(){this._offerId=void 0;this._success=void 0;}flush(){this._offerId=0;this._success=false;return true;}parse(wrapper){if(!wrapper)return false;this._offerId=wrapper.readInt();this._success=wrapper.readBoolean();return true;}get offerId(){return this._offerId;}get success(){return this._success;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceCanMakeOfferResultParser.ts\nclass MarketplaceCanMakeOfferResultParser{constructor(){this._tokenCount=void 0;this._result=void 0;}flush(){this._tokenCount=0;this._result=0;return true;}parse(wrapper){if(!wrapper)return false;this._result=wrapper.readInt();this._tokenCount=wrapper.readInt();return true;}get tokenCount(){return this._tokenCount;}get resultCode(){return this._result;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceConfigurationMessageParser.ts\nclass MarketplaceConfigurationMessageParser{constructor(){this._enabled=void 0;this._commission=void 0;this._credits=void 0;this._advertisements=void 0;this._maximumPrice=void 0;this._minimumPrice=void 0;this._offerTime=void 0;this._displayTime=void 0;}flush(){this._enabled=false;this._commission=0;this._credits=0;this._advertisements=0;this._maximumPrice=0;this._minimumPrice=0;this._offerTime=0;this._displayTime=0;return true;}parse(wrapper){if(!wrapper)return false;this._enabled=wrapper.readBoolean();this._commission=wrapper.readInt();this._credits=wrapper.readInt();this._advertisements=wrapper.readInt();this._minimumPrice=wrapper.readInt();this._maximumPrice=wrapper.readInt();this._offerTime=wrapper.readInt();this._displayTime=wrapper.readInt();return true;}get enabled(){return this._enabled;}get commission(){return this._commission;}get credits(){return this._credits;}get advertisements(){return this._advertisements;}get minimumPrice(){return this._minimumPrice;}get maximumPrice(){return this._maximumPrice;}get offerTime(){return this._offerTime;}get displayTime(){return this._displayTime;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceItemPostedParser.ts\nclass MarketplaceMakeOfferResultParser{constructor(){this._result=void 0;}flush(){this._result=0;return true;}parse(wrapper){if(!wrapper)return false;this._result=wrapper.readInt();return true;}get result(){return this._result;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceItemStatsParser.ts\nclass MarketplaceItemStatsParser{constructor(){this._averagePrice=void 0;this._currentOfferCount=void 0;this._historyLength=void 0;this._dayOffsets=void 0;this._averagePrices=void 0;this._soldAmounts=void 0;this._furniTypeId=void 0;this._furniCategoryId=void 0;}flush(){this._averagePrice=0;this._currentOfferCount=0;this._historyLength=0;this._dayOffsets=[];this._averagePrices=[];this._soldAmounts=[];this._furniTypeId=0;this._furniCategoryId=0;return true;}parse(wrapper){if(!wrapper)return false;this._averagePrice=wrapper.readInt();this._currentOfferCount=wrapper.readInt();this._historyLength=wrapper.readInt();let count=wrapper.readInt();while(count>0){this._dayOffsets.push(wrapper.readInt());this._averagePrices.push(wrapper.readInt());this._soldAmounts.push(wrapper.readInt());count--;}this._furniCategoryId=wrapper.readInt();this._furniTypeId=wrapper.readInt();return true;}get averagePrice(){return this._averagePrice;}get offerCount(){return this._currentOfferCount;}get historyLength(){return this._historyLength;}get dayOffsets(){return this._dayOffsets;}get averagePrices(){return this._averagePrices;}get soldAmounts(){return this._soldAmounts;}get furniTypeId(){return this._furniTypeId;}get furniCategoryId(){return this._furniCategoryId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceOfferData.ts\nclass MarketplaceOfferData{constructor(offerId,furniId,furniType,extraData,stuffData,price,status,averagePrice){let offerCount=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;this._offerId=void 0;this._furniId=void 0;this._furniType=void 0;this._extraData=void 0;this._stuffData=void 0;this._price=void 0;this._averagePrice=void 0;this._imageCallback=void 0;this._status=void 0;this._timeLeftMinutes=-1;this._offerCount=void 0;this._image=void 0;this._offerId=offerId;this._furniId=furniId;this._furniType=furniType;this._extraData=extraData;this._stuffData=stuffData;this._price=price;this._status=status;this._averagePrice=averagePrice;this._offerCount=offerCount;}get offerId(){return this._offerId;}set offerId(offerId){this._offerId=offerId;}get furniId(){return this._furniId;}get furniType(){return this._furniType;}get extraData(){return this._extraData;}get stuffData(){return this._stuffData;}get price(){return this._price;}set price(price){this._price=price;}get averagePrice(){return this._averagePrice;}get image(){return this._image;}set image(image){this._image=image;}get imageCallback(){return this._imageCallback;}set imageCallback(callback){this._imageCallback=callback;}get status(){return this._status;}get timeLeftMinutes(){return this._timeLeftMinutes;}set timeLeftMinutes(minutes){this._timeLeftMinutes=minutes;}get offerCount(){return this._offerCount;}set offerCount(count){this._offerCount=count;}get isUniqueLimitedItem(){return this.stuffData&&this.stuffData.uniqueSeries>0;}}MarketplaceOfferData.TYPE_LANDSCAPE=1;MarketplaceOfferData.TYPE_FLOOR=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceOffer.ts\nclass MarketplaceOffer{constructor(offerId,furniId,furniType,extraData,stuffData,price,status,timeLeftMinutes,averagePrice){let offerCount=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;this._offerId=void 0;this._furniId=void 0;this._furniType=void 0;this._extraData=void 0;this._stuffData=void 0;this._price=void 0;this._status=void 0;this._timeLeftMinutes=-1;this._averagePrice=void 0;this._offerCount=void 0;this._offerId=offerId;this._furniId=furniId;this._furniType=furniType;this._extraData=extraData;this._stuffData=stuffData;this._price=price;this._status=status;this._timeLeftMinutes=timeLeftMinutes;this._averagePrice=averagePrice;this._offerCount=offerCount;}get offerId(){return this._offerId;}get furniId(){return this._furniId;}get furniType(){return this._furniType;}get extraData(){return this._extraData;}get stuffData(){return this._stuffData;}get price(){return this._price;}get status(){return this._status;}get timeLeftMinutes(){return this._timeLeftMinutes;}get averagePrice(){return this._averagePrice;}get offerCount(){return this._offerCount;}get isUniqueLimitedItem(){return!(this.stuffData==null)&&this.stuffData.uniqueSeries>0;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceOffersParser.ts\nclass MarketplaceOffersParser_MarketplaceOffersParser{constructor(){this.MAX_LIST_LENGTH=500;this._offers=void 0;this._totalItemsFound=void 0;}flush(){this._offers=[];this._totalItemsFound=0;return true;}parse(wrapper){if(!wrapper)return false;const count=wrapper.readInt();let i=0;while(i<count){const offerId=wrapper.readInt();const status=wrapper.readInt();let furniType=wrapper.readInt();let furniId=-1;let extraData='';let stuffData=null;if(furniType===MarketplaceOffersParser_MarketplaceOffersParser.FURNITYPE_STUFF){furniId=wrapper.readInt();stuffData=FurnitureDataParser_FurnitureDataParser.parseObjectData(wrapper);}else if(furniType===MarketplaceOffersParser_MarketplaceOffersParser.FURNITYPE_WALL){furniId=wrapper.readInt();extraData=wrapper.readString();}else if(furniType==MarketplaceOffersParser_MarketplaceOffersParser.FAKE_FURNITYPE_UNIQUE){furniId=wrapper.readInt();stuffData=ObjectDataFactory_ObjectDataFactory.getData(LegacyDataType_LegacyDataType.FORMAT_KEY);stuffData.uniqueNumber=wrapper.readInt();stuffData.uniqueSeries=wrapper.readInt();furniType=MarketplaceOffersParser_MarketplaceOffersParser.FURNITYPE_STUFF;}const price=wrapper.readInt();const timeLeftMinutes=wrapper.readInt();const averagePrice=wrapper.readInt();const offerCount=wrapper.readInt();const offerItem=new MarketplaceOffer(offerId,furniId,furniType,extraData,stuffData,price,status,timeLeftMinutes,averagePrice,offerCount);if(i<this.MAX_LIST_LENGTH)this._offers.push(offerItem);i++;}this._totalItemsFound=wrapper.readInt();return true;}get offers(){return this._offers;}get totalItemsFound(){return this._totalItemsFound;}}MarketplaceOffersParser_MarketplaceOffersParser.FURNITYPE_STUFF=1;MarketplaceOffersParser_MarketplaceOffersParser.FURNITYPE_WALL=2;MarketplaceOffersParser_MarketplaceOffersParser.FAKE_FURNITYPE_UNIQUE=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/MarketplaceOwnOffersParser.ts\nclass MarketplaceOwnOffersParser_MarketplaceOwnOffersParser{constructor(){this._offers=void 0;this._creditsWaiting=void 0;}flush(){this._offers=[];return true;}parse(wrapper){if(!wrapper)return false;this._offers=[];this._creditsWaiting=wrapper.readInt();// SoldPriceTotal\nconst offerCount=wrapper.readInt();for(let i=0;i<offerCount;i++){const offerId=wrapper.readInt();const status=wrapper.readInt();let furniType=wrapper.readInt();let furniId;let extraData;let stuffData;if(furniType==1){furniId=wrapper.readInt();stuffData=this.getStuffData(wrapper);}else{if(furniType==2){furniId=wrapper.readInt();extraData=wrapper.readString();}else if(furniType==3){furniId=wrapper.readInt();stuffData=ObjectDataFactory_ObjectDataFactory.getData(LegacyDataType_LegacyDataType.FORMAT_KEY);stuffData.uniqueNumber=wrapper.readInt();stuffData.uniqueSeries=wrapper.readInt();furniType=1;}}const price=wrapper.readInt();const local9=wrapper.readInt();const local10=wrapper.readInt();const local13=new MarketplaceOffer(offerId,furniId,furniType,extraData,stuffData,price,status,local9,local10);if(i<MarketplaceOwnOffersParser_MarketplaceOwnOffersParser.MAX_LIST_LENGTH){this._offers.push(local13);}}return true;}get offers(){return this._offers;}get creditsWaiting(){return this._creditsWaiting;}getStuffData(wrapper){const local2=wrapper.readInt();const local3=ObjectDataFactory_ObjectDataFactory.getData(local2);local3.parseWrapper(wrapper);return local3;}}MarketplaceOwnOffersParser_MarketplaceOwnOffersParser.MAX_LIST_LENGTH=500;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/marketplace/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ChatlineData.ts\nclass ChatlineData{constructor(timestamp,habboId,username,message,hasHighlighting){this._timestamp=void 0;this._habboId=void 0;this._username=void 0;this._message=void 0;this._hasHighlighting=void 0;this._timestamp=timestamp;this._habboId=habboId;this._username=username;this._message=message;this._hasHighlighting=hasHighlighting;}get timestamp(){return this._timestamp;}get userId(){return this._habboId;}get userName(){return this._username;}get message(){return this._message;}get hasHighlighting(){return this._hasHighlighting;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ChatRecordData.ts\nclass ChatRecordData_ChatRecordData{constructor(wrapper){this._recordType=void 0;this._context=void 0;this._chatlog=void 0;this._context=new Map();this._chatlog=[];this._recordType=wrapper.readByte();const contextCount=wrapper.readShort();for(let i=0;i<contextCount;i++){const key=wrapper.readString();const type=wrapper.readByte();switch(type){case 0:this._context.set(key,wrapper.readBoolean());break;case 1:this._context.set(key,wrapper.readInt());break;case 2:this._context.set(key,wrapper.readString());break;default:throw new Error('Unknown data type '+type);}}const chatCount=wrapper.readShort();for(let i=0;i<chatCount;i++){const timestamp=wrapper.readString();const habboId=wrapper.readInt();const username=wrapper.readString();const message=wrapper.readString();const hasHighlighting=wrapper.readBoolean();this._chatlog.push(new ChatlineData(timestamp,habboId,username,message,hasHighlighting));}}get recordType(){return this._recordType;}get context(){return this._context;}get chatlog(){return this._chatlog;}get roomId(){return this.getInt('roomId');}get roomName(){return this._context.get('roomName');}get groupId(){return this.getInt('groupId');}get threadId(){return this.getInt('threadId');}get messageId(){return this.getInt('messageId');}getInt(k){const value=this._context.get(k);if(!value){return 0;}return value;}}ChatRecordData_ChatRecordData.TYPE_SIMPLE=0;ChatRecordData_ChatRecordData.TYPE_ROOM_CHAT=1;ChatRecordData_ChatRecordData.TYPE_IM_SESSION=2;ChatRecordData_ChatRecordData.TYPE_DISCUSSION_THREAD=3;ChatRecordData_ChatRecordData.TYPE_DISCUSSION_MESSAGE=4;ChatRecordData_ChatRecordData.TYPE_SELFIE=5;ChatRecordData_ChatRecordData.TYPE_PHOTO=6;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/CfhChatlogData.ts\nclass CfhChatlogData_CfhChatlogData{constructor(k){this._issueId=void 0;this._callerUserId=void 0;this._reportedUserId=void 0;this._chatRecordId=void 0;this._chatRecord=void 0;this._issueId=k.readInt();this._callerUserId=k.readInt();this._reportedUserId=k.readInt();this._chatRecordId=k.readInt();this._chatRecord=new ChatRecordData_ChatRecordData(k);}get issueId(){return this._issueId;}get callerUserId(){return this._callerUserId;}get reportedUserId(){return this._reportedUserId;}get chatRecordId(){return this._chatRecordId;}get chatRecord(){return this._chatRecord;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/CfhChatlogMessageParser.ts\nclass CfhChatlogMessageParser_CfhChatlogMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new CfhChatlogData_CfhChatlogData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/IssueDeletedMessageParser.ts\nclass IssueDeletedMessageParser{constructor(){this._issueId=void 0;}flush(){return true;}parse(k){this._issueId=parseInt(k.readString());return true;}get issueId(){return this._issueId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/IssueMessageData.ts\nclass IssueMessageData_IssueMessageData{constructor(issueId,state,categoryId,reportedCategoryId,issueAgeinMs,priority,groupingId,reporterUserId,reporterUsername,reportedUserId,reportedUsername,pickerUserId,pickerUsername,message,chatRecordId,patterns){this._issueId=void 0;this._state=void 0;this._categoryId=void 0;this._reportedCategoryId=void 0;this._issueAgeInMilliseconds=void 0;this._priority=void 0;this._groupingId=void 0;this._reporterUserId=void 0;this._reporterUserName=void 0;this._reportedUserId=void 0;this._reportedUserName=void 0;this._pickerUserId=void 0;this._pickerUserName=void 0;this._message=void 0;this._chatRecordId=void 0;this._patterns=void 0;this._disposed=false;this._creationTimeInMilliseconds=void 0;this._issueId=issueId;this._state=state;this._categoryId=categoryId;this._reportedCategoryId=reportedCategoryId;this._issueAgeInMilliseconds=issueAgeinMs;this._priority=priority;this._groupingId=groupingId;this._reporterUserId=reporterUserId;this._reporterUserName=reporterUsername;this._reportedUserId=reportedUserId;this._reportedUserName=reportedUsername;this._pickerUserId=pickerUserId;this._pickerUserName=pickerUsername;this._message=message;this._chatRecordId=chatRecordId;this._patterns=patterns;this._creationTimeInMilliseconds=Nitro_Nitro.instance.time;//getTimer()\n}get issueId(){return this._issueId;}get state(){return this._state;}get categoryId(){return this._categoryId;}get reportedCategoryId(){return this._reportedCategoryId;}get issueAgeInMilliseconds(){return this._issueAgeInMilliseconds;}get priority(){return this._priority;}get groupingId(){return this._groupingId;}get reporterUserId(){return this._reporterUserId;}get reporterUserName(){return this._reporterUserName;}get reportedUserId(){return this._reportedUserId;}get reportedUserName(){return this._reportedUserName;}get pickerUserId(){return this._pickerUserId;}get pickerUserName(){return this._pickerUserName;}get message(){return this._message;}get chatRecordId(){return this._chatRecordId;}get patterns(){return this._patterns;}dispose(){if(this.disposed){return;}for(const k of this._patterns){k.dispose();}this._patterns=[];this._disposed=true;}get disposed(){return this._disposed;}getOpenTime(k){const _local_2=(this._issueAgeInMilliseconds+k-this._creationTimeInMilliseconds)/1000;const _local_3=_local_2/60;const _local_4=_local_3%60;const _local_5=_local_3/60;const _local_6=(_local_4<10?'0':'')+_local_4;const _local_7=(_local_5<10?'0':'')+_local_5;return _local_7+':'+_local_6;}}IssueMessageData_IssueMessageData.STATE_OPEN=1;IssueMessageData_IssueMessageData.STATE_PICKED=2;IssueMessageData_IssueMessageData.STATE_CLOSED=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/PatternMatchData.ts\nclass PatternMatchData{constructor(k){this._pattern=void 0;this._startIndex=void 0;this._endIndex=void 0;this._disposed=false;this._pattern=k.readString();this._startIndex=k.readInt();this._endIndex=k.readInt();}dispose(){this._disposed=true;this._pattern='';this._startIndex=-1;this._endIndex=-1;}get disposed(){return this._disposed;}get pattern(){return this._pattern;}get startIndex(){return this._startIndex;}get endIndex(){return this._endIndex;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/IssueInfoMessageParser.ts\nclass IssueInfoMessageParser_IssueInfoMessageParser{constructor(){this._issueData=void 0;}get issueData(){return this._issueData;}flush(){this._issueData=null;return true;}parse(k){const issueId=k.readInt();const state=k.readInt();const categoryId=k.readInt();const reportedCategoryId=k.readInt();const issueAgeInMs=k.readInt();const priority=k.readInt();const groupingId=k.readInt();const reporterUserId=k.readInt();const reporterUsername=k.readString();const reportedUserId=k.readInt();const reportedUsername=k.readString();const pickerUserId=k.readInt();const pickerUsername=k.readString();const message=k.readString();const chatRecordId=k.readInt();const patternsCount=k.readInt();const patterns=[];for(let i=0;i<patternsCount;i++){patterns.push(new PatternMatchData(k));}this._issueData=new IssueMessageData_IssueMessageData(issueId,state,categoryId,reportedCategoryId,issueAgeInMs,priority,groupingId,reporterUserId,reporterUsername,reportedUserId,reportedUsername,pickerUserId,pickerUsername,message,chatRecordId,patterns);return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/IssuePickFailedMessageParser.ts\nclass IssuePickFailedMessageParser_IssuePickFailedMessageParser{constructor(){this._issues=void 0;this._retryEnabled=void 0;this._retryCount=void 0;}flush(){this._issues=null;return true;}parse(k){this._issues=[];const count=k.readInt();for(let i=0;i<count;i++){const _local_4=k.readInt();const _local_5=k.readInt();const _local_6=k.readString();const _local_7=new IssueMessageData_IssueMessageData(_local_4,0,0,0,0,0,0,0,null,0,null,_local_5,_local_6,null,0,[]);this._issues.push(_local_7);}this._retryEnabled=k.readBoolean();this._retryCount=k.readInt();return true;}get issues(){return this._issues;}get retryEnabled(){return this._retryEnabled;}get retryCount(){return this._retryCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModerationCautionParser.ts\nclass ModerationCautionParser{constructor(){this._message=void 0;this._url=void 0;}flush(){this._message='';this._url=null;return true;}parse(wrapper){if(!wrapper)return false;this._message=wrapper.readString();this._url=wrapper.readString();return true;}get message(){return this._message;}get url(){return this._url;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModeratorActionResultMessageParser.ts\nclass ModeratorActionResultMessageParser{constructor(){this._userId=void 0;this._success=void 0;}flush(){this._userId=-1;this._success=false;return true;}parse(wrapper){this._userId=wrapper.readInt();this._success=wrapper.readBoolean();return true;}get userId(){return this._userId;}get success(){return this._success;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModeratorInitData.ts\nclass ModeratorInitData_ModeratorInitData{constructor(wrapper){this._messageTemplates=void 0;this._roomMessageTemplates=void 0;this._issues=void 0;this._cfhPermission=void 0;this._chatlogsPermission=void 0;this._alertPermission=void 0;this._kickPermission=void 0;this._banPermission=void 0;this._roomAlertPermission=void 0;this._roomKickPermission=void 0;this._disposed=false;const local2=new IssueInfoMessageParser_IssueInfoMessageParser();this._issues=[];this._messageTemplates=[];this._roomMessageTemplates=[];let local3=wrapper.readInt();let i=0;while(i<local3){if(local2.parse(wrapper)){this._issues.push(local2.issueData);}i++;}local3=wrapper.readInt();i=0;while(i<local3){this._messageTemplates.push(wrapper.readString());i++;}local3=wrapper.readInt();i=0;while(i<local3){wrapper.readString();i++;}this._cfhPermission=wrapper.readBoolean();this._chatlogsPermission=wrapper.readBoolean();this._alertPermission=wrapper.readBoolean();this._kickPermission=wrapper.readBoolean();this._banPermission=wrapper.readBoolean();this._roomAlertPermission=wrapper.readBoolean();this._roomKickPermission=wrapper.readBoolean();local3=wrapper.readInt();i=0;while(i<local3){this._roomMessageTemplates.push(wrapper.readString());i++;}}dispose(){if(this._disposed){return;}this._disposed=true;this._messageTemplates=null;this._roomMessageTemplates=null;this._issues=null;}get disposed(){return this._disposed;}get messageTemplates(){return this._messageTemplates;}get roomMessageTemplates(){return this._roomMessageTemplates;}get issues(){return this._issues;}get cfhPermission(){return this._cfhPermission;}get chatlogsPermission(){return this._chatlogsPermission;}get alertPermission(){return this._alertPermission;}get kickPermission(){return this._kickPermission;}get banPermission(){return this._banPermission;}get roomAlertPermission(){return this._roomAlertPermission;}get roomKickPermission(){return this._roomKickPermission;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModeratorInitMessageParser.ts\nclass ModeratorInitMessageParser_ModeratorInitMessageParser{constructor(){this._data=null;}flush(){this._data=null;return true;}parse(wrapper){this._data=new ModeratorInitData_ModeratorInitData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModeratorMessageParser.ts\nclass ModeratorMessageParser{constructor(){this._message=void 0;this._url=void 0;}flush(){this._message='';this._url='';return true;}parse(wrapper){if(!wrapper)return false;this._message=wrapper.readString();this._url=wrapper.readString();return true;}get message(){return this._message;}get url(){return this._url;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModRoomData.ts\nclass ModRoomData{constructor(k){this._exists=void 0;this._name=void 0;this._desc=void 0;this._tags=void 0;this._disposed=void 0;this._tags=[];this._exists=k.readBoolean();if(!this.exists){return;}this._name=k.readString();this._desc=k.readString();const tagCount=k.readInt();for(let i=0;i<tagCount;i++){this._tags.push(k.readString());}}get name(){return this._name;}get desc(){return this._desc;}get tags(){return this._tags;}get exists(){return this._exists;}get disposed(){return this._disposed;}dispose(){if(this._disposed){return;}this._disposed=true;this._tags=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/RoomModerationData.ts\nclass RoomModerationData_RoomModerationData{constructor(k){this._flatId=void 0;this._userCount=void 0;this._ownerInRoom=void 0;this._ownerId=void 0;this._ownerName=void 0;this._room=void 0;this._disposed=void 0;this._flatId=k.readInt();this._userCount=k.readInt();this._ownerInRoom=k.readBoolean();this._ownerId=k.readInt();this._ownerName=k.readString();this._room=new ModRoomData(k);}get flatId(){return this._flatId;}get userCount(){return this._userCount;}get ownerInRoom(){return this._ownerInRoom;}get ownerId(){return this._ownerId;}get ownerName(){return this._ownerName;}get room(){return this._room;}get disposed(){return this._disposed;}dispose(){if(this._disposed){return;}this._disposed=true;if(this._room!=null){this._room.dispose();this._room=null;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModeratorRoomInfoMessageParser.ts\nclass ModeratorRoomInfoMessageParser_ModeratorRoomInfoMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new RoomModerationData_RoomModerationData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModeratorToolPreferencesMessageParser.ts\nclass ModeratorToolPreferencesMessageParser{constructor(){this._windowX=void 0;this._windowY=void 0;this._windowWidth=void 0;this._windowHeight=void 0;}flush(){this._windowX=0;this._windowY=0;this._windowWidth=0;this._windowHeight=0;return true;}parse(k){this._windowX=k.readInt();this._windowY=k.readInt();this._windowWidth=k.readInt();this._windowHeight=k.readInt();return true;}get windowX(){return this._windowX;}get windowY(){return this._windowY;}get windowWidth(){return this._windowWidth;}get windowHeight(){return this._windowHeight;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorUserInfoData.ts\nclass ModeratorUserInfoData{constructor(wrapper){this._userId=void 0;this._userName=void 0;this._registrationAgeInMinutes=void 0;this._minutesSinceLastLogin=void 0;this._online=void 0;this._cfhCount=void 0;this._abusiveCfhCount=void 0;this._cautionCount=void 0;this._banCount=void 0;this._tradingLockCount=void 0;this._tradingExpiryDate=void 0;this._lastPurchaseDate=void 0;this._identityId=void 0;this._identityRelatedBanCount=void 0;this._primaryEmailAddress=void 0;this._figure=void 0;this._userClassification=void 0;this._lastSanctionTime='';this._sanctionAgeHours=0;this._userId=wrapper.readInt();this._userName=wrapper.readString();this._figure=wrapper.readString();this._registrationAgeInMinutes=wrapper.readInt();this._minutesSinceLastLogin=wrapper.readInt();this._online=wrapper.readBoolean();this._cfhCount=wrapper.readInt();this._abusiveCfhCount=wrapper.readInt();this._cautionCount=wrapper.readInt();this._banCount=wrapper.readInt();this._tradingLockCount=wrapper.readInt();this._tradingExpiryDate=wrapper.readString();this._lastPurchaseDate=wrapper.readString();this._identityId=wrapper.readInt();this._identityRelatedBanCount=wrapper.readInt();this._primaryEmailAddress=wrapper.readString();this._userClassification=wrapper.readString();if(wrapper.bytesAvailable){this._lastSanctionTime=wrapper.readString();this._sanctionAgeHours=wrapper.readInt();}}get userId(){return this._userId;}get userName(){return this._userName;}get figure(){return this._figure;}get registrationAgeInMinutes(){return this._registrationAgeInMinutes;}get minutesSinceLastLogin(){return this._minutesSinceLastLogin;}get online(){return this._online;}get cfhCount(){return this._cfhCount;}get abusiveCfhCount(){return this._abusiveCfhCount;}get cautionCount(){return this._cautionCount;}get banCount(){return this._banCount;}get tradingLockCount(){return this._tradingLockCount;}get tradingExpiryDate(){return this._tradingExpiryDate;}get lastPurchaseDate(){return this._lastPurchaseDate;}get identityId(){return this._identityId;}get identityRelatedBanCount(){return this._identityRelatedBanCount;}get primaryEmailAddress(){return this._primaryEmailAddress;}get userClassification(){return this._userClassification;}get lastSanctionTime(){return this._lastSanctionTime;}get sanctionAgeHours(){return this._sanctionAgeHours;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/ModeratorUserInfoMessageParser.ts\nclass ModeratorUserInfoMessageParser_ModeratorUserInfoMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new ModeratorUserInfoData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/RoomChatlogMessageParser.ts\nclass RoomChatlogMessageParser_RoomChatlogMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new ChatRecordData_ChatRecordData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/RoomVisitData.ts\nclass RoomVisitData{constructor(k){this._roomId=void 0;this._roomName=void 0;this._enterHour=void 0;this._enterMinute=void 0;this._roomId=k.readInt();this._roomName=k.readString();this._enterHour=k.readInt();this._enterMinute=k.readInt();}get roomId(){return this._roomId;}get roomName(){return this._roomName;}get enterHour(){return this._enterHour;}get enterMinute(){return this._enterMinute;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/RoomVisitsData.ts\nclass RoomVisitsData_RoomVisitsData{constructor(k){this._userId=void 0;this._userName=void 0;this._rooms=void 0;this._rooms=[];this._userId=k.readInt();this._userName=k.readString();const _local_2=k.readInt();let _local_3=0;while(_local_3<_local_2){this._rooms.push(new RoomVisitData(k));_local_3++;}}get userId(){return this._userId;}get userName(){return this._userName;}get rooms(){return this._rooms;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/RoomVisitsMessageParser.ts\nclass RoomVisitsMessageParser_RoomVisitsMessageParser{constructor(){this._data=void 0;}flush(){return true;}parse(wrapper){this._data=new RoomVisitsData_RoomVisitsData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/UserBannedMessageParser.ts\nclass UserBannedMessageParser{constructor(){this._message=void 0;}flush(){this._message='';return true;}parse(wrapper){if(!wrapper)return false;this._message=wrapper.readString();return true;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/UserChatlogData.ts\nclass UserChatlogData_UserChatlogData{constructor(wrapper){this._userId=void 0;this._username=void 0;this._roomChatlogs=[];this._userId=wrapper.readInt();this._username=wrapper.readString();const size=wrapper.readInt();for(let i=0;i<size;i++){this._roomChatlogs.push(new ChatRecordData_ChatRecordData(wrapper));}}get userId(){return this._userId;}get username(){return this._username;}get roomChatlogs(){return this._roomChatlogs;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/UserChatlogMessageParser.ts\nclass UserChatlogMessageParser_UserChatlogMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new UserChatlogData_UserChatlogData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/moderation/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/mysterybox/MysteryBoxKeysParser.ts\nclass MysteryBoxKeysParser{constructor(){this._boxColor=void 0;this._keyColor=void 0;}flush(){this._boxColor=null;this._keyColor=null;return true;}parse(wrapper){if(!wrapper)return false;this._boxColor=wrapper.readString();this._keyColor=wrapper.readString();return true;}get boxColor(){return this._boxColor;}get keyColor(){return this._keyColor;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/mysterybox/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/CanCreateRoomEventParser.ts\nclass CanCreateRoomEventParser{constructor(){this._canCreate=void 0;this._errorCode=void 0;}flush(){this._canCreate=false;this._errorCode=0;return true;}parse(wrapper){if(!wrapper)return false;this._canCreate=wrapper.readBoolean();this._errorCode=wrapper.readInt();return true;}get canCreate(){return this._canCreate;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorCategoryDataParser.ts\nclass NavigatorCategoryDataParser{constructor(wrapper){this._id=void 0;this._name=void 0;this._visible=void 0;this._automatic=void 0;this._automaticCategoryKey=void 0;this._globalCategoryKey=void 0;this._staffOnly=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._id=-1;this._name=null;this._visible=false;this._automatic=false;this._automaticCategoryKey=null;this._globalCategoryKey=null;this._staffOnly=false;return true;}parse(wrapper){if(!wrapper)return false;this._id=wrapper.readInt();this._name=wrapper.readString();this._visible=wrapper.readBoolean();this._automatic=wrapper.readBoolean();this._automaticCategoryKey=wrapper.readString();this._globalCategoryKey=wrapper.readString();this._staffOnly=wrapper.readBoolean();return true;}get id(){return this._id;}get name(){return this._name;}get visible(){return this._visible;}get automatic(){return this._automatic;}get automaticCategoryKey(){return this._automaticCategoryKey;}get globalCategoryKey(){return this._globalCategoryKey;}get staffOnly(){return this._staffOnly;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorCategoriesParser.ts\nclass NavigatorCategoriesParser_NavigatorCategoriesParser{constructor(){this._categories=void 0;}flush(){this._categories=[];return true;}parse(wrapper){if(!wrapper)return false;let totalCategories=wrapper.readInt();while(totalCategories>0){this._categories.push(new NavigatorCategoryDataParser(wrapper));totalCategories--;}return true;}get categories(){return this._categories;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorCollapsedParser.ts\nclass NavigatorCollapsedParser{constructor(){this._categories=void 0;}flush(){this._categories=[];return true;}parse(wrapper){if(!wrapper)return false;let totalCategories=wrapper.readInt();while(totalCategories>0){this._categories.push(wrapper.readString());totalCategories--;}return true;}get categories(){return this._categories;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorEventCategoryDataParser.ts\nclass NavigatorEventCategoryDataParser{constructor(wrapper){this._id=void 0;this._name=void 0;this._visible=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._id=-1;this._name=null;this._visible=false;return true;}parse(wrapper){if(!wrapper)return false;this._id=wrapper.readInt();this._name=wrapper.readString();this._visible=wrapper.readBoolean();return true;}get id(){return this._id;}get name(){return this._name;}get visible(){return this._visible;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorEventCategoriesParser.ts\nclass NavigatorEventCategoriesParser_NavigatorEventCategoriesParser{constructor(){this._categories=void 0;}flush(){this._categories=[];return true;}parse(wrapper){if(!wrapper)return false;let totalCategories=wrapper.readInt();while(totalCategories>0){this._categories.push(new NavigatorEventCategoryDataParser(wrapper));totalCategories--;}return true;}get categories(){return this._categories;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorHomeRoomParser.ts\nclass NavigatorHomeRoomParser{constructor(){this._homeRoomId=void 0;this._roomIdToEnter=void 0;}flush(){this._homeRoomId=-1;this._roomIdToEnter=-1;return true;}parse(wrapper){if(!wrapper)return false;this._homeRoomId=wrapper.readInt();this._roomIdToEnter=wrapper.readInt();return true;}get homeRoomId(){return this._homeRoomId;}get roomIdToEnter(){return this._roomIdToEnter;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorLiftedDataParser.ts\nclass NavigatorLiftedDataParser{constructor(wrapper){this._roomId=void 0;this._areaId=void 0;this._image=void 0;this._caption=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._roomId=-1;this._areaId=-1;this._image=null;this._caption=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._areaId=wrapper.readInt();this._image=wrapper.readString();this._caption=wrapper.readString();return true;}get roomId(){return this._roomId;}get areaId(){return this._areaId;}get image(){return this._image;}get caption(){return this._caption;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorLiftedParser.ts\nclass NavigatorLiftedParser_NavigatorLiftedParser{constructor(){this._rooms=void 0;}flush(){this._rooms=[];return true;}parse(wrapper){if(!wrapper)return false;let totalRooms=wrapper.readInt();while(totalRooms>0){this._rooms.push(new NavigatorLiftedDataParser(wrapper));totalRooms--;}return true;}get rooms(){return this._rooms;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/utils/NavigatorSavedSearch.ts\nclass NavigatorSavedSearch{constructor(wrapper){this._id=void 0;this._code=void 0;this._filter=void 0;this._localization=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._id=-1;this._code=null;this._filter=null;this._localization=null;return true;}parse(wrapper){if(!wrapper)return false;this._id=wrapper.readInt();this._code=wrapper.readString();this._filter=wrapper.readString();this._localization=wrapper.readString();return true;}get id(){return this._id;}get code(){return this._code;}get filter(){return this._filter;}get localization(){return this._localization;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/utils/NavigatorTopLevelContext.ts\nclass NavigatorTopLevelContext_NavigatorTopLevelContext{constructor(wrapper){this._code=void 0;this._savedSearches=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._code=null;this._savedSearches=[];return true;}parse(wrapper){if(!wrapper)return false;this._code=wrapper.readString();let totalSavedSearches=wrapper.readInt();while(totalSavedSearches>0){this._savedSearches.push(new NavigatorSavedSearch(wrapper));totalSavedSearches--;}return true;}get code(){return this._code;}get savedSearches(){return this._savedSearches;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorMetadataParser.ts\nclass NavigatorMetadataParser_NavigatorMetadataParser{constructor(){this._topLevelContexts=void 0;}flush(){this._topLevelContexts=[];return true;}parse(wrapper){if(!wrapper)return false;let totalContexts=wrapper.readInt();while(totalContexts>0){this._topLevelContexts.push(new NavigatorTopLevelContext_NavigatorTopLevelContext(wrapper));totalContexts--;}return true;}get topLevelContexts(){return this._topLevelContexts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorOpenRoomCreatorParser.ts\nclass NavigatorOpenRoomCreatorParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorSearchesParser.ts\nclass NavigatorSearchesParser_NavigatorSearchesParser{constructor(){this._searches=void 0;}flush(){this._searches=[];return true;}parse(wrapper){if(!wrapper)return false;let totalSearches=wrapper.readInt();while(totalSearches>0){this._searches.push(new NavigatorSavedSearch(wrapper));totalSearches--;}return true;}get searches(){return this._searches;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomDataParser.ts\nclass RoomDataParser{constructor(wrapper){this._roomId=void 0;this._roomName=void 0;this._showOwner=void 0;this._ownerId=void 0;this._ownerName=void 0;this._doorMode=void 0;this._userCount=void 0;this._maxUserCount=void 0;this._description=void 0;this._tradeMode=void 0;this._score=void 0;this._ranking=void 0;this._categoryId=void 0;this._totalStars=void 0;this._groupId=void 0;this._groupName=void 0;this._groupBadge=void 0;this._tags=void 0;this._bitMask=void 0;this._thumbnail=void 0;this._allowPets=void 0;this._displayAd=void 0;this._adName=void 0;this._adDescription=void 0;this._adExpiresIn=void 0;this._allInRoomMuted=void 0;this._canMute=void 0;this._officialRoomPicRef=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._roomId=0;this._roomName=null;this._ownerId=0;this._ownerName=null;this._doorMode=0;this._userCount=0;this._maxUserCount=0;this._description=null;this._tradeMode=2;this._score=0;this._ranking=0;this._categoryId=0;this._totalStars=0;this._groupId=0;this._groupName=null;this._groupBadge=null;this._tags=[];this._bitMask=0;this._thumbnail=null;this._allowPets=false;this._showOwner=true;this._displayAd=false;this._adName=null;this._adDescription=null;this._adExpiresIn=0;this._allInRoomMuted=false;this._canMute=false;this._officialRoomPicRef=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._roomName=wrapper.readString();this._ownerId=wrapper.readInt();this._ownerName=wrapper.readString();this._doorMode=wrapper.readInt();this._userCount=wrapper.readInt();this._maxUserCount=wrapper.readInt();this._description=wrapper.readString();this._tradeMode=wrapper.readInt();this._score=wrapper.readInt();this._ranking=wrapper.readInt();this._categoryId=wrapper.readInt();this.parseTags(wrapper);this.parseBitMask(wrapper);return true;}parseTags(wrapper){if(!wrapper)return false;this._tags=[];let totalTags=wrapper.readInt();while(totalTags>0){this._tags.push(wrapper.readString());totalTags--;}return true;}parseBitMask(wrapper){if(!wrapper)return false;this._bitMask=wrapper.readInt();if(this._bitMask&RoomDataParser.THUMBNAIL_BITMASK)this._officialRoomPicRef=wrapper.readString();if(this._bitMask&RoomDataParser.GROUPDATA_BITMASK){this._groupId=wrapper.readInt();this._groupName=wrapper.readString();this._groupBadge=wrapper.readString();}if(this._bitMask&RoomDataParser.ROOMAD_BITMASK){this._adName=wrapper.readString();this._adDescription=wrapper.readString();this._adExpiresIn=wrapper.readInt();}this._showOwner=(this._bitMask&RoomDataParser.SHOWOWNER_BITMASK)>0;this._allowPets=(this._bitMask&RoomDataParser.ALLOW_PETS_BITMASK)>0;this._displayAd=(this._bitMask&RoomDataParser.DISPLAY_ROOMAD_BITMASK)>0;this._thumbnail=null;return true;}get roomId(){return this._roomId;}get roomName(){return this._roomName;}set roomName(name){this._roomName=name;}get ownerId(){return this._ownerId;}get ownerName(){return this._ownerName;}get doorMode(){return this._doorMode;}get userCount(){return this._userCount;}get maxUserCount(){return this._maxUserCount;}get description(){return this._description;}get tradeMode(){return this._tradeMode;}get score(){return this._score;}get ranking(){return this._ranking;}get categoryId(){return this._categoryId;}get tags(){return this._tags;}get officialRoomPicRef(){return this._officialRoomPicRef;}get habboGroupId(){return this._groupId;}get groupName(){return this._groupName;}get groupBadgeCode(){return this._groupBadge;}get roomAdName(){return this._adName;}get roomAdDescription(){return this._adDescription;}get roomAdExpiresInMin(){return this._adExpiresIn;}get showOwner(){return this._showOwner;}get allowPets(){return this._allowPets;}get displayRoomEntryAd(){return this._displayAd;}get canMute(){return this._canMute;}set canMute(k){this._canMute=k;}get allInRoomMuted(){return this._allInRoomMuted;}set allInRoomMuted(k){this._allInRoomMuted=k;}}RoomDataParser.THUMBNAIL_BITMASK=1;RoomDataParser.GROUPDATA_BITMASK=2;RoomDataParser.ROOMAD_BITMASK=4;RoomDataParser.SHOWOWNER_BITMASK=8;RoomDataParser.ALLOW_PETS_BITMASK=16;RoomDataParser.DISPLAY_ROOMAD_BITMASK=32;RoomDataParser.OPEN_STATE=0;RoomDataParser.DOORBELL_STATE=1;RoomDataParser.PASSWORD_STATE=2;RoomDataParser.INVISIBLE_STATE=3;RoomDataParser.NOOB_STATE=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/utils/NavigatorSearchResultList.ts\nclass NavigatorSearchResultList_NavigatorSearchResultList{constructor(wrapper){this._code=void 0;this._data=void 0;this._action=void 0;this._closed=void 0;this._mode=void 0;this._rooms=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._code=null;this._data=null;this._action=-1;this._closed=false;this._mode=-1;this._rooms=[];return true;}parse(wrapper){if(!wrapper)return false;this._code=wrapper.readString();this._data=wrapper.readString();this._action=wrapper.readInt();this._closed=wrapper.readBoolean();this._mode=wrapper.readInt();let totalRooms=wrapper.readInt();while(totalRooms>0){this._rooms.push(new RoomDataParser(wrapper));totalRooms--;}return true;}get code(){return this._code;}get data(){return this._data;}get action(){return this._action;}get closed(){return this._closed;}get mode(){return this._mode;}get rooms(){return this._rooms;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/utils/NavigatorSearchResultSet.ts\nclass NavigatorSearchResultSet_NavigatorSearchResultSet{constructor(wrapper){this._code=void 0;this._data=void 0;this._results=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._code=null;this._data=null;this._results=[];return true;}parse(wrapper){if(!wrapper)return false;this._code=wrapper.readString();this._data=wrapper.readString();let totalResults=wrapper.readInt();while(totalResults>0){this._results.push(new NavigatorSearchResultList_NavigatorSearchResultList(wrapper));totalResults--;}return true;}get code(){return this._code;}get data(){return this._data;}get results(){return this._results;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorSearchParser.ts\nclass NavigatorSearchParser_NavigatorSearchParser{constructor(){this._result=void 0;}flush(){this._result=null;return true;}parse(wrapper){if(!wrapper)return false;this._result=new NavigatorSearchResultSet_NavigatorSearchResultSet(wrapper);return true;}get result(){return this._result;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/NavigatorSettingsParser.ts\nclass NavigatorSettingsParser{constructor(){this._windowX=void 0;this._windowY=void 0;this._windowWidth=void 0;this._windowHeight=void 0;this._leftPanelHidden=void 0;this._resultsMode=void 0;}flush(){this._windowX=0;this._windowY=0;this._windowWidth=0;this._windowHeight=0;this._leftPanelHidden=false;this._resultsMode=0;return true;}parse(wrapper){if(!wrapper)return false;this._windowX=wrapper.readInt();this._windowY=wrapper.readInt();this._windowWidth=wrapper.readInt();this._windowHeight=wrapper.readInt();this._leftPanelHidden=wrapper.readBoolean();this._resultsMode=wrapper.readInt();return true;}get windowX(){return this._windowX;}get windowY(){return this._windowY;}get windowWidth(){return this._windowWidth;}get windowHeight(){return this._windowHeight;}get leftPanelHidden(){return this._leftPanelHidden;}get resultsMode(){return this._resultsMode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/navigator/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/AchievementNotificationMessageParser.ts\nclass AchievementNotificationMessageParser_AchievementNotificationMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new AchievementLevelUpData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/ActivityPointNotificationParser.ts\nclass ActivityPointNotificationParser{constructor(){this._amount=void 0;this._amountChanged=void 0;this._type=void 0;}flush(){this._amount=0;this._amountChanged=0;this._type=-1;return true;}parse(wrapper){if(!wrapper)return false;this._amount=wrapper.readInt();this._amountChanged=wrapper.readInt();this._type=wrapper.readInt();return true;}get amount(){return this._amount;}get amountChanged(){return this._amountChanged;}get type(){return this._type;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/BotErrorEventParser.ts\nclass BotErrorEventParser{constructor(){this._errorCode=void 0;}flush(){this._errorCode=-1;return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();return true;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/ClubGiftNotificationParser.ts\nclass ClubGiftNotificationParser{constructor(){this._numGifts=void 0;}flush(){this._numGifts=0;return true;}parse(wrapper){if(!wrapper)return false;this._numGifts=wrapper.readInt();return true;}get numGifts(){return this._numGifts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/HabboBroadcastMessageParser.ts\nclass HabboBroadcastMessageParser{constructor(){this._message=void 0;}flush(){this._message=null;return true;}parse(wrapper){if(!wrapper)return false;this._message=wrapper.readString();return true;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/HotelWillShutdownParser.ts\nclass HotelWillShutdownParser{constructor(){this._minutes=void 0;}flush(){this._minutes=null;return true;}parse(wrapper){if(!wrapper)return false;this._minutes=wrapper.readInt();return true;}get minutes(){return this._minutes;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/InfoFeedEnableMessageParser.ts\nclass InfoFeedEnableMessageParser{constructor(){this._enabled=void 0;}flush(){this._enabled=false;return true;}parse(wrapper){if(!wrapper)return false;this._enabled=wrapper.readBoolean();return true;}get enabled(){return this._enabled;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/MOTDNotificationParser.ts\nclass MOTDNotificationParser{constructor(){this._messages=void 0;}flush(){this._messages=[];return true;}parse(wrapper){if(!wrapper)return false;let totalMessages=wrapper.readInt();while(totalMessages>0){this._messages.push(wrapper.readString());totalMessages--;}return true;}get messages(){return this._messages;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/NotificationDialogMessageParser.ts\nclass NotificationDialogMessageParser{constructor(){this._type=void 0;this._parameters=void 0;}flush(){this._type=null;this._parameters=new Map();return true;}parse(wrapper){if(!wrapper)return false;this._type=wrapper.readString();let totalParameters=wrapper.readInt();while(totalParameters>0){this._parameters.set(wrapper.readString(),wrapper.readString());totalParameters--;}return true;}get type(){return this._type;}get parameters(){return this._parameters;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/PetLevelNotificationParser.ts\nclass PetLevelNotificationParser_PetLevelNotificationParser{constructor(){this._petId=void 0;this._petName=void 0;this._level=void 0;this._figureData=void 0;}flush(){this._petId=-1;this._petName=null;this._level=0;this._figureData=null;return true;}parse(wrapper){if(!wrapper)return false;this._petId=wrapper.readInt();this._petName=wrapper.readString();this._level=wrapper.readInt();this._figureData=new PetFigureDataParser(wrapper);return true;}get petId(){return this._petId;}get petName(){return this._petName;}get level(){return this._level;}get figureData(){return this._figureData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/PetPlacingErrorEventParser.ts\nclass PetPlacingErrorEventParser{constructor(){this._errorCode=void 0;}flush(){this._errorCode=-1;return true;}parse(wrapper){if(!wrapper)return false;this._errorCode=wrapper.readInt();return true;}get errorCode(){return this._errorCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/UnseenItemsParser.ts\nclass UnseenItemsParser_UnseenItemsParser{constructor(){this._items=void 0;}flush(){this._items=new AdvancedMap();return true;}parse(wrapper){if(!wrapper)return false;let totalUnseen=wrapper.readInt();while(totalUnseen>0){const category=wrapper.readInt();let totalItems=wrapper.readInt();const itemIds=[];while(totalItems>0){itemIds.push(wrapper.readInt());totalItems--;}this._items.add(category,itemIds);totalUnseen--;}return true;}getItemsByCategory(category){return this._items.getValue(category);}get categories(){return this._items.getKeys();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/notifications/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/perk/common/PerkData.ts\nclass PerkData{constructor(code,errorMessage,isAllowed){this._code=void 0;this._errorMessage=void 0;this._isAllowed=void 0;this._code=code;this._errorMessage=errorMessage;this._isAllowed=isAllowed;}get code(){return this._code;}get errorMessage(){return this._errorMessage;}get isAllowed(){return this._isAllowed;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/perk/common/PerkEnum.ts\nclass PerkEnum{}PerkEnum.USE_GUIDE_TOOL='USE_GUIDE_TOOL';PerkEnum.GIVE_GUIDE_TOUR='GIVE_GUIDE_TOUR';PerkEnum.JUDGE_CHAT_REVIEWS='JUDGE_CHAT_REVIEWS';PerkEnum.VOTE_IN_COMPETITIONS='VOTE_IN_COMPETITIONS';PerkEnum.CALL_ON_HELPERS='CALL_ON_HELPERS';PerkEnum.CITIZEN='CITIZEN';PerkEnum.TRADE='TRADE';PerkEnum.HEIGHTMAP_EDITOR_BETA='HEIGHTMAP_EDITOR_BETA';PerkEnum.BUILDER_AT_WORK='BUILDER_AT_WORK';PerkEnum.NAVIGATOR_ROOM_THUMBNAIL_CAMERA='NAVIGATOR_ROOM_THUMBNAIL_CAMERA';PerkEnum.CAMERA='CAMERA';PerkEnum.MOUSE_ZOOM='MOUSE_ZOOM';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/perk/common/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/perk/PerkAllowancesMessageParser.ts\nclass PerkAllowancesMessageParser_PerkAllowancesMessageParser{constructor(){this._perks=void 0;}flush(){this._perks=[];return true;}parse(wrapper){if(!wrapper)return false;this._perks=[];const size=wrapper.readInt();for(let i=0;i<size;i++)this._perks.push(new PerkData(wrapper.readString(),wrapper.readString(),wrapper.readBoolean()));return true;}isAllowed(perkCode){let allowed=false;for(const perk of this._perks){if(perk.code===perkCode){allowed=perk.isAllowed;break;}}return allowed;}get perks(){return this._perks;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/perk/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/PollChoice.ts\nclass PollChoice{constructor(k,_arg_2,_arg_3){this._value=void 0;this._choiceText=void 0;this._choiceType=void 0;this._value=k;this._choiceText=_arg_2;this._choiceType=_arg_3;}get value(){return this._value;}set value(value){this._value=value;}get choiceText(){return this._choiceText;}set choiceText(choiceText){this._choiceText=choiceText;}get choiceType(){return this._choiceType;}set choiceType(k){this._choiceType=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/PollQuestion.ts\nclass PollQuestion{constructor(){this._questionId=void 0;this._questionType=void 0;this._sortOrder=void 0;this._questionCategory=void 0;this._questionText=void 0;this._questionAnswerType=void 0;this._questionAnswerCount=void 0;this._children=void 0;this._questionChoices=void 0;this._children=[];this._questionChoices=[];}get questionId(){return this._questionId;}set questionId(k){this._questionId=k;}get questionType(){return this._questionType;}set questionType(k){this._questionType=k;}get sortOrder(){return this._sortOrder;}set sortOrder(sortOrder){this._sortOrder=sortOrder;}get questionText(){return this._questionText;}set questionText(k){this._questionText=k;}get questionCategory(){return this._questionCategory;}set questionCategory(k){this._questionCategory=k;}get questionAnswerType(){return this._questionAnswerType;}set questionAnswerType(k){this._questionAnswerType=k;}get questionAnswerCount(){return this._questionAnswerCount;}set questionAnswerCount(k){this._questionAnswerCount=k;}get children(){return this._children;}set children(children){this._children=children;}get questionChoices(){return this._questionChoices;}set questionChoices(k){this._questionChoices=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/PollContentsParser.ts\nclass PollContentsParser_PollContentsParser{constructor(){this._id=-1;this._startMessage='';this._endMessage='';this._numQuestions=0;this._questionArray=[];this._npsPoll=false;}flush(){this._id=-1;this._startMessage='';this._endMessage='';this._numQuestions=0;this._questionArray=[];return true;}parse(wrapper){this._id=wrapper.readInt();this._startMessage=wrapper.readString();this._endMessage=wrapper.readString();this._numQuestions=wrapper.readInt();for(let i=0;i<this._numQuestions;i++){const question=this.parsePollQuestion(wrapper);const childrenCount=wrapper.readInt();for(let j=0;j<childrenCount;j++){question.children.push(this.parsePollQuestion(wrapper));}this._questionArray.push(question);}this._npsPoll=wrapper.readBoolean();return true;}parsePollQuestion(k){const pollQuestion=new PollQuestion();pollQuestion.questionId=k.readInt();pollQuestion.sortOrder=k.readInt();pollQuestion.questionType=k.readInt();pollQuestion.questionText=k.readString();pollQuestion.questionCategory=k.readInt();pollQuestion.questionAnswerType=k.readInt();pollQuestion.questionAnswerCount=k.readInt();if(pollQuestion.questionType==1||pollQuestion.questionType==2){for(let i=0;i<pollQuestion.questionAnswerCount;i++){pollQuestion.questionChoices.push(new PollChoice(k.readString(),k.readString(),k.readInt()));}}return pollQuestion;}get id(){return this._id;}get startMessage(){return this._startMessage;}get endMessage(){return this._endMessage;}get numQuestions(){return this._numQuestions;}get questionArray(){return this._questionArray;}get npsPoll(){return this._npsPoll;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/PollErrorParser.ts\nclass PollErrorParser{flush(){throw true;}parse(wrapper){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/PollOfferParser.ts\nclass PollOfferParser{constructor(){this._id=-1;this._type='';this._headline='';this._summary='';}flush(){this._id=-1;this._type='';this._summary='';return true;}parse(wrapper){this._id=wrapper.readInt();this._type=wrapper.readString();this._headline=wrapper.readString();this._summary=wrapper.readString();return true;}get id(){return this._id;}get type(){return this._type;}get headline(){return this._headline;}get summary(){return this._summary;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/QuestionAnsweredParser.ts\nclass QuestionAnsweredParser{constructor(){this._userId=void 0;this._value=void 0;this._answerCounts=void 0;}flush(){this._userId=-1;this._value='';this._answerCounts=null;return true;}parse(wrapper){this._userId=wrapper.readInt();this._value=wrapper.readString();this._answerCounts=new Map();const count=wrapper.readInt();for(let i=0;i<count;i++){const key=wrapper.readString();const value=wrapper.readInt();this._answerCounts.set(key,value);}return true;}get userId(){return this._userId;}get value(){return this._value;}get answerCounts(){return this._answerCounts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/QuestionFinishedParser.ts\nclass QuestionFinishedParser{constructor(){this._questionId=void 0;this._answerCounts=void 0;}flush(){this._questionId=-1;this._answerCounts=null;return true;}parse(wrapper){this._questionId=wrapper.readInt();this._answerCounts=new Map();const count=wrapper.readInt();for(let i=0;i<count;i++){const key=wrapper.readString();const value=wrapper.readInt();this._answerCounts.set(key,value);}return true;}get questionId(){return this._questionId;}get answerCounts(){return this._answerCounts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/QuestionParser.ts\nclass QuestionParser{constructor(){this._pollType=null;this._pollId=-1;this._questionId=-1;this._duration=-1;this._question=null;}flush(){this._pollType=null;this._pollId=-1;this._questionId=-1;this._duration=-1;this._question=null;return true;}parse(wrapper){this._pollType=wrapper.readString();this._pollId=wrapper.readInt();this._questionId=wrapper.readInt();this._duration=wrapper.readInt();const questionId=wrapper.readInt();const questionNumber=wrapper.readInt();const questionType=wrapper.readInt();const questionContent=wrapper.readString();this._question={id:questionId,number:questionNumber,type:questionType,content:questionContent};if(this._question.type==1||this._question.type==2){this._question.selection_min=wrapper.readInt();const count=wrapper.readInt();this._question.selections=[];this._question.selection_values=[];this._question.selection_count=count;this._question.selection_max=count;for(let i=0;i<count;i++){this._question.selection_values.push(wrapper.readString());this._question.selections.push(wrapper.readString());}}return true;}get pollType(){return this._pollType;}get pollId(){return this._pollId;}get questionId(){return this._questionId;}get duration(){return this._duration;}get question(){return this._question;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/poll/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/PrizeData.ts\nclass PrizeData{constructor(k){this._communityGoalId=void 0;this._communityGoalCode=void 0;this._userRank=void 0;this._rewardCode=void 0;this._badge=void 0;this._localizedName=void 0;this._communityGoalId=k.readInt();this._communityGoalCode=k.readString();this._userRank=k.readInt();this._rewardCode=k.readString();this._badge=k.readBoolean();this._localizedName=k.readString();}get communityGoalId(){return this._communityGoalId;}get communityGoalCode(){return this._communityGoalCode;}get userRank(){return this._userRank;}get rewardCode(){return this._rewardCode;}get badge(){return this._badge;}get localizedName(){return this._localizedName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/CommunityGoalEarnedPrizesMessageParser.ts\nclass CommunityGoalEarnedPrizesMessageParser_CommunityGoalEarnedPrizesMessageParser{constructor(){this._prizes=void 0;}flush(){this._prizes=[];return true;}parse(wrapper){if(!wrapper)return false;const count=wrapper.readInt();for(let i=0;i<count;i++){this._prizes.push(new PrizeData(wrapper));}return true;}get prizes(){return this._prizes;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/HallOfFameEntryData.ts\nclass HallOfFameEntryData{constructor(wrapper){this._userId=void 0;this._userName=void 0;this._figure=void 0;this._rank=void 0;this._currentScore=void 0;this._userId=wrapper.readInt();this._userName=wrapper.readString();this._figure=wrapper.readString();this._rank=wrapper.readInt();this._currentScore=wrapper.readInt();}get userId(){return this._userId;}get userName(){return this._userName;}get figure(){return this._figure;}get rank(){return this._rank;}get currentScore(){return this._currentScore;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/CommunityGoalHallOfFameData.ts\nclass CommunityGoalHallOfFameData_CommunityGoalHallOfFameData{constructor(wrapper){this._goalCode=void 0;this._hof=void 0;this._hof=[];this._goalCode=wrapper.readString();const count=wrapper.readInt();for(let i=0;i<count;i++){this._hof.push(new HallOfFameEntryData(wrapper));}}dispose(){this._hof=null;}get disposed(){return this._hof==null;}get hof(){return this._hof;}get goalCode(){return this._goalCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/CommunityGoalHallOfFameMessageParser.ts\nclass CommunityGoalHallOfFameMessageParser_CommunityGoalHallOfFameMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new CommunityGoalHallOfFameData_CommunityGoalHallOfFameData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/CommunityGoalData.ts\nclass CommunityGoalData{constructor(wrapper){this._hasGoalExpired=void 0;this._personalContributionScore=void 0;this._personalContributionRank=void 0;this._communityTotalScore=void 0;this._communityHighestAchievedLevel=void 0;this._scoreRemainingUntilNextLevel=void 0;this._percentCompletionTowardsNextLevel=void 0;this._goalCode=void 0;this._timeRemainingInSeconds=void 0;this._rewardUserLimits=void 0;this._rewardUserLimits=[];this._hasGoalExpired=wrapper.readBoolean();this._personalContributionScore=wrapper.readInt();this._personalContributionRank=wrapper.readInt();this._communityTotalScore=wrapper.readInt();this._communityHighestAchievedLevel=wrapper.readInt();this._scoreRemainingUntilNextLevel=wrapper.readInt();this._percentCompletionTowardsNextLevel=wrapper.readInt();this._goalCode=wrapper.readString();this._timeRemainingInSeconds=wrapper.readInt();const count=wrapper.readInt();for(let i=0;i<count;i++){this._rewardUserLimits.push(wrapper.readInt());}}dispose(){this._rewardUserLimits=null;}get disposed(){return this._rewardUserLimits==null;}get hasGoalExpired(){return this._hasGoalExpired;}get personalContributionScore(){return this._personalContributionScore;}get personalContributionRank(){return this._personalContributionRank;}get communityTotalScore(){return this._communityTotalScore;}get communityHighestAchievedLevel(){return this._communityHighestAchievedLevel;}get scoreRemainingUntilNextLevel(){return this._scoreRemainingUntilNextLevel;}get percentCompletionTowardsNextLevel(){return this._percentCompletionTowardsNextLevel;}get timeRemainingInSeconds(){return this._timeRemainingInSeconds;}get rewardUserLimits(){return this._rewardUserLimits;}get goalCode(){return this._goalCode;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/CommunityGoalProgressMessageParser.ts\nclass CommunityGoalProgressMessageParser_CommunityGoalProgressMessageParser{constructor(){this._data=void 0;}flush(){this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._data=new CommunityGoalData(wrapper);return true;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/ConcurrentUsersGoalProgressMessageParser.ts\nclass ConcurrentUsersGoalProgressMessageParser{constructor(){this._state=void 0;this._userCount=void 0;this._userCountGoal=void 0;}flush(){this._state=-1;this._userCount=-1;this._userCountGoal=-1;return true;}parse(wrapper){if(!wrapper)return false;this._state=wrapper.readInt();this._userCount=wrapper.readInt();this._userCountGoal=wrapper.readInt();return true;}get state(){return this._state;}get userCount(){return this._userCount;}get userCountGoal(){return this._userCountGoal;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/EpicPopupMessageParser.ts\nclass EpicPopupMessageParser{constructor(){this._imageUri=void 0;}flush(){this._imageUri='';return true;}parse(wrapper){if(!wrapper)return false;this._imageUri=wrapper.readString();return true;}get imageUri(){return this._imageUri;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/QuestCancelledMessageParser.ts\nclass QuestCancelledMessageParser{constructor(){this._expired=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._expired=wrapper.readBoolean();return true;}get expired(){return this._expired;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/QuestMessageData.ts\nclass QuestMessageData{constructor(wrapper){this._campaignCode=void 0;this._completedQuestsInCampaign=void 0;this._questCountInCampaign=void 0;this._activityPointType=void 0;this._id=void 0;this._accepted=void 0;this._type=void 0;this._imageVersion=void 0;this._rewardCurrencyAmount=void 0;this._localizationCode=void 0;this._completedSteps=void 0;this._totalSteps=void 0;this._waitPeriodSeconds=void 0;this._sortOrder=void 0;this._catalogPageName=void 0;this._chainCode=void 0;this._easy=void 0;this._receiveTime=void 0;this._receiveTime=new Date();this._campaignCode=wrapper.readString();this._completedQuestsInCampaign=wrapper.readInt();this._questCountInCampaign=wrapper.readInt();this._activityPointType=wrapper.readInt();this._id=wrapper.readInt();this._accepted=wrapper.readBoolean();this._type=wrapper.readString();this._imageVersion=wrapper.readString();this._rewardCurrencyAmount=wrapper.readInt();this._localizationCode=wrapper.readString();this._completedSteps=wrapper.readInt();this._totalSteps=wrapper.readInt();this._sortOrder=wrapper.readInt();this._catalogPageName=wrapper.readString();this._chainCode=wrapper.readString();this._easy=wrapper.readBoolean();}static getCampaignLocalizationKeyForCode(k){return'quests.'+k;}get campaignCode(){return this._campaignCode;}get localizationCode(){return this._localizationCode;}get completedQuestsInCampaign(){return this._completedQuestsInCampaign;}get questCountInCampaign(){return this._questCountInCampaign;}get activityPointType(){return this._activityPointType;}set accepted(k){this._accepted=k;}get accepted(){return this._accepted;}set id(k){this._id=k;}get id(){return this._id;}get type(){return this._type;}get imageVersion(){return this._imageVersion;}get rewardCurrencyAmount(){return this._rewardCurrencyAmount;}get completedSteps(){return this._completedSteps;}get totalSteps(){return this._totalSteps;}get isCompleted(){return this._completedSteps==this._totalSteps;}set waitPeriodSeconds(k){this._waitPeriodSeconds=k;}get waitPeriodSeconds(){if(this._waitPeriodSeconds<1){return 0;}const k=new Date();const _local_2=k.getTime()-this._receiveTime.getTime();const _local_3=Math.max(0,this._waitPeriodSeconds-Math.floor(_local_2/1000));return _local_3;}getCampaignLocalizationKey(){return QuestMessageData.getCampaignLocalizationKeyForCode(this.campaignCode);}getQuestLocalizationKey(){return this.getCampaignLocalizationKey()+'.'+this._localizationCode;}get completedCampaign(){return this._id<1;}get lastQuestInCampaign(){return this._completedQuestsInCampaign>=this._questCountInCampaign;}get receiveTime(){return this._receiveTime;}get sortOrder(){return this._sortOrder;}get catalogPageName(){return this._catalogPageName;}get chainCode(){return this._chainCode;}get easy(){return this._easy;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/QuestCompletedMessageParser.ts\nclass QuestCompletedMessageParser_QuestCompletedMessageParser{constructor(){this._questData=void 0;this._showDialog=void 0;}flush(){this._questData=null;return true;}parse(wrapper){if(!wrapper)return false;this._questData=new QuestMessageData(wrapper);this._showDialog=wrapper.readBoolean();return true;}get questData(){return this._questData;}get showDialog(){return this._showDialog;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/QuestDailyMessageParser.ts\nclass QuestDailyMessageParser_QuestDailyMessageParser{constructor(){this._quest=void 0;this._easyQuestCount=void 0;this._hardQuestCount=void 0;}flush(){this._quest=null;return true;}parse(wrapper){if(!wrapper)return false;const _local_2=wrapper.readBoolean();if(_local_2){this._quest=new QuestMessageData(wrapper);this._easyQuestCount=wrapper.readInt();this._hardQuestCount=wrapper.readInt();}return true;}get quest(){return this._quest;}get easyQuestCount(){return this._easyQuestCount;}get hardQuestCount(){return this._hardQuestCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/QuestMessageParser.ts\nclass QuestMessageParser_QuestMessageParser{constructor(){this._quest=void 0;}flush(){this._quest=null;return true;}parse(wrapper){if(!wrapper)return false;this._quest=new QuestMessageData(wrapper);return true;}get quest(){return this._quest;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/QuestsMessageParser.ts\nclass QuestsMessageParser_QuestsMessageParser{constructor(){this._quests=void 0;this._openWindow=void 0;}flush(){this._quests=[];return true;}parse(wrapper){if(!wrapper)return false;const count=wrapper.readInt();for(let i=0;i<count;i++){this._quests.push(new QuestMessageData(wrapper));}this._openWindow=wrapper.readBoolean();return true;}get quests(){return this._quests;}get openWindow(){return this._openWindow;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/SeasonalQuestsParser.ts\nclass SeasonalQuestsParser_SeasonalQuestsParser{constructor(){this._quests=void 0;}flush(){this._quests=[];return true;}parse(wrapper){if(!wrapper)return false;const count=wrapper.readInt();for(let i=0;i<count;i++){this._quests.push(new QuestMessageData(wrapper));}return true;}get quests(){return this._quests;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/quest/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/CantConnectMessageParser.ts\nclass CantConnectMessageParser{constructor(){this._reason=void 0;this._parameter=void 0;}flush(){this._reason=0;this._parameter='';return true;}parse(wrapper){if(!wrapper)return false;this._reason=wrapper.readInt();this._parameter=wrapper.readString();return true;}get reason(){return this._reason;}get parameter(){return this._parameter;}}CantConnectMessageParser.REASON_FULL=1;CantConnectMessageParser.REASON_CLOSED=2;CantConnectMessageParser.REASON_QUEUE_ERROR=3;CantConnectMessageParser.REASON_BANNED=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/doorbell/RoomDoorbellAcceptedParser.ts\nclass RoomDoorbellAcceptedParser{constructor(){this._userName=void 0;}flush(){this._userName=null;return true;}parse(wrapper){if(!wrapper)return false;this._userName=wrapper.readString();return true;}get userName(){return this._userName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/doorbell/RoomDoorbellParser.ts\nclass RoomDoorbellParser{constructor(){this._userName=void 0;}flush(){this._userName=null;return true;}parse(wrapper){if(!wrapper)return false;this._userName=wrapper.readString();return true;}get userName(){return this._userName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/doorbell/RoomDoorbellRejectedParser.ts\nclass RoomDoorbellRejectedParser{constructor(){this._userName=void 0;}flush(){this._userName=null;return true;}parse(wrapper){if(!wrapper)return false;this._userName=wrapper.readString();return true;}get userName(){return this._userName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/doorbell/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/rights/RoomRightsClearParser.ts\nclass RoomRightsClearParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/rights/RoomRightsOwnerParser.ts\nclass RoomRightsOwnerParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/enum/RoomControllerLevel.ts\nclass RoomControllerLevel{}RoomControllerLevel.NONE=0;RoomControllerLevel.GUEST=1;RoomControllerLevel.GUILD_MEMBER=2;RoomControllerLevel.GUILD_ADMIN=3;RoomControllerLevel.ROOM_OWNER=4;RoomControllerLevel.MODERATOR=5;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/rights/RoomRightsParser.ts\nclass RoomRightsParser_RoomRightsParser{constructor(){this._controllerLevel=void 0;}flush(){this._controllerLevel=RoomControllerLevel.NONE;return true;}parse(wrapper){if(!wrapper)return false;this._controllerLevel=wrapper.readInt();return true;}get controllerLevel(){return this._controllerLevel;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/rights/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/RoomEnterParser.ts\nclass RoomEnterParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/RoomFowardParser.ts\nclass RoomFowardParser{constructor(){this._roomId=void 0;}flush(){this._roomId=0;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();return true;}get roomId(){return this._roomId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/access/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/bots/BotCommandConfigurationParser.ts\nclass BotCommandConfigurationParser{constructor(){this._botId=void 0;this._commandId=void 0;this._data=void 0;}flush(){this._botId=-1;this._commandId=-1;this._data='';return true;}parse(wrapper){if(!wrapper)return false;this._botId=wrapper.readInt();this._commandId=wrapper.readInt();this._data=wrapper.readString();return true;}get botId(){return this._botId;}get commandId(){return this._commandId;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/bots/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomChatSettings.ts\nclass RoomChatSettings{constructor(wrapper){this._mode=void 0;this._weight=void 0;this._speed=void 0;this._distance=void 0;this._protection=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._mode=0;this._weight=0;this._speed=0;this._distance=0;this._protection=0;return true;}parse(wrapper){if(!wrapper)return false;this._mode=wrapper.readInt();this._weight=wrapper.readInt();this._speed=wrapper.readInt();this._distance=wrapper.readInt();this._protection=wrapper.readInt();return true;}get mode(){return this._mode;}get weight(){return this._weight;}get speed(){return this._speed;}get distance(){return this._distance;}get protection(){return this._protection;}}RoomChatSettings.CHAT_MODE_FREE_FLOW=0;RoomChatSettings.CHAT_MODE_LINE_BY_LINE=1;RoomChatSettings.CHAT_BUBBLE_WIDTH_WIDE=0;RoomChatSettings.CHAT_BUBBLE_WIDTH_NORMAL=1;RoomChatSettings.CHAT_BUBBLE_WIDTH_THIN=2;RoomChatSettings.CHAT_SCROLL_SPEED_FAST=0;RoomChatSettings.CHAT_SCROLL_SPEED_NORMAL=1;RoomChatSettings.CHAT_SCROLL_SPEED_SLOW=2;RoomChatSettings.FLOOD_FILTER_STRICT=0;RoomChatSettings.FLOOD_FILTER_NORMAL=1;RoomChatSettings.FLOOD_FILTER_LOOSE=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomChatSettingsParser.ts\nclass RoomChatSettingsParser_RoomChatSettingsParser{constructor(){this._chat=void 0;}flush(){this._chat=null;return true;}parse(wrapper){if(!wrapper)return false;this._chat=new RoomChatSettings(wrapper);return true;}get chat(){return this._chat;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomEntryInfoMessageParser.ts\nclass RoomEntryInfoMessageParser{constructor(){this._roomId=void 0;this._isOwner=void 0;}flush(){this._roomId=0;this._isOwner=false;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._isOwner=wrapper.readBoolean();return true;}get roomId(){return this._roomId;}get isOwner(){return this._isOwner;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomModerationSettings.ts\nclass RoomModerationSettings{constructor(wrapper){this._allowMute=void 0;this._allowKick=void 0;this._allowBan=void 0;this.reset();this.parse(wrapper);}reset(){this._allowMute=0;this._allowKick=0;this._allowBan=0;}parse(wrapper){this._allowMute=wrapper.readInt();this._allowKick=wrapper.readInt();this._allowBan=wrapper.readInt();}get allowMute(){return this._allowMute;}get allowKick(){return this._allowKick;}get allowBan(){return this._allowBan;}}RoomModerationSettings.MODERATION_LEVEL_NONE=0;RoomModerationSettings.MODERATION_LEVEL_USER_WITH_RIGHTS=1;RoomModerationSettings.MODERATION_LEVEL_ALL=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomInfoParser.ts\nclass RoomInfoParser_RoomInfoParser{constructor(){this._roomEnter=void 0;this._roomForward=void 0;this._data=void 0;this._staffPick=void 0;this._isGroupMember=void 0;this._moderation=void 0;this._chat=void 0;}flush(){this._roomEnter=false;this._roomForward=false;this._data=null;this._staffPick=false;this._isGroupMember=false;this._moderation=null;this._chat=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomEnter=wrapper.readBoolean();this._data=new RoomDataParser(wrapper);this._roomForward=wrapper.readBoolean();this._staffPick=wrapper.readBoolean();this._isGroupMember=wrapper.readBoolean();this.data.allInRoomMuted=wrapper.readBoolean();this._moderation=new RoomModerationSettings(wrapper);this.data.canMute=wrapper.readBoolean();this._chat=new RoomChatSettings(wrapper);return true;}get roomEnter(){return this._roomEnter;}get roomForward(){return this._roomForward;}get data(){return this._data;}get staffPick(){return this._staffPick;}get isGroupMember(){return this._isGroupMember;}get moderation(){return this._moderation;}get chat(){return this._chat;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomScoreParser.ts\nclass RoomScoreParser{constructor(){this._totalLikes=void 0;this._canLike=void 0;}flush(){this._totalLikes=0;this._canLike=false;return true;}parse(wrapper){if(!wrapper)return false;this._totalLikes=wrapper.readInt();this._canLike=wrapper.readBoolean();return true;}get totalLikes(){return this._totalLikes;}get canLike(){return this._canLike;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomSettingsErrorParser.ts\nclass RoomSettingsErrorParser{constructor(){this._roomId=void 0;this._code=void 0;this._message=void 0;}flush(){this._roomId=0;this._code=0;this._message=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._code=wrapper.readInt();this._message=wrapper.readString();return true;}get roomId(){return this._roomId;}get code(){return this._code;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomSettingsParser.ts\nclass RoomSettingsParser_RoomSettingsParser{constructor(){this._roomId=void 0;this._name=void 0;this._description=void 0;this._state=void 0;this._categoryId=void 0;this._userCount=void 0;this._maxUserCount=void 0;this._tags=void 0;this._tradeMode=void 0;this._allowPets=void 0;this._allowPetsEat=void 0;this._allowWalkthrough=void 0;this._hideWalls=void 0;this._thicknessWall=void 0;this._thicknessFloor=void 0;this._chat=void 0;this._moderation=void 0;}flush(){this._roomId=0;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._name=wrapper.readString();this._description=wrapper.readString();this._state=wrapper.readInt();this._categoryId=wrapper.readInt();this._userCount=wrapper.readInt();this._maxUserCount=wrapper.readInt();this.parseTags(wrapper);this._tradeMode=wrapper.readInt();this._allowPets=wrapper.readInt();this._allowPetsEat=wrapper.readInt();this._allowWalkthrough=wrapper.readInt();this._hideWalls=wrapper.readInt();this._thicknessWall=wrapper.readInt();this._thicknessFloor=wrapper.readInt();this._chat=new RoomChatSettings(wrapper);wrapper.readBoolean();this._moderation=new RoomModerationSettings(wrapper);return true;}parseTags(wrapper){if(!wrapper)return false;this._tags=[];let totalTags=wrapper.readInt();while(totalTags>0){this._tags.push(wrapper.readString());totalTags--;}return true;}get roomId(){return this._roomId;}get name(){return this._name;}get description(){return this._description;}get state(){return this._state;}get categoryId(){return this._categoryId;}get userCount(){return this._userCount;}get maxUserCount(){return this._maxUserCount;}get tags(){return this._tags;}get tradeMode(){return this._tradeMode;}get allowPets(){return this._allowPets===1;}get allowPetsEat(){return this._allowPetsEat===1;}get allowWalkthrough(){return this._allowWalkthrough===1;}get hideWalls(){return this._hideWalls===1;}get thicknessWall(){return this._thicknessWall;}get thicknessFloor(){return this._thicknessFloor;}get chatSettings(){return this._chat;}get moderationSettings(){return this._moderation;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomSettingsSavedParser.ts\nclass RoomSettingsSavedParser{constructor(){this._roomId=void 0;}flush(){this._roomId=0;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();return true;}get roomId(){return this._roomId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/RoomSettingsUpdatedParser.ts\nclass RoomSettingsUpdatedParser{constructor(){this._roomId=void 0;}flush(){this._roomId=0;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();return true;}get roomId(){return this._roomId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/engine/FavoriteMembershipUpdateMessageParser.ts\nclass FavoriteMembershipUpdateMessageParser{constructor(){this._roomIndex=void 0;this._groupId=void 0;this._status=void 0;this._groupName=void 0;}flush(){this._roomIndex=-1;this._groupId=-1;this._status=0;this._groupName=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomIndex=wrapper.readInt();this._groupId=wrapper.readInt();this._status=wrapper.readInt();this._groupName=wrapper.readString();return true;}get roomIndex(){return this._roomIndex;}get groupId(){return this._groupId;}get status(){return this._status;}get groupName(){return this._groupName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/engine/ObjectData.ts\nclass ObjectData{constructor(id,state,objectData){this._id=0;this._state=0;this._data=void 0;this._id=id;this._state=state;this._data=objectData;}get id(){return this._id;}get state(){return this._state;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/engine/ObjectsDataUpdateParser.ts\nclass ObjectsDataUpdateParser_ObjectsDataUpdateParser{constructor(){this._objects=void 0;}flush(){this._objects=[];return true;}parse(wrapper){if(!wrapper)return false;let totalObjects=wrapper.readInt();while(totalObjects>0){const id=wrapper.readInt();const stuffData=FurnitureDataParser_FurnitureDataParser.parseObjectData(wrapper);const state=parseFloat(stuffData.getLegacyString());this._objects.push(new ObjectData(id,state,stuffData));totalObjects--;}return true;}get objects(){return this._objects;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/ObjectRolling.ts\nclass ObjectRolling{constructor(id,location,targetLocation){let movementType=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;this._id=void 0;this._location=void 0;this._targetLocation=void 0;this._movementType=void 0;this._id=id;this._location=location;this._targetLocation=targetLocation;this._movementType=movementType;}get id(){return this._id;}get location(){return this._location;}get targetLocation(){return this._targetLocation;}get movementType(){return this._movementType;}}ObjectRolling.MOVE='mv';ObjectRolling.SLIDE='sld';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/engine/ObjectsRollingParser.ts\nclass ObjectsRollingParser_ObjectsRollingParser{constructor(){this._rollerId=void 0;this._itemsRolling=void 0;this._unitRolling=void 0;}flush(){this._rollerId=0;this._itemsRolling=[];this._unitRolling=null;return true;}parse(wrapper){if(!wrapper)return false;const x=wrapper.readInt();const y=wrapper.readInt();const nextX=wrapper.readInt();const nextY=wrapper.readInt();let totalItems=wrapper.readInt();while(totalItems>0){const id=wrapper.readInt();const height=parseFloat(wrapper.readString());const nextHeight=parseFloat(wrapper.readString());const rollingData=new ObjectRolling(id,new Vector3d(x,y,height),new Vector3d(nextX,nextY,nextHeight));this._itemsRolling.push(rollingData);totalItems--;}this._rollerId=wrapper.readInt();if(!wrapper.bytesAvailable)return true;const movementType=wrapper.readInt();const unitId=wrapper.readInt();const height=parseFloat(wrapper.readString());const nextHeight=parseFloat(wrapper.readString());switch(movementType){case 0:break;case 1:this._unitRolling=new ObjectRolling(unitId,new Vector3d(x,y,height),new Vector3d(nextX,nextY,nextHeight),ObjectRolling.MOVE);break;case 2:this._unitRolling=new ObjectRolling(unitId,new Vector3d(x,y,height),new Vector3d(nextX,nextY,nextHeight),ObjectRolling.SLIDE);break;}return true;}get rollerId(){return this._rollerId;}get itemsRolling(){return this._itemsRolling;}get unitRolling(){return this._unitRolling;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/engine/RoomCreatedParser.ts\nclass RoomCreatedParser{constructor(){this._roomId=void 0;this._roomName=void 0;}flush(){this._roomId=-1;this._roomName=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._roomName=wrapper.readString();return true;}get roomId(){return this._roomId;}get roomName(){return this._roomName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/engine/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/DiceValueMessageParser.ts\nclass DiceValueMessageParser{constructor(){this._itemId=void 0;this._value=void 0;}flush(){this._itemId=0;this._value=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();this._value=wrapper.readInt();return true;}get itemId(){return this._itemId;}get value(){return this._value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorDataParser.ts\nclass FurnitureFloorDataParser_FurnitureFloorDataParser{constructor(wrapper){this._itemId=void 0;this._spriteId=void 0;this._spriteName=void 0;this._x=void 0;this._y=void 0;this._direction=void 0;this._z=void 0;this._stackHeight=void 0;this._extra=void 0;this._data=void 0;this._state=void 0;this._expires=void 0;this._usagePolicy=void 0;this._userId=void 0;this._username=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._itemId=0;this._spriteId=0;this._spriteName=null;this._x=0;this._y=0;this._direction=0;this._z=0;this._stackHeight=0;this._extra=0;this._data=null;this._state=0;this._expires=0;this._usagePolicy=0;this._userId=0;this._username=null;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();this._spriteId=wrapper.readInt();this._x=wrapper.readInt();this._y=wrapper.readInt();this._direction=wrapper.readInt()%8*45;this._z=parseFloat(wrapper.readString());this._stackHeight=parseFloat(wrapper.readString());this._extra=wrapper.readInt();this._data=FurnitureDataParser_FurnitureDataParser.parseObjectData(wrapper);this._state=parseFloat(this._data&&this._data.getLegacyString())||0;this._expires=wrapper.readInt();this._usagePolicy=wrapper.readInt();this._userId=wrapper.readInt();this._username=null;if(this._spriteId<0)this._spriteName=wrapper.readString();return true;}get itemId(){return this._itemId;}get spriteId(){return this._spriteId;}get x(){return this._x;}get y(){return this._y;}get direction(){return this._direction;}get z(){return isNaN(this._z)?0:this._z;}get stackHeight(){return isNaN(this._stackHeight)?0:this._stackHeight;}get extra(){return this._extra;}get data(){return this._data;}get state(){return this._state;}get expires(){return this._expires;}get usagePolicy(){return this._usagePolicy;}get userId(){return this._userId;}get username(){return this._username;}set username(username){this._username=username;}get spriteName(){return this._spriteName;}set spriteName(type){this._spriteName=type;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorAddParser.ts\nclass FurnitureFloorAddParser_FurnitureFloorAddParser{constructor(){this._item=void 0;}flush(){this._item=null;return true;}parse(wrapper){if(!wrapper)return false;this._item=new FurnitureFloorDataParser_FurnitureFloorDataParser(wrapper);this._item.username=wrapper.readString();return true;}get item(){return this._item;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorParser.ts\nclass FurnitureFloorParser_FurnitureFloorParser{constructor(){this._owners=void 0;this._items=void 0;}flush(){this._owners=new Map();this._items=[];return true;}parse(wrapper){if(!wrapper)return false;if(!this.parseOwners(wrapper))return false;let totalItems=wrapper.readInt();while(totalItems>0){const item=new FurnitureFloorDataParser_FurnitureFloorDataParser(wrapper);if(!item)continue;const username=this._owners.get(item.userId);if(username)item.username=username;this._items.push(item);totalItems--;}return true;}parseOwners(wrapper){if(!wrapper)return false;let totalOwners=wrapper.readInt();while(totalOwners>0){this._owners.set(wrapper.readInt(),wrapper.readString());totalOwners--;}return true;}get owners(){return this._owners;}get items(){return this._items;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorRemoveParser.ts\nclass FurnitureFloorRemoveParser{constructor(){this._itemId=void 0;this._isExpired=void 0;this._userId=void 0;this._delay=void 0;}flush(){this._itemId=0;this._isExpired=true;this._userId=0;this._delay=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=parseInt(wrapper.readString());this._isExpired=wrapper.readBoolean();this._userId=wrapper.readInt();this._delay=wrapper.readInt();return true;}get itemId(){return this._itemId;}get isExpired(){return this._isExpired;}get userId(){return this._userId;}get delay(){return this._delay;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorUpdateParser.ts\nclass FurnitureFloorUpdateParser_FurnitureFloorUpdateParser{constructor(){this._item=void 0;}flush(){this._item=null;return true;}parse(wrapper){if(!wrapper)return false;this._item=new FurnitureFloorDataParser_FurnitureFloorDataParser(wrapper);return true;}get item(){return this._item;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/floor/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/FurnitureAliasesParser.ts\nclass FurnitureAliasesParser{constructor(){this._aliases=void 0;}flush(){this._aliases=new Map();return true;}parse(wrapper){if(!wrapper)return false;let totalCount=wrapper.readInt();while(totalCount>0){this._aliases.set(wrapper.readString(),wrapper.readString());totalCount--;}return true;}get aliases(){return this._aliases;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/FurnitureStackHeightParser.ts\nclass FurnitureStackHeightParser{constructor(){this._furniId=void 0;this._height=void 0;}flush(){this._furniId=-1;this._height=0;return true;}parse(wrapper){if(!wrapper)return false;this._furniId=wrapper.readInt();this._height=wrapper.readInt()/100;return true;}get furniId(){return this._furniId;}get height(){return this._height;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/GroupFurniContextMenuInfoMessageParser.ts\nclass GroupFurniContextMenuInfoMessageParser{constructor(){this._objectId=void 0;this._guildId=void 0;this._guildName=void 0;this._guildHomeRoomId=void 0;this._userIsMember=void 0;this._guildHasReadableForum=void 0;}flush(){this._objectId=0;this._guildId=0;this._guildName=null;this._guildHomeRoomId=0;this._userIsMember=false;this._guildHasReadableForum=false;return true;}parse(wrapper){if(!wrapper)return false;this._objectId=wrapper.readInt();this._guildId=wrapper.readInt();this._guildName=wrapper.readString();this._guildHomeRoomId=wrapper.readInt();this._userIsMember=wrapper.readBoolean();this._guildHasReadableForum=wrapper.readBoolean();return true;}get objectId(){return this._objectId;}get guildId(){return this._guildId;}get guildName(){return this._guildName;}get guildHomeRoomId(){return this._guildHomeRoomId;}get userIsMember(){return this._userIsMember;}get guildHasReadableForum(){return this._guildHasReadableForum;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/ItemDataUpdateMessageParser.ts\nclass ItemDataUpdateMessageParser{constructor(){this._itemId=void 0;this._data=void 0;}flush(){this._itemId=0;this._data='';return true;}parse(wrapper){if(!wrapper)return false;this._itemId=parseInt(wrapper.readString());this._data=wrapper.readString();return true;}get furnitureId(){return this._itemId;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/LoveLockFurniFinishedParser.ts\nclass LoveLockFurniFinishedParser{constructor(){this._furniId=void 0;}get furniId(){return this._furniId;}flush(){this._furniId=-1;return true;}parse(packet){this._furniId=packet.readInt();return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/LoveLockFurniFriendConfirmedParser.ts\nclass LoveLockFurniFriendConfirmedParser{constructor(){this._furniId=void 0;}get furniId(){return this._furniId;}flush(){this._furniId=-1;return true;}parse(packet){this._furniId=packet.readInt();return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/LoveLockFurniStartParser.ts\nclass LoveLockFurniStartParser{constructor(){this._furniId=void 0;this._start=void 0;}get furniId(){return this._furniId;}get start(){return this._start;}flush(){this._furniId=-1;this._start=false;return true;}parse(packet){this._furniId=packet.readInt();this._start=packet.readBoolean();return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/OneWayDoorStatusMessageParser.ts\nclass OneWayDoorStatusMessageParser{constructor(){this._itemId=void 0;this._state=void 0;}flush(){this._itemId=0;this._state=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=wrapper.readInt();this._state=wrapper.readInt();return true;}get itemId(){return this._itemId;}get state(){return this._state;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/RoomDimmerPresetsMessageData.ts\nclass RoomDimmerPresetsMessageData{constructor(id,type,color,brightness){this.id=id;this.type=type;this.color=color;this.brightness=brightness;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/RoomDimmerPresetsMessageParser.ts\nclass RoomDimmerPresetsMessageParser_RoomDimmerPresetsMessageParser{constructor(){this._selectedPresetId=void 0;this._presets=void 0;this._selectedPresetId=0;this._presets=[];}flush(){this._presets=[];return true;}parse(wrapper){const totalPresets=wrapper.readInt();this._selectedPresetId=wrapper.readInt();for(let i=0;i<totalPresets;i++){const presetId=wrapper.readInt();const type=wrapper.readInt();const color=parseInt(wrapper.readString().substr(1),16);const brightness=wrapper.readInt();this._presets.push(new RoomDimmerPresetsMessageData(presetId,type,color,brightness));}return true;}getPreset(id){if(id<0||id>=this.presetCount)return null;return this._presets[id];}get presetCount(){return this._presets.length;}get selectedPresetId(){return this._selectedPresetId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallDataParser.ts\nclass FurnitureWallDataParser{constructor(wrapper){this._itemId=void 0;this._spriteId=void 0;this._location=void 0;this._stuffData=void 0;this._state=void 0;this._secondsToExpiration=void 0;this._usagePolicy=void 0;this._userId=void 0;this._username=void 0;this._width=void 0;this._height=void 0;this._localX=void 0;this._localY=void 0;this._y=void 0;this._z=void 0;this._direction=void 0;this._isOldFormat=void 0;if(!wrapper)throw new Error('invalid_wrapper');this.flush();this.parse(wrapper);}flush(){this._itemId=0;this._spriteId=0;this._location=null;this._stuffData=null;this._state=0;this._secondsToExpiration=0;this._usagePolicy=-1;this._userId=0;this._username=null;this._width=0;this._height=0;this._localX=0;this._localY=0;this._y=0;this._z=0;this._direction=null;this._isOldFormat=false;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=parseInt(wrapper.readString());this._spriteId=wrapper.readInt();this._location=wrapper.readString();this._stuffData=wrapper.readString();this._secondsToExpiration=wrapper.readInt();this._usagePolicy=wrapper.readInt();this._userId=wrapper.readInt();this._username=null;const state=parseFloat(this._stuffData);if(!isNaN(state))this._state=state;if(this._location.indexOf(':')===0){this._isOldFormat=false;let parts=this._location.split(' ');if(parts.length>=3){let widthHeight=parts[0];let leftRight=parts[1];const direction=parts[2];if(widthHeight.length>3&&leftRight.length>2){widthHeight=widthHeight.substr(3);leftRight=leftRight.substr(2);parts=widthHeight.split(',');if(parts.length>=2){const width=parseInt(parts[0]);const height=parseInt(parts[1]);parts=leftRight.split(',');if(parts.length>=2){const localX=parseInt(parts[0]);const localY=parseInt(parts[1]);this._width=width;this._height=height;this._localX=localX;this._localY=localY;this._direction=direction;}}}}}else{this._isOldFormat=true;// _local_12 = _local_4.split(\" \");\n// if (_local_12.length >= 2)\n// {\n//     _local_13 = String(_local_12[0]);\n//     if (((_local_13 == \"rightwall\") || (_local_13 == \"frontwall\")))\n//     {\n//         _local_13 = \"r\";\n//     }\n//     else\n//     {\n//         _local_13 = \"l\";\n//     }\n//     _local_20 = String(_local_12[1]);\n//     _local_21 = _local_20.split(\",\");\n//     if (_local_21.length >= 3)\n//     {\n//         _local_22 = 0;\n//         _local_23 = parseFloat(_local_21[0]);\n//         _local_24 = parseFloat(_local_21[1]);\n//         _local_11.y = _local_23;\n//         _local_11.z = _local_24;\n//         _local_11.dir = _local_13;\n//         _local_11.data = _local_5;\n//         _local_11.state = _local_9;\n//     }\n//  }\n}return true;}get itemId(){return this._itemId;}get spriteId(){return this._spriteId;}get wallPosition(){return this._location;}get stuffData(){return this._stuffData;}get state(){return this._state;}get secondsToExpiration(){return this._secondsToExpiration;}get usagePolicy(){return this._usagePolicy;}get userId(){return this._userId;}get username(){return this._username;}set username(username){this._username=username;}get width(){return this._width;}get height(){return this._height;}get localX(){return this._localX;}get localY(){return this._localY;}get direction(){return this._direction;}get isOldFormat(){return this._isOldFormat;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallAddParser.ts\nclass FurnitureWallAddParser_FurnitureWallAddParser{constructor(){this._item=void 0;}flush(){this._item=null;return true;}parse(wrapper){if(!wrapper)return false;this._item=new FurnitureWallDataParser(wrapper);this._item.username=wrapper.readString();return true;}get item(){return this._item;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallParser.ts\nclass FurnitureWallParser_FurnitureWallParser{constructor(){this._owners=void 0;this._items=void 0;}flush(){this._owners=new Map();this._items=[];return true;}parse(wrapper){if(!wrapper)return false;if(!this.parseOwners(wrapper))return false;let totalItems=wrapper.readInt();while(totalItems>0){const item=new FurnitureWallDataParser(wrapper);if(!item)continue;const username=this._owners.get(item.userId);if(username)item.username=username;this._items.push(item);totalItems--;}return true;}parseOwners(wrapper){if(!wrapper)return false;let totalOwners=wrapper.readInt();while(totalOwners>0){this._owners.set(wrapper.readInt(),wrapper.readString());totalOwners--;}return true;}get owners(){return this._owners;}get items(){return this._items;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallRemoveParser.ts\nclass FurnitureWallRemoveParser{constructor(){this._itemId=void 0;this._userId=void 0;}flush(){this._itemId=0;this._userId=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=parseInt(wrapper.readString());this._userId=wrapper.readInt();return true;}get itemId(){return this._itemId;}get userId(){return this._userId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallUpdateParser.ts\nclass FurnitureWallUpdateParser_FurnitureWallUpdateParser{constructor(){this._item=void 0;}flush(){this._item=null;return true;}parse(wrapper){if(!wrapper)return false;this._item=new FurnitureWallDataParser(wrapper);this._item.username=wrapper.readString();return true;}get item(){return this._item;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/wall/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/youtube/YoutubeControlVideoMessageParser.ts\nclass YoutubeControlVideoMessageParser{constructor(){this._furniId=void 0;this._commandId=void 0;}parse(wrapper){this._furniId=wrapper.readInt();this._commandId=wrapper.readInt();return true;}flush(){this._furniId=-1;this._commandId=-1;return true;}get furniId(){return this._furniId;}get commandId(){return this._commandId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/youtube/YoutubeDisplayPlaylist.ts\nclass YoutubeDisplayPlaylist{constructor(k,_arg_2,_arg_3){this._video=void 0;this._title=void 0;this._description=void 0;this._video=k;this._title=_arg_2;this._description=_arg_3;}get video(){return this._video;}get title(){return this._title;}get description(){return this._description;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/youtube/YoutubeDisplayPlaylistsMessageParser.ts\nclass YoutubeDisplayPlaylistsMessageParser_YoutubeDisplayPlaylistsMessageParser{constructor(){this._furniId=void 0;this._playlists=void 0;this._selectedPlaylistId=void 0;}flush(){this._furniId=-1;this._playlists=null;this._selectedPlaylistId=null;return true;}parse(wrapper){this._furniId=wrapper.readInt();const count=wrapper.readInt();this._playlists=[];for(let i=0;i<count;i++){this._playlists.push(new YoutubeDisplayPlaylist(wrapper.readString(),wrapper.readString(),wrapper.readString()));}this._selectedPlaylistId=wrapper.readString();return true;}get furniId(){return this._furniId;}get playlists(){return this._playlists;}get selectedPlaylistId(){return this._selectedPlaylistId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/youtube/YoutubeDisplayVideoMessageParser.ts\nclass YoutubeDisplayVideoMessageParser{constructor(){this._furniId=void 0;this._videoId=void 0;this._startAtSeconds=void 0;this._endAtSeconds=void 0;this._state=void 0;}flush(){return true;}parse(wrapper){this._furniId=wrapper.readInt();this._videoId=wrapper.readString();this._startAtSeconds=wrapper.readInt();this._endAtSeconds=wrapper.readInt();this._state=wrapper.readInt();return true;}get furniId(){return this._furniId;}get videoId(){return this._videoId;}get state(){return this._state;}get startAtSeconds(){return this._startAtSeconds;}get endAtSeconds(){return this._endAtSeconds;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/youtube/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomFloorHole.ts\nclass RoomFloorHole{constructor(x,y,width,height){this._x=void 0;this._y=void 0;this._width=void 0;this._height=void 0;this._x=x;this._y=y;this._width=width;this._height=height;}get x(){return this._x;}get y(){return this._y;}get width(){return this._width;}get height(){return this._height;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomMapData.ts\nclass RoomMapData{constructor(){this._width=void 0;this._height=void 0;this._wallHeight=void 0;this._fixedWallsHeight=void 0;this._tileMap=void 0;this._holeMap=void 0;this._doors=void 0;this._dimensions=void 0;this._restrictsDragging=void 0;this._restrictsScaling=void 0;this._restrictedScale=void 0;this._width=0;this._height=0;this._wallHeight=0;this._fixedWallsHeight=0;this._tileMap=[];this._holeMap=[];this._doors=[];this._dimensions={minX:0,maxX:0,minY:0,maxY:0};this._restrictsDragging=false;this._restrictedScale=1;this._restrictsScaling=false;}get width(){return this._width;}set width(width){this._width=width;}get height(){return this._height;}set height(height){this._height=height;}get wallHeight(){return this._wallHeight;}set wallHeight(wallHeight){this._wallHeight=wallHeight;}get fixedWallsHeight(){return this._fixedWallsHeight;}set fixedWallsHeight(fixedWallsHeight){this._fixedWallsHeight=fixedWallsHeight;}get tileMap(){return this._tileMap;}get holeMap(){return this._holeMap;}get doors(){return this._doors;}get dimensions(){return this._dimensions;}get restrictsDragging(){return this._restrictsDragging;}set restrictsDragging(flag){this._restrictsDragging=flag;}get restrictsScaling(){return this._restrictsScaling;}set restrictsScaling(flag){this._restrictsScaling=flag;}get restrictedScale(){return this._restrictedScale;}set restrictedScale(scale){this._restrictedScale=scale;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomPlaneMaskData.ts\nclass RoomPlaneMaskData{constructor(k,_arg_2,_arg_3,_arg_4){this._leftSideLoc=0;this._rightSideLoc=0;this._leftSideLength=0;this._rightSideLength=0;this._leftSideLoc=k;this._rightSideLoc=_arg_2;this._leftSideLength=_arg_3;this._rightSideLength=_arg_4;}get leftSideLoc(){return this._leftSideLoc;}get rightSideLoc(){return this._rightSideLoc;}get leftSideLength(){return this._leftSideLength;}get rightSideLength(){return this._rightSideLength;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomPlaneData.ts\nclass RoomPlaneData_RoomPlaneData{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){this._type=0;this._loc=null;this._leftSide=null;this._rightSide=null;this._normal=null;this._normalDirection=null;this._secondaryNormals=void 0;this._masks=void 0;let _local_6;let _local_7;let _local_8;let _local_9;let _local_10;let _local_11;let _local_12;let _local_13;this._secondaryNormals=[];this._masks=[];this._loc=new Vector3d();this._loc.assign(_arg_2);this._leftSide=new Vector3d();this._leftSide.assign(_arg_3);this._rightSide=new Vector3d();this._rightSide.assign(_arg_4);this._type=k;if(!(_arg_3==null)&&!(_arg_4==null)){this._normal=Vector3d.crossProduct(_arg_3,_arg_4);_local_6=0;_local_7=0;_local_8=0;_local_9=0;_local_10=0;if(!(this.normal.x==0)||!(this.normal.y==0)){_local_9=this.normal.x;_local_10=this.normal.y;_local_6=360+Math.atan2(_local_10,_local_9)/Math.PI*180;if(_local_6>=360){_local_6=_local_6-360;}_local_9=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y);_local_10=this.normal.z;_local_7=360+Math.atan2(_local_10,_local_9)/Math.PI*180;if(_local_7>=360){_local_7=_local_7-360;}}else{if(this.normal.z<0){_local_7=90;}else{_local_7=270;}}this._normalDirection=new Vector3d(_local_6,_local_7,_local_8);}if(!(_arg_5==null)&&_arg_5.length>0){_local_11=0;while(_local_11<_arg_5.length){_local_12=_arg_5[_local_11];if(!(_local_12==null)&&_local_12.length>0){_local_13=new Vector3d();_local_13.assign(_local_12);_local_13.multiply(1/_local_13.length);this._secondaryNormals.push(_local_13);}_local_11++;}}}get type(){return this._type;}get loc(){return this._loc;}get leftSide(){return this._leftSide;}get rightSide(){return this._rightSide;}get normal(){return this._normal;}get normalDirection(){return this._normalDirection;}get secondaryNormalCount(){return this._secondaryNormals.length;}get maskCount(){return this._masks.length;}getSecondaryNormal(k){if(k<0||k>=this.secondaryNormalCount){return null;}const _local_2=new Vector3d();_local_2.assign(this._secondaryNormals[k]);return _local_2;}addMask(k,_arg_2,_arg_3,_arg_4){const _local_5=new RoomPlaneMaskData(k,_arg_2,_arg_3,_arg_4);this._masks.push(_local_5);}getMask(k){if(k<0||k>=this.maskCount){return null;}return this._masks[k];}getMaskLeftSideLoc(k){const _local_2=this.getMask(k);if(_local_2!=null){return _local_2.leftSideLoc;}return-1;}getMaskRightSideLoc(k){const _local_2=this.getMask(k);if(_local_2!=null){return _local_2.rightSideLoc;}return-1;}getMaskLeftSideLength(k){const _local_2=this.getMask(k);if(_local_2!=null){return _local_2.leftSideLength;}return-1;}getMaskRightSideLength(k){const _local_2=this.getMask(k);if(_local_2!=null){return _local_2.rightSideLength;}return-1;}}RoomPlaneData_RoomPlaneData.PLANE_UNDEFINED=0;RoomPlaneData_RoomPlaneData.PLANE_FLOOR=1;RoomPlaneData_RoomPlaneData.PLANE_WALL=2;RoomPlaneData_RoomPlaneData.PLANE_LANDSCAPE=3;RoomPlaneData_RoomPlaneData.PLANE_BILLBOARD=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomWallData.ts\nclass RoomWallData_RoomWallData{constructor(){this._corners=void 0;this._endPoints=void 0;this._directions=void 0;this._lengths=void 0;this._leftTurns=void 0;this._borders=void 0;this._hideWalls=void 0;this._manuallyLeftCut=void 0;this._manuallyRightCut=void 0;this._addDuplicates=void 0;this._count=void 0;this._corners=[];this._endPoints=[];this._directions=[];this._lengths=[];this._leftTurns=[];this._borders=[];this._hideWalls=[];this._manuallyLeftCut=[];this._manuallyRightCut=[];this._addDuplicates=false;this._count=0;}addWall(k,_arg_2,_arg_3,_arg_4,_arg_5){if(this._addDuplicates||this.checkIsNotDuplicate(k,_arg_2,_arg_3,_arg_4,_arg_5)){this._corners.push(k);this._directions.push(_arg_2);this._lengths.push(_arg_3);this._borders.push(_arg_4);this._leftTurns.push(_arg_5);this._hideWalls.push(false);this._manuallyLeftCut.push(false);this._manuallyRightCut.push(false);this._count++;}}checkIsNotDuplicate(k,_arg_2,_arg_3,_arg_4,_arg_5){let _local_6=0;while(_local_6<this._count){if(this._corners[_local_6].x==k.x&&this._corners[_local_6].y==k.y&&this._directions[_local_6]==_arg_2&&this._lengths[_local_6]==_arg_3&&this._borders[_local_6]==_arg_4&&this._leftTurns[_local_6]==_arg_5){return false;}_local_6++;}return true;}get count(){return this._count;}getCorner(k){return this._corners[k];}getEndPoint(k){this.calculateWallEndPoints();return this._endPoints[k];}getLength(k){return this._lengths[k];}getDirection(k){return this._directions[k];}getBorder(k){return this._borders[k];}getHideWall(k){return this._hideWalls[k];}getLeftTurn(k){return this._leftTurns[k];}getManuallyLeftCut(k){return this._manuallyLeftCut[k];}getManuallyRightCut(k){return this._manuallyRightCut[k];}setHideWall(k,_arg_2){this._hideWalls[k]=_arg_2;}setLength(k,_arg_2){if(_arg_2<this._lengths[k]){this._lengths[k]=_arg_2;this._manuallyRightCut[k]=true;}}moveCorner(k,_arg_2){let _local_3;if(_arg_2>0&&_arg_2<this._lengths[k]){const corner=this._corners[k];_local_3=RoomWallData_RoomWallData.WALL_DIRECTION_VECTORS[this.getDirection(k)];this._corners[k]=new math[\"g\" /* Point */](corner.x+_arg_2*_local_3.x,corner.y+_arg_2*_local_3.y);this._lengths[k]=this._lengths[k]-_arg_2;this._manuallyLeftCut[k]=true;}}calculateWallEndPoints(){let k;let _local_2;let _local_3;let _local_4;let _local_5;if(this._endPoints.length!=this.count){this._endPoints=[];k=0;while(k<this.count){_local_2=this.getCorner(k);_local_3=new math[\"g\" /* Point */](_local_2.x,_local_2.y);_local_4=RoomWallData_RoomWallData.WALL_DIRECTION_VECTORS[this.getDirection(k)];_local_5=this.getLength(k);_local_3.x=_local_3.x+_local_4.x*_local_5;_local_3.y=_local_3.y+_local_4.y*_local_5;this._endPoints.push(_local_3);k++;}}}}RoomWallData_RoomWallData.WALL_DIRECTION_VECTORS=[new Vector3d(1,0,0),new Vector3d(0,1,0),new Vector3d(-1,0,0),new Vector3d(0,-1,0)];RoomWallData_RoomWallData.WALL_NORMAL_VECTORS=[new Vector3d(0,1,0),new Vector3d(-1,0,0),new Vector3d(0,-1,0),new Vector3d(1,0,0)];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomPlaneParser.ts\nclass RoomPlaneParser_RoomPlaneParser{constructor(){this._tileMatrix=void 0;this._tileMatrixOriginal=void 0;this._width=0;this._height=0;this._minX=0;this._maxX=0;this._minY=0;this._maxY=0;this._planes=void 0;this._wallHeight=void 0;this._wallThicknessMultiplier=void 0;this._floorThicknessMultiplier=void 0;this._fixedWallHeight=-1;this._floorHeight=0;this._floorHoles=void 0;this._floorHoleMatrix=void 0;this._restrictsDragging=void 0;this._restrictsScaling=false;this._restrictedScale=1;this._tileMatrix=[];this._tileMatrixOriginal=[];this._planes=[];this._floorHoleMatrix=[];this._wallHeight=3.6;this._wallThicknessMultiplier=1;this._floorThicknessMultiplier=1;this._floorHoles=new Map();}static getFloorHeight(matricies){const length=matricies.length;if(!length)return 0;let tileHeight=0;let i=0;while(i<length){const matrix=matricies[i];let j=0;while(j<matrix.length){const height=matrix[j];if(height>tileHeight)tileHeight=height;j++;}i++;}return tileHeight;}static findEntranceTile(matricies){if(!matricies)return null;const length=matricies.length;if(!length)return null;const _local_6=[];let i=0;while(i<length){const matrix=matricies[i];if(!matrix||!matrix.length)return null;let j=0;while(j<matrix.length){if(matrix[j]>=0){_local_6.push(j);break;}j++;}if(_local_6.length<i+1)_local_6.push(matrix.length+1);i++;}i=1;while(i<_local_6.length-1){if(Math.trunc(_local_6[i])<=Math.trunc(_local_6[i-1])-1&&Math.trunc(_local_6[i])<=Math.trunc(_local_6[i+1])-1)return new math[\"g\" /* Point */](Math.trunc(_local_6[i]|0),i);i++;}return null;}static expandFloorTiles(k){let _local_5;let _local_6;let _local_7;let _local_8;let _local_10;let _local_11;let _local_12;let _local_13;let _local_14;let _local_15;let _local_16;let _local_17;const _local_2=k.length;const _local_3=k[0].length;const _local_4=[];_local_6=0;while(_local_6<_local_2*4){_local_4[_local_6]=[];_local_6++;}let _local_9=0;_local_6=0;while(_local_6<_local_2){_local_10=0;_local_5=0;while(_local_5<_local_3){_local_11=k[_local_6][_local_5];if(_local_11<0||_local_11<=0xFF){_local_8=0;while(_local_8<4){_local_7=0;while(_local_7<4){if(_local_4[_local_9+_local_8]===undefined)_local_4[_local_9+_local_8]=[];_local_4[_local_9+_local_8][_local_10+_local_7]=_local_11<0?_local_11:_local_11*4;_local_7++;}_local_8++;}}else{_local_12=(_local_11&0xFF)*4;_local_13=_local_12+(_local_11>>11&0x01)*3;_local_14=_local_12+(_local_11>>10&0x01)*3;_local_15=_local_12+(_local_11>>9&0x01)*3;_local_16=_local_12+(_local_11>>8&0x01)*3;_local_7=0;while(_local_7<3){_local_17=_local_7+1;_local_4[_local_9][_local_10+_local_7]=(_local_13*(3-_local_7)+_local_14*_local_7)/3;_local_4[_local_9+3][_local_10+_local_17]=(_local_15*(3-_local_17)+_local_16*_local_17)/3;_local_4[_local_9+_local_17][_local_10]=(_local_13*(3-_local_17)+_local_15*_local_17)/3;_local_4[_local_9+_local_7][_local_10+3]=(_local_14*(3-_local_7)+_local_16*_local_7)/3;_local_7++;}_local_4[_local_9+1][_local_10+1]=_local_13>_local_12?_local_12+2:_local_12+1;_local_4[_local_9+1][_local_10+2]=_local_14>_local_12?_local_12+2:_local_12+1;_local_4[_local_9+2][_local_10+1]=_local_15>_local_12?_local_12+2:_local_12+1;_local_4[_local_9+2][_local_10+2]=_local_16>_local_12?_local_12+2:_local_12+1;}_local_10=_local_10+4;_local_5++;}_local_9=_local_9+4;_local_6++;}return _local_4;}static addTileTypes(k){let _local_4;let _local_5;let _local_6;let _local_7;let _local_8;let _local_9;let _local_10;let _local_11;let _local_12;let _local_13;let _local_14;let _local_15;let _local_16;let _local_17;const _local_2=k.length-1;const _local_3=k[0].length-1;_local_5=1;while(_local_5<_local_2){_local_4=1;while(_local_4<_local_3){_local_6=k[_local_5][_local_4];if(_local_6<0){//\n}else{_local_7=k[_local_5-1][_local_4-1]&0xFF;_local_8=k[_local_5-1][_local_4]&0xFF;_local_9=k[_local_5-1][_local_4+1]&0xFF;_local_10=k[_local_5][_local_4-1]&0xFF;_local_11=k[_local_5][_local_4+1]&0xFF;_local_12=k[_local_5+1][_local_4-1]&0xFF;_local_13=k[_local_5+1][_local_4]&0xFF;_local_14=k[_local_5+1][_local_4+1]&0xFF;_local_15=_local_6+1;_local_16=_local_6-1;_local_17=(_local_7==_local_15||_local_8==_local_15||_local_10==_local_15?8:0)|(_local_9==_local_15||_local_8==_local_15||_local_11==_local_15?4:0)|(_local_12==_local_15||_local_13==_local_15||_local_10==_local_15?2:0)|(_local_14==_local_15||_local_13==_local_15||_local_11==_local_15?1:0);if(_local_17==15){_local_17=0;}k[_local_5][_local_4]=_local_6|_local_17<<8;}_local_4++;}_local_5++;}}static unpadHeightMap(k){k.shift();k.pop();for(const _local_2 of k){_local_2.shift();_local_2.pop();}}static padHeightMap(k){const _local_2=[];const _local_3=[];for(const _local_4 of k){_local_4.push(RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED);_local_4.unshift(RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED);}for(const _local_5 of k[0]){_local_2.push(RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED);_local_3.push(RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED);}k.push(_local_3);k.unshift(_local_2);}get minX(){return this._minX;}get maxX(){return this._maxX;}get minY(){return this._minY;}get maxY(){return this._maxY;}get tileMapWidth(){return this._width;}get tileMapHeight(){return this._height;}get planeCount(){return this._planes.length;}get floorHeight(){if(this._fixedWallHeight!=-1){return this._fixedWallHeight;}return this._floorHeight;}get wallHeight(){if(this._fixedWallHeight!=-1){return this._fixedWallHeight+3.6;}return this._wallHeight;}set wallHeight(k){if(k<0){k=0;}this._wallHeight=k;}get wallThicknessMultiplier(){return this._wallThicknessMultiplier;}set wallThicknessMultiplier(k){if(k<0){k=0;}this._wallThicknessMultiplier=k;}get floorThicknessMultiplier(){return this._floorThicknessMultiplier;}set floorThicknessMultiplier(k){if(k<0){k=0;}this._floorThicknessMultiplier=k;}dispose(){this._planes=null;this._tileMatrix=null;this._tileMatrixOriginal=null;this._floorHoleMatrix=null;if(this._floorHoles!=null){this._floorHoles.clear();this._floorHoles=null;}}reset(){this._planes=[];this._tileMatrix=[];this._tileMatrixOriginal=[];this._width=0;this._height=0;this._minX=0;this._maxX=0;this._minY=0;this._maxY=0;this._floorHeight=0;this._floorHoleMatrix=[];}initializeTileMap(width,height){if(width<0)width=0;if(height<0)height=0;this._tileMatrix=[];this._tileMatrixOriginal=[];this._floorHoleMatrix=[];let y=0;while(y<height){const tileMatrix=[];const tileMatrixOriginal=[];const floorHoleMatrix=[];let x=0;while(x<width){tileMatrix[x]=RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;tileMatrixOriginal[x]=RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;floorHoleMatrix[x]=false;x++;}this._tileMatrix.push(tileMatrix);this._tileMatrixOriginal.push(tileMatrixOriginal);this._floorHoleMatrix.push(floorHoleMatrix);y++;}this._width=width;this._height=height;this._minX=this._width;this._maxX=-1;this._minY=this._height;this._maxY=-1;return true;}setTileHeight(k,_arg_2,_arg_3){let _local_4;let _local_5;let _local_6;let _local_7;let _local_8;if(k>=0&&k<this._width&&_arg_2>=0&&_arg_2<this._height){_local_4=this._tileMatrix[_arg_2];_local_4[k]=_arg_3;if(_arg_3>=0){if(k<this._minX){this._minX=k;}if(k>this._maxX){this._maxX=k;}if(_arg_2<this._minY){this._minY=_arg_2;}if(_arg_2>this._maxY){this._maxY=_arg_2;}}else{if(k==this._minX||k==this._maxX){_local_5=false;_local_6=this._minY;while(_local_6<this._maxY){if(this.getTileHeightInternal(k,_local_6)>=0){_local_5=true;break;}_local_6++;}if(!_local_5){if(k==this._minX){this._minX++;}if(k==this._maxX){this._maxX--;}}}if(_arg_2==this._minY||_arg_2==this._maxY){_local_7=false;_local_8=this._minX;while(_local_8<this._maxX){if(this.getTileHeight(_local_8,_arg_2)>=0){_local_7=true;break;}_local_8++;}if(!_local_7){if(_arg_2==this._minY){this._minY++;}if(_arg_2==this._maxY){this._maxY--;}}}}return true;}return false;}getTileHeight(k,_arg_2){if(k<0||k>=this._width||_arg_2<0||_arg_2>=this._height){return RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;}const _local_3=this._tileMatrix[_arg_2];if(_local_3[k]===undefined)return 0;return Math.abs(_local_3[k]);}getTileHeightOriginal(k,_arg_2){if(k<0||k>=this._width||_arg_2<0||_arg_2>=this._height){return RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;}if(this._floorHoleMatrix[_arg_2][k]){return RoomPlaneParser_RoomPlaneParser.TILE_HOLE;}const _local_3=this._tileMatrixOriginal[_arg_2];return _local_3[k];}getTileHeightInternal(k,_arg_2){if(k<0||k>=this._width||_arg_2<0||_arg_2>=this._height){return RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;}const _local_3=this._tileMatrix[_arg_2];return _local_3[k];}initializeFromTileData(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;let _local_2;let _local_3;this._fixedWallHeight=k;_local_3=0;while(_local_3<this._height){_local_2=0;while(_local_2<this._width){if(this._tileMatrixOriginal[_local_3]===undefined)this._tileMatrixOriginal[_local_3]=[];this._tileMatrixOriginal[_local_3][_local_2]=this._tileMatrix[_local_3][_local_2];_local_2++;}_local_3++;}const _local_4=RoomPlaneParser_RoomPlaneParser.findEntranceTile(this._tileMatrix);_local_3=0;while(_local_3<this._height){_local_2=0;while(_local_2<this._width){if(this._floorHoleMatrix[_local_3]===undefined)this._floorHoleMatrix[_local_3]=[];if(this._floorHoleMatrix[_local_3][_local_2]){this.setTileHeight(_local_2,_local_3,RoomPlaneParser_RoomPlaneParser.TILE_HOLE);}_local_2++;}_local_3++;}return this.initialize(_local_4);}initialize(k){let _local_2=0;if(k!=null){_local_2=this.getTileHeight(k.x,k.y);this.setTileHeight(k.x,k.y,RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED);}this._floorHeight=RoomPlaneParser_RoomPlaneParser.getFloorHeight(this._tileMatrix);this.createWallPlanes();const _local_3=[];for(const _local_4 of this._tileMatrix)_local_3.push(_local_4.concat());RoomPlaneParser_RoomPlaneParser.padHeightMap(_local_3);RoomPlaneParser_RoomPlaneParser.addTileTypes(_local_3);RoomPlaneParser_RoomPlaneParser.unpadHeightMap(_local_3);const _local_5=RoomPlaneParser_RoomPlaneParser.expandFloorTiles(_local_3);this.extractPlanes(_local_5);if(k!=null){this.setTileHeight(k.x,k.y,_local_2);this.addFloor(new Vector3d(k.x+0.5,k.y+0.5,_local_2),new Vector3d(-1,0,0),new Vector3d(0,-1,0),false,false,false,false);}return true;}generateWallData(k,_arg_2){let _local_8;let _local_9;let _local_10;let _local_11;let _local_12;const _local_3=new RoomWallData_RoomWallData();const _local_4=[this.extractTopWall.bind(this),this.extractRightWall.bind(this),this.extractBottomWall.bind(this),this.extractLeftWall.bind(this)];let _local_5=0;let _local_6=new math[\"g\" /* Point */](k.x,k.y);let _local_7=0;while(_local_7++<1000){_local_8=false;_local_9=false;_local_10=_local_5;if(_local_6.x<this.minX||_local_6.x>this.maxX||_local_6.y<this.minY||_local_6.y>this.maxY){_local_8=true;}_local_11=_local_4[_local_5](_local_6,_arg_2);if(_local_11==null){return null;}_local_12=Math.abs(_local_11.x-_local_6.x)+Math.abs(_local_11.y-_local_6.y);if(_local_6.x==_local_11.x||_local_6.y==_local_11.y){_local_5=(_local_5-1+_local_4.length)%_local_4.length;_local_12=_local_12+1;_local_9=true;}else{_local_5=(_local_5+1)%_local_4.length;_local_12--;}_local_3.addWall(_local_6,_local_10,_local_12,_local_8,_local_9);if(_local_11.x==k.x&&_local_11.y==k.y&&(!(_local_11.x==_local_6.x)||!(_local_11.y==_local_6.y))){break;}_local_6=_local_11;}if(_local_3.count==0){return null;}return _local_3;}hidePeninsulaWallChains(k){let _local_5;let _local_6;let _local_7;let _local_8;let _local_2=0;const _local_3=k.count;while(_local_2<_local_3){const _local_4=_local_2;_local_5=_local_2;_local_6=0;_local_7=false;while(!k.getBorder(_local_2)&&_local_2<_local_3){if(k.getLeftTurn(_local_2)){_local_6++;}else{if(_local_6>0){_local_6--;}}if(_local_6>1){_local_7=true;}_local_5=_local_2;_local_2++;}if(_local_7){_local_8=_local_4;while(_local_8<=_local_5){k.setHideWall(_local_8,true);_local_8++;}}_local_2++;}}updateWallsNextToHoles(k){let _local_4;let _local_5;let _local_6;let _local_7;let _local_8;let _local_9;let _local_10;const _local_2=k.count;let _local_3=0;while(_local_3<_local_2){if(!k.getHideWall(_local_3)){_local_4=k.getCorner(_local_3);_local_5=k.getDirection(_local_3);_local_6=k.getLength(_local_3);_local_7=RoomWallData_RoomWallData.WALL_DIRECTION_VECTORS[_local_5];_local_8=RoomWallData_RoomWallData.WALL_NORMAL_VECTORS[_local_5];_local_9=0;_local_10=0;while(_local_10<_local_6){if(this.getTileHeightInternal(_local_4.x+_local_10*_local_7.x-_local_8.x,_local_4.y+_local_10*_local_7.y-_local_8.y)==RoomPlaneParser_RoomPlaneParser.TILE_HOLE){if(_local_10>0&&_local_9==0){k.setLength(_local_3,_local_10);break;}_local_9++;}else{if(_local_9>0){k.moveCorner(_local_3,_local_9);break;}}_local_10++;}if(_local_9==_local_6){k.setHideWall(_local_3,true);}}_local_3++;}}resolveOriginalWallIndex(k,_arg_2,_arg_3){let _local_10;let _local_11;let _local_12;let _local_13;let _local_14;let _local_15;const _local_4=Math.min(k.y,_arg_2.y);const _local_5=Math.max(k.y,_arg_2.y);const _local_6=Math.min(k.x,_arg_2.x);const _local_7=Math.max(k.x,_arg_2.x);const _local_8=_arg_3.count;let _local_9=0;while(_local_9<_local_8){_local_10=_arg_3.getCorner(_local_9);_local_11=_arg_3.getEndPoint(_local_9);if(k.x==_arg_2.x){if(_local_10.x==k.x&&_local_11.x==k.x){_local_12=Math.min(_local_10.y,_local_11.y);_local_13=Math.max(_local_10.y,_local_11.y);if(_local_12<=_local_4&&_local_5<=_local_13){return _local_9;}}}else{if(k.y==_arg_2.y){if(_local_10.y==k.y&&_local_11.y==k.y){_local_14=Math.min(_local_10.x,_local_11.x);_local_15=Math.max(_local_10.x,_local_11.x);if(_local_14<=_local_6&&_local_7<=_local_15){return _local_9;}}}}_local_9++;}return-1;}hideOriginallyHiddenWalls(k,_arg_2){let _local_5;let _local_6;let _local_7;let _local_8;let _local_9;const _local_3=k.count;let _local_4=0;while(_local_4<_local_3){if(!k.getHideWall(_local_4)){_local_5=k.getCorner(_local_4);_local_6=new math[\"g\" /* Point */](_local_5.x,_local_5.y);_local_7=RoomWallData_RoomWallData.WALL_DIRECTION_VECTORS[k.getDirection(_local_4)];_local_8=k.getLength(_local_4);_local_6.x=_local_6.x+_local_7.x*_local_8;_local_6.y=_local_6.y+_local_7.y*_local_8;_local_9=this.resolveOriginalWallIndex(_local_5,_local_6,_arg_2);if(_local_9>=0){if(_arg_2.getHideWall(_local_9)){k.setHideWall(_local_4,true);}}else{k.setHideWall(_local_4,true);}}_local_4++;}}checkWallHiding(k,_arg_2){this.hidePeninsulaWallChains(_arg_2);this.updateWallsNextToHoles(k);this.hideOriginallyHiddenWalls(k,_arg_2);}addWalls(k,_arg_2){const _local_3=k.count;const _local_4=_arg_2.count;let _local_7=0;while(_local_7<_local_3){if(!k.getHideWall(_local_7)){const _local_8=k.getCorner(_local_7);const _local_9=k.getDirection(_local_7);const _local_10=k.getLength(_local_7);const _local_11=RoomWallData_RoomWallData.WALL_DIRECTION_VECTORS[_local_9];const _local_12=RoomWallData_RoomWallData.WALL_NORMAL_VECTORS[_local_9];let _local_13=-1;let _local_14=0;while(_local_14<_local_10){const _local_27=this.getTileHeightInternal(_local_8.x+_local_14*_local_11.x+_local_12.x,_local_8.y+_local_14*_local_11.y+_local_12.y);if(_local_27>=0&&(_local_27<_local_13||_local_13<0)){_local_13=_local_27;}_local_14++;}const _local_15=_local_13;let _local_16=new Vector3d(_local_8.x,_local_8.y,_local_15);_local_16=Vector3d.sum(_local_16,Vector3d.product(_local_12,0.5));_local_16=Vector3d.sum(_local_16,Vector3d.product(_local_11,-0.5));const _local_17=this.wallHeight+Math.min(RoomPlaneParser_RoomPlaneParser.MAX_WALL_ADDITIONAL_HEIGHT,this.floorHeight)-_local_13;const _local_18=Vector3d.product(_local_11,-_local_10);const _local_19=new Vector3d(0,0,_local_17);_local_16=Vector3d.dif(_local_16,_local_18);const _local_20=this.resolveOriginalWallIndex(_local_8,k.getEndPoint(_local_7),_arg_2);let _local_5=0;let _local_6=0;if(_local_20>=0){_local_5=_arg_2.getDirection((_local_20+1)%_local_4);_local_6=_arg_2.getDirection((_local_20-1+_local_4)%_local_4);}else{_local_5=k.getDirection((_local_7+1)%_local_3);_local_6=k.getDirection((_local_7-1+_local_3)%_local_3);}let _local_21=null;if((_local_5-_local_9+4)%4==3){_local_21=RoomWallData_RoomWallData.WALL_NORMAL_VECTORS[_local_5];}else{if((_local_9-_local_6+4)%4==3){_local_21=RoomWallData_RoomWallData.WALL_NORMAL_VECTORS[_local_6];}}const _local_22=k.getLeftTurn(_local_7);const _local_23=k.getLeftTurn((_local_7-1+_local_3)%_local_3);const _local_24=k.getHideWall((_local_7+1)%_local_3);const _local_25=k.getManuallyLeftCut(_local_7);const _local_26=k.getManuallyRightCut(_local_7);this.addWall(_local_16,_local_18,_local_19,_local_21,!_local_23||_local_25,!_local_22||_local_26,!_local_24);}_local_7++;}}createWallPlanes(){let _local_13;let _local_14;const k=this._tileMatrix;if(k==null){return false;}let _local_2;let _local_3;let _local_4;const _local_5=k.length;let _local_6=0;if(_local_5==0){return false;}_local_2=0;while(_local_2<_local_5){_local_4=k[_local_2];if(_local_4==null||_local_4.length==0){return false;}if(_local_6>0){_local_6=Math.min(_local_6,_local_4.length);}else{_local_6=_local_4.length;}_local_2++;}const _local_7=Math.min(RoomPlaneParser_RoomPlaneParser.MAX_WALL_ADDITIONAL_HEIGHT,this._fixedWallHeight!=-1?this._fixedWallHeight:RoomPlaneParser_RoomPlaneParser.getFloorHeight(k));const _local_8=this.minX;let _local_9=this.minY;_local_9=this.minY;while(_local_9<=this.maxY){if(this.getTileHeightInternal(_local_8,_local_9)>RoomPlaneParser_RoomPlaneParser.TILE_HOLE){_local_9--;break;}_local_9++;}if(_local_9>this.maxY){return false;}const _local_10=new math[\"g\" /* Point */](_local_8,_local_9);const _local_11=this.generateWallData(_local_10,true);const _local_12=this.generateWallData(_local_10,false);if(_local_11!=null){_local_13=_local_11.count;_local_14=_local_12.count;this.checkWallHiding(_local_11,_local_12);this.addWalls(_local_11,_local_12);}_local_3=0;while(_local_3<this.tileMapHeight){_local_2=0;while(_local_2<this.tileMapWidth){if(this.getTileHeightInternal(_local_2,_local_3)<0){this.setTileHeight(_local_2,_local_3,-(_local_7+this.wallHeight));}_local_2++;}_local_3++;}return true;}extractTopWall(k,_arg_2){if(k==null){return null;}let _local_3=1;let _local_4=RoomPlaneParser_RoomPlaneParser.TILE_HOLE;if(!_arg_2){_local_4=RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;}while(_local_3<1000){if(this.getTileHeightInternal(k.x+_local_3,k.y)>_local_4){return new math[\"g\" /* Point */](k.x+_local_3-1,k.y);}if(this.getTileHeightInternal(k.x+_local_3,k.y+1)<=_local_4){return new math[\"g\" /* Point */](k.x+_local_3,k.y+1);}_local_3++;}return null;}extractRightWall(k,_arg_2){if(k==null){return null;}let _local_3=1;let _local_4=RoomPlaneParser_RoomPlaneParser.TILE_HOLE;if(!_arg_2){_local_4=RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;}while(_local_3<1000){if(this.getTileHeightInternal(k.x,k.y+_local_3)>_local_4){return new math[\"g\" /* Point */](k.x,k.y+(_local_3-1));}if(this.getTileHeightInternal(k.x-1,k.y+_local_3)<=_local_4){return new math[\"g\" /* Point */](k.x-1,k.y+_local_3);}_local_3++;}return null;}extractBottomWall(k,_arg_2){if(k==null){return null;}let _local_3=1;let _local_4=RoomPlaneParser_RoomPlaneParser.TILE_HOLE;if(!_arg_2){_local_4=RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;}while(_local_3<1000){if(this.getTileHeightInternal(k.x-_local_3,k.y)>_local_4){return new math[\"g\" /* Point */](k.x-(_local_3-1),k.y);}if(this.getTileHeightInternal(k.x-_local_3,k.y-1)<=_local_4){return new math[\"g\" /* Point */](k.x-_local_3,k.y-1);}_local_3++;}return null;}extractLeftWall(k,_arg_2){if(k==null){return null;}let _local_3=1;let _local_4=RoomPlaneParser_RoomPlaneParser.TILE_HOLE;if(!_arg_2){_local_4=RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;}while(_local_3<1000){if(this.getTileHeightInternal(k.x,k.y-_local_3)>_local_4){return new math[\"g\" /* Point */](k.x,k.y-(_local_3-1));}if(this.getTileHeightInternal(k.x+1,k.y-_local_3)<=_local_4){return new math[\"g\" /* Point */](k.x+1,k.y-_local_3);}_local_3++;}return null;}addWall(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7){this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_WALL,k,_arg_2,_arg_3,[_arg_4]);//this.addPlane(RoomPlaneData.PLANE_LANDSCAPE, k, _arg_2, _arg_3, [_arg_4]);\nconst _local_8=RoomPlaneParser_RoomPlaneParser.WALL_THICKNESS*this._wallThicknessMultiplier;const _local_9=RoomPlaneParser_RoomPlaneParser.FLOOR_THICKNESS*this._floorThicknessMultiplier;const _local_10=Vector3d.crossProduct(_arg_2,_arg_3);const _local_11=Vector3d.product(_local_10,1/_local_10.length*-_local_8);this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_WALL,Vector3d.sum(k,_arg_3),_arg_2,_local_11,[_local_10,_arg_4]);if(_arg_5){this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_WALL,Vector3d.sum(Vector3d.sum(k,_arg_2),_arg_3),Vector3d.product(_arg_3,-(_arg_3.length+_local_9)/_arg_3.length),_local_11,[_local_10,_arg_4]);}if(_arg_6){this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_WALL,Vector3d.sum(k,Vector3d.product(_arg_3,-_local_9/_arg_3.length)),Vector3d.product(_arg_3,(_arg_3.length+_local_9)/_arg_3.length),_local_11,[_local_10,_arg_4]);if(_arg_7){const _local_12=Vector3d.product(_arg_2,_local_8/_arg_2.length);this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_WALL,Vector3d.sum(Vector3d.sum(k,_arg_3),Vector3d.product(_local_12,-1)),_local_12,_local_11,[_local_10,_arg_2,_arg_4]);}}}addFloor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7){let _local_9;let _local_10;let _local_11;const _local_8=this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_FLOOR,k,_arg_2,_arg_3);if(_local_8!=null){_local_9=RoomPlaneParser_RoomPlaneParser.FLOOR_THICKNESS*this._floorThicknessMultiplier;_local_10=new Vector3d(0,0,_local_9);_local_11=Vector3d.dif(k,_local_10);if(_arg_6){this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_FLOOR,_local_11,_arg_2,_local_10);}if(_arg_7){this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_FLOOR,Vector3d.sum(_local_11,Vector3d.sum(_arg_2,_arg_3)),Vector3d.product(_arg_2,-1),_local_10);}if(_arg_4){this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_FLOOR,Vector3d.sum(_local_11,_arg_3),Vector3d.product(_arg_3,-1),_local_10);}if(_arg_5){this.addPlane(RoomPlaneData_RoomPlaneData.PLANE_FLOOR,Vector3d.sum(_local_11,_arg_2),_arg_3,_local_10);}}}initializeFromMapData(data){if(!data)return false;this.reset();this.resetFloorHoles();const width=data.width;const height=data.height;const wallHeight=data.wallHeight;const fixedWallsHeight=data.fixedWallsHeight;this.initializeTileMap(width,height);if(data.tileMap){let y=0;while(y<data.tileMap.length){const row=data.tileMap[y];if(row){let x=0;while(x<row.length){const column=row[x];if(column)this.setTileHeight(x,y,column.height);x++;}}y++;}}if(data.holeMap&&data.holeMap.length){let index=0;while(index<data.holeMap.length){const hole=data.holeMap[index];if(!hole)continue;this.addFloorHole(hole.id,hole.x,hole.y,hole.width,hole.height);index++;}this.initializeHoleMap();}this.wallHeight=wallHeight;this.restrictsDragging=data.restrictsDragging;this.restrictsScaling=data.restrictsScaling;this.restrictedScale=data.restrictedScale;this.initializeFromTileData(fixedWallsHeight);return true;}addPlane(k,_arg_2,_arg_3,_arg_4){let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(_arg_3.length==0||_arg_4.length==0){return null;}const _local_6=new RoomPlaneData_RoomPlaneData(k,_arg_2,_arg_3,_arg_4,_arg_5);this._planes.push(_local_6);return _local_6;}getMapData(){const data=new RoomMapData();data.width=this._width;data.height=this._height;data.wallHeight=this._wallHeight;data.fixedWallsHeight=this._fixedWallHeight;data.dimensions.minX=this.minX;data.dimensions.maxX=this.maxX;data.dimensions.minY=this.minY;data.dimensions.maxY=this.maxY;data.restrictsDragging=this.restrictsDragging;data.restrictsScaling=this.restrictsScaling;data.restrictedScale=this.restrictedScale;let y=0;while(y<this._height){const tileRow=[];const tileMatrix=this._tileMatrixOriginal[y];let x=0;while(x<this._width){const tileHeight=tileMatrix[x];tileRow.push({height:tileHeight});x++;}data.tileMap.push(tileRow);y++;}for(const[holeId,holeData]of this._floorHoles.entries()){if(!holeData)continue;data.holeMap.push({id:holeId,x:holeData.x,y:holeData.y,width:holeData.width,height:holeData.height});}return data;}getPlaneLocation(k){if(k<0||k>=this.planeCount)return null;const planeData=this._planes[k];if(!planeData)return null;return planeData.loc;}getPlaneNormal(k){if(k<0||k>=this.planeCount)return null;const planeData=this._planes[k];if(!planeData)return null;return planeData.normal;}getPlaneLeftSide(k){if(k<0||k>=this.planeCount)return null;const planeData=this._planes[k];if(!planeData)return null;return planeData.leftSide;}getPlaneRightSide(k){if(k<0||k>=this.planeCount)return null;const planeData=this._planes[k];if(!planeData)return null;return planeData.rightSide;}getPlaneNormalDirection(k){if(k<0||k>=this.planeCount)return null;const planeData=this._planes[k];if(!planeData)return null;return planeData.normalDirection;}getPlaneSecondaryNormals(k){let _local_3;let _local_4;if(k<0||k>=this.planeCount){return null;}const _local_2=this._planes[k];if(_local_2!=null){_local_3=[];_local_4=0;while(_local_4<_local_2.secondaryNormalCount){_local_3.push(_local_2.getSecondaryNormal(_local_4));_local_4++;}return _local_3;}return null;}getPlaneType(k){if(k<0||k>=this.planeCount)return RoomPlaneData_RoomPlaneData.PLANE_UNDEFINED;const planeData=this._planes[k];if(!planeData)return RoomPlaneData_RoomPlaneData.PLANE_UNDEFINED;return planeData.type;}getPlaneMaskCount(k){if(k<0||k>=this.planeCount)return 0;const planeData=this._planes[k];if(!planeData)return 0;return planeData.maskCount;}getPlaneMaskLeftSideLoc(k,_arg_2){if(k<0||k>=this.planeCount)return-1;const planeData=this._planes[k];if(!planeData)return-1;return planeData.getMaskLeftSideLoc(_arg_2);}getPlaneMaskRightSideLoc(k,_arg_2){if(k<0||k>=this.planeCount)return-1;const planeData=this._planes[k];if(!planeData)return-1;return planeData.getMaskRightSideLoc(_arg_2);}getPlaneMaskLeftSideLength(k,_arg_2){if(k<0||k>=this.planeCount)return-1;const planeData=this._planes[k];if(!planeData)return-1;return planeData.getMaskLeftSideLength(_arg_2);}getPlaneMaskRightSideLength(k,_arg_2){if(k<0||k>=this.planeCount)return-1;const planeData=this._planes[k];if(!planeData)return-1;return planeData.getMaskRightSideLength(_arg_2);}addFloorHole(k,_arg_2,_arg_3,_arg_4,_arg_5){this.removeFloorHole(k);this._floorHoles.set(k,new RoomFloorHole(_arg_2,_arg_3,_arg_4,_arg_5));}removeFloorHole(k){this._floorHoles.delete(k);}resetFloorHoles(){this._floorHoles.clear();}initializeHoleMap(){let k;let _local_2;let _local_3;let _local_5;let _local_6;let _local_7;let _local_8;let _local_9;_local_2=0;while(_local_2<this._height){_local_3=this._floorHoleMatrix[_local_2];k=0;while(k<this._width){_local_3[k]=false;k++;}_local_2++;}for(const _local_4 of this._floorHoles.values()){_local_5=_local_4;if(_local_5!=null){_local_6=_local_5.x;_local_7=_local_5.x+_local_5.width-1;_local_8=_local_5.y;_local_9=_local_5.y+_local_5.height-1;_local_6=_local_6<0?0:_local_6;_local_7=_local_7>=this._width?this._width-1:_local_7;_local_8=_local_8<0?0:_local_8;_local_9=_local_9>=this._height?this._height-1:_local_9;_local_2=_local_8;while(_local_2<=_local_9){_local_3=this._floorHoleMatrix[_local_2];k=_local_6;while(k<=_local_7){_local_3[k]=true;k++;}_local_2++;}}}}extractPlanes(k){let _local_7;let _local_8;let _local_9;let _local_10;let _local_11;let _local_12;let _local_13;let _local_14;let _local_15;let _local_16;let _local_17;let _local_18;let _local_19;let _local_20;let _local_21;const _local_2=k.length;const _local_3=k[0].length;const _local_4=[];let _local_5=0;while(_local_5<_local_2){_local_4[_local_5]=[];_local_5++;}let _local_6=0;while(_local_6<_local_2){_local_7=0;while(_local_7<_local_3){_local_8=k[_local_6][_local_7];if(_local_8<0||_local_4[_local_6][_local_7]){//\n}else{_local_11=_local_7==0||!(k[_local_6][_local_7-1]==_local_8);_local_12=_local_6==0||!(k[_local_6-1][_local_7]==_local_8);_local_9=_local_7+1;while(_local_9<_local_3){if(!(k[_local_6][_local_9]==_local_8)||_local_4[_local_6][_local_9]||_local_6>0&&k[_local_6-1][_local_9]==_local_8==_local_12){break;}_local_9++;}_local_13=_local_9==_local_3||!(k[_local_6][_local_9]==_local_8);_local_17=false;_local_10=_local_6+1;while(_local_10<_local_2&&!_local_17){_local_14=!(k[_local_10][_local_7]==_local_8);_local_17=_local_14||_local_7>0&&k[_local_10][_local_7-1]==_local_8==_local_11||_local_9<_local_3&&k[_local_10][_local_9]==_local_8==_local_13;_local_15=_local_7;while(_local_15<_local_9){if(k[_local_10][_local_15]==_local_8==_local_14){_local_17=true;_local_9=_local_15;break;}_local_15++;}if(_local_17){break;}_local_10++;}_local_14=_local_14||_local_10==_local_2;_local_13=_local_9==_local_3||!(k[_local_6][_local_9]==_local_8);_local_16=_local_6;while(_local_16<_local_10){_local_15=_local_7;while(_local_15<_local_9){_local_4[_local_16][_local_15]=true;_local_15++;}_local_16++;}_local_18=_local_7/4-0.5;_local_19=_local_6/4-0.5;_local_20=(_local_9-_local_7)/4;_local_21=(_local_10-_local_6)/4;this.addFloor(new Vector3d(_local_18+_local_20,_local_19+_local_21,_local_8/4),new Vector3d(-_local_20,0,0),new Vector3d(0,-_local_21,0),_local_13,_local_11,_local_14,_local_12);}_local_7++;}_local_6++;}}get restrictsDragging(){return this._restrictsDragging;}set restrictsDragging(flag){this._restrictsDragging=flag;}get restrictsScaling(){return this._restrictsScaling;}set restrictsScaling(flag){this._restrictsScaling=flag;}get restrictedScale(){return this._restrictedScale;}set restrictedScale(scale){this._restrictedScale=scale;}}RoomPlaneParser_RoomPlaneParser.FLOOR_THICKNESS=0.25;RoomPlaneParser_RoomPlaneParser.WALL_THICKNESS=0.25;RoomPlaneParser_RoomPlaneParser.MAX_WALL_ADDITIONAL_HEIGHT=20;RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED=-110;RoomPlaneParser_RoomPlaneParser.TILE_HOLE=-100;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/FloorHeightMapMessageParser.ts\nclass FloorHeightMapMessageParser_FloorHeightMapMessageParser{constructor(){this._model=void 0;this._width=void 0;this._height=void 0;this._heightMap=void 0;this._wallHeight=void 0;this._scale=void 0;}flush(){this._model=null;this._width=0;this._height=0;this._wallHeight=-1;this._heightMap=[];this._scale=64;this._model=null;return true;}parse(wrapper){if(!wrapper)return false;const scale=wrapper.readBoolean();const wallHeight=wrapper.readInt();const model=wrapper.readString();return this.parseExplicitly(model,wallHeight,scale);}parseModel(modelString,wallHeight){let scale=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return this.parseExplicitly(modelString,wallHeight,scale);}parseExplicitly(modelString,wallHeight){let scale=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this._scale=scale?32:64;this._wallHeight=wallHeight;this._model=modelString;const model=this._model.split('\\r');const modelRows=model.length;let width=0;const height=0;let iterator=0;while(iterator<modelRows){const row=model[iterator];if(row.length>width){width=row.length;}iterator++;}this._heightMap=[];iterator=0;while(iterator<modelRows){const heightMap=[];let subIterator=0;while(subIterator<width){heightMap.push(RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED);subIterator++;}this._heightMap.push(heightMap);iterator++;}this._width=width;this._height=modelRows;iterator=0;while(iterator<modelRows){const heightMap=this._heightMap[iterator];const text=model[iterator];if(text.length>0){let subIterator=0;while(subIterator<text.length){const char=text.charAt(subIterator);let height=RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED;if(char!=='x'&&char!=='X')height=parseInt(char,36);heightMap[subIterator]=height;subIterator++;}}iterator++;}return true;}getHeight(x,y){if(x<0||x>=this._width||y<0||y>=this._height)return-110;const row=this._heightMap[y];if(row===undefined)return-110;const height=row[x];if(height===undefined)return-110;return height;}get model(){return this._model;}get width(){return this._width;}get height(){return this._height;}get heightMap(){return this._heightMap;}get wallHeight(){return this._wallHeight;}get scale(){return this._scale;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/RoomEntryTileMessageParser.ts\nclass RoomEntryTileMessageParser{constructor(){this._x=void 0;this._y=void 0;this._direction=void 0;}flush(){this._x=0;this._y=0;this._direction=0;return true;}parse(wrapper){if(!wrapper)return false;this._x=wrapper.readInt();this._y=wrapper.readInt();this._direction=wrapper.readInt();return true;}get x(){return this._x;}get y(){return this._y;}get direction(){return this._direction;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/RoomHeightMapParser.ts\nclass RoomHeightMapParser{constructor(){this._width=void 0;this._height=void 0;this._heights=void 0;}static decodeTileHeight(height){return height<0?-1:(height&16383)/0x0100;}static decodeIsStackingBlocked(height){return!!(height&0x4000);}static decodeIsRoomTile(height){return height>=0;}getTileHeight(x,y){if(x<0||x>=this._width||y<0||y>=this._height)return-1;return RoomHeightMapParser.decodeTileHeight(this._heights[y*this._width+x]);}getStackingBlocked(x,y){if(x<0||x>=this._width||y<0||y>=this._height)return true;return RoomHeightMapParser.decodeIsStackingBlocked(this._heights[y*this._width+x]);}isRoomTile(x,y){if(x<0||x>=this._width||y<0||y>=this._height)return false;return RoomHeightMapParser.decodeIsRoomTile(this._heights[y*this._width+x]);}flush(){this._width=0;this._height=0;this._heights=[];return true;}parse(wrapper){if(!wrapper)return false;this._width=wrapper.readInt();const totalTiles=wrapper.readInt();this._height=totalTiles/this._width;let i=0;while(i<totalTiles){this._heights[i]=wrapper.readShort();i++;}return true;}get width(){return this._width;}get height(){return this._height;}get heights(){return this._heights;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/RoomHeightMapUpdateParser.ts\nclass RoomHeightMapUpdateParser_RoomHeightMapUpdateParser{constructor(){this._wrapper=void 0;this._count=void 0;this._x=void 0;this._y=void 0;this._value=void 0;}flush(){this._wrapper=null;this._count=0;this._x=0;this._y=0;this._value=0;return true;}tileHeight(){return RoomHeightMapParser.decodeTileHeight(this._value);}isStackingBlocked(){return RoomHeightMapParser.decodeIsStackingBlocked(this._value);}isRoomTile(){return RoomHeightMapParser.decodeIsRoomTile(this._value);}next(){if(!this._count)return false;this._count--;this._x=this._wrapper.readByte();this._y=this._wrapper.readByte();this._value=this._wrapper.readShort();return true;}parse(wrapper){if(!wrapper)return false;this._wrapper=wrapper;this._count=wrapper.readByte();return true;}get x(){return this._x;}get y(){return this._y;}get height(){return this._value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/RoomOccupiedTilesMessageParser.ts\nclass RoomOccupiedTilesMessageParser{constructor(){this._blockedTilesMap=void 0;}flush(){this._blockedTilesMap=[];return true;}parse(wrapper){if(!wrapper)return false;let tilesCount=wrapper.readInt();while(tilesCount>0){const x=wrapper.readInt();const y=wrapper.readInt();if(!this._blockedTilesMap[y])this._blockedTilesMap[y]=[];this._blockedTilesMap[y][x]=true;tilesCount--;}return true;}get blockedTilesMap(){return this._blockedTilesMap;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/RoomPaintParser.ts\nclass RoomPaintParser{constructor(){this._floorType=void 0;this._wallType=void 0;this._landscapeType=void 0;this._landscapeAnimation=void 0;}flush(){this._floorType=null;this._wallType=null;this._landscapeType=null;this._landscapeAnimation=null;return true;}parse(wrapper){if(!wrapper)return false;const type=wrapper.readString();const value=wrapper.readString();switch(type){case'floor':this._floorType=value;break;case'wallpaper':this._wallType=value;break;case'landscape':this._landscapeType=value;break;case'landscapeanim':this._landscapeAnimation=value;break;}return true;}get floorType(){return this._floorType;}get wallType(){return this._wallType;}get landscapeType(){return this._landscapeType;}get landscapeAnimation(){return this._landscapeAnimation;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/RoomReadyMessageParser.ts\nclass RoomReadyMessageParser{constructor(){this._name=void 0;this._roomId=void 0;}flush(){this._name=null;this._roomId=0;return true;}parse(wrapper){if(!wrapper)return false;this._name=wrapper.readString();this._roomId=wrapper.readInt();return true;}get name(){return this._name;}get roomId(){return this._roomId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/RoomVisualizationSettingsParser.ts\nclass RoomVisualizationSettingsParser{constructor(){this._hideWalls=void 0;this._thicknessWall=void 0;this._thicknessFloor=void 0;}flush(){this._hideWalls=false;this._thicknessWall=0;this._thicknessFloor=0;return true;}parse(wrapper){if(!wrapper)return false;this._hideWalls=wrapper.readBoolean();let thicknessWall=wrapper.readInt();let thicknessFloor=wrapper.readInt();thicknessWall=thicknessWall<-2?-2:thicknessWall>1?1:thicknessWall;thicknessFloor=thicknessFloor<-2?-2:thicknessFloor>1?1:thicknessFloor;this._thicknessWall=Math.pow(2,thicknessWall);this._thicknessFloor=Math.pow(2,thicknessFloor);return true;}get hideWalls(){return this._hideWalls;}get thicknessWall(){return this._thicknessWall;}get thicknessFloor(){return this._thicknessFloor;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/mapping/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/pet/PetExperienceParser.ts\nclass PetExperienceParser{constructor(){this._petId=void 0;this._roomIndex=void 0;this._gainedExperience=void 0;}flush(){this._petId=-1;this._roomIndex=-1;this._gainedExperience=0;return true;}parse(wrapper){if(!wrapper)return false;this._petId=wrapper.readInt();this._roomIndex=wrapper.readInt();this._gainedExperience=wrapper.readInt();return true;}get petId(){return this._petId;}get roomIndex(){return this._roomIndex;}get gainedExperience(){return this._gainedExperience;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/pet/PetFigureUpdateParser.ts\nclass PetFigureUpdateParser_PetFigureUpdateParser{constructor(){this._roomIndex=void 0;this._petId=void 0;this._figureData=void 0;this._hasSaddle=void 0;this._isRiding=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._roomIndex=wrapper.readInt();this._petId=wrapper.readInt();this._figureData=new PetFigureDataParser(wrapper);this._hasSaddle=wrapper.readBoolean();this._isRiding=wrapper.readBoolean();return true;}get roomIndex(){return this._roomIndex;}get petId(){return this._petId;}get figureData(){return this._figureData;}get hasSaddle(){return this._hasSaddle;}get isRiding(){return this._isRiding;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/pet/PetInfoParser.ts\nclass PetInfoParser{constructor(){this._id=void 0;this._name=void 0;this._level=void 0;this._maximumLevel=void 0;this._experience=void 0;this._energy=void 0;this._happyness=void 0;this._levelExperienceGoal=void 0;this._maximumEnergy=void 0;this._maximumHappyness=void 0;this._respect=void 0;this._ownerId=void 0;this._ownerName=void 0;this._age=void 0;this._rarityLevel=void 0;this._saddle=void 0;this._rider=void 0;this._breedable=void 0;this._fullyGrown=void 0;this._dead=void 0;this._maximumTimeToLive=void 0;this._remainingTimeToLive=void 0;this._remainingGrowTime=void 0;this._skillThresholds=void 0;this._publiclyRideable=void 0;this._unknownRarity=void 0;this._publiclyBreedable=void 0;}flush(){this._id=-1;this._skillThresholds=[];return true;}parse(wrapper){if(!wrapper)return false;this._id=wrapper.readInt();this._name=wrapper.readString();this._level=wrapper.readInt();this._maximumLevel=wrapper.readInt();this._experience=wrapper.readInt();this._levelExperienceGoal=wrapper.readInt();this._energy=wrapper.readInt();this._maximumEnergy=wrapper.readInt();this._happyness=wrapper.readInt();this._maximumHappyness=wrapper.readInt();this._respect=wrapper.readInt();this._ownerId=wrapper.readInt();this._age=wrapper.readInt();this._ownerName=wrapper.readString();this._rarityLevel=wrapper.readInt();this._saddle=wrapper.readBoolean();this._rider=wrapper.readBoolean();let total=wrapper.readInt();while(total>0){this._skillThresholds.push(wrapper.readInt());total--;}this._skillThresholds.sort();this._publiclyRideable=wrapper.readInt();this._breedable=wrapper.readBoolean();this._fullyGrown=wrapper.readBoolean();this._dead=wrapper.readBoolean();this._unknownRarity=wrapper.readInt();this._maximumTimeToLive=wrapper.readInt();this._remainingTimeToLive=wrapper.readInt();this._remainingGrowTime=wrapper.readInt();this._publiclyBreedable=wrapper.readBoolean();return true;}get id(){return this._id;}get name(){return this._name;}get level(){return this._level;}get maximumLevel(){return this._maximumLevel;}get experience(){return this._experience;}get energy(){return this._energy;}get happyness(){return this._happyness;}get levelExperienceGoal(){return this._levelExperienceGoal;}get maximumEnergy(){return this._maximumEnergy;}get maximumHappyness(){return this._maximumHappyness;}get respect(){return this._respect;}get ownerId(){return this._ownerId;}get ownerName(){return this._ownerName;}get age(){return this._age;}get rarityLevel(){return this._rarityLevel;}get saddle(){return this._saddle;}get rider(){return this._rider;}get breedable(){return this._breedable;}get fullyGrown(){return this._fullyGrown;}get dead(){return this._dead;}get maximumTimeToLive(){return this._maximumTimeToLive;}get remainingTimeToLive(){return this._remainingTimeToLive;}get remainingGrowTime(){return this._remainingGrowTime;}get skillTresholds(){return this._skillThresholds;}get publiclyRideable(){return this._publiclyRideable;}get unknownRarity(){return this._unknownRarity;}get publiclyBreedable(){return this._publiclyBreedable;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/pet/PetStatusUpdateParser.ts\nclass PetStatusUpdateParser{constructor(){this._roomIndex=void 0;this._petId=void 0;this._canBreed=void 0;this._canHarvest=void 0;this._canRevive=void 0;this._hasBreedingPermission=void 0;}flush(){this._roomIndex=-1;this._petId=-1;this._canBreed=false;this._canHarvest=false;this._canRevive=false;this._hasBreedingPermission=false;return true;}parse(wrapper){if(!wrapper)return false;this._roomIndex=wrapper.readInt();this._petId=wrapper.readInt();this._canBreed=wrapper.readBoolean();this._canHarvest=wrapper.readBoolean();this._canRevive=wrapper.readBoolean();this._hasBreedingPermission=wrapper.readBoolean();return true;}get roomIndex(){return this._roomIndex;}get petId(){return this._petId;}get canBreed(){return this._canBreed;}get canHarvest(){return this._canHarvest;}get canRevive(){return this._canRevive;}get hasBreedingPermission(){return this._hasBreedingPermission;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/pet/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/session/YouArePlayingGameParser.ts\nclass YouArePlayingGameParser{constructor(){this._isPlaying=void 0;}flush(){this._isPlaying=false;return true;}parse(wrapper){if(!wrapper)return false;this._isPlaying=wrapper.readBoolean();return true;}get isPlaying(){return this._isPlaying;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/session/YouAreSpectatorMessageParser.ts\nclass YouAreSpectatorMessageParser{flush(){return true;}parse(wrapper){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/session/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/chat/FloodControlParser.ts\nclass FloodControlParser{constructor(){this._seconds=void 0;}flush(){this._seconds=0;return true;}parse(wrapper){if(!wrapper)return false;this._seconds=wrapper.readInt();return true;}get seconds(){return this._seconds;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/chat/RemainingMuteParser.ts\nclass RemainingMuteParser{constructor(){this._seconds=void 0;}flush(){this._seconds=0;return true;}parse(wrapper){if(!wrapper)return false;this._seconds=wrapper.readInt();return true;}get seconds(){return this._seconds;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/chat/RoomUnitChatParser.ts\nclass RoomUnitChatParser{constructor(){this._roomIndex=void 0;this._message=void 0;this._gesture=void 0;this._bubble=void 0;this._urls=void 0;this._messageLength=void 0;}flush(){this._roomIndex=null;this._message=null;this._gesture=0;this._bubble=0;this._urls=[];this._messageLength=0;return true;}parse(wrapper){if(!wrapper)return false;this._roomIndex=wrapper.readInt();this._message=wrapper.readString();this._gesture=wrapper.readInt();this._bubble=wrapper.readInt();this.parseUrls(wrapper);this._messageLength=wrapper.readInt();return true;}parseUrls(wrapper){if(!wrapper)return false;this._urls=[];let totalUrls=wrapper.readInt();while(totalUrls>0){this._urls.push(wrapper.readString());totalUrls--;}return true;}get roomIndex(){return this._roomIndex;}get message(){return this._message;}get gesture(){return this._gesture;}get bubble(){return this._bubble;}get urls(){return this._urls;}get messageLength(){return this._messageLength;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/chat/RoomUnitTypingParser.ts\nclass RoomUnitTypingParser{constructor(){this._unitId=void 0;this._isTyping=void 0;}flush(){this._unitId=null;this._isTyping=false;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._isTyping=wrapper.readInt()===1?true:false;return true;}get unitId(){return this._unitId;}get isTyping(){return this._isTyping;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/chat/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitDanceParser.ts\nclass RoomUnitDanceParser{constructor(){this._unitId=void 0;this._danceId=void 0;}flush(){this._unitId=null;this._danceId=0;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._danceId=wrapper.readInt();return true;}get unitId(){return this._unitId;}get danceId(){return this._danceId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitEffectParser.ts\nclass RoomUnitEffectParser{constructor(){this._unitId=void 0;this._effectId=void 0;this._delay=void 0;}flush(){this._unitId=null;this._effectId=0;this._delay=0;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._effectId=wrapper.readInt();this._delay=wrapper.readInt();return true;}get unitId(){return this._unitId;}get effectId(){return this._effectId;}get delay(){return this._delay;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitExpressionParser.ts\nclass RoomUnitExpressionParser{constructor(){this._unitId=void 0;this._expression=void 0;}flush(){this._unitId=null;this._expression=0;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._expression=wrapper.readInt();return true;}get unitId(){return this._unitId;}get expression(){return this._expression;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitHandItemParser.ts\nclass RoomUnitHandItemParser{constructor(){this._unitId=void 0;this._handId=void 0;}flush(){this._unitId=null;this._handId=0;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._handId=wrapper.readInt();return true;}get unitId(){return this._unitId;}get handId(){return this._handId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitHandItemReceivedParser.ts\nclass RoomUnitHandItemReceivedParser{constructor(){this._giverUserId=void 0;this._handItemType=void 0;}flush(){this._giverUserId=-1;this._handItemType=-1;return true;}parse(wrapper){if(!wrapper)return false;this._giverUserId=wrapper.readInt();this._handItemType=wrapper.readInt();return true;}get giverUserId(){return this._giverUserId;}get handItemType(){return this._handItemType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitIdleParser.ts\nclass RoomUnitIdleParser{constructor(){this._unitId=void 0;this._isIdle=void 0;}flush(){this._unitId=null;this._isIdle=false;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._isIdle=wrapper.readBoolean();return true;}get unitId(){return this._unitId;}get isIdle(){return this._isIdle;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitInfoParser.ts\nclass RoomUnitInfoParser{constructor(){this._unitId=void 0;this._figure=void 0;this._gender=void 0;this._motto=void 0;this._achievementScore=void 0;}flush(){this._unitId=null;this._figure=null;this._gender='M';this._motto=null;this._achievementScore=0;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._figure=wrapper.readString();this._gender=wrapper.readString().toLocaleUpperCase();this._motto=wrapper.readString();this._achievementScore=wrapper.readInt();return true;}get unitId(){return this._unitId;}get figure(){return this._figure;}get gender(){return this._gender;}get motto(){return this._motto;}get achievementScore(){return this._achievementScore;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitNumberParser.ts\nclass RoomUnitNumberParser{constructor(){this._unitId=void 0;this._value=void 0;}flush(){this._unitId=null;this._value=0;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=wrapper.readInt();this._value=wrapper.readInt();return true;}get unitId(){return this._unitId;}get value(){return this._value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectType.ts\nclass RoomObjectType{}RoomObjectType.USER=1;RoomObjectType.PET=2;RoomObjectType.BOT=3;RoomObjectType.RENTABLE_BOT=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/UserMessageData.ts\nclass UserMessageData{constructor(k){this._roomIndex=0;this._x=0;this._y=0;this._z=0;this._dir=0;this._name='';this._userType=0;this._sex='';this._figure='';this._custom='';this._activityPoints=0;this._webID=0;this._groupID=0;this._groupStatus=0;this._groupName='';this._subType='';this._ownerId=0;this._ownerName='';this._rarityLevel=0;this._hasSaddle=false;this._isRiding=false;this._canBreed=false;this._canHarvest=false;this._canRevive=false;this._hasBreedingPermission=false;this._petLevel=0;this._petPosture='';this._botSkills=[];this._isModerator=false;this._isReadOnly=false;this._roomIndex=k;}setReadOnly(){this._isReadOnly=true;}get roomIndex(){return this._roomIndex;}get x(){return this._x;}set x(k){if(!this._isReadOnly){this._x=k;}}get y(){return this._y;}set y(k){if(!this._isReadOnly){this._y=k;}}get z(){return this._z;}set z(k){if(!this._isReadOnly){this._z=k;}}get dir(){return this._dir;}set dir(k){if(!this._isReadOnly){this._dir=k;}}get name(){return this._name;}set name(k){if(!this._isReadOnly){this._name=k;}}get userType(){return this._userType;}set userType(k){if(!this._isReadOnly){this._userType=k;}}get sex(){return this._sex;}set sex(k){if(!this._isReadOnly){this._sex=k;}}get figure(){return this._figure;}set figure(k){if(!this._isReadOnly){this._figure=k;}}get custom(){return this._custom;}set custom(k){if(!this._isReadOnly){this._custom=k;}}get activityPoints(){return this._activityPoints;}set activityPoints(k){if(!this._isReadOnly){this._activityPoints=k;}}get webID(){return this._webID;}set webID(k){if(!this._isReadOnly){this._webID=k;}}get groupID(){return this._groupID;}set groupID(groupId){if(!this._isReadOnly){this._groupID=groupId;}}get groupName(){return this._groupName;}set groupName(k){if(!this._isReadOnly){this._groupName=k;}}get groupStatus(){return this._groupStatus;}set groupStatus(k){if(!this._isReadOnly){this._groupStatus=k;}}get subType(){return this._subType;}set subType(k){if(!this._isReadOnly){this._subType=k;}}get ownerId(){return this._ownerId;}set ownerId(k){if(!this._isReadOnly){this._ownerId=k;}}get ownerName(){return this._ownerName;}set ownerName(k){if(!this._isReadOnly){this._ownerName=k;}}get rarityLevel(){return this._rarityLevel;}set rarityLevel(k){if(!this._isReadOnly){this._rarityLevel=k;}}get hasSaddle(){return this._hasSaddle;}set hasSaddle(k){if(!this._isReadOnly){this._hasSaddle=k;}}get isRiding(){return this._isRiding;}set isRiding(k){if(!this._isReadOnly){this._isRiding=k;}}get canBreed(){return this._canBreed;}set canBreed(k){if(!this._isReadOnly){this._canBreed=k;}}get canHarvest(){return this._canHarvest;}set canHarvest(k){if(!this._isReadOnly){this._canHarvest=k;}}get canRevive(){return this._canRevive;}set canRevive(k){if(!this._isReadOnly){this._canRevive=k;}}get hasBreedingPermission(){return this._hasBreedingPermission;}set hasBreedingPermission(k){if(!this._isReadOnly){this._hasBreedingPermission=k;}}get petLevel(){return this._petLevel;}set petLevel(k){if(!this._isReadOnly){this._petLevel=k;}}get petPosture(){return this._petPosture;}set petPosture(k){if(!this._isReadOnly){this._petPosture=k;}}get botSkills(){return this._botSkills;}set botSkills(k){this._botSkills=k;}get isModerator(){return this._isModerator;}set isModerator(k){if(!this._isReadOnly){this._isModerator=k;}}}UserMessageData.M='M';UserMessageData.F='F';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitParser.ts\nclass RoomUnitParser_RoomUnitParser{constructor(){this._users=void 0;}flush(){this._users=[];return true;}parse(wrapper){if(!wrapper)return false;this._users=[];const totalUsers=wrapper.readInt();let i=0;while(i<totalUsers){const id=wrapper.readInt();const username=wrapper.readString();const custom=wrapper.readString();let figure=wrapper.readString();const roomIndex=wrapper.readInt();const x=wrapper.readInt();const y=wrapper.readInt();const z=parseFloat(wrapper.readString());const direction=wrapper.readInt();const type=wrapper.readInt();const user=new UserMessageData(roomIndex);user.dir=direction;user.name=username;user.custom=custom;user.x=x;user.y=y;user.z=z;this._users.push(user);if(type===1){user.webID=id;user.userType=RoomObjectType.USER;user.sex=this.resolveSex(wrapper.readString());user.groupID=wrapper.readInt();user.groupStatus=wrapper.readInt();user.groupName=wrapper.readString();const swimFigure=wrapper.readString();if(swimFigure!=='')figure=this.convertSwimFigure(swimFigure,figure,user.sex);user.figure=figure;user.activityPoints=wrapper.readInt();user.isModerator=wrapper.readBoolean();}else if(type===2){user.userType=RoomObjectType.PET;user.figure=figure;user.webID=id;user.subType=wrapper.readInt().toString();user.ownerId=wrapper.readInt();user.ownerName=wrapper.readString();user.rarityLevel=wrapper.readInt();user.hasSaddle=wrapper.readBoolean();user.isRiding=wrapper.readBoolean();user.canBreed=wrapper.readBoolean();user.canHarvest=wrapper.readBoolean();user.canRevive=wrapper.readBoolean();user.hasBreedingPermission=wrapper.readBoolean();user.petLevel=wrapper.readInt();user.petPosture=wrapper.readString();}else if(type===3){user.userType=RoomObjectType.BOT;user.webID=roomIndex*-1;if(figure.indexOf('/')===-1)user.figure=figure;else user.figure='hr-100-.hd-180-1.ch-876-66.lg-270-94.sh-300-64';user.sex=UserMessageData.M;}else if(type===4){user.userType=RoomObjectType.RENTABLE_BOT;user.webID=id;user.sex=this.resolveSex(wrapper.readString());user.figure=figure;user.ownerId=wrapper.readInt();user.ownerName=wrapper.readString();const totalSkills=wrapper.readInt();if(totalSkills){const skills=[];let j=0;while(j<totalSkills){skills.push(wrapper.readShort());j++;}user.botSkills=skills;}}i++;}return true;}resolveSex(sex){if(sex.substr(0,1).toLowerCase()==='f')return UserMessageData.F;return UserMessageData.M;}convertSwimFigure(k,_arg_2,_arg_3){const _local_4=_arg_2.split('.');let _local_5=1;let _local_6=1;let _local_7=1;const _local_8=10000;let i=0;while(i<_local_4.length){const _local_13=_local_4[i];const _local_14=_local_13.split('-');if(_local_14.length>2){const _local_15=_local_14[0];if(_local_15==='hd')_local_5=parseInt(_local_14[2]);}i++;}const _local_10=['238,238,238','250,56,49','253,146,160','42,199,210','53,51,44','239,255,146','198,255,152','255,146,90','157,89,126','182,243,255','109,255,51','51,120,201','255,182,49','223,161,233','249,251,50','202,175,143','197,198,197','71,98,61','138,131,97','255,140,51','84,198,39','30,108,153','152,79,136','119,200,255','255,192,142','60,75,135','124,44,71','215,255,227','143,63,28','255,99,147','31,155,121','253,255,51'];const _local_11=k.split('=');if(_local_11.length>1){const _local_16=_local_11[1].split('/');const _local_17=_local_16[0];const _local_18=_local_16[1];if(_arg_3==='F')_local_7=10010;else _local_7=10011;const _local_19=_local_10.indexOf(_local_18);_local_6=_local_8+_local_19+1;}return _arg_2+('.bds-10001-'+_local_5+'.ss-'+_local_7+'-'+_local_6);}get users(){return this._users;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitRemoveParser.ts\nclass RoomUnitRemoveParser{constructor(){this._unitId=void 0;}flush(){this._unitId=null;return true;}parse(wrapper){if(!wrapper)return false;this._unitId=parseInt(wrapper.readString());return true;}get unitId(){return this._unitId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitStatusAction.ts\nclass RoomUnitStatusAction{constructor(action,value){this._action=void 0;this._value=void 0;this._action=action;this._value=value;}get action(){return this._action;}get value(){return this._value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitStatusMessage.ts\nclass RoomUnitStatusMessage{constructor(id,x,y,z,height,headDirection,direction){let targetX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let targetY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let targetZ=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let didMove=arguments.length>10?arguments[10]:undefined;let canStandUp=arguments.length>11?arguments[11]:undefined;let actions=arguments.length>12?arguments[12]:undefined;this._id=void 0;this._x=void 0;this._y=void 0;this._z=void 0;this._height=void 0;this._headDirection=void 0;this._direction=void 0;this._targetX=void 0;this._targetY=void 0;this._targetZ=void 0;this._didMove=void 0;this._canStandUp=void 0;this._actions=void 0;this._id=id;this._x=x;this._y=y;this._z=z;this._height=height;this._headDirection=headDirection;this._direction=direction;this._targetX=targetX;this._targetY=targetY;this._targetZ=targetZ;this._didMove=didMove;this._canStandUp=canStandUp;this._actions=actions||[];}get id(){return this._id;}get x(){return this._x;}get y(){return this._y;}get z(){return this._z;}get height(){return this._height;}get headDirection(){return this._headDirection;}get direction(){return this._direction;}get targetX(){return this._targetX;}get targetY(){return this._targetY;}get targetZ(){return this._targetZ;}get didMove(){return this._didMove;}get canStandUp(){return this._canStandUp;}get actions(){return this._actions;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/RoomUnitStatusParser.ts\nclass RoomUnitStatusParser_RoomUnitStatusParser{constructor(){this._statuses=void 0;}flush(){this._statuses=[];return true;}parse(wrapper){if(!wrapper)return false;let totalUnits=wrapper.readInt();while(totalUnits>0){const status=this.parseStatus(wrapper);if(!status){totalUnits--;continue;}this._statuses.push(status);totalUnits--;}return true;}parseStatus(wrapper){if(!wrapper)return null;const unitId=wrapper.readInt();const x=wrapper.readInt();const y=wrapper.readInt();const z=parseFloat(wrapper.readString());const headDirection=wrapper.readInt()%8*45;const direction=wrapper.readInt()%8*45;const actions=wrapper.readString();let targetX=0;let targetY=0;let targetZ=0;let height=0;let canStandUp=false;let didMove=false;const isSlide=false;if(actions){const actionParts=actions.split('/');const statusActions=[];for(const action of actionParts){const parts=action.split(' ');if(parts[0]==='')continue;if(parts.length>=2){switch(parts[0]){case'mv':{const values=parts[1].split(',');if(values.length>=3){targetX=parseInt(values[0]);targetY=parseInt(values[1]);targetZ=parseFloat(values[2]);didMove=true;}break;}case'sit':{const sitHeight=parseFloat(parts[1]);if(parts.length>=3)canStandUp=parts[2]==='1';height=sitHeight;break;}case'lay':{const layHeight=parseFloat(parts[1]);height=Math.abs(layHeight);break;}}statusActions.push(new RoomUnitStatusAction(parts[0],parts[1]));}}// const totalActions = actionParts.length;\n// if(totalActions)\n// {\n//     for(let i = 0; i < totalActions; i++)\n//     {\n//         const action = actionParts[i];\n//         if(!action) continue;\n//         console.log(action);\n//         const [ key, value, extra ] = action.split(' ');\n//         if(!key || !value) continue;\n//         switch(key)\n//         {\n//             case 'mv':\n//                 [ targetX, targetY, targetZ ] = value.split(',').map(a => parseFloat(a));\n//                 didMove = true;\n//                 break;\n//             case 'sit': {\n//                 const sitHeight = parseFloat(value);\n//                 if(extra !== undefined) canStandUp = value === '1';\n//                 height = sitHeight;\n//                 break;\n//             }\n//             case 'lay': {\n//                 const layHeight = parseFloat(value);\n//                 height = layHeight;\n//                 break;\n//             }\n//         }\n//         statusActions.push(new RoomUnitStatusAction(key, value));\n//     }\n// }\nthis._statuses.push(new RoomUnitStatusMessage(unitId,x,y,z,height,headDirection,direction,targetX,targetY,targetZ,didMove,canStandUp,statusActions));}}get statuses(){return this._statuses;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/unit/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/RoomMutedParser.ts\nclass RoomMutedParser{constructor(){this._isMuted=void 0;}flush(){return true;}parse(wrapper){if(!wrapper)return false;this._isMuted=wrapper.readBoolean();return true;}get isMuted(){return this._isMuted;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/Triggerable.ts\nclass Triggerable{constructor(wrapper){this._stuffTypeSelectionEnabled=void 0;this._furniLimit=void 0;this._stuffIds=void 0;this._id=void 0;this._stringParam=void 0;this._intParams=void 0;this._stuffTypeId=void 0;this._stuffTypeSelectionCode=void 0;this._stuffIds=[];this._intParams=[];this._stuffTypeSelectionEnabled=wrapper.readBoolean();this._furniLimit=wrapper.readInt();let count=wrapper.readInt();while(count>0){this._stuffIds.push(wrapper.readInt());count--;}this._stuffTypeId=wrapper.readInt();this._id=wrapper.readInt();this._stringParam=wrapper.readString();count=wrapper.readInt();while(count>0){this._intParams.push(wrapper.readInt());count--;}this._stuffTypeSelectionCode=wrapper.readInt();}getBoolean(index){return this._intParams[index]===1;}get stuffTypeSelectionEnabled(){return this._stuffTypeSelectionEnabled;}get stuffTypeSelectionCode(){return this._stuffTypeSelectionCode;}set stuffTypeSelectionCode(k){this._stuffTypeSelectionCode=k;}get maximumItemSelectionCount(){return this._furniLimit;}get selectedItems(){return this._stuffIds;}get id(){return this._id;}get stringData(){return this._stringParam;}get intData(){return this._intParams;}get code(){return 0;}get spriteId(){return this._stuffTypeId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredActionDefinition.ts\nclass WiredActionDefinition_WiredActionDefinition extends Triggerable{constructor(wrapper){super(wrapper);this._type=void 0;this._delayInPulses=void 0;this._conflictingTriggers=void 0;this._conflictingTriggers=[];this._type=wrapper.readInt();this._delayInPulses=wrapper.readInt();let count=wrapper.readInt();while(count>0){this._conflictingTriggers.push(wrapper.readInt());count--;}}get type(){return this._type;}get code(){return this._type;}get delayInPulses(){return this._delayInPulses;}get conflictingTriggers(){return this._conflictingTriggers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/WiredFurniActionParser.ts\nclass WiredFurniActionParser_WiredFurniActionParser{constructor(){this._definition=void 0;}flush(){this._definition=null;return true;}parse(wrapper){if(!wrapper)return false;this._definition=new WiredActionDefinition_WiredActionDefinition(wrapper);return true;}get definition(){return this._definition;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/ConditionDefinition.ts\nclass ConditionDefinition_ConditionDefinition extends Triggerable{constructor(wrapper){super(wrapper);this._type=void 0;this._type=wrapper.readInt();}get type(){return this._type;}get code(){return this._type;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/WiredFurniConditionParser.ts\nclass WiredFurniConditionParser_WiredFurniConditionParser{constructor(){this._definition=void 0;}flush(){this._definition=null;return true;}parse(wrapper){if(!wrapper)return false;this._definition=new ConditionDefinition_ConditionDefinition(wrapper);return true;}get definition(){return this._definition;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/TriggerDefinition.ts\nclass TriggerDefinition_TriggerDefinition extends Triggerable{constructor(wrapper){super(wrapper);this._triggerConf=void 0;this._conflictingActions=void 0;this._conflictingActions=[];this._triggerConf=wrapper.readInt();let count=wrapper.readInt();while(count>0){this._conflictingActions.push(wrapper.readInt());count--;}}get code(){return this._triggerConf;}get conflictingActions(){return this._conflictingActions;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/WiredFurniTriggerParser.ts\nclass WiredFurniTriggerParser_WiredFurniTriggerParser{constructor(){this._definition=void 0;}flush(){this._definition=null;return true;}parse(wrapper){if(!wrapper)return false;this._definition=new TriggerDefinition_TriggerDefinition(wrapper);return true;}get definition(){return this._definition;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/WiredOpenParser.ts\nclass WiredOpenParser{constructor(){this._stuffId=void 0;}flush(){this._stuffId=0;return true;}parse(wrapper){if(!wrapper)return false;this._stuffId=wrapper.readInt();return true;}get stuffId(){return this._stuffId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/WiredRewardResultMessageParser.ts\nclass WiredRewardResultMessageParser{constructor(){this._reason=void 0;}flush(){this._reason=0;return true;}parse(wrapper){if(!wrapper)return false;this._reason=wrapper.readInt();return true;}get reason(){return this._reason;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/WiredSaveSuccessParser.ts\nclass WiredSaveSuccessParser{flush(){return true;}parse(wrapper){if(!wrapper)return false;return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/WiredValidationErrorParser.ts\nclass WiredValidationErrorParser{constructor(){this._info=void 0;}flush(){this._info=null;return true;}parse(wrapper){if(!wrapper)return false;this._info=wrapper.readString();return true;}get info(){return this._info;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomevents/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/BannedUserData.ts\nclass BannedUserData{constructor(wrapper){this._userId=void 0;this._userName=void 0;this._userId=wrapper.readInt();this._userName=wrapper.readString();}get userId(){return this._userId;}get userName(){return this._userName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomsettings/BannedUsersFromRoomParser.ts\nclass BannedUsersFromRoomParser_BannedUsersFromRoomParser{constructor(){this._roomId=void 0;this._bannedUsers=void 0;}flush(){this._roomId=0;this._bannedUsers=[];return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();let totalBans=wrapper.readInt();while(totalBans>0){this._bannedUsers.push(new BannedUserData(wrapper));totalBans--;}return true;}get roomId(){return this._roomId;}get bannedUsers(){return this._bannedUsers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/FlatControllerData.ts\nclass FlatControllerData{constructor(wrapper){this._userId=void 0;this._userName=void 0;this._selected=void 0;this._userId=wrapper.readInt();this._userName=wrapper.readString();}get userId(){return this._userId;}get userName(){return this._userName;}get selected(){return this._selected;}set selected(selected){this._selected=selected;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomsettings/FlatControllerAddedParser.ts\nclass FlatControllerAddedParser_FlatControllerAddedParser{constructor(){this._roomId=void 0;this._data=void 0;}flush(){this._roomId=0;this._data=null;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._data=new FlatControllerData(wrapper);return true;}get roomId(){return this._roomId;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomsettings/FlatControllerRemovedParser.ts\nclass FlatControllerRemovedParser{constructor(){this._roomId=void 0;this._userId=void 0;}flush(){this._roomId=0;this._userId=0;return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();this._userId=wrapper.readInt();return true;}get roomId(){return this._roomId;}get userId(){return this._userId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomsettings/FlatControllersParser.ts\nclass FlatControllersParser{constructor(){this._roomId=void 0;this._users=void 0;}flush(){this._roomId=0;this._users=new Map();return true;}parse(wrapper){if(!wrapper)return false;this._roomId=wrapper.readInt();let usersCount=wrapper.readInt();while(usersCount>0){const id=wrapper.readInt();const name=wrapper.readString();this._users.set(id,name);usersCount--;}return true;}get roomId(){return this._roomId;}get users(){return this._users;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/roomsettings/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/security/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/JukeboxPlayListFullMessageParser.ts\nclass JukeboxPlayListFullMessageParser{flush(){return true;}parse(wrapper){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/JukeboxSongDisksMessageParser.ts\nclass JukeboxSongDisksMessageParser{constructor(){this._songDisks=new Map();this._maxLength=void 0;}flush(){this._songDisks.clear();this._maxLength=0;return true;}parse(wrapper){this._maxLength=wrapper.readInt();const count=wrapper.readInt();for(let i=0;i<count;i++){this._songDisks.set(wrapper.readInt(),wrapper.readInt());}return true;}get songDisks(){return this._songDisks;}get maxLength(){return this._maxLength;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/NowPlayingMessageParser.ts\nclass NowPlayingMessageParser{constructor(){this._currentSongId=void 0;this._currentPosition=void 0;this._nextSongId=void 0;this._nextPosition=void 0;this._syncCount=void 0;}flush(){this._currentSongId=-1;this._currentPosition=-1;this._nextSongId=-1;this._nextPosition=-1;this._syncCount=-1;return true;}parse(wrapper){this._currentSongId=wrapper.readInt();this._currentPosition=wrapper.readInt();this._nextSongId=wrapper.readInt();this._nextPosition=wrapper.readInt();this._syncCount=wrapper.readInt();return true;}get currentSongId(){return this._currentSongId;}get currentPosition(){return this._currentPosition;}get nextSongId(){return this._nextSongId;}get nextPosition(){return this._nextPosition;}get syncCount(){return this._syncCount;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/OfficialSongIdMessageParser.ts\nclass OfficialSongIdMessageParser{constructor(){this._songId=void 0;this._officialSongId=void 0;}flush(){this._songId=0;this._officialSongId='';return true;}parse(wrapper){this._officialSongId=wrapper.readString();this._songId=wrapper.readInt();return true;}get songId(){return this._songId;}get officialSongId(){return this._officialSongId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/JukeboxPlayListFullMessageEvent.ts\nclass JukeboxPlayListFullMessageEvent_JukeboxPlayListFullMessageEvent extends MessageEvent{constructor(callBack){super(callBack,JukeboxPlayListFullMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/JukeboxSongDisksMessageEvent.ts\nclass JukeboxSongDisksMessageEvent_JukeboxSongDisksMessageEvent extends MessageEvent{constructor(callBack){super(callBack,JukeboxSongDisksMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/NowPlayingMessageEvent.ts\nclass NowPlayingMessageEvent_NowPlayingMessageEvent extends MessageEvent{constructor(callBack){super(callBack,NowPlayingMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/OfficialSongIdMessageEvent.ts\nclass OfficialSongIdMessageEvent_OfficialSongIdMessageEvent extends MessageEvent{constructor(callBack){super(callBack,OfficialSongIdMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/PlayListEntry.ts\nclass PlayListEntry{constructor(id,length,name,creator){this._id=void 0;this._length=void 0;this._name=void 0;this._creator=void 0;this._startPlayHead=0;this._id=id;this._length=length;this._name=name;this._creator=creator;}get id(){return this._id;}get length(){return this._length;}get name(){return this._name;}get creator(){return this._creator;}get startPlayHeadPos(){return this._startPlayHead;}set startPlayHeadPos(k){this._startPlayHead=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/PlayListMessageEvent.ts\nclass PlayListMessageEvent_PlayListMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PlayListMessageParser_PlayListMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/PlayListSongAddedMessageEvent.ts\nclass PlayListSongAddedMessageEvent_PlayListSongAddedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PlayListSongAddedMessageParser_PlayListSongAddedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/SongInfoEntry.ts\nclass SongInfoEntry_SongInfoEntry extends PlayListEntry{constructor(id,length,name,creator,data){super(id,length,name,creator);this._data='';this._data=data;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/TraxSongInfoMessageEvent.ts\nclass TraxSongInfoMessageEvent_TraxSongInfoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,TraxSongInfoMessageParser_TraxSongInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/UserSongDisksInventoryMessageEvent.ts\nclass UserSongDisksInventoryMessageEvent_UserSongDisksInventoryMessageEvent extends MessageEvent{constructor(callBack){super(callBack,UserSongDisksInventoryMessageParser_UserSongDisksInventoryMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/sound/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/PlayListMessageParser.ts\nclass PlayListMessageParser_PlayListMessageParser{constructor(){this._synchronizationCount=void 0;this._playlist=void 0;}flush(){this._synchronizationCount=-1;this._playlist=[];return true;}parse(wrapper){this._synchronizationCount=wrapper.readInt();const count=wrapper.readInt();for(let i=0;i<count;i++){this._playlist.push(new PlayListEntry(wrapper.readInt(),wrapper.readInt(),wrapper.readString(),wrapper.readString()));}return true;}get synchronizationCount(){return this._synchronizationCount;}get playList(){return this._playlist;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/PlayListSongAddedMessageParser.ts\nclass PlayListSongAddedMessageParser_PlayListSongAddedMessageParser{constructor(){this._entry=void 0;}flush(){this._entry=null;return true;}parse(wrapper){this._entry=new PlayListEntry(wrapper.readInt(),wrapper.readInt(),wrapper.readString(),wrapper.readString());return true;}get entry(){return this._entry;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/TraxSongInfoMessageParser.ts\nclass TraxSongInfoMessageParser_TraxSongInfoMessageParser{constructor(){this._songs=void 0;}flush(){this._songs=[];return true;}parse(wrapper){const count=wrapper.readInt();for(let i=0;i<count;i++){const id=wrapper.readInt();const _local_3=wrapper.readString();const name=wrapper.readString();const data=wrapper.readString();const length=wrapper.readInt();const creator=wrapper.readString();const _local_10=new SongInfoEntry_SongInfoEntry(id,length,name,creator,data);this._songs.push(_local_10);}return true;}get songs(){return this._songs;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/UserSongDisksInventoryMessageParser.ts\nclass UserSongDisksInventoryMessageParser_UserSongDisksInventoryMessageParser{constructor(){this._songDiskInventory=new AdvancedMap();}flush(){this._songDiskInventory.reset();return true;}parse(wrapper){const count=wrapper.readInt();for(let i=0;i<count;i++){this._songDiskInventory.add(wrapper.readInt(),wrapper.readInt());}return true;}getDiskId(k){if(k>=0&&k<this._songDiskInventory.length){return this._songDiskInventory.getKey(k);}return-1;}getSongId(k){if(k>=0&&k<this._songDiskInventory.length){return this._songDiskInventory.getWithIndex(k);}return-1;}get songDiskCount(){return this._songDiskInventory.length;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/sound/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/talent/TalentTrackLevel.ts\nclass TalentTrackLevel{constructor(level,state,achievements,perks,items){this._level=void 0;this._state=void 0;this._tasks=void 0;this._rewardPerks=void 0;this._rewardProducts=void 0;this._level=level;this._state=state;this._tasks=achievements;this._rewardPerks=perks;this._rewardProducts=items;}get level(){return this._level;}get state(){return this._state;}get tasks(){return this._tasks;}get perks(){return this._rewardPerks;}get items(){return this._rewardProducts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/talent/TalentTrackRewardProduct.ts\nclass TalentTrackRewardProduct{constructor(name,unknownInt){this._productCode=void 0;this._vipDays=void 0;this._productCode=name;this._vipDays=unknownInt;}get productCode(){return this._productCode;}get vipDays(){return this._vipDays;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/talent/TalentTrackTask.ts\nclass TalentTrackTask{constructor(id,requiredLevel,badgeCode,state,currentScore,totalScore){this._id=void 0;this._requiredLevel=void 0;this._badgeCode=void 0;this._state=void 0;this._currentScore=void 0;this._totalScore=void 0;this._id=id;this._requiredLevel=requiredLevel;this._badgeCode=badgeCode;this._state=state;this._currentScore=currentScore;this._totalScore=totalScore;}get id(){return this._id;}get requiredLevel(){return this._requiredLevel;}get badgeCode(){return this._badgeCode;}get state(){return this._state;}get currentScore(){return this._currentScore;}get totalScore(){return this._totalScore;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/talent/TalentTrackParser.ts\nclass TalentTrackParser_TalentTrackParser{constructor(){this._type=void 0;this._levels=void 0;}flush(){this._type=null;this._levels=null;return true;}parse(wrapper){if(!wrapper)return false;this._type=wrapper.readString();this._levels=[];const levelsCount=wrapper.readInt();for(let i=0;i<levelsCount;i++){const levelId=wrapper.readInt();const levelState=wrapper.readInt();const levelAchievements=[];const achievementsCount=wrapper.readInt();for(let j=0;j<achievementsCount;j++){const id=wrapper.readInt();const index=wrapper.readInt();const code=wrapper.readString();const state=wrapper.readInt();const progress=wrapper.readInt();const achievementProgress=wrapper.readInt();levelAchievements.push(new TalentTrackTask(id,index,code,state,progress,achievementProgress));}const levelPerks=[];const perksCount=wrapper.readInt();for(let j=0;j<perksCount;j++)levelPerks.push(wrapper.readString());const levelItems=[];const itemsCount=wrapper.readInt();for(let j=0;j<itemsCount;j++){const name=wrapper.readString();const unknownInt=wrapper.readInt();levelItems.push(new TalentTrackRewardProduct(name,unknownInt));}this._levels.push(new TalentTrackLevel(levelId,levelState,levelAchievements,levelPerks,levelItems));}return true;}get type(){return this._type;}get levels(){return this._levels;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/talent/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/advertisement/InterstitialMessageEvent.ts\nclass InterstitialMessageEvent_InterstitialMessageEvent extends MessageEvent{constructor(callBack){super(callBack,InterstitialMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/advertisement/RoomAdErrorEvent.ts\nclass RoomAdErrorEvent_RoomAdErrorEvent extends MessageEvent{constructor(callBack){super(callBack,RoomAdErrorMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/advertisement/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/availability/AvailabilityStatusMessageEvent.ts\nclass AvailabilityStatusMessageEvent_AvailabilityStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,AvailabilityStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/availability/AvailabilityTimeMessageEvent.ts\nclass AvailabilityTimeMessageEvent_AvailabilityTimeMessageEvent extends MessageEvent{constructor(callBack){super(callBack,AvailabilityTimeMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/availability/HotelClosedAndOpensEvent.ts\nclass HotelClosedAndOpensEvent_HotelClosedAndOpensEvent extends MessageEvent{constructor(callBack){super(callBack,HotelClosedAndOpensMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/availability/HotelClosesAndWillOpenAtEvent.ts\nclass HotelClosesAndWillOpenAtEvent_HotelClosesAndWillOpenAtEvent extends MessageEvent{constructor(callBack){super(callBack,HotelClosesAndWillOpenAtMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/availability/HotelWillCloseInMinutesEvent.ts\nclass HotelWillCloseInMinutesEvent_HotelWillCloseInMinutesEvent extends MessageEvent{constructor(callBack){super(callBack,HotelWillCloseInMinutesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/availability/MaintenanceStatusMessageEvent.ts\nclass MaintenanceStatusMessageEvent_MaintenanceStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,MaintenanceStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/availability/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/avatar/ChangeUserNameResultMessageEvent.ts\nclass ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ChangeUserNameResultMessageParser);}getParser(){return this.parser;}}ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.NAME_OK=0;ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.ERROR_NAME_REQUIRED=1;ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.ERROR_NAME_TOO_SHORT=2;ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.ERROR_NAME_TOO_LONG=3;ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.ERROR_NAME_NOT_VALID=4;ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.ERROR_NAME_IN_USE=5;ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.ERROR_NAME_CHANGE_NOT_ALLOWED=6;ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.ERROR_MERGE_HOTEL_DOWN=7;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/avatar/CheckUserNameResultMessageEvent.ts\nclass CheckUserNameResultMessageEvent_CheckUserNameResultMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CheckUserNameResultMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/avatar/FigureUpdateEvent.ts\nclass FigureUpdateEvent_FigureUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,FigureUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/avatar/OutfitData.ts\nclass OutfitData{constructor(wrapper){this._slotId=void 0;this._figureString=void 0;this._gender=void 0;this._slotId=wrapper.readInt();this._figureString=wrapper.readString();this._gender=wrapper.readString();}get slotId(){return this._slotId;}get figureString(){return this._figureString;}get gender(){return this._gender;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/avatar/WardrobeMessageEvent.ts\nclass WardrobeMessageEvent_WardrobeMessageEvent extends MessageEvent{constructor(callBack){super(callBack,WardrobeMessageParser_WardrobeMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/avatar/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/bots/BotAddedToInventoryEvent.ts\nclass BotAddedToInventoryEvent_BotAddedToInventoryEvent extends MessageEvent{constructor(callBack){super(callBack,BotAddedToInventoryParser_BotAddedToInventoryParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/bots/BotInventoryMessageEvent.ts\nclass BotInventoryMessageEvent_BotInventoryMessageEvent extends MessageEvent{constructor(callBack){super(callBack,BotInventoryMessageParser_BotInventoryMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/bots/BotReceivedMessageEvent.ts\nclass BotReceivedMessageEvent_BotReceivedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,BotReceivedMessageParser_BotReceivedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/bots/BotRemovedFromInventoryEvent.ts\nclass BotRemovedFromInventoryEvent_BotRemovedFromInventoryEvent extends MessageEvent{constructor(callBack){super(callBack,BotRemovedFromInventoryParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/bots/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/camera/CameraPublishStatusMessageEvent.ts\nclass CameraPublishStatusMessageEvent_CameraPublishStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CameraPublishStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/camera/CameraPurchaseOKMessageEvent.ts\nclass CameraPurchaseOKMessageEvent_CameraPurchaseOKMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CameraPurchaseOKMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/camera/CameraStorageUrlMessageEvent.ts\nclass CameraStorageUrlMessageEvent_CameraStorageUrlMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CameraStorageUrlMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/camera/CompetitionStatusMessageEvent.ts\nclass CompetitionStatusMessageEvent_CompetitionStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CompetitionStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/camera/InitCameraMessageEvent.ts\nclass InitCameraMessageEvent_InitCameraMessageEvent extends MessageEvent{constructor(callBack){super(callBack,InitCameraMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/camera/ThumbnailStatusMessageEvent.ts\nclass ThumbnailStatusMessageEvent_ThumbnailStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ThumbnailStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/camera/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/campaign/CampaignCalendarDataMessageEvent.ts\nclass CampaignCalendarDataMessageEvent_CampaignCalendarDataMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CampaignCalendarDataMessageParser_CampaignCalendarDataMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/campaign/CampaignCalendarDoorOpenedMessageEvent.ts\nclass CampaignCalendarDoorOpenedMessageEvent_CampaignCalendarDoorOpenedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CampaignCalendarDoorOpenedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/campaign/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/BonusRareInfoMessageEvent.ts\nclass BonusRareInfoMessageEvent_BonusRareInfoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,BonusRareInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/BuildersClubFurniCountMessageEvent.ts\nclass BuildersClubFurniCountMessageEvent_BuildersClubFurniCountMessageEvent extends MessageEvent{constructor(callBack){super(callBack,BuildersClubFurniCountMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/BuildersClubSubscriptionStatusMessageEvent.ts\nclass BuildersClubSubscriptionStatusMessageEvent_BuildersClubSubscriptionStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,BuildersClubSubscriptionStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/BundleDiscountRuleset.ts\nclass BundleDiscountRuleset{constructor(wrapper){this._Str_20535=void 0;this._Str_19937=void 0;this._Str_20951=void 0;this._Str_20460=void 0;this._Str_16144=void 0;this._Str_20535=wrapper.readInt();this._Str_19937=wrapper.readInt();this._Str_20951=wrapper.readInt();this._Str_20460=wrapper.readInt();this._Str_16144=[];let count=wrapper.readInt();while(count>0){this._Str_16144.push(wrapper.readInt());count--;}}get _Str_22802(){return this._Str_20535;}get _Str_9227(){return this._Str_19937;}get _Str_23802(){return this._Str_20951;}get _Str_21500(){return this._Str_20460;}get _Str_25155(){return this._Str_16144;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/BundleDiscountRulesetMessageEvent.ts\nclass BundleDiscountRulesetMessageEvent_BundleDiscountRulesetMessageEvent extends MessageEvent{constructor(callBack){super(callBack,BundleDiscountRulesetMessageParser_BundleDiscountRulesetMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogPageExpirationEvent.ts\nclass CatalogPageExpirationEvent_CatalogPageExpirationEvent extends MessageEvent{constructor(callBack){super(callBack,CatalogPageExpirationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogPageMessageEvent.ts\nclass CatalogPageMessageEvent_CatalogPageMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CatalogPageMessageParser_CatalogPageMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogPagesListEvent.ts\nclass CatalogPagesListEvent_CatalogPagesListEvent extends MessageEvent{constructor(callBack){super(callBack,CatalogIndexMessageParser_CatalogIndexMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogPageWithEarliestExpiryMessageEvent.ts\nclass CatalogPageWithEarliestExpiryMessageEvent_CatalogPageWithEarliestExpiryMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CatalogPageWithEarliestExpiryMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/CatalogPublishedMessageEvent.ts\nclass CatalogPublishedMessageEvent_CatalogPublishedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CatalogPublishedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/ClubGiftInfoEvent.ts\nclass ClubGiftInfoEvent_ClubGiftInfoEvent extends MessageEvent{constructor(callBack){super(callBack,ClubGiftInfoParser_ClubGiftInfoParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/ClubGiftSelectedEvent.ts\nclass ClubGiftSelectedEvent_ClubGiftSelectedEvent extends MessageEvent{constructor(callBack){super(callBack,ClubGiftSelectedParser_ClubGiftSelectedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/DirectSMSClubBuyAvailableMessageEvent.ts\nclass DirectSMSClubBuyAvailableMessageEvent_DirectSMSClubBuyAvailableMessageEvent extends MessageEvent{constructor(callBack){super(callBack,DirectSMSClubBuyAvailableMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/GiftReceiverNotFoundEvent.ts\nclass GiftReceiverNotFoundEvent_GiftReceiverNotFoundEvent extends MessageEvent{constructor(callBack){super(callBack,GiftReceiverNotFoundParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/GiftWrappingConfigurationEvent.ts\nclass GiftWrappingConfigurationEvent_GiftWrappingConfigurationEvent extends MessageEvent{constructor(callBack){super(callBack,GiftWrappingConfigurationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/HabboClubExtendOfferMessageEvent.ts\nclass HabboClubExtendOfferMessageEvent_HabboClubExtendOfferMessageEvent extends MessageEvent{constructor(callBack){super(callBack,HabboClubExtendOfferMessageParser_HabboClubExtendOfferMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/HabboClubOffersMessageEvent.ts\nclass HabboClubOffersMessageEvent_HabboClubOffersMessageEvent extends MessageEvent{constructor(callBack){super(callBack,HabboClubOffersMessageParser_HabboClubOffersMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/INodeData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/IsOfferGiftableMessageEvent.ts\nclass IsOfferGiftableMessageEvent_IsOfferGiftableMessageEvent extends MessageEvent{constructor(callBack){super(callBack,IsOfferGiftableMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/LimitedEditionSoldOutEvent.ts\nclass LimitedEditionSoldOutEvent_LimitedEditionSoldOutEvent extends MessageEvent{constructor(callBack){super(callBack,LimitedEditionSoldOutParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/LimitedOfferAppearingNextMessageEvent.ts\nclass LimitedOfferAppearingNextMessageEvent_LimitedOfferAppearingNextMessageEvent extends MessageEvent{constructor(callBack){super(callBack,LimitedOfferAppearingNextMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/NotEnoughBalanceMessageEvent.ts\nclass NotEnoughBalanceMessageEvent_NotEnoughBalanceMessageEvent extends MessageEvent{constructor(callBack){super(callBack,NotEnoughBalanceMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/ProductOfferEvent.ts\nclass ProductOfferEvent_ProductOfferEvent extends MessageEvent{constructor(callBack){super(callBack,ProductOfferMessageParser_ProductOfferMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/PurchaseErrorMessageEvent.ts\nclass PurchaseErrorMessageEvent_PurchaseErrorMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PurchaseErrorMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/PurchaseNotAllowedMessageEvent.ts\nclass PurchaseNotAllowedMessageEvent_PurchaseNotAllowedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PurchaseNotAllowedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/PurchaseOKMessageEvent.ts\nclass PurchaseOKMessageEvent_PurchaseOKMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PurchaseOKMessageParser_PurchaseOKMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/RoomAdPurchaseInfoEvent.ts\nclass RoomAdPurchaseInfoEvent_RoomAdPurchaseInfoEvent extends MessageEvent{constructor(callBack){super(callBack,RoomAdPurchaseInfoEventParser_RoomAdPurchaseInfoEventParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/SeasonalCalendarDailyOfferMessageEvent.ts\nclass SeasonalCalendarDailyOfferMessageEvent_SeasonalCalendarDailyOfferMessageEvent extends MessageEvent{constructor(callBack){super(callBack,SeasonalCalendarDailyOfferMessageParser_SeasonalCalendarDailyOfferMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/SellablePetPalettesMessageEvent.ts\nclass SellablePetPalettesMessageEvent_SellablePetPalettesMessageEvent extends MessageEvent{constructor(callBack){super(callBack,SellablePetPalettesParser_SellablePetPalettesParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/TargetedOfferEvent.ts\nclass TargetedOfferEvent_TargetedOfferEvent extends MessageEvent{constructor(callBack){super(callBack,TargetedOfferParser_TargetedOfferParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/TargetedOfferNotFoundEvent.ts\nclass TargetedOfferNotFoundEvent_TargetedOfferNotFoundEvent extends MessageEvent{constructor(callBack){super(callBack,TargetedOfferNotFoundParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/VoucherRedeemErrorMessageEvent.ts\nclass VoucherRedeemErrorMessageEvent_VoucherRedeemErrorMessageEvent extends MessageEvent{constructor(callBack){super(callBack,VoucherRedeemErrorMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/VoucherRedeemOkMessageEvent.ts\nclass VoucherRedeemOkMessageEvent_VoucherRedeemOkMessageEvent extends MessageEvent{constructor(callBack){super(callBack,VoucherRedeemOkMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/catalog/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/client/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/crafting/CraftableProductsEvent.ts\nclass CraftableProductsEvent_CraftableProductsEvent extends MessageEvent{constructor(callBack){super(callBack,CraftableProductsMessageParser_CraftableProductsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/crafting/CraftingRecipeEvent.ts\nclass CraftingRecipeEvent_CraftingRecipeEvent extends MessageEvent{constructor(callBack){super(callBack,CraftingRecipeMessageParser_CraftingRecipeMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/crafting/CraftingRecipesAvailableEvent.ts\nclass CraftingRecipesAvailableEvent_CraftingRecipesAvailableEvent extends MessageEvent{constructor(callBack){super(callBack,CraftingRecipesAvailableMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/crafting/CraftingResultEvent.ts\nclass CraftingResultEvent_CraftingResultEvent extends MessageEvent{constructor(callBack){super(callBack,CraftingResultMessageParser_CraftingResultMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/crafting/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/desktop/DesktopViewEvent.ts\nclass DesktopViewEvent_DesktopViewEvent extends MessageEvent{constructor(callBack){super(callBack,DesktopViewParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/desktop/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/AcceptFriendResultEvent.ts\nclass AcceptFriendResultEvent_AcceptFriendResultEvent extends MessageEvent{constructor(callBack){super(callBack,AcceptFriendResultParser_AcceptFriendResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FindFriendsProcessResultEvent.ts\nclass FindFriendsProcessResultEvent_FindFriendsProcessResultEvent extends MessageEvent{constructor(callBack){super(callBack,FindFriendsProcessResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FollowFriendFailedEvent.ts\nclass FollowFriendFailedEvent_FollowFriendFailedEvent extends MessageEvent{constructor(callBack){super(callBack,FollowFriendFailedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FriendListFragmentEvent.ts\nclass FriendListFragmentEvent_FriendListFragmentEvent extends MessageEvent{constructor(callBack){super(callBack,FriendListFragmentMessageParser_FriendListFragmentParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FriendListUpdateEvent.ts\nclass FriendListUpdateEvent_FriendListUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,FriendListUpdateParser_FriendListUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FriendNotificationEvent.ts\nclass FriendNotificationEvent_FriendNotificationEvent extends MessageEvent{constructor(callBack){super(callBack,FriendNotificationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/FriendRequestsEvent.ts\nclass FriendRequestsEvent_FriendRequestsEvent extends MessageEvent{constructor(callBack){super(callBack,FriendRequestsParser_FriendRequestsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/HabboSearchResultEvent.ts\nclass HabboSearchResultEvent_HabboSearchResultEvent extends MessageEvent{constructor(callBack){super(callBack,HabboSearchResultParser_HabboSearchResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/InstantMessageErrorEvent.ts\nclass InstantMessageErrorEvent_InstantMessageErrorEvent extends MessageEvent{constructor(callBack){super(callBack,InstantMessageErrorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/MessageErrorEvent.ts\nclass MessageErrorEvent_MessageErrorEvent extends MessageEvent{constructor(callBack){super(callBack,MessageErrorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/MessengerInitEvent.ts\nclass MessengerInitEvent_MessengerInitEvent extends MessageEvent{constructor(callBack){super(callBack,MessengerInitParser_MessengerInitParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/MiniMailNewMessageEvent.ts\nclass MiniMailNewMessageEvent_MiniMailNewMessageEvent extends MessageEvent{constructor(callBack){super(callBack,MiniMailNewMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/MiniMailUnreadCountEvent.ts\nclass MiniMailUnreadCountEvent_MiniMailUnreadCountEvent extends MessageEvent{constructor(callBack){super(callBack,MiniMailUnreadCountParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/NewConsoleMessageEvent.ts\nclass NewConsoleMessageEvent_NewConsoleMessageEvent extends MessageEvent{constructor(callBack){super(callBack,NewConsoleMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/NewFriendRequestEvent.ts\nclass NewFriendRequestEvent_NewFriendRequestEvent extends MessageEvent{constructor(callBack){super(callBack,NewFriendRequestMessageParser_NewFriendRequestParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/RoomInviteErrorEvent.ts\nclass RoomInviteErrorEvent_RoomInviteErrorEvent extends MessageEvent{constructor(callBack){super(callBack,RoomInviteErrorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/RoomInviteEvent.ts\nclass RoomInviteEvent_RoomInviteEvent extends MessageEvent{constructor(callBack){super(callBack,RoomInviteParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/friendlist/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/game/LoadGameUrlEvent.ts\nclass LoadGameUrlEvent_LoadGameUrlEvent extends MessageEvent{constructor(callBack){super(callBack,LoadGameUrlParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/game/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/generic/GenericErrorEvent.ts\nclass GenericErrorEvent_GenericErrorEvent extends MessageEvent{constructor(callBack){super(callBack,GenericErrorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/generic/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/GroupBadgePartsEvent.ts\nclass GroupBadgePartsEvent_GroupBadgePartsEvent extends MessageEvent{constructor(callBack){super(callBack,GroupBadgePartsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/GroupBuyDataEvent.ts\nclass GroupBuyDataEvent_GroupBuyDataEvent extends MessageEvent{constructor(callBack){super(callBack,GroupBuyDataParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/GroupConfirmMemberRemoveEvent.ts\nclass GroupConfirmMemberRemoveEvent_GroupConfirmMemberRemoveEvent extends MessageEvent{constructor(callBack){super(callBack,GroupConfirmMemberRemoveParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/GroupInformationEvent.ts\nclass GroupInformationEvent_GroupInformationEvent extends MessageEvent{constructor(callBack){super(callBack,GroupInformationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/GroupMembersEvent.ts\nclass GroupMembersEvent_GroupMembersEvent extends MessageEvent{constructor(callBack){super(callBack,GroupMembersParser_GroupMembersParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/GroupPurchasedEvent.ts\nclass GroupPurchasedEvent_GroupPurchasedEvent extends MessageEvent{constructor(callBack){super(callBack,GroupPurchasedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/GroupSettingsEvent.ts\nclass GroupSettingsEvent_GroupSettingsEvent extends MessageEvent{constructor(callBack){super(callBack,GroupSettingsParser_GroupSettingsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/HabboGroupDeactivatedMessageEvent.ts\nclass HabboGroupDeactivatedMessageEvent_HabboGroupDeactivatedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,HabboGroupDeactivatedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/group/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/ForumData.ts\nclass ForumData{constructor(){this._groupId=void 0;this._name=void 0;this._description=void 0;this._icon=void 0;this._totalThreads=void 0;this._leaderboardScore=void 0;this._totalMessages=void 0;this._unreadMessages=void 0;this._lastMessageId=void 0;this._lastMessageAuthorId=void 0;this._lastMessageAuthorName=void 0;this._lastMessageTimeAsSecondsAgo=void 0;}static parse(wrapper){return this.fillFromMessage(new ForumData(),wrapper);}static fillFromMessage(data,wrapper){data._groupId=wrapper.readInt();data._name=wrapper.readString();data._description=wrapper.readString();data._icon=wrapper.readString();data._totalThreads=wrapper.readInt();data._leaderboardScore=wrapper.readInt();data._totalMessages=wrapper.readInt();data._unreadMessages=wrapper.readInt();data._lastMessageId=wrapper.readInt();data._lastMessageAuthorId=wrapper.readInt();data._lastMessageAuthorName=wrapper.readString();data._lastMessageTimeAsSecondsAgo=wrapper.readInt();return data;}get groupId(){return this._groupId;}get name(){return this._name;}get description(){return this._description;}get icon(){return this._icon;}get totalThreads(){return this._totalThreads;}get leaderboardScore(){return this._leaderboardScore;}get totalMessages(){return this._totalMessages;}get unreadMessages(){return this._unreadMessages;}get lastMessageId(){return this._lastMessageId;}get lastMessageAuthorId(){return this._lastMessageAuthorId;}get lastMessageAuthorName(){return this._lastMessageAuthorName;}get lastMessageTimeAsSecondsAgo(){return this._lastMessageTimeAsSecondsAgo;}_Str_25309(forum){this._totalThreads=forum._totalThreads;this._totalMessages=forum._totalMessages;this._unreadMessages=forum._unreadMessages;this._lastMessageAuthorId=forum._lastMessageAuthorId;this._lastMessageAuthorName=forum._lastMessageAuthorName;this._lastMessageId=forum._lastMessageId;this._lastMessageTimeAsSecondsAgo=forum._lastMessageTimeAsSecondsAgo;}get _Str_12786(){return this._totalMessages-this._unreadMessages;}set _Str_12786(k){this._unreadMessages=this._totalMessages-k;if(this._unreadMessages<0)this._unreadMessages=0;}_Str_23783(thread){this._lastMessageAuthorId=thread.lastUserId;this._lastMessageAuthorName=thread.lastUserName;this._lastMessageId=thread.lastMessageId;this._lastMessageTimeAsSecondsAgo=thread.lastCommentTime;this._totalThreads++;this._totalMessages++;this._unreadMessages=0;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/ExtendedForumData.ts\nclass ExtendedForumData_ExtendedForumData extends ForumData{constructor(){super(...arguments);this._readPermissions=void 0;this._postMessagePermissions=void 0;this._postThreadPermissions=void 0;this._moderatePermissions=void 0;this._readPermissionError=void 0;this._postMessagePermissionError=void 0;this._postThreadPermissionError=void 0;this._moderatePermissionError=void 0;this._reportPermissionError=void 0;this._canChangeSettings=void 0;this._isStaff=void 0;}static parse(wrapper){const extendedForumData=new ExtendedForumData_ExtendedForumData();ForumData.fillFromMessage(extendedForumData,wrapper);extendedForumData._readPermissions=wrapper.readInt();extendedForumData._postMessagePermissions=wrapper.readInt();extendedForumData._postThreadPermissions=wrapper.readInt();extendedForumData._moderatePermissions=wrapper.readInt();extendedForumData._readPermissionError=wrapper.readString();extendedForumData._postMessagePermissionError=wrapper.readString();extendedForumData._postThreadPermissionError=wrapper.readString();extendedForumData._moderatePermissionError=wrapper.readString();extendedForumData._reportPermissionError=wrapper.readString();extendedForumData._canChangeSettings=wrapper.readBoolean();extendedForumData._isStaff=wrapper.readBoolean();return extendedForumData;}get readPermissions(){return this._readPermissions;}get postMessagePermissions(){return this._postMessagePermissions;}get postThreadPermissions(){return this._postThreadPermissions;}get moderatePermissions(){return this._moderatePermissions;}get hasReadPermissionError(){return this._readPermissionError.length===0;}get _Str_21331(){return true;}get hasPostMessagePermissionError(){return this._postMessagePermissionError.length===0;}get hasPostThreadPermissionError(){return this._postThreadPermissionError.length===0;}get hasModeratePermissionError(){return this._moderatePermissionError.length===0;}get canChangeSettings(){return this._canChangeSettings;}get isStaf(){return this._isStaff;}get readPermissionError(){return this._readPermissionError;}get postMessagePermissionError(){return this._postMessagePermissionError;}get postThreadPermissionError(){return this._postThreadPermissionError;}get moderatePermissionError(){return this._moderatePermissionError;}get reportPermissionError(){return this._reportPermissionError;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/ForumDataMessageParser.ts\nclass ForumDataMessageParser_ForumDataMessageParser{constructor(){this._extendedForumData=void 0;}flush(){this._extendedForumData=null;return true;}parse(wrapper){if(!wrapper)return false;this._extendedForumData=ExtendedForumData_ExtendedForumData.parse(wrapper);return true;}get extendedForumData(){return this._extendedForumData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/ForumDataMessageEvent.ts\nclass ForumDataMessageEvent_ForumDataMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ForumDataMessageParser_ForumDataMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/GetForumsListMessageParser.ts\nclass GetForumsListMessageParser_GetForumsListMessageParser{constructor(){this._listCode=void 0;this._totalAmount=void 0;this._startIndex=void 0;this._amount=void 0;this._forums=void 0;}flush(){this._listCode=-1;this._totalAmount=0;this._startIndex=-1;this._amount=0;this._forums=[];return true;}parse(wrapper){if(!wrapper)return false;this._listCode=wrapper.readInt();this._totalAmount=wrapper.readInt();this._startIndex=wrapper.readInt();this._amount=wrapper.readInt();this._forums=[];let i=0;while(i<this._amount){this._forums.push(ForumData.parse(wrapper));i++;}return true;}get listCode(){return this._listCode;}get totalAmount(){return this._totalAmount;}get startIndex(){return this._startIndex;}get amount(){return this._amount;}get forums(){return this._forums;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/ForumsListMessageEvent.ts\nclass ForumsListMessageEvent_ForumsListMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GetForumsListMessageParser_GetForumsListMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/GuildForumThread.ts\nclass GuildForumThread{constructor(){this._threadId=void 0;this._authorId=void 0;this._authorName=void 0;this._creationTimeAsSecondsAgo=void 0;this._header=void 0;this._totalMessages=void 0;this._unreadMessagesCount=void 0;this._lastMessageId=void 0;this._lastUserId=void 0;this._lastUserName=void 0;this._lastCommentTime=void 0;this._state=void 0;this._adminId=void 0;this._adminName=void 0;this._adminOperationTimeAsSecondsAgo=void 0;this._isPinned=void 0;this._isLocked=void 0;}static parse(wrapper){const thread=new GuildForumThread();thread._threadId=wrapper.readInt();thread._authorId=wrapper.readInt();thread._authorName=wrapper.readString();thread._header=wrapper.readString();thread._isPinned=wrapper.readBoolean();thread._isLocked=wrapper.readBoolean();thread._creationTimeAsSecondsAgo=wrapper.readInt();thread._totalMessages=wrapper.readInt();thread._unreadMessagesCount=wrapper.readInt();thread._lastMessageId=wrapper.readInt();thread._lastUserId=wrapper.readInt();thread._lastUserName=wrapper.readString();thread._lastCommentTime=wrapper.readInt();thread._state=wrapper.readByte();thread._adminId=wrapper.readInt();thread._adminName=wrapper.readString();thread._adminOperationTimeAsSecondsAgo=wrapper.readInt();return thread;}get adminOperationTimeAsSecondsAgo(){return this._adminOperationTimeAsSecondsAgo;}set adminOperationTimeAsSecondsAgo(k){this._adminOperationTimeAsSecondsAgo=k;}get lastCommentTime(){return this._lastCommentTime;}set lastCommentTime(time){this._lastCommentTime=time;}get threadId(){return this._threadId;}set threadId(id){this._threadId=id;}get authorId(){return this._authorId;}set authorId(id){this._authorId=id;}get authorName(){return this._authorName;}set authorName(name){this._authorName=name;}get creationTimeAsSecondsAgo(){return this._creationTimeAsSecondsAgo;}set creationTimeAsSecondsAgo(time){this._creationTimeAsSecondsAgo=time;}get header(){return this._header;}set header(header){this._header=header;}get lastMessageId(){return this._lastMessageId;}set lastMessageId(id){this._lastMessageId=id;}get lastUserId(){return this._lastUserId;}set lastUserId(id){this._lastUserId=id;}get lastUserName(){return this._lastUserName;}set lastUserName(name){this._lastUserName=name;}get totalMessages(){return this._totalMessages;}set totalMessages(total){this._totalMessages=total;}get unreadMessagesCount(){return this._unreadMessagesCount;}set unreadMessagesCount(count){this._unreadMessagesCount=count;}get state(){return this._state;}set state(state){this._state=state;}get adminId(){return this._adminId;}set adminId(id){this._adminId=id;}get adminName(){return this._adminName;}set adminName(name){this._adminName=name;}get isPinned(){return this._isPinned;}set isPinned(k){this._isPinned=k;}get isLocked(){return this._isLocked;}set isLocked(flag){this._isLocked=flag;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/GuildForumThreadsParser.ts\nclass GuildForumThreadsParser_GuildForumThreadsParser{constructor(){this._groupId=void 0;this._startIndex=void 0;this._amount=void 0;this._threads=void 0;}flush(){this._groupId=-1;this._startIndex=-1;this._amount=0;this._threads=[];return true;}parse(wrapper){if(!wrapper)return false;this._groupId=wrapper.readInt();this._startIndex=wrapper.readInt();this._amount=wrapper.readInt();this._threads=[];let i=0;while(i<this._amount){this._threads.push(GuildForumThread.parse(wrapper));i++;}return true;}get groupId(){return this._groupId;}get startIndex(){return this._startIndex;}get amount(){return this._amount;}get threads(){return this._threads;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/GuildForumThreadsEvent.ts\nclass GuildForumThreadsEvent_GuildForumThreadsEvent extends MessageEvent{constructor(callBack){super(callBack,GuildForumThreadsParser_GuildForumThreadsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/MessageData.ts\nclass MessageData{constructor(){this._groupId=void 0;this._messageId=void 0;this._messageIndex=void 0;this._authorId=void 0;this._threadId=void 0;this._creationTime=void 0;this._messageText=void 0;this._authorName=void 0;this._authorFigure=void 0;this._state=void 0;this._adminId=void 0;this._adminName=void 0;this._adminOperationTimeAsSeccondsAgo=void 0;this._authorPostCount=void 0;}static parse(wrapper){const messageData=new MessageData();messageData._messageId=wrapper.readInt();messageData._messageIndex=wrapper.readInt();messageData._authorId=wrapper.readInt();messageData._authorName=wrapper.readString();messageData._authorFigure=wrapper.readString();messageData._creationTime=wrapper.readInt();messageData._messageText=wrapper.readString();messageData._state=wrapper.readByte();messageData._adminId=wrapper.readInt();messageData._adminName=wrapper.readString();messageData._adminOperationTimeAsSeccondsAgo=wrapper.readInt();messageData._authorPostCount=wrapper.readInt();return messageData;}get state(){return this._state;}set state(state){this._state=state;}get adminId(){return this._adminId;}set adminId(id){this._adminId=id;}get adminName(){return this._adminName;}set adminName(name){this._adminName=name;}get adminOperationTimeAsSeccondsAgo(){return this._adminOperationTimeAsSeccondsAgo;}set adminOperationTimeAsSeccondsAgo(time){this._adminOperationTimeAsSeccondsAgo=time;}get messageId(){return this._messageId;}set messageId(id){this._messageId=id;}get creationTime(){return this._creationTime;}set creationTime(time){this._creationTime=time;}get authorName(){return this._authorName;}set authorName(name){this._authorName=name;}get authorFigure(){return this._authorFigure;}set authorFigure(figure){this._authorFigure=figure;}get threadId(){return this._threadId;}set threadId(id){this._threadId=id;}get messageIndex(){return this._messageIndex;}set messageIndex(index){this._messageIndex=index;}set groupID(id){this._groupId=id;}get groupId(){return this._groupId;}get authorId(){return this._authorId;}set authorId(id){this._authorId=id;}get messageText(){return this._messageText;}set messageText(text){this._messageText=text;}get authorPostCount(){return this._authorPostCount;}set authorPostCount(count){this._authorPostCount=count;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/PostMessageMessageParser.ts\nclass PostMessageMessageParser_PostMessageMessageParser{constructor(){this._groupId=void 0;this._threadId=void 0;this._message=void 0;}flush(){this._groupId=-1;this._threadId=-1;this._message=null;return true;}parse(wrapper){if(!wrapper)return false;this._groupId=wrapper.readInt();this._threadId=wrapper.readInt();this._message=MessageData.parse(wrapper);return true;}get groupId(){return this._groupId;}get threadId(){return this._threadId;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/PostMessageMessageEvent.ts\nclass PostMessageMessageEvent_PostMessageMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PostMessageMessageParser_PostMessageMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/PostThreadMessageParser.ts\nclass PostThreadMessageParser_PostThreadMessageParser{constructor(){this._groupId=void 0;this._thread=void 0;}flush(){this._groupId=-1;this._thread=null;return true;}parse(wrapper){if(!wrapper)return false;this._groupId=wrapper.readInt();this._thread=GuildForumThread.parse(wrapper);return true;}get groupId(){return this._groupId;}get thread(){return this._thread;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/PostThreadMessageEvent.ts\nclass PostThreadMessageEvent_PostThreadMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PostThreadMessageParser_PostThreadMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/ThreadMessagesMessageParser.ts\nclass ThreadMessagesMessageParser_ThreadMessagesMessageParser{constructor(){this._groupId=void 0;this._threadId=void 0;this._startIndex=void 0;this._amount=void 0;this._messages=void 0;}flush(){this._groupId=-1;this._threadId=-1;this._startIndex=-1;this._amount=0;this._messages=[];return true;}parse(wrapper){if(!wrapper)return false;this._groupId=wrapper.readInt();this._threadId=wrapper.readInt();this._startIndex=wrapper.readInt();this._amount=wrapper.readInt();this._messages=[];let i=0;while(i<this._amount){const message=MessageData.parse(wrapper);message.groupID=this._groupId;message.threadId=this._threadId;this._messages.push(message);i++;}return true;}get groupId(){return this._groupId;}get threadId(){return this._threadId;}get startIndex(){return this._startIndex;}get amount(){return this._amount;}get messages(){return this._messages;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/ThreadMessagesMessageEvent.ts\nclass ThreadMessagesMessageEvent_ThreadMessagesMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ThreadMessagesMessageParser_ThreadMessagesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/UnreadForumsCountMessageParser.ts\nclass UnreadForumsCountMessageParser{constructor(){this._count=void 0;}flush(){this._count=0;return true;}parse(wrapper){if(!wrapper)return false;this._count=wrapper.readInt();return true;}get count(){return this._count;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/UnreadForumsCountMessageEvent.ts\nclass UnreadForumsCountMessageEvent_UnreadForumsCountMessageEvent extends MessageEvent{constructor(callBack){super(callBack,UnreadForumsCountMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/UpdateMessageMessageParser.ts\nclass UpdateMessageMessageParser_UpdateMessageMessageParser{constructor(){this._groupId=void 0;this._threadId=void 0;this._message=void 0;}flush(){this._groupId=-1;this._threadId=-1;this._message=null;return true;}parse(wrapper){if(!wrapper)return false;this._groupId=wrapper.readInt();this._threadId=wrapper.readInt();this._message=MessageData.parse(wrapper);return true;}get groupId(){return this._groupId;}get threadId(){return this._threadId;}get message(){return this._message;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/UpdateMessageMessageEvent.ts\nclass UpdateMessageMessageEvent_UpdateMessageMessageEvent extends MessageEvent{constructor(callBack){super(callBack,UpdateMessageMessageParser_UpdateMessageMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/groupforums/UpdateThreadMessageParser.ts\nclass UpdateThreadMessageParser_UpdateThreadMessageParser{constructor(){this._groupId=void 0;this._thread=void 0;}flush(){this._groupId=-1;this._thread=null;return true;}parse(wrapper){if(!wrapper)return false;this._groupId=wrapper.readInt();this._thread=GuildForumThread.parse(wrapper);return true;}get groupId(){return this._groupId;}get thread(){return this._thread;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/UpdateThreadMessageEvent.ts\nclass UpdateThreadMessageEvent_UpdateThreadMessageEvent extends MessageEvent{constructor(callBack){super(callBack,UpdateThreadMessageParser_UpdateThreadMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/groupforums/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/handshake/NoobnessLevelMessageEvent.ts\nclass NoobnessLevelMessageEvent_NoobnessLevelMessageEvent extends MessageEvent{constructor(callBack){super(callBack,NoobnessLevelMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/handshake/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/CallForHelpDisabledNotifyMessageEvent.ts\nclass CallForHelpDisabledNotifyMessageEvent_CallForHelpDisabledNotifyMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CallForHelpDisabledNotifyMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/CallForHelpPendingCallsDeletedMessageEvent.ts\nclass CallForHelpPendingCallsDeletedMessageEvent_CallForHelpPendingCallsDeletedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CallForHelpPendingCallsDeletedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/CallForHelpPendingCallsMessageEvent.ts\nclass CallForHelpPendingCallsMessageEvent_CallForHelpPendingCallsMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CallForHelpPendingCallsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/CallForHelpReplyMessageEvent.ts\nclass CallForHelpReplyMessageEvent_CallForHelpReplyMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CallForHelpReplyMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/CallForHelpResultMessageEvent.ts\nclass CallForHelpResultMessageEvent_CallForHelpResultMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CallForHelpResultMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/ChatReviewSessionDetachedMessageEvent.ts\nclass ChatReviewSessionDetachedMessageEvent_ChatReviewSessionDetachedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ChatReviewSessionDetachedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/ChatReviewSessionOfferedToGuideMessageEvent.ts\nclass ChatReviewSessionOfferedToGuideMessageEvent_ChatReviewSessionOfferedToGuideMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ChatReviewSessionOfferedToGuideMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/ChatReviewSessionResultsMessageEvent.ts\nclass ChatReviewSessionResultsMessageEvent_ChatReviewSessionResultsMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ChatReviewSessionResultsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/ChatReviewSessionStartedMessageEvent.ts\nclass ChatReviewSessionStartedMessageEvent_ChatReviewSessionStartedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ChatReviewSessionStartedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/ChatReviewSessionVotingStatusMessageEvent.ts\nclass ChatReviewSessionVotingStatusMessageEvent_ChatReviewSessionVotingStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ChatReviewSessionVotingStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideOnDutyStatusMessageEvent.ts\nclass GuideOnDutyStatusMessageEvent_GuideOnDutyStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideOnDutyStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionAttachedMessageEvent.ts\nclass GuideSessionAttachedMessageEvent_GuideSessionAttachedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionAttachedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionDetachedMessageEvent.ts\nclass GuideSessionDetachedMessageEvent_GuideSessionDetachedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionDetachedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionEndedMessageEvent.ts\nclass GuideSessionEndedMessageEvent_GuideSessionEndedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionEndedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionErrorMessageEvent.ts\nclass GuideSessionErrorMessageEvent_GuideSessionErrorMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionErrorMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionInvitedToGuideRoomMessageEvent.ts\nclass GuideSessionInvitedToGuideRoomMessageEvent_GuideSessionInvitedToGuideRoomMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionInvitedToGuideRoomMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionMessageMessageEvent.ts\nclass GuideSessionMessageMessageEvent_GuideSessionMessageMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionMessageMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionPartnerIsTypingMessageEvent.ts\nclass GuideSessionPartnerIsTypingMessageEvent_GuideSessionPartnerIsTypingMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionPartnerIsTypingMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionRequesterRoomMessageEvent.ts\nclass GuideSessionRequesterRoomMessageEvent_GuideSessionRequesterRoomMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionRequesterRoomMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideSessionStartedMessageEvent.ts\nclass GuideSessionStartedMessageEvent_GuideSessionStartedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideSessionStartedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideTicketCreationResultMessageEvent.ts\nclass GuideTicketCreationResultMessageEvent_GuideTicketCreationResultMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideTicketCreationResultMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideTicketResolutionMessageEvent.ts\nclass GuideTicketResolutionMessageEvent_GuideTicketResolutionMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideTicketResolutionMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/HotelMergeNameChangeEvent.ts\nclass HotelMergeNameChangeEvent_HotelMergeNameChangeEvent extends MessageEvent{constructor(callBack){super(callBack,HotelMergeNameChangeParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/IssueCloseNotificationMessageEvent.ts\nclass IssueCloseNotificationMessageEvent_IssueCloseNotificationMessageEvent extends MessageEvent{constructor(callBack){super(callBack,IssueCloseNotificationMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/QuizDataMessageEvent.ts\nclass QuizDataMessageEvent_QuizDataMessageEvent extends MessageEvent{constructor(callBack){super(callBack,QuizDataMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/QuizResultsMessageEvent.ts\nclass QuizResultsMessageEvent_QuizResultsMessageEvent extends MessageEvent{constructor(callBack){super(callBack,QuizResultsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/IncomingHeader.ts\nclass IncomingHeader{}IncomingHeader.ACHIEVEMENT_LIST=305;IncomingHeader.AUTHENTICATED=2491;IncomingHeader.AUTHENTICATION=-1;IncomingHeader.AVAILABILITY_STATUS=2033;IncomingHeader.BUILDERS_CLUB_EXPIRED=1452;IncomingHeader.CLUB_OFFERS=2405;IncomingHeader.CATALOG_PAGE=804;IncomingHeader.CATALOG_PAGE_LIST=1032;IncomingHeader.CATALOG_PURCHASE_OK=869;IncomingHeader.CATALOG_PURCHASE_ERROR=1404;IncomingHeader.CATALOG_PURCHASE_NOT_ALLOWED=3770;IncomingHeader.PRODUCT_OFFER=3388;IncomingHeader.LIMITED_SOLD_OUT=377;IncomingHeader.CATALOG_PUBLISHED=1866;IncomingHeader.CFH_RESULT_MESSAGE=3635;IncomingHeader.CLIENT_LATENCY=10;IncomingHeader.CLIENT_PING=3928;IncomingHeader.DESKTOP_CAMPAIGN=1745;IncomingHeader.DESKTOP_NEWS=286;IncomingHeader.DESKTOP_VIEW=122;IncomingHeader.BUNDLE_DISCOUNT_RULESET=2347;IncomingHeader.FIRST_LOGIN_OF_DAY=793;IncomingHeader.FURNITURE_ALIASES=1723;IncomingHeader.FURNITURE_DATA=2547;IncomingHeader.FURNITURE_FLOOR=1778;IncomingHeader.FURNITURE_FLOOR_ADD=1534;IncomingHeader.FURNITURE_FLOOR_REMOVE=2703;IncomingHeader.FURNITURE_FLOOR_UPDATE=3776;IncomingHeader.FURNITURE_ITEMDATA=2202;IncomingHeader.FURNITURE_STATE=2376;IncomingHeader.FURNITURE_GROUP_CONTEXT_MENU_INFO=3293;IncomingHeader.FURNITURE_POSTIT_STICKY_POLE_OPEN=2366;IncomingHeader.GAME_CENTER_ACHIEVEMENTS=2265;IncomingHeader.GAME_CENTER_GAME_LIST=222;IncomingHeader.GAME_CENTER_STATUS=2893;IncomingHeader.GENERIC_ALERT=3801;IncomingHeader.MODERATOR_MESSAGE=2030;IncomingHeader.GENERIC_ERROR=1600;IncomingHeader.GIFT_WRAPPER_CONFIG=2234;IncomingHeader.GROUP_BADGES=2402;IncomingHeader.GROUP_CREATE_OPTIONS=2159;IncomingHeader.GROUP_FORUM_DATA=3011;IncomingHeader.GROUP_FORUM_LIST=3001;IncomingHeader.GROUP_FORUM_THREADS=1073;IncomingHeader.GROUP_FORUM_POST=2049;IncomingHeader.GROUP_FORUM_POST_THREAD=1862;IncomingHeader.GROUP_FORUM_THREAD_MESSAGES=509;IncomingHeader.GROUP_FORUM_UNREAD_COUNT=2379;IncomingHeader.GROUP_FORUM_UPDATE_MESSAGE=324;IncomingHeader.GROUP_FORUM_UPDATE_THREAD=2528;IncomingHeader.GROUP_INFO=1702;IncomingHeader.GROUP_LIST=420;IncomingHeader.GROUP_MEMBER=265;IncomingHeader.GROUP_MEMBERS=1200;IncomingHeader.GROUP_MEMBERS_REFRESH=2445;IncomingHeader.GROUP_MEMBER_REMOVE_CONFIRM=1876;IncomingHeader.GROUP_PURCHASED=2808;IncomingHeader.GROUP_SETTINGS=3965;IncomingHeader.GROUP_BADGE_PARTS=2238;IncomingHeader.ITEM_DIMMER_SETTINGS=2710;IncomingHeader.ITEM_STACK_HELPER=2816;IncomingHeader.ITEM_WALL=1369;IncomingHeader.ITEM_WALL_ADD=2187;IncomingHeader.ITEM_WALL_REMOVE=3208;IncomingHeader.ITEM_WALL_UPDATE=2009;IncomingHeader.LOAD_GAME_URL=2624;IncomingHeader.MARKETPLACE_CONFIG=1823;IncomingHeader.MESSENGER_ACCEPT_FRIENDS=896;IncomingHeader.MESSENGER_CHAT=1587;IncomingHeader.MESSENGER_FIND_FRIENDS=1210;IncomingHeader.MESSENGER_FOLLOW_FAILED=3048;IncomingHeader.MESSENGER_FRIEND_NOTIFICATION=3082;IncomingHeader.MESSENGER_FRIENDS=3130;IncomingHeader.MESSENGER_INIT=1605;IncomingHeader.MESSENGER_INSTANCE_MESSAGE_ERROR=3359;IncomingHeader.MESSENGER_INVITE=3870;IncomingHeader.MESSENGER_INVITE_ERROR=462;IncomingHeader.MESSENGER_MESSAGE_ERROR=892;IncomingHeader.MESSENGER_MINIMAIL_COUNT=2803;IncomingHeader.MESSENGER_MINIMAIL_NEW=1911;IncomingHeader.MESSENGER_RELATIONSHIPS=2016;IncomingHeader.MESSENGER_REQUEST=2219;IncomingHeader.MESSENGER_REQUEST_ERROR=892;IncomingHeader.MESSENGER_REQUESTS=280;IncomingHeader.MESSENGER_SEARCH=973;IncomingHeader.MESSENGER_UPDATE=2800;IncomingHeader.MODERATION_REPORT_DISABLED=1651;IncomingHeader.MODERATION_TOOL=2696;IncomingHeader.MODERATION_USER_INFO=2866;IncomingHeader.MOTD_MESSAGES=2035;IncomingHeader.NAVIGATOR_CATEGORIES=1562;IncomingHeader.NAVIGATOR_COLLAPSED=1543;IncomingHeader.NAVIGATOR_EVENT_CATEGORIES=3244;IncomingHeader.NAVIGATOR_LIFTED=3104;IncomingHeader.NAVIGATOR_METADATA=3052;IncomingHeader.NAVIGATOR_OPEN_ROOM_CREATOR=2064;IncomingHeader.NAVIGATOR_SEARCH=2690;IncomingHeader.NAVIGATOR_SEARCHES=3984;IncomingHeader.NAVIGATOR_SETTINGS=518;IncomingHeader.NOTIFICATION_LIST=1992;IncomingHeader.PET_FIGURE_UPDATE=1924;IncomingHeader.PET_INFO=2901;IncomingHeader.RECYCLER_PRIZES=3164;IncomingHeader.ROOM_BAN_LIST=1869;IncomingHeader.ROOM_BAN_REMOVE=3429;IncomingHeader.ROOM_CREATED=1304;IncomingHeader.ROOM_DOORBELL=2309;IncomingHeader.ROOM_DOORBELL_ACCEPTED=3783;IncomingHeader.ROOM_DOORBELL_REJECTED=878;IncomingHeader.ROOM_ENTER=758;IncomingHeader.ROOM_ENTER_ERROR=899;IncomingHeader.ROOM_FORWARD=160;IncomingHeader.ROOM_HEIGHT_MAP=2753;IncomingHeader.ROOM_HEIGHT_MAP_UPDATE=558;IncomingHeader.ROOM_INFO=687;IncomingHeader.ROOM_INFO_OWNER=749;IncomingHeader.ROOM_MODEL=1301;IncomingHeader.ROOM_MODEL_BLOCKED_TILES=3990;IncomingHeader.ROOM_MODEL_DOOR=1664;IncomingHeader.ROOM_MODEL_NAME=2031;IncomingHeader.ROOM_MUTED=2533;IncomingHeader.ROOM_MUTE_USER=826;IncomingHeader.ROOM_PAINT=2454;IncomingHeader.ROOM_PROMOTION=2274;IncomingHeader.ROOM_QUEUE_STATUS=2208;IncomingHeader.ROOM_RIGHTS=780;IncomingHeader.ROOM_RIGHTS_CLEAR=2392;IncomingHeader.ROOM_RIGHTS_LIST=1284;IncomingHeader.ROOM_RIGHTS_LIST_ADD=2088;IncomingHeader.ROOM_RIGHTS_LIST_REMOVE=1327;IncomingHeader.ROOM_RIGHTS_OWNER=339;IncomingHeader.ROOM_ROLLING=3207;IncomingHeader.ROOM_SCORE=482;IncomingHeader.ROOM_SETTINGS=1498;IncomingHeader.ROOM_SETTINGS_CHAT=1191;IncomingHeader.ROOM_SETTINGS_SAVE=948;IncomingHeader.ROOM_SETTINGS_SAVE_ERROR=1555;IncomingHeader.ROOM_SETTINGS_UPDATED=3297;IncomingHeader.ROOM_SPECTATOR=1033;IncomingHeader.ROOM_THICKNESS=3547;IncomingHeader.INFO_FEED_ENABLE=3284;IncomingHeader.SECURITY_MACHINE=1488;IncomingHeader.MYSTERY_BOX_KEYS=2833;IncomingHeader.TRADE_ACCEPTED=2568;IncomingHeader.TRADE_CLOSED=1373;IncomingHeader.TRADE_COMPLETED=1001;IncomingHeader.TRADE_CONFIRMATION=2720;IncomingHeader.TRADE_LIST_ITEM=2024;IncomingHeader.TRADE_NOT_OPEN=3128;IncomingHeader.TRADE_OPEN=2505;IncomingHeader.TRADE_OPEN_FAILED=217;IncomingHeader.TRADE_OTHER_NOT_ALLOWED=2154;IncomingHeader.TRADE_YOU_NOT_ALLOWED=3058;IncomingHeader.UNIT=374;IncomingHeader.UNIT_CHANGE_NAME=2182;IncomingHeader.UNIT_CHAT=1446;IncomingHeader.UNIT_CHAT_SHOUT=1036;IncomingHeader.UNIT_CHAT_WHISPER=2704;IncomingHeader.UNIT_DANCE=2233;IncomingHeader.UNIT_EFFECT=1167;IncomingHeader.UNIT_EXPRESSION=1631;IncomingHeader.UNIT_HAND_ITEM=1474;IncomingHeader.UNIT_IDLE=1797;IncomingHeader.UNIT_INFO=3920;IncomingHeader.UNIT_NUMBER=2324;IncomingHeader.UNIT_REMOVE=2661;IncomingHeader.UNIT_STATUS=1640;IncomingHeader.UNIT_TYPING=1717;IncomingHeader.UNSEEN_ITEMS=2103;IncomingHeader.USER_ACHIEVEMENT_SCORE=1968;IncomingHeader.USER_BADGES=717;IncomingHeader.USER_BADGES_ADD=2493;IncomingHeader.USER_BADGES_CURRENT=1087;IncomingHeader.USER_BOT_REMOVE=233;IncomingHeader.USER_BOTS=3086;IncomingHeader.USER_CHANGE_NAME=118;IncomingHeader.USER_CLOTHING=1450;IncomingHeader.USER_CREDITS=3475;IncomingHeader.USER_CURRENCY=2018;IncomingHeader.ACTIVITY_POINT_NOTIFICATION=2275;IncomingHeader.USER_EFFECTS=340;IncomingHeader.USER_FAVORITE_ROOM=2524;IncomingHeader.USER_FAVORITE_ROOM_COUNT=151;IncomingHeader.USER_FIGURE=2429;IncomingHeader.USER_FURNITURE=994;IncomingHeader.USER_FURNITURE_ADD=104;IncomingHeader.USER_FURNITURE_POSTIT_PLACED=1501;IncomingHeader.USER_FURNITURE_REFRESH=3151;IncomingHeader.USER_FURNITURE_REMOVE=159;IncomingHeader.USER_HOME_ROOM=2875;IncomingHeader.USER_IGNORED=126;IncomingHeader.USER_IGNORED_RESULT=207;IncomingHeader.USER_INFO=2725;IncomingHeader.USER_OUTFITS=3315;IncomingHeader.USER_PERKS=2586;IncomingHeader.USER_PERMISSIONS=411;IncomingHeader.USER_PET_ADD=2101;IncomingHeader.USER_PET_REMOVE=3253;IncomingHeader.USER_PETS=3522;IncomingHeader.USER_PROFILE=3898;IncomingHeader.USER_RESPECT=2815;IncomingHeader.USER_SANCTION_STATUS=3679;IncomingHeader.USER_SETTINGS=513;IncomingHeader.USER_SUBSCRIPTION=954;IncomingHeader.USER_WARDROBE_PAGE=3315;IncomingHeader.WIRED_ACTION=1434;IncomingHeader.WIRED_CONDITION=1108;IncomingHeader.WIRED_ERROR=156;IncomingHeader.WIRED_OPEN=1830;IncomingHeader.WIRED_REWARD=178;IncomingHeader.WIRED_SAVE=1155;IncomingHeader.WIRED_TRIGGER=383;IncomingHeader.PLAYING_GAME=448;IncomingHeader.FURNITURE_STATE_2=3431;IncomingHeader.REMOVE_BOT_FROM_INVENTORY=233;IncomingHeader.ADD_BOT_TO_INVENTORY=1352;IncomingHeader.ACHIEVEMENT_PROGRESSED=2107;IncomingHeader.MODTOOL_ROOM_INFO=1333;IncomingHeader.MODTOOL_USER_CHATLOG=3377;IncomingHeader.MODTOOL_ROOM_CHATLOG=3434;IncomingHeader.MODTOOL_VISITED_ROOMS_USER=1752;IncomingHeader.MODERATOR_ACTION_RESULT=2335;IncomingHeader.ISSUE_DELETED=3192;IncomingHeader.ISSUE_INFO=3609;IncomingHeader.ISSUE_PICK_FAILED=3150;IncomingHeader.CFH_CHATLOG=607;IncomingHeader.MODERATOR_TOOL_PREFERENCES=1576;IncomingHeader.LOVELOCK_FURNI_START=3753;IncomingHeader.LOVELOCK_FURNI_FRIEND_COMFIRMED=382;IncomingHeader.LOVELOCK_FURNI_FINISHED=770;IncomingHeader.GIFT_RECEIVER_NOT_FOUND=1517;IncomingHeader.GIFT_OPENED=56;IncomingHeader.FLOOD_CONTROL=566;IncomingHeader.REMAINING_MUTE=826;IncomingHeader.USER_EFFECT_LIST=340;IncomingHeader.USER_EFFECT_LIST_ADD=2867;IncomingHeader.USER_EFFECT_LIST_REMOVE=2228;IncomingHeader.USER_EFFECT_ACTIVATE=1959;IncomingHeader.CLUB_GIFT_INFO=619;IncomingHeader.REDEEM_VOUCHER_ERROR=714;IncomingHeader.REDEEM_VOUCHER_OK=3336;IncomingHeader.IN_CLIENT_LINK=2023;IncomingHeader.BOT_COMMAND_CONFIGURATION=1618;IncomingHeader.HAND_ITEM_RECEIVED=354;IncomingHeader.PET_PLACING_ERROR=2913;IncomingHeader.BOT_ERROR=639;IncomingHeader.MARKETPLACE_SELL_ITEM=54;IncomingHeader.MARKETPLACE_ITEM_STATS=725;IncomingHeader.MARKETPLACE_OWN_ITEMS=3884;IncomingHeader.MARKETPLACE_CANCEL_SALE=3264;IncomingHeader.MARKETPLACE_ITEM_POSTED=1359;IncomingHeader.MARKETPLACE_ITEMS_SEARCHED=680;IncomingHeader.MARKETPLACE_AFTER_ORDER_STATUS=2032;IncomingHeader.CATALOG_RECEIVE_PET_BREEDS=3331;IncomingHeader.CATALOG_APPROVE_NAME_RESULT=1503;IncomingHeader.OBJECTS_DATA_UPDATE=1453;IncomingHeader.PET_EXPERIENCE=2156;IncomingHeader.COMMUNITY_GOAL_VOTE_EVENT=1435;IncomingHeader.PROMO_ARTICLES=286;IncomingHeader.COMMUNITY_GOAL_EARNED_PRIZES=3319;IncomingHeader.COMMUNITY_GOAL_PROGRESS=2525;IncomingHeader.CONCURRENT_USERS_GOAL_PROGRESS=2737;IncomingHeader.QUEST_DAILY=1878;IncomingHeader.QUEST_CANCELLED=3027;IncomingHeader.QUEST_COMPLETED=949;IncomingHeader.COMMUNITY_GOAL_HALL_OF_FAME=3005;IncomingHeader.EPIC_POPUP=3945;IncomingHeader.SEASONAL_QUESTS=1122;IncomingHeader.QUESTS=3625;IncomingHeader.QUEST=230;IncomingHeader.BONUS_RARE_INFO=1533;IncomingHeader.CRAFTABLE_PRODUCTS=1000;IncomingHeader.CRAFTING_RECIPE=2774;IncomingHeader.CRAFTING_RECIPES_AVAILABLE=2124;IncomingHeader.CRAFTING_RESULT=618;IncomingHeader.CAMERA_PUBLISH_STATUS=2057;IncomingHeader.CAMERA_PURCHASE_OK=2783;IncomingHeader.CAMERA_STORAGE_URL=3696;IncomingHeader.COMPETITION_STATUS=133;IncomingHeader.INIT_CAMERA=3878;IncomingHeader.THUMBNAIL_STATUS=3595;IncomingHeader.ACHIEVEMENT_NOTIFICATION=806;IncomingHeader.CLUB_GIFT_NOTIFICATION=2188;IncomingHeader.INTERSTITIAL_MESSAGE=1808;IncomingHeader.ROOM_AD_ERROR=1759;IncomingHeader.AVAILABILITY_TIME=600;IncomingHeader.HOTEL_CLOSED_AND_OPENS=3728;IncomingHeader.HOTEL_CLOSES_AND_OPENS_AT=2771;IncomingHeader.HOTEL_WILL_CLOSE_MINUTES=1050;IncomingHeader.HOTEL_MAINTENANCE=1350;IncomingHeader.JUKEBOX_PLAYLIST_FULL=105;IncomingHeader.JUKEBOX_SONG_DISKS=34;IncomingHeader.NOW_PLAYING=469;IncomingHeader.OFFICIAL_SONG_ID=1381;IncomingHeader.PLAYLIST=1748;IncomingHeader.PLAYLIST_SONG_ADDED=1140;IncomingHeader.TRAX_SONG_INFO=3365;IncomingHeader.USER_SONG_DISKS_INVENTORY=2602;IncomingHeader.CHECK_USER_NAME=563;IncomingHeader.CFH_SANCTION=2782;IncomingHeader.CFH_TOPICS=325;IncomingHeader.CFH_SANCTION_STATUS=2221;IncomingHeader.CAMPAIGN_CALENDAR_DATA=2531;IncomingHeader.CAMPAIGN_CALENDAR_DOOR_OPENED=2551;IncomingHeader.BUILDERS_CLUB_FURNI_COUNT=3828;IncomingHeader.BUILDERS_CLUB_SUBSCRIPTION=1452;IncomingHeader.CATALOG_PAGE_EXPIRATION=2668;IncomingHeader.CATALOG_EARLIEST_EXPIRY=2515;IncomingHeader.CLUB_GIFT_SELECTED=659;IncomingHeader.TARGET_OFFER_NOT_FOUND=1237;IncomingHeader.TARGET_OFFER=119;IncomingHeader.DIRECT_SMS_CLUB_BUY=195;IncomingHeader.ROOM_AD_PURCHASE=2468;IncomingHeader.NOT_ENOUGH_BALANCE=3914;IncomingHeader.LIMITED_OFFER_APPEARING_NEXT=44;IncomingHeader.IS_OFFER_GIFTABLE=761;IncomingHeader.CLUB_EXTENDED_OFFER=3964;IncomingHeader.SEASONAL_CALENDAR_OFFER=1889;IncomingHeader.COMPETITION_ENTRY_SUBMIT=1177;IncomingHeader.COMPETITION_VOTING_INFO=3506;IncomingHeader.COMPETITION_TIMING_CODE=1745;IncomingHeader.COMPETITION_USER_PART_OF=3841;IncomingHeader.COMPETITION_NO_OWNED_ROOMS=2064;IncomingHeader.COMPETITION_SECONDS_UNTIL=3926;IncomingHeader.BADGE_POINT_LIMITS=2501;IncomingHeader.BADGE_REQUEST_FULFILLED=2998;IncomingHeader.HELPER_TALENT_TRACK=3406;IncomingHeader.USER_BANNED=1683;IncomingHeader.BOT_RECEIVED=3684;IncomingHeader.PET_LEVEL_NOTIFICATION=859;IncomingHeader.PET_RECEIVED=1111;IncomingHeader.MODERATION_CAUTION=1890;IncomingHeader.YOUTUBE_CONTROL_VIDEO=1554;IncomingHeader.YOUTUBE_DISPLAY_PLAYLISTS=1112;IncomingHeader.YOUTUBE_DISPLAY_VIDEO=1411;IncomingHeader.CFH_DISABLED_NOTIFY=1651;IncomingHeader.QUESTION=2665;IncomingHeader.POLL_CONTENTS=2997;IncomingHeader.POLL_ERROR=662;IncomingHeader.POLL_OFFER=3785;IncomingHeader.QUESTION_ANSWERED=2589;IncomingHeader.QUESTION_FINISHED=1066;IncomingHeader.CFH_PENDING_CALLS=1121;IncomingHeader.GUIDE_ON_DUTY_STATUS=1548;IncomingHeader.GUIDE_SESSION_ATTACHED=1591;IncomingHeader.GUIDE_SESSION_DETACHED=138;IncomingHeader.GUIDE_SESSION_ENDED=1456;IncomingHeader.GUIDE_SESSION_ERROR=673;IncomingHeader.GUIDE_SESSION_INVITED_TO_GUIDE_ROOM=219;IncomingHeader.GUIDE_SESSION_MESSAGE=841;IncomingHeader.GUIDE_SESSION_PARTNER_IS_TYPING=1016;IncomingHeader.GUIDE_SESSION_REQUESTER_ROOM=1847;IncomingHeader.GUIDE_SESSION_STARTED=3209;IncomingHeader.GUIDE_TICKET_CREATION_RESULT=3285;IncomingHeader.GUIDE_TICKET_RESOLUTION=2674;IncomingHeader.GUIDE_REPORTING_STATUS=3463;IncomingHeader.HOTEL_MERGE_NAME_CHANGE=1663;IncomingHeader.ISSUE_CLOSE_NOTIFICATION=934;IncomingHeader.QUIZ_DATA=2927;IncomingHeader.QUIZ_RESULTS=2772;IncomingHeader.CFH_PENDING_CALLS_DELETED=77;IncomingHeader.CFH_REPLY=3796;IncomingHeader.CHAT_REVIEW_SESSION_DETACHED=30;IncomingHeader.CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE=735;IncomingHeader.CHAT_REVIEW_SESSION_RESULTS=3276;IncomingHeader.CHAT_REVIEW_SESSION_STARTED=143;IncomingHeader.CHAT_REVIEW_SESSION_VOTING_STATUS=1829;IncomingHeader.SCR_SEND_KICKBACK_INFO=3277;IncomingHeader.PET_STATUS=1907;IncomingHeader.GROUP_DEACTIVATE=3129;IncomingHeader.PET_RESPECTED=2788;IncomingHeader.PET_SUPPLEMENT=3441;IncomingHeader.NOOBNESS_LEVEL=3738;IncomingHeader.CAN_CREATE_ROOM_EVENT=2599;IncomingHeader.FAVORITE_GROUP_UDPATE=3403;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/achievements/AchievementEvent.ts\nclass AchievementEvent_AchievementEvent extends MessageEvent{constructor(callBack){super(callBack,AchievementParser_AchievementParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/achievements/AchievementResolutionData.ts\nclass AchievementResolutionData{constructor(wrapper){this._achievementId=void 0;this._level=void 0;this._badgeId=void 0;this._requiredLevel=void 0;this._state=void 0;this._achievementId=wrapper.readInt();this._level=wrapper.readInt();this._badgeId=wrapper.readString();this._requiredLevel=wrapper.readInt();this._state=wrapper.readInt();}dispose(){this._achievementId=0;this._level=0;this._badgeId='';this._requiredLevel=0;}get achievementId(){return this._achievementId;}get level(){return this._level;}get badgeId(){return this._badgeId;}get requiredLevel(){return this._requiredLevel;}get enabled(){return this._state===AchievementResolutionData.STATE_SELECTABLE;}get state(){return this._state;}}AchievementResolutionData.STATE_SELECTABLE=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/achievements/AchievementsEvent.ts\nclass AchievementsEvent_AchievementsEvent extends MessageEvent{constructor(callBack){super(callBack,AchievementsParser_AchievementsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/achievements/AchievementsScoreEvent.ts\nclass AchievementsScoreEvent_AchievementsScoreEvent extends MessageEvent{constructor(callBack){super(callBack,AchievementsScoreParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/achievements/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/avatareffect/AvatarEffectActivatedEvent.ts\nclass AvatarEffectActivatedEvent_AvatarEffectActivatedEvent extends MessageEvent{constructor(callBack){super(callBack,AvatarEffectActivatedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/avatareffect/AvatarEffectAddedEvent.ts\nclass AvatarEffectAddedEvent_AvatarEffectAddedEvent extends MessageEvent{constructor(callBack){super(callBack,AvatarEffectAddedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/avatareffect/AvatarEffectExpiredEvent.ts\nclass AvatarEffectExpiredEvent_AvatarEffectExpiredEvent extends MessageEvent{constructor(callBack){super(callBack,AvatarEffectExpiredParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/avatareffect/AvatarEffectSelectedEvent.ts\nclass AvatarEffectSelectedEvent_AvatarEffectSelectedEvent extends MessageEvent{constructor(callBack){super(callBack,AvatarEffectSelectedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/avatareffect/AvatarEffectsEvent.ts\nclass AvatarEffectsEvent_AvatarEffectsEvent extends MessageEvent{constructor(callBack){super(callBack,AvatarEffectsParser_AvatarEffectsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/avatareffect/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/badges/BadgePointLimitsEvent.ts\nclass BadgePointLimitsEvent_BadgePointLimitsEvent extends MessageEvent{constructor(callBack){super(callBack,BadgePointLimitsParser_BadgePointLimitsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/badges/BadgeReceivedEvent.ts\nclass BadgeReceivedEvent_BadgeReceivedEvent extends MessageEvent{constructor(callBack){super(callBack,BadgeReceivedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/badges/BadgesEvent.ts\nclass BadgesEvent_BadgesEvent extends MessageEvent{constructor(callBack){super(callBack,BadgesParser_BadgesParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/badges/IsBadgeRequestFulfilledEvent.ts\nclass IsBadgeRequestFulfilledEvent_IsBadgeRequestFulfilledEvent extends MessageEvent{constructor(callBack){super(callBack,IsBadgeRequestFulfilledParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/badges/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/clothes/FigureSetIdsMessageEvent.ts\nclass FigureSetIdsMessageEvent_FigureSetIdsMessageEvent extends MessageEvent{constructor(callBack){super(callBack,FigureSetIdsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/clothes/_Str_16135.ts\nclass _Str_16135_Str_16135 extends MessageEvent{constructor(callBack){super(callBack,_Str_8728);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/clothes/_Str_17532.ts\nclass _Str_17532_Str_17532 extends MessageEvent{constructor(callBack){super(callBack,_Str_9021);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/clothes/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/FurnitureListAddOrUpdateEvent.ts\nclass FurnitureListAddOrUpdateEvent_FurnitureListAddOrUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureListAddOrUpdateParser_FurnitureListAddOrUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/FurnitureListEvent.ts\nclass FurnitureListEvent_FurnitureListEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureListParser_FurnitureListParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/FurnitureListInvalidateEvent.ts\nclass FurnitureListInvalidateEvent_FurnitureListInvalidateEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureListInvalidateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/FurnitureListRemovedEvent.ts\nclass FurnitureListRemovedEvent_FurnitureListRemovedEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureListRemovedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/FurniturePostItPlacedEvent.ts\nclass FurniturePostItPlacedEvent_FurniturePostItPlacedEvent extends MessageEvent{constructor(callBack){super(callBack,FurniturePostItPlacedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/gifts/PresentOpenedMessageEvent.ts\nclass PresentOpenedMessageEvent_PresentOpenedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PresentOpenedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/gifts/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/IFurnitureItemData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/furni/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/pets/PetAddedToInventoryEvent.ts\nclass PetAddedToInventoryEvent_PetAddedToInventoryEvent extends MessageEvent{constructor(callBack){super(callBack,PetAddedToInventoryParser_PetAddedToInventoryParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/pets/PetInventoryEvent.ts\nclass PetInventoryEvent_PetInventoryEvent extends MessageEvent{constructor(callBack){super(callBack,PetInventoryParser_PetInventoryParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/pets/PetReceivedMessageEvent.ts\nclass PetReceivedMessageEvent_PetReceivedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PetReceivedMessageParser_PetReceivedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/pets/PetRemovedFromInventoryEvent.ts\nclass PetRemovedFromInventoryEvent_PetRemovedFromInventory extends MessageEvent{constructor(callBack){super(callBack,PetRemovedFromInventoryParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/pets/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingAcceptEvent.ts\nclass TradingAcceptEvent_TradingAcceptEvent extends MessageEvent{constructor(callBack){super(callBack,TradingAcceptParser);}get userID(){return this.getParser().userID;}get userAccepts(){return this.getParser().userAccepts;}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingCloseEvent.ts\nclass TradingCloseEvent_TradingCloseEvent extends MessageEvent{constructor(callBack){super(callBack,TradingCloseParser);}get userID(){return this.getParser().userID;}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingCompletedEvent.ts\nclass TradingCompletedEvent_TradingCompletedEvent extends MessageEvent{constructor(callBack){super(callBack,TradingCompletedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingConfirmationEvent.ts\nclass TradingConfirmationEvent_TradingConfirmationEvent extends MessageEvent{constructor(callBack){super(callBack,TradingConfirmationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingListItemEvent.ts\nclass TradingListItemEvent_TradingListItemEvent extends MessageEvent{constructor(callBack){super(callBack,TradingListItemParser_TradingListItemParser);}get firstUserID(){return this.getParser().firstUserID;}get secondUserID(){return this.getParser().secondUserID;}get firstUserNumItems(){return this.getParser().firstUserNumItems;}get secondUserNumItems(){return this.getParser().secondUserNumItems;}get firstUserNumCredits(){return this.getParser().firstUserNumCredits;}get secondUserNumCredits(){return this.getParser().secondUserNumCredits;}get firstUserItemArray(){return this.getParser().firstUserItemArray;}get secondUserItemArray(){return this.getParser().secondUserItemArray;}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingNotOpenEvent.ts\nclass TradingNotOpenEvent_TradingNotOpenEvent extends MessageEvent{constructor(callBack){super(callBack,TradingNotOpenParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingOpenEvent.ts\nclass TradingOpenEvent_TradingOpenEvent extends MessageEvent{constructor(callBack){super(callBack,TradingOpenParser);}get userID(){return this.getParser().userID;}get userCanTrade(){return this.getParser().userCanTrade;}get otherUserID(){return this.getParser().otherUserID;}get otherUserCanTrade(){return this.getParser().otherUserCanTrade;}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingOpenFailedEvent.ts\nclass TradingOpenFailedEvent_TradingOpenFailedEvent extends MessageEvent{constructor(callBack){super(callBack,TradingOpenFailedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingOtherNotAllowedEvent.ts\nclass TradingOtherNotAllowedEvent_TradingOtherNotAllowedEvent extends MessageEvent{constructor(callBack){super(callBack,TradingOtherNotAllowedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/TradingYouAreNotAllowedEvent.ts\nclass TradingYouAreNotAllowedEvent_TradingYouAreNotAllowedEvent extends MessageEvent{constructor(callBack){super(callBack,TradingYouAreNotAllowedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/trading/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/inventory/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/landingview/PromoArticlesMessageEvent.ts\nclass PromoArticlesMessageEvent_PromoArticlesMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PromoArticlesMessageParser_PromoArticlesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/landingview/votes/CommunityGoalVoteMessageEvent.ts\nclass CommunityGoalVoteMessageEvent_CommunityGoalVoteMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CommunityVoteReceivedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/landingview/votes/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/landingview/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceBuyOfferResultEvent.ts\nclass MarketplaceBuyOfferResultEvent_MarketplaceBuyOfferResultEvent extends MessageEvent{constructor(callBack){super(callBack,MarketplaceBuyOfferResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceCancelOfferResultEvent.ts\nclass MarketplaceCancelOfferResultEvent_MarketplaceCancelOfferResultEvent extends MessageEvent{constructor(callBack){super(callBack,MarketplaceCancelOfferResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceCanMakeOfferResult.ts\nclass MarketplaceCanMakeOfferResult_MarketplaceCanMakeOfferResult extends MessageEvent{constructor(callBack){super(callBack,MarketplaceCanMakeOfferResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceConfigurationEvent.ts\nclass MarketplaceConfigurationEvent_MarketplaceConfigurationEvent extends MessageEvent{constructor(callBack){super(callBack,MarketplaceConfigurationMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceItemStatsEvent.ts\nclass MarketplaceItemStatsEvent_MarketplaceItemStatsEvent extends MessageEvent{constructor(callBack){super(callBack,MarketplaceItemStatsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceMakeOfferResult.ts\nclass MarketplaceMakeOfferResult_MarketplaceMakeOfferResult extends MessageEvent{constructor(callBack){super(callBack,MarketplaceMakeOfferResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceOffersEvent.ts\nclass MarketplaceOffersEvent_MarketPlaceOffersEvent extends MessageEvent{constructor(callBack){super(callBack,MarketplaceOffersParser_MarketplaceOffersParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/MarketplaceOwnOffersEvent.ts\nclass MarketplaceOwnOffersEvent_MarketplaceOwnOffersEvent extends MessageEvent{constructor(callBack){super(callBack,MarketplaceOwnOffersParser_MarketplaceOwnOffersParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/marketplace/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/CfhChatlogEvent.ts\nclass CfhChatlogEvent_CfhChatlogEvent extends MessageEvent{constructor(callBack){super(callBack,CfhChatlogMessageParser_CfhChatlogMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/INamed.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/IssueDeletedMessageEvent.ts\nclass IssueDeletedMessageEvent_IssueDeletedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,IssueDeletedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/IssueInfoMessageEvent.ts\nclass IssueInfoMessageEvent_IssueInfoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,IssueInfoMessageParser_IssueInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/IssuePickFailedMessageEvent.ts\nclass IssuePickFailedMessageEvent_IssuePickFailedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,IssuePickFailedMessageParser_IssuePickFailedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorActionResultMessageEvent.ts\nclass ModeratorActionResultMessageEvent_ModeratorActionResultMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ModeratorActionResultMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorCautionEvent.ts\nclass ModeratorCautionEvent_ModeratorCautionEvent extends MessageEvent{constructor(callBack){super(callBack,ModerationCautionParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorInitMessageEvent.ts\nclass ModeratorInitMessageEvent_ModeratorInitMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ModeratorInitMessageParser_ModeratorInitMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorMessageEvent.ts\nclass ModeratorMessageEvent_ModeratorMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ModeratorMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorRoomInfoEvent.ts\nclass ModeratorRoomInfoEvent_ModeratorRoomInfoEvent extends MessageEvent{constructor(callBack){super(callBack,ModeratorRoomInfoMessageParser_ModeratorRoomInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorToolPreferencesEvent.ts\nclass ModeratorToolPreferencesEvent_ModeratorToolPreferencesEvent extends MessageEvent{constructor(callBack){super(callBack,ModeratorToolPreferencesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/ModeratorUserInfoEvent.ts\nclass ModeratorUserInfoEvent_ModeratorUserInfoEvent extends MessageEvent{constructor(callBack){super(callBack,ModeratorUserInfoMessageParser_ModeratorUserInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/RoomChatlogEvent.ts\nclass RoomChatlogEvent_RoomChatlogEvent extends MessageEvent{constructor(callBack){super(callBack,RoomChatlogMessageParser_RoomChatlogMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/RoomVisitsEvent.ts\nclass RoomVisitsEvent_RoomVisitsEvent extends MessageEvent{constructor(callBack){super(callBack,RoomVisitsMessageParser_RoomVisitsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/UserBannedMessageEvent.ts\nclass UserBannedMessageEvent_UserBannedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,UserBannedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/UserChatlogEvent.ts\nclass UserChatlogEvent_UserChatlogEvent extends MessageEvent{constructor(callBack){super(callBack,UserChatlogMessageParser_UserChatlogMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/moderation/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/mysterybox/MysteryBoxKeysEvent.ts\nclass MysteryBoxKeysEvent_MysteryBoxKeysEvent extends MessageEvent{constructor(callBack){super(callBack,MysteryBoxKeysParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/mysterybox/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/CanCreateRoomEventEvent.ts\nclass CanCreateRoomEventEvent_CanCreateRoomEventEvent extends MessageEvent{constructor(callBack){super(callBack,CanCreateRoomEventParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorCategoriesEvent.ts\nclass NavigatorCategoriesEvent_NavigatorCategoriesEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorCategoriesParser_NavigatorCategoriesParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorCollapsedEvent.ts\nclass NavigatorCollapsedEvent_NavigatorCollapsedEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorCollapsedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorEventCategoriesEvent.ts\nclass NavigatorEventCategoriesEvent_NavigatorEventCategoriesEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorEventCategoriesParser_NavigatorEventCategoriesParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorHomeRoomEvent.ts\nclass NavigatorHomeRoomEvent_NavigatorHomeRoomEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorHomeRoomParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorLiftedEvent.ts\nclass NavigatorLiftedEvent_NavigatorLiftedEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorLiftedParser_NavigatorLiftedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorMetadataEvent.ts\nclass NavigatorMetadataEvent_NavigatorMetadataEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorMetadataParser_NavigatorMetadataParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorOpenRoomCreatorEvent.ts\nclass NavigatorOpenRoomCreatorEvent_NavigatorOpenRoomCreatorEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorOpenRoomCreatorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorSearchesEvent.ts\nclass NavigatorSearchesEvent_NavigatorSearchesEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorSearchesParser_NavigatorSearchesParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorSearchEvent.ts\nclass NavigatorSearchEvent_NavigatorSearchEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorSearchParser_NavigatorSearchParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/NavigatorSettingsEvent.ts\nclass NavigatorSettingsEvent_NavigatorSettingsEvent extends MessageEvent{constructor(callBack){super(callBack,NavigatorSettingsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/navigator/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/AchievementLevelUpData.ts\nclass AchievementLevelUpData{constructor(wrapper){this._type=void 0;this._level=void 0;this._points=void 0;this._levelRewardPoints=void 0;this._levelRewardPointType=void 0;this._bonusPoints=void 0;this._badgeId=void 0;this._badgeCode='';this._removedBadgeCode='';this._achievementID=void 0;this._category=void 0;this._showDialogToUser=void 0;this._type=wrapper.readInt();this._level=wrapper.readInt();this._badgeId=wrapper.readInt();this._badgeCode=wrapper.readString();this._points=wrapper.readInt();this._levelRewardPoints=wrapper.readInt();this._levelRewardPointType=wrapper.readInt();this._bonusPoints=wrapper.readInt();this._achievementID=wrapper.readInt();this._removedBadgeCode=wrapper.readString();this._category=wrapper.readString();this._showDialogToUser=wrapper.readBoolean();}get type(){return this._type;}get level(){return this._level;}get points(){return this._points;}get levelRewardPoints(){return this._levelRewardPoints;}get levelRewardPointType(){return this._levelRewardPointType;}get bonusPoints(){return this._bonusPoints;}get badgeId(){return this._badgeId;}get badgeCode(){return this._badgeCode;}get removedBadgeCode(){return this._removedBadgeCode;}get achievementID(){return this._achievementID;}get category(){return this._category;}get showDialogToUser(){return this._showDialogToUser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/AchievementNotificationMessageEvent.ts\nclass AchievementNotificationMessageEvent_AchievementNotificationMessageEvent extends MessageEvent{constructor(callBack){super(callBack,AchievementNotificationMessageParser_AchievementNotificationMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/ActivityPointNotificationMessageEvent.ts\nclass ActivityPointNotificationMessageEvent_ActivityPointNotificationMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ActivityPointNotificationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/BotErrorEvent.ts\nclass BotErrorEvent_BotErrorEvent extends MessageEvent{constructor(callBack){super(callBack,BotErrorEventParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/ClubGiftNotificationEvent.ts\nclass ClubGiftNotificationEvent_ClubGiftNotificationEvent extends MessageEvent{constructor(callBack){super(callBack,ClubGiftNotificationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/HabboBroadcastMessageEvent.ts\nclass HabboBroadcastMessageEvent_HabboBroadcastMessageEvent extends MessageEvent{constructor(callBack){super(callBack,HabboBroadcastMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/HotelWillShutdownEvent.ts\nclass HotelWillShutdownEvent_HotelWillShutdownEvent extends MessageEvent{constructor(callBack){super(callBack,HotelWillShutdownParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/InfoFeedEnableMessageEvent.ts\nclass InfoFeedEnableMessageEvent_InfoFeedEnableMessageEvent extends MessageEvent{constructor(callBack){super(callBack,InfoFeedEnableMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/MOTDNotificationEvent.ts\nclass MOTDNotificationEvent_MOTDNotificationEvent extends MessageEvent{constructor(callBack){super(callBack,MOTDNotificationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/NotificationDialogMessageEvent.ts\nclass NotificationDialogMessageEvent_NotificationDialogMessageEvent extends MessageEvent{constructor(callBack){super(callBack,NotificationDialogMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/PetLevelNotificationEvent.ts\nclass PetLevelNotificationEvent_PetLevelNotificationEvent extends MessageEvent{constructor(callBack){super(callBack,PetLevelNotificationParser_PetLevelNotificationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/PetPlacingErrorEvent.ts\nclass PetPlacingErrorEvent_PetPlacingErrorEvent extends MessageEvent{constructor(callBack){super(callBack,PetPlacingErrorEventParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/UnseenItemsEvent.ts\nclass UnseenItemsEvent_UnseenItemsEvent extends MessageEvent{constructor(callBack){super(callBack,UnseenItemsParser_UnseenItemsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/notifications/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/perk/PerkAllowancesMessageEvent.ts\nclass PerkAllowancesMessageEvent_PerkAllowancesMessageEvent extends MessageEvent{constructor(callBack){super(callBack,PerkAllowancesMessageParser_PerkAllowancesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/perk/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/poll/PollContentsEvent.ts\nclass PollContentsEvent_PollContentsEvent extends MessageEvent{constructor(callBack){super(callBack,PollContentsParser_PollContentsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/poll/PollErrorEvent.ts\nclass PollErrorEvent_PollErrorEvent extends MessageEvent{constructor(callBack){super(callBack,PollErrorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/poll/PollOfferEvent.ts\nclass PollOfferEvent_PollOfferEvent extends MessageEvent{constructor(callBack){super(callBack,PollOfferParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/poll/QuestionAnsweredEvent.ts\nclass QuestionAnsweredEvent_QuestionAnsweredEvent extends MessageEvent{constructor(callBack){super(callBack,QuestionAnsweredParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/poll/QuestionEvent.ts\nclass QuestionEvent_QuestionEvent extends MessageEvent{constructor(callBack){super(callBack,QuestionParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/poll/QuestionFinishedEvent.ts\nclass QuestionFinishedEvent_QuestionFinishedEvent extends MessageEvent{constructor(callBack){super(callBack,QuestionFinishedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/poll/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/CommunityGoalEarnedPrizesMessageEvent.ts\nclass CommunityGoalEarnedPrizesMessageEvent_CommunityGoalEarnedPrizesMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CommunityGoalEarnedPrizesMessageParser_CommunityGoalEarnedPrizesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/CommunityGoalHallOfFameMessageEvent.ts\nclass CommunityGoalHallOfFameMessageEvent_CommunityGoalHallOfFameMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CommunityGoalHallOfFameMessageParser_CommunityGoalHallOfFameMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/CommunityGoalProgressMessageEvent.ts\nclass CommunityGoalProgressMessageEvent_CommunityGoalProgressMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CommunityGoalProgressMessageParser_CommunityGoalProgressMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/ConcurrentUsersGoalProgressMessageEvent.ts\nclass ConcurrentUsersGoalProgressMessageEvent_ConcurrentUsersGoalProgressMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ConcurrentUsersGoalProgressMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/EpicPopupMessageEvent.ts\nclass EpicPopupMessageEvent_EpicPopupMessageEvent extends MessageEvent{constructor(callBack){super(callBack,EpicPopupMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/ILandingPageUserEntry.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/QuestCancelledMessageEvent.ts\nclass QuestCancelledMessageEvent_QuestCancelledMessageEvent extends MessageEvent{constructor(callBack){super(callBack,QuestCancelledMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/QuestCompletedMessageEvent.ts\nclass QuestCompletedMessageEvent_QuestCompletedMessageEvent extends MessageEvent{constructor(callBack){super(callBack,QuestCompletedMessageParser_QuestCompletedMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/QuestDailyMessageEvent.ts\nclass QuestDailyMessageEvent_QuestDailyMessageEvent extends MessageEvent{constructor(callBack){super(callBack,QuestDailyMessageParser_QuestDailyMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/QuestMessageEvent.ts\nclass QuestMessageEvent_QuestMessageEvent extends MessageEvent{constructor(callBack){super(callBack,QuestMessageParser_QuestMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/QuestsMessageEvent.ts\nclass QuestsMessageEvent_QuestsMessageEvent extends MessageEvent{constructor(callBack){super(callBack,QuestsMessageParser_QuestsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/SeasonalQuestsMessageEvent.ts\nclass SeasonalQuestsMessageEvent_SeasonalQuestsMessageEvent extends MessageEvent{constructor(callBack){super(callBack,SeasonalQuestsParser_SeasonalQuestsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/quest/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/doorbell/RoomDoorbellAcceptedEvent.ts\nclass RoomDoorbellAcceptedEvent_RoomDoorbellAcceptedEvent extends MessageEvent{constructor(callBack){super(callBack,RoomDoorbellAcceptedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/doorbell/RoomDoorbellEvent.ts\nclass RoomDoorbellEvent_RoomDoorbellEvent extends MessageEvent{constructor(callBack){super(callBack,RoomDoorbellParser);}getParser(){return this.parser;}get userName(){return this.getParser().userName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/doorbell/RoomDoorbellRejectedEvent.ts\nclass RoomDoorbellRejectedEvent_RoomDoorbellRejectedEvent extends MessageEvent{constructor(callBack){super(callBack,RoomDoorbellRejectedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/doorbell/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/rights/RoomRightsClearEvent.ts\nclass RoomRightsClearEvent_RoomRightsClearEvent extends MessageEvent{constructor(callBack){super(callBack,RoomRightsClearParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/rights/RoomRightsEvent.ts\nclass RoomRightsEvent_RoomRightsEvent extends MessageEvent{constructor(callBack){super(callBack,RoomRightsParser_RoomRightsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/rights/RoomRightsOwnerEvent.ts\nclass RoomRightsOwnerEvent_RoomRightsOwnerEvent extends MessageEvent{constructor(callBack){super(callBack,RoomRightsOwnerParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/rights/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/RoomEnterErrorEvent.ts\nclass RoomEnterErrorEvent_RoomEnterErrorEvent extends MessageEvent{constructor(callBack){super(callBack,CantConnectMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/RoomEnterEvent.ts\nclass RoomEnterEvent_RoomEnterEvent extends MessageEvent{constructor(callBack){super(callBack,RoomEnterParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/RoomForwardEvent.ts\nclass RoomForwardEvent_RoomForwardEvent extends MessageEvent{constructor(callBack){super(callBack,RoomFowardParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/access/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/bots/BotCommandConfigurationEvent.ts\nclass BotCommandConfigurationEvent_BotCommandConfigurationEvent extends MessageEvent{constructor(callBack){super(callBack,BotCommandConfigurationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/bots/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/GetGuestRoomResultEvent.ts\nclass GetGuestRoomResultEvent_GetGuestRoomResultEvent extends MessageEvent{constructor(callBack){super(callBack,RoomInfoParser_RoomInfoParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/RoomChatSettingsEvent.ts\nclass RoomChatSettingsEvent_RoomChatSettingsEvent extends MessageEvent{constructor(callBack){super(callBack,RoomChatSettingsParser_RoomChatSettingsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/RoomEntryInfoMessageEvent.ts\nclass RoomEntryInfoMessageEvent_RoomEntryInfoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,RoomEntryInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/RoomScoreEvent.ts\nclass RoomScoreEvent_RoomScoreEvent extends MessageEvent{constructor(callBack){super(callBack,RoomScoreParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/RoomSettingsErrorEvent.ts\nclass RoomSettingsErrorEvent_RoomSettingsErrorEvent extends MessageEvent{constructor(callBack){super(callBack,RoomSettingsErrorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/RoomSettingsEvent.ts\nclass RoomSettingsEvent_RoomSettingsEvent extends MessageEvent{constructor(callBack){super(callBack,RoomSettingsParser_RoomSettingsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/RoomSettingsSavedEvent.ts\nclass RoomSettingsSavedEvent_RoomSettingsSavedEvent extends MessageEvent{constructor(callBack){super(callBack,RoomSettingsSavedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/RoomSettingsUpdatedEvent.ts\nclass RoomSettingsUpdatedEvent_RoomSettingsUpdatedEvent extends MessageEvent{constructor(callBack){super(callBack,RoomSettingsUpdatedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/engine/ObjectsDataUpdateEvent.ts\nclass ObjectsDataUpdateEvent_ObjectsDataUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,ObjectsDataUpdateParser_ObjectsDataUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/engine/ObjectsRollingEvent.ts\nclass ObjectsRollingEvent_ObjectsRollingEvent extends MessageEvent{constructor(callBack){super(callBack,ObjectsRollingParser_ObjectsRollingParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/engine/RoomCreatedEvent.ts\nclass RoomCreatedEvent_RoomCreatedEvent extends MessageEvent{constructor(callBack){super(callBack,RoomCreatedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/engine/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/DiceValueMessageEvent.ts\nclass DiceValueMessageEvent_DiceValueMessageEvent extends MessageEvent{constructor(callBack){super(callBack,DiceValueMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorAddEvent.ts\nclass FurnitureFloorAddEvent_FurnitureFloorAddEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureFloorAddParser_FurnitureFloorAddParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorEvent.ts\nclass FurnitureFloorEvent_FurnitureFloorEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureFloorParser_FurnitureFloorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorRemoveEvent.ts\nclass FurnitureFloorRemoveEvent_FurnitureFloorRemoveEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureFloorRemoveParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorUpdateEvent.ts\nclass FurnitureFloorUpdateEvent_FurnitureFloorUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureFloorUpdateParser_FurnitureFloorUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/floor/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/FurnitureAliasesEvent.ts\nclass FurnitureAliasesEvent_FurnitureAliasesEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureAliasesParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/FurnitureDataEvent.ts\nclass FurnitureDataEvent_FurnitureDataEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureDataParser_FurnitureDataParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/FurniturePostItStickyPoleOpenParser.ts\nclass FurniturePostItStickyPoleOpenParser{constructor(){this._itemId=void 0;}flush(){this._itemId=0;return true;}parse(wrapper){if(!wrapper)return false;this._itemId=parseInt(wrapper.readString());return true;}get furnitureId(){return this._itemId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/FurniturePostItStickyPoleOpenEvent.ts\nclass FurniturePostItStickyPoleOpenEvent_FurniturePostItStickyPoleOpenEvent extends MessageEvent{constructor(callBack){super(callBack,FurniturePostItStickyPoleOpenParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/FurnitureStackHeightEvent.ts\nclass FurnitureStackHeightEvent_FurnitureStackHeightEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureStackHeightParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/GroupFurniContextMenuInfoMessageEvent.ts\nclass GroupFurniContextMenuInfoMessageEvent_GroupFurniContextMenuInfoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GroupFurniContextMenuInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/ItemDataUpdateMessageEvent.ts\nclass ItemDataUpdateMessageEvent_ItemDataUpdateMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ItemDataUpdateMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/LoveLockFurniFinishedEvent.ts\nclass LoveLockFurniFinishedEvent_LoveLockFurniFinishedEvent extends MessageEvent{constructor(callBack){super(callBack,LoveLockFurniFinishedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/LoveLockFurniFriendConfirmedEvent.ts\nclass LoveLockFurniFriendConfirmedEvent_LoveLockFurniFriendConfirmedEvent extends MessageEvent{constructor(callBack){super(callBack,LoveLockFurniFriendConfirmedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/LoveLockFurniStartEvent.ts\nclass LoveLockFurniStartEvent_LoveLockFurniStartEvent extends MessageEvent{constructor(callBack){super(callBack,LoveLockFurniStartParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/OneWayDoorStatusMessageEvent.ts\nclass OneWayDoorStatusMessageEvent_OneWayDoorStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,OneWayDoorStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/RoomDimmerPresetsMessageEvent.ts\nclass RoomDimmerPresetsMessageEvent_RoomDimmerPresetsEvent extends MessageEvent{constructor(callBack){super(callBack,RoomDimmerPresetsMessageParser_RoomDimmerPresetsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallAddEvent.ts\nclass FurnitureWallAddEvent_FurnitureWallAddEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureWallAddParser_FurnitureWallAddParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallEvent.ts\nclass FurnitureWallEvent_FurnitureWallEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureWallParser_FurnitureWallParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallRemoveEvent.ts\nclass FurnitureWallRemoveEvent_FurnitureWallRemoveEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureWallRemoveParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallUpdateEvent.ts\nclass FurnitureWallUpdateEvent_FurnitureWallUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,FurnitureWallUpdateParser_FurnitureWallUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/wall/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/youtube/YoutubeControlVideoMessageEvent.ts\nclass YoutubeControlVideoMessageEvent_YoutubeControlVideoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,YoutubeControlVideoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/youtube/YoutubeDisplayPlaylistsEvent.ts\nclass YoutubeDisplayPlaylistsEvent_YoutubeDisplayPlaylistsEvent extends MessageEvent{constructor(callBack){super(callBack,YoutubeDisplayPlaylistsMessageParser_YoutubeDisplayPlaylistsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/youtube/YoutubeDisplayVideoMessageEvent.ts\nclass YoutubeDisplayVideoMessageEvent_YoutubeDisplayVideoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,YoutubeDisplayVideoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/youtube/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/furniture/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/FloorHeightMapEvent.ts\nclass FloorHeightMapEvent_FloorHeightMapEvent extends MessageEvent{constructor(callBack){super(callBack,FloorHeightMapMessageParser_FloorHeightMapMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/RoomEntryTileMessageEvent.ts\nclass RoomEntryTileMessageEvent_RoomEntryTileMessageEvent extends MessageEvent{constructor(callBack){super(callBack,RoomEntryTileMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/RoomHeightMapEvent.ts\nclass RoomHeightMapEvent_RoomHeightMapEvent extends MessageEvent{constructor(callBack){super(callBack,RoomHeightMapParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/RoomHeightMapUpdateEvent.ts\nclass RoomHeightMapUpdateEvent_RoomHeightMapUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,RoomHeightMapUpdateParser_RoomHeightMapUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/RoomOccupiedTilesMessageEvent.ts\nclass RoomOccupiedTilesMessageEvent_RoomOccupiedTilesMessageEvent extends MessageEvent{constructor(callBack){super(callBack,RoomOccupiedTilesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/RoomPaintEvent.ts\nclass RoomPaintEvent_RoomPaintEvent extends MessageEvent{constructor(callBack){super(callBack,RoomPaintParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/RoomReadyMessageEvent.ts\nclass RoomReadyMessageEvent_RoomReadyMessageEvent extends MessageEvent{constructor(callBack){super(callBack,RoomReadyMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/RoomVisualizationSettingsEvent.ts\nclass RoomVisualizationSettingsEvent_RoomVisualizationSettingsEvent extends MessageEvent{constructor(callBack){super(callBack,RoomVisualizationSettingsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/mapping/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/PetBreedingResultData.ts\nclass PetBreedingResultData{constructor(stuffId,classId,productCode,userId,userName,rarityLevel,hasMutation){this._stuffId=void 0;this._classId=void 0;this._productCode=void 0;this._userId=void 0;this._userName=void 0;this._rarityLevel=void 0;this._hasMutation=void 0;this._stuffId=stuffId;this._classId=classId;this._productCode=productCode;this._userId=userId;this._userName=userName;this._rarityLevel=rarityLevel;this._hasMutation=hasMutation;}get stuffId(){return this._stuffId;}get classId(){return this._classId;}get productCode(){return this._productCode;}get userId(){return this._userId;}get userName(){return this._userName;}get rarityLevel(){return this._rarityLevel;}get hasMutation(){return this._hasMutation;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/PetExperienceEvent.ts\nclass PetExperienceEvent_PetExperienceEvent extends MessageEvent{constructor(callBack){super(callBack,PetExperienceParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/PetFigureUpdateEvent.ts\nclass PetFigureUpdateEvent_PetFigureUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,PetFigureUpdateParser_PetFigureUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/PetInfoEvent.ts\nclass PetInfoEvent_PetInfoEvent extends MessageEvent{constructor(callBack){super(callBack,PetInfoParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/session/YouArePlayingGameEvent.ts\nclass YouArePlayingGameEvent_YouArePlayingGameEvent extends MessageEvent{constructor(callBack){super(callBack,YouArePlayingGameParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/session/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/chat/FloodControlEvent.ts\nclass FloodControlEvent_FloodControlEvent extends MessageEvent{constructor(callBack){super(callBack,FloodControlParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/chat/RemainingMuteEvent.ts\nclass RemainingMuteEvent_RemainingMuteEvent extends MessageEvent{constructor(callBack){super(callBack,RemainingMuteParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/chat/RoomUnitChatEvent.ts\nclass RoomUnitChatEvent_RoomUnitChatEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitChatParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/chat/RoomUnitChatShoutEvent.ts\nclass RoomUnitChatShoutEvent_RoomUnitChatShoutEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitChatParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/chat/RoomUnitChatWhisperEvent.ts\nclass RoomUnitChatWhisperEvent_RoomUnitChatWhisperEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitChatParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/chat/RoomUnitTypingEvent.ts\nclass RoomUnitTypingEvent_RoomUnitTypingEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitTypingParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/chat/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitDanceEvent.ts\nclass RoomUnitDanceEvent_RoomUnitDanceEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitDanceParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitEffectEvent.ts\nclass RoomUnitEffectEvent_RoomUnitEffectEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitEffectParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitEvent.ts\nclass RoomUnitEvent_RoomUnitEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitParser_RoomUnitParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitExpressionEvent.ts\nclass RoomUnitExpressionEvent_RoomUnitExpressionEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitExpressionParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitHandItemEvent.ts\nclass RoomUnitHandItemEvent_RoomUnitHandItemEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitHandItemParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitHandItemReceivedEvent.ts\nclass RoomUnitHandItemReceivedEvent_RoomUnitHandItemReceivedEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitHandItemReceivedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitIdleEvent.ts\nclass RoomUnitIdleEvent_RoomUnitIdleEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitIdleParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitInfoEvent.ts\nclass RoomUnitInfoEvent_RoomUnitInfoEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitInfoParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitNumberEvent.ts\nclass RoomUnitNumberEvent_RoomUnitNumberEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitNumberParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitRemoveEvent.ts\nclass RoomUnitRemoveEvent_RoomUnitRemoveEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitRemoveParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/RoomUnitStatusEvent.ts\nclass RoomUnitStatusEvent_RoomUnitStatusEvent extends MessageEvent{constructor(callBack){super(callBack,RoomUnitStatusParser_RoomUnitStatusParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/unit/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/RoomMutedEvent.ts\nclass RoomMutedEvent_RoomMutedEvent extends MessageEvent{constructor(callBack){super(callBack,RoomMutedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredFurniActionEvent.ts\nclass WiredFurniActionEvent_WiredFurniActionEvent extends MessageEvent{constructor(callBack){super(callBack,WiredFurniActionParser_WiredFurniActionParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredFurniConditionEvent.ts\nclass WiredFurniConditionEvent_WiredFurniConditionEvent extends MessageEvent{constructor(callBack){super(callBack,WiredFurniConditionParser_WiredFurniConditionParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredFurniTriggerEvent.ts\nclass WiredFurniTriggerEvent_WiredFurniTriggerEvent extends MessageEvent{constructor(callBack){super(callBack,WiredFurniTriggerParser_WiredFurniTriggerParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredOpenEvent.ts\nclass WiredOpenEvent_WiredOpenEvent extends MessageEvent{constructor(callBack){super(callBack,WiredOpenParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredRewardResultMessageEvent.ts\nclass WiredRewardResultMessageEvent_WiredRewardResultMessageEvent extends MessageEvent{constructor(callBack){super(callBack,WiredRewardResultMessageParser);}getParser(){return this.parser;}}WiredRewardResultMessageEvent_WiredRewardResultMessageEvent.PRODUCT_DONATED_CODE=6;WiredRewardResultMessageEvent_WiredRewardResultMessageEvent.BADGE_DONATED_CODE=7;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredSaveSuccessEvent.ts\nclass WiredSaveSuccessEvent_WiredSaveSuccessEvent extends MessageEvent{constructor(callBack){super(callBack,WiredSaveSuccessParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/WiredValidationErrorEvent.ts\nclass WiredValidationErrorEvent_WiredValidationErrorEvent extends MessageEvent{constructor(callBack){super(callBack,WiredValidationErrorParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomevents/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/BannedUsersFromRoomEvent.ts\nclass BannedUsersFromRoomEvent_BannedUsersFromRoomEvent extends MessageEvent{constructor(callBack){super(callBack,BannedUsersFromRoomParser_BannedUsersFromRoomParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/FlatControllerAddedEvent.ts\nclass FlatControllerAddedEvent_FlatControllerAddedEvent extends MessageEvent{constructor(callBack){super(callBack,FlatControllerAddedParser_FlatControllerAddedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/FlatControllerRemovedEvent.ts\nclass FlatControllerRemovedEvent_FlatControllerRemovedEvent extends MessageEvent{constructor(callBack){super(callBack,FlatControllerRemovedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/FlatControllersEvent.ts\nclass FlatControllersEvent_FlatControllersEvent extends MessageEvent{constructor(callBack){super(callBack,FlatControllersParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/IFlatUser.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/roomsettings/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/security/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/talent/TalentTrackMessageEvent.ts\nclass TalentTrackMessageEvent_TalentTrackMessageEvent extends MessageEvent{constructor(callBack){super(callBack,TalentTrackParser_TalentTrackParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/talent/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/access/UserPermissionsEvent.ts\nclass UserPermissionsEvent_UserPermissionsEvent extends MessageEvent{constructor(callBack){super(callBack,UserPermissionsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/access/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/ApproveNameMessageEvent.ts\nclass ApproveNameMessageEvent_ApproveNameMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ApproveNameResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/data/RelationshipStatusInfoEvent.ts\nclass RelationshipStatusInfoEvent_RelationshipStatusInfoEvent extends MessageEvent{constructor(callBack){super(callBack,RelationshipStatusInfoMessageParser_RelationshipStatusInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/data/UserCurrentBadgesEvent.ts\nclass UserCurrentBadgesEvent_UserCurrentBadgesEvent extends MessageEvent{constructor(callBack){super(callBack,UserCurrentBadgesParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/data/UserInfoEvent.ts\nclass UserInfoEvent_UserInfoEvent extends MessageEvent{constructor(callBack){super(callBack,UserInfoParser_UserInfoParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/data/UserNameChangeMessageEvent.ts\nclass UserNameChangeMessageEvent_UserNameChangeMessageEvent extends MessageEvent{constructor(callBack){super(callBack,UserNameChangeMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/data/UserProfileEvent.ts\nclass UserProfileEvent_UserProfileEvent extends MessageEvent{constructor(callBack){super(callBack,UserProfileParser_UserProfileParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/data/UserSettingsEvent.ts\nclass UserSettingsEvent_UserSettingsEvent extends MessageEvent{constructor(callBack){super(callBack,UserSettingsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/user/GuildMembershipsMessageParser.ts\nclass GuildMembershipsMessageParser_GuildMembershipsMessageParser{constructor(){this._groups=void 0;}flush(){this._groups=[];return true;}parse(wrapper){if(!wrapper)return false;let totalOffers=wrapper.readInt();while(totalOffers>0){this._groups.push(new HabboGroupEntryData(wrapper));totalOffers--;}return true;}get groups(){return this._groups;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/GuildMembershipsMessageEvent.ts\nclass GuildMembershipsMessageEvent_GuildMembershipsMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuildMembershipsMessageParser_GuildMembershipsMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/HabboGroupBadgesMessageEvent.ts\nclass HabboGroupBadgesMessageEvent_HabboGroupBadgesMessageEvent extends MessageEvent{constructor(callBack){super(callBack,HabboGroupBadgesMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/IgnoredUsersEvent.ts\nclass IgnoredUsersEvent_IgnoredUsersEvent extends MessageEvent{constructor(callBack){super(callBack,IgnoredUsersParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/IgnoreResultEvent.ts\nclass IgnoreResultEvent_IgnoreResultEvent extends MessageEvent{constructor(callBack){super(callBack,IgnoreResultParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/InClientLinkEvent.ts\nclass InClientLinkEvent_InClientLinkEvent extends MessageEvent{constructor(callBack){super(callBack,InClientLinkParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/inventory/currency/UserCreditsEvent.ts\nclass UserCreditsEvent_UserCreditsEvent extends MessageEvent{constructor(callBack){super(callBack,UserCreditsParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/inventory/currency/UserCurrencyEvent.ts\nclass UserCurrencyEvent_UserCurrencyEvent extends MessageEvent{constructor(callBack){super(callBack,UserCurrencyParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/inventory/currency/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/inventory/subscription/UserSubscriptionEvent.ts\nclass UserSubscriptionEvent_UserSubscriptionEvent extends MessageEvent{constructor(callBack){super(callBack,UserSubscriptionParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/inventory/subscription/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/inventory/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/PetSupplementedNotificationEvent.ts\nclass PetSupplementedNotificationEvent_PetSupplementedNotificationEvent extends MessageEvent{constructor(callBack){super(callBack,PetSupplementedNotificationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/PetSupplementTypeEnum.ts\nclass PetSupplementTypeEnum{}PetSupplementTypeEnum.WATER=0;PetSupplementTypeEnum.LIGHT=1;PetSupplementTypeEnum.REVIVE=2;PetSupplementTypeEnum.REBREED_FERTILIZER=3;PetSupplementTypeEnum.SPEED_FERTILIZER=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/RespectReceivedEvent.ts\nclass RespectReceivedEvent_RespectReceivedEvent extends MessageEvent{constructor(callBack){super(callBack,RespectReceivedParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/ScrSendKickbackInfoMessageEvent.ts\nclass ScrSendKickbackInfoMessageEvent_ScrSendKickbackInfoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,ScrSendKickbackInfoMessageParser_ScrSendKickbackInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/wardrobe/UserWardrobePageEvent.ts\nclass UserWardrobePageEvent_UserWardrobePageEvent extends MessageEvent{constructor(callBack){super(callBack,UserWardrobePageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/wardrobe/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/advertisement/GetInterstitialMessageComposer.ts\nclass GetInterstitialMessageComposer{constructor(){this._data=void 0;this._data=[];}dispose(){return;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/advertisement/InterstitialShownMessageComposer.ts\nclass InterstitialShownMessageComposer{constructor(){this._data=void 0;this._data=[];}dispose(){return;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/advertisement/RequestAchievementsMessageComposer.ts\nclass RequestAchievementsMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/advertisement/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/avatar/ChangeUserNameMessageComposer.ts\nclass ChangeUserNameMessageComposer{constructor(name){this._data=void 0;this._data=[name];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/avatar/CheckUserNameMessageComposer.ts\nclass CheckUserNameMessageComposer{constructor(name){this._data=void 0;this._data=[name];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/avatar/GetWardrobeMessageComposer.ts\nclass GetWardrobeMessageComposer{constructor(){let pageId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;this._data=void 0;this._data=[pageId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/avatar/SaveWardrobeOutfitMessageComposer.ts\nclass SaveWardrobeOutfitMessageComposer{constructor(slotId,look,gender){this._data=void 0;this._data=[slotId,look,gender];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/avatar/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/camera/PhotoCompetitionMessageComposer.ts\nclass PhotoCompetitionMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/camera/PublishPhotoMessageComposer.ts\nclass PublishPhotoMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/camera/PurchasePhotoMessageComposer.ts\nclass PurchasePhotoMessageComposer{constructor(photoId){this._data=void 0;this._data=[photoId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/camera/RenderRoomMessageComposer.ts\nclass RenderRoomMessageComposer_RenderRoomMessageComposer{constructor(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1;this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=[];}assignBitmap(texture){const url=TextureUtils_TextureUtils.generateImageUrl(texture);if(!url)return;const base64Data=url.split(',')[1];const binaryData=Uint8Array.from(atob(base64Data),c=>c.charCodeAt(0));this._data.push(binaryData.byteLength,binaryData.buffer);}assignBase64(base64){const base64Data=base64.split(',')[1];const binaryData=Uint8Array.from(atob(base64Data),c=>c.charCodeAt(0));this._data.push(binaryData.byteLength,binaryData.buffer);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/camera/RenderRoomThumbnailMessageComposer.ts\nclass RenderRoomThumbnailMessageComposer_RenderRoomThumbnailMessageComposer extends RenderRoomMessageComposer_RenderRoomMessageComposer{constructor(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1;super(k,_arg_2,_arg_3,_arg_4,_arg_5);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/camera/RequestCameraConfigurationComposer.ts\nclass RequestCameraConfigurationComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/camera/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/campaign/OpenCampaignCalendarDoorAsStaffComposer.ts\nclass OpenCampaignCalendarDoorAsStaffComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/campaign/OpenCampaignCalendarDoorComposer.ts\nclass OpenCampaignCalendarDoorComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/campaign/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/BuildersClubPlaceRoomItemMessageComposer.ts\nclass BuildersClubPlaceRoomItemMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/BuildersClubPlaceWallItemMessageComposer.ts\nclass BuildersClubPlaceWallItemMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/BuildersClubQueryFurniCountMessageComposer.ts\nclass BuildersClubQueryFurniCountMessageComposer{constructor(){this._data=void 0;this._data=[];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetBonusRareInfoMessageComposer.ts\nclass GetBonusRareInfoMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetBundleDiscountRulesetComposer.ts\nclass GetBundleDiscountRulesetComposer{constructor(){this._data=void 0;this._data=[];}dispose(){this._data=null;}getMessageArray(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetCatalogIndexComposer.ts\nclass GetCatalogIndexComposer{constructor(mode){this._data=void 0;this._data=[mode];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetCatalogPageComposer.ts\nclass GetCatalogPageComposer{constructor(pageId,offerId,catalogType){this._data=void 0;this._data=[pageId,offerId,catalogType];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetCatalogPageExpirationComposer.ts\nclass GetCatalogPageExpirationComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetCatalogPageWithEarliestExpiryComposer.ts\nclass GetCatalogPageWithEarliestExpiryComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetClubGiftInfo.ts\nclass GetClubGiftInfo{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetClubOffersMessageComposer.ts\nclass GetClubOffersMessageComposer{constructor(offerId){this._data=void 0;this._data=[offerId];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetDirectClubBuyAvailableComposer.ts\nclass GetDirectClubBuyAvailableComposer{constructor(days){this._data=void 0;this._data=[days];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetGiftWrappingConfigurationComposer.ts\nclass GetGiftWrappingConfigurationComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetHabboBasicMembershipExtendOfferComposer.ts\nclass GetHabboBasicMembershipExtendOfferComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetHabboClubExtendOfferMessageComposer.ts\nclass GetHabboClubExtendOfferMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetIsOfferGiftableComposer.ts\nclass GetIsOfferGiftableComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetLimitedOfferAppearingNextComposer.ts\nclass GetLimitedOfferAppearingNextComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetNextTargetedOfferComposer.ts\nclass GetNextTargetedOfferComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetProductOfferComposer.ts\nclass GetProductOfferComposer{constructor(offerId){this._data=void 0;this._data=[offerId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetRoomAdPurchaseInfoComposer.ts\nclass GetRoomAdPurchaseInfoComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetSeasonalCalendarDailyOfferComposer.ts\nclass GetSeasonalCalendarDailyOfferComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetSellablePetPalettesComposer.ts\nclass GetSellablePetPalettesComposer{constructor(name){this._data=void 0;this._data=[name];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/GetTargetedOfferComposer.ts\nclass GetTargetedOfferComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/MarkCatalogNewAdditionsPageOpenedComposer.ts\nclass MarkCatalogNewAdditionsPageOpenedComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/PurchaseBasicMembershipExtensionComposer.ts\nclass PurchaseBasicMembershipExtensionComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/PurchaseFromCatalogAsGiftComposer.ts\nclass PurchaseFromCatalogAsGiftComposer{constructor(pageId,itemId,extraData,receivingName,giftMessage,spriteId,boxId,ribbonId,showMyFace){this._data=void 0;this._data=[pageId,itemId,extraData,receivingName,giftMessage,spriteId,boxId,ribbonId,showMyFace];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/PurchaseFromCatalogComposer.ts\nclass PurchaseFromCatalogComposer{constructor(pageId,offerId,extraData,amount){this._data=void 0;this._data=[pageId,offerId,extraData,amount];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/PurchaseRoomAdMessageComposer.ts\nclass PurchaseRoomAdMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/PurchaseTargetedOfferComposer.ts\nclass PurchaseTargetedOfferComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/PurchaseVipMembershipExtensionComposer.ts\nclass PurchaseVipMembershipExtensionComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/RedeemVoucherMessageComposer.ts\nclass RedeemVoucherMessageComposer{constructor(voucherCode){this._data=void 0;this._data=[voucherCode];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/RoomAdPurchaseInitiatedComposer.ts\nclass RoomAdPurchaseInitiatedComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/SelectClubGiftComposer.ts\nclass SelectClubGiftComposer{constructor(itemName){this._data=void 0;this._data=[itemName];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/SetTargetedOfferStateComposer.ts\nclass SetTargetedOfferStateComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/ShopTargetedOfferViewedComposer.ts\nclass ShopTargetedOfferViewedComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/catalog/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/ForwardToACompetitionRoomMessageComposer.ts\nclass ForwardToACompetitionRoomMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/ForwardToASubmittableRoomMessageComposer.ts\nclass ForwardToASubmittableRoomMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/ForwardToRandomCompetitionRoomMessageComposer.ts\nclass ForwardToRandomCompetitionRoomMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/GetCurrentTimingCodeMessageComposer.ts\nclass GetCurrentTimingCodeMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/GetIsUserPartOfCompetitionMessageComposer.ts\nclass GetIsUserPartOfCompetitionMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/GetSecondsUntilMessageComposer.ts\nclass GetSecondsUntilMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/RoomCompetitionInitMessageComposer.ts\nclass RoomCompetitionInitMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/SubmitRoomToCompetitionMessageComposer.ts\nclass SubmitRoomToCompetitionMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}SubmitRoomToCompetitionMessageComposer.CONFIRM_LEVEL_NOT_ACCEPTED=0;SubmitRoomToCompetitionMessageComposer.CONFIRM_LEVEL_NOT_SUBMITTED=1;SubmitRoomToCompetitionMessageComposer.CONFIRM_LEVEL_NOT_CONFIRMED=2;SubmitRoomToCompetitionMessageComposer.CONFIRM_LEVEL_COMMIT=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/VoteForRoomMessageComposer.ts\nclass VoteForRoomMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/competition/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/crafting/CraftComposer.ts\nclass CraftComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/crafting/CraftSecretComposer.ts\nclass CraftSecretComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2.length].concat(_arg_2);}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/crafting/GetCraftableProductsComposer.ts\nclass GetCraftableProductsComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/crafting/GetCraftingRecipeComposer.ts\nclass GetCraftingRecipeComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/crafting/GetCraftingRecipesAvailableComposer.ts\nclass GetCraftingRecipesAvailableComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2.length].concat(_arg_2);}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/crafting/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/desktop/DesktopViewComposer.ts\nclass DesktopViewComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/desktop/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendfurni/FriendFurniConfirmLockMessageComposer.ts\nclass FriendFurniConfirmLockMessageComposer{constructor(itemId,confirmed){this._data=void 0;this._data=[itemId,confirmed];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendfurni/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/AcceptFriendMessageComposer.ts\nclass AcceptFriendMessageComposer{constructor(){this._data=void 0;for(var _len=arguments.length,userIds=new Array(_len),_key=0;_key<_len;_key++){userIds[_key]=arguments[_key];}this._data=[userIds.length,...userIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/DeclineFriendMessageComposer.ts\nclass DeclineFriendMessageComposer{constructor(removeAll){this._data=void 0;for(var _len=arguments.length,userIds=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){userIds[_key-1]=arguments[_key];}this._data=[removeAll,userIds.length,...userIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/FindNewFriendsMessageComposer.ts\nclass FindNewFriendsMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/FollowFriendMessageComposer.ts\nclass FollowFriendMessageComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/FriendListUpdateComposer.ts\nclass FriendListUpdateComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/GetFriendRequestsComposer.ts\nclass GetFriendRequestsComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/HabboSearchComposer.ts\nclass HabboSearchComposer{constructor(search){this._data=void 0;this._data=[search];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/MessengerInitComposer.ts\nclass MessengerInitComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/RemoveFriendComposer.ts\nclass RemoveFriendComposer{constructor(){this._data=void 0;for(var _len=arguments.length,userIds=new Array(_len),_key=0;_key<_len;_key++){userIds[_key]=arguments[_key];}this._data=[userIds.length,...userIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/RequestFriendComposer.ts\nclass RequestFriendComposer{constructor(username){this._data=void 0;this._data=[username];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/SendMessageComposer.ts\nclass SendMessageComposer{constructor(userId,message){this._data=void 0;this._data=[userId,message];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/SendRoomInviteComposer.ts\nclass SendRoomInviteComposer{constructor(message,userIds){this._data=void 0;this._data=[userIds.length,...userIds,message];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/SetRelationshipStatusComposer.ts\nclass SetRelationshipStatusComposer{constructor(userId,relationship){this._data=void 0;this._data=[userId,relationship];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/VisitUserComposer.ts\nclass VisitUserComposer{constructor(username){this._data=void 0;this._data=[username];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/friendlist/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/game/GetResolutionAchievementsMessageComposer.ts\nclass GetResolutionAchievementsMessageComposer{constructor(objectId,achievementId){this._data=void 0;this._data=[objectId,achievementId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/game/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/gifts/GetGiftMessageComposer.ts\nclass GetGiftMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}GetGiftMessageComposer.NO_ISSUE_ID=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/gifts/ResetPhoneNumberStateMessageComposer.ts\nclass ResetPhoneNumberStateMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/gifts/SetPhoneNumberVerificationStatusMessageComposer.ts\nclass SetPhoneNumberVerificationStatusMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}SetPhoneNumberVerificationStatusMessageComposer.NO_ISSUE_ID=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/gifts/TryPhoneNumberMessageComposer.ts\nclass TryPhoneNumberMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/gifts/VerifyCodeMessageComposer.ts\nclass VerifyCodeMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/gifts/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupAdminGiveComposer.ts\nclass GroupAdminGiveComposer{constructor(groupId,memberId){this._data=void 0;this._data=[groupId,memberId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupAdminTakeComposer.ts\nclass GroupAdminTakeComposer{constructor(groupId,memberId){this._data=void 0;this._data=[groupId,memberId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupBadgePartsComposer.ts\nclass GroupBadgePartsComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupBuyComposer.ts\nclass GroupBuyComposer{constructor(name,description,roomId,colorA,colorB,badge){this._data=void 0;this._data=[name,description,roomId,colorA,colorB,badge.length,...badge];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupBuyDataComposer.ts\nclass GroupBuyDataComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupConfirmRemoveMemberComposer.ts\nclass GroupConfirmRemoveMemberComposer{constructor(groupId,memberId){this._data=void 0;this._data=[groupId,memberId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupDeleteComposer.ts\nclass GroupDeleteComposer{constructor(groupId){this._data=void 0;this._data=[groupId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupFavoriteComposer.ts\nclass GroupFavoriteComposer{constructor(groupId){this._data=void 0;this._data=[groupId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupInformationComposer.ts\nclass GroupInformationComposer{constructor(groupId,flag){this._data=void 0;this._data=[groupId,flag];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupJoinComposer.ts\nclass GroupJoinComposer{constructor(groupId){this._data=void 0;this._data=[groupId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupMembersComposer.ts\nclass GroupMembersComposer{constructor(groupId,pageId,query,levelId){this._data=void 0;this._data=[groupId,pageId,query,levelId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupMembershipAcceptComposer.ts\nclass GroupMembershipAcceptComposer{constructor(groupId,memberId){this._data=void 0;this._data=[groupId,memberId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupMembershipDeclineComposer.ts\nclass GroupMembershipDeclineComposer{constructor(groupId,memberId){this._data=void 0;this._data=[groupId,memberId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupRemoveMemberComposer.ts\nclass GroupRemoveMemberComposer{constructor(groupId,memberId){this._data=void 0;this._data=[groupId,memberId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupSaveBadgeComposer.ts\nclass GroupSaveBadgeComposer{constructor(groupId,badge){this._data=void 0;this._data=[groupId,badge.length,...badge];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupSaveColorsComposer.ts\nclass GroupSaveColorsComposer{constructor(groupId,colorA,colorB){this._data=void 0;this._data=[groupId,colorA,colorB];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupSaveInformationComposer.ts\nclass GroupSaveInformationComposer{constructor(groupId,title,description){this._data=void 0;this._data=[groupId,title,description];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupSavePreferencesComposer.ts\nclass GroupSavePreferencesComposer{constructor(groupId,state,onlyAdminCanDecorate){this._data=void 0;this._data=[groupId,state,onlyAdminCanDecorate];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupSettingsComposer.ts\nclass GroupSettingsComposer{constructor(groupId){this._data=void 0;this._data=[groupId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/GroupUnfavoriteComposer.ts\nclass GroupUnfavoriteComposer{constructor(groupId){this._data=void 0;this._data=[groupId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/group/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/GetForumsListMessageComposer.ts\nclass GetForumsListMessageComposer{constructor(k,_arg_2,_arg_3){this._data=void 0;this._data=[k,_arg_2,_arg_3];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/GetForumStatsMessageComposer.ts\nclass GetForumStatsMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/GetMessagesMessageComposer.ts\nclass GetMessagesMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/GetThreadMessageComposer.ts\nclass GetThreadMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/GetThreadsMessageComposer.ts\nclass GetThreadsMessageComposer{constructor(k,_arg_2,_arg_3){this._data=void 0;this._data=[k,_arg_2,_arg_3];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/GetUnreadForumsCountMessageComposer.ts\nclass GetUnreadForumsCountMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/ModerateMessageMessageComposer.ts\nclass ModerateMessageMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/ModerateThreadMessageComposer.ts\nclass ModerateThreadMessageComposer{constructor(k,_arg_2,_arg_3){this._data=void 0;this._data=[k,_arg_2,_arg_3];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/PostMessageMessageComposer.ts\nclass PostMessageMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/UpdateForumReadMarkerMessageComposer.ts\nclass UpdateForumReadMarkerMessageComposer{constructor(){this._data=void 0;for(var _len=arguments.length,data=new Array(_len),_key=0;_key<_len;_key++){data[_key]=arguments[_key];}this._data=[data.length];data.forEach(entry=>{this._data.push(entry.k);this._data.push(entry._arg_2);this._data.push(entry._arg_3);});}getMessageArray(){return this._data;}dispose(){return;}}class UpdateForumReadMarkerEntry{constructor(k,_arg_2,_arg_3){this.k=k;this._arg_2=_arg_2;this._arg_3=_arg_3;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/UpdateForumSettingsMessageComposer.ts\nclass UpdateForumSettingsMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4,_arg_5];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/UpdateThreadMessageComposer.ts\nclass UpdateThreadMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_4,_arg_3];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/groupforums/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/AuthenticationMessageComposer.ts\nclass AuthenticationMessageComposer{constructor(type,keys,values){this._type=void 0;this._data=void 0;this._type=type;if(keys.length!==values.length)return;this._data=[];for(let i=0;i<keys.length;i++){this._data.push(keys[i]);this._data.push(values[i]);}}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/DisconnectMessageComposer.ts\nclass DisconnectMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/UniqueIDMessageComposer.ts\nclass UniqueIDMessageComposer{constructor(machineId,fingerprint,flashVersion){this._data=void 0;this._data=[machineId,fingerprint,flashVersion];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/VersionCheckMessageComposer.ts\nclass VersionCheckMessageComposer{constructor(clientID,clientURL,externalVariablesURL){this._data=void 0;this._data=[clientID,clientURL,externalVariablesURL];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/handshake/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/CallForHelpFromForumMessageMessageComposer.ts\nclass CallForHelpFromForumMessageMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4,_arg_5];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/CallForHelpFromForumThreadMessageComposer.ts\nclass CallForHelpFromForumThreadMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/CallForHelpFromIMMessageComposer.ts\nclass CallForHelpFromIMMessageComposer{constructor(message,topicId,reportedUserId,chatEntries){this._data=void 0;this._data=[message,topicId,reportedUserId,chatEntries.length/2,...chatEntries];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/CallForHelpFromPhotoMessageComposer.ts\nclass CallForHelpFromPhotoMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4,_arg_5];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/CallForHelpFromSelfieMessageComposer.ts\nclass CallForHelpFromSelfieMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4,_arg_5];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/CallForHelpMessageComposer.ts\nclass CallForHelpMessageComposer{constructor(message,topicIndex,reportedUserId,reportedRoomId,chatEntries){this._data=void 0;this._data=[message,topicIndex,reportedUserId,reportedRoomId,chatEntries.length/2,...chatEntries];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/ChatReviewGuideDecidesOnOfferMessageComposer.ts\nclass ChatReviewGuideDecidesOnOfferMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/ChatReviewGuideDetachedMessageComposer.ts\nclass ChatReviewGuideDetachedMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/ChatReviewGuideVoteMessageComposer.ts\nclass ChatReviewGuideVoteMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/ChatReviewSessionCreateMessageComposer.ts\nclass ChatReviewSessionCreateMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/DeletePendingCallsForHelpMessageComposer.ts\nclass DeletePendingCallsForHelpMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GetCfhStatusMessageComposer.ts\nclass GetCfhStatusMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GetFaqCategoryMessageComposer.ts\nclass GetFaqCategoryMessageComposer{constructor(categoryId){this._data=void 0;this._data=[categoryId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GetFaqTextMessageComposer.ts\nclass GetFaqTextMessageComposer{constructor(questionId){this._data=void 0;this._data=[questionId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GetGuideReportingStatusMessageComposer.ts\nclass GetGuideReportingStatusMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GetPendingCallsForHelpMessageComposer.ts\nclass GetPendingCallsForHelpMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GetQuizQuestionsComposer.ts\nclass GetQuizQuestionsComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionCreateMessageComposer.ts\nclass GuideSessionCreateMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionFeedbackMessageComposer.ts\nclass GuideSessionFeedbackMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionGetRequesterRoomMessageComposer.ts\nclass GuideSessionGetRequesterRoomMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionGuideDecidesMessageComposer.ts\nclass GuideSessionGuideDecidesMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionInviteRequesterMessageComposer.ts\nclass GuideSessionInviteRequesterMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionIsTypingMessageComposer.ts\nclass GuideSessionIsTypingMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionMessageMessageComposer.ts\nclass GuideSessionMessageMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionOnDutyUpdateMessageComposer.ts\nclass GuideSessionOnDutyUpdateMessageComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionReportMessageComposer.ts\nclass GuideSessionReportMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionRequesterCancelsMessageComposer.ts\nclass GuideSessionRequesterCancelsMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/GuideSessionResolvedMessageComposer.ts\nclass GuideSessionResolvedMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/PostQuizAnswersComposer.ts\nclass PostQuizAnswersComposer{constructor(quizCode,answerIds){this._data=void 0;this._data=[quizCode,answerIds.length,...answerIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/SearchFaqsMessageComposer.ts\nclass SearchFaqsMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/help/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/badges/RequestBadgesComposer.ts\nclass RequestBadgesComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/badges/SetActivatedBadgesComposer.ts\nclass SetActivatedBadgesComposer{constructor(){this._badges=[];}getMessageArray(){const data=[];for(let i=0;i<this._badges.length;i++){if(i<=this._badges.length){data.push(i+1);data.push(this._badges[i]);}else{data.push(i+1);data.push('');}}return data;}dispose(){return;}addActivatedBadge(badge){this._badges.push(badge);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/badges/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/bots/GetBotInventoryComposer.ts\nclass GetBotInventoryComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/bots/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/furni/FurnitureList2Composer.ts\nclass FurnitureList2Composer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/furni/FurnitureListComposer.ts\nclass FurnitureListComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/furni/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/pets/RequestPetsComposer.ts\nclass RequestPetsComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/pets/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingAcceptComposer.ts\nclass TradingAcceptComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingCancelComposer.ts\nclass TradingCancelComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingCloseComposer.ts\nclass TradingCloseComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingConfirmationComposer.ts\nclass TradingConfirmationComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingListAddItemComposer.ts\nclass TradingListAddItemComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingListAddItemsComposer.ts\nclass TradingListAddItemsComposer{constructor(){this._data=void 0;for(var _len=arguments.length,itemIds=new Array(_len),_key=0;_key<_len;_key++){itemIds[_key]=arguments[_key];}this._data=[itemIds.length,...itemIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingListRemoveItemComposer.ts\nclass TradingListItemRemoveComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingOpenComposer.ts\nclass TradingOpenComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/TradingUnacceptComposer.ts\nclass TradingUnacceptComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/trading/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/unseen/UnseenResetCategoryComposer.ts\nclass UnseenResetCategoryComposer{constructor(category){this._data=void 0;this._data=[category];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/unseen/UnseenResetItemsComposer.ts\nclass UnseenResetItemsComposer{constructor(category){this._data=void 0;for(var _len=arguments.length,itemIds=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){itemIds[_key-1]=arguments[_key];}this._data=[category,itemIds.length,...itemIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/unseen/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/inventory/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/landingview/GetPromoArticlesComposer.ts\nclass GetPromoArticlesComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/landingview/votes/CommunityGoalVoteMessageComposer.ts\nclass CommunityGoalVoteMessageComposer{constructor(voteOption){this._data=void 0;this._data=[voteOption];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/landingview/votes/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/landingview/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/BuyMarketplaceOfferMessageComposer.ts\nclass BuyMarketplaceOfferMessageComposer{constructor(offerId){this._data=void 0;this._data=[offerId];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/BuyMarketplaceTokensMessageComposer.ts\nclass BuyMarketplaceTokensMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/CancelMarketplaceOfferMessageComposer.ts\nclass CancelMarketplaceOfferMessageComposer{constructor(offerId){this._data=void 0;this._data=[offerId];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/GetMarketplaceCanMakeOfferComposer.ts\nclass GetMarketplaceCanMakeOfferComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/GetMarketplaceConfigurationMessageComposer.ts\nclass GetMarketplaceConfigurationMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/GetMarketplaceItemStatsComposer.ts\nclass GetMarketplaceItemStatsComposer{constructor(unknown,itemId){this._data=void 0;this._data=[unknown,itemId];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/GetMarketplaceOffersMessageComposer.ts\nclass GetMarketplaceOffersMessageComposer{constructor(min,max,query,type){this._data=void 0;this._data=[min,max,query,type];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/GetMarketplaceOwnOffersMessageComposer.ts\nclass GetMarketplaceOwnOffersMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/MakeOfferMessageComposer.ts\nclass MakeOfferMessageComposer{constructor(credits,arg2,itemId){this._data=void 0;this._data=[credits,arg2,itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/RedeemMarketplaceOfferCreditsMessageComposer.ts\nclass RedeemMarketplaceOfferCreditsMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){this._data=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/marketplace/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/CloseIssueDefaultActionMessageComposer.ts\nclass CloseIssueDefaultActionMessageComposer{constructor(k,issueIds,_arg_2){this._data=void 0;this._data=[k,issueIds.length,...issueIds,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/CloseIssuesMessageComposer.ts\nclass CloseIssuesMessageComposer{constructor(issueIds,resolutionType){this._data=void 0;this._data=[resolutionType,issueIds.length,...issueIds];}getMessageArray(){return this._data;}dispose(){return;}}CloseIssuesMessageComposer.RESOLUTION_USELESS=1;CloseIssuesMessageComposer.RESOLUTION_ABUSIVE=2;CloseIssuesMessageComposer.RESOLUTION_RESOLVED=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModBanMessageComposer.ts\nclass ModBanMessageComposer{constructor(k,arg2,arg3,arg4,arg5){let arg6=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;this._data=void 0;this._data=[k,arg2,arg3,arg4,arg5];if(arg6!=ModBanMessageComposer.NO_ISSUE_ID){this._data.push(arg6);}}getMessageArray(){return this._data;}dispose(){return;}}ModBanMessageComposer.NO_ISSUE_ID=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/DefaultSanctionMessageComposer.ts\nclass DefaultSanctionMessageComposer_DefaultSanctionMessageComposer{constructor(k,_arg_2,_arg_3){let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;this._data=void 0;this._data=[k,_arg_2,_arg_3];if(_arg_4!=ModBanMessageComposer.NO_ISSUE_ID){this._data.push(_arg_4);}}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/GetCfhChatlogMessageComposer.ts\nclass GetCfhChatlogMessageComposer{constructor(issueId){this._data=void 0;this._data=[issueId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/GetModeratorRoomInfoMessageComposer.ts\nclass GetModeratorRoomInfoMessageComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/GetModeratorUserInfoMessageComposer.ts\nclass GetModeratorUserInfoMessageComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/GetRoomChatlogMessageComposer.ts\nclass GetRoomChatlogMessageComposer{constructor(roomId){let useless=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this._data=void 0;this._data=[useless,roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/GetRoomVisitsMessageComposer.ts\nclass GetRoomVisitsMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/GetUserChatlogMessageComposer.ts\nclass GetUserChatlogMessageComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModAlertMessageComposer.ts\nclass ModAlertMessageComposer_ModAlertMessageComposer{constructor(k,arg2,arg3){let arg4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;this._data=void 0;this._data=[k,arg2,arg3];if(arg4!=ModBanMessageComposer.NO_ISSUE_ID){this._data.push(arg4);}}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModerateRoomMessageComposer.ts\nclass ModerateRoomMessageComposer{constructor(roomId,lockDoor,changeTitle,kickUsers){this._data=void 0;this._data=[roomId,lockDoor,changeTitle,kickUsers];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModeratorActionMessageComposer.ts\nclass ModeratorActionMessageComposer{constructor(k,arg2,arg3){this._data=[];this._data.push(k);this._data.push(arg2);this._data.push(arg3);}getMessageArray(){return this._data;}dispose(){return;}}ModeratorActionMessageComposer.ACTION_ALERT=0;ModeratorActionMessageComposer.ACTION_KICK=1;ModeratorActionMessageComposer.ACTION_MESSAGE=3;ModeratorActionMessageComposer.ACTION_MESSAGE_AND_SOFT_KICK=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModKickMessageComposer.ts\nclass ModKickMessageComposer_ModKickMessageComposer{constructor(k,arg2,arg3){let arg4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;this._data=void 0;this._data=[k,arg2,arg3];if(arg4!=ModBanMessageComposer.NO_ISSUE_ID){this._data.push(arg4);}}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModMessageMessageComposer.ts\nclass ModMessageMessageComposer_ModMessageMessageComposer{constructor(k,arg2,arg3){let arg4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;this._data=[];this._data.push(k);this._data.push(arg2);this._data.push('');this._data.push('');this._data.push(arg3);if(arg4!=ModBanMessageComposer.NO_ISSUE_ID){this._data.push(arg4);}}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModMuteMessageComposer.ts\nclass ModMuteMessageComposer_ModMuteMessageComposer{constructor(k,arg2,arg3){let arg4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;this._data=void 0;this._data=[k,arg2,arg3];if(arg4!=ModBanMessageComposer.NO_ISSUE_ID){this._data.push(arg4);}}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModToolPreferencesComposer.ts\nclass ModToolPreferencesComposer{constructor(k,_arg_2,_arg_3,_arg_4){this._data=void 0;this._data=[k,_arg_2,_arg_3,_arg_4];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModToolSanctionComposer.ts\nclass ModToolSanctionComposer{constructor(k,_arg_2,_arg_3){this._data=void 0;this._data=[k,_arg_2,_arg_3];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ModTradingLockMessageComposer.ts\nclass ModTradingLockMessageComposer_ModTradingLockMessageComposer{constructor(k,arg2,arg3,arg4){let arg5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1;this._data=void 0;this._data=[k,arg2,arg3,arg4];if(arg5!=ModBanMessageComposer.NO_ISSUE_ID){this._data.push(arg5);}}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/PickIssuesMessageComposer.ts\nclass PickIssuesMessageComposer{constructor(issueIds,retryEnabled,retryCount,message){this._data=void 0;this._data=[issueIds.length,...issueIds,retryEnabled,retryCount,message];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/ReleaseIssuesMessageComposer.ts\nclass ReleaseIssuesMessageComposer{constructor(issueIds){this._data=void 0;this._data=[issueIds.length,...issueIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/moderation/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/ConvertGlobalRoomIdComposer.ts\nclass ConvertGlobalRoomIdMessageComposer{constructor(flatId){this._data=void 0;this._data=[flatId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorCategoriesComposer.ts\nclass NavigatorCategoriesComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorCategoryListModeComposer.ts\nclass NavigatorCategoryListModeComposer{constructor(category,listmode){this._data=void 0;this._data=[category,listmode];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorInitComposer.ts\nclass NavigatorInitComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorSearchCloseComposer.ts\nclass NavigatorSearchCloseComposer{constructor(code){this._data=void 0;this._data=[code];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorSearchComposer.ts\nclass NavigatorSearchComposer{constructor(code,data){this._data=void 0;this._data=[code,data];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorSearchOpenComposer.ts\nclass NavigatorSearchOpenComposer{constructor(code){this._data=void 0;this._data=[code];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorSearchSaveComposer.ts\nclass NavigatorSearchSaveComposer{constructor(code,data){this._data=void 0;this._data=[code,data];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorSettingsComposer.ts\nclass NavigatorSettingsComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/NavigatorSettingsSaveComposer.ts\nclass NavigatorSettingsSaveComposer{constructor(x,y,width,height,leftSideOpen,mode){this._data=void 0;this._data=[x,y,width,height,leftSideOpen,mode];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/RemoveOwnRoomRightsRoomMessageComposer.ts\nclass RemoveOwnRoomRightsRoomMessageComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/navigator/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/OutgoingHeader.ts\nclass OutgoingHeader{}OutgoingHeader.ACHIEVEMENT_LIST=219;OutgoingHeader.AUTHENTICATION=-1;OutgoingHeader.BOT_CONFIGURATION=1986;OutgoingHeader.BOT_PICKUP=3323;OutgoingHeader.BOT_PLACE=1592;OutgoingHeader.BOT_SKILL_SAVE=2624;OutgoingHeader.GET_CLUB_OFFERS=3285;OutgoingHeader.GET_CLUB_GIFT_INFO=487;OutgoingHeader.GET_CATALOG_INDEX=1195;OutgoingHeader.GET_CATALOG_PAGE=412;OutgoingHeader.CATALOG_PURCHASE=3492;OutgoingHeader.CATALOG_PURCHASE_GIFT=1411;OutgoingHeader.GET_PRODUCT_OFFER=2594;OutgoingHeader.CLIENT_LATENCY=295;OutgoingHeader.CLIENT_LATENCY_MEASURE=96;OutgoingHeader.CLIENT_POLICY=26979;OutgoingHeader.CLIENT_PONG=2596;OutgoingHeader.CLIENT_TOOLBAR_TOGGLE=2313;OutgoingHeader.CLIENT_VARIABLES=1053;OutgoingHeader.GET_CURRENT_TIMING_CODE=2912;OutgoingHeader.DESKTOP_NEWS=1827;OutgoingHeader.DESKTOP_VIEW=105;OutgoingHeader.GET_BUNDLE_DISCOUNT_RULESET=223;OutgoingHeader.EVENT_TRACKER=3457;OutgoingHeader.FIND_NEW_FRIENDS=516;OutgoingHeader.FURNITURE_ALIASES=3898;OutgoingHeader.FURNITURE_FLOOR_UPDATE=248;OutgoingHeader.FURNITURE_MULTISTATE=99;OutgoingHeader.FURNITURE_PICKUP=3456;OutgoingHeader.FURNITURE_PLACE=1258;OutgoingHeader.FURNITURE_POSTIT_PLACE=2248;OutgoingHeader.FURNITURE_POSTIT_SAVE_STICKY_POLE=3283;OutgoingHeader.FURNITURE_RANDOMSTATE=3617;OutgoingHeader.FURNITURE_WALL_MULTISTATE=210;OutgoingHeader.FURNITURE_WALL_UPDATE=168;OutgoingHeader.GAMES_INIT=2914;OutgoingHeader.GAMES_LIST=741;OutgoingHeader.GET_GIFT_WRAPPING_CONFIG=418;OutgoingHeader.GROUP_ADMIN_ADD=2894;OutgoingHeader.GROUP_ADMIN_REMOVE=722;OutgoingHeader.GROUP_CREATE_OPTIONS=798;OutgoingHeader.GROUP_FAVORITE=3549;OutgoingHeader.GET_FORUM_STATS=3149;OutgoingHeader.GET_FORUM_THREADS=873;OutgoingHeader.GET_FORUMS_LIST=436;OutgoingHeader.GET_FORUM_MESSAGES=232;OutgoingHeader.GET_FORUM_THREAD=3900;OutgoingHeader.GET_UNREAD_FORUMS_COUNT=2908;OutgoingHeader.FORUM_MODERATE_MESSAGE=286;OutgoingHeader.FORUM_MODERATE_THREAD=1397;OutgoingHeader.FORUM_POST_MESSAGE=3529;OutgoingHeader.UPDATE_FORUM_READ_MARKER=1855;OutgoingHeader.UPDATE_FORUM_SETTINGS=2214;OutgoingHeader.FORUM_UPDATE_THREAD=3045;OutgoingHeader.GROUP_INFO=2991;OutgoingHeader.GROUP_DELETE=1134;OutgoingHeader.GROUP_MEMBER_REMOVE_CONFIRM=3593;OutgoingHeader.GROUP_MEMBER_REMOVE=593;OutgoingHeader.GROUP_MEMBERS=312;OutgoingHeader.GROUP_MEMBERSHIPS=367;OutgoingHeader.GROUP_REQUEST=998;OutgoingHeader.GROUP_REQUEST_ACCEPT=3386;OutgoingHeader.GROUP_REQUEST_DECLINE=1894;OutgoingHeader.GROUP_SETTINGS=1004;OutgoingHeader.GROUP_PARTS=813;OutgoingHeader.GROUP_BUY=230;OutgoingHeader.GROUP_SAVE_INFORMATION=3137;OutgoingHeader.GROUP_SAVE_BADGE=1991;OutgoingHeader.GROUP_SAVE_COLORS=1764;OutgoingHeader.GROUP_SAVE_PREFERENCES=3435;OutgoingHeader.GROUP_BADGES=21;OutgoingHeader.INVENTORY_UNKNOWN=1371;OutgoingHeader.ITEM_CLOTHING_REDEEM=3374;OutgoingHeader.ITEM_COLOR_WHEEL_CLICK=2144;OutgoingHeader.ITEM_DICE_CLICK=1990;OutgoingHeader.ITEM_DICE_CLOSE=1533;OutgoingHeader.ITEM_DIMMER_SAVE=1648;OutgoingHeader.ITEM_DIMMER_SETTINGS=2813;OutgoingHeader.ITEM_DIMMER_TOGGLE=2296;OutgoingHeader.ITEM_EXCHANGE_REDEEM=3115;OutgoingHeader.ITEM_PAINT=711;OutgoingHeader.SET_OBJECT_DATA=3608;OutgoingHeader.ITEM_STACK_HELPER=3839;OutgoingHeader.ITEM_WALL_CLICK=210;OutgoingHeader.ITEM_WALL_UPDATE=168;OutgoingHeader.MARKETPLACE_CONFIG=2597;OutgoingHeader.ACCEPT_FRIEND=137;OutgoingHeader.MESSENGER_CHAT=3567;OutgoingHeader.DECLINE_FRIEND=2890;OutgoingHeader.FOLLOW_FRIEND=3997;OutgoingHeader.MESSENGER_FRIENDS=1523;OutgoingHeader.MESSENGER_INIT=2781;OutgoingHeader.MESSENGER_RELATIONSHIPS=2138;OutgoingHeader.SET_RELATIONSHIP_STATUS=3768;OutgoingHeader.REMOVE_FRIEND=1689;OutgoingHeader.REQUEST_FRIEND=3157;OutgoingHeader.GET_FRIEND_REQUESTS=2448;OutgoingHeader.SEND_ROOM_INVITE=1276;OutgoingHeader.HABBO_SEARCH=1210;OutgoingHeader.FRIEND_LIST_UPDATE=1419;OutgoingHeader.MOD_TOOL_USER_INFO=3295;OutgoingHeader.NAVIGATOR_CATEGORIES=3027;OutgoingHeader.NAVIGATOR_INIT=2110;OutgoingHeader.NAVIGATOR_SEARCH=249;OutgoingHeader.NAVIGATOR_SEARCH_CLOSE=1834;OutgoingHeader.NAVIGATOR_SEARCH_OPEN=637;OutgoingHeader.NAVIGATOR_SEARCH_SAVE=2226;OutgoingHeader.NAVIGATOR_SETTINGS=1782;OutgoingHeader.NAVIGATOR_SETTINGS_SAVE=3159;OutgoingHeader.NAVIGATOR_CATEGORY_LIST_MODE=1202;OutgoingHeader.PET_INFO=2934;OutgoingHeader.PET_PICKUP=1581;OutgoingHeader.PET_PLACE=2647;OutgoingHeader.PET_RESPECT=3202;OutgoingHeader.PET_RIDE=1036;OutgoingHeader.PET_MOVE=3449;OutgoingHeader.RECYCLER_PRIZES=398;OutgoingHeader.RELEASE_VERSION=4000;OutgoingHeader.CALL_FOR_HELP=1691;OutgoingHeader.ROOM_AMBASSADOR_ALERT=2996;OutgoingHeader.ROOM_BAN_GIVE=1477;OutgoingHeader.ROOM_BAN_LIST=2267;OutgoingHeader.ROOM_BAN_REMOVE=992;OutgoingHeader.ROOM_CREATE=2752;OutgoingHeader.ROOM_DELETE=532;OutgoingHeader.ROOM_DOORBELL=1644;OutgoingHeader.ROOM_ENTER=2312;OutgoingHeader.ROOM_FAVORITE=3817;OutgoingHeader.ROOM_FAVORITE_REMOVE=309;OutgoingHeader.ROOM_INFO=2230;OutgoingHeader.ROOM_KICK=1320;OutgoingHeader.ROOM_LIKE=3582;OutgoingHeader.ROOM_MODEL=2300;OutgoingHeader.GET_OCCUPIED_TILES=1687;OutgoingHeader.GET_ROOM_ENTRY_TILE=3559;OutgoingHeader.ROOM_MODEL_SAVE=875;OutgoingHeader.ROOM_MUTE=3637;OutgoingHeader.ROOM_MUTE_USER=3485;OutgoingHeader.ROOM_RIGHTS_GIVE=808;OutgoingHeader.ROOM_RIGHTS_LIST=3385;OutgoingHeader.ROOM_RIGHTS_REMOVE=2064;OutgoingHeader.ROOM_RIGHTS_REMOVE_ALL=2683;OutgoingHeader.ROOM_RIGHTS_REMOVE_OWN=3182;OutgoingHeader.ROOM_SETTINGS=3129;OutgoingHeader.ROOM_SETTINGS_SAVE=1969;OutgoingHeader.ROOM_STAFF_PICK=1918;OutgoingHeader.SECURITY_MACHINE=2490;OutgoingHeader.SECURITY_TICKET=2419;OutgoingHeader.TRADE=1481;OutgoingHeader.TRADE_ACCEPT=3863;OutgoingHeader.TRADE_CANCEL=2341;OutgoingHeader.TRADE_CLOSE=2551;OutgoingHeader.TRADE_CONFIRM=2760;OutgoingHeader.TRADE_ITEM=3107;OutgoingHeader.TRADE_ITEM_REMOVE=3845;OutgoingHeader.TRADE_ITEMS=1263;OutgoingHeader.TRADE_UNACCEPT=1444;OutgoingHeader.UNIT_ACTION=2456;OutgoingHeader.UNIT_CHAT=1314;OutgoingHeader.UNIT_CHAT_SHOUT=2085;OutgoingHeader.UNIT_CHAT_WHISPER=1543;OutgoingHeader.UNIT_DANCE=2080;OutgoingHeader.UNIT_DROP_HAND_ITEM=2814;OutgoingHeader.UNIT_GIVE_HANDITEM=2941;OutgoingHeader.UNIT_LOOK=3301;OutgoingHeader.UNIT_POSTURE=2235;OutgoingHeader.UNIT_SIGN=1975;OutgoingHeader.UNIT_TYPING=1597;OutgoingHeader.UNIT_TYPING_STOP=1474;OutgoingHeader.UNIT_WALK=3320;OutgoingHeader.USER_BADGES=2769;OutgoingHeader.USER_BADGES_CURRENT=2091;OutgoingHeader.USER_BADGES_CURRENT_UPDATE=644;OutgoingHeader.USER_BOTS=3848;OutgoingHeader.USER_CURRENCY=273;OutgoingHeader.USER_EFFECT_ACTIVATE=2959;OutgoingHeader.USER_EFFECT_ENABLE=1752;OutgoingHeader.USER_FIGURE=2730;OutgoingHeader.USER_FURNITURE=3150;OutgoingHeader.USER_FURNITURE2=3500;OutgoingHeader.USER_HOME_ROOM=1740;OutgoingHeader.USER_INFO=357;OutgoingHeader.USER_MOTTO=2228;OutgoingHeader.USER_IGNORED=3878;OutgoingHeader.USER_PETS=3095;OutgoingHeader.USER_PROFILE=3265;OutgoingHeader.USER_PROFILE_BY_NAME=2249;OutgoingHeader.USER_RESPECT=2694;OutgoingHeader.GET_SOUND_SETTINGS=2388;OutgoingHeader.USER_SETTINGS_CAMERA=1461;OutgoingHeader.USER_SETTINGS_CHAT_STYLE=1030;OutgoingHeader.USER_SETTINGS_INVITES=1086;OutgoingHeader.USER_SETTINGS_OLD_CHAT=1262;OutgoingHeader.USER_SETTINGS_VOLUME=1367;OutgoingHeader.USER_SUBSCRIPTION=3166;OutgoingHeader.GET_WARDROBE=2742;OutgoingHeader.SAVE_WARDROBE_OUTFIT=800;OutgoingHeader.USER_TAGS=17;OutgoingHeader.VISIT_USER=2970;OutgoingHeader.WIRED_ACTION_SAVE=2281;OutgoingHeader.WIRED_APPLY_SNAPSHOT=3373;OutgoingHeader.WIRED_CONDITION_SAVE=3203;OutgoingHeader.WIRED_OPEN=768;OutgoingHeader.WIRED_TRIGGER_SAVE=1520;OutgoingHeader.GET_ITEM_DATA=3964;OutgoingHeader.ONE_WAY_DOOR_CLICK=2765;OutgoingHeader.REMOVE_WALL_ITEM=3336;OutgoingHeader.SET_ITEM_DATA=3666;OutgoingHeader.CATALOG_REDEEM_VOUCHER=339;OutgoingHeader.ROOM_TONER_APPLY=2880;OutgoingHeader.FRIEND_FURNI_CONFIRM_LOCK=3775;OutgoingHeader.MANNEQUIN_SAVE_NAME=2850;OutgoingHeader.MANNEQUIN_SAVE_LOOK=2209;OutgoingHeader.PRESENT_OPEN_PRESENT=3558;OutgoingHeader.CATALOG_SELECT_VIP_GIFT=2276;OutgoingHeader.USER_IGNORE_ID=3314;OutgoingHeader.USER_IGNORE=1117;OutgoingHeader.USER_UNIGNORE=2061;OutgoingHeader.MODTOOL_REQUEST_ROOM_INFO=707;OutgoingHeader.MODTOOL_CHANGE_ROOM_SETTINGS=3260;OutgoingHeader.MODTOOL_REQUEST_USER_CHATLOG=1391;OutgoingHeader.MODTOOL_REQUEST_ROOM_CHATLOG=2587;OutgoingHeader.MODTOOL_SANCTION_ALERT=229;OutgoingHeader.MODTOOL_SANCTION_BAN=2766;OutgoingHeader.MODTOOL_SANCTION_KICK=2582;OutgoingHeader.MODTOOL_SANCTION_TRADELOCK=3742;OutgoingHeader.MODTOOL_ALERTEVENT=1840;OutgoingHeader.MODTOOL_SANCTION_MUTE=1945;OutgoingHeader.MODTOOL_REQUEST_USER_ROOMS=3526;OutgoingHeader.MODTOOL_ROOM_ALERT=3842;OutgoingHeader.MODTOOL_PREFERENCES=31;OutgoingHeader.CLOSE_ISSUE_DEFAULT_ACTION=2717;OutgoingHeader.CLOSE_ISSUES=2067;OutgoingHeader.DEFAULT_SANCTION=1681;OutgoingHeader.GET_CFH_CHATLOG=211;OutgoingHeader.MODTOOL_SANCTION=1392;OutgoingHeader.PICK_ISSUES=15;OutgoingHeader.RELEASE_ISSUES=1572;OutgoingHeader.CONVERT_GLOBAL_ROOM_ID=314;OutgoingHeader.REQUEST_SELL_ITEM=848;OutgoingHeader.REQUEST_MARKETPLACE_ITEM_STATS=3288;OutgoingHeader.MARKETPLACE_SELL_ITEM=3447;OutgoingHeader.MARKETPLACE_REQUEST_OWN_ITEMS=2105;OutgoingHeader.MARKETPLACE_TAKE_BACK_ITEM=434;OutgoingHeader.MARKETPLACE_REDEEM_CREDITS=2650;OutgoingHeader.MARKETPLACE_REQUEST_OFFERS=2407;OutgoingHeader.MARKETPLACE_BUY_OFFER=1603;OutgoingHeader.MARKETPLACE_BUY_TOKENS=1866;OutgoingHeader.CATALOG_REQUESET_PET_BREEDS=1756;OutgoingHeader.APPROVE_NAME=2109;OutgoingHeader.UNIT_GIVE_HANDITEM_PET=2768;OutgoingHeader.PET_MOUNT=1036;OutgoingHeader.PET_SUPPLEMENT=749;OutgoingHeader.FURNITURE_GROUP_INFO=2651;OutgoingHeader.ACHIEVEMENT_RESOLUTION_OPEN=359;OutgoingHeader.USE_PET_PRODUCT=1328;OutgoingHeader.REMOVE_PET_SADDLE=186;OutgoingHeader.TOGGLE_PET_RIDING=1472;OutgoingHeader.TOGGLE_PET_BREEDING=3379;OutgoingHeader.UNSEEN_RESET_CATEGORY=3493;OutgoingHeader.UNSEEN_RESET_ITEMS=2343;OutgoingHeader.COMMUNITY_GOAL_VOTE_COMPOSER=3536;OutgoingHeader.GET_PROMO_ARTICLES=1827;OutgoingHeader.ACCEPT_QUEST=3604;OutgoingHeader.ACTIVATE_QUEST=793;OutgoingHeader.CANCEL_QUEST=3133;OutgoingHeader.FRIEND_REQUEST_QUEST_COMPLETE=1148;OutgoingHeader.GET_COMMUNITY_GOAL_EARNED_PRIZES=2688;OutgoingHeader.GET_COMMUNITY_GOAL_HALL_OF_FAME=2167;OutgoingHeader.GET_COMMUNITY_GOAL_PROGRESS=1145;OutgoingHeader.GET_CONCURRENT_USERS_GOAL_PROGRESS=1343;OutgoingHeader.GET_CONCURRENT_USERS_REWARD=3872;OutgoingHeader.GET_DAILY_QUEST=2486;OutgoingHeader.GET_QUESTS=3333;OutgoingHeader.GET_SEASONAL_QUESTS_ONLY=1190;OutgoingHeader.OPEN_QUEST_TRACKER=2750;OutgoingHeader.REDEEM_COMMUNITY_GOAL_PRIZE=90;OutgoingHeader.REJECT_QUEST=2397;OutgoingHeader.START_CAMPAIGN=1697;OutgoingHeader.GET_BONUS_RARE_INFO=957;OutgoingHeader.CRAFT=3591;OutgoingHeader.CRAFT_SECRET=1251;OutgoingHeader.GET_CRAFTABLE_PRODUCTS=633;OutgoingHeader.GET_CRAFTING_RECIPE=1173;OutgoingHeader.GET_CRAFTING_RECIPES_AVAILABLE=3086;OutgoingHeader.PHOTO_COMPETITION=3959;OutgoingHeader.PUBLISH_PHOTO=2068;OutgoingHeader.PURCHASE_PHOTO=2408;OutgoingHeader.RENDER_ROOM=3226;OutgoingHeader.RENDER_ROOM_THUMBNAIL=1982;OutgoingHeader.REQUEST_CAMERA_CONFIGURATION=796;OutgoingHeader.ADD_JUKEBOX_DISK=753;OutgoingHeader.GET_JUKEBOX_PLAYLIST=1435;OutgoingHeader.GET_NOW_PLAYING=1325;OutgoingHeader.GET_OFFICIAL_SONG_ID=3189;OutgoingHeader.GET_SONG_INFO=3082;OutgoingHeader.GET_SOUND_MACHINE_PLAYLIST=3498;OutgoingHeader.GET_USER_SONG_DISKS=2304;OutgoingHeader.REMOVE_JUKEBOX_DISK=3050;OutgoingHeader.INTERSTITIAL_SHOWN=1109;OutgoingHeader.GET_INTERSTITIAL=2519;OutgoingHeader.CHANGE_USERNAME=2977;OutgoingHeader.CHECK_USERNAME=3950;OutgoingHeader.OPEN_CAMPAIGN_CALENDAR_DOOR_STAFF=3889;OutgoingHeader.OPEN_CAMPAIGN_CALENDAR_DOOR=2257;OutgoingHeader.BUILDERS_CLUB_PLACE_ROOM_ITEM=1051;OutgoingHeader.BUILDERS_CLUB_PLACE_WALL_ITEM=462;OutgoingHeader.BUILDERS_CLUB_QUERY_FURNI_COUNT=2529;OutgoingHeader.GET_CATALOG_PAGE_EXPIRATION=742;OutgoingHeader.GET_CATALOG_PAGE_WITH_EARLIEST_EXP=3135;OutgoingHeader.GET_DIRECT_CLUB_BUY_AVAILABLE=801;OutgoingHeader.GET_HABBO_BASIC_MEMBERSHIP_EXTEND_OFFER=603;OutgoingHeader.GET_HABBO_CLUB_EXTEND_OFFER=2462;OutgoingHeader.GET_IS_OFFER_GIFTABLE=1347;OutgoingHeader.GET_LIMITED_OFFER_APPEARING_NEXT=410;OutgoingHeader.GET_NEXT_TARGETED_OFFER=596;OutgoingHeader.GET_ROOM_AD_PURCHASE_INFO=1075;OutgoingHeader.GET_SEASONAL_CALENDAR_DAILY_OFFER=3257;OutgoingHeader.GET_TARGETED_OFFER=2487;OutgoingHeader.MARK_CATALOG_NEW_ADDITIONS_PAGE_OPENED=2150;OutgoingHeader.PURCHASE_BASIC_MEMBERSHIP_EXTENSION=2735;OutgoingHeader.PURCHASE_ROOM_AD=777;OutgoingHeader.PURCHASE_TARGETED_OFFER=1826;OutgoingHeader.PURCHASE_VIP_MEMBERSHIP_EXTENSION=3407;OutgoingHeader.ROOM_AD_PURCHASE_INITIATED=2283;OutgoingHeader.SET_TARGETTED_OFFER_STATE=2041;OutgoingHeader.SHOP_TARGETED_OFFER_VIEWED=3483;OutgoingHeader.HELPER_TALENT_TRACK=196;OutgoingHeader.FORWARD_TO_A_COMPETITION_ROOM=172;OutgoingHeader.FORWARD_TO_A_SUBMITTABLE_ROOM=1450;OutgoingHeader.FORWARD_TO_RANDOM_COMPETITION_ROOM=865;OutgoingHeader.GET_IS_USER_PART_OF_COMPETITION=2077;OutgoingHeader.GET_SECONDS_UNTIL=271;OutgoingHeader.ROOM_COMPETITION_INIT=1334;OutgoingHeader.SUBMIT_ROOM_TO_COMPETITION=2595;OutgoingHeader.VOTE_FOR_ROOM=143;OutgoingHeader.GET_GIFT=2436;OutgoingHeader.RESET_PHONE_NUMBER_STATE=2741;OutgoingHeader.SET_PHONE_NUMBER_VERIFICATION_STATUS=1379;OutgoingHeader.TRY_PHONE_NUMBER=790;OutgoingHeader.VERIFY_CODE=2721;OutgoingHeader.CONTROL_YOUTUBE_DISPLAY_PLAYBACK=3005;OutgoingHeader.GET_YOUTUBE_DISPLAY_STATUS=336;OutgoingHeader.SET_YOUTUBE_DISPLAY_PLAYLIST=2069;OutgoingHeader.GO_TO_FLAT=685;OutgoingHeader.CALL_FOR_HELP_FROM_FORUM_MESSAGE=1412;OutgoingHeader.CALL_FOR_HELP_FROM_FORUM_THREAD=534;OutgoingHeader.CALL_FOR_HELP_FROM_IM=2950;OutgoingHeader.CALL_FOR_HELP_FROM_PHOTO=2492;OutgoingHeader.CALL_FOR_HELP_FROM_SELFIE=2755;OutgoingHeader.CHAT_REVIEW_GUIDE_DECIDES=3365;OutgoingHeader.CHAT_REVIEW_GUIDE_DETACHED=2501;OutgoingHeader.CHAT_REVIEW_GUIDE_VOTE=3961;OutgoingHeader.CHAT_REVIEW_SESSION_CREATE=3060;OutgoingHeader.DELETE_PENDING_CALLS_FOR_HELP=3605;OutgoingHeader.GET_CFH_STATUS=2746;OutgoingHeader.GET_FAQ_CATEGORY=3445;OutgoingHeader.GET_FAQ_TEXT=1849;OutgoingHeader.GET_GUIDE_REPORTING_STATUS=3786;OutgoingHeader.GET_PENDING_CALLS_FOR_HELP=3267;OutgoingHeader.GET_QUIZ_QUESTIONS=1296;OutgoingHeader.GUIDE_SESSION_CREATE=3338;OutgoingHeader.GUIDE_SESSION_FEEDBACK=477;OutgoingHeader.GUIDE_SESSION_GET_REQUESTER_ROOM=1052;OutgoingHeader.GUIDE_SESSION_GUIDE_DECIDES=1424;OutgoingHeader.GUIDE_SESSION_INVITE_REQUESTER=234;OutgoingHeader.GUIDE_SESSION_IS_TYPING=519;OutgoingHeader.GUIDE_SESSION_MESSAGE=3899;OutgoingHeader.GUIDE_SESSION_ON_DUTY_UPDATE=1922;OutgoingHeader.GUIDE_SESSION_REPORT=3969;OutgoingHeader.GUIDE_SESSION_REQUESTER_CANCELS=291;OutgoingHeader.GUIDE_SESSION_RESOLVED=887;OutgoingHeader.POST_QUIZ_ANSWERS=3720;OutgoingHeader.SEARCH_FAQS=2031;OutgoingHeader.POLL_ANSWER=3505;OutgoingHeader.POLL_REJECT=1773;OutgoingHeader.POLL_START=109;OutgoingHeader.DISCONNECT=2445;OutgoingHeader.SCR_GET_KICKBACK_INFO=869;OutgoingHeader.COMPOST_PLANT=3835;OutgoingHeader.HARVEST_PET=1521;OutgoingHeader.GROUP_UNFAVORITE=1820;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/PetMountComposer.ts\nclass PetMountComposer{constructor(petId,flag){this._data=void 0;this._data=[petId,flag];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/PetRespectComposer.ts\nclass PetRespectComposer{constructor(petId){this._data=void 0;this._data=[petId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/PetSupplementComposer.ts\nclass PetSupplementComposer{constructor(petId,supplement){this._data=void 0;this._data=[petId,supplement];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/RemovePetSaddleComposer.ts\nclass RemovePetSaddleComposer{constructor(petId){this._data=void 0;this._data=[petId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/RequestPetInfoComposer.ts\nclass RequestPetInfoComposer{constructor(petId){this._data=void 0;this._data=[petId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/TogglePetBreedingComposer.ts\nclass TogglePetBreedingComposer{constructor(petId){this._data=void 0;this._data=[petId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/TogglePetRidingComposer.ts\nclass TogglePetRidingComposer{constructor(petId){this._data=void 0;this._data=[petId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/UsePetProductComposer.ts\nclass UsePetProductComposer{constructor(itemId,petId){this._data=void 0;this._data=[itemId,petId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/pet/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/poll/PollAnswerComposer.ts\nclass PollAnswerComposer{constructor(pollId,questionId,answers){this._data=void 0;this._data=[pollId,questionId,answers.length,...answers];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/poll/PollRejectComposer.ts\nclass PollRejectComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/poll/PollStartComposer.ts\nclass PollStartComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/poll/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/AcceptQuestMessageComposer.ts\nclass AcceptQuestMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/ActivateQuestMessageComposer.ts\nclass ActivateQuestMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/CancelQuestMessageComposer.ts\nclass CancelQuestMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/FriendRequestQuestCompleteMessageComposer.ts\nclass FriendRequestQuestCompleteMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetCommunityGoalEarnedPrizesMessageComposer.ts\nclass GetCommunityGoalEarnedPrizesMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetCommunityGoalHallOfFameMessageComposer.ts\nclass GetCommunityGoalHallOfFameMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetCommunityGoalProgressMessageComposer.ts\nclass GetCommunityGoalProgressMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetConcurrentUsersGoalProgressMessageComposer.ts\nclass GetConcurrentUsersGoalProgressMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetConcurrentUsersRewardMessageComposer.ts\nclass GetConcurrentUsersRewardMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetDailyQuestMessageComposer.ts\nclass GetDailyQuestMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetQuestsMessageComposer.ts\nclass GetQuestsMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/GetSeasonalQuestsOnlyMessageComposer.ts\nclass GetSeasonalQuestsOnlyMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/OpenQuestTrackerMessageComposer.ts\nclass OpenQuestTrackerMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/RedeemCommunityGoalPrizeMessageComposer.ts\nclass RedeemCommunityGoalPrizeMessageComposer{constructor(communityGoalId){this._data=void 0;this._data=[communityGoalId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/RejectQuestMessageComposer.ts\nclass RejectQuestMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/StartCampaignMessageComposer.ts\nclass StartCampaignMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/quest/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/access/RoomDoorbellAccessComposer.ts\nclass RoomDoorbellAccessComposer{constructor(user,allowedEntry){this._data=void 0;this._data=[user,allowedEntry];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/access/RoomEnterComposer.ts\nclass RoomEnterComposer{constructor(roomId){let password=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this._data=void 0;this._data=[roomId,password];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/access/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RemoveAllRightsMessageComposer.ts\nclass RemoveAllRightsMessageComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomAmbassadorAlertComposer.ts\nclass RoomAmbassadorAlertComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomBanUserComposer.ts\nclass RoomBanUserComposer{constructor(userId){let roomId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let type=arguments.length>2?arguments[2]:undefined;this._data=void 0;this._data=[userId,roomId,type];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomDeleteComposer.ts\nclass RoomDeleteComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomGiveRightsComposer.ts\nclass RoomGiveRightsComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomKickUserComposer.ts\nclass RoomKickUserComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomLikeRoomComposer.ts\nclass RoomLikeRoomComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomMuteUserComposer.ts\nclass RoomMuteUserComposer{constructor(userId,minutes){let roomId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this._data=void 0;this._data=[userId,minutes,roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomStaffPickComposer.ts\nclass RoomStaffPickComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomTakeRightsComposer.ts\nclass RoomTakeRightsComposer{constructor(){this._data=void 0;for(var _len=arguments.length,userIds=new Array(_len),_key=0;_key<_len;_key++){userIds[_key]=arguments[_key];}this._data=[userIds.length,...userIds];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/RoomUnbanUserComposer.ts\nclass RoomUnbanUserComposer{constructor(userId,roomId){this._data=void 0;this._data=[userId,roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/action/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/bots/RequestBotConfigurationComposer.ts\nclass RequestBotCommandConfigurationComposer{constructor(botId,skillId){this._data=void 0;this._data=[botId,skillId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/bots/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/data/RoomBannedUsersComposer.ts\nclass RoomBannedUsersComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/data/RoomInfoComposer.ts\nclass RoomInfoComposer{constructor(roomId,enterRoom,forwardRoom){this._data=void 0;this._data=[roomId,enterRoom?1:0,forwardRoom?1:0];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/data/RoomSettingsComposer.ts\nclass RoomSettingsComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/data/RoomUsersWithRightsComposer.ts\nclass RoomUsersWithRightsComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/data/SaveRoomSettingsComposer.ts\nclass SaveRoomSettingsComposer{constructor(roomId,roomName,roomDescription,lockState,password,userCount,categoryId,tagsCount,tags,tradeState,allowPets,allowPetsEat,allowWalkthrough,hideWalls,wallThickness,floorThickness,muteState,kickState,banState,chatBubbleMode,chatBubbleWeight,chatBubbleSpeed,chatDistance,chatFloodProtection){this._data=void 0;this._data=[roomId,roomName,roomDescription,lockState,password,userCount,categoryId,tagsCount,tags,tradeState,allowPets,allowPetsEat,allowWalkthrough,hideWalls,wallThickness,floorThickness,muteState,kickState,banState,chatBubbleMode,chatBubbleWeight,chatBubbleSpeed,chatDistance,chatFloodProtection];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/BotPlaceComposer.ts\nclass BotPlaceComposer{constructor(botId,x,y){this._data=void 0;this._data=[botId,x,y];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/BotRemoveComposer.ts\nclass BotRemoveComposer{constructor(botId){this._data=void 0;this._data=[botId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/BotSkillSaveComposer.ts\nclass BotSkillSaveComposer{constructor(botId,skill,data){this._data=void 0;this._data=[botId,skill,data];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/PetMessageComposer.ts\nclass PetMessageComposer{constructor(id){this._data=void 0;this._data=[id];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/CompostPlantMessageComposer.ts\nclass CompostPlantMessageComposer_CompostPlantMessageComposer extends PetMessageComposer{constructor(id){super(id);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/GetItemDataComposer.ts\nclass GetItemDataComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/HarvestPetMessageComposer.ts\nclass HarvestPetMessageComposer_HarvestPetMessageComposer extends PetMessageComposer{constructor(id){super(id);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/PetMoveComposer.ts\nclass PetMoveComposer{constructor(petId,x,y,direction){this._data=void 0;this._data=[petId,x,y,direction];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/PetPlaceComposer.ts\nclass PetPlaceComposer{constructor(petId,x,y){this._data=void 0;this._data=[petId,x,y];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/PetRemoveComposer.ts\nclass PetRemoveComposer{constructor(petId){this._data=void 0;this._data=[petId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/RemoveWallItemComposer.ts\nclass RemoveWallItemComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/SetItemDataMessageComposer.ts\nclass SetItemDataMessageComposer{constructor(itemId,colorHex,text){this._data=void 0;this._data=[itemId,colorHex,text];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/SetObjectDataMessageComposer.ts\nclass SetObjectDataMessageComposer{constructor(objectId,data){this._data=void 0;this._data=[objectId,data.size*2];for(const[key,value]of data.entries())this._data.push(key,value);}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/engine/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/dimmer/MoodlightSettingsComposer.ts\nclass MoodlightSettingsComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/dimmer/MoodlightSettingsSaveComposer.ts\nclass MoodlightSettingsSaveComposer{constructor(k,arg2,arg3,arg4,arg5){this._data=void 0;this._data=[k,arg2,arg3,arg4,arg5];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/dimmer/MoodlightTogggleStateComposer.ts\nclass MoodlightTogggleStateComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/dimmer/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/floor/FurnitureFloorUpdateComposer.ts\nclass FurnitureFloorUpdateComposer{constructor(itemId,x,y,direction){this._data=void 0;this._data=[itemId,x,y,direction];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/floor/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/FurnitureAliasesComposer.ts\nclass FurnitureAliasesComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/FurnitureGroupInfoComposer.ts\nclass FurnitureGroupInfoComposer{constructor(objectId,guildId){this._data=void 0;this._data=[objectId,guildId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/FurniturePickupComposer.ts\nclass FurniturePickupComposer{constructor(category,objectId){this._data=void 0;this._data=[category,objectId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/FurniturePlaceComposer.ts\nclass FurniturePlaceComposer_FurniturePlaceComposer{constructor(itemId,category,wallLocation,x,y,direction){this._itemId=void 0;this._category=void 0;this._wallLocation=void 0;this._x=void 0;this._y=void 0;this._direction=void 0;this._itemId=itemId;this._category=category;this._wallLocation=wallLocation;this._x=x;this._y=y;this._direction=direction;}getMessageArray(){switch(this._category){case RoomObjectCategory.FLOOR:return[`${this._itemId} ${this._x} ${this._y} ${this._direction}`];case RoomObjectCategory.WALL:return[`${this._itemId} ${this._wallLocation} `];default:return[];}}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/FurniturePlacePaintComposer.ts\nclass FurniturePlacePaintComposer{constructor(furniId){this._data=void 0;this._data=[furniId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/FurniturePostItPlaceComposer.ts\nclass FurniturePostItPlaceComposer{constructor(itemId,wallLocation){this._data=void 0;this._data=[itemId,wallLocation];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/FurniturePostItSaveStickyPoleComposer.ts\nclass FurniturePostItSaveStickyPoleComposer{constructor(itemId,wallLocation,color,text){this._data=void 0;this._data=[itemId,wallLocation,color,text];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureColorWheelComposer.ts\nclass FurnitureColorWheelComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureDiceActivateComposer.ts\nclass FurnitureDiceActivateComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureDiceDeactivateComposer.ts\nclass FurnitureDiceDeactivateComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureExchangeComposer.ts\nclass FurnitureExchangeComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureMultiStateComposer.ts\nclass FurnitureMultiStateComposer{constructor(itemId){let state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this._data=void 0;this._data=[itemId,state];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureOneWayDoorComposer.ts\nclass FurnitureOneWayDoorComposer{constructor(itemId){this._data=void 0;this._data=[itemId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureRandomStateComposer.ts\nclass FurnitureRandomStateComposer{constructor(itemId,state){this._data=void 0;this._data=[itemId,state];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureStackHeightComposer.ts\nclass FurnitureStackHeightComposer{constructor(itemId){let height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-100;this._data=void 0;this._data=[itemId,height];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureWallMultiStateComposer.ts\nclass FurnitureWallMultiStateComposer{constructor(itemId,state){this._data=void 0;this._data=[itemId,state];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/logic/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/mannequin/FurnitureMannequinSaveLookComposer.ts\nclass FurnitureMannequinSaveLookComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/mannequin/FurnitureMannequinSaveNameComposer.ts\nclass FurnitureMannequinSaveNameComposer{constructor(itemId,name){this._data=void 0;this._data=[itemId,name];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/mannequin/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/presents/OpenPresentComposer.ts\nclass OpenPresentComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/presents/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/toner/ApplyTonerComposer.ts\nclass ApplyTonerComposer{constructor(k,arg2,arg3,arg4){this._data=void 0;this._data=[k,arg2,arg3,arg4];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/toner/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/wall/FurnitureWallUpdateComposer.ts\nclass FurnitureWallUpdateComposer{constructor(itemId,location){this._data=void 0;this._data=[itemId,location];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/wall/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/youtube/ControlYoutubeDisplayPlaybackMessageComposer.ts\nclass ControlYoutubeDisplayPlaybackMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/youtube/GetYoutubeDisplayStatusMessageComposer.ts\nclass GetYoutubeDisplayStatusMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/youtube/SetYoutubeDisplayPlaylistMessageComposer.ts\nclass SetYoutubeDisplayPlaylistMessageComposer{constructor(k,_arg_2){this._data=void 0;this._data=[k,_arg_2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/youtube/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/furniture/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/layout/GetOccupiedTilesMessageComposer.ts\nclass GetOccupiedTilesMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/layout/GetRoomEntryDataMessageComposer.ts\nclass GetRoomEntryDataMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/layout/GetRoomEntryTileMessageComposer.ts\nclass GetRoomEntryTileMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/layout/UpdateFloorPropertiesMessageComposer.ts\nclass UpdateFloorPropertiesMessageComposer{constructor(model,doorX,doorY,doorDirection,thicknessWall,thicknessFloor,wallHeight){this._data=void 0;this._data=[model,doorX,doorY,doorDirection,thicknessWall,thicknessFloor,wallHeight];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/layout/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/RedeemItemClothingComposer.ts\nclass RedeemItemClothingComposer{constructor(setId){this._data=void 0;this._data=[setId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/RoomCreateComposer.ts\nclass RoomCreateComposer{constructor(roomName,roomDesc,modelName,categoryId,maxVisitors,tradeType){this._data=void 0;this._data=[roomName,roomDesc,modelName,categoryId,maxVisitors,tradeType];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/session/GoToFlatMessageComposer.ts\nclass GoToFlatMessageComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/session/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitChatComposer.ts\nclass RoomUnitChatComposer{constructor(message){let styleId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this._data=void 0;this._data=[message,styleId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitChatShoutComposer.ts\nclass RoomUnitChatShoutComposer{constructor(message,styleId){this._data=void 0;this._data=[message,styleId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitChatStyleComposer.ts\nclass RoomUnitChatStyleComposer{constructor(styleId){this._data=void 0;this._data=[styleId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitChatWhisperComposer.ts\nclass RoomUnitChatWhisperComposer{constructor(recipientName,message,styleId){this._data=void 0;this._data=[recipientName+' '+message,styleId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitTypingStartComposer.ts\nclass RoomUnitTypingStartComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitTypingStopComposer.ts\nclass RoomUnitTypingStopComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/chat/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitActionComposer.ts\nclass RoomUnitActionComposer{constructor(actionType){this._data=void 0;this._data=[actionType];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitDanceComposer.ts\nclass RoomUnitDanceComposer{constructor(danceType){this._data=void 0;this._data=[danceType];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitDropHandItemComposer.ts\nclass RoomUnitDropHandItemComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitGiveHandItemComposer.ts\nclass RoomUnitGiveHandItemComposer{constructor(unitId){this._data=void 0;this._data=[unitId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitGiveHandItemPetComposer.ts\nclass RoomUnitGiveHandItemPetComposer{constructor(unitId){this._data=void 0;this._data=[unitId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitLookComposer.ts\nclass RoomUnitLookComposer{constructor(x,y){this._data=void 0;this._data=[x,y];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitPostureComposer.ts\nclass RoomUnitPostureComposer{constructor(posture){this._data=void 0;this._data=[posture];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitSignComposer.ts\nclass RoomUnitSignComposer{constructor(signType){this._data=void 0;this._data=[signType];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/RoomUnitWalkComposer.ts\nclass RoomUnitWalkComposer{constructor(x,y){this._data=void 0;this._data=[x,y];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/unit/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/room/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/roomevents/ApplySnapshotMessageComposer.ts\nclass ApplySnapshotMessageComposer{constructor(id){this._data=void 0;this._data=[id];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/roomevents/OpenMessageComposer.ts\nclass OpenMessageComposer{constructor(id){this._data=void 0;this._data=[id];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/roomevents/RoomMuteComposer.ts\nclass RoomMuteComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/roomevents/UpdateActionMessageComposer.ts\nclass UpdateActionMessageComposer{constructor(id,ints,string,stuffs,delay,selectionCode){this._data=void 0;this._data=[id,ints.length,...ints,string,stuffs.length,...stuffs,delay,selectionCode];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/roomevents/UpdateConditionMessageComposer.ts\nclass UpdateConditionMessageComposer{constructor(id,ints,string,stuffs,selectionCode){this._data=void 0;this._data=[id,ints.length,...ints,string,stuffs.length,...stuffs,selectionCode];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/roomevents/UpdateTriggerMessageComposer.ts\nclass UpdateTriggerMessageComposer{constructor(id,ints,string,stuffs,selectionCode){this._data=void 0;this._data=[id,ints.length,...ints,string,stuffs.length,...stuffs,selectionCode];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/roomevents/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/AddJukeboxDiskComposer.ts\nclass AddJukeboxDiskComposer{constructor(k,_arg2){this._data=void 0;this._data=[k,_arg2];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/GetJukeboxPlayListMessageComposer.ts\nclass GetJukeboxPlayListMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/GetNowPlayingMessageComposer.ts\nclass GetNowPlayingMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/GetOfficialSongIdMessageComposer.ts\nclass GetOfficialSongIdMessageComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/GetSongInfoMessageComposer.ts\nclass GetSongInfoMessageComposer{constructor(){this._data=void 0;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}this._data=[args.length].concat(args);}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/GetSoundMachinePlayListMessageComposer.ts\nclass GetSoundMachinePlayListMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/GetSoundSettingsComposer.ts\nclass GetSoundSettingsComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/GetUserSongDisksMessageComposer.ts\nclass GetUserSongDisksMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/RemoveJukeboxDiskComposer.ts\nclass RemoveJukeboxDiskComposer{constructor(k){this._data=void 0;this._data=[k];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/sound/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/talent/TalentTrackComposer.ts\nclass TalentTrackComposer{constructor(type){this._data=void 0;this._data=[type];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/talent/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/ApproveNameMessageComposer.ts\nclass ApproveNameMessageComposer{constructor(name,type){this._data=void 0;this._data=[name,type];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/CatalogGroupsComposer.ts\nclass CatalogGroupsComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/GetExtendedProfileByNameMessageComposer.ts\nclass GetExtendedProfileByNameMessageComposer{constructor(username){this._data=void 0;this._data=[username];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/GetIgnoredUsersComposer.ts\nclass GetIgnoredUsersComposer{constructor(username){this._data=void 0;this._data=[username];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/IgnoreUserComposer.ts\nclass IgnoreUserComposer{constructor(username){this._data=void 0;this._data=[username];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/IgnoreUserIdComposer.ts\nclass IgnoreUserIdComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/UnignoreUserComposer.ts\nclass UnignoreUserComposer{constructor(username){this._data=void 0;this._data=[username];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/UserCurrentBadgesComposer.ts\nclass UserCurrentBadgesComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/UserFigureComposer.ts\nclass UserFigureComposer{constructor(gender,figure){this._data=void 0;this._data=[gender,figure];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/UserHomeRoomComposer.ts\nclass UserHomeRoomComposer{constructor(roomId){this._data=void 0;this._data=[roomId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/UserMottoComposer.ts\nclass UserMottoComposer{constructor(motto){this._data=void 0;this._data=[motto];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/UserProfileComposer.ts\nclass UserProfileComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/UserRelationshipsComposer.ts\nclass UserRelationshipsComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/GetHabboGroupBadgesMessageComposer.ts\nclass GetHabboGroupBadgesMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/inventory/currency/UserCurrencyComposer.ts\nclass UserCurrencyComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/inventory/currency/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/inventory/subscription/UserSubscriptionComposer.ts\nclass UserSubscriptionComposer{constructor(type){this._data=void 0;this._data=[type];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/inventory/subscription/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/inventory/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/ScrGetKickbackInfoMessageComposer.ts\nclass ScrGetKickbackInfoMessageComposer{constructor(){this._data=void 0;this._data=[];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/settings/UserSettingsCameraFollowComposer.ts\nclass UserSettingsCameraFollowComposer{constructor(value){this._data=void 0;this._data=[value];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/settings/UserSettingsOldChatComposer.ts\nclass UserSettingsOldChatComposer{constructor(value){this._data=void 0;this._data=[value];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/settings/UserSettingsRoomInvitesComposer.ts\nclass UserSettingsRoomInvitesComposer{constructor(value){this._data=void 0;this._data=[value];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/settings/UserSettingsSoundComposer.ts\nclass UserSettingsSoundComposer{constructor(volumeSystem,volumeFurni,volumeTrax){this._data=void 0;this._data=[volumeSystem,volumeFurni,volumeTrax];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/settings/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/UserRespectComposer.ts\nclass UserRespectComposer{constructor(userId){this._data=void 0;this._data=[userId];}getMessageArray(){return this._data;}dispose(){return;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/user/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/outgoing/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/competition/CompetitionEntrySubmitResultEvent.ts\nclass CompetitionEntrySubmitResultEvent_CompetitionEntrySubmitResultEvent extends MessageEvent{constructor(callBack){super(callBack,CompetitionEntrySubmitResultMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/competition/CompetitionVotingInfoMessageEvent.ts\nclass CompetitionVotingInfoMessageEvent_CompetitionVotingInfoMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CompetitionVotingInfoMessageParser_CompetitionVotingInfoMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/competition/CurrentTimingCodeMessageEvent.ts\nclass CurrentTimingCodeMessageEvent_CurrentTimingCodeMessageEvent extends MessageEvent{constructor(callBack){super(callBack,CurrentTimingCodeMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/competition/IsUserPartOfCompetitionMessageEvent.ts\nclass IsUserPartOfCompetitionMessageEvent_IsUserPartOfCompetitionMessageEvent extends MessageEvent{constructor(callBack){super(callBack,IsUserPartOfCompetitionMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/competition/NoOwnedRoomsAlertMessageEvent.ts\nclass NoOwnedRoomsAlertMessageEvent_NoOwnedRoomsAlertMessageEvent extends MessageEvent{constructor(callBack){super(callBack,NoOwnedRoomsAlertMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/competition/SecondsUntilMessageEvent.ts\nclass SecondsUntilMessageEvent_SecondsUntilMessageEvent extends MessageEvent{constructor(callBack){super(callBack,SecondsUntilMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/help/GuideReportingStatusMessageEvent.ts\nclass GuideReportingStatusMessageEvent_GuideReportingStatusMessageEvent extends MessageEvent{constructor(callBack){super(callBack,GuideReportingStatusMessageParser_GuideReportingStatusMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/engine/FavoriteMembershipUpdateMessageEvent.ts\nclass FavoriteMembershipUpdateMessageEvent_FavoriteMembershipUpdateMessageEvent extends MessageEvent{constructor(callBack){super(callBack,FavoriteMembershipUpdateMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/pet/PetStatusUpdateEvent.ts\nclass PetStatusUpdateEvent_PetStatusUpdateEvent extends MessageEvent{constructor(callBack){super(callBack,PetStatusUpdateParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/room/session/YouAreSpectatorMessageEvent.ts\nclass YouAreSpectatorMessageEvent_YouAreSpectatorMessageEvent extends MessageEvent{constructor(callBack){super(callBack,YouAreSpectatorMessageParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/incoming/user/PetRespectNoficationEvent.ts\nclass PetRespectNoficationEvent_PetRespectNoficationEvent extends MessageEvent{constructor(callBack){super(callBack,PetRespectNotificationParser_PetRespectNotificationParser);}getParser(){return this.parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/NitroMessages.ts\nclass NitroMessages_NitroMessages{constructor(){this._events=void 0;this._composers=void 0;this._events=new Map();this._composers=new Map();this.registerEvents();this.registerComposers();}registerEvents(){// ADVERTISEMENT\nthis._events.set(IncomingHeader.INTERSTITIAL_MESSAGE,InterstitialMessageEvent_InterstitialMessageEvent);this._events.set(IncomingHeader.ROOM_AD_ERROR,RoomAdErrorEvent_RoomAdErrorEvent);// AVAILABILITY\nthis._events.set(IncomingHeader.AVAILABILITY_STATUS,AvailabilityStatusMessageEvent_AvailabilityStatusMessageEvent);this._events.set(IncomingHeader.AVAILABILITY_TIME,AvailabilityTimeMessageEvent_AvailabilityTimeMessageEvent);this._events.set(IncomingHeader.HOTEL_CLOSED_AND_OPENS,HotelClosedAndOpensEvent_HotelClosedAndOpensEvent);this._events.set(IncomingHeader.HOTEL_CLOSES_AND_OPENS_AT,HotelClosesAndWillOpenAtEvent_HotelClosesAndWillOpenAtEvent);this._events.set(IncomingHeader.HOTEL_WILL_CLOSE_MINUTES,HotelWillCloseInMinutesEvent_HotelWillCloseInMinutesEvent);this._events.set(IncomingHeader.HOTEL_MAINTENANCE,MaintenanceStatusMessageEvent_MaintenanceStatusMessageEvent);// AVATAR\nthis._events.set(IncomingHeader.USER_CHANGE_NAME,ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent);this._events.set(IncomingHeader.CHECK_USER_NAME,CheckUserNameResultMessageEvent_CheckUserNameResultMessageEvent);this._events.set(IncomingHeader.USER_FIGURE,FigureUpdateEvent_FigureUpdateEvent);this._events.set(IncomingHeader.USER_OUTFITS,WardrobeMessageEvent_WardrobeMessageEvent);// BOTS\nthis._events.set(IncomingHeader.ADD_BOT_TO_INVENTORY,BotAddedToInventoryEvent_BotAddedToInventoryEvent);this._events.set(IncomingHeader.USER_BOTS,BotInventoryMessageEvent_BotInventoryMessageEvent);this._events.set(IncomingHeader.BOT_RECEIVED,BotReceivedMessageEvent_BotReceivedMessageEvent);this._events.set(IncomingHeader.REMOVE_BOT_FROM_INVENTORY,BotRemovedFromInventoryEvent_BotRemovedFromInventoryEvent);// CALL FOR HELP\nthis._events.set(IncomingHeader.CFH_SANCTION,CfhSanctionMessageEvent_CfhSanctionMessageEvent);this._events.set(IncomingHeader.CFH_TOPICS,CfhTopicsInitEvent_CfhTopicsInitEvent);this._events.set(IncomingHeader.CFH_SANCTION_STATUS,SanctionStatusEvent_SanctionStatusEvent);// CAMERA\nthis._events.set(IncomingHeader.CAMERA_PUBLISH_STATUS,CameraPublishStatusMessageEvent_CameraPublishStatusMessageEvent);this._events.set(IncomingHeader.CAMERA_PURCHASE_OK,CameraPurchaseOKMessageEvent_CameraPurchaseOKMessageEvent);this._events.set(IncomingHeader.CAMERA_STORAGE_URL,CameraStorageUrlMessageEvent_CameraStorageUrlMessageEvent);this._events.set(IncomingHeader.COMPETITION_STATUS,CompetitionStatusMessageEvent_CompetitionStatusMessageEvent);this._events.set(IncomingHeader.INIT_CAMERA,InitCameraMessageEvent_InitCameraMessageEvent);this._events.set(IncomingHeader.THUMBNAIL_STATUS,ThumbnailStatusMessageEvent_ThumbnailStatusMessageEvent);// CAMPAIGN\nthis._events.set(IncomingHeader.CAMPAIGN_CALENDAR_DATA,CampaignCalendarDataMessageEvent_CampaignCalendarDataMessageEvent);this._events.set(IncomingHeader.CAMPAIGN_CALENDAR_DOOR_OPENED,CampaignCalendarDoorOpenedMessageEvent_CampaignCalendarDoorOpenedMessageEvent);// CATALOG\nthis._events.set(IncomingHeader.BONUS_RARE_INFO,BonusRareInfoMessageEvent_BonusRareInfoMessageEvent);this._events.set(IncomingHeader.BUILDERS_CLUB_FURNI_COUNT,BuildersClubFurniCountMessageEvent_BuildersClubFurniCountMessageEvent);this._events.set(IncomingHeader.BUILDERS_CLUB_SUBSCRIPTION,BuildersClubSubscriptionStatusMessageEvent_BuildersClubSubscriptionStatusMessageEvent);this._events.set(IncomingHeader.BUNDLE_DISCOUNT_RULESET,BundleDiscountRulesetMessageEvent_BundleDiscountRulesetMessageEvent);this._events.set(IncomingHeader.CATALOG_PAGE_EXPIRATION,CatalogPageExpirationEvent_CatalogPageExpirationEvent);this._events.set(IncomingHeader.CATALOG_PAGE,CatalogPageMessageEvent_CatalogPageMessageEvent);this._events.set(IncomingHeader.CATALOG_PAGE_LIST,CatalogPagesListEvent_CatalogPagesListEvent);this._events.set(IncomingHeader.CATALOG_EARLIEST_EXPIRY,CatalogPageWithEarliestExpiryMessageEvent_CatalogPageWithEarliestExpiryMessageEvent);this._events.set(IncomingHeader.CATALOG_PUBLISHED,CatalogPublishedMessageEvent_CatalogPublishedMessageEvent);this._events.set(IncomingHeader.CLUB_GIFT_INFO,ClubGiftInfoEvent_ClubGiftInfoEvent);this._events.set(IncomingHeader.CLUB_GIFT_SELECTED,ClubGiftSelectedEvent_ClubGiftSelectedEvent);this._events.set(IncomingHeader.DIRECT_SMS_CLUB_BUY,DirectSMSClubBuyAvailableMessageEvent_DirectSMSClubBuyAvailableMessageEvent);this._events.set(IncomingHeader.GIFT_RECEIVER_NOT_FOUND,GiftReceiverNotFoundEvent_GiftReceiverNotFoundEvent);this._events.set(IncomingHeader.GIFT_WRAPPER_CONFIG,GiftWrappingConfigurationEvent_GiftWrappingConfigurationEvent);this._events.set(IncomingHeader.CLUB_EXTENDED_OFFER,HabboClubExtendOfferMessageEvent_HabboClubExtendOfferMessageEvent);this._events.set(IncomingHeader.CLUB_OFFERS,HabboClubOffersMessageEvent_HabboClubOffersMessageEvent);this._events.set(IncomingHeader.IS_OFFER_GIFTABLE,IsOfferGiftableMessageEvent_IsOfferGiftableMessageEvent);this._events.set(IncomingHeader.LIMITED_SOLD_OUT,LimitedEditionSoldOutEvent_LimitedEditionSoldOutEvent);this._events.set(IncomingHeader.LIMITED_OFFER_APPEARING_NEXT,LimitedOfferAppearingNextMessageEvent_LimitedOfferAppearingNextMessageEvent);this._events.set(IncomingHeader.NOT_ENOUGH_BALANCE,NotEnoughBalanceMessageEvent_NotEnoughBalanceMessageEvent);this._events.set(IncomingHeader.PRODUCT_OFFER,ProductOfferEvent_ProductOfferEvent);this._events.set(IncomingHeader.CATALOG_PURCHASE_ERROR,PurchaseErrorMessageEvent_PurchaseErrorMessageEvent);this._events.set(IncomingHeader.CATALOG_PURCHASE_NOT_ALLOWED,PurchaseNotAllowedMessageEvent_PurchaseNotAllowedMessageEvent);this._events.set(IncomingHeader.CATALOG_PURCHASE_OK,PurchaseOKMessageEvent_PurchaseOKMessageEvent);this._events.set(IncomingHeader.ROOM_AD_PURCHASE,RoomAdPurchaseInfoEvent_RoomAdPurchaseInfoEvent);this._events.set(IncomingHeader.SEASONAL_CALENDAR_OFFER,SeasonalCalendarDailyOfferMessageEvent_SeasonalCalendarDailyOfferMessageEvent);this._events.set(IncomingHeader.CATALOG_RECEIVE_PET_BREEDS,SellablePetPalettesMessageEvent_SellablePetPalettesMessageEvent);this._events.set(IncomingHeader.TARGET_OFFER,TargetedOfferEvent_TargetedOfferEvent);this._events.set(IncomingHeader.TARGET_OFFER_NOT_FOUND,TargetedOfferNotFoundEvent_TargetedOfferNotFoundEvent);this._events.set(IncomingHeader.REDEEM_VOUCHER_ERROR,VoucherRedeemErrorMessageEvent_VoucherRedeemErrorMessageEvent);this._events.set(IncomingHeader.REDEEM_VOUCHER_OK,VoucherRedeemOkMessageEvent_VoucherRedeemOkMessageEvent);// CLIENT\nthis._events.set(IncomingHeader.CLIENT_PING,ClientPingEvent_ClientPingEvent);// COMPETITION\nthis._events.set(IncomingHeader.COMPETITION_ENTRY_SUBMIT,CompetitionEntrySubmitResultEvent_CompetitionEntrySubmitResultEvent);this._events.set(IncomingHeader.COMPETITION_VOTING_INFO,CompetitionVotingInfoMessageEvent_CompetitionVotingInfoMessageEvent);this._events.set(IncomingHeader.COMPETITION_TIMING_CODE,CurrentTimingCodeMessageEvent_CurrentTimingCodeMessageEvent);this._events.set(IncomingHeader.COMPETITION_USER_PART_OF,IsUserPartOfCompetitionMessageEvent_IsUserPartOfCompetitionMessageEvent);this._events.set(IncomingHeader.COMPETITION_NO_OWNED_ROOMS,NoOwnedRoomsAlertMessageEvent_NoOwnedRoomsAlertMessageEvent);this._events.set(IncomingHeader.COMPETITION_SECONDS_UNTIL,SecondsUntilMessageEvent_SecondsUntilMessageEvent);// CRAFTING\nthis._events.set(IncomingHeader.CRAFTABLE_PRODUCTS,CraftableProductsEvent_CraftableProductsEvent);this._events.set(IncomingHeader.CRAFTING_RECIPE,CraftingRecipeEvent_CraftingRecipeEvent);this._events.set(IncomingHeader.CRAFTING_RECIPES_AVAILABLE,CraftingRecipesAvailableEvent_CraftingRecipesAvailableEvent);this._events.set(IncomingHeader.CRAFTING_RESULT,CraftingResultEvent_CraftingResultEvent);// DESKTOP\nthis._events.set(IncomingHeader.DESKTOP_VIEW,DesktopViewEvent_DesktopViewEvent);// FRIENDLIST\nthis._events.set(IncomingHeader.MESSENGER_ACCEPT_FRIENDS,AcceptFriendResultEvent_AcceptFriendResultEvent);this._events.set(IncomingHeader.MESSENGER_FIND_FRIENDS,FindFriendsProcessResultEvent_FindFriendsProcessResultEvent);this._events.set(IncomingHeader.MESSENGER_FOLLOW_FAILED,FollowFriendFailedEvent_FollowFriendFailedEvent);this._events.set(IncomingHeader.MESSENGER_FRIENDS,FriendListFragmentEvent_FriendListFragmentEvent);this._events.set(IncomingHeader.MESSENGER_UPDATE,FriendListUpdateEvent_FriendListUpdateEvent);this._events.set(IncomingHeader.MESSENGER_FRIEND_NOTIFICATION,FriendNotificationEvent_FriendNotificationEvent);this._events.set(IncomingHeader.MESSENGER_REQUESTS,FriendRequestsEvent_FriendRequestsEvent);this._events.set(IncomingHeader.MESSENGER_SEARCH,HabboSearchResultEvent_HabboSearchResultEvent);this._events.set(IncomingHeader.MESSENGER_INSTANCE_MESSAGE_ERROR,InstantMessageErrorEvent_InstantMessageErrorEvent);this._events.set(IncomingHeader.MESSENGER_MESSAGE_ERROR,MessageErrorEvent_MessageErrorEvent);this._events.set(IncomingHeader.MESSENGER_INIT,MessengerInitEvent_MessengerInitEvent);this._events.set(IncomingHeader.MESSENGER_MINIMAIL_NEW,MiniMailNewMessageEvent_MiniMailNewMessageEvent);this._events.set(IncomingHeader.MESSENGER_MINIMAIL_COUNT,MiniMailUnreadCountEvent_MiniMailUnreadCountEvent);this._events.set(IncomingHeader.MESSENGER_CHAT,NewConsoleMessageEvent_NewConsoleMessageEvent);this._events.set(IncomingHeader.MESSENGER_REQUEST,NewFriendRequestEvent_NewFriendRequestEvent);this._events.set(IncomingHeader.MESSENGER_INVITE_ERROR,RoomInviteErrorEvent_RoomInviteErrorEvent);this._events.set(IncomingHeader.MESSENGER_INVITE,RoomInviteEvent_RoomInviteEvent);// GAMES\nthis._events.set(IncomingHeader.LOAD_GAME_URL,LoadGameUrlEvent_LoadGameUrlEvent);// GROUP\nthis._events.set(IncomingHeader.GROUP_INFO,GroupInformationEvent_GroupInformationEvent);this._events.set(IncomingHeader.GROUP_MEMBER_REMOVE_CONFIRM,GroupConfirmMemberRemoveEvent_GroupConfirmMemberRemoveEvent);this._events.set(IncomingHeader.GROUP_MEMBERS,GroupMembersEvent_GroupMembersEvent);this._events.set(IncomingHeader.GROUP_CREATE_OPTIONS,GroupBuyDataEvent_GroupBuyDataEvent);this._events.set(IncomingHeader.GROUP_BADGE_PARTS,GroupBadgePartsEvent_GroupBadgePartsEvent);this._events.set(IncomingHeader.GROUP_SETTINGS,GroupSettingsEvent_GroupSettingsEvent);this._events.set(IncomingHeader.GROUP_PURCHASED,GroupPurchasedEvent_GroupPurchasedEvent);this._events.set(IncomingHeader.GROUP_BADGES,HabboGroupBadgesMessageEvent_HabboGroupBadgesMessageEvent);this._events.set(IncomingHeader.GROUP_DEACTIVATE,HabboGroupDeactivatedMessageEvent_HabboGroupDeactivatedMessageEvent);// GROUP FORUMS\nthis._events.set(IncomingHeader.GROUP_FORUM_DATA,ForumDataMessageEvent_ForumDataMessageEvent);this._events.set(IncomingHeader.GROUP_FORUM_LIST,ForumsListMessageEvent_ForumsListMessageEvent);this._events.set(IncomingHeader.GROUP_FORUM_THREADS,GuildForumThreadsEvent_GuildForumThreadsEvent);this._events.set(IncomingHeader.GROUP_FORUM_POST,PostMessageMessageEvent_PostMessageMessageEvent);this._events.set(IncomingHeader.GROUP_FORUM_POST_THREAD,PostThreadMessageEvent_PostThreadMessageEvent);this._events.set(IncomingHeader.GROUP_FORUM_THREAD_MESSAGES,ThreadMessagesMessageEvent_ThreadMessagesMessageEvent);this._events.set(IncomingHeader.GROUP_FORUM_UNREAD_COUNT,UnreadForumsCountMessageEvent_UnreadForumsCountMessageEvent);this._events.set(IncomingHeader.GROUP_FORUM_UPDATE_MESSAGE,UpdateMessageMessageEvent_UpdateMessageMessageEvent);this._events.set(IncomingHeader.GROUP_FORUM_UPDATE_THREAD,UpdateThreadMessageEvent_UpdateThreadMessageEvent);// HELP\nthis._events.set(IncomingHeader.CFH_DISABLED_NOTIFY,CallForHelpDisabledNotifyMessageEvent_CallForHelpDisabledNotifyMessageEvent);this._events.set(IncomingHeader.CFH_PENDING_CALLS_DELETED,CallForHelpPendingCallsDeletedMessageEvent_CallForHelpPendingCallsDeletedMessageEvent);this._events.set(IncomingHeader.CFH_PENDING_CALLS,CallForHelpPendingCallsMessageEvent_CallForHelpPendingCallsMessageEvent);this._events.set(IncomingHeader.CFH_REPLY,CallForHelpReplyMessageEvent_CallForHelpReplyMessageEvent);this._events.set(IncomingHeader.CFH_RESULT_MESSAGE,CallForHelpResultMessageEvent_CallForHelpResultMessageEvent);this._events.set(IncomingHeader.GUIDE_ON_DUTY_STATUS,GuideOnDutyStatusMessageEvent_GuideOnDutyStatusMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_ATTACHED,GuideSessionAttachedMessageEvent_GuideSessionAttachedMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_DETACHED,GuideSessionDetachedMessageEvent_GuideSessionDetachedMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_ENDED,GuideSessionEndedMessageEvent_GuideSessionEndedMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_ERROR,GuideSessionErrorMessageEvent_GuideSessionErrorMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_INVITED_TO_GUIDE_ROOM,GuideSessionInvitedToGuideRoomMessageEvent_GuideSessionInvitedToGuideRoomMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_MESSAGE,GuideSessionMessageMessageEvent_GuideSessionMessageMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_PARTNER_IS_TYPING,GuideSessionPartnerIsTypingMessageEvent_GuideSessionPartnerIsTypingMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_REQUESTER_ROOM,GuideSessionRequesterRoomMessageEvent_GuideSessionRequesterRoomMessageEvent);this._events.set(IncomingHeader.GUIDE_SESSION_STARTED,GuideSessionStartedMessageEvent_GuideSessionStartedMessageEvent);this._events.set(IncomingHeader.GUIDE_TICKET_CREATION_RESULT,GuideTicketCreationResultMessageEvent_GuideTicketCreationResultMessageEvent);this._events.set(IncomingHeader.GUIDE_TICKET_RESOLUTION,GuideTicketResolutionMessageEvent_GuideTicketResolutionMessageEvent);this._events.set(IncomingHeader.GUIDE_REPORTING_STATUS,GuideReportingStatusMessageEvent_GuideReportingStatusMessageEvent);this._events.set(IncomingHeader.HOTEL_MERGE_NAME_CHANGE,HotelMergeNameChangeEvent_HotelMergeNameChangeEvent);this._events.set(IncomingHeader.ISSUE_CLOSE_NOTIFICATION,IssueCloseNotificationMessageEvent_IssueCloseNotificationMessageEvent);this._events.set(IncomingHeader.QUIZ_DATA,QuizDataMessageEvent_QuizDataMessageEvent);this._events.set(IncomingHeader.QUIZ_RESULTS,QuizResultsMessageEvent_QuizResultsMessageEvent);this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_DETACHED,ChatReviewSessionDetachedMessageEvent_ChatReviewSessionDetachedMessageEvent);this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE,ChatReviewSessionOfferedToGuideMessageEvent_ChatReviewSessionOfferedToGuideMessageEvent);this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_RESULTS,ChatReviewSessionResultsMessageEvent_ChatReviewSessionResultsMessageEvent);this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_STARTED,ChatReviewSessionStartedMessageEvent_ChatReviewSessionStartedMessageEvent);this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_VOTING_STATUS,ChatReviewSessionVotingStatusMessageEvent_ChatReviewSessionVotingStatusMessageEvent);// INVENTORY\nthis._events.set(IncomingHeader.ACHIEVEMENT_PROGRESSED,AchievementEvent_AchievementEvent);this._events.set(IncomingHeader.ACHIEVEMENT_LIST,AchievementsEvent_AchievementsEvent);this._events.set(IncomingHeader.USER_ACHIEVEMENT_SCORE,AchievementsScoreEvent_AchievementsScoreEvent);this._events.set(IncomingHeader.USER_EFFECT_ACTIVATE,AvatarEffectActivatedEvent_AvatarEffectActivatedEvent);this._events.set(IncomingHeader.USER_EFFECT_LIST_ADD,AvatarEffectAddedEvent_AvatarEffectAddedEvent);this._events.set(IncomingHeader.USER_EFFECT_LIST_REMOVE,AvatarEffectExpiredEvent_AvatarEffectExpiredEvent);this._events.set(IncomingHeader.USER_EFFECT_LIST,AvatarEffectsEvent_AvatarEffectsEvent);this._events.set(IncomingHeader.USER_BADGES,BadgesEvent_BadgesEvent);this._events.set(IncomingHeader.USER_BADGES_ADD,BadgeReceivedEvent_BadgeReceivedEvent);this._events.set(IncomingHeader.BADGE_POINT_LIMITS,BadgePointLimitsEvent_BadgePointLimitsEvent);this._events.set(IncomingHeader.BADGE_REQUEST_FULFILLED,IsBadgeRequestFulfilledEvent_IsBadgeRequestFulfilledEvent);this._events.set(IncomingHeader.USER_CLOTHING,FigureSetIdsMessageEvent_FigureSetIdsMessageEvent);this._events.set(IncomingHeader.USER_FURNITURE_ADD,FurnitureListAddOrUpdateEvent_FurnitureListAddOrUpdateEvent);this._events.set(IncomingHeader.USER_FURNITURE,FurnitureListEvent_FurnitureListEvent);this._events.set(IncomingHeader.USER_FURNITURE_REFRESH,FurnitureListInvalidateEvent_FurnitureListInvalidateEvent);this._events.set(IncomingHeader.USER_FURNITURE_REMOVE,FurnitureListRemovedEvent_FurnitureListRemovedEvent);this._events.set(IncomingHeader.USER_FURNITURE_POSTIT_PLACED,FurniturePostItPlacedEvent_FurniturePostItPlacedEvent);this._events.set(IncomingHeader.USER_PETS,PetInventoryEvent_PetInventoryEvent);this._events.set(IncomingHeader.USER_PET_REMOVE,PetRemovedFromInventoryEvent_PetRemovedFromInventory);this._events.set(IncomingHeader.USER_PET_ADD,PetAddedToInventoryEvent_PetAddedToInventoryEvent);this._events.set(IncomingHeader.PET_RECEIVED,PetReceivedMessageEvent_PetReceivedMessageEvent);this._events.set(IncomingHeader.PET_PLACING_ERROR,PetPlacingErrorEvent_PetPlacingErrorEvent);this._events.set(IncomingHeader.YOUTUBE_CONTROL_VIDEO,YoutubeControlVideoMessageEvent_YoutubeControlVideoMessageEvent);this._events.set(IncomingHeader.YOUTUBE_DISPLAY_PLAYLISTS,YoutubeDisplayPlaylistsEvent_YoutubeDisplayPlaylistsEvent);this._events.set(IncomingHeader.YOUTUBE_DISPLAY_VIDEO,YoutubeDisplayVideoMessageEvent_YoutubeDisplayVideoMessageEvent);// TRADING\nthis._events.set(IncomingHeader.TRADE_ACCEPTED,TradingAcceptEvent_TradingAcceptEvent);this._events.set(IncomingHeader.TRADE_CLOSED,TradingCloseEvent_TradingCloseEvent);this._events.set(IncomingHeader.TRADE_COMPLETED,TradingCompletedEvent_TradingCompletedEvent);this._events.set(IncomingHeader.TRADE_CONFIRMATION,TradingConfirmationEvent_TradingConfirmationEvent);this._events.set(IncomingHeader.TRADE_LIST_ITEM,TradingListItemEvent_TradingListItemEvent);this._events.set(IncomingHeader.TRADE_NOT_OPEN,TradingNotOpenEvent_TradingNotOpenEvent);this._events.set(IncomingHeader.TRADE_OPEN_FAILED,TradingOpenFailedEvent_TradingOpenFailedEvent);this._events.set(IncomingHeader.TRADE_OPEN,TradingOpenEvent_TradingOpenEvent);this._events.set(IncomingHeader.TRADE_OTHER_NOT_ALLOWED,TradingOtherNotAllowedEvent_TradingOtherNotAllowedEvent);this._events.set(IncomingHeader.TRADE_YOU_NOT_ALLOWED,TradingYouAreNotAllowedEvent_TradingYouAreNotAllowedEvent);// LANDING VIEW\nthis._events.set(IncomingHeader.COMMUNITY_GOAL_VOTE_EVENT,CommunityGoalVoteMessageEvent_CommunityGoalVoteMessageEvent);this._events.set(IncomingHeader.PROMO_ARTICLES,PromoArticlesMessageEvent_PromoArticlesMessageEvent);// MARKETPLACE\nthis._events.set(IncomingHeader.MARKETPLACE_AFTER_ORDER_STATUS,MarketplaceBuyOfferResultEvent_MarketplaceBuyOfferResultEvent);this._events.set(IncomingHeader.MARKETPLACE_CANCEL_SALE,MarketplaceCancelOfferResultEvent_MarketplaceCancelOfferResultEvent);this._events.set(IncomingHeader.MARKETPLACE_SELL_ITEM,MarketplaceCanMakeOfferResult_MarketplaceCanMakeOfferResult);this._events.set(IncomingHeader.MARKETPLACE_CONFIG,MarketplaceConfigurationEvent_MarketplaceConfigurationEvent);this._events.set(IncomingHeader.MARKETPLACE_ITEM_STATS,MarketplaceItemStatsEvent_MarketplaceItemStatsEvent);this._events.set(IncomingHeader.MARKETPLACE_ITEM_POSTED,MarketplaceMakeOfferResult_MarketplaceMakeOfferResult);this._events.set(IncomingHeader.MARKETPLACE_ITEMS_SEARCHED,MarketplaceOffersEvent_MarketPlaceOffersEvent);this._events.set(IncomingHeader.MARKETPLACE_OWN_ITEMS,MarketplaceOwnOffersEvent_MarketplaceOwnOffersEvent);// MODERATION\nthis._events.set(IncomingHeader.USER_BANNED,UserBannedMessageEvent_UserBannedMessageEvent);this._events.set(IncomingHeader.MODERATION_CAUTION,ModeratorCautionEvent_ModeratorCautionEvent);this._events.set(IncomingHeader.MODTOOL_ROOM_INFO,ModeratorRoomInfoEvent_ModeratorRoomInfoEvent);this._events.set(IncomingHeader.MODTOOL_USER_CHATLOG,UserChatlogEvent_UserChatlogEvent);this._events.set(IncomingHeader.MODTOOL_ROOM_CHATLOG,RoomChatlogEvent_RoomChatlogEvent);this._events.set(IncomingHeader.MODERATION_USER_INFO,ModeratorUserInfoEvent_ModeratorUserInfoEvent);this._events.set(IncomingHeader.MODERATION_TOOL,ModeratorInitMessageEvent_ModeratorInitMessageEvent);this._events.set(IncomingHeader.MODTOOL_VISITED_ROOMS_USER,RoomVisitsEvent_RoomVisitsEvent);this._events.set(IncomingHeader.CFH_CHATLOG,CfhChatlogEvent_CfhChatlogEvent);this._events.set(IncomingHeader.ISSUE_DELETED,IssueDeletedMessageEvent_IssueDeletedMessageEvent);this._events.set(IncomingHeader.ISSUE_INFO,IssueInfoMessageEvent_IssueInfoMessageEvent);this._events.set(IncomingHeader.ISSUE_PICK_FAILED,IssuePickFailedMessageEvent_IssuePickFailedMessageEvent);this._events.set(IncomingHeader.MODERATOR_ACTION_RESULT,ModeratorActionResultMessageEvent_ModeratorActionResultMessageEvent);this._events.set(IncomingHeader.MODERATOR_MESSAGE,ModeratorMessageEvent_ModeratorMessageEvent);this._events.set(IncomingHeader.MODERATOR_TOOL_PREFERENCES,ModeratorToolPreferencesEvent_ModeratorToolPreferencesEvent);// MYSTERY BOX\nthis._events.set(IncomingHeader.MYSTERY_BOX_KEYS,MysteryBoxKeysEvent_MysteryBoxKeysEvent);// NAVIGATOR\nthis._events.set(IncomingHeader.NAVIGATOR_CATEGORIES,NavigatorCategoriesEvent_NavigatorCategoriesEvent);this._events.set(IncomingHeader.NAVIGATOR_COLLAPSED,NavigatorCollapsedEvent_NavigatorCollapsedEvent);this._events.set(IncomingHeader.NAVIGATOR_EVENT_CATEGORIES,NavigatorEventCategoriesEvent_NavigatorEventCategoriesEvent);this._events.set(IncomingHeader.USER_HOME_ROOM,NavigatorHomeRoomEvent_NavigatorHomeRoomEvent);this._events.set(IncomingHeader.NAVIGATOR_LIFTED,NavigatorLiftedEvent_NavigatorLiftedEvent);this._events.set(IncomingHeader.NAVIGATOR_METADATA,NavigatorMetadataEvent_NavigatorMetadataEvent);this._events.set(IncomingHeader.NAVIGATOR_OPEN_ROOM_CREATOR,NavigatorOpenRoomCreatorEvent_NavigatorOpenRoomCreatorEvent);this._events.set(IncomingHeader.NAVIGATOR_SEARCHES,NavigatorSearchesEvent_NavigatorSearchesEvent);this._events.set(IncomingHeader.NAVIGATOR_SEARCH,NavigatorSearchEvent_NavigatorSearchEvent);this._events.set(IncomingHeader.NAVIGATOR_SETTINGS,NavigatorSettingsEvent_NavigatorSettingsEvent);this._events.set(IncomingHeader.CAN_CREATE_ROOM_EVENT,CanCreateRoomEventEvent_CanCreateRoomEventEvent);// NOTIFICATIONS\nthis._events.set(IncomingHeader.GENERIC_ALERT,HabboBroadcastMessageEvent_HabboBroadcastMessageEvent);this._events.set(IncomingHeader.MOTD_MESSAGES,MOTDNotificationEvent_MOTDNotificationEvent);this._events.set(IncomingHeader.NOTIFICATION_LIST,NotificationDialogMessageEvent_NotificationDialogMessageEvent);this._events.set(IncomingHeader.UNSEEN_ITEMS,UnseenItemsEvent_UnseenItemsEvent);this._events.set(IncomingHeader.ACHIEVEMENT_NOTIFICATION,AchievementNotificationMessageEvent_AchievementNotificationMessageEvent);this._events.set(IncomingHeader.INFO_FEED_ENABLE,InfoFeedEnableMessageEvent_InfoFeedEnableMessageEvent);this._events.set(IncomingHeader.CLUB_GIFT_NOTIFICATION,ClubGiftNotificationEvent_ClubGiftNotificationEvent);this._events.set(IncomingHeader.ACTIVITY_POINT_NOTIFICATION,ActivityPointNotificationMessageEvent_ActivityPointNotificationMessageEvent);this._events.set(IncomingHeader.BOT_ERROR,BotErrorEvent_BotErrorEvent);this._events.set(IncomingHeader.PET_LEVEL_NOTIFICATION,PetLevelNotificationEvent_PetLevelNotificationEvent);// PERK\nthis._events.set(IncomingHeader.USER_PERKS,PerkAllowancesMessageEvent_PerkAllowancesMessageEvent);// POLL\nthis._events.set(IncomingHeader.QUESTION,QuestionEvent_QuestionEvent);this._events.set(IncomingHeader.POLL_CONTENTS,PollContentsEvent_PollContentsEvent);this._events.set(IncomingHeader.POLL_ERROR,PollErrorEvent_PollErrorEvent);this._events.set(IncomingHeader.POLL_OFFER,PollOfferEvent_PollOfferEvent);this._events.set(IncomingHeader.QUESTION_ANSWERED,QuestionAnsweredEvent_QuestionAnsweredEvent);this._events.set(IncomingHeader.QUESTION_FINISHED,QuestionFinishedEvent_QuestionFinishedEvent);// QUEST\nthis._events.set(IncomingHeader.COMMUNITY_GOAL_EARNED_PRIZES,CommunityGoalEarnedPrizesMessageEvent_CommunityGoalEarnedPrizesMessageEvent);this._events.set(IncomingHeader.COMMUNITY_GOAL_PROGRESS,CommunityGoalProgressMessageEvent_CommunityGoalProgressMessageEvent);this._events.set(IncomingHeader.CONCURRENT_USERS_GOAL_PROGRESS,ConcurrentUsersGoalProgressMessageEvent_ConcurrentUsersGoalProgressMessageEvent);this._events.set(IncomingHeader.QUEST_DAILY,QuestDailyMessageEvent_QuestDailyMessageEvent);this._events.set(IncomingHeader.QUEST_CANCELLED,QuestCancelledMessageEvent_QuestCancelledMessageEvent);this._events.set(IncomingHeader.QUEST_COMPLETED,QuestCompletedMessageEvent_QuestCompletedMessageEvent);this._events.set(IncomingHeader.COMMUNITY_GOAL_HALL_OF_FAME,CommunityGoalHallOfFameMessageEvent_CommunityGoalHallOfFameMessageEvent);this._events.set(IncomingHeader.EPIC_POPUP,EpicPopupMessageEvent_EpicPopupMessageEvent);this._events.set(IncomingHeader.SEASONAL_QUESTS,SeasonalQuestsMessageEvent_SeasonalQuestsMessageEvent);this._events.set(IncomingHeader.QUESTS,QuestsMessageEvent_QuestsMessageEvent);this._events.set(IncomingHeader.QUEST,QuestMessageEvent_QuestMessageEvent);// ROOM\nthis._events.set(IncomingHeader.ROOM_ENTER_ERROR,RoomEnterErrorEvent_RoomEnterErrorEvent);this._events.set(IncomingHeader.ROOM_ENTER,RoomEnterEvent_RoomEnterEvent);this._events.set(IncomingHeader.ROOM_FORWARD,RoomForwardEvent_RoomForwardEvent);this._events.set(IncomingHeader.ROOM_DOORBELL,RoomDoorbellEvent_RoomDoorbellEvent);this._events.set(IncomingHeader.ROOM_DOORBELL_ACCEPTED,RoomDoorbellAcceptedEvent_RoomDoorbellAcceptedEvent);this._events.set(IncomingHeader.ROOM_DOORBELL_REJECTED,RoomDoorbellRejectedEvent_RoomDoorbellRejectedEvent);this._events.set(IncomingHeader.ROOM_RIGHTS_CLEAR,RoomRightsClearEvent_RoomRightsClearEvent);this._events.set(IncomingHeader.ROOM_RIGHTS_OWNER,RoomRightsOwnerEvent_RoomRightsOwnerEvent);this._events.set(IncomingHeader.ROOM_RIGHTS,RoomRightsEvent_RoomRightsEvent);this._events.set(IncomingHeader.BOT_COMMAND_CONFIGURATION,BotCommandConfigurationEvent_BotCommandConfigurationEvent);this._events.set(IncomingHeader.ROOM_SETTINGS_CHAT,RoomChatSettingsEvent_RoomChatSettingsEvent);this._events.set(IncomingHeader.ROOM_INFO,GetGuestRoomResultEvent_GetGuestRoomResultEvent);this._events.set(IncomingHeader.ROOM_INFO_OWNER,RoomEntryInfoMessageEvent_RoomEntryInfoMessageEvent);this._events.set(IncomingHeader.ROOM_SCORE,RoomScoreEvent_RoomScoreEvent);this._events.set(IncomingHeader.ROOM_SETTINGS_SAVE_ERROR,RoomSettingsErrorEvent_RoomSettingsErrorEvent);this._events.set(IncomingHeader.ROOM_SETTINGS,RoomSettingsEvent_RoomSettingsEvent);this._events.set(IncomingHeader.ROOM_SETTINGS_SAVE,RoomSettingsSavedEvent_RoomSettingsSavedEvent);this._events.set(IncomingHeader.ROOM_SETTINGS_UPDATED,RoomSettingsUpdatedEvent_RoomSettingsUpdatedEvent);this._events.set(IncomingHeader.ROOM_ROLLING,ObjectsRollingEvent_ObjectsRollingEvent);this._events.set(IncomingHeader.ROOM_CREATED,RoomCreatedEvent_RoomCreatedEvent);this._events.set(IncomingHeader.FURNITURE_FLOOR_ADD,FurnitureFloorAddEvent_FurnitureFloorAddEvent);this._events.set(IncomingHeader.FURNITURE_FLOOR,FurnitureFloorEvent_FurnitureFloorEvent);this._events.set(IncomingHeader.FURNITURE_FLOOR_REMOVE,FurnitureFloorRemoveEvent_FurnitureFloorRemoveEvent);this._events.set(IncomingHeader.FURNITURE_FLOOR_UPDATE,FurnitureFloorUpdateEvent_FurnitureFloorUpdateEvent);this._events.set(IncomingHeader.ITEM_WALL_ADD,FurnitureWallAddEvent_FurnitureWallAddEvent);this._events.set(IncomingHeader.ITEM_WALL,FurnitureWallEvent_FurnitureWallEvent);this._events.set(IncomingHeader.ITEM_WALL_REMOVE,FurnitureWallRemoveEvent_FurnitureWallRemoveEvent);this._events.set(IncomingHeader.ITEM_WALL_UPDATE,FurnitureWallUpdateEvent_FurnitureWallUpdateEvent);this._events.set(IncomingHeader.FURNITURE_ALIASES,FurnitureAliasesEvent_FurnitureAliasesEvent);this._events.set(IncomingHeader.FURNITURE_DATA,FurnitureDataEvent_FurnitureDataEvent);this._events.set(IncomingHeader.FURNITURE_ITEMDATA,ItemDataUpdateMessageEvent_ItemDataUpdateMessageEvent);this._events.set(IncomingHeader.ITEM_STACK_HELPER,FurnitureStackHeightEvent_FurnitureStackHeightEvent);this._events.set(IncomingHeader.FURNITURE_STATE,OneWayDoorStatusMessageEvent_OneWayDoorStatusMessageEvent);this._events.set(IncomingHeader.ITEM_DIMMER_SETTINGS,RoomDimmerPresetsMessageEvent_RoomDimmerPresetsEvent);this._events.set(IncomingHeader.FURNITURE_STATE_2,DiceValueMessageEvent_DiceValueMessageEvent);this._events.set(IncomingHeader.LOVELOCK_FURNI_FINISHED,LoveLockFurniFinishedEvent_LoveLockFurniFinishedEvent);this._events.set(IncomingHeader.LOVELOCK_FURNI_FRIEND_COMFIRMED,LoveLockFurniFriendConfirmedEvent_LoveLockFurniFriendConfirmedEvent);this._events.set(IncomingHeader.LOVELOCK_FURNI_START,LoveLockFurniStartEvent_LoveLockFurniStartEvent);this._events.set(IncomingHeader.OBJECTS_DATA_UPDATE,ObjectsDataUpdateEvent_ObjectsDataUpdateEvent);this._events.set(IncomingHeader.FURNITURE_GROUP_CONTEXT_MENU_INFO,GroupFurniContextMenuInfoMessageEvent_GroupFurniContextMenuInfoMessageEvent);this._events.set(IncomingHeader.FURNITURE_POSTIT_STICKY_POLE_OPEN,FurniturePostItStickyPoleOpenEvent_FurniturePostItStickyPoleOpenEvent);this._events.set(IncomingHeader.ROOM_SPECTATOR,YouAreSpectatorMessageEvent_YouAreSpectatorMessageEvent);// ROOM SETTINGS\nthis._events.set(IncomingHeader.ROOM_RIGHTS_LIST,FlatControllersEvent_FlatControllersEvent);this._events.set(IncomingHeader.ROOM_RIGHTS_LIST_ADD,FlatControllerAddedEvent_FlatControllerAddedEvent);this._events.set(IncomingHeader.ROOM_RIGHTS_LIST_REMOVE,FlatControllerRemovedEvent_FlatControllerRemovedEvent);this._events.set(IncomingHeader.ROOM_BAN_LIST,BannedUsersFromRoomEvent_BannedUsersFromRoomEvent);this._events.set(IncomingHeader.FAVORITE_GROUP_UDPATE,FavoriteMembershipUpdateMessageEvent_FavoriteMembershipUpdateMessageEvent);// MAPPING\nthis._events.set(IncomingHeader.ROOM_MODEL_DOOR,RoomEntryTileMessageEvent_RoomEntryTileMessageEvent);this._events.set(IncomingHeader.ROOM_HEIGHT_MAP,RoomHeightMapEvent_RoomHeightMapEvent);this._events.set(IncomingHeader.ROOM_HEIGHT_MAP_UPDATE,RoomHeightMapUpdateEvent_RoomHeightMapUpdateEvent);this._events.set(IncomingHeader.ROOM_MODEL,FloorHeightMapEvent_FloorHeightMapEvent);this._events.set(IncomingHeader.ROOM_MODEL_NAME,RoomReadyMessageEvent_RoomReadyMessageEvent);this._events.set(IncomingHeader.ROOM_PAINT,RoomPaintEvent_RoomPaintEvent);this._events.set(IncomingHeader.ROOM_THICKNESS,RoomVisualizationSettingsEvent_RoomVisualizationSettingsEvent);this._events.set(IncomingHeader.ROOM_MODEL_BLOCKED_TILES,RoomOccupiedTilesMessageEvent_RoomOccupiedTilesMessageEvent);this._events.set(IncomingHeader.PET_FIGURE_UPDATE,PetFigureUpdateEvent_PetFigureUpdateEvent);this._events.set(IncomingHeader.PET_INFO,PetInfoEvent_PetInfoEvent);this._events.set(IncomingHeader.PET_STATUS,PetStatusUpdateEvent_PetStatusUpdateEvent);this._events.set(IncomingHeader.PET_EXPERIENCE,PetExperienceEvent_PetExperienceEvent);this._events.set(IncomingHeader.PLAYING_GAME,YouArePlayingGameEvent_YouArePlayingGameEvent);this._events.set(IncomingHeader.UNIT_DANCE,RoomUnitDanceEvent_RoomUnitDanceEvent);this._events.set(IncomingHeader.UNIT_EFFECT,RoomUnitEffectEvent_RoomUnitEffectEvent);this._events.set(IncomingHeader.UNIT,RoomUnitEvent_RoomUnitEvent);this._events.set(IncomingHeader.UNIT_EXPRESSION,RoomUnitExpressionEvent_RoomUnitExpressionEvent);this._events.set(IncomingHeader.UNIT_HAND_ITEM,RoomUnitHandItemEvent_RoomUnitHandItemEvent);this._events.set(IncomingHeader.UNIT_IDLE,RoomUnitIdleEvent_RoomUnitIdleEvent);this._events.set(IncomingHeader.UNIT_INFO,RoomUnitInfoEvent_RoomUnitInfoEvent);this._events.set(IncomingHeader.UNIT_NUMBER,RoomUnitNumberEvent_RoomUnitNumberEvent);this._events.set(IncomingHeader.UNIT_REMOVE,RoomUnitRemoveEvent_RoomUnitRemoveEvent);this._events.set(IncomingHeader.UNIT_STATUS,RoomUnitStatusEvent_RoomUnitStatusEvent);this._events.set(IncomingHeader.HAND_ITEM_RECEIVED,RoomUnitHandItemReceivedEvent_RoomUnitHandItemReceivedEvent);this._events.set(IncomingHeader.FLOOD_CONTROL,FloodControlEvent_FloodControlEvent);this._events.set(IncomingHeader.REMAINING_MUTE,RemainingMuteEvent_RemainingMuteEvent);this._events.set(IncomingHeader.UNIT_CHAT,RoomUnitChatEvent_RoomUnitChatEvent);this._events.set(IncomingHeader.UNIT_CHAT_SHOUT,RoomUnitChatShoutEvent_RoomUnitChatShoutEvent);this._events.set(IncomingHeader.UNIT_CHAT_WHISPER,RoomUnitChatWhisperEvent_RoomUnitChatWhisperEvent);this._events.set(IncomingHeader.UNIT_TYPING,RoomUnitTypingEvent_RoomUnitTypingEvent);// ROOM EVENTS\nthis._events.set(IncomingHeader.WIRED_ACTION,WiredFurniActionEvent_WiredFurniActionEvent);this._events.set(IncomingHeader.WIRED_CONDITION,WiredFurniConditionEvent_WiredFurniConditionEvent);this._events.set(IncomingHeader.WIRED_TRIGGER,WiredFurniTriggerEvent_WiredFurniTriggerEvent);this._events.set(IncomingHeader.WIRED_OPEN,WiredOpenEvent_WiredOpenEvent);this._events.set(IncomingHeader.WIRED_REWARD,WiredRewardResultMessageEvent_WiredRewardResultMessageEvent);this._events.set(IncomingHeader.WIRED_SAVE,WiredSaveSuccessEvent_WiredSaveSuccessEvent);this._events.set(IncomingHeader.WIRED_ERROR,WiredValidationErrorEvent_WiredValidationErrorEvent);this._events.set(IncomingHeader.ROOM_MUTED,RoomMutedEvent_RoomMutedEvent);// SECURITY\nthis._events.set(IncomingHeader.AUTHENTICATED,AuthenticatedEvent_AuthenticatedEvent);// SOUNDS\nthis._events.set(IncomingHeader.JUKEBOX_PLAYLIST_FULL,JukeboxPlayListFullMessageEvent_JukeboxPlayListFullMessageEvent);this._events.set(IncomingHeader.JUKEBOX_SONG_DISKS,JukeboxSongDisksMessageEvent_JukeboxSongDisksMessageEvent);this._events.set(IncomingHeader.NOW_PLAYING,NowPlayingMessageEvent_NowPlayingMessageEvent);this._events.set(IncomingHeader.OFFICIAL_SONG_ID,OfficialSongIdMessageEvent_OfficialSongIdMessageEvent);this._events.set(IncomingHeader.PLAYLIST,PlayListMessageEvent_PlayListMessageEvent);this._events.set(IncomingHeader.PLAYLIST_SONG_ADDED,PlayListSongAddedMessageEvent_PlayListSongAddedMessageEvent);this._events.set(IncomingHeader.TRAX_SONG_INFO,TraxSongInfoMessageEvent_TraxSongInfoMessageEvent);this._events.set(IncomingHeader.USER_SONG_DISKS_INVENTORY,UserSongDisksInventoryMessageEvent_UserSongDisksInventoryMessageEvent);// TALENT\nthis._events.set(IncomingHeader.HELPER_TALENT_TRACK,TalentTrackMessageEvent_TalentTrackMessageEvent);// USER\nthis._events.set(IncomingHeader.IN_CLIENT_LINK,InClientLinkEvent_InClientLinkEvent);this._events.set(IncomingHeader.USER_IGNORED,IgnoredUsersEvent_IgnoredUsersEvent);this._events.set(IncomingHeader.USER_IGNORED_RESULT,IgnoreResultEvent_IgnoreResultEvent);this._events.set(IncomingHeader.USER_RESPECT,RespectReceivedEvent_RespectReceivedEvent);this._events.set(IncomingHeader.USER_PERMISSIONS,UserPermissionsEvent_UserPermissionsEvent);this._events.set(IncomingHeader.USER_BADGES_CURRENT,UserCurrentBadgesEvent_UserCurrentBadgesEvent);this._events.set(IncomingHeader.USER_INFO,UserInfoEvent_UserInfoEvent);this._events.set(IncomingHeader.UNIT_CHANGE_NAME,UserNameChangeMessageEvent_UserNameChangeMessageEvent);this._events.set(IncomingHeader.USER_SETTINGS,UserSettingsEvent_UserSettingsEvent);this._events.set(IncomingHeader.USER_PROFILE,UserProfileEvent_UserProfileEvent);this._events.set(IncomingHeader.MESSENGER_RELATIONSHIPS,RelationshipStatusInfoEvent_RelationshipStatusInfoEvent);this._events.set(IncomingHeader.GIFT_OPENED,PresentOpenedMessageEvent_PresentOpenedMessageEvent);this._events.set(IncomingHeader.USER_CREDITS,UserCreditsEvent_UserCreditsEvent);this._events.set(IncomingHeader.USER_CURRENCY,UserCurrencyEvent_UserCurrencyEvent);this._events.set(IncomingHeader.USER_SUBSCRIPTION,UserSubscriptionEvent_UserSubscriptionEvent);this._events.set(IncomingHeader.USER_WARDROBE_PAGE,UserWardrobePageEvent_UserWardrobePageEvent);this._events.set(IncomingHeader.SCR_SEND_KICKBACK_INFO,ScrSendKickbackInfoMessageEvent_ScrSendKickbackInfoMessageEvent);this._events.set(IncomingHeader.PET_RESPECTED,PetRespectNoficationEvent_PetRespectNoficationEvent);this._events.set(IncomingHeader.PET_SUPPLEMENT,PetSupplementComposer);this._events.set(IncomingHeader.GENERIC_ERROR,GenericErrorEvent_GenericErrorEvent);this._events.set(IncomingHeader.GROUP_LIST,GuildMembershipsMessageEvent_GuildMembershipsMessageEvent);this._events.set(IncomingHeader.CATALOG_APPROVE_NAME_RESULT,ApproveNameMessageEvent_ApproveNameMessageEvent);// HANDSHAKE\nthis._events.set(IncomingHeader.NOOBNESS_LEVEL,NoobnessLevelMessageEvent_NoobnessLevelMessageEvent);}registerComposers(){// AUTHENTICATION\nthis._composers.set(OutgoingHeader.AUTHENTICATION,AuthenticationMessageComposer);// ADVERTISEMENT\nthis._composers.set(OutgoingHeader.INTERSTITIAL_SHOWN,InterstitialShownMessageComposer);this._composers.set(OutgoingHeader.GET_INTERSTITIAL,GetInterstitialMessageComposer);// AVATAR\nthis._composers.set(OutgoingHeader.GET_WARDROBE,GetWardrobeMessageComposer);this._composers.set(OutgoingHeader.SAVE_WARDROBE_OUTFIT,SaveWardrobeOutfitMessageComposer);this._composers.set(OutgoingHeader.CHANGE_USERNAME,ChangeUserNameMessageComposer);this._composers.set(OutgoingHeader.CHECK_USERNAME,CheckUserNameMessageComposer);// CAMERA\nthis._composers.set(OutgoingHeader.REQUEST_CAMERA_CONFIGURATION,RequestCameraConfigurationComposer);this._composers.set(OutgoingHeader.RENDER_ROOM,RenderRoomMessageComposer_RenderRoomMessageComposer);this._composers.set(OutgoingHeader.RENDER_ROOM_THUMBNAIL,RenderRoomThumbnailMessageComposer_RenderRoomThumbnailMessageComposer);this._composers.set(OutgoingHeader.PURCHASE_PHOTO,PurchasePhotoMessageComposer);this._composers.set(OutgoingHeader.PUBLISH_PHOTO,PublishPhotoMessageComposer);this._composers.set(OutgoingHeader.PHOTO_COMPETITION,PhotoCompetitionMessageComposer);// CAMPAIGN\nthis._composers.set(OutgoingHeader.OPEN_CAMPAIGN_CALENDAR_DOOR,OpenCampaignCalendarDoorComposer);this._composers.set(OutgoingHeader.OPEN_CAMPAIGN_CALENDAR_DOOR_STAFF,OpenCampaignCalendarDoorAsStaffComposer);// CATALOG\nthis._composers.set(OutgoingHeader.BUILDERS_CLUB_PLACE_ROOM_ITEM,BuildersClubPlaceRoomItemMessageComposer);this._composers.set(OutgoingHeader.BUILDERS_CLUB_PLACE_WALL_ITEM,BuildersClubPlaceWallItemMessageComposer);this._composers.set(OutgoingHeader.BUILDERS_CLUB_QUERY_FURNI_COUNT,BuildersClubQueryFurniCountMessageComposer);this._composers.set(OutgoingHeader.GET_CATALOG_INDEX,GetCatalogIndexComposer);this._composers.set(OutgoingHeader.GET_CATALOG_PAGE,GetCatalogPageComposer);this._composers.set(OutgoingHeader.CATALOG_PURCHASE,PurchaseFromCatalogComposer);this._composers.set(OutgoingHeader.CATALOG_PURCHASE_GIFT,PurchaseFromCatalogAsGiftComposer);this._composers.set(OutgoingHeader.GET_PRODUCT_OFFER,GetProductOfferComposer);this._composers.set(OutgoingHeader.GET_CLUB_OFFERS,GetClubOffersMessageComposer);this._composers.set(OutgoingHeader.GET_CLUB_GIFT_INFO,GetClubGiftInfo);this._composers.set(OutgoingHeader.CATALOG_REDEEM_VOUCHER,RedeemVoucherMessageComposer);this._composers.set(OutgoingHeader.GROUP_MEMBERSHIPS,CatalogGroupsComposer);this._composers.set(OutgoingHeader.GET_GIFT_WRAPPING_CONFIG,GetGiftWrappingConfigurationComposer);this._composers.set(OutgoingHeader.CATALOG_SELECT_VIP_GIFT,SelectClubGiftComposer);this._composers.set(OutgoingHeader.CATALOG_REQUESET_PET_BREEDS,GetSellablePetPalettesComposer);this._composers.set(OutgoingHeader.GET_BONUS_RARE_INFO,GetBonusRareInfoMessageComposer);this._composers.set(OutgoingHeader.GET_BUNDLE_DISCOUNT_RULESET,GetBundleDiscountRulesetComposer);this._composers.set(OutgoingHeader.GET_CATALOG_PAGE_EXPIRATION,GetCatalogPageExpirationComposer);this._composers.set(OutgoingHeader.GET_CATALOG_PAGE_WITH_EARLIEST_EXP,GetCatalogPageWithEarliestExpiryComposer);this._composers.set(OutgoingHeader.GET_DIRECT_CLUB_BUY_AVAILABLE,GetDirectClubBuyAvailableComposer);this._composers.set(OutgoingHeader.GET_HABBO_BASIC_MEMBERSHIP_EXTEND_OFFER,GetHabboBasicMembershipExtendOfferComposer);this._composers.set(OutgoingHeader.GET_HABBO_CLUB_EXTEND_OFFER,GetHabboClubExtendOfferMessageComposer);this._composers.set(OutgoingHeader.GET_IS_OFFER_GIFTABLE,GetIsOfferGiftableComposer);this._composers.set(OutgoingHeader.GET_LIMITED_OFFER_APPEARING_NEXT,GetLimitedOfferAppearingNextComposer);this._composers.set(OutgoingHeader.GET_NEXT_TARGETED_OFFER,GetNextTargetedOfferComposer);this._composers.set(OutgoingHeader.GET_ROOM_AD_PURCHASE_INFO,GetRoomAdPurchaseInfoComposer);this._composers.set(OutgoingHeader.GET_SEASONAL_CALENDAR_DAILY_OFFER,GetSeasonalCalendarDailyOfferComposer);this._composers.set(OutgoingHeader.GET_TARGETED_OFFER,GetTargetedOfferComposer);this._composers.set(OutgoingHeader.MARK_CATALOG_NEW_ADDITIONS_PAGE_OPENED,MarkCatalogNewAdditionsPageOpenedComposer);this._composers.set(OutgoingHeader.PURCHASE_BASIC_MEMBERSHIP_EXTENSION,PurchaseBasicMembershipExtensionComposer);this._composers.set(OutgoingHeader.PURCHASE_ROOM_AD,PurchaseRoomAdMessageComposer);this._composers.set(OutgoingHeader.PURCHASE_TARGETED_OFFER,PurchaseTargetedOfferComposer);this._composers.set(OutgoingHeader.PURCHASE_VIP_MEMBERSHIP_EXTENSION,PurchaseVipMembershipExtensionComposer);this._composers.set(OutgoingHeader.ROOM_AD_PURCHASE_INITIATED,RoomAdPurchaseInitiatedComposer);this._composers.set(OutgoingHeader.SET_TARGETTED_OFFER_STATE,SetTargetedOfferStateComposer);this._composers.set(OutgoingHeader.SHOP_TARGETED_OFFER_VIEWED,ShopTargetedOfferViewedComposer);// COMPETITION\nthis._composers.set(OutgoingHeader.FORWARD_TO_A_COMPETITION_ROOM,ForwardToACompetitionRoomMessageComposer);this._composers.set(OutgoingHeader.FORWARD_TO_A_SUBMITTABLE_ROOM,ForwardToASubmittableRoomMessageComposer);this._composers.set(OutgoingHeader.FORWARD_TO_RANDOM_COMPETITION_ROOM,ForwardToRandomCompetitionRoomMessageComposer);this._composers.set(OutgoingHeader.GET_CURRENT_TIMING_CODE,GetCurrentTimingCodeMessageComposer);this._composers.set(OutgoingHeader.GET_IS_USER_PART_OF_COMPETITION,GetIsUserPartOfCompetitionMessageComposer);this._composers.set(OutgoingHeader.GET_SECONDS_UNTIL,GetSecondsUntilMessageComposer);this._composers.set(OutgoingHeader.ROOM_COMPETITION_INIT,RoomCompetitionInitMessageComposer);this._composers.set(OutgoingHeader.SUBMIT_ROOM_TO_COMPETITION,SubmitRoomToCompetitionMessageComposer);this._composers.set(OutgoingHeader.VOTE_FOR_ROOM,VoteForRoomMessageComposer);// CRAFTING\nthis._composers.set(OutgoingHeader.CRAFT,CraftComposer);this._composers.set(OutgoingHeader.CRAFT_SECRET,CraftSecretComposer);this._composers.set(OutgoingHeader.GET_CRAFTABLE_PRODUCTS,GetCraftingRecipeComposer);this._composers.set(OutgoingHeader.GET_CRAFTING_RECIPE,GetCraftableProductsComposer);this._composers.set(OutgoingHeader.GET_CRAFTING_RECIPES_AVAILABLE,GetCraftingRecipesAvailableComposer);// FRIENDFURNI\nthis._composers.set(OutgoingHeader.FRIEND_FURNI_CONFIRM_LOCK,FriendFurniConfirmLockMessageComposer);// FRIENDLIST\nthis._composers.set(OutgoingHeader.ACCEPT_FRIEND,AcceptFriendMessageComposer);this._composers.set(OutgoingHeader.DECLINE_FRIEND,DeclineFriendMessageComposer);this._composers.set(OutgoingHeader.FIND_NEW_FRIENDS,FindNewFriendsMessageComposer);this._composers.set(OutgoingHeader.FOLLOW_FRIEND,FollowFriendMessageComposer);this._composers.set(OutgoingHeader.FRIEND_LIST_UPDATE,FriendListUpdateComposer);this._composers.set(OutgoingHeader.GET_FRIEND_REQUESTS,GetFriendRequestsComposer);this._composers.set(OutgoingHeader.HABBO_SEARCH,HabboSearchComposer);this._composers.set(OutgoingHeader.MESSENGER_INIT,MessengerInitComposer);this._composers.set(OutgoingHeader.REMOVE_FRIEND,RemoveFriendComposer);this._composers.set(OutgoingHeader.REQUEST_FRIEND,RequestFriendComposer);this._composers.set(OutgoingHeader.MESSENGER_CHAT,SendMessageComposer);this._composers.set(OutgoingHeader.SEND_ROOM_INVITE,SendRoomInviteComposer);this._composers.set(OutgoingHeader.SET_RELATIONSHIP_STATUS,SetRelationshipStatusComposer);this._composers.set(OutgoingHeader.VISIT_USER,VisitUserComposer);// todo: game\n// GIFTS\nthis._composers.set(OutgoingHeader.GET_GIFT,GetGiftMessageComposer);this._composers.set(OutgoingHeader.RESET_PHONE_NUMBER_STATE,ResetPhoneNumberStateMessageComposer);this._composers.set(OutgoingHeader.SET_PHONE_NUMBER_VERIFICATION_STATUS,SetPhoneNumberVerificationStatusMessageComposer);this._composers.set(OutgoingHeader.TRY_PHONE_NUMBER,TryPhoneNumberMessageComposer);this._composers.set(OutgoingHeader.VERIFY_CODE,VerifyCodeMessageComposer);// GROUPFORUMS\nthis._composers.set(OutgoingHeader.GET_FORUM_STATS,GetForumStatsMessageComposer);this._composers.set(OutgoingHeader.GET_FORUMS_LIST,GetForumsListMessageComposer);this._composers.set(OutgoingHeader.GET_FORUM_MESSAGES,GetMessagesMessageComposer);this._composers.set(OutgoingHeader.GET_FORUM_THREAD,GetThreadMessageComposer);this._composers.set(OutgoingHeader.GET_FORUM_THREADS,GetThreadsMessageComposer);this._composers.set(OutgoingHeader.GET_UNREAD_FORUMS_COUNT,GetUnreadForumsCountMessageComposer);this._composers.set(OutgoingHeader.FORUM_MODERATE_MESSAGE,ModerateMessageMessageComposer);this._composers.set(OutgoingHeader.FORUM_MODERATE_THREAD,ModerateThreadMessageComposer);this._composers.set(OutgoingHeader.FORUM_POST_MESSAGE,PostMessageMessageComposer);this._composers.set(OutgoingHeader.UPDATE_FORUM_READ_MARKER,UpdateForumReadMarkerMessageComposer);this._composers.set(OutgoingHeader.UPDATE_FORUM_SETTINGS,UpdateForumSettingsMessageComposer);this._composers.set(OutgoingHeader.FORUM_UPDATE_THREAD,UpdateThreadMessageComposer);// HANDSHAKE\nthis._composers.set(OutgoingHeader.CLIENT_PONG,PongMessageComposer);this._composers.set(OutgoingHeader.RELEASE_VERSION,ClientHelloMessageComposer_ClientHelloMessageComposer);this._composers.set(OutgoingHeader.SECURITY_TICKET,SSOTicketMessageComposer);this._composers.set(OutgoingHeader.USER_INFO,InfoRetrieveMessageComposer);this._composers.set(OutgoingHeader.DISCONNECT,DisconnectMessageComposer);this._composers.set(OutgoingHeader.SECURITY_MACHINE,UniqueIDMessageComposer);this._composers.set(OutgoingHeader.CLIENT_VARIABLES,VersionCheckMessageComposer);// HELP\nthis._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_FORUM_MESSAGE,CallForHelpFromForumMessageMessageComposer);this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_FORUM_THREAD,CallForHelpFromForumThreadMessageComposer);this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_IM,CallForHelpFromIMMessageComposer);this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_PHOTO,CallForHelpFromPhotoMessageComposer);this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_SELFIE,CallForHelpFromSelfieMessageComposer);this._composers.set(OutgoingHeader.CALL_FOR_HELP,CallForHelpMessageComposer);this._composers.set(OutgoingHeader.CHAT_REVIEW_GUIDE_DECIDES,ChatReviewGuideDecidesOnOfferMessageComposer);this._composers.set(OutgoingHeader.CHAT_REVIEW_GUIDE_DETACHED,ChatReviewGuideDetachedMessageComposer);this._composers.set(OutgoingHeader.CHAT_REVIEW_GUIDE_VOTE,ChatReviewGuideVoteMessageComposer);this._composers.set(OutgoingHeader.CHAT_REVIEW_SESSION_CREATE,ChatReviewSessionCreateMessageComposer);this._composers.set(OutgoingHeader.DELETE_PENDING_CALLS_FOR_HELP,DeletePendingCallsForHelpMessageComposer);this._composers.set(OutgoingHeader.GET_CFH_STATUS,GetCfhStatusMessageComposer);this._composers.set(OutgoingHeader.GET_FAQ_CATEGORY,GetFaqCategoryMessageComposer);this._composers.set(OutgoingHeader.GET_FAQ_TEXT,GetFaqTextMessageComposer);this._composers.set(OutgoingHeader.GET_GUIDE_REPORTING_STATUS,GetGuideReportingStatusMessageComposer);this._composers.set(OutgoingHeader.GET_PENDING_CALLS_FOR_HELP,GetPendingCallsForHelpMessageComposer);this._composers.set(OutgoingHeader.GET_QUIZ_QUESTIONS,GetQuizQuestionsComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_CREATE,GuideSessionCreateMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_FEEDBACK,GuideSessionFeedbackMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_GET_REQUESTER_ROOM,GuideSessionGetRequesterRoomMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_GUIDE_DECIDES,GuideSessionGuideDecidesMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_INVITE_REQUESTER,GuideSessionInviteRequesterMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_IS_TYPING,GuideSessionIsTypingMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_MESSAGE,GuideSessionMessageMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_ON_DUTY_UPDATE,GuideSessionOnDutyUpdateMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_REPORT,GuideSessionReportMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_REQUESTER_CANCELS,GuideSessionRequesterCancelsMessageComposer);this._composers.set(OutgoingHeader.GUIDE_SESSION_RESOLVED,GuideSessionResolvedMessageComposer);this._composers.set(OutgoingHeader.POST_QUIZ_ANSWERS,PostQuizAnswersComposer);this._composers.set(OutgoingHeader.SEARCH_FAQS,SearchFaqsMessageComposer);// DESKTOP\nthis._composers.set(OutgoingHeader.DESKTOP_VIEW,DesktopViewComposer);// GROUP\nthis._composers.set(OutgoingHeader.GROUP_INFO,GroupInformationComposer);this._composers.set(OutgoingHeader.GROUP_REQUEST,GroupJoinComposer);this._composers.set(OutgoingHeader.GROUP_MEMBER_REMOVE_CONFIRM,GroupConfirmRemoveMemberComposer);this._composers.set(OutgoingHeader.GROUP_MEMBER_REMOVE,GroupRemoveMemberComposer);this._composers.set(OutgoingHeader.GROUP_MEMBERS,GroupMembersComposer);this._composers.set(OutgoingHeader.GROUP_ADMIN_ADD,GroupAdminGiveComposer);this._composers.set(OutgoingHeader.GROUP_ADMIN_REMOVE,GroupAdminTakeComposer);this._composers.set(OutgoingHeader.GROUP_REQUEST_ACCEPT,GroupMembershipAcceptComposer);this._composers.set(OutgoingHeader.GROUP_REQUEST_DECLINE,GroupMembershipDeclineComposer);this._composers.set(OutgoingHeader.GROUP_DELETE,GroupDeleteComposer);this._composers.set(OutgoingHeader.GROUP_CREATE_OPTIONS,GroupBuyDataComposer);this._composers.set(OutgoingHeader.GROUP_PARTS,GroupBadgePartsComposer);this._composers.set(OutgoingHeader.GROUP_BUY,GroupBuyComposer);this._composers.set(OutgoingHeader.GROUP_SETTINGS,GroupSettingsComposer);this._composers.set(OutgoingHeader.GROUP_SAVE_BADGE,GroupSaveBadgeComposer);this._composers.set(OutgoingHeader.GROUP_SAVE_COLORS,GroupSaveColorsComposer);this._composers.set(OutgoingHeader.GROUP_SAVE_INFORMATION,GroupSaveInformationComposer);this._composers.set(OutgoingHeader.GROUP_SAVE_PREFERENCES,GroupSavePreferencesComposer);this._composers.set(OutgoingHeader.GROUP_FAVORITE,GroupFavoriteComposer);this._composers.set(OutgoingHeader.GROUP_UNFAVORITE,GroupUnfavoriteComposer);this._composers.set(OutgoingHeader.GROUP_BADGES,GetHabboGroupBadgesMessageComposer);// NAVIGATOR\nthis._composers.set(OutgoingHeader.NAVIGATOR_CATEGORIES,NavigatorCategoriesComposer);this._composers.set(OutgoingHeader.NAVIGATOR_INIT,NavigatorInitComposer);this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH_CLOSE,NavigatorSearchCloseComposer);this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH,NavigatorSearchComposer);this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH_OPEN,NavigatorSearchOpenComposer);this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH_SAVE,NavigatorSearchSaveComposer);this._composers.set(OutgoingHeader.NAVIGATOR_SETTINGS,NavigatorSettingsComposer);this._composers.set(OutgoingHeader.NAVIGATOR_SETTINGS_SAVE,NavigatorSettingsSaveComposer);this._composers.set(OutgoingHeader.NAVIGATOR_CATEGORY_LIST_MODE,NavigatorCategoryListModeComposer);this._composers.set(OutgoingHeader.CONVERT_GLOBAL_ROOM_ID,ConvertGlobalRoomIdMessageComposer);this._composers.set(OutgoingHeader.ROOM_RIGHTS_REMOVE_OWN,RemoveOwnRoomRightsRoomMessageComposer);// POLL\nthis._composers.set(OutgoingHeader.POLL_ANSWER,PollAnswerComposer);this._composers.set(OutgoingHeader.POLL_REJECT,PollRejectComposer);this._composers.set(OutgoingHeader.POLL_START,PollStartComposer);// INVENTORY\n// BADGES\nthis._composers.set(OutgoingHeader.USER_BADGES,RequestBadgesComposer);this._composers.set(OutgoingHeader.USER_BADGES_CURRENT_UPDATE,SetActivatedBadgesComposer);// BOTS\nthis._composers.set(OutgoingHeader.USER_BOTS,GetBotInventoryComposer);// FURNI\nthis._composers.set(OutgoingHeader.USER_FURNITURE,FurnitureListComposer);this._composers.set(OutgoingHeader.USER_FURNITURE2,FurnitureList2Composer);// PETS\nthis._composers.set(OutgoingHeader.USER_PETS,RequestPetsComposer);// TRADING\nthis._composers.set(OutgoingHeader.TRADE_ACCEPT,TradingAcceptComposer);this._composers.set(OutgoingHeader.TRADE_CANCEL,TradingCancelComposer);this._composers.set(OutgoingHeader.TRADE_CLOSE,TradingCloseComposer);this._composers.set(OutgoingHeader.TRADE_CONFIRM,TradingConfirmationComposer);this._composers.set(OutgoingHeader.TRADE_ITEM,TradingListAddItemComposer);this._composers.set(OutgoingHeader.TRADE_ITEMS,TradingListAddItemsComposer);this._composers.set(OutgoingHeader.TRADE_ITEM_REMOVE,TradingListItemRemoveComposer);this._composers.set(OutgoingHeader.TRADE,TradingOpenComposer);this._composers.set(OutgoingHeader.TRADE_UNACCEPT,TradingUnacceptComposer);// UNSEEN\nthis._composers.set(OutgoingHeader.UNSEEN_RESET_CATEGORY,UnseenResetCategoryComposer);this._composers.set(OutgoingHeader.UNSEEN_RESET_ITEMS,UnseenResetItemsComposer);// ACHIVEMENTS\nthis._composers.set(OutgoingHeader.ACHIEVEMENT_LIST,RequestAchievementsMessageComposer);// PET\nthis._composers.set(OutgoingHeader.PET_MOUNT,PetMountComposer);this._composers.set(OutgoingHeader.PET_RESPECT,PetRespectComposer);this._composers.set(OutgoingHeader.PET_SUPPLEMENT,PetSupplementComposer);this._composers.set(OutgoingHeader.REMOVE_PET_SADDLE,RemovePetSaddleComposer);this._composers.set(OutgoingHeader.PET_INFO,RequestPetInfoComposer);this._composers.set(OutgoingHeader.TOGGLE_PET_BREEDING,TogglePetBreedingComposer);this._composers.set(OutgoingHeader.TOGGLE_PET_RIDING,TogglePetRidingComposer);this._composers.set(OutgoingHeader.USE_PET_PRODUCT,UsePetProductComposer);// ROOM\nthis._composers.set(OutgoingHeader.ROOM_CREATE,RoomCreateComposer);// ACCESS\nthis._composers.set(OutgoingHeader.ROOM_ENTER,RoomEnterComposer);this._composers.set(OutgoingHeader.ROOM_DOORBELL,RoomDoorbellAccessComposer);this._composers.set(OutgoingHeader.GO_TO_FLAT,GoToFlatMessageComposer);// ACTION\nthis._composers.set(OutgoingHeader.ROOM_AMBASSADOR_ALERT,RoomAmbassadorAlertComposer);this._composers.set(OutgoingHeader.ROOM_BAN_GIVE,RoomBanUserComposer);this._composers.set(OutgoingHeader.ROOM_BAN_REMOVE,RoomUnbanUserComposer);this._composers.set(OutgoingHeader.ROOM_RIGHTS_GIVE,RoomGiveRightsComposer);this._composers.set(OutgoingHeader.ROOM_KICK,RoomKickUserComposer);this._composers.set(OutgoingHeader.ROOM_MUTE_USER,RoomMuteUserComposer);this._composers.set(OutgoingHeader.ROOM_RIGHTS_REMOVE,RoomTakeRightsComposer);this._composers.set(OutgoingHeader.ROOM_RIGHTS_REMOVE_ALL,RemoveAllRightsMessageComposer);this._composers.set(OutgoingHeader.ROOM_LIKE,RoomLikeRoomComposer);this._composers.set(OutgoingHeader.ROOM_DELETE,RoomDeleteComposer);this._composers.set(OutgoingHeader.ROOM_STAFF_PICK,RoomStaffPickComposer);// DATA\nthis._composers.set(OutgoingHeader.ROOM_INFO,RoomInfoComposer);this._composers.set(OutgoingHeader.ROOM_SETTINGS,RoomSettingsComposer);this._composers.set(OutgoingHeader.ROOM_SETTINGS_SAVE,SaveRoomSettingsComposer);this._composers.set(OutgoingHeader.ROOM_RIGHTS_LIST,RoomUsersWithRightsComposer);this._composers.set(OutgoingHeader.ROOM_BAN_LIST,RoomBannedUsersComposer);// BOTS\nthis._composers.set(OutgoingHeader.BOT_CONFIGURATION,RequestBotCommandConfigurationComposer);// ENGINE\nthis._composers.set(OutgoingHeader.GET_ITEM_DATA,GetItemDataComposer);this._composers.set(OutgoingHeader.REMOVE_WALL_ITEM,RemoveWallItemComposer);this._composers.set(OutgoingHeader.BOT_PLACE,BotPlaceComposer);this._composers.set(OutgoingHeader.BOT_PICKUP,BotRemoveComposer);this._composers.set(OutgoingHeader.BOT_SKILL_SAVE,BotSkillSaveComposer);this._composers.set(OutgoingHeader.PET_PLACE,PetPlaceComposer);this._composers.set(OutgoingHeader.PET_MOVE,PetMoveComposer);this._composers.set(OutgoingHeader.PET_PICKUP,PetRemoveComposer);this._composers.set(OutgoingHeader.SET_ITEM_DATA,SetItemDataMessageComposer);this._composers.set(OutgoingHeader.SET_OBJECT_DATA,SetObjectDataMessageComposer);this._composers.set(OutgoingHeader.COMPOST_PLANT,CompostPlantMessageComposer_CompostPlantMessageComposer);this._composers.set(OutgoingHeader.HARVEST_PET,HarvestPetMessageComposer_HarvestPetMessageComposer);// FURNITURE\nthis._composers.set(OutgoingHeader.FURNITURE_ALIASES,FurnitureAliasesComposer);this._composers.set(OutgoingHeader.FURNITURE_GROUP_INFO,FurnitureGroupInfoComposer);this._composers.set(OutgoingHeader.FURNITURE_PICKUP,FurniturePickupComposer);this._composers.set(OutgoingHeader.FURNITURE_PLACE,FurniturePlaceComposer_FurniturePlaceComposer);this._composers.set(OutgoingHeader.ITEM_PAINT,FurniturePlacePaintComposer);this._composers.set(OutgoingHeader.FURNITURE_POSTIT_PLACE,FurniturePostItPlaceComposer);this._composers.set(OutgoingHeader.FURNITURE_POSTIT_SAVE_STICKY_POLE,FurniturePostItSaveStickyPoleComposer);this._composers.set(OutgoingHeader.CONTROL_YOUTUBE_DISPLAY_PLAYBACK,ControlYoutubeDisplayPlaybackMessageComposer);this._composers.set(OutgoingHeader.GET_YOUTUBE_DISPLAY_STATUS,GetYoutubeDisplayStatusMessageComposer);this._composers.set(OutgoingHeader.SET_YOUTUBE_DISPLAY_PLAYLIST,SetYoutubeDisplayPlaylistMessageComposer);// FLOOR\nthis._composers.set(OutgoingHeader.FURNITURE_FLOOR_UPDATE,FurnitureFloorUpdateComposer);// WALL\nthis._composers.set(OutgoingHeader.FURNITURE_WALL_UPDATE,FurnitureWallUpdateComposer);// Dimmers\nthis._composers.set(OutgoingHeader.ITEM_DIMMER_SETTINGS,MoodlightSettingsComposer);this._composers.set(OutgoingHeader.ITEM_DIMMER_SAVE,MoodlightSettingsSaveComposer);this._composers.set(OutgoingHeader.ITEM_DIMMER_TOGGLE,MoodlightTogggleStateComposer);// Toners\nthis._composers.set(OutgoingHeader.ROOM_TONER_APPLY,ApplyTonerComposer);// LOGIC\nthis._composers.set(OutgoingHeader.ITEM_COLOR_WHEEL_CLICK,FurnitureColorWheelComposer);this._composers.set(OutgoingHeader.ITEM_DICE_CLICK,FurnitureDiceActivateComposer);this._composers.set(OutgoingHeader.ITEM_DICE_CLOSE,FurnitureDiceDeactivateComposer);this._composers.set(OutgoingHeader.FURNITURE_MULTISTATE,FurnitureMultiStateComposer);this._composers.set(OutgoingHeader.FURNITURE_RANDOMSTATE,FurnitureRandomStateComposer);this._composers.set(OutgoingHeader.ITEM_STACK_HELPER,FurnitureStackHeightComposer);this._composers.set(OutgoingHeader.FURNITURE_WALL_MULTISTATE,FurnitureWallMultiStateComposer);this._composers.set(OutgoingHeader.ONE_WAY_DOOR_CLICK,FurnitureOneWayDoorComposer);this._composers.set(OutgoingHeader.ITEM_EXCHANGE_REDEEM,FurnitureExchangeComposer);this._composers.set(OutgoingHeader.ITEM_CLOTHING_REDEEM,RedeemItemClothingComposer);// LAYOUT\nthis._composers.set(OutgoingHeader.ROOM_MODEL,GetRoomEntryDataMessageComposer);this._composers.set(OutgoingHeader.GET_OCCUPIED_TILES,GetOccupiedTilesMessageComposer);this._composers.set(OutgoingHeader.GET_ROOM_ENTRY_TILE,GetRoomEntryTileMessageComposer);this._composers.set(OutgoingHeader.ROOM_MODEL_SAVE,UpdateFloorPropertiesMessageComposer);// UNIT\nthis._composers.set(OutgoingHeader.UNIT_ACTION,RoomUnitActionComposer);this._composers.set(OutgoingHeader.UNIT_DANCE,RoomUnitDanceComposer);this._composers.set(OutgoingHeader.UNIT_DROP_HAND_ITEM,RoomUnitDropHandItemComposer);this._composers.set(OutgoingHeader.UNIT_GIVE_HANDITEM,RoomUnitGiveHandItemComposer);this._composers.set(OutgoingHeader.UNIT_GIVE_HANDITEM_PET,RoomUnitGiveHandItemPetComposer);this._composers.set(OutgoingHeader.UNIT_LOOK,RoomUnitLookComposer);this._composers.set(OutgoingHeader.UNIT_SIGN,RoomUnitSignComposer);this._composers.set(OutgoingHeader.UNIT_POSTURE,RoomUnitPostureComposer);this._composers.set(OutgoingHeader.UNIT_WALK,RoomUnitWalkComposer);// CHAT\nthis._composers.set(OutgoingHeader.UNIT_CHAT,RoomUnitChatComposer);this._composers.set(OutgoingHeader.UNIT_CHAT_SHOUT,RoomUnitChatShoutComposer);this._composers.set(OutgoingHeader.USER_SETTINGS_CHAT_STYLE,RoomUnitChatStyleComposer);this._composers.set(OutgoingHeader.UNIT_CHAT_WHISPER,RoomUnitChatWhisperComposer);this._composers.set(OutgoingHeader.UNIT_TYPING,RoomUnitTypingStartComposer);this._composers.set(OutgoingHeader.UNIT_TYPING_STOP,RoomUnitTypingStopComposer);// ROOM EVENTS\nthis._composers.set(OutgoingHeader.WIRED_APPLY_SNAPSHOT,ApplySnapshotMessageComposer);this._composers.set(OutgoingHeader.WIRED_OPEN,OpenMessageComposer);this._composers.set(OutgoingHeader.WIRED_ACTION_SAVE,UpdateActionMessageComposer);this._composers.set(OutgoingHeader.WIRED_CONDITION_SAVE,UpdateConditionMessageComposer);this._composers.set(OutgoingHeader.WIRED_TRIGGER_SAVE,UpdateTriggerMessageComposer);this._composers.set(OutgoingHeader.ROOM_MUTE,RoomMuteComposer);// USER\nthis._composers.set(OutgoingHeader.APPROVE_NAME,ApproveNameMessageComposer);this._composers.set(OutgoingHeader.USER_RESPECT,UserRespectComposer);this._composers.set(OutgoingHeader.SCR_GET_KICKBACK_INFO,ScrGetKickbackInfoMessageComposer);// DATA\nthis._composers.set(OutgoingHeader.USER_IGNORED,GetIgnoredUsersComposer);this._composers.set(OutgoingHeader.USER_IGNORE,IgnoreUserComposer);this._composers.set(OutgoingHeader.USER_IGNORE_ID,IgnoreUserIdComposer);this._composers.set(OutgoingHeader.USER_UNIGNORE,UnignoreUserComposer);this._composers.set(OutgoingHeader.USER_BADGES_CURRENT,UserCurrentBadgesComposer);this._composers.set(OutgoingHeader.USER_FIGURE,UserFigureComposer);this._composers.set(OutgoingHeader.USER_HOME_ROOM,UserHomeRoomComposer);this._composers.set(OutgoingHeader.USER_MOTTO,UserMottoComposer);this._composers.set(OutgoingHeader.USER_PROFILE,UserProfileComposer);this._composers.set(OutgoingHeader.USER_PROFILE_BY_NAME,GetExtendedProfileByNameMessageComposer);this._composers.set(OutgoingHeader.MESSENGER_RELATIONSHIPS,UserRelationshipsComposer);// MANNEQUIN\nthis._composers.set(OutgoingHeader.MANNEQUIN_SAVE_NAME,FurnitureMannequinSaveNameComposer);this._composers.set(OutgoingHeader.MANNEQUIN_SAVE_LOOK,FurnitureMannequinSaveLookComposer);// GIFTS\nthis._composers.set(OutgoingHeader.PRESENT_OPEN_PRESENT,OpenPresentComposer);// INVENTORY\n// MARKETPLACE\nthis._composers.set(OutgoingHeader.MARKETPLACE_CONFIG,GetMarketplaceConfigurationMessageComposer);this._composers.set(OutgoingHeader.MARKETPLACE_SELL_ITEM,MakeOfferMessageComposer);this._composers.set(OutgoingHeader.MARKETPLACE_REQUEST_OWN_ITEMS,GetMarketplaceOwnOffersMessageComposer);this._composers.set(OutgoingHeader.MARKETPLACE_TAKE_BACK_ITEM,CancelMarketplaceOfferMessageComposer);this._composers.set(OutgoingHeader.MARKETPLACE_REQUEST_OFFERS,GetMarketplaceOffersMessageComposer);this._composers.set(OutgoingHeader.MARKETPLACE_BUY_OFFER,BuyMarketplaceOfferMessageComposer);this._composers.set(OutgoingHeader.MARKETPLACE_REDEEM_CREDITS,RedeemMarketplaceOfferCreditsMessageComposer);this._composers.set(OutgoingHeader.MARKETPLACE_BUY_TOKENS,BuyMarketplaceTokensMessageComposer);this._composers.set(OutgoingHeader.REQUEST_SELL_ITEM,GetMarketplaceCanMakeOfferComposer);this._composers.set(OutgoingHeader.REQUEST_MARKETPLACE_ITEM_STATS,GetMarketplaceItemStatsComposer);// BOTS\nthis._composers.set(OutgoingHeader.USER_BOTS,GetBotInventoryComposer);// PETS\nthis._composers.set(OutgoingHeader.USER_PETS,RequestPetsComposer);// CURRENCY\nthis._composers.set(OutgoingHeader.USER_CURRENCY,UserCurrencyComposer);// SUBSCRIPTION\nthis._composers.set(OutgoingHeader.USER_SUBSCRIPTION,UserSubscriptionComposer);// MODERATION\nthis._composers.set(OutgoingHeader.MODTOOL_REQUEST_ROOM_INFO,GetModeratorRoomInfoMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_CHANGE_ROOM_SETTINGS,ModerateRoomMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_REQUEST_USER_CHATLOG,GetUserChatlogMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_REQUEST_ROOM_CHATLOG,GetRoomChatlogMessageComposer);this._composers.set(OutgoingHeader.MOD_TOOL_USER_INFO,GetModeratorUserInfoMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_SANCTION_ALERT,ModAlertMessageComposer_ModAlertMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_SANCTION_BAN,ModBanMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_SANCTION_KICK,ModKickMessageComposer_ModKickMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_SANCTION_TRADELOCK,ModTradingLockMessageComposer_ModTradingLockMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_ALERTEVENT,ModMessageMessageComposer_ModMessageMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_SANCTION_MUTE,ModMuteMessageComposer_ModMuteMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_REQUEST_USER_ROOMS,GetRoomVisitsMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_ROOM_ALERT,ModeratorActionMessageComposer);this._composers.set(OutgoingHeader.CLOSE_ISSUE_DEFAULT_ACTION,CloseIssueDefaultActionMessageComposer);this._composers.set(OutgoingHeader.CLOSE_ISSUES,CloseIssuesMessageComposer);this._composers.set(OutgoingHeader.DEFAULT_SANCTION,DefaultSanctionMessageComposer_DefaultSanctionMessageComposer);this._composers.set(OutgoingHeader.GET_CFH_CHATLOG,GetCfhChatlogMessageComposer);this._composers.set(OutgoingHeader.MODTOOL_PREFERENCES,ModToolPreferencesComposer);this._composers.set(OutgoingHeader.MODTOOL_SANCTION,ModToolSanctionComposer);this._composers.set(OutgoingHeader.PICK_ISSUES,PickIssuesMessageComposer);this._composers.set(OutgoingHeader.RELEASE_ISSUES,ReleaseIssuesMessageComposer);// SETTINGS\nthis._composers.set(OutgoingHeader.USER_SETTINGS_CAMERA,UserSettingsCameraFollowComposer);this._composers.set(OutgoingHeader.USER_SETTINGS_OLD_CHAT,UserSettingsOldChatComposer);this._composers.set(OutgoingHeader.USER_SETTINGS_INVITES,UserSettingsRoomInvitesComposer);this._composers.set(OutgoingHeader.USER_SETTINGS_VOLUME,UserSettingsSoundComposer);// LANDING VIEW\nthis._composers.set(OutgoingHeader.COMMUNITY_GOAL_VOTE_COMPOSER,CommunityGoalVoteMessageComposer);this._composers.set(OutgoingHeader.GET_PROMO_ARTICLES,GetPromoArticlesComposer);// QUEST\nthis._composers.set(OutgoingHeader.ACCEPT_QUEST,AcceptQuestMessageComposer);this._composers.set(OutgoingHeader.ACTIVATE_QUEST,ActivateQuestMessageComposer);this._composers.set(OutgoingHeader.CANCEL_QUEST,CancelQuestMessageComposer);this._composers.set(OutgoingHeader.FRIEND_REQUEST_QUEST_COMPLETE,FriendRequestQuestCompleteMessageComposer);this._composers.set(OutgoingHeader.GET_COMMUNITY_GOAL_EARNED_PRIZES,GetCommunityGoalEarnedPrizesMessageComposer);this._composers.set(OutgoingHeader.GET_COMMUNITY_GOAL_HALL_OF_FAME,GetCommunityGoalHallOfFameMessageComposer);this._composers.set(OutgoingHeader.GET_COMMUNITY_GOAL_PROGRESS,GetCommunityGoalProgressMessageComposer);this._composers.set(OutgoingHeader.GET_CONCURRENT_USERS_GOAL_PROGRESS,GetConcurrentUsersGoalProgressMessageComposer);this._composers.set(OutgoingHeader.GET_CONCURRENT_USERS_REWARD,GetConcurrentUsersRewardMessageComposer);this._composers.set(OutgoingHeader.GET_DAILY_QUEST,GetDailyQuestMessageComposer);this._composers.set(OutgoingHeader.GET_QUESTS,GetQuestsMessageComposer);this._composers.set(OutgoingHeader.GET_SEASONAL_QUESTS_ONLY,GetSeasonalQuestsOnlyMessageComposer);this._composers.set(OutgoingHeader.OPEN_QUEST_TRACKER,OpenQuestTrackerMessageComposer);this._composers.set(OutgoingHeader.REDEEM_COMMUNITY_GOAL_PRIZE,RedeemCommunityGoalPrizeMessageComposer);this._composers.set(OutgoingHeader.REJECT_QUEST,RejectQuestMessageComposer);this._composers.set(OutgoingHeader.START_CAMPAIGN,StartCampaignMessageComposer);// SOUNDS\nthis._composers.set(OutgoingHeader.GET_SOUND_SETTINGS,GetSoundSettingsComposer);this._composers.set(OutgoingHeader.ADD_JUKEBOX_DISK,AddJukeboxDiskComposer);this._composers.set(OutgoingHeader.GET_JUKEBOX_PLAYLIST,GetJukeboxPlayListMessageComposer);this._composers.set(OutgoingHeader.GET_NOW_PLAYING,GetNowPlayingMessageComposer);this._composers.set(OutgoingHeader.GET_OFFICIAL_SONG_ID,GetOfficialSongIdMessageComposer);this._composers.set(OutgoingHeader.GET_SONG_INFO,GetSongInfoMessageComposer);this._composers.set(OutgoingHeader.GET_SOUND_MACHINE_PLAYLIST,GetSoundMachinePlayListMessageComposer);this._composers.set(OutgoingHeader.GET_USER_SONG_DISKS,GetUserSongDisksMessageComposer);this._composers.set(OutgoingHeader.REMOVE_JUKEBOX_DISK,RemoveJukeboxDiskComposer);// TALENT\nthis._composers.set(OutgoingHeader.HELPER_TALENT_TRACK,TalentTrackComposer);this._composers.set(OutgoingHeader.ACHIEVEMENT_RESOLUTION_OPEN,GetResolutionAchievementsMessageComposer);}get events(){return this._events;}get composers(){return this._composers;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/NitroCommunicationManager.ts\nclass NitroCommunicationManager_NitroCommunicationManager extends NitroManager_NitroManager{constructor(communication){super();this._communication=void 0;this._connection=void 0;this._messages=void 0;this._demo=void 0;this._communication=communication;this._connection=null;this._messages=new NitroMessages_NitroMessages();this._demo=new NitroCommunicationDemo_NitroCommunicationDemo(this);this.onConnectionOpenedEvent=this.onConnectionOpenedEvent.bind(this);this.onConnectionClosedEvent=this.onConnectionClosedEvent.bind(this);this.onConnectionErrorEvent=this.onConnectionErrorEvent.bind(this);this.onConnectionAuthenticatedEvent=this.onConnectionAuthenticatedEvent.bind(this);}onInit(){if(this._connection)return;Nitro_Nitro.instance.events.addEventListener(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED,this.onConnectionAuthenticatedEvent);this._connection=this._communication.createConnection(this);this._connection.registerMessages(this._messages);this._connection.addEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent);this._connection.addEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent);this._connection.addEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent);if(this._demo)this._demo.init();this._connection.init(Nitro_Nitro.instance.getConfiguration('socket.url'));}onDispose(){if(this._demo)this._demo.dispose();if(this._connection){this._connection.removeEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent);this._connection.removeEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent);this._connection.removeEventListener(SocketConnectionEvent_SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent);}Nitro_Nitro.instance.events.removeEventListener(NitroCommunicationDemoEvent_NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED,this.onConnectionAuthenticatedEvent);super.onDispose();}onConnectionOpenedEvent(event){this.logger.log('Connection Initialized');}onConnectionClosedEvent(event){this.logger.log('Connection Closed');}onConnectionErrorEvent(event){this.logger.log('Connection Error');}onConnectionAuthenticatedEvent(event){this.logger.log('Connection Authenticated');if(this._connection)this._connection.authenticated();}connectionInit(socketUrl){this.logger.log(`Initializing Connection: ${socketUrl}`);}registerMessageEvent(event){if(this._connection)this._connection.addMessageEvent(event);return event;}removeMessageEvent(event){if(!this._connection)return;this._connection.removeMessageEvent(event);}get demo(){return this._demo;}get connection(){return this._connection;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/externalInterface/LegacyExternalInterface.ts\nclass LegacyExternalInterface{static get available(){if(!this._isListeningForPostMessages){this._isListeningForPostMessages=true;window.addEventListener('message',ev=>{if(typeof ev.data!=='string')return;if(ev.data.startsWith(LegacyExternalInterface.MESSAGE_KEY)){const{method,params}=JSON.parse(ev.data.substr(LegacyExternalInterface.MESSAGE_KEY.length));const fn=window[method];if(!fn)return;fn(...params);return;}});}return true;}static call(method){for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){params[_key-1]=arguments[_key];}if(window.top!==window){window.top.postMessage(LegacyExternalInterface.MESSAGE_KEY+JSON.stringify({method,params}),'*');}if(!('FlashExternalInterface'in window))return undefined;const fn=window.FlashExternalInterface[method];return typeof fn!=='undefined'?fn(...params):undefined;}static callGame(method){for(var _len2=arguments.length,params=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){params[_key2-1]=arguments[_key2];}if(window.top!==window){window.top.postMessage('Nitro_LegacyExternalGameInterface'+JSON.stringify({method,params}),'*');}if(!('FlashExternalGameInterface'in window))return undefined;const fn=window.FlashExternalGameInterface[method];return typeof fn!=='undefined'?fn(...params):undefined;}static addCallback(name,func){window[name]=func;}}LegacyExternalInterface.MESSAGE_KEY='Nitro_LegacyExternalInterface';LegacyExternalInterface._isListeningForPostMessages=false;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/game/GameMessageHandler.ts\nclass GameMessageHandler_GameMessageHandler{constructor(connection){connection.addMessageEvent(new LoadGameUrlEvent_LoadGameUrlEvent(this.onLoadGameUrl.bind(this)));}onLoadGameUrl(event){if(!event)return;const parser=event.getParser();if(!parser)return;LegacyExternalInterface.callGame('showGame',parser.url);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/localization/BadgeBaseAndLevel.ts\nclass BadgeBaseAndLevel{constructor(badgeId){this._badgeId='';this._level=1;this._base='';this._badgeId=badgeId;this.parseText();}parseText(){let length=this._badgeId.length-1;while(length>0&&this.isNumber(this._badgeId.charAt(length)))length--;this._base=this._badgeId.substr(0,length+1);const level=this._badgeId.substr(length+1,this._badgeId.length);if(level&&level!=='')this._level=Number.parseInt(level);}isNumber(text){const char=text.charCodeAt(0);return char>=48&&char<=57;}get level(){return this._level;}set level(k){this._level=Math.max(1,k);}get getBadgeId(){return this._base+this._level;}get base(){return this._base;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/localization/NitroLocalizationEvent.ts\nclass NitroLocalizationEvent_NitroLocalizationEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type){super(type);}}NitroLocalizationEvent_NitroLocalizationEvent.LOADED='NLE_LOADED';NitroLocalizationEvent_NitroLocalizationEvent.FAILED='NLE_FAILED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/localization/NitroLocalizationManager.ts\nclass NitroLocalizationManager_NitroLocalizationManager extends NitroManager_NitroManager{constructor(communication){super();this._communication=void 0;this._definitions=void 0;this._parameters=void 0;this._badgePointLimits=void 0;this._romanNumerals=void 0;this._pendingUrls=void 0;this._communication=communication;this._definitions=new Map();this._parameters=new Map();this._badgePointLimits=new Map();this._romanNumerals=['I','II','III','IV','V','VI','VII','VIII','IX','X','XI','XII','XIII','XIV','XV','XVI','XVII','XVIII','XIX','XX','XXI','XXII','XXIII','XXIV','XXV','XXVI','XXVII','XXVIII','XXIX','XXX'];this._pendingUrls=[];}onInit(){this._communication.registerMessageEvent(new BadgePointLimitsEvent_BadgePointLimitsEvent(this.onBadgePointLimitsEvent.bind(this)));let urls=Nitro_Nitro.instance.getConfiguration('external.texts.url');if(!Array.isArray(urls)){urls=[Nitro_Nitro.instance.getConfiguration('external.texts.url')];}for(let i=0;i<urls.length;i++)urls[i]=Nitro_Nitro.instance.core.configuration.interpolate(urls[i]);this._pendingUrls=urls;this.loadNextLocalization();}loadNextLocalization(){if(!this._pendingUrls.length){this.events&&this.events.dispatchEvent(new NitroLocalizationEvent_NitroLocalizationEvent(NitroLocalizationEvent_NitroLocalizationEvent.LOADED));return;}this.loadLocalizationFromURL(this._pendingUrls[0]);}loadLocalizationFromURL(url){fetch(url).then(response=>response.json()).then(data=>this.onLocalizationLoaded(data,url)).catch(err=>this.onLocalizationFailed(err));}onLocalizationLoaded(data,url){if(!data)return;if(!this.parseLocalization(data))throw new Error(`Invalid json data for file ${url}`);const index=this._pendingUrls.indexOf(url);if(index>=0)this._pendingUrls.splice(index,1);this.loadNextLocalization();}onLocalizationFailed(error){this.events&&this.events.dispatchEvent(new NitroLocalizationEvent_NitroLocalizationEvent(NitroLocalizationEvent_NitroLocalizationEvent.FAILED));}parseLocalization(data){if(!data)return false;for(const key in data)this._definitions.set(key,data[key]);return true;}onBadgePointLimitsEvent(event){const parser=event.getParser();for(const data of parser.data)this.setBadgePointLimit(data.badgeId,data.limit);}getBadgePointLimit(badge){return this._badgePointLimits.get(badge)||-1;}setBadgePointLimit(badge,point){this._badgePointLimits.set(badge,point);}getRomanNumeral(number){return this._romanNumerals[Math.max(0,number-1)];}getPreviousLevelBadgeId(badgeName){const badge=new BadgeBaseAndLevel(badgeName);badge.level--;return badge.getBadgeId;}hasValue(key){return this._definitions.has(key);}getValue(key){let doParams=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!key||!key.length)return null;const keys=key.match(/\\$\\{.[^}]*\\}/g);if(keys&&keys.length){for(const splitKey of keys)key=key.replace(splitKey,this.getValue(splitKey.slice(2,-1),doParams));}let value=this._definitions.get(key)||null;if(!value){value=Nitro_Nitro.instance.core.configuration.definitions.get(key);if(value)return value;}if(value&&doParams){const parameters=this._parameters.get(key);if(parameters){for(const[parameter,replacement]of parameters){value=value.replace('%'+parameter+'%',replacement);}}}return value||key;}getValueWithParameter(key,parameter,replacement){const value=this.getValue(key,false);const replacedValue=value.replace('%'+parameter+'%',replacement);if(value.startsWith('%{')){// This adds support for multi-optioned texts like\n// catalog.vip.item.header.months=%{NUM_MONTHS|0 months|1 month|%% months}\n// It only checks for this multi-optioned thext if the value of the key starts with %{\n// If it does, it will create a RegEx with the provided parameter, eg. NUM_DAYS or NUM_MONTS\n// Then, based on the provided replacement it searches for the resultgroup based on the replacement.\n// If the replacement is not either 0, 1 - it will be assumed it will be plural. (eg. Months)\nconst regex=new RegExp('%{'+parameter.toUpperCase()+'\\\\|([^|]*)\\\\|([^|]*)\\\\|([^|]*)}');const result=value.match(regex);if(!result)return replacedValue;let indexKey=-1;const replacementAsNumber=Number.parseInt(replacement);let replace=false;switch(replacementAsNumber){case 0:indexKey=1;break;case 1:indexKey=2;break;default:case 2:indexKey=3;replace=true;break;}if(indexKey==-1||typeof result[indexKey]=='undefined'){return replacedValue;}const valueFromResults=result[indexKey];if(valueFromResults){return valueFromResults.replace('%%',replacement);}}return replacedValue;}getValueWithParameters(key,parameters,replacements){let value=this.getValue(key,false);if(parameters){for(let i=0;i<parameters.length;i++){const parameter=parameters[i];const replacement=replacements[i];if(replacement===undefined)continue;value=value.replace('%'+parameter+'%',replacement);if(value.startsWith('%{')){const regex=new RegExp('%{'+parameter.toUpperCase()+'\\\\|([^|]*)\\\\|([^|]*)\\\\|([^|]*)}');const result=value.match(regex);if(!result)continue;const replacementAsNumber=parseInt(replacement);let indexKey=-1;let replace=false;switch(replacementAsNumber){case 0:indexKey=1;break;case 1:indexKey=2;break;case 2:default:indexKey=3;replace=true;break;}if(indexKey===-1||typeof result[indexKey]==='undefined')continue;const valueFromResults=result[indexKey];if(valueFromResults){value=valueFromResults.replace('%%',replacement);}}}}return value;}setValue(key,value){this._definitions.set(key,value);}registerParameter(key,parameter,value){if(!key||key.length===0||!parameter||parameter.length===0)return;let existing=this._parameters.get(key);if(!existing){existing=new Map();this._parameters.set(key,existing);}existing.set(parameter,value);}getBadgeName(key){const badge=new BadgeBaseAndLevel(key);const keys=['badge_name_'+key,'badge_name_'+badge.base];let name=this._Str_2103(this.getExistingKey(keys));name=name.replace('%roman%',this.getRomanNumeral(badge.level));return name;}getBadgeDesc(key){const badge=new BadgeBaseAndLevel(key);const keys=['badge_desc_'+key,'badge_desc_'+badge.base];let desc=this._Str_2103(this.getExistingKey(keys));const limit=this.getBadgePointLimit(key);if(limit>-1)desc=desc.replace('%limit%',limit.toString());desc=desc.replace('%roman%',this.getRomanNumeral(badge.level));return desc;}getExistingKey(keys){for(const entry of keys){const item=this.getValue(entry);if(item!=entry)return item;}return'';}_Str_2103(k){return k.replace('${','$').replace('{','$').replace('}','$');}}\n// EXTERNAL MODULE: ./node_modules/@pixi/canvas-display/dist/esm/canvas-display.js\nvar canvas_display = __webpack_require__(103);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/extract/dist/esm/extract.js\nvar extract = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/graphics-extras/dist/esm/graphics-extras.js\nvar graphics_extras = __webpack_require__(104);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/math-extras/dist/esm/math-extras.js\nvar math_extras = __webpack_require__(105);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/mixin-cache-as-bitmap/dist/esm/mixin-cache-as-bitmap.js\nvar mixin_cache_as_bitmap = __webpack_require__(106);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/mixin-get-child-by-name/dist/esm/mixin-get-child-by-name.js\nvar mixin_get_child_by_name = __webpack_require__(107);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/mixin-get-global-position/dist/esm/mixin-get-global-position.js\nvar mixin_get_global_position = __webpack_require__(108);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/polyfill/dist/esm/polyfill.js\nvar polyfill = __webpack_require__(109);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/sprite-tiling/dist/esm/sprite-tiling.js\nvar sprite_tiling = __webpack_require__(80);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/utils/dist/esm/utils.js\nvar utils = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/canvas-renderer/dist/esm/canvas-renderer.js\nvar canvas_renderer = __webpack_require__(69);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/events/dist/esm/events.js\nvar esm_events = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/runner/dist/esm/runner.js\nvar runner = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/@pixi/text/dist/esm/text.js\nvar esm_text = __webpack_require__(49);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/Plugins.ts\nesm_core[\"p\" /* Renderer */].registerPlugin('batch',esm_core[\"f\" /* BatchRenderer */]);esm_core[\"p\" /* Renderer */].registerPlugin('extract',extract[\"a\" /* Extract */]);esm_core[\"p\" /* Renderer */].registerPlugin('tilingSprite',sprite_tiling[\"a\" /* TilingSpriteRenderer */]);esm_core[\"p\" /* Renderer */].registerPlugin('tilemap',pixi_tilemap_es[\"b\" /* TileRenderer */]);esm_core[\"p\" /* Renderer */].registerPlugin('interaction',interaction[\"b\" /* InteractionManager */]);loaders[\"b\" /* Loader */].registerPlugin(esm_spritesheet[\"b\" /* SpritesheetLoader */]);app[\"a\" /* Application */].registerPlugin(loaders[\"a\" /* AppLoaderPlugin */]);app[\"a\" /* Application */].registerPlugin(ticker[\"b\" /* TickerPlugin */]);\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineEvent.ts\nclass RoomEngineEvent_RoomEngineEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,roomId){super(type);this._roomId=void 0;this._roomId=roomId;}get roomId(){return this._roomId;}}RoomEngineEvent_RoomEngineEvent.INITIALIZED='REE_INITIALIZED';RoomEngineEvent_RoomEngineEvent.ENGINE_INITIALIZED='REE_ENGINE_INITIALIZED';RoomEngineEvent_RoomEngineEvent.OBJECTS_INITIALIZED='REE_OBJECTS_INITIALIZED';RoomEngineEvent_RoomEngineEvent.NORMAL_MODE='REE_NORMAL_MODE';RoomEngineEvent_RoomEngineEvent.GAME_MODE='REE_GAME_MODE';RoomEngineEvent_RoomEngineEvent.ROOM_ZOOMED='REE_ROOM_ZOOMED';RoomEngineEvent_RoomEngineEvent.DISPOSED='REE_DISPOSED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/pets/PetCustomPart.ts\nclass PetCustomPart{constructor(layerId,partId,paletteId){this._layerId=void 0;this._partId=void 0;this._paletteId=void 0;this._layerId=layerId;this._partId=partId;this._paletteId=paletteId;}get layerId(){return this._layerId;}set layerId(layerId){this._layerId=layerId;}get partId(){return this._partId;}set partId(partId){this._partId=partId;}get paletteId(){return this._paletteId;}set paletteId(paletteId){this._paletteId=paletteId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/pets/PetFigureData.ts\nclass PetFigureData_PetFigureData{constructor(k){this._typeId=void 0;this._paletteId=void 0;this._color=void 0;this._headOnly=void 0;this._customParts=void 0;this._customLayerIds=void 0;this._customPartIds=void 0;this._customPaletteIds=void 0;this._typeId=this.getTypeId(k);this._paletteId=this.getPaletteId(k);this._color=this.getColor(k);this._headOnly=this.getHeadOnly(k);const _local_2=this.getCustomData(k);this._customLayerIds=this.getCustomLayerIds(_local_2);this._customPartIds=this.getCustomPartIds(_local_2);this._customPaletteIds=this.getCustomPaletteIds(_local_2);this._customParts=[];let i=0;while(i<this._customLayerIds.length){this._customParts.push(new PetCustomPart(this._customLayerIds[i],this._customPartIds[i],this._customPaletteIds[i]));i++;}}get typeId(){return this._typeId;}get paletteId(){return this._paletteId;}get color(){return this._color;}get customLayerIds(){return this._customLayerIds;}get customPartIds(){return this._customPartIds;}get customPaletteIds(){return this._customPaletteIds;}get customParts(){return this._customParts;}getCustomPart(k){if(this._customParts){for(const _local_2 of this._customParts){if(_local_2.layerId===k)return _local_2;}}return null;}get hasCustomParts(){return!(this._customLayerIds==null)&&this._customLayerIds.length>0;}get headOnly(){return this._headOnly;}get figureString(){let figure=this.typeId+' '+this.paletteId+' '+this.color.toString(16);figure=figure+(' '+this.customParts.length);for(const _local_2 of this.customParts){figure=figure+(' '+_local_2.layerId+' '+_local_2.partId+' '+_local_2.paletteId);}return figure;}getCustomData(k){let _local_2=[];if(k){const _local_3=k.split(' ');const _local_4=this._headOnly?1:0;const _local_5=4+_local_4;if(_local_3.length>_local_5){const _local_6=3+_local_4;const _local_7=parseInt(_local_3[_local_6]);_local_2=_local_3.slice(_local_5,_local_5+_local_7*3);}}return _local_2;}getCustomLayerIds(data){const layerIds=[];let i=0;while(i<data.length){layerIds.push(parseInt(data[i+0]));i=i+3;}return layerIds;}getCustomPartIds(data){const partIds=[];let i=0;while(i<data.length){partIds.push(parseInt(data[i+1]));i=i+3;}return partIds;}getCustomPaletteIds(data){const paletteIds=[];let i=0;while(i<data.length){paletteIds.push(parseInt(data[i+2]));i=i+3;}return paletteIds;}getTypeId(data){if(data){const parts=data.split(' ');if(parts.length>=1)return parseInt(parts[0]);}return 0;}getPaletteId(data){if(data){const parts=data.split(' ');if(parts.length>=2)return parseInt(parts[1]);}return 0;}getColor(data){if(data){const parts=data.split(' ');if(parts.length>=3)return parseInt(parts[2],16);}return 0xFFFFFF;}getHeadOnly(data){if(data){const parts=data.split(' ');if(parts.length>=4)return parts[3]==='head';}return false;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/demo/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/INitroCommunicationManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/communication/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/enums/ToolbarIconEnum.ts\nclass ToolbarIconEnum{}ToolbarIconEnum.HOTEL_VIEW='hotel_view';ToolbarIconEnum.HOME_ROOM='home_room';ToolbarIconEnum.NAVIGATOR='navigator';ToolbarIconEnum.CATALOG='catalog';ToolbarIconEnum.INVENTORY='inventory';ToolbarIconEnum.ME_MENU='me_menu';ToolbarIconEnum.FRIEND_LIST='friendlist';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/events/NitroToolbarEvent.ts\nclass NitroToolbarEvent_NitroToolbarEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type){super(type);this._iconId=void 0;this._iconName=void 0;}get iconId(){return this._iconId;}set iconId(id){this._iconId=id;}get iconName(){return this._iconName;}set iconName(name){this._iconName=name;}}NitroToolbarEvent_NitroToolbarEvent.TOOLBAR_CLICK='NTE_TOOLBAR_CLICK';NitroToolbarEvent_NitroToolbarEvent.SELECT_OWN_AVATAR='NTE_SELECT_OWN_AVATAR';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/events/NitroToolbarAnimateIconEvent.ts\nclass NitroToolbarAnimateIconEvent_NitroToolbarAnimateIconEvent extends NitroToolbarEvent_NitroToolbarEvent{constructor(image,x,y){super(NitroToolbarAnimateIconEvent_NitroToolbarAnimateIconEvent.ANIMATE_ICON);this._image=void 0;this._x=void 0;this._y=void 0;this._image=image;this._x=x;this._y=y;}get image(){return this._image;}get x(){return this._x;}get y(){return this._y;}}NitroToolbarAnimateIconEvent_NitroToolbarAnimateIconEvent.ANIMATE_ICON='NTAIE_ANIMATE_ICON';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/BadgeImageReadyEvent.ts\nclass BadgeImageReadyEvent_BadgeImageReadyEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(badgeId,image){super(BadgeImageReadyEvent_BadgeImageReadyEvent.IMAGE_READY);this._badgeId=void 0;this._image=void 0;this._badgeId=badgeId;this._image=image;}get badgeId(){return this._badgeId;}get image(){return this._image;}}BadgeImageReadyEvent_BadgeImageReadyEvent.IMAGE_READY='BIME_BADGE_IMAGE_READY';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionEvent.ts\nclass RoomSessionEvent_RoomSessionEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type,session){let openLandingView=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;super(type);this._session=void 0;this._openLandingView=void 0;this._session=session;this._openLandingView=openLandingView;}get session(){return this._session;}get openLandingView(){return this._openLandingView;}}RoomSessionEvent_RoomSessionEvent.CREATED='RSE_CREATED';RoomSessionEvent_RoomSessionEvent.STARTED='RSE_STARTED';RoomSessionEvent_RoomSessionEvent.ENDED='RSE_ENDED';RoomSessionEvent_RoomSessionEvent.ROOM_DATA='RSE_ROOM_DATA';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/utils/FurniId.ts\nclass FurniId{static isBuilderClubId(k){return k>=FurniId.BUILDER_CLUB_FURNI_ID_BASE;}}FurniId.BUILDER_CLUB_FURNI_ID_BASE=0x7FFF0000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomBackgroundColorEvent.ts\nclass RoomBackgroundColorEvent_RoomBackgroundColorEvent extends RoomEngineEvent_RoomEngineEvent{constructor(roomId,color,_arg_3,_arg_4){super(RoomBackgroundColorEvent_RoomBackgroundColorEvent.ROOM_COLOR,roomId);this._color=void 0;this._brightness=void 0;this._bgOnly=void 0;this._color=color;this._brightness=_arg_3;this._bgOnly=_arg_4;}get color(){return this._color;}get brightness(){return this._brightness;}get bgOnly(){return this._bgOnly;}}RoomBackgroundColorEvent_RoomBackgroundColorEvent.ROOM_COLOR='REE_ROOM_COLOR';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomDragEvent.ts\nclass RoomDragEvent_RoomDragEvent extends RoomEngineEvent_RoomEngineEvent{constructor(roomId,offsetX,offsetY){super(RoomDragEvent_RoomDragEvent.ROOM_DRAG,roomId);this._offsetX=void 0;this._offsetY=void 0;this._offsetX=offsetX;this._offsetY=offsetY;}get offsetX(){return this._offsetX;}get offsetY(){return this._offsetY;}}RoomDragEvent_RoomDragEvent.ROOM_DRAG='RDE_ROOM_DRAG';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineDimmerStateEvent.ts\nclass RoomEngineDimmerStateEvent_RoomEngineDimmerStateEvent extends RoomEngineEvent_RoomEngineEvent{constructor(k,state,presetId,effectId,color,brightness){super(RoomEngineDimmerStateEvent_RoomEngineDimmerStateEvent.ROOM_COLOR,k);this._state=void 0;this._presetId=void 0;this._effectId=void 0;this._color=void 0;this._brightness=void 0;this._state=state;this._presetId=presetId;this._effectId=effectId;this._color=color;this._brightness=brightness;}get state(){return this._state;}get presetId(){return this._presetId;}get effectId(){return this._effectId;}get color(){return this._color;}get brightness(){return this._brightness;}}RoomEngineDimmerStateEvent_RoomEngineDimmerStateEvent.ROOM_COLOR='REDSE_ROOM_COLOR';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineObjectEvent.ts\nclass RoomEngineObjectEvent_RoomEngineObjectEvent extends RoomEngineEvent_RoomEngineEvent{constructor(type,roomId,objectId,category){super(type,roomId);this._objectId=void 0;this._category=void 0;this._objectId=objectId;this._category=category;}get objectId(){return this._objectId;}get category(){return this._category;}}RoomEngineObjectEvent_RoomEngineObjectEvent.SELECTED='REOE_SELECTED';RoomEngineObjectEvent_RoomEngineObjectEvent.DESELECTED='REOE_DESELECTED';RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED='REOE_ADDED';RoomEngineObjectEvent_RoomEngineObjectEvent.REMOVED='REOE_REMOVED';RoomEngineObjectEvent_RoomEngineObjectEvent.PLACED='REOE_PLACED';RoomEngineObjectEvent_RoomEngineObjectEvent.PLACED_ON_USER='REOE_PLACED_ON_USER';RoomEngineObjectEvent_RoomEngineObjectEvent.CONTENT_UPDATED='REOE_CONTENT_UPDATED';RoomEngineObjectEvent_RoomEngineObjectEvent.REQUEST_MOVE='REOE_REQUEST_MOVE';RoomEngineObjectEvent_RoomEngineObjectEvent.REQUEST_ROTATE='REOE_REQUEST_ROTATE';RoomEngineObjectEvent_RoomEngineObjectEvent.REQUEST_MANIPULATION='REOE_REQUEST_MANIPULATION';RoomEngineObjectEvent_RoomEngineObjectEvent.MOUSE_ENTER='REOE_MOUSE_ENTER';RoomEngineObjectEvent_RoomEngineObjectEvent.MOUSE_LEAVE='REOE_MOUSE_LEAVE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineObjectPlacedEvent.ts\nclass RoomEngineObjectPlacedEvent_RoomEngineObjectPlacedEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{constructor(type,roomId,objectId,category,wallLocation,x,y,z,direction,placedInRoom,placedOnFloor,placedOnWall,instanceData){super(type,roomId,objectId,category);this._wallLocation='';this._x=0;this._y=0;this._z=0;this._direction=0;this._placedInRoom=false;this._placedOnFloor=false;this._placedOnWall=false;this._instanceData=null;this._wallLocation=wallLocation;this._x=x;this._y=y;this._z=z;this._direction=direction;this._placedInRoom=placedInRoom;this._placedOnFloor=placedOnFloor;this._placedOnWall=placedOnWall;this._instanceData=instanceData;}get wallLocation(){return this._wallLocation;}get x(){return this._x;}get y(){return this._y;}get z(){return this._z;}get direction(){return this._direction;}get placedInRoom(){return this._placedInRoom;}get placedOnFloor(){return this._placedOnFloor;}get placedOnWall(){return this._placedOnWall;}get instanceData(){return this._instanceData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineObjectPlacedOnUserEvent.ts\nclass RoomEngineObjectPlacedOnUserEvent_RoomEngineObjectPlacedOnUserEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{constructor(k,roomId,objectId,category,droppedObjectId,droppedObjectCategory){super(k,roomId,objectId,category);this._droppedObjectId=void 0;this._droppedObjectCategory=void 0;this._droppedObjectId=droppedObjectId;this._droppedObjectCategory=droppedObjectCategory;}get droppedObjectId(){return this._droppedObjectId;}get droppedObjectCategory(){return this._droppedObjectCategory;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineObjectPlaySoundEvent.ts\nclass RoomEngineObjectPlaySoundEvent_RoomEngineObjectPlaySoundEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{constructor(type,roomId,objectId,objectCategory,soundId){let pitch=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;super(type,roomId,objectId,objectCategory);this._soundId=void 0;this._pitch=void 0;this._soundId=soundId;this._pitch=pitch;}get soundId(){return this._soundId;}get pitch(){return this._pitch;}}RoomEngineObjectPlaySoundEvent_RoomEngineObjectPlaySoundEvent.PLAY_SOUND='REOPSE_PLAY_SOUND';RoomEngineObjectPlaySoundEvent_RoomEngineObjectPlaySoundEvent.PLAY_SOUND_AT_PITCH='REOPSE_PLAY_SOUND_AT_PITCH';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineRoomAdEvent.ts\nclass RoomEngineRoomAdEvent_RoomEngineRoomAdEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{}RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.FURNI_CLICK='RERAE_FURNI_CLICK';RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.FURNI_DOUBLE_CLICK='RERAE_FURNI_DOUBLE_CLICK';RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.TOOLTIP_SHOW='RERAE_TOOLTIP_SHOW';RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.TOOLTIP_HIDE='RERAE_TOOLTIP_HIDE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineSamplePlaybackEvent.ts\nclass RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{constructor(k,roomId,objectId,objectCategory,sampleId){let pitch=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;super(k,roomId,objectId,objectCategory);this._sampleId=void 0;this._pitch=void 0;this._sampleId=sampleId;this._pitch=pitch;}get sampleId(){return this._sampleId;}get pitch(){return this._pitch;}}RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED='ROPSPE_ROOM_OBJECT_INITIALIZED';RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.ROOM_OBJECT_DISPOSED='ROPSPE_ROOM_OBJECT_DISPOSED';RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.PLAY_SAMPLE='ROPSPE_PLAY_SAMPLE';RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.CHANGE_PITCH='ROPSPE_CHANGE_PITCH';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineTriggerWidgetEvent.ts\nclass RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{constructor(type,roomId,objectId,category){let widget=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;super(type,roomId,objectId,category);this._widget=void 0;this._widget=widget;}get widget(){return this._widget;}get contextMenu(){return this._widget;}}RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.OPEN_WIDGET='RETWE_OPEN_WIDGET';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.CLOSE_WIDGET='RETWE_CLOSE_WIDGET';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.OPEN_FURNI_CONTEXT_MENU='RETWE_OPEN_FURNI_CONTEXT_MENU';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.CLOSE_FURNI_CONTEXT_MENU='RETWE_CLOSE_FURNI_CONTEXT_MENU';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PLACEHOLDER='RETWE_REQUEST_PLACEHOLDER';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_CREDITFURNI='RETWE_REQUEST_CREDITFURNI';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_STICKIE='RETWE_REQUEST_STICKIE';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PRESENT='RETWE_REQUEST_PRESENT';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_TROPHY='RETWE_REQUEST_TROPHY';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_TEASER='RETWE_REQUEST_TEASER';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ECOTRONBOX='RETWE_REQUEST_ECOTRONBOX';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_DIMMER='RETWE_REQUEST_DIMMER';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REMOVE_DIMMER='RETWE_REMOVE_DIMMER';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_CLOTHING_CHANGE='RETWE_REQUEST_CLOTHING_CHANGE';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PLAYLIST_EDITOR='RETWE_REQUEST_PLAYLIST_EDITOR';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MANNEQUIN='RETWE_REQUEST_MANNEQUIN';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG='ROWRE_REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG='ROWRE_REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_BACKGROUND_COLOR='RETWE_REQUEST_BACKGROUND_COLOR';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYBOX_OPEN_DIALOG='RETWE_REQUEST_MYSTERYBOX_OPEN_DIALOG';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_EFFECTBOX_OPEN_DIALOG='RETWE_REQUEST_EFFECTBOX_OPEN_DIALOG';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYTROPHY_OPEN_DIALOG='RETWE_REQUEST_MYSTERYTROPHY_OPEN_DIALOG';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING='RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED='RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_FAILED';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_CONFIRM='RETWE_REQUEST_FRIEND_FURNITURE_CONFIRM';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_ENGRAVING='RETWE_REQUEST_FRIEND_FURNITURE_ENGRAVING';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_BADGE_DISPLAY_ENGRAVING='RETWE_REQUEST_BADGE_DISPLAY_ENGRAVING';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_HIGH_SCORE_DISPLAY='RETWE_REQUEST_HIGH_SCORE_DISPLAY';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_HIDE_HIGH_SCORE_DISPLAY='RETWE_REQUEST_HIDE_HIGH_SCORE_DISPLAY';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_INTERNAL_LINK='RETWE_REQUEST_INTERNAL_LINK';RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ROOM_LINK='RETWE_REQUEST_ROOM_LINK';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomEngineUseProductEvent.ts\nclass RoomEngineUseProductEvent_RoomEngineUseProductEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{constructor(type,roomId,objectId,category){let inventoryStripId=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1;let furnitureTypeId=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;super(type,roomId,objectId,category);this._inventoryStripId=void 0;this._furnitureTypeId=void 0;this._inventoryStripId=inventoryStripId;this._furnitureTypeId=furnitureTypeId;}get inventoryStripId(){return this._inventoryStripId;}get furnitureTypeId(){return this._furnitureTypeId;}}RoomEngineUseProductEvent_RoomEngineUseProductEvent.USE_PRODUCT_FROM_ROOM='REUPE_USE_PRODUCT_FROM_ROOM';RoomEngineUseProductEvent_RoomEngineUseProductEvent.USE_PRODUCT_FROM_INVENTORY='REUPE_USE_PRODUCT_FROM_INVENTORY';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectBadgeAssetEvent.ts\nclass RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent extends RoomObjectEvent_RoomObjectEvent{constructor(k,_arg_2,badgeId){let groupBadge=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;super(k,_arg_2);this._badgeId=void 0;this._groupBadge=void 0;this._badgeId=badgeId;this._groupBadge=groupBadge;}get badgeId(){return this._badgeId;}get groupBadge(){return this._groupBadge;}}RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE='ROBAE_LOAD_BADGE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectDataRequestEvent.ts\nclass RoomObjectDataRequestEvent_RoomObjectDataRequestEvent extends RoomObjectEvent_RoomObjectEvent{constructor(type,object){super(type,object);}}RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID='RODRE_CURRENT_USER_ID';RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_URL_PREFIX='RODRE_URL_PREFIX';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectDimmerStateUpdateEvent.ts\nclass RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent extends RoomObjectEvent_RoomObjectEvent{constructor(object,state,presetId,effectId,color,brightness){super(RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent.DIMMER_STATE,object);this._state=void 0;this._presetId=void 0;this._effectId=void 0;this._color=void 0;this._brightness=void 0;this._state=state;this._presetId=presetId;this._effectId=effectId;this._color=color;this._brightness=brightness;}get state(){return this._state;}get presetId(){return this._presetId;}get effectId(){return this._effectId;}get color(){return this._color;}get brightness(){return this._brightness;}}RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent.DIMMER_STATE='RODSUE_DIMMER_STATE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectFloorHoleEvent.ts\nclass RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent extends RoomObjectEvent_RoomObjectEvent{constructor(k,_arg_2){super(k,_arg_2);}}RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.ADD_HOLE='ROFHO_ADD_HOLE';RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.REMOVE_HOLE='ROFHO_REMOVE_HOLE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectFurnitureActionEvent.ts\nclass RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent extends RoomObjectEvent_RoomObjectEvent{}RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_OFF='ROFCAE_DICE_OFF';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_ACTIVATE='ROFCAE_DICE_ACTIVATE';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.USE_HABBOWHEEL='ROFCAE_USE_HABBOWHEEL';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.STICKIE='ROFCAE_STICKIE';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR='ROFCAE_ENTER_ONEWAYDOOR';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT='ROFCAE_SOUND_MACHINE_INIT';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_START='ROFCAE_SOUND_MACHINE_START';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP='ROFCAE_SOUND_MACHINE_STOP';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE='ROFCAE_SOUND_MACHINE_DISPOSE';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_INIT='ROFCAE_JUKEBOX_INIT';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_START='ROFCAE_JUKEBOX_START';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP='ROFCAE_JUKEBOX_MACHINE_STOP';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE='ROFCAE_JUKEBOX_DISPOSE';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON='ROFCAE_MOUSE_BUTTON';RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_ARROW='ROFCAE_MOUSE_ARROW';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectHSLColorEnabledEvent.ts\nclass RoomObjectHSLColorEnabledEvent_RoomObjectHSLColorEnabledEvent extends RoomEngineEvent_RoomEngineEvent{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6){super(k,_arg_2);this._enable=void 0;this._hue=void 0;this._saturation=void 0;this._lightness=void 0;this._enable=_arg_3;this._hue=_arg_4;this._saturation=_arg_5;this._lightness=_arg_6;}get enable(){return this._enable;}get hue(){return this._hue;}get saturation(){return this._saturation;}get lightness(){return this._lightness;}}RoomObjectHSLColorEnabledEvent_RoomObjectHSLColorEnabledEvent.ROOM_BACKGROUND_COLOR='ROHSLCEE_ROOM_BACKGROUND_COLOR';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectHSLColorEnableEvent.ts\nclass RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent extends RoomObjectEvent_RoomObjectEvent{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6){super(k,_arg_2);this._enable=void 0;this._hue=void 0;this._saturation=void 0;this._lightness=void 0;this._enable=_arg_3;this._hue=_arg_4;this._saturation=_arg_5;this._lightness=_arg_6;}get enable(){return this._enable;}get hue(){return this._hue;}get saturation(){return this._saturation;}get lightness(){return this._lightness;}}RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR='ROHSLCEE_ROOM_BACKGROUND_COLOR';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectMoveEvent.ts\nclass RoomObjectMoveEvent_RoomObjectMoveEvent extends RoomObjectEvent_RoomObjectEvent{constructor(k,_arg_2){super(k,_arg_2);}}RoomObjectMoveEvent_RoomObjectMoveEvent.POSITION_CHANGED='ROME_POSITION_CHANGED';RoomObjectMoveEvent_RoomObjectMoveEvent.OBJECT_REMOVED='ROME_OBJECT_REMOVED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectPlaySoundIdEvent.ts\nclass RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent extends RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent{constructor(type,object,soundId){let pitch=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;super(type,object);this._soundId=void 0;this._pitch=void 0;this._soundId=soundId;this._pitch=pitch;}get soundId(){return this._soundId;}get pitch(){return this._pitch;}}RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND='ROPSIE_PLAY_SOUND';RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH='ROPSIE_PLAY_SOUND_AT_PITCH';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectRoomAdEvent.ts\nclass RoomObjectRoomAdEvent_RoomObjectRoomAdEvent extends RoomObjectEvent_RoomObjectEvent{constructor(type,object){let imageUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let clickUrl=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';super(type,object);this._imageUrl='';this._clickUrl='';this._imageUrl=imageUrl;this._clickUrl=clickUrl;}get imageUrl(){return this._imageUrl;}get clickUrl(){return this._clickUrl;}}RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_LOAD_IMAGE='RORAE_ROOM_AD_LOAD_IMAGE';RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK='RORAE_ROOM_AD_FURNI_CLICK';RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK='RORAE_ROOM_AD_FURNI_DOUBLE_CLICK';RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW='RORAE_ROOM_AD_TOOLTIP_SHOW';RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE='RORAE_ROOM_AD_TOOLTIP_HIDE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectSamplePlaybackEvent.ts\nclass RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent extends RoomObjectEvent_RoomObjectEvent{constructor(k,object,sampleId){let pitch=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;super(k,object);this._sampleId=void 0;this._pitch=void 0;this._sampleId=sampleId;this._pitch=pitch;}get sampleId(){return this._sampleId;}get pitch(){return this._pitch;}}RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED='ROPSPE_ROOM_OBJECT_INITIALIZED';RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED='ROPSPE_ROOM_OBJECT_DISPOSED';RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.PLAY_SAMPLE='ROPSPE_PLAY_SAMPLE';RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.CHANGE_PITCH='ROPSPE_CHANGE_PITCH';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectSoundMachineEvent.ts\nclass RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent extends RoomEngineObjectEvent_RoomEngineObjectEvent{}RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_INIT='ROSM_SOUND_MACHINE_INIT';RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_SWITCHED_ON='ROSM_SOUND_MACHINE_SWITCHED_ON';RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_SWITCHED_OFF='ROSM_SOUND_MACHINE_SWITCHED_OFF';RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_DISPOSE='ROSM_SOUND_MACHINE_DISPOSE';RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_INIT='ROSM_JUKEBOX_INIT';RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_SWITCHED_ON='ROSM_JUKEBOX_SWITCHED_ON';RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_SWITCHED_OFF='ROSM_JUKEBOX_SWITCHED_OFF';RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_DISPOSE='ROSM_JUKEBOX_DISPOSE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectStateChangedEvent.ts\nclass RoomObjectStateChangedEvent_RoomObjectStateChangedEvent extends RoomObjectEvent_RoomObjectEvent{constructor(type,object){let state=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;super(type,object);this._state=void 0;this._state=state;}get state(){return this._state;}}RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE='ROSCE_STATE_CHANGE';RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_RANDOM='ROSCE_STATE_RANDOM';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectTileMouseEvent.ts\nclass RoomObjectTileMouseEvent_RoomObjectTileMouseEvent extends RoomObjectMouseEvent_RoomObjectMouseEvent{constructor(type,object,eventId,tileX,tileY,tileZ){let altKey=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let ctrlKey=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;let shiftKey=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let buttonDown=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;super(type,object,eventId,altKey,ctrlKey,shiftKey,buttonDown);this._tileX=void 0;this._tileY=void 0;this._tileZ=void 0;this._tileX=tileX;this._tileY=tileY;this._tileZ=tileZ;}get tileX(){return this._tileX;}get tileY(){return this._tileY;}get tileZ(){return this._tileZ;}get tileXAsInt(){return Math.trunc(this._tileX+0.499);}get tileYAsInt(){return Math.trunc(this._tileY+0.499);}get tileZAsInt(){return Math.trunc(this._tileZ+0.499);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectWallMouseEvent.ts\nclass RoomObjectWallMouseEvent_RoomObjectWallMouseEvent extends RoomObjectMouseEvent_RoomObjectMouseEvent{constructor(type,object,eventId,wallLocation,wallWidth,wallHeight,x,y,direction){let altKey=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;let ctrlKey=arguments.length>10&&arguments[10]!==undefined?arguments[10]:false;let shiftKey=arguments.length>11&&arguments[11]!==undefined?arguments[11]:false;let buttonDown=arguments.length>12&&arguments[12]!==undefined?arguments[12]:false;super(type,object,eventId,altKey,ctrlKey,shiftKey,buttonDown);this._wallLocation=void 0;this._wallWd=void 0;this._wallHt=void 0;this._x=void 0;this._y=void 0;this._direction=void 0;this._wallLocation=new Vector3d();this._wallWd=new Vector3d();this._wallHt=new Vector3d();this._wallLocation.assign(wallLocation);this._wallWd.assign(wallWidth);this._wallHt.assign(wallHeight);this._x=x;this._y=y;this._direction=direction;}get wallLocation(){return this._wallLocation;}get wallWidth(){return this._wallWd;}get wallHeight(){return this._wallHt;}get x(){return this._x;}get y(){return this._y;}get direction(){return this._direction;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomObjectWidgetRequestEvent.ts\nclass RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent extends RoomObjectEvent_RoomObjectEvent{constructor(type,roomObject){super(type,roomObject);}}RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_WIDGET='ROWRE_OPEN_WIDGET';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_WIDGET='ROWRE_CLOSE_WIDGET';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU='ROWRE_OPEN_FURNI_CONTEXT_MENU';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU='ROWRE_CLOSE_FURNI_CONTEXT_MENU';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PLACEHOLDER='ROWRE_PLACEHOLDER';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CREDITFURNI='ROWRE_CREDITFURNI';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.STICKIE='ROWRE_STICKIE';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PRESENT='ROWRE_PRESENT';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TROPHY='ROWRE_TROPHY';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TEASER='ROWRE_TEASER';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ECOTRONBOX='ROWRE_ECOTRONBOX';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.DIMMER='ROWRE_DIMMER';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER='ROWRE_WIDGET_REMOVE_DIMMER';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOTHING_CHANGE='ROWRE_CLOTHING_CHANGE';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR='ROWRE_JUKEBOX_PLAYLIST_EDITOR';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MANNEQUIN='ROWRE_MANNEQUIN';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU='ROWRE_PET_PRODUCT_MENU';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU='ROWRE_GUILD_FURNI_CONTEXT_MENU';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG='ROWRE_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG='ROWRE_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BACKGROUND_COLOR='ROWRE_BACKGROUND_COLOR';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG='ROWRE_MYSTERYBOX_OPEN_DIALOG';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG='ROWRE_EFFECTBOX_OPEN_DIALOG';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG='ROWRE_MYSTERYTROPHY_OPEN_DIALOG';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN='ROWRE_ACHIEVEMENT_RESOLUTION_OPEN';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING='ROWRE_ACHIEVEMENT_RESOLUTION_ENGRAVING';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED='ROWRE_ACHIEVEMENT_RESOLUTION_FAILED';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_CONFIRM='ROWRE_FRIEND_FURNITURE_CONFIRM';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING='ROWRE_FRIEND_FURNITURE_ENGRAVING';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING='ROWRE_BADGE_DISPLAY_ENGRAVING';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY='ROWRE_HIGH_SCORE_DISPLAY';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY='ROWRE_HIDE_HIGH_SCORE_DISPLAY';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK='ROWRE_INTERNAL_LINK';RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ROOM_LINK='ROWRE_ROOM_LINK';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomToObjectOwnAvatarMoveEvent.ts\nclass RoomToObjectOwnAvatarMoveEvent_RoomToObjectOwnAvatarMoveEvent extends RoomToObjectEvent_RoomToObjectEvent{constructor(type,targetLocation){super(type);this._targetLocation=void 0;this._targetLocation=targetLocation;}get targetLocation(){return this._targetLocation;}}RoomToObjectOwnAvatarMoveEvent_RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO='ROAME_MOVE_TO';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/RoomZoomEvent.ts\nclass RoomZoomEvent_RoomZoomEvent extends RoomEngineEvent_RoomEngineEvent{constructor(roomId,level){let forceFlip=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let asDelta=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;super(RoomZoomEvent_RoomZoomEvent.ROOM_ZOOM,roomId);this._level=void 0;this._forceFlip=void 0;this._asDelta=void 0;this._level=level;this._forceFlip=forceFlip;this._asDelta=asDelta;}get level(){return this._level;}get forceFlip(){return this._forceFlip;}get asDelta(){return this._asDelta;}}RoomZoomEvent_RoomZoomEvent.ROOM_ZOOM='REE_ROOM_ZOOM';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/ImageResult.ts\nclass ImageResult_ImageResult{constructor(){this.id=0;this.data=null;this.image=null;}getImage(){if(this.image)return this.image;if(!this.data)return null;return TextureUtils_TextureUtils.generateImage(this.data);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectStateUpdateMessage.ts\nclass ObjectStateUpdateMessage_ObjectStateUpdateMessage extends RoomObjectUpdateMessage{constructor(){super(null,null);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarCarryObjectUpdateMessage.ts\nclass ObjectAvatarCarryObjectUpdateMessage_ObjectAvatarCarryObjectUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(itemType,itemName){super();this._itemType=void 0;this._itemName=void 0;this._itemType=itemType;this._itemName=itemName;}get itemType(){return this._itemType;}get itemName(){return this._itemName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarChatUpdateMessage.ts\nclass ObjectAvatarChatUpdateMessage_ObjectAvatarChatUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let numberOfWords=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;super();this._numberOfWords=void 0;this._numberOfWords=numberOfWords;}get numberOfWords(){return this._numberOfWords;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarDanceUpdateMessage.ts\nclass ObjectAvatarDanceUpdateMessage_ObjectAvatarDanceUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let danceStyle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;super();this._danceStyle=void 0;this._danceStyle=danceStyle;}get danceStyle(){return this._danceStyle;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarEffectUpdateMessage.ts\nclass ObjectAvatarEffectUpdateMessage_ObjectAvatarEffectUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(effect){let delayMilliseconds=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;super();this._effect=void 0;this._delayMilliseconds=void 0;this._effect=effect;this._delayMilliseconds=delayMilliseconds;}get effect(){return this._effect;}get delayMilliseconds(){return this._delayMilliseconds;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarExperienceUpdateMessage.ts\nclass ObjectAvatarExperienceUpdateMessage_ObjectAvatarExperienceUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(amount){super();this._gainedExperience=void 0;this._gainedExperience=amount;}get gainedExperience(){return this._gainedExperience;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarExpressionUpdateMessage.ts\nclass ObjectAvatarExpressionUpdateMessage_ObjectAvatarExpressionUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let expressionType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;super();this._expressionType=void 0;this._expressionType=expressionType;}get expressionType(){return this._expressionType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarFigureUpdateMessage.ts\nclass ObjectAvatarFigureUpdateMessage_ObjectAvatarFigureUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(figure){let gender=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let subType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let isRiding=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;super();this._figure=void 0;this._gender=void 0;this._subType=void 0;this._isRiding=void 0;this._figure=figure;this._gender=gender;this._subType=subType;this._isRiding=isRiding;}get figure(){return this._figure;}get gender(){return this._gender;}get subType(){return this._subType;}get isRiding(){return this._isRiding;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarFlatControlUpdateMessage.ts\nclass ObjectAvatarFlatControlUpdateMessage_ObjectAvatarFlatControlUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let level=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;super();this._level=void 0;this._level=level;}get level(){return this._level;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarGestureUpdateMessage.ts\nclass ObjectAvatarGestureUpdateMessage_ObjectAvatarGestureUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let gesture=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;super();this._gesture=void 0;this._gesture=gesture;}get gesture(){return this._gesture;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarGuideStatusUpdateMessage.ts\nclass ObjectAvatarGuideStatusUpdateMessage_ObjectAvatarGuideStatusUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(value){super();this._guideStatus=void 0;this._guideStatus=value;}get guideStatus(){return this._guideStatus;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarMutedUpdateMessage.ts\nclass ObjectAvatarMutedUpdateMessage_ObjectAvatarMutedUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let isMuted=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;super();this._isMuted=void 0;this._isMuted=isMuted;}get isMuted(){return this._isMuted;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarOwnMessage.ts\nclass ObjectAvatarOwnMessage_ObjectAvatarOwnMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarPetGestureUpdateMessage.ts\nclass ObjectAvatarPetGestureUpdateMessage_ObjectAvatarPetGestureUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(gesture){super();this._gesture=void 0;this._gesture=gesture;}get gesture(){return this._gesture;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarPlayerValueUpdateMessage.ts\nclass ObjectAvatarPlayerValueUpdateMessage_ObjectAvatarPlayerValueUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(value){super();this._value=void 0;this._value=value;}get value(){return this._value;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarPlayingGameUpdateMessage.ts\nclass ObjectAvatarPlayingGameUpdateMessage_ObjectAvatarPlayingGameUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(flag){super();this._isPlayingGame=void 0;this._isPlayingGame=flag;}get isPlayingGame(){return this._isPlayingGame;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarPostureUpdateMessage.ts\nclass ObjectAvatarPostureUpdateMessage_ObjectAvatarPostureUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(postureType){let parameter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';super();this._postureType=void 0;this._parameter=void 0;this._postureType=postureType;this._parameter=parameter;}get postureType(){return this._postureType;}get parameter(){return this._parameter;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarSignUpdateMessage.ts\nclass ObjectAvatarSignUpdateMessage_ObjectAvatarSignUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let signType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;super();this._signType=void 0;this._signType=signType;}get signType(){return this._signType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarSleepUpdateMessage.ts\nclass ObjectAvatarSleepUpdateMessage_ObjectAvatarSleepUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let isSleeping=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;super();this._isSleeping=void 0;this._isSleeping=isSleeping;}get isSleeping(){return this._isSleeping;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarTypingUpdateMessage.ts\nclass ObjectAvatarTypingUpdateMessage_ObjectAvatarTypingUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(){let isTyping=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;super();this._isTyping=void 0;this._isTyping=isTyping;}get isTyping(){return this._isTyping;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectMoveUpdateMessage.ts\nclass ObjectMoveUpdateMessage_ObjectMoveUpdateMessage extends RoomObjectUpdateMessage{constructor(location,targetLocation,direction){let isSlide=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;super(location,direction);this._targetLocation=void 0;this._isSlide=void 0;this._targetLocation=targetLocation;this._isSlide=isSlide;}get targetLocation(){if(!this._targetLocation)return this.location;return this._targetLocation;}get isSlide(){return this._isSlide;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarUpdateMessage.ts\nclass ObjectAvatarUpdateMessage_ObjectAvatarUpdateMessage extends ObjectMoveUpdateMessage_ObjectMoveUpdateMessage{constructor(location,targetLocation,direction,headDirection,canStandUp,baseY){super(location,targetLocation,direction);this._headDirection=void 0;this._canStandUp=void 0;this._baseY=void 0;this._headDirection=headDirection;this._canStandUp=canStandUp;this._baseY=baseY;}get headDirection(){return this._headDirection;}get canStandUp(){return this._canStandUp;}get baseY(){return this._baseY;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarUseObjectUpdateMessage.ts\nclass ObjectAvatarUseObjectUpdateMessage_ObjectAvatarUseObjectUpdateMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(itemType){super();this._itemType=void 0;this._itemType=itemType;}get itemType(){return this._itemType;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectDataUpdateMessage.ts\nclass ObjectDataUpdateMessage_ObjectDataUpdateMessage extends RoomObjectUpdateMessage{constructor(state,data){let extra=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;super(null,null);this._state=void 0;this._data=void 0;this._extra=void 0;this._state=state;this._data=data;this._extra=extra;}get state(){return this._state;}get data(){return this._data;}get extra(){return this._extra;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectGroupBadgeUpdateMessage.ts\nclass ObjectGroupBadgeUpdateMessage_ObjectGroupBadgeUpdateMessage extends RoomObjectUpdateMessage{constructor(badgeId,assetName){super(null,null);this._badgeId=void 0;this._assetName=void 0;this._badgeId=badgeId;this._assetName=assetName;}get badgeId(){return this._badgeId;}get assetName(){return this._assetName;}}ObjectGroupBadgeUpdateMessage_ObjectGroupBadgeUpdateMessage.BADGE_LOADED='ROGBUM_BADGE_LOADED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectHeightUpdateMessage.ts\nclass ObjectHeightUpdateMessage_ObjectHeightUpdateMessage extends RoomObjectUpdateMessage{constructor(location,direction,height){super(location,direction);this._height=void 0;this._height=height;}get height(){return this._height;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectItemDataUpdateMessage.ts\nclass ObjectItemDataUpdateMessage_ObjectItemDataUpdateMessage extends RoomObjectUpdateMessage{constructor(data){super(null,null);this._data=void 0;this._data=data;}get data(){return this._data;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectModelDataUpdateMessage.ts\nclass ObjectModelDataUpdateMessage_ObjectModelDataUpdateMessage extends RoomObjectUpdateMessage{constructor(numberKey,numberValue){super(null,null);this._numberKey=void 0;this._numberValue=void 0;this._numberKey=numberKey;this._numberValue=numberValue;}get numberKey(){return this._numberKey;}get numberValue(){return this._numberValue;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectRoomColorUpdateMessage.ts\nclass ObjectRoomColorUpdateMessage_ObjectRoomColorUpdateMessage extends RoomObjectUpdateMessage{constructor(type,color,light,backgroundOnly){super(null,null);this._type=void 0;this._color=void 0;this._light=void 0;this._backgroundOnly=void 0;this._type=type;this._color=color;this._light=light;this._backgroundOnly=backgroundOnly;}get type(){return this._type;}get color(){return this._color;}get light(){return this._light;}get backgroundOnly(){return this._backgroundOnly;}}ObjectRoomColorUpdateMessage_ObjectRoomColorUpdateMessage.BACKGROUND_COLOR='RORCUM_BACKGROUND_COLOR';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectRoomFloorHoleUpdateMessage.ts\nclass ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage extends RoomObjectUpdateMessage{constructor(type,id){let x=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let y=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let width=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let height=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;super(null,null);this._type=void 0;this._id=void 0;this._x=void 0;this._y=void 0;this._width=void 0;this._height=void 0;this._type=type;this._id=id;this._x=x;this._y=y;this._width=width;this._height=height;}get type(){return this._type;}get id(){return this._id;}get x(){return this._x;}get y(){return this._y;}get width(){return this._width;}get height(){return this._height;}}ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage.ADD='ORPFHUM_ADD';ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage.REMOVE='ORPFHUM_REMOVE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectRoomMaskUpdateMessage.ts\nclass ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage extends RoomObjectUpdateMessage{constructor(type,maskId){let maskType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let maskLocation=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let maskCategory=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'window';super(null,null);this._type=void 0;this._maskId=void 0;this._maskType=void 0;this._maskLocation=void 0;this._maskCategory=void 0;this._type=type;this._maskId=maskId;this._maskType=maskType;this._maskLocation=maskLocation?new Vector3d(maskLocation.x,maskLocation.y,maskLocation.z):null;this._maskCategory=maskCategory;}get type(){return this._type;}get maskId(){return this._maskId;}get maskType(){return this._maskType;}get maskLocation(){return this._maskLocation;}get maskCategory(){return this._maskCategory;}}ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.ADD_MASK='RORMUM_ADD_MASK';ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.REMOVE_MASK='RORMUM_ADD_MASK';ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.DOOR='door';ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.WINDOW='window';ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.HOLE='hole';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectRoomPlanePropertyUpdateMessage.ts\nclass ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage extends RoomObjectUpdateMessage{constructor(type,value){super(null,null);this._type=void 0;this._value=void 0;this._type=type;this._value=value;}get type(){return this._type;}get value(){return this._value;}}ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage.WALL_THICKNESS='RORPPUM_WALL_THICKNESS';ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage.FLOOR_THICKNESS='RORPVUM_FLOOR_THICKNESS';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectRoomPlaneVisibilityUpdateMessage.ts\nclass ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage extends RoomObjectUpdateMessage{constructor(type,visible){super(null,null);this._type=void 0;this._visible=void 0;this._type=type;this._visible=visible;}get type(){return this._type;}get visible(){return this._visible;}}ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage.WALL_VISIBILITY='RORPVUM_WALL_VISIBILITY';ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage.FLOOR_VISIBILITY='RORPVUM_FLOOR_VISIBILITY';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectRoomUpdateMessage.ts\nclass ObjectRoomUpdateMessage_ObjectRoomUpdateMessage extends RoomObjectUpdateMessage{constructor(type,value){super(null,null);this._type=void 0;this._value=void 0;this._type=type;this._value=value;}get type(){return this._type;}get value(){return this._value;}}ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_WALL_UPDATE='RORUM_ROOM_WALL_UPDATE';ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE='RORUM_ROOM_FLOOR_UPDATE';ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE='RORUM_ROOM_LANDSCAPE_UPDATE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarGuideStatus.ts\nclass AvatarGuideStatus{}AvatarGuideStatus.NONE=0;AvatarGuideStatus.GUIDE=1;AvatarGuideStatus.REQUESTER=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/ExpressionAddition.ts\nclass ExpressionAddition{constructor(id,type,visualization){this._id=void 0;this._type=void 0;this._visualization=void 0;this._id=id;this._type=type;this._visualization=visualization;}dispose(){this._visualization=null;}update(sprite,scale){return;}animate(sprite){return false;}get id(){return this._id;}get type(){return this._type;}get visualization(){return this._visualization;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/FloatingHeartAddition.ts\nclass FloatingHeartAddition_FloatingHeartAddition extends ExpressionAddition{constructor(id,type,visualization){super(id,type,visualization);this._asset=void 0;this._startTime=void 0;this._delta=void 0;this._offsetY=void 0;this._scale=void 0;this._state=void 0;this._asset=null;this._startTime=Nitro_Nitro.instance.time;this._delta=0;this._offsetY=0;this._scale=0;this._state=0;}update(sprite,scale){if(!sprite)return;this._scale=scale;let additionScale=64;let offsetX=0;if(scale<48){this._asset=this.visualization.getAvatarRenderAsset('avatar_addition_user_blowkiss_small');if(this.visualization.angle===90||this.visualization.angle===270){offsetX=0;}else if(this.visualization.angle===135||this.visualization.angle===180||this.visualization.angle===225){offsetX=6;}else offsetX=-6;this._offsetY=-38;additionScale=32;}else{this._asset=this.visualization.getAvatarRenderAsset('avatar_addition_user_blowkiss');if(this.visualization.angle===90||this.visualization.angle===270){offsetX=-3;}else if(this.visualization.angle===135||this.visualization.angle===180||this.visualization.angle===225){offsetX=22;}else offsetX=-30;this._offsetY=-70;}if(this.visualization.posture===AvatarAction.POSTURE_SIT){this._offsetY+=additionScale/2;}else if(this.visualization.posture===AvatarAction.POSTURE_LAY){this._offsetY+=additionScale;}if(this._asset){sprite.texture=this._asset;sprite.offsetX=offsetX;sprite.offsetY=this._offsetY;sprite.relativeDepth=-0.02;sprite.alpha=0;const delta=this._delta;this.animate(sprite);this._delta=delta;}}animate(sprite){if(!sprite)return false;if(this._asset)sprite.texture=this._asset;if(this._state===FloatingHeartAddition_FloatingHeartAddition.STATE_DELAY){if(Nitro_Nitro.instance.time-this._startTime<FloatingHeartAddition_FloatingHeartAddition.DELAY_BEFORE_ANIMATION)return false;this._state=FloatingHeartAddition_FloatingHeartAddition.STATE_FADE_IN;sprite.alpha=0;sprite.visible=true;this._delta=0;return true;}if(this._state===FloatingHeartAddition_FloatingHeartAddition.STATE_FADE_IN){this._delta+=0.1;sprite.offsetY=this._offsetY;sprite.alpha=Math.pow(this._delta,0.9)*255;if(this._delta>=1){sprite.alpha=255;this._delta=0;this._state=FloatingHeartAddition_FloatingHeartAddition.STATE_FLOAT;}return true;}if(this._state===FloatingHeartAddition_FloatingHeartAddition.STATE_FLOAT){const alpha=Math.pow(this._delta,0.9);this._delta+=0.05;const offset=this._scale<48?-30:-40;sprite.offsetY=this._offsetY+(this._delta<1?alpha:1)*offset;sprite.alpha=(1-alpha)*255;if(sprite.alpha<=0){sprite.visible=false;this._state=FloatingHeartAddition_FloatingHeartAddition.STATE_COMPLETE;}return true;}return false;}}FloatingHeartAddition_FloatingHeartAddition.DELAY_BEFORE_ANIMATION=300;FloatingHeartAddition_FloatingHeartAddition.STATE_DELAY=0;FloatingHeartAddition_FloatingHeartAddition.STATE_FADE_IN=1;FloatingHeartAddition_FloatingHeartAddition.STATE_FLOAT=2;FloatingHeartAddition_FloatingHeartAddition.STATE_COMPLETE=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/ExpressionAdditionFactory.ts\nclass ExpressionAdditionFactory_ExpressionAdditionFactory{static getExpressionAddition(id,type,visualization){switch(type){case this.BLOW:return new FloatingHeartAddition_FloatingHeartAddition(id,this.BLOW,visualization);default:return new ExpressionAddition(id,type,visualization);}}}ExpressionAdditionFactory_ExpressionAdditionFactory.WAVE=1;ExpressionAdditionFactory_ExpressionAdditionFactory.BLOW=2;ExpressionAdditionFactory_ExpressionAdditionFactory.LAUGH=3;ExpressionAdditionFactory_ExpressionAdditionFactory.CRY=4;ExpressionAdditionFactory_ExpressionAdditionFactory.IDLE=5;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/FloatingIdleZAddition.ts\nclass FloatingIdleZAddition_FloatingIdleZAddition{constructor(id,visualization){this._id=void 0;this._visualization=void 0;this._asset=void 0;this._startTime=void 0;this._offsetY=void 0;this._scale=void 0;this._state=void 0;this._id=id;this._visualization=visualization;this._asset=null;this._startTime=Nitro_Nitro.instance.time;this._offsetY=0;this._scale=0;this._state=0;}dispose(){this._visualization=null;this._asset=null;}getSpriteAssetName(state){let side='left';if(this._visualization.angle===135||this._visualization.angle===180||this._visualization.angle===225||this._visualization.angle===270)side='right';return'avatar_addition_user_idle_'+side+'_'+state+(this._scale<48?'_small':'');}update(sprite,scale){if(!sprite)return;this._scale=scale;this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(this._state===FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_A?1:2));let additionScale=64;let offsetX=0;if(scale<48){if(this._visualization.angle===135||this._visualization.angle===180||this._visualization.angle===225||this._visualization.angle===270){offsetX=10;}else{offsetX=-16;}this._offsetY=-38;additionScale=32;}else{if(this._visualization.angle===135||this._visualization.angle===180||this._visualization.angle===225||this._visualization.angle===270){offsetX=22;}else{offsetX=-30;}this._offsetY=-70;}if(this._visualization.posture===AvatarAction.POSTURE_SIT){this._offsetY+=additionScale/2;}else if(this._visualization.posture===AvatarAction.POSTURE_LAY){this._offsetY+=additionScale-0.3*additionScale;}if(this._asset){sprite.texture=this._asset;sprite.offsetX=offsetX;sprite.offsetY=this._offsetY;sprite.relativeDepth=-0.02;sprite.alpha=0;}}animate(sprite){if(!sprite)return false;const totalTimeRunning=Nitro_Nitro.instance.time;if(this._state===FloatingIdleZAddition_FloatingIdleZAddition.STATE_DELAY){if(totalTimeRunning-this._startTime>=FloatingIdleZAddition_FloatingIdleZAddition.DELAY_BEFORE_ANIMATION){this._state=FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_A;this._startTime=totalTimeRunning;this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1));}}if(this._state===FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_A){if(totalTimeRunning-this._startTime>=FloatingIdleZAddition_FloatingIdleZAddition.DELAY_PER_FRAME){this._state=FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_B;this._startTime=totalTimeRunning;this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(2));}}if(this._state===FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_B){if(totalTimeRunning-this._startTime>=FloatingIdleZAddition_FloatingIdleZAddition.DELAY_PER_FRAME){this._state=FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_A;this._startTime=totalTimeRunning;this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1));}}if(this._asset){sprite.texture=this._asset;sprite.alpha=255;sprite.visible=true;}else{sprite.visible=false;}return false;}get id(){return this._id;}}FloatingIdleZAddition_FloatingIdleZAddition.DELAY_BEFORE_ANIMATION=2000;FloatingIdleZAddition_FloatingIdleZAddition.DELAY_PER_FRAME=2000;FloatingIdleZAddition_FloatingIdleZAddition.STATE_DELAY=0;FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_A=1;FloatingIdleZAddition_FloatingIdleZAddition.STATE_FRAME_B=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/GameClickTargetAddition.ts\nclass GameClickTargetAddition_GameClickTargetAddition{constructor(id){this._id=void 0;this._asset=void 0;this._disposed=void 0;this._id=id;this._asset=null;this._disposed=false;}dispose(){this._asset=null;}update(sprite,scale){if(!sprite)return;if(!this._asset){const newSprite=new esm_sprite[\"a\" /* Sprite */](esm_core[\"t\" /* Texture */].WHITE);newSprite.alpha=0;newSprite.width=GameClickTargetAddition_GameClickTargetAddition.WIDTH;newSprite.height=GameClickTargetAddition_GameClickTargetAddition.HEIGHT;this._asset=TextureUtils_TextureUtils.generateTexture(newSprite);}sprite.visible=true;sprite.texture=this._asset;sprite.offsetX=GameClickTargetAddition_GameClickTargetAddition.OFFSET_X;sprite.offsetY=GameClickTargetAddition_GameClickTargetAddition.OFFSET_Y;sprite.alphaTolerance=AlphaTolerance.MATCH_ALL_PIXELS;}animate(sprite){return false;}get id(){return this._id;}}GameClickTargetAddition_GameClickTargetAddition.WIDTH=46;GameClickTargetAddition_GameClickTargetAddition.HEIGHT=60;GameClickTargetAddition_GameClickTargetAddition.OFFSET_X=-23;GameClickTargetAddition_GameClickTargetAddition.OFFSET_Y=-48;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/GuideStatusBubbleAddition.ts\nclass GuideStatusBubbleAddition_GuideStatusBubbleAddition{constructor(id,visualization,status){this._id=void 0;this._visualization=void 0;this._asset=void 0;this._relativeDepth=void 0;this._status=void 0;this._id=id;this._visualization=visualization;this._asset=null;this._relativeDepth=0;this._status=status;}dispose(){this._visualization=null;this._asset=null;}update(sprite,scale){if(!sprite)return;sprite.visible=true;sprite.relativeDepth=this._relativeDepth;sprite.alpha=255;let additionScale=64;let offsetX=0;let offsetY=0;this._asset=this._visualization.getAvatarRenderAsset(this._status===AvatarGuideStatus.GUIDE?'avatar_addition_user_guide_bubble':'avatar_addition_user_guide_requester_bubble');if(scale<48){offsetX=-19;offsetY=-80;additionScale=32;}else{offsetX=-19;offsetY=-120;}if(this._visualization.posture===AvatarAction.POSTURE_SIT){offsetY+=additionScale/2;}else if(this._visualization.posture===AvatarAction.POSTURE_LAY){offsetY+=scale;}if(this._asset){sprite.texture=this._asset;sprite.offsetX=offsetX;sprite.offsetY=offsetY;sprite.relativeDepth=-0.02+0;}}animate(sprite){if(this._asset&&sprite){sprite.texture=this._asset;}return false;}get id(){return this._id;}get relativeDepth(){return this._relativeDepth;}set relativeDepth(depth){this._relativeDepth=depth;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/MutedBubbleAddition.ts\nclass MutedBubbleAddition_MutedBubbleAddition{constructor(id,visualization){this._id=void 0;this._visualization=void 0;this._asset=void 0;this._id=id;this._visualization=visualization;this._asset=null;}dispose(){this._visualization=null;this._asset=null;}update(sprite,scale){if(!sprite)return;let additionScale=64;let offsetX=0;let offsetY=0;if(scale<48){this._asset=this._visualization.getAvatarRenderAsset('avatar_addition_user_muted_small');additionScale=32;offsetX=-12;offsetY=-66;}else{this._asset=this._visualization.getAvatarRenderAsset('avatar_addition_user_muted');offsetX=-15;offsetY=-110;}if(this._visualization.posture===AvatarAction.POSTURE_SIT)offsetY+=additionScale/2;else if(this._visualization.posture===AvatarAction.POSTURE_LAY)offsetY+=scale;if(this._asset){sprite.visible=true;sprite.texture=this._asset;sprite.offsetX=offsetX;sprite.offsetY=offsetY;sprite.relativeDepth=-0.02;}else{sprite.visible=false;}}animate(sprite){if(this._asset&&sprite){sprite.texture=this._asset;}return false;}get id(){return this._id;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/NumberBubbleAddition.ts\nclass NumberBubbleAddition_NumberBubbleAddition{constructor(id,number,visualization){this._id=void 0;this._visualization=void 0;this._asset=void 0;this._scale=void 0;this._number=void 0;this._numberValueFadeDirection=void 0;this._numberValueMoving=void 0;this._numberValueMoveCounter=void 0;this._id=id;this._visualization=visualization;this._asset=null;this._scale=0;this._number=number;this._numberValueFadeDirection=0;this._numberValueMoving=false;this._numberValueMoveCounter=0;}dispose(){this._visualization=null;this._asset=null;}update(sprite,scale){if(!sprite)return;this._scale=scale;let additionScale=64;let offsetX=0;let offsetY=0;if(this._number>0){if(scale<48){this._asset=this._visualization.getAvatarRenderAsset('avatar_addition_number_'+this._number+'_small');additionScale=32;offsetX=-6;offsetY=-52;}else{this._asset=this._visualization.getAvatarRenderAsset('avatar_addition_number_'+this._number);offsetX=-8;offsetY=-105;}if(this._visualization.posture===AvatarAction.POSTURE_SIT){offsetY+=additionScale/2;}else if(this._visualization.posture===AvatarAction.POSTURE_LAY){offsetY+=scale;}if(this._asset){sprite.visible=true;sprite.texture=this._asset;sprite.offsetX=offsetX;sprite.offsetY=offsetY;sprite.relativeDepth=-0.01;sprite.alpha=0;this._numberValueFadeDirection=1;this._numberValueMoving=true;this._numberValueMoveCounter=0;}else{sprite.visible=false;}}else{if(sprite.visible)this._numberValueFadeDirection=-1;}}animate(sprite){if(!sprite)return false;if(this._asset){sprite.texture=this._asset;}let alpha=sprite.alpha;let didAnimate=false;if(this._numberValueMoving){this._numberValueMoveCounter++;if(this._numberValueMoveCounter<10)return false;if(this._numberValueFadeDirection<0){if(this._scale<48){sprite.offsetY-=2;}else{sprite.offsetY-=4;}}else{let count=4;if(this._scale<48)count=8;if(!(this._numberValueMoveCounter%count)){sprite.offsetY--;didAnimate=true;}}}if(this._numberValueFadeDirection>0){if(alpha<255)alpha+=32;if(alpha>=255){alpha=255;this._numberValueFadeDirection=0;}sprite.alpha=alpha;return true;}if(this._numberValueFadeDirection<0){if(alpha>=0)alpha-=32;if(alpha<=0){this._numberValueFadeDirection=0;this._numberValueMoving=false;alpha=0;sprite.visible=false;}sprite.alpha=alpha;return true;}return didAnimate;}get id(){return this._id;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/TypingBubbleAddition.ts\nclass TypingBubbleAddition_TypingBubbleAddition{constructor(id,visualization){this._id=void 0;this._visualization=void 0;this._asset=void 0;this._relativeDepth=void 0;this._id=id;this._visualization=visualization;this._asset=null;this._relativeDepth=0;}dispose(){this._visualization=null;this._asset=null;}update(sprite,scale){if(!sprite)return;sprite.visible=true;sprite.relativeDepth=this._relativeDepth;sprite.alpha=255;let additionScale=64;let offsetX=0;let offsetY=0;if(scale<48){this._asset=this._visualization.getAvatarRenderAsset('avatar_addition_user_typing_small');offsetX=3;offsetY=-42;additionScale=32;}else{this._asset=this._visualization.getAvatarRenderAsset('avatar_addition_user_typing');offsetX=14;offsetY=-83;}if(this._visualization.posture===AvatarAction.POSTURE_SIT){offsetY+=additionScale/2;}else if(this._visualization.posture===AvatarAction.POSTURE_LAY){offsetY+=scale;}if(this._asset){sprite.texture=this._asset;sprite.offsetX=offsetX;sprite.offsetY=offsetY;sprite.relativeDepth=-0.02+0;}}animate(sprite){if(this._asset&&sprite){sprite.texture=this._asset;}return false;}get id(){return this._id;}get relativeDepth(){return this._relativeDepth;}set relativeDepth(depth){this._relativeDepth=depth;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/AvatarVisualizationData.ts\nclass AvatarVisualizationData_AvatarVisualizationData extends Disposable{constructor(){super();this._avatarRenderer=void 0;}initialize(asset){return true;}onDispose(){this._avatarRenderer=null;}createAvatarImage(figure,size){let gender=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let avatarListener=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let effectListener=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let avatarImage=null;if(size>48)avatarImage=this._avatarRenderer.createAvatarImage(figure,AvatarScaleType.LARGE,gender,avatarListener,effectListener);else avatarImage=this._avatarRenderer.createAvatarImage(figure,AvatarScaleType.SMALL,gender,avatarListener,effectListener);return avatarImage;}getAvatarRendererAsset(name){if(!this._avatarRenderer)return null;return this._avatarRenderer.assets.getTexture(name);}get avatarManager(){return this._avatarRenderer;}set avatarManager(renderer){this._avatarRenderer=renderer;}get layerCount(){return 0;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/AvatarVisualization.ts\nclass AvatarVisualization_AvatarVisualization extends RoomObjectSpriteVisualization_RoomObjectSpriteVisualization{constructor(){super();this._data=void 0;this._avatarImage=void 0;this._cachedAvatars=void 0;this._cachedAvatarEffects=void 0;this._shadow=void 0;this._lastUpdate=void 0;this._disposed=void 0;this._figure=void 0;this._gender=void 0;this._direction=void 0;this._headDirection=void 0;this._posture=void 0;this._postureParameter=void 0;this._canStandUp=void 0;this._postureOffset=void 0;this._verticalOffset=void 0;this._angle=void 0;this._headAngle=void 0;this._talk=void 0;this._expression=void 0;this._sleep=void 0;this._blink=void 0;this._gesture=void 0;this._sign=void 0;this._highlightEnabled=void 0;this._highlight=void 0;this._dance=void 0;this._effect=void 0;this._carryObject=void 0;this._useObject=void 0;this._ownUser=void 0;this._isLaying=void 0;this._layInside=void 0;this._isAnimating=void 0;this._extraSpritesStartIndex=void 0;this._forcedAnimFrames=void 0;this._updatesUntilFrameUpdate=void 0;this._isAvatarReady=void 0;this._needsUpdate=void 0;this._geometryUpdateCounter=void 0;this._additions=void 0;this._data=null;this._avatarImage=null;this._cachedAvatars=new AdvancedMap();this._cachedAvatarEffects=new AdvancedMap();this._shadow=null;this._lastUpdate=-1000;this._disposed=false;this._figure=null;this._gender=null;this._direction=-1;this._headDirection=-1;this._posture='';this._postureParameter='';this._canStandUp=false;this._postureOffset=0;this._verticalOffset=0;this._angle=-1;this._headAngle=-1;this._talk=false;this._expression=0;this._sleep=false;this._blink=false;this._gesture=0;this._sign=-1;this._highlightEnabled=false;this._highlight=false;this._dance=0;this._effect=0;this._carryObject=0;this._useObject=0;this._ownUser=false;this._isLaying=false;this._layInside=false;this._isAnimating=false;this._extraSpritesStartIndex=2;this._forcedAnimFrames=0;this._updatesUntilFrameUpdate=0;this._isAvatarReady=false;this._needsUpdate=false;this._geometryUpdateCounter=-1;this._additions=new Map();}initialize(data){if(!(data instanceof AvatarVisualizationData_AvatarVisualizationData))return false;this._data=data;this.createSprites(AvatarVisualization_AvatarVisualization.INITIAL_RESERVED_SPRITES);super.initialize(data);return true;}dispose(){if(this._disposed)return;super.dispose();if(this._avatarImage)this._avatarImage.dispose();this._shadow=null;this._disposed=true;}update(geometry,time,update,skipUpdate){if(!this.object||!geometry||!this._data)return;if(time<this._lastUpdate+AvatarVisualization_AvatarVisualization.UPDATE_TIME_INCREASER)return;this._lastUpdate+=AvatarVisualization_AvatarVisualization.UPDATE_TIME_INCREASER;if(this._lastUpdate+AvatarVisualization_AvatarVisualization.UPDATE_TIME_INCREASER<time)this._lastUpdate=time-AvatarVisualization_AvatarVisualization.UPDATE_TIME_INCREASER;const model=this.object.model;const scale=geometry.scale;const effect=this._effect;let didScaleUpdate=false;let didEffectUpdate=false;let otherUpdate=false;let objectUpdate=false;const updateModel=this.updateModel(model,scale);if(updateModel||scale!==this._scale||!this._avatarImage){if(scale!==this._scale){didScaleUpdate=true;this.updateScale(scale);}if(effect!==this._effect)didEffectUpdate=true;if(didScaleUpdate||!this._avatarImage||didEffectUpdate){this._avatarImage=this.createAvatarImage(scale,this._effect);if(!this._avatarImage)return;otherUpdate=true;const sprite=this.getSprite(AvatarVisualization_AvatarVisualization.AVATAR_LAYER_ID);if(sprite&&this._avatarImage&&this._avatarImage.isPlaceholder()){sprite.alpha=150;}else if(sprite){sprite.alpha=255;}}if(!this._avatarImage)return;if(didEffectUpdate&&this._avatarImage.animationHasResetOnToggle)this._avatarImage.resetAnimationFrameCounter();this.updateShadow(scale);objectUpdate=this.updateObject(this.object,geometry,update,true);this.processActionsForAvatar(this._avatarImage);if(this._additions){let index=this._extraSpritesStartIndex;for(const addition of this._additions.values()){addition.update(this.getSprite(index++),scale);}}this._scale=scale;}else{objectUpdate=this.updateObject(this.object,geometry,update);}if(this._additions){let index=this._extraSpritesStartIndex;for(const addition of this._additions.values()){if(addition.animate(this.getSprite(index++)))this.updateSpriteCounter++;}}const update1=objectUpdate||updateModel||didScaleUpdate;const update2=(this._isAnimating||this._forcedAnimFrames>0)&&update;if(update1)this._forcedAnimFrames=AvatarVisualization_AvatarVisualization.ANIMATION_FRAME_UPDATE_INTERVAL;if(update1||update2){this.updateSpriteCounter++;this._forcedAnimFrames--;this._updatesUntilFrameUpdate--;if(this._updatesUntilFrameUpdate<=0||didScaleUpdate||updateModel||otherUpdate){this._avatarImage.updateAnimationByFrames(1);this._updatesUntilFrameUpdate=AvatarVisualization_AvatarVisualization.ANIMATION_FRAME_UPDATE_INTERVAL;}else{return;}let _local_20=this._avatarImage.getCanvasOffsets();if(!_local_20||_local_20.length<3)_local_20=AvatarVisualization_AvatarVisualization.DEFAULT_CANVAS_OFFSETS;const sprite=this.getSprite(AvatarVisualization_AvatarVisualization.SPRITE_INDEX_AVATAR);if(sprite){const highlightEnabled=this.object.model.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT_ENABLE)===1&&this.object.model.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT)===1;const avatarImage=this._avatarImage.getImage(AvatarSetType.FULL,highlightEnabled);if(avatarImage){sprite.texture=avatarImage;if(highlightEnabled){// sprite.filters  = [\n//     new GlowFilter({\n//         color: 0xFFFFFF,\n//         distance: 6\n//     })\n// ];\n}else{sprite.filters=[];}}if(sprite.texture){sprite.offsetX=-1*scale/2+_local_20[0]-(sprite.texture.width-scale)/2;sprite.offsetY=-sprite.texture.height+scale/4+_local_20[1]+this._postureOffset;}if(this._isLaying){if(this._layInside)sprite.relativeDepth=-0.5;else sprite.relativeDepth=AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_LAYING_DEPTH+_local_20[2];}else{sprite.relativeDepth=AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_DEFAULT_DEPTH+_local_20[2];}if(this._ownUser){sprite.relativeDepth-=AvatarVisualization_AvatarVisualization.AVATAR_OWN_DEPTH_ADJUST;sprite.spriteType=RoomObjectSpriteType.AVATAR_OWN;}else{sprite.spriteType=RoomObjectSpriteType.AVATAR;}}const typingBubble=this.getAddition(AvatarVisualization_AvatarVisualization.TYPING_BUBBLE_ID);if(typingBubble){if(!this._isLaying)typingBubble.relativeDepth=AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_DEFAULT_DEPTH-0.01+_local_20[2];else typingBubble.relativeDepth=AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_LAYING_DEPTH-0.01+_local_20[2];}this._isAnimating=this._avatarImage.isAnimating();let _local_21=AvatarVisualization_AvatarVisualization.INITIAL_RESERVED_SPRITES;const direction=this._avatarImage.getDirection();for(const spriteData of this._avatarImage.getSprites()){if(spriteData.id===AvatarVisualization_AvatarVisualization.AVATAR){const sprite=this.getSprite(AvatarVisualization_AvatarVisualization.SPRITE_INDEX_AVATAR);if(sprite){const layerData=this._avatarImage.getLayerData(spriteData);let offsetX=spriteData.getDirectionOffsetX(direction);let offsetY=spriteData.getDirectionOffsetY(direction);if(layerData){offsetX+=layerData.dx;offsetY+=layerData.dy;}if(scale<48){offsetX/=2;offsetY/=2;}if(!this._canStandUp){sprite.offsetX+=offsetX;sprite.offsetY+=offsetY;}}}else{const sprite=this.getSprite(_local_21);if(sprite){sprite.alphaTolerance=AlphaTolerance.MATCH_NOTHING;sprite.visible=true;const layerData=this._avatarImage.getLayerData(spriteData);let frameNumber=0;let offsetX=spriteData.getDirectionOffsetX(direction);let offsetY=spriteData.getDirectionOffsetY(direction);const offsetZ=spriteData.getDirectionOffsetZ(direction);let dd=0;if(spriteData.hasDirections)dd=direction;if(layerData){frameNumber=layerData.animationFrame;offsetX+=layerData.dx;offsetY+=layerData.dy;dd+=layerData.dd;}if(scale<48){offsetX/=2;offsetY/=2;}if(dd<0)dd+=8;else{if(dd>7)dd-=8;}const assetName=this._avatarImage.getScale()+'_'+spriteData.member+'_'+dd+'_'+frameNumber;const asset=this._avatarImage.getAsset(assetName);if(!asset)continue;sprite.texture=asset.texture;sprite.offsetX=asset.offsetX-scale/2+offsetX;sprite.offsetY=asset.offsetY+offsetY;sprite.flipH=asset.flipH;if(spriteData.hasStaticY){sprite.offsetY+=this._verticalOffset*scale/(2*AvatarVisualization_AvatarVisualization.BASE_Y_SCALE);}else{sprite.offsetY+=this._postureOffset;}if(this._isLaying){sprite.relativeDepth=AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_LAYING_DEPTH-0.001*this.totalSprites*offsetZ;}else{sprite.relativeDepth=AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_DEFAULT_DEPTH-0.001*this.totalSprites*offsetZ;}if(spriteData.ink===33)sprite.blendMode=constants[\"b\" /* BLEND_MODES */].ADD;else sprite.blendMode=constants[\"b\" /* BLEND_MODES */].NORMAL;}_local_21++;}}}}createAvatarImage(scale,effectId){let cachedImage=null;let imageName='avatarImage'+scale.toString();if(!effectId){cachedImage=this._cachedAvatars.getValue(imageName);}else{imageName+='-'+effectId;cachedImage=this._cachedAvatarEffects.getValue(imageName);}if(!cachedImage){cachedImage=this._data.createAvatarImage(this._figure,scale,this._gender,this,this);if(cachedImage){if(!effectId){this._cachedAvatars.add(imageName,cachedImage);}else{if(this._cachedAvatarEffects.length>=AvatarVisualization_AvatarVisualization.MAX_EFFECT_CACHE){const cached=this._cachedAvatarEffects.remove(this._cachedAvatarEffects.getKey(0));if(cached)cached.dispose();}this._cachedAvatarEffects.add(imageName,cachedImage);}}}return cachedImage;}updateObject(object,geometry,update){let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!_arg_4&&this.updateObjectCounter===object.updateCounter&&this._geometryUpdateCounter===geometry.updateId)return false;let direction=object.getDirection().x-geometry.direction.x;let headDirection=this._headDirection-geometry.direction.x;if(this._posture==='float')headDirection=direction;direction=(direction%360+360)%360;headDirection=(headDirection%360+360)%360;if(this._posture==='sit'&&this._canStandUp){direction-=direction%90-45;headDirection-=headDirection%90-45;}if(direction!==this._angle||_arg_4){update=true;this._angle=direction;direction=direction-(135-22.5);direction=(direction+360)%360;this._avatarImage.setDirectionAngle(AvatarSetType.FULL,direction);}if(headDirection!==this._headAngle||_arg_4){update=true;this._headAngle=headDirection;if(this._headAngle!==this._angle){headDirection=headDirection-(135-22.5);headDirection=(headDirection+360)%360;this._avatarImage.setDirectionAngle(AvatarSetType.HEAD,headDirection);}}this._geometryUpdateCounter=geometry.updateId;this.updateObjectCounter=this.object.updateCounter;return update;}updateModel(model,scale){if(!model)return false;if(this.updateModelCounter===model.updateCounter)return false;let needsUpdate=false;const talk=model.getValue(RoomObjectVariable.FIGURE_TALK)>0;if(talk!==this._talk){this._talk=talk;needsUpdate=true;}const expression=model.getValue(RoomObjectVariable.FIGURE_EXPRESSION);if(expression!==this._expression){this._expression=expression;needsUpdate=true;}const sleep=model.getValue(RoomObjectVariable.FIGURE_SLEEP)>0;if(sleep!==this._sleep){this._sleep=sleep;needsUpdate=true;}const blink=model.getValue(RoomObjectVariable.FIGURE_BLINK)>0;if(blink!==this._blink){this._blink=blink;needsUpdate=true;}const gesture=model.getValue(RoomObjectVariable.FIGURE_GESTURE)||0;if(gesture!==this._gesture){this._gesture=gesture;needsUpdate=true;}const posture=model.getValue(RoomObjectVariable.FIGURE_POSTURE);if(posture!==this._posture){this._posture=posture;needsUpdate=true;}const postureParameter=model.getValue(RoomObjectVariable.FIGURE_POSTURE_PARAMETER);if(postureParameter!==this._postureParameter){this._postureParameter=postureParameter;needsUpdate=true;}const canStandUp=model.getValue(RoomObjectVariable.FIGURE_CAN_STAND_UP);if(canStandUp!==this._canStandUp){this._canStandUp=canStandUp;needsUpdate=true;}const verticalOffset=model.getValue(RoomObjectVariable.FIGURE_VERTICAL_OFFSET)*AvatarVisualization_AvatarVisualization.BASE_Y_SCALE;if(verticalOffset!==this._verticalOffset){this._verticalOffset=verticalOffset;needsUpdate=true;}const dance=model.getValue(RoomObjectVariable.FIGURE_DANCE)||0;if(dance!==this._dance){this._dance=dance;needsUpdate=true;}const effect=model.getValue(RoomObjectVariable.FIGURE_EFFECT)||0;if(effect!==this._effect){this._effect=effect;needsUpdate=true;}const carryObject=model.getValue(RoomObjectVariable.FIGURE_CARRY_OBJECT)||0;if(carryObject!==this._carryObject){this._carryObject=carryObject;needsUpdate=true;}const useObject=model.getValue(RoomObjectVariable.FIGURE_USE_OBJECT)||0;if(useObject!==this._useObject){this._useObject=useObject;needsUpdate=true;}const headDirection=model.getValue(RoomObjectVariable.HEAD_DIRECTION);if(headDirection!==this._headDirection){this._headDirection=headDirection;needsUpdate=true;}if(this._carryObject>0&&useObject>0){if(this._useObject!==this._carryObject){this._useObject=this._carryObject;needsUpdate=true;}}else{if(this._useObject!==0){this._useObject=0;needsUpdate=true;}}let idleAddition=this.getAddition(AvatarVisualization_AvatarVisualization.FLOATING_IDLE_Z_ID);if(this._sleep){if(!idleAddition)idleAddition=this.addAddition(new FloatingIdleZAddition_FloatingIdleZAddition(AvatarVisualization_AvatarVisualization.FLOATING_IDLE_Z_ID,this));needsUpdate=true;}else{if(idleAddition)this.removeAddition(AvatarVisualization_AvatarVisualization.FLOATING_IDLE_Z_ID);}const isMuted=model.getValue(RoomObjectVariable.FIGURE_IS_MUTED)>0;let mutedAddition=this.getAddition(AvatarVisualization_AvatarVisualization.MUTED_BUBBLE_ID);if(isMuted){if(!mutedAddition)mutedAddition=this.addAddition(new MutedBubbleAddition_MutedBubbleAddition(AvatarVisualization_AvatarVisualization.MUTED_BUBBLE_ID,this));needsUpdate=true;}else{if(mutedAddition){this.removeAddition(AvatarVisualization_AvatarVisualization.MUTED_BUBBLE_ID);needsUpdate=true;}const isTyping=model.getValue(RoomObjectVariable.FIGURE_IS_TYPING)>0;let typingAddition=this.getAddition(AvatarVisualization_AvatarVisualization.TYPING_BUBBLE_ID);if(isTyping){if(!typingAddition)typingAddition=this.addAddition(new TypingBubbleAddition_TypingBubbleAddition(AvatarVisualization_AvatarVisualization.TYPING_BUBBLE_ID,this));needsUpdate=true;}else{if(typingAddition){this.removeAddition(AvatarVisualization_AvatarVisualization.TYPING_BUBBLE_ID);needsUpdate=true;}}}const guideStatusValue=model.getValue(RoomObjectVariable.FIGURE_GUIDE_STATUS)||0;if(guideStatusValue!==AvatarGuideStatus.NONE){this.removeAddition(AvatarVisualization_AvatarVisualization.GUIDE_BUBBLE_ID);this.addAddition(new GuideStatusBubbleAddition_GuideStatusBubbleAddition(AvatarVisualization_AvatarVisualization.GUIDE_BUBBLE_ID,this,guideStatusValue));needsUpdate=true;}else{if(this.getAddition(AvatarVisualization_AvatarVisualization.GUIDE_BUBBLE_ID)){this.removeAddition(AvatarVisualization_AvatarVisualization.GUIDE_BUBBLE_ID);needsUpdate=true;}}const isPlayingGame=model.getValue(RoomObjectVariable.FIGURE_IS_PLAYING_GAME)>0;let gameClickAddition=this.getAddition(AvatarVisualization_AvatarVisualization.GAME_CLICK_TARGET_ID);if(isPlayingGame){if(!gameClickAddition)gameClickAddition=this.addAddition(new GameClickTargetAddition_GameClickTargetAddition(AvatarVisualization_AvatarVisualization.GAME_CLICK_TARGET_ID));needsUpdate=true;}else{if(gameClickAddition)this.removeAddition(AvatarVisualization_AvatarVisualization.GAME_CLICK_TARGET_ID);}const numberValue=model.getValue(RoomObjectVariable.FIGURE_NUMBER_VALUE);let numberAddition=this.getAddition(AvatarVisualization_AvatarVisualization.NUMBER_BUBBLE_ID);if(numberValue>0){if(!numberAddition)numberAddition=this.addAddition(new NumberBubbleAddition_NumberBubbleAddition(AvatarVisualization_AvatarVisualization.NUMBER_BUBBLE_ID,numberValue,this));needsUpdate=true;}else{if(numberAddition)this.removeAddition(AvatarVisualization_AvatarVisualization.NUMBER_BUBBLE_ID);}let expressionAddition=this.getAddition(AvatarVisualization_AvatarVisualization.EXPRESSION_ID);if(this._expression>0){if(!expressionAddition){expressionAddition=ExpressionAdditionFactory_ExpressionAdditionFactory.getExpressionAddition(AvatarVisualization_AvatarVisualization.EXPRESSION_ID,this._expression,this);if(expressionAddition)this.addAddition(expressionAddition);}}else{if(expressionAddition)this.removeAddition(AvatarVisualization_AvatarVisualization.EXPRESSION_ID);}this.updateScale(scale);const gender=model.getValue(RoomObjectVariable.GENDER);if(gender!==this._gender){this._gender=gender;needsUpdate=true;}if(this.updateFigure(model.getValue(RoomObjectVariable.FIGURE)))needsUpdate=true;let sign=model.getValue(RoomObjectVariable.FIGURE_SIGN);if(sign===null)sign=-1;if(this._sign!==sign){this._sign=sign;needsUpdate=true;}const highlightEnabled=model.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT_ENABLE)>0;if(highlightEnabled!==this._highlightEnabled){this._highlightEnabled=highlightEnabled;needsUpdate=true;}if(this._highlightEnabled){const highlight=model.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT)>0;if(highlight!==this._highlight){this._highlight=highlight;needsUpdate=true;}}const ownUser=model.getValue(RoomObjectVariable.OWN_USER)>0;if(ownUser!==this._ownUser){this._ownUser=ownUser;needsUpdate=true;}this.updateModelCounter=model.updateCounter;return needsUpdate;}setDirection(direction){if(this._direction===direction)return;this._direction=direction;this._needsUpdate=true;}updateScale(scale){if(scale<48)this._blink=false;if(this._posture==='sit'||this._posture==='lay'){this._postureOffset=scale/2;}else{this._postureOffset=0;}this._layInside=false;this._isLaying=false;if(this._posture==='lay'){this._isLaying=true;const _local_2=parseInt(this._postureParameter);if(_local_2<0)this._layInside=true;}}processActionsForAvatar(avatar){if(!avatar)return;avatar.initActionAppends();avatar.appendAction(AvatarAction.POSTURE,this._posture,this._postureParameter);if(this._gesture>0)this._avatarImage.appendAction(AvatarAction.GESTURE,AvatarAction.getGesture(this._gesture));if(this._dance>0)this._avatarImage.appendAction(AvatarAction.DANCE,this._dance);if(this._sign>-1)this._avatarImage.appendAction(AvatarAction.SIGN,this._sign);if(this._carryObject>0)this._avatarImage.appendAction(AvatarAction.CARRY_OBJECT,this._carryObject);if(this._useObject>0)this._avatarImage.appendAction(AvatarAction.USE_OBJECT,this._useObject);if(this._talk)this._avatarImage.appendAction(AvatarAction.TALK);if(this._sleep||this._blink)this._avatarImage.appendAction(AvatarAction.SLEEP);if(this._expression>0){const expression=AvatarAction.getExpression(this._expression);if(expression!==''){switch(expression){case AvatarAction.DANCE:this._avatarImage.appendAction(AvatarAction.DANCE,2);break;default:this._avatarImage.appendAction(expression);break;}}}if(this._effect>0)this._avatarImage.appendAction(AvatarAction.EFFECT,this._effect);avatar.endActionAppends();this._isAnimating=avatar.isAnimating();let spriteCount=AvatarVisualization_AvatarVisualization.INITIAL_RESERVED_SPRITES;for(const sprite of this._avatarImage.getSprites()){if(sprite.id!==AvatarVisualization_AvatarVisualization.AVATAR)spriteCount++;}if(spriteCount!==this.totalSprites)this.createSprites(spriteCount);this._extraSpritesStartIndex=spriteCount;if(this._additions){for(const addition of this._additions.values())this.createSprite();}}updateFigure(figure){if(this._figure===figure)return false;this._figure=figure;this.clearAvatar();return true;}resetFigure(figure){this.clearAvatar();}resetEffect(effect){this.clearAvatar();}clearAvatar(){for(const avatar of this._cachedAvatars.getValues())avatar&&avatar.dispose();for(const avatar of this._cachedAvatarEffects.getValues())avatar&&avatar.dispose();this._cachedAvatars.reset();this._cachedAvatarEffects.reset();this._avatarImage=null;const sprite=this.getSprite(AvatarVisualization_AvatarVisualization.AVATAR_LAYER_ID);if(sprite){sprite.texture=esm_core[\"t\" /* Texture */].EMPTY;sprite.alpha=255;}}getAddition(id){if(!this._additions)return null;const existing=this._additions.get(id);if(!existing)return null;return existing;}addAddition(addition){const existing=this.getAddition(addition.id);if(existing)return;this._additions.set(addition.id,addition);return addition;}removeAddition(id){const addition=this.getAddition(id);if(!addition)return;this._additions.delete(addition.id);addition.dispose();}updateShadow(scale){this._shadow=null;const sprite=this.getSprite(AvatarVisualization_AvatarVisualization.SHADOW_LAYER_ID);if(!sprite)return;let hasShadow=this._posture==='mv'||this._posture==='std'||this._posture==='sit'&&this._canStandUp;if(this._effect===AvatarVisualization_AvatarVisualization.SNOWBOARDING_EFFECT)hasShadow=false;if(hasShadow){sprite.visible=true;if(!this._shadow||scale!==this._scale){let offsetX=0;let offsetY=0;if(scale<48){sprite.libraryAssetName='sh_std_sd_1_0_0';this._shadow=this._avatarImage.getAsset(sprite.libraryAssetName);offsetX=-8;offsetY=this._canStandUp?6:-3;}else{sprite.libraryAssetName='h_std_sd_1_0_0';this._shadow=this._avatarImage.getAsset(sprite.libraryAssetName);offsetX=-17;offsetY=this._canStandUp?10:-7;}if(this._shadow){sprite.texture=this._shadow.texture;sprite.offsetX=offsetX;sprite.offsetY=offsetY;sprite.alpha=50;sprite.relativeDepth=1;}else{sprite.visible=false;}}}else{this._shadow=null;sprite.visible=false;}}getAvatarRenderAsset(name){return this._data?this._data.getAvatarRendererAsset(name):null;}get direction(){return this._direction;}get posture(){return this._posture;}get angle(){return this._angle;}get disposed(){return this._disposed;}}AvatarVisualization_AvatarVisualization.AVATAR='avatar';AvatarVisualization_AvatarVisualization.FLOATING_IDLE_Z_ID=1;AvatarVisualization_AvatarVisualization.TYPING_BUBBLE_ID=2;AvatarVisualization_AvatarVisualization.EXPRESSION_ID=3;AvatarVisualization_AvatarVisualization.NUMBER_BUBBLE_ID=4;AvatarVisualization_AvatarVisualization.GAME_CLICK_TARGET_ID=5;AvatarVisualization_AvatarVisualization.MUTED_BUBBLE_ID=6;AvatarVisualization_AvatarVisualization.GUIDE_BUBBLE_ID=7;AvatarVisualization_AvatarVisualization.OWN_USER_ID=4;AvatarVisualization_AvatarVisualization.UPDATE_TIME_INCREASER=41;AvatarVisualization_AvatarVisualization.AVATAR_LAYER_ID=0;AvatarVisualization_AvatarVisualization.SHADOW_LAYER_ID=1;AvatarVisualization_AvatarVisualization.SNOWBOARDING_EFFECT=97;AvatarVisualization_AvatarVisualization.INITIAL_RESERVED_SPRITES=2;AvatarVisualization_AvatarVisualization.ANIMATION_FRAME_UPDATE_INTERVAL=2;AvatarVisualization_AvatarVisualization.DEFAULT_CANVAS_OFFSETS=[0,0,0];AvatarVisualization_AvatarVisualization.MAX_EFFECT_CACHE=2;AvatarVisualization_AvatarVisualization.SPRITE_INDEX_AVATAR=0;AvatarVisualization_AvatarVisualization.BASE_Y_SCALE=1000;AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_DEFAULT_DEPTH=-0.01;AvatarVisualization_AvatarVisualization.AVATAR_OWN_DEPTH_ADJUST=0.001;AvatarVisualization_AvatarVisualization.AVATAR_SPRITE_LAYING_DEPTH=-0.409;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationFrame.ts\nclass AnimationFrame{constructor(){this._id=void 0;this._x=void 0;this._y=void 0;this._repeats=void 0;this._frameRepeats=void 0;this._remainingFrameRepeats=void 0;this._activeSequence=void 0;this._activeSequenceOffset=void 0;this._isLastFrame=void 0;this._isRecycled=void 0;}static allocate(id,x,y,repeats,frameRepeats,isLastFrame){let activeSequence=arguments.length>6&&arguments[6]!==undefined?arguments[6]:-1;let sequenceOffset=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;const frame=AnimationFrame.POOL.length?AnimationFrame.POOL.pop():new AnimationFrame();if(repeats<1)repeats=1;if(frameRepeats<0)frameRepeats=AnimationFrame.FRAME_REPEAT_FOREVER;frame._id=id;frame._x=x||0;frame._y=y||0;frame._repeats=repeats;frame._frameRepeats=frameRepeats;frame._remainingFrameRepeats=frameRepeats;frame._isLastFrame=isLastFrame;frame._isRecycled=false;if(activeSequence>=0){frame._activeSequence=activeSequence;frame._activeSequenceOffset=sequenceOffset;}else{frame._activeSequence=-1;frame._activeSequenceOffset=0;}return frame;}get id(){if(this._id>=0)return this._id;return-this._id*Math.random();}get x(){return this._x;}get y(){return this._y;}get repeats(){return this._repeats;}get frameRepeats(){return this._frameRepeats;}get isLastFrame(){return this._isLastFrame;}get remainingFrameRepeats(){if(this._frameRepeats<0)return AnimationFrame.FRAME_REPEAT_FOREVER;return this._remainingFrameRepeats;}set remainingFrameRepeats(k){if(k<0)k=0;if(this._frameRepeats>0&&k>this._frameRepeats)k=this._frameRepeats;this._remainingFrameRepeats=k;}get activeSequence(){return this._activeSequence;}get activeSequenceOffset(){return this._activeSequenceOffset;}recycle(){if(this._isRecycled)return;this._isRecycled=true;if(AnimationFrame.POOL.length<AnimationFrame.POOL_SIZE_LIMIT)AnimationFrame.POOL.push(this);}}AnimationFrame.FRAME_REPEAT_FOREVER=-1;AnimationFrame.SEQUENCE_NOT_DEFINED=-1;AnimationFrame.POOL_SIZE_LIMIT=3000;AnimationFrame.POOL=[];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationFrameData.ts\nclass AnimationFrameData{constructor(id,x,y,randomX,randomY,repeats){this._id=0;this._x=0;this._y=0;this._randomX=0;this._randomY=0;this._repeats=1;this._id=id;this._x=x;this._y=y;this._randomX=randomX;this._randomY=randomY;this._repeats=repeats;}get id(){return this._id;}hasDirectionalOffsets(){return false;}getX(k){return this._x;}getY(k){return this._y;}get x(){return this._x;}get y(){return this._x;}get randomX(){return this._randomX;}get randomY(){return this._randomY;}get repeats(){return this._repeats;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationFrameDirectionalData.ts\nclass AnimationFrameDirectionalData_AnimationFrameDirectionalData extends AnimationFrameData{constructor(id,x,y,randomX,randomY,offsets,repeats){super(id,x,y,randomX,randomY,repeats);this._directionalOffsets=void 0;this._directionalOffsets=offsets;}hasDirectionalOffsets(){return this._directionalOffsets!==null;}getX(direction){if(!this._directionalOffsets)return super.getX(direction);return this._directionalOffsets.getXOffset(direction,super.getX(direction));}getY(direction){if(!this._directionalOffsets)return super.getY(direction);return this._directionalOffsets.getYOffset(direction,super.getY(direction));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationFrameSequenceData.ts\nclass AnimationFrameSequenceData_AnimationFrameSequenceData{constructor(loopCount,isRandom){this._frames=void 0;this._frameIndexes=void 0;this._frameRepeats=void 0;this._isRandom=void 0;this._loopCount=void 0;this._frames=[];this._frameIndexes=[];this._frameRepeats=[];this._isRandom=isRandom;this._loopCount=loopCount<1?1:loopCount;}get isRandom(){return this._isRandom;}get frameCount(){return this._frameIndexes.length*this._loopCount;}dispose(){this._frames=[];}initialize(){let frameIndex=this._frameIndexes.length-1;let realIndex=-1;let nextIndex=1;while(frameIndex>=0){if(this._frameIndexes[frameIndex]===realIndex){nextIndex++;}else{realIndex=this._frameIndexes[frameIndex];nextIndex=1;}this._frameRepeats[frameIndex]=nextIndex;frameIndex--;}}addFrame(id,x,y,randomX,randomY,directionalOffset){let repeats=1;if(this._frames.length>0){const frame=this._frames[this._frames.length-1];if(frame.id===id&&!frame.hasDirectionalOffsets()&&frame.x===x&&frame.y===y&&frame.randomX===randomX&&randomX===0&&frame.randomY===randomY&&randomY===0){repeats+=frame.repeats;this._frames.pop();}}const frame=directionalOffset?new AnimationFrameDirectionalData_AnimationFrameDirectionalData(id,x,y,randomX,randomY,directionalOffset,repeats):new AnimationFrameData(id,x,y,randomX,randomY,repeats);this._frames.push(frame);this._frameIndexes.push(this._frames.length-1);this._frameRepeats.push(1);}getFrame(frameCount){if(!this._frames.length||frameCount<0||frameCount>=this.frameCount)return null;return this._frames[this._frameIndexes[frameCount%this._frameIndexes.length]];}getFrameIndex(frameCount){if(frameCount<0||frameCount>=this.frameCount)return-1;if(this._isRandom){frameCount=Math.round(Math.random()*this._frameIndexes.length);if(frameCount===this._frameIndexes.length)frameCount--;}return frameCount;}getRepeats(frameCount){if(frameCount<0||frameCount>=this.frameCount)return 0;return this._frameRepeats[frameCount%this._frameRepeats.length];}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationLayerData.ts\nclass AnimationLayerData_AnimationLayerData{constructor(loopCount,frameRepeat,isRandom){this._frameSequences=void 0;this._frameCount=void 0;this._loopCount=void 0;this._frameRepeat=void 0;this._isRandom=void 0;this._frameSequences=[];this._frameCount=-1;this._loopCount=loopCount<0?0:loopCount;this._frameRepeat=frameRepeat<1?1:frameRepeat;this._isRandom=isRandom;}get frameCount(){if(this._frameCount<0)this.calculateLength();return this._frameCount;}dispose(){if(!this._frameSequences||!this._frameSequences.length)return;for(const sequence of this._frameSequences){if(!sequence)continue;sequence.dispose();}this._frameSequences=[];}addFrameSequence(loopCount,isRandom){const sequence=new AnimationFrameSequenceData_AnimationFrameSequenceData(loopCount,isRandom);this._frameSequences.push(sequence);return sequence;}calculateLength(){this._frameCount=0;for(const sequence of this._frameSequences){if(!sequence)continue;this._frameCount+=sequence.frameCount;}}getFrame(direction,frameCount){if(this._frameCount<1)return null;frameCount=frameCount/this._frameRepeat;if(!this._isRandom){const count=Math.floor(frameCount/this._frameCount);frameCount=Math.floor(frameCount%this._frameCount);let doesRepeat=false;let sequence=null;if(this._loopCount>0&&count>=this._loopCount||this._loopCount<=0&&this._frameCount===1){frameCount=this._frameCount-1;doesRepeat=true;}let sequenceFrameCount=0;let sequenceId=0;while(sequenceId<this._frameSequences.length){sequence=this._frameSequences[sequenceId];if(sequence){if(frameCount<sequenceFrameCount+sequence.frameCount)break;sequenceFrameCount+=sequence.frameCount;}sequenceId++;}return this.getFrameFromSpecificSequence(direction,sequence,sequenceId,frameCount-sequenceFrameCount,doesRepeat);}const sequenceId=Math.trunc(this._frameSequences.length*Math.random());const sequence=this._frameSequences[sequenceId];if(sequence.frameCount<1)return null;return this.getFrameFromSpecificSequence(direction,sequence,sequenceId,0,false);}getFrameFromSequence(direction,sequenceId,offset,frameCount){if(sequenceId<0||sequenceId>=this._frameSequences.length)return null;const sequence=this._frameSequences[sequenceId];if(!sequence)return null;if(offset>=sequence.frameCount)return this.getFrame(direction,frameCount);return this.getFrameFromSpecificSequence(direction,sequence,sequenceId,offset,false);}getFrameFromSpecificSequence(direction,sequence,sequenceId,offset,doesRepeat){if(!sequence)return null;const frameIndex=sequence.getFrameIndex(offset);const frame=sequence.getFrame(frameIndex);if(!frame)return null;let x=frame.getX(direction);let y=frame.getY(direction);const randomX=frame.randomX;const randomY=frame.randomY;let repeats=frame.repeats;let isLastFrame=false;if(randomX)x=Math.trunc(x+randomX*Math.random());if(randomY)y=Math.trunc(y+randomY*Math.random());if(repeats>1)repeats=sequence.getRepeats(frameIndex);let frameRepeats=this._frameRepeat*repeats;if(doesRepeat)frameRepeats=AnimationFrame.FRAME_REPEAT_FOREVER;if(!this._isRandom&&!sequence.isRandom){if(sequenceId===this._frameSequences.length-1&&offset===sequence.frameCount-1)isLastFrame=true;}return AnimationFrame.allocate(frame.id,x,y,repeats,frameRepeats,isLastFrame,sequenceId,offset);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/DirectionalOffsetData.ts\nclass DirectionalOffsetData{constructor(){this._offsetX=void 0;this._offsetY=void 0;this._offsetX=new Map();this._offsetY=new Map();}getXOffset(direction,defaultX){const existing=this._offsetX.get(direction);if(existing===undefined||existing===null)return defaultX;return existing;}getYOffset(direction,defaultY){const existing=this._offsetY.get(direction);if(existing===undefined||existing===null)return defaultY;return existing;}setDirection(direction,offsetX,offsetY){this._offsetX.set(direction,offsetX);this._offsetY.set(direction,offsetY);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationData.ts\nclass AnimationData_AnimationData{constructor(){this._layers=void 0;this._frameCount=void 0;this._randomStart=void 0;this._immediateChanges=void 0;this._layers=new Map();this._frameCount=-1;this._randomStart=false;this._immediateChanges=null;}static getTransitionToAnimationId(animationId){return AnimationData_AnimationData.TRANSITION_TO_ANIMATION_OFFSET+animationId;}static getTransitionFromAnimationId(animationId){return AnimationData_AnimationData.TRANSITION_FROM_ANIMATION_OFFSET+animationId;}static isTransitionToAnimation(animationId){return animationId>=AnimationData_AnimationData.TRANSITION_TO_ANIMATION_OFFSET&&animationId<AnimationData_AnimationData.TRANSITION_FROM_ANIMATION_OFFSET;}static isTransitionFromAnimation(animationId){return animationId>=AnimationData_AnimationData.TRANSITION_FROM_ANIMATION_OFFSET;}dispose(){for(const layer of this._layers.values()){if(!layer)continue;layer.dispose();}this._layers.clear();this._immediateChanges=null;}setImmediateChanges(k){this._immediateChanges=k;}isImmediateChange(k){if(!this._immediateChanges||this._immediateChanges.indexOf(k)===-1)return false;return true;}getStartFrame(direction){if(!this._randomStart)return 0;return Math.random()*this._frameCount;}initialize(k){if(k.randomStart)this._randomStart=true;if(k.layers){for(const key in k.layers){const layer=k.layers[key];if(!layer)return false;const animationId=parseInt(key);const loopCount=layer.loopCount!==undefined?layer.loopCount:1;const frameRepeat=layer.frameRepeat!==undefined?layer.frameRepeat:1;const isRandom=layer.random!==undefined&&layer.random!==0?true:false;if(!this.addLayer(animationId,loopCount,frameRepeat,isRandom,layer))return false;}}return true;}addLayer(animationId,loopCount,frameRepeat,isRandom,layer){const layerData=new AnimationLayerData_AnimationLayerData(loopCount,frameRepeat,isRandom);if(layer.frameSequences){for(const key in layer.frameSequences){const animationSequence=layer.frameSequences[key];if(!animationSequence)continue;const loopCount=animationSequence.loopCount!==undefined?animationSequence.loopCount:1;const isSequenceRandom=animationSequence.random!==undefined&&animationSequence.random!==0?true:false;const frame=layerData.addFrameSequence(loopCount,isSequenceRandom);if(animationSequence.frames){for(const key in animationSequence.frames){const animationFrame=animationSequence.frames[key];if(!animationFrame){layerData.dispose();return false;}frame.addFrame(animationFrame.id,animationFrame.x||0,animationFrame.y||0,animationFrame.randomX||0,animationFrame.randomY||0,this.readDirectionalOffsets(animationFrame));}}frame.initialize();}}layerData.calculateLength();this._layers.set(animationId,layerData);const frameCount=layerData.frameCount;if(frameCount>this._frameCount)this._frameCount=frameCount;return true;}readDirectionalOffsets(frame){let directionalOffset=null;if(frame&&frame.offsets){for(const directionId in frame.offsets){const offset=frame.offsets[directionId];if(!offset)continue;if(!directionalOffset)directionalOffset=new DirectionalOffsetData();directionalOffset.setDirection(offset.direction,offset.x,offset.y);}}return directionalOffset;}getFrame(direction,layerId,frameCount){const layer=this._layers.get(layerId);if(!layer)return null;return layer.getFrame(direction,frameCount);}getFrameFromSequence(direction,layerId,sequenceId,offset,frameCount){const layer=this._layers.get(layerId);if(!layer)return null;return layer.getFrameFromSequence(direction,sequenceId,offset,frameCount);}}AnimationData_AnimationData.TRANSITION_TO_ANIMATION_OFFSET=1000000;AnimationData_AnimationData.TRANSITION_FROM_ANIMATION_OFFSET=2000000;AnimationData_AnimationData.DEFAULT_FRAME_NUMBER=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationStateData.ts\nclass AnimationStateData_AnimationStateData{constructor(){this._animationId=void 0;this._animationAfterTransitionId=void 0;this._animationOver=void 0;this._frameCounter=void 0;this._frames=void 0;this._lastFramePlayed=void 0;this._animationPlayed=void 0;this._layerCount=void 0;this._animationId=-1;this._animationAfterTransitionId=0;this._animationOver=false;this._frameCounter=0;this._frames=[];this._lastFramePlayed=[];this._animationPlayed=[];this._layerCount=0;}get animationOver(){return this._animationOver;}set animationOver(k){this._animationOver=k;}get frameCounter(){return this._frameCounter;}set frameCounter(k){this._frameCounter=k;}get animationId(){return this._animationId;}set animationId(animationId){if(animationId===this._animationId)return;this._animationId=animationId;this.resetAnimationFrames(false);}get animationAfterTransitionId(){return this._animationAfterTransitionId;}set animationAfterTransitionId(k){this._animationAfterTransitionId=k;}dispose(){this.recycleFrames();this._frames=null;this._lastFramePlayed=null;this._animationPlayed=null;}setLayerCount(k){this._layerCount=k;this.resetAnimationFrames();}resetAnimationFrames(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(k||!this._frames){this.recycleFrames();this._frames=[];}this._lastFramePlayed=[];this._animationPlayed=[];this._animationOver=false;this._frameCounter=0;let layerId=0;while(layerId<this._layerCount){if(k||this._frames.length<=layerId){this._frames[layerId]=null;}else{const frame=this._frames[layerId];if(frame){frame.recycle();this._frames[layerId]=AnimationFrame.allocate(frame.id,frame.x,frame.y,frame.repeats,0,frame.isLastFrame);}}this._lastFramePlayed[layerId]=false;this._animationPlayed[layerId]=false;layerId++;}}recycleFrames(){if(!this._frames||!this._frames.length)return;for(const frame of this._frames){if(!frame)continue;frame.recycle();}}getFrame(layerId){if(layerId<0||layerId>=this._layerCount)return null;return this._frames[layerId];}setFrame(layerId,frame){if(layerId<0||layerId>=this._layerCount)return;const existingFrame=this._frames[layerId];if(existingFrame)existingFrame.recycle();this._frames[layerId]=frame;}getAnimationPlayed(layerId){if(layerId<0||layerId>=this._layerCount)return true;return this._animationPlayed[layerId];}setAnimationPlayed(layerId,flag){if(layerId<0||layerId>=this._layerCount)return;this._animationPlayed[layerId]=flag;}getLastFramePlayed(layerId){if(layerId<0||layerId>=this._layerCount)return true;return this._lastFramePlayed[layerId];}setLastFramePlayed(layerId,flag){if(layerId<0||layerId>=this._layerCount)return;this._lastFramePlayed[layerId]=flag;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/ColorData.ts\nclass ColorData{constructor(layerCount){this._colors=void 0;this._colors=[];this.createColors(layerCount);}createColors(count){if(!count)return;for(let i=0;i<count;i++)this._colors.push(ColorData.DEFAULT_COLOR);}dispose(){this._colors=[];}getLayerColor(layerId){const existing=this._colors[layerId];if(!existing)return ColorData.DEFAULT_COLOR;return existing;}setColorLayer(layerId,color){const existing=this._colors[layerId];if(!existing)return;this._colors[layerId]=color;}}ColorData.DEFAULT_COLOR=0xFFFFFF;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/LayerData.ts\nclass LayerData{constructor(){this._tag=void 0;this._ink=void 0;this._alpha=void 0;this._ignoreMouse=void 0;this._xOffset=void 0;this._yOffset=void 0;this._zOffset=void 0;this._tag=LayerData.DEFAULT_TAG;this._ink=LayerData.DEFAULT_INK;this._alpha=LayerData.DEFAULT_ALPHA;this._ignoreMouse=LayerData.DEFAULT_IGNORE_MOUSE;this._xOffset=LayerData.DEFAULT_XOFFSET;this._yOffset=LayerData.DEFAULT_YOFFSET;this._zOffset=LayerData.DEFAULT_ZOFFSET;}setFromLayer(layer){if(!layer)return;this._tag=layer.tag;this._ink=layer.ink;this._alpha=layer.alpha;this._ignoreMouse=layer.ignoreMouse;this._xOffset=layer.xOffset;this._yOffset=layer.yOffset;this._zOffset=layer.zOffset;}get tag(){return this._tag;}set tag(tag){this._tag=tag;}get ink(){return this._ink;}set ink(ink){this._ink=ink;}get alpha(){return this._alpha;}set alpha(alpha){this._alpha=alpha;}get ignoreMouse(){return this._ignoreMouse;}set ignoreMouse(flag){this._ignoreMouse=flag;}get xOffset(){return this._xOffset;}set xOffset(offset){this._xOffset=offset;}get yOffset(){return this._yOffset;}set yOffset(offset){this._yOffset=offset;}get zOffset(){return this._zOffset;}set zOffset(offset){this._zOffset=offset;}}LayerData.DEFAULT_COUNT=0;LayerData.DEFAULT_DIRECTION=0;LayerData.DEFAULT_TAG='';LayerData.DEFAULT_INK=constants[\"b\" /* BLEND_MODES */].NORMAL;LayerData.DEFAULT_ALPHA=255;LayerData.DEFAULT_IGNORE_MOUSE=false;LayerData.DEFAULT_XOFFSET=0;LayerData.DEFAULT_YOFFSET=0;LayerData.DEFAULT_ZOFFSET=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/DirectionData.ts\nclass DirectionData_DirectionData{constructor(layerCount){this._layers=void 0;this._layers=[];this.createLayers(layerCount);}createLayers(count){if(!count)return;for(let i=0;i<count;i++)this._layers.push(new LayerData());}dispose(){this._layers=[];}setFromDirection(directionData){if(!directionData)return;const totalLayers=this.layerCount;if(totalLayers!==directionData.layerCount)return;for(let i=0;i<totalLayers;i++){const localLayer=this.getLayer(i);const directionLayer=directionData.getLayer(i);if(!localLayer)continue;localLayer.setFromLayer(directionLayer);}}getLayer(layerId){const existing=this._layers[layerId];if(!existing)return null;return existing;}getLayerTag(layerId){const existing=this.getLayer(layerId);if(!existing)return LayerData.DEFAULT_TAG;return existing.tag;}setLayerTag(layerId,tag){const existing=this.getLayer(layerId);if(!existing)return;existing.tag=tag;}getLayerInk(layerId){const existing=this.getLayer(layerId);if(!existing)return LayerData.DEFAULT_INK;return existing.ink;}setLayerInk(layerId,ink){const existing=this.getLayer(layerId);if(!existing)return;if(isNaN(ink))return;existing.ink=ink;}getLayerAlpha(layerId){const existing=this.getLayer(layerId);if(!existing)return LayerData.DEFAULT_ALPHA;return existing.alpha;}setLayerAlpha(layerId,alpha){const existing=this.getLayer(layerId);if(!existing)return;if(isNaN(alpha))return;existing.alpha=alpha;}getLayerIgnoreMouse(layerId){const existing=this.getLayer(layerId);if(!existing)return LayerData.DEFAULT_IGNORE_MOUSE;return existing.ignoreMouse;}setLayerIgnoreMouse(layerId,flag){const existing=this.getLayer(layerId);if(!existing)return;existing.ignoreMouse=flag||false;}getLayerXOffset(layerId){const existing=this.getLayer(layerId);if(!existing)return LayerData.DEFAULT_XOFFSET;return existing.xOffset;}setLayerXOffset(layerId,offset){const existing=this.getLayer(layerId);if(!existing)return;if(isNaN(offset))return;existing.xOffset=offset;}getLayerYOffset(layerId){const existing=this.getLayer(layerId);if(!existing)return LayerData.DEFAULT_YOFFSET;return existing.yOffset;}setLayerYOffset(layerId,offset){const existing=this.getLayer(layerId);if(!existing)return;if(isNaN(offset))return;existing.yOffset=offset;}getLayerZOffset(layerId){const existing=this.getLayer(layerId);if(!existing)return LayerData.DEFAULT_ZOFFSET;return existing.zOffset;}setLayerZOffset(layerId,offset){const existing=this.getLayer(layerId);if(!existing)return;if(isNaN(offset))return;existing.zOffset=offset;}get layerCount(){return this._layers.length;}}DirectionData_DirectionData.USE_DEFAULT_DIRECTION=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/SizeData.ts\nclass SizeData_SizeData{constructor(layerCount,angle){this._layerCount=void 0;this._angle=void 0;this._defaultDirection=void 0;this._directions=void 0;this._colors=void 0;this._lastDirectionData=void 0;this._lastDirection=void 0;this._layerCount=layerCount<0?0:layerCount>SizeData_SizeData.MAX_LAYERS?SizeData_SizeData.MAX_LAYERS:layerCount;this._angle=angle<1?1:angle>360?360:angle;this._defaultDirection=new DirectionData_DirectionData(this._layerCount);this._directions=new Map();this._colors=[];this._lastDirectionData=null;this._lastDirection=-1;}dispose(){if(this._defaultDirection)this._defaultDirection.dispose();for(const direction of this._directions.values()){if(!direction)continue;direction.dispose();}for(const color of this._colors){if(!color)continue;color.dispose();}this.reset();}reset(){this._defaultDirection=null;this._colors=[];this._lastDirectionData=null;this._lastDirection=-1;this._directions.clear();}processLayers(layers){if(!layers)return false;return this.setDirectionLayers(this._defaultDirection,layers);}processDirections(directions){if(!directions)return false;for(const key in directions){const direction=directions[key];if(!direction)continue;const directionNumber=parseInt(key);if(this._directions.get(directionNumber))return false;const directionData=new DirectionData_DirectionData(this._layerCount);directionData.setFromDirection(this._defaultDirection);this.setDirectionLayers(directionData,direction.layers);this._directions.set(directionNumber,directionData);this._lastDirectionData=null;this._lastDirection=-1;}return true;}processColors(colors){if(!colors)return false;for(const key in colors){const color=colors[key];if(!color)continue;const colorNumber=parseInt(key);if(this._colors[colorNumber])return false;const colorData=new ColorData(this._layerCount);for(const layer in color.layers){const colorLayer=color.layers[layer];if(!colorLayer)continue;const layerId=parseInt(layer);const colorId=colorLayer.color;colorData.setColorLayer(layerId,colorId);}this._colors[colorNumber]=colorData;}return true;}setDirectionLayers(directionData,layers){if(!directionData||!layers)return false;for(const key in layers){const layer=layers[key];if(!layer)continue;const layerId=parseInt(key);if(layerId<0||layerId>=this._layerCount)return false;if(layer.ink!==undefined)directionData.setLayerInk(layerId,SpriteUtilities_SpriteUtilities.inkToBlendMode(layer.ink));if(layer.tag!==undefined)directionData.setLayerTag(layerId,layer.tag);if(layer.alpha!==undefined)directionData.setLayerAlpha(layerId,layer.alpha);if(layer.ignoreMouse!==undefined)directionData.setLayerIgnoreMouse(layerId,layer.ignoreMouse);if(layer.x!==undefined)directionData.setLayerXOffset(layerId,layer.x);if(layer.y!==undefined)directionData.setLayerYOffset(layerId,layer.y);if(layer.z!==undefined)directionData.setLayerZOffset(layerId,layer.z/-1000);}return true;}getValidDirection(direction){const existing=this._directions.get(direction);if(existing)return direction;direction=(direction%360+360)%360;let currentAngle=-1;let validDirection=-1;for(const key of this._directions.keys()){let angle=(key*this._angle-direction+360)%360;if(angle>180)angle=360-angle;if(angle<currentAngle||currentAngle<0){currentAngle=angle;validDirection=key;}}if(validDirection>=0)return Math.trunc(validDirection);return 0;}getDirectionData(direction){if(direction===this._lastDirection&&this._lastDirectionData)return this._lastDirectionData;let directionData=this._directions.get(direction);if(!directionData)directionData=this._defaultDirection;this._lastDirection=direction;this._lastDirectionData=directionData;return this._lastDirectionData;}getLayerTag(direction,layerId){const directionData=this.getDirectionData(direction);if(!directionData)return LayerData.DEFAULT_TAG;return directionData.getLayerTag(layerId);}getLayerInk(direction,layerId){const directionData=this.getDirectionData(direction);if(!directionData)return LayerData.DEFAULT_INK;return directionData.getLayerInk(layerId);}getLayerAlpha(direction,layerId){const directionData=this.getDirectionData(direction);if(!directionData)return LayerData.DEFAULT_ALPHA;return directionData.getLayerAlpha(layerId);}getLayerColor(layerId,colorId){const existing=this._colors[colorId];if(!existing)return ColorData.DEFAULT_COLOR;return existing.getLayerColor(layerId);}getLayerIgnoreMouse(direction,layerId){const directionData=this.getDirectionData(direction);if(!directionData)return LayerData.DEFAULT_IGNORE_MOUSE;return directionData.getLayerIgnoreMouse(layerId);}getLayerXOffset(direction,layerId){const directionData=this.getDirectionData(direction);if(!directionData)return LayerData.DEFAULT_XOFFSET;return directionData.getLayerXOffset(layerId);}getLayerYOffset(direction,layerId){const directionData=this.getDirectionData(direction);if(!directionData)return LayerData.DEFAULT_YOFFSET;return directionData.getLayerYOffset(layerId);}getLayerZOffset(direction,layerId){const directionData=this.getDirectionData(direction);if(!directionData)return LayerData.DEFAULT_ZOFFSET;return directionData.getLayerZOffset(layerId);}get layerCount(){return this._layerCount;}}SizeData_SizeData.MAX_LAYERS=26;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/AnimationSizeData.ts\nclass AnimationSizeData_AnimationSizeData extends SizeData_SizeData{constructor(layerCount,angle){super(layerCount,angle);this._animations=void 0;this._animationIds=void 0;this._animations=new Map();this._animationIds=[];}dispose(){super.dispose();for(const animation of this._animations.values()){if(!animation)continue;animation.dispose();}this._animations.clear();this._animationIds=[];}defineAnimations(animations){if(!animations)return true;for(const key in animations){const animation=animations[key];if(!animation)return false;let animationId=parseInt(key.split('_')[0]);let isTransition=false;const transitionTo=animation.transitionTo;const transitionFrom=animation.transitionFrom;if(transitionTo!==undefined){animationId=AnimationData_AnimationData.getTransitionToAnimationId(transitionTo);isTransition=true;}if(transitionFrom!==undefined){animationId=AnimationData_AnimationData.getTransitionFromAnimationId(transitionFrom);isTransition=true;}const animationData=this.createAnimationData();if(!animationData.initialize(animation)){animationData.dispose();return false;}const immediateChangeFrom=animation.immediateChangeFrom;if(immediateChangeFrom!==undefined){const changes=immediateChangeFrom.split(',');const changeIds=[];for(const change of changes){const changeId=parseInt(change);if(changeIds.indexOf(changeId)===-1)changeIds.push(changeId);}animationData.setImmediateChanges(changeIds);}this._animations.set(animationId,animationData);if(!isTransition)this._animationIds.push(animationId);}return true;}createAnimationData(){return new AnimationData_AnimationData();}hasAnimation(animationId){if(!this._animations.get(animationId))return false;return true;}getAnimationCount(){return this._animationIds.length||0;}getAnimationId(animationId){const totalAnimations=this.getAnimationCount();if(animationId<0||totalAnimations<=0)return 0;return this._animationIds[animationId%totalAnimations];}isImmediateChange(animationId,_arg_2){const animation=this._animations.get(animationId);if(!animation)return false;return animation.isImmediateChange(_arg_2);}getStartFrame(animationId,direction){const animation=this._animations.get(animationId);if(!animation)return 0;return animation.getStartFrame(direction);}getFrame(animationId,direction,layerId,frameCount){const animation=this._animations.get(animationId);if(!animation)return null;return animation.getFrame(direction,layerId,frameCount);}getFrameFromSequence(animationId,direction,layerId,sequenceId,offset,frameCount){const animation=this._animations.get(animationId);if(!animation)return null;return animation.getFrameFromSequence(direction,layerId,sequenceId,offset,frameCount);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureVisualizationData.ts\nclass FurnitureVisualizationData_FurnitureVisualizationData{constructor(){this._type=void 0;this._sizes=void 0;this._sizeDatas=void 0;this._lastSize=void 0;this._lastSizeScale=void 0;this._lastSizeData=void 0;this._lastSizeDataScale=void 0;this._type='';this._sizes=[];this._sizeDatas=new Map();this._lastSize=-1;this._lastSizeScale=-1;this._lastSizeData=null;this._lastSizeDataScale=-1;}initialize(asset){this.reset();if(!asset)return false;this._type=asset.name;if(!this.defineVisualizations(asset.visualizations)){this.reset();return false;}return true;}dispose(){if(this._sizeDatas&&this._sizeDatas.size){for(const size of this._sizeDatas.values())size&&size.dispose();this._sizeDatas=null;}this._lastSizeData=null;this._sizes=null;}reset(){this._type='';if(this._sizeDatas&&this._sizeDatas.size){for(const size of this._sizeDatas.values())size&&size.dispose();}this._sizeDatas.clear();this._sizes=[];this._lastSizeData=null;this._lastSizeDataScale=-1;}createSizeData(scale,layerCount,angle){return new SizeData_SizeData(layerCount,angle);}defineVisualizations(visualizations){if(!visualizations)return false;for(const visualizationId in visualizations){const visualization=visualizations[visualizationId];const layerCount=visualization.layerCount;const angle=visualization.angle;let size=visualization.size;if(size<1)size=1;if(this._sizeDatas.get(size))return false;const sizeData=this.createSizeData(size,layerCount,angle);if(!sizeData)return false;for(const key in visualization){//@ts-ignore\nconst data=visualization[key];if(!this.processVisualElement(sizeData,key,data)){sizeData.dispose();return false;}}this._sizeDatas.set(size,sizeData);this._sizes.push(size);}this._sizes.sort();return true;}processVisualElement(sizeData,key,data){if(!sizeData||!key||!data)return false;switch(key){case'layers':if(!sizeData.processLayers(data))return false;break;case'directions':if(!sizeData.processDirections(data))return false;break;case'colors':if(!sizeData.processColors(data))return false;break;}return true;}getValidSize(scale){if(scale===this._lastSizeScale)return this._lastSize;const sizeIndex=this.getSizeIndex(scale);let newScale=-1;if(sizeIndex<this._sizes.length)newScale=this._sizes[sizeIndex];this._lastSizeScale=scale;this._lastSize=newScale;return newScale;}getSizeIndex(size){if(size<=0)return 0;let index=0;let iterator=1;while(iterator<this._sizes.length){if(this._sizes[iterator]>size){if(this._sizes[iterator]/size<size/this._sizes[iterator-1])index=iterator;break;}index=iterator;iterator++;}return index;}getSizeData(size){if(size===this._lastSizeDataScale)return this._lastSizeData;const sizeIndex=this.getSizeIndex(size);if(sizeIndex<this._sizes.length)this._lastSizeData=this._sizeDatas.get(this._sizes[sizeIndex]);else this._lastSizeData=null;this._lastSizeDataScale=size;return this._lastSizeData;}getLayerCount(scale){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_COUNT;return size.layerCount;}getValidDirection(scale,direction){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_DIRECTION;return size.getValidDirection(direction);}getLayerTag(scale,direction,layerId){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_TAG;return size.getLayerTag(direction,layerId);}getLayerInk(scale,direction,layerId){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_INK;return size.getLayerInk(direction,layerId);}getLayerAlpha(scale,direction,layerId){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_ALPHA;return size.getLayerAlpha(direction,layerId);}getLayerColor(scale,layerId,colorId){const size=this.getSizeData(scale);if(!size)return ColorData.DEFAULT_COLOR;return size.getLayerColor(layerId,colorId);}getLayerIgnoreMouse(scale,direction,layerId){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_IGNORE_MOUSE;return size.getLayerIgnoreMouse(direction,layerId);}getLayerXOffset(scale,direction,layerId){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_XOFFSET;return size.getLayerXOffset(direction,layerId);}getLayerYOffset(scale,direction,layerId){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_YOFFSET;return size.getLayerYOffset(direction,layerId);}getLayerZOffset(scale,direction,layerId){const size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_ZOFFSET;return size.getLayerZOffset(direction,layerId);}get type(){return this._type;}}FurnitureVisualizationData_FurnitureVisualizationData.LAYER_LETTERS=['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureAnimatedVisualizationData.ts\nclass FurnitureAnimatedVisualizationData_FurnitureAnimatedVisualizationData extends FurnitureVisualizationData_FurnitureVisualizationData{createSizeData(scale,layerCount,angle){return new AnimationSizeData_AnimationSizeData(layerCount,angle);}processVisualElement(sizeData,key,data){if(!sizeData||!key||!data)return false;switch(key){case'animations':if(!(sizeData instanceof AnimationSizeData_AnimationSizeData)||!sizeData.defineAnimations(data))return false;break;default:if(!super.processVisualElement(sizeData,key,data))return false;break;}return true;}hasAnimation(scale,animationId){const size=this.getSizeData(scale);if(!size)return null;return size.hasAnimation(animationId);}getAnimationCount(scale){const size=this.getSizeData(scale);if(!size)return null;return size.getAnimationCount();}getAnimationId(scale,animationId){const size=this.getSizeData(scale);if(!size)return null;return size.getAnimationId(animationId);}isImmediateChange(scale,animationId,_arg_3){const size=this.getSizeData(scale);if(!size)return null;return size.isImmediateChange(animationId,_arg_3);}getStartFrame(scale,animationId,direction){const size=this.getSizeData(scale);if(!size)return null;return size.getStartFrame(animationId,direction);}getFrame(scale,animationId,direction,layerId,frameCount){const size=this.getSizeData(scale);if(!size)return null;return size.getFrame(animationId,direction,layerId,frameCount);}getFrameFromSequence(scale,animationId,direction,layerId,sequenceId,offset,frameCount){const size=this.getSizeData(scale);if(!size)return null;return size.getFrameFromSequence(animationId,direction,layerId,sequenceId,offset,frameCount);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureVisualization.ts\nclass FurnitureVisualization_FurnitureVisualization extends RoomObjectSpriteVisualization_RoomObjectSpriteVisualization{constructor(){super();this._data=void 0;this._type=void 0;this._direction=void 0;this._lastCameraAngle=void 0;this._selectedColor=void 0;this._furnitureLift=void 0;this._alphaMultiplier=void 0;this._alphaChanged=void 0;this._clickUrl=void 0;this._clickHandling=void 0;this._cacheDirection=void 0;this._cacheScale=void 0;this._cacheSize=void 0;this._layerCount=void 0;this._shadowLayerIndex=void 0;this._updatedLayers=void 0;this._assetNames=void 0;this._spriteTags=void 0;this._spriteInks=void 0;this._spriteAlphas=void 0;this._spriteColors=void 0;this._spriteMouseCaptures=void 0;this._spriteXOffsets=void 0;this._spriteYOffsets=void 0;this._spriteZOffsets=void 0;this._animationNumber=void 0;this._data=null;this._type=null;this._direction=0;this._lastCameraAngle=NaN;this._selectedColor=0;this._furnitureLift=0;this._alphaMultiplier=1;this._alphaChanged=false;this._clickUrl=null;this._clickHandling=false;this._cacheDirection=-1;this._cacheScale=0;this._cacheSize=-1;this._layerCount=0;this._shadowLayerIndex=-1;this._updatedLayers=[];this._assetNames=[];this._spriteTags=[];this._spriteInks=[];this._spriteAlphas=[];this._spriteColors=[];this._spriteMouseCaptures=[];this._spriteXOffsets=[];this._spriteYOffsets=[];this._spriteZOffsets=[];this._animationNumber=0;}initialize(data){this.reset();if(!(data instanceof FurnitureVisualizationData_FurnitureVisualizationData))return false;this._type=data.type;this._data=data;return true;}dispose(){super.dispose();this._data=null;this._updatedLayers=null;this._assetNames=null;this._spriteTags=null;this._spriteInks=null;this._spriteAlphas=null;this._spriteColors=null;this._spriteMouseCaptures=null;this._spriteXOffsets=null;this._spriteYOffsets=null;this._spriteZOffsets=null;}reset(){super.reset();this.setDirection(-1);this._data=null;this._updatedLayers=[];this._assetNames=[];this._spriteTags=[];this._spriteInks=[];this._spriteAlphas=[];this._spriteColors=[];this._spriteMouseCaptures=[];this._spriteXOffsets=[];this._spriteYOffsets=[];this._spriteZOffsets=[];this.createSprites(0);}resetLayers(scale,direction){if(this._cacheDirection===direction&&this._cacheScale===scale)return;this._updatedLayers=[];this._assetNames=[];this._spriteTags=[];this._spriteInks=[];this._spriteAlphas=[];this._spriteColors=[];this._spriteMouseCaptures=[];this._spriteXOffsets=[];this._spriteYOffsets=[];this._spriteZOffsets=[];this._cacheDirection=direction;this._cacheScale=scale;this._cacheSize=this.getValidSize(scale);this.setLayerCount((this._data&&this._data.getLayerCount(scale)||0)+this.getAdditionalLayerCount());}update(geometry,time,update,skipUpdate){if(!geometry)return;const scale=geometry.scale;let updateSprites=false;if(this.updateObject(scale,geometry.direction.x))updateSprites=true;if(this.updateModel(scale))updateSprites=true;let number=0;if(skipUpdate){this._animationNumber=this._animationNumber|this.updateAnimation(scale);}else{number=this.updateAnimation(scale)|this._animationNumber;this._animationNumber=0;}if(updateSprites||number!==0){this.updateSprites(scale,updateSprites,number);this._scale=scale;this.updateSpriteCounter++;}}updateObject(scale,direction){if(!this.object)return false;if(this.updateObjectCounter===this.object.updateCounter&&scale===this._scale&&this._lastCameraAngle===direction)return false;let offsetDirection=this.object.getDirection().x-(direction+135);offsetDirection=(offsetDirection%360+360)%360;if(this._data){const validDirection=this._data.getValidDirection(scale,offsetDirection);this.setDirection(validDirection);}this._lastCameraAngle=direction;this._scale=scale;this.updateObjectCounter=this.object.updateCounter;this.resetLayers(scale,this._direction);return true;}updateModel(scale){const model=this.object&&this.object.model;if(!model)return false;if(this.updateModelCounter===model.updateCounter)return false;this._selectedColor=model.getValue(RoomObjectVariable.FURNITURE_COLOR);this._clickUrl=model.getValue(RoomObjectVariable.FURNITURE_AD_URL);this._clickHandling=this._clickUrl&&this._clickUrl!==''&&this._clickUrl.indexOf('http')===0||false;this._furnitureLift=model.getValue(RoomObjectVariable.FURNITURE_LIFT_AMOUNT)||0;let alphaMultiplier=model.getValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER);if(isNaN(alphaMultiplier))alphaMultiplier=1;if(this._alphaMultiplier!==alphaMultiplier){this._alphaMultiplier=alphaMultiplier;this._alphaChanged=true;}this.updateModelCounter=model.updateCounter;return true;}updateSprites(scale,update,animation){if(this._layerCount!==this.totalSprites)this.createSprites(this._layerCount);if(update){let layerId=this.totalSprites-1;while(layerId>=0){this.updateSprite(scale,layerId);layerId--;}}else{let layerId=0;while(animation>0){if(animation)this.updateSprite(scale,layerId);layerId++;animation=animation>>1;}}this._alphaChanged=false;}updateSprite(scale,layerId){const assetName=this.getSpriteAssetName(scale,layerId);const sprite=this.getSprite(layerId);if(assetName&&sprite){const assetData=this.getAsset(assetName,layerId);if(assetData&&assetData.texture){sprite.visible=true;sprite.type=this._type;sprite.texture=assetData.texture;sprite.flipH=assetData.flipH;sprite.flipV=assetData.flipV;sprite.direction=this._direction;let relativeDepth=0;if(layerId!==this._shadowLayerIndex){sprite.tag=this.getLayerTag(scale,this._direction,layerId);sprite.alpha=this.getLayerAlpha(scale,this._direction,layerId);sprite.color=this.getLayerColor(scale,layerId,this._selectedColor);sprite.offsetX=assetData.offsetX+this.getLayerXOffset(scale,this._direction,layerId);sprite.offsetY=assetData.offsetY+this.getLayerYOffset(scale,this._direction,layerId);sprite.blendMode=this.getLayerInk(scale,this._direction,layerId);sprite.alphaTolerance=this.getLayerIgnoreMouse(scale,this._direction,layerId)?AlphaTolerance.MATCH_NOTHING:AlphaTolerance.MATCH_OPAQUE_PIXELS;relativeDepth=this.getLayerZOffset(scale,this._direction,layerId);relativeDepth=relativeDepth-layerId*0.001;}else{sprite.offsetX=assetData.offsetX;sprite.offsetY=assetData.offsetY+this.getLayerYOffset(scale,this._direction,layerId);sprite.alpha=48*this._alphaMultiplier;sprite.alphaTolerance=AlphaTolerance.MATCH_NOTHING;relativeDepth=1;}sprite.relativeDepth=relativeDepth*FurnitureVisualization_FurnitureVisualization.DEPTH_MULTIPLIER;sprite.name=assetName;sprite.libraryAssetName=this.getLibraryAssetNameForSprite(assetData,sprite);sprite.posture=this.getPostureForAsset(scale,assetData.source);sprite.clickHandling=this._clickHandling;}else{this.resetSprite(sprite);}}else{if(sprite)this.resetSprite(sprite);}}getLibraryAssetNameForSprite(asset,sprite){return asset.source;}getPostureForAssetFile(scale,_arg_2){return null;}resetSprite(sprite){if(!sprite)return;sprite.texture=null;sprite.libraryAssetName='';sprite.posture='';sprite.tag='';sprite.offsetX=0;sprite.offsetY=0;sprite.flipH=false;sprite.flipV=false;sprite.relativeDepth=0;sprite.clickHandling=false;}getSpriteAssetName(scale,layerId){if(!this._data||layerId>=FurnitureVisualizationData_FurnitureVisualizationData.LAYER_LETTERS.length)return'';let assetName=this._assetNames[layerId];let updated=this._updatedLayers[layerId];if(!assetName||!assetName.length){assetName=this.cacheSpriteAssetName(scale,layerId,true);updated=this._cacheSize!==1;}if(updated)assetName+=this.getFrameNumber(scale,layerId);return assetName;}cacheSpriteAssetName(scale,layerId,cache){const type=this._type;const size=cache?this._cacheSize:this.getValidSize(scale);let layerCode='';const isntIcon=size!==1;if(layerId!==this._shadowLayerIndex){layerCode=FurnitureVisualizationData_FurnitureVisualizationData.LAYER_LETTERS[layerId]||'';}else{layerCode='sd';}if(layerCode==='')return null;const assetName=this._type+(isntIcon?'_'+size+'_'+layerCode+'_'+this._direction+'_':'_icon_'+layerCode);if(cache){this._assetNames[layerId]=assetName;this._updatedLayers[layerId]=isntIcon;}return assetName;}getLayerTag(scale,direction,layerId){const existing=this._spriteTags[layerId];if(existing!==undefined)return existing;if(!this._data)return LayerData.DEFAULT_TAG;const tag=this._data.getLayerTag(scale,direction,layerId);this._spriteTags[layerId]=tag;return tag;}getLayerInk(scale,direction,layerId){const existing=this._spriteInks[layerId];if(existing!==undefined)return existing;if(!this._data)return LayerData.DEFAULT_INK;const ink=this._data.getLayerInk(scale,direction,layerId);this._spriteInks[layerId]=ink;return ink;}getLayerAlpha(scale,direction,layerId){if(!this._alphaChanged){const existing=this._spriteAlphas[layerId];if(existing!==undefined)return existing;}if(!this._data)return LayerData.DEFAULT_ALPHA;let alpha=this._data.getLayerAlpha(scale,direction,layerId);if(this._alphaMultiplier!==null)alpha=alpha*this._alphaMultiplier;this._spriteAlphas[layerId]=alpha;return alpha;}getLayerColor(scale,layerId,colorId){const existing=this._spriteColors[layerId];if(existing!==undefined)return existing;if(!this._data)return ColorData.DEFAULT_COLOR;const color=this._data.getLayerColor(scale,layerId,colorId);this._spriteColors[layerId]=color;return color;}getLayerIgnoreMouse(scale,direction,layerId){const existing=this._spriteMouseCaptures[layerId];if(existing!==undefined)return existing;if(!this._data)return LayerData.DEFAULT_IGNORE_MOUSE;const ignoreMouse=this._data.getLayerIgnoreMouse(scale,direction,layerId);this._spriteMouseCaptures[layerId]=ignoreMouse;return ignoreMouse;}getLayerXOffset(scale,direction,layerId){const existing=this._spriteXOffsets[layerId];if(existing!==undefined)return existing;if(!this._data)return LayerData.DEFAULT_XOFFSET;const xOffset=this._data.getLayerXOffset(scale,direction,layerId);this._spriteXOffsets[layerId]=xOffset;return xOffset;}getLayerYOffset(scale,direction,layerId){if(layerId===this._shadowLayerIndex)return Math.ceil(this._furnitureLift*(scale/2));const existing=this._spriteYOffsets[layerId];if(existing!==undefined)return existing;if(!this._data)return LayerData.DEFAULT_YOFFSET;const yOffset=this._data.getLayerYOffset(scale,direction,layerId);this._spriteYOffsets[layerId]=yOffset;return yOffset;}getLayerZOffset(scale,direction,layerId){const existing=this._spriteZOffsets[layerId];if(existing!==undefined)return existing;if(!this._data)return LayerData.DEFAULT_ZOFFSET;const zOffset=this._data.getLayerZOffset(scale,direction,layerId);this._spriteZOffsets[layerId]=zOffset;return zOffset;}getValidSize(scale){if(!this._data)return scale;return this._data.getValidSize(scale);}setLayerCount(count){this._layerCount=count;this._shadowLayerIndex=count-this.getAdditionalLayerCount();}setDirection(direction){if(this._direction===direction)return;this._direction=direction;}getAdditionalLayerCount(){return 1;}updateAnimation(scale){return 0;}getFrameNumber(scale,layerId){return 0;}getPostureForAsset(scale,name){return null;}getAsset(name){let layerId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;if(!this.asset)return null;return this.asset.getAsset(name);}get direction(){return this._direction;}}FurnitureVisualization_FurnitureVisualization.DEPTH_MULTIPLIER=Math.sqrt(0.5);FurnitureVisualization_FurnitureVisualization.TYPE=RoomObjectVisualizationType.FURNITURE_STATIC;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureAnimatedVisualization.ts\nclass FurnitureAnimatedVisualization_FurnitureAnimatedVisualization extends FurnitureVisualization_FurnitureVisualization{constructor(){super();this._data=void 0;this._state=void 0;this._frameIncrease=void 0;this._animationData=void 0;this._animationScale=void 0;this._animationChangeTime=void 0;this._animatedLayerCount=void 0;this._directionChanged=void 0;this._state=-1;this._frameIncrease=1;this._animationData=new AnimationStateData_AnimationStateData();this._animationScale=0;this._animationChangeTime=0;this._animatedLayerCount=0;this._directionChanged=false;}initialize(data){if(!(data instanceof FurnitureAnimatedVisualizationData_FurnitureAnimatedVisualizationData))return false;return super.initialize(data);}dispose(){super.dispose();if(this._animationData){this._animationData.dispose();this._animationData=null;}}get animatedLayerCount(){return this._animatedLayerCount;}get animationId(){return this._animationData.animationId;}getAnimationId(animationData){if(this.animationId!==FurnitureAnimatedVisualization_FurnitureAnimatedVisualization.DEFAULT_ANIMATION_ID&&this._data.hasAnimation(this._animationScale,this.animationId))return this.animationId;return FurnitureAnimatedVisualization_FurnitureAnimatedVisualization.DEFAULT_ANIMATION_ID;}updateObject(scale,direction){if(super.updateObject(scale,direction)){const state=this.object.getState(0);if(state!==this._state){this.setAnimation(state);this._state=state;this._animationChangeTime=this.object.model.getValue(RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME)||0;}return true;}return false;}updateModel(scale){if(super.updateModel(scale)){if(this.usesAnimationResetting()){const updateTime=this.object.model.getValue(RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME);if(updateTime>this._animationChangeTime){this._animationChangeTime=updateTime;this.setAnimation(this._state);}}const state=this.object.model.getValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX);if(!isNaN(state)){const animationId=this._data.getAnimationId(this._animationScale,state);this.setAnimation(animationId);}return true;}return false;}isPlayingTransition(animationData,animationId){if(!AnimationData_AnimationData.isTransitionFromAnimation(animationData.animationId)&&!AnimationData_AnimationData.isTransitionToAnimation(animationData.animationId))return false;if(animationId!==animationData.animationAfterTransitionId)return false;if(animationData.animationOver)return false;return true;}getCurrentState(animationData){const animationId=animationData.animationId;if(!AnimationData_AnimationData.isTransitionFromAnimation(animationId)&&!AnimationData_AnimationData.isTransitionToAnimation(animationId))return animationId;return animationData.animationAfterTransitionId;}setAnimation(animationId){if(!this._data)return;this.setSubAnimation(this._animationData,animationId,this._state>=0);}setSubAnimation(animationData,animationId){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const currentAnimation=animationData.animationId;if(_arg_3){if(this.isPlayingTransition(animationData,animationId))return false;const state=this.getCurrentState(animationData);if(animationId!==state){if(!this._data.isImmediateChange(this._animationScale,animationId,state)){let transition=AnimationData_AnimationData.getTransitionFromAnimationId(state);if(this._data.hasAnimation(this._animationScale,transition)){animationData.animationAfterTransitionId=animationId;animationId=transition;}else{transition=AnimationData_AnimationData.getTransitionToAnimationId(animationId);if(this._data.hasAnimation(this._animationScale,transition)){animationData.animationAfterTransitionId=animationId;animationId=transition;}}}}else{if(AnimationData_AnimationData.isTransitionFromAnimation(animationData.animationId)){const transition=AnimationData_AnimationData.getTransitionToAnimationId(animationId);if(this._data.hasAnimation(this._animationScale,transition)){animationData.animationAfterTransitionId=animationId;animationId=transition;}}else if(!AnimationData_AnimationData.isTransitionToAnimation(animationData.animationId)){if(this.usesAnimationResetting()){const transition=AnimationData_AnimationData.getTransitionFromAnimationId(state);if(this._data.hasAnimation(this._animationScale,transition)){animationData.animationAfterTransitionId=animationId;animationId=transition;}else{const transition=AnimationData_AnimationData.getTransitionToAnimationId(animationId);if(this._data.hasAnimation(this._animationScale,transition)){animationData.animationAfterTransitionId=animationId;animationId=transition;}}}}}}if(currentAnimation!==animationId){animationData.animationId=animationId;return true;}return false;}getLastFramePlayed(layerId){return this._animationData.getLastFramePlayed(layerId);}resetAllAnimationFrames(){if(!this._animationData)return;this._animationData.setLayerCount(this._animatedLayerCount);}updateAnimation(scale){if(!this._data)return 0;if(scale!==this._animationScale){this._animationScale=scale;this._animatedLayerCount=this._data.getLayerCount(scale);this.resetAllAnimationFrames();}const update=this.updateAnimations(scale);this._directionChanged=false;return update;}updateAnimations(scale){if(this._animationData.animationOver&&!this._directionChanged)return 0;const update=this.updateFramesForAnimation(this._animationData,scale);if(this._animationData.animationOver){if(AnimationData_AnimationData.isTransitionFromAnimation(this._animationData.animationId)||AnimationData_AnimationData.isTransitionToAnimation(this._animationData.animationId)){this.setAnimation(this._animationData.animationAfterTransitionId);this._animationData.animationOver=false;}}return update;}updateFramesForAnimation(animationData,scale){if(animationData.animationOver&&!this._directionChanged)return 0;const animationId=this.getAnimationId(animationData);let frameCount=animationData.frameCounter;if(!frameCount)frameCount=this._data.getStartFrame(scale,animationId,this._direction);frameCount+=this.frameIncrease;animationData.frameCounter=frameCount;animationData.animationOver=true;let animationPlayed=false;let layerId=this._animatedLayerCount-1;let update=0;let layerUpdate=1<<this._animatedLayerCount-1;while(layerId>=0){let sequenceId=0;animationPlayed=animationData.getAnimationPlayed(layerId);if(!animationPlayed||this._directionChanged){let lastFramePlayed=animationData.getLastFramePlayed(layerId);let frame=animationData.getFrame(layerId);if(frame){if(frame.isLastFrame&&frame.remainingFrameRepeats<=this.frameIncrease){lastFramePlayed=true;}}if(this._directionChanged||!frame||frame.remainingFrameRepeats>=0&&(frame.remainingFrameRepeats=frame.remainingFrameRepeats-this.frameIncrease)<=0){sequenceId=AnimationFrame.SEQUENCE_NOT_DEFINED;if(frame)sequenceId=frame.activeSequence;if(sequenceId===AnimationFrame.SEQUENCE_NOT_DEFINED){frame=this._data.getFrame(scale,animationId,this._direction,layerId,frameCount);}else{frame=this._data.getFrameFromSequence(scale,animationId,this._direction,layerId,sequenceId,frame.activeSequenceOffset+frame.repeats,frameCount);}animationData.setFrame(layerId,frame);update=update|layerUpdate;}if(!frame||frame.remainingFrameRepeats==AnimationFrame.FRAME_REPEAT_FOREVER){lastFramePlayed=true;animationPlayed=true;}else{animationData.animationOver=false;}animationData.setLastFramePlayed(layerId,lastFramePlayed);animationData.setAnimationPlayed(layerId,animationPlayed);}layerUpdate=layerUpdate>>1;layerId--;}return update;}getFrameNumber(scale,layerId){const currentFrame=this._animationData.getFrame(layerId);if(!currentFrame)return super.getFrameNumber(scale,layerId);return currentFrame.id;}getLayerXOffset(scale,direction,layerId){const offset=super.getLayerXOffset(scale,direction,layerId);const currentFrame=this._animationData.getFrame(layerId);if(!currentFrame)return offset;return offset+currentFrame.x;}getLayerYOffset(scale,direction,layerId){const offset=super.getLayerYOffset(scale,direction,layerId);const currentFrame=this._animationData.getFrame(layerId);if(!currentFrame)return offset;return offset+currentFrame.y;}usesAnimationResetting(){return false;}setDirection(direction){if(this._direction===direction)return;super.setDirection(direction);this._directionChanged=true;}get frameIncrease(){return this._frameIncrease;}}FurnitureAnimatedVisualization_FurnitureAnimatedVisualization.TYPE=RoomObjectVisualizationType.FURNITURE_ANIMATED;FurnitureAnimatedVisualization_FurnitureAnimatedVisualization.DEFAULT_ANIMATION_ID=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureBadgeDisplayVisualization.ts\nclass FurnitureBadgeDisplayVisualization_FurnitureBadgeDisplayVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._badgeId=void 0;this._badgeAssetNameNormalScale=void 0;this._badgeAssetNameSmallScale=void 0;this._badgeVisibleInState=void 0;this._badgeId='';this._badgeAssetNameNormalScale='';this._badgeAssetNameSmallScale='';this._badgeVisibleInState=-1;}updateModel(scale){let updateModel=super.updateModel(scale);const badgeStatus=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS);const badgeId=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_ASSET_NAME);if(badgeStatus===-1){this._badgeAssetNameNormalScale='';this._badgeAssetNameSmallScale='';}else if(badgeStatus===1&&badgeId!==this._badgeId){this._badgeId=badgeId;this._badgeAssetNameNormalScale=this._badgeId;if(this._badgeAssetNameSmallScale==='')this._badgeAssetNameSmallScale=this._badgeAssetNameNormalScale+'_32';const visibleInState=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_VISIBLE_IN_STATE);if(!isNaN(visibleInState))this._badgeVisibleInState=visibleInState;updateModel=true;}return updateModel;}getSpriteAssetName(scale,layerId){const tag=this.getLayerTag(scale,this.direction,layerId);if(tag!==FurnitureBadgeDisplayVisualization_FurnitureBadgeDisplayVisualization.BADGE||this._badgeVisibleInState!==-1&&this.object.getState(0)!==this._badgeVisibleInState)return super.getSpriteAssetName(scale,layerId);if(scale===32)return this._badgeAssetNameSmallScale;return this._badgeAssetNameNormalScale;}getLayerXOffset(scale,direction,layerId){let offset=super.getLayerXOffset(scale,direction,layerId);if(this.getLayerTag(scale,direction,layerId)===FurnitureBadgeDisplayVisualization_FurnitureBadgeDisplayVisualization.BADGE){const asset=this.getAsset(scale===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,layerId);if(asset){if(scale===64)offset+=(40-asset.width)/2;else offset+=(20-asset.width)/2;}}return offset;}getLayerYOffset(scale,direction,layerId){let offset=super.getLayerYOffset(scale,direction,layerId);if(this.getLayerTag(scale,direction,layerId)===FurnitureBadgeDisplayVisualization_FurnitureBadgeDisplayVisualization.BADGE){const asset=this.getAsset(scale===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,layerId);if(asset){if(scale===64)offset+=(40-asset.height)/2;else offset+=(20-asset.height)/2;}}return offset;}}FurnitureBadgeDisplayVisualization_FurnitureBadgeDisplayVisualization.BADGE='BADGE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureBrandedImageVisualization.ts\nclass FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization extends FurnitureVisualization_FurnitureVisualization{constructor(){super();this._imageUrl=void 0;this._shortUrl=void 0;this._imageReady=void 0;this._isAnimated=void 0;this._gifCollection=void 0;this._offsetX=void 0;this._offsetY=void 0;this._offsetZ=void 0;this._currentFrame=void 0;this._totalFrames=void 0;this._imageUrl=null;this._shortUrl=null;this._imageReady=false;this._isAnimated=false;this._gifCollection=null;this._offsetX=0;this._offsetY=0;this._offsetZ=0;this._currentFrame=-1;this._totalFrames=-1;}dispose(){super.dispose();if(this._imageUrl){this.asset&&this.asset.disposeAsset(this._imageUrl);// dispose all\n}}updateObject(scale,direction){if(!super.updateObject(scale,direction))return false;if(this._imageReady)this.checkAndCreateImageForCurrentState();return true;}updateModel(scale){const flag=super.updateModel(scale);if(flag){this._offsetX=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_X)||0;this._offsetY=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Y)||0;this._offsetZ=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Z)||0;this._isAnimated=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IS_ANIMATED)||false;}if(!this._imageReady){this._imageReady=this.checkIfImageReady();if(this._imageReady){this.checkAndCreateImageForCurrentState();return true;}}else{if(this.checkIfImageChanged()){this._imageReady=false;this._imageUrl=null;return true;}}return flag;}checkIfImageChanged(){const imageUrl=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL);if(imageUrl&&imageUrl===this._imageUrl)return false;if(this._gifCollection){//\n}this.asset&&this.asset.disposeAsset(this._imageUrl);// dispose all\nreturn true;}checkIfImageReady(){const model=this.object&&this.object.model;if(!model)return false;const imageUrl=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL);if(!imageUrl)return false;if(this._imageUrl&&this._imageUrl===imageUrl)return false;const imageStatus=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS);if(imageStatus===1){let texture=null;if(this._isAnimated){const gifCollection=Nitro_Nitro.instance.roomEngine.roomContentLoader.getGifCollection(imageUrl);if(gifCollection){this._gifCollection=gifCollection;texture=gifCollection.textures[0];}}else{texture=Nitro_Nitro.instance.core.asset.getTexture(imageUrl);}if(!texture)return false;this.imageReady(texture,imageUrl);return true;}return false;}imageReady(texture,imageUrl){if(!texture){this._imageUrl=null;return;}this._imageUrl=imageUrl;}checkAndCreateImageForCurrentState(){if(this._isAnimated){this.buildAssetsForGif();return;}if(!this._imageUrl)return;const texture=Nitro_Nitro.instance.core.asset.getTexture(this._imageUrl);if(!texture)return;const state=this.object.getState(0);this.addBackgroundAsset(texture,state,0);}buildAssetsForGif(){if(!this._gifCollection)return;const textures=this._gifCollection.textures;const durations=this._gifCollection.durations;if(!textures.length||!durations.length||textures.length!==durations.length)return;const state=this.object.getState(0);for(let i=0;i<textures.length;i++){const texture=textures[i];const duration=durations[i];if(!texture)continue;this.addBackgroundAsset(texture,state,i);}this._currentFrame=-1;this._totalFrames=textures.length;}addBackgroundAsset(texture,state,frame){let x=0;let y=0;let flipH=false;let flipV=false;switch(state){case FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_0:x=0;y=0;flipH=false;flipV=false;break;case FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_1:x=-texture.width;y=0;flipH=true;flipV=false;break;case FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_2:x=-texture.width;y=-texture.height;flipH=true;flipV=true;break;case FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_3:x=0;y=-texture.height;flipH=false;flipV=true;break;}this.asset.addAsset(`${this._imageUrl}_${frame}`,texture,true,x,y,flipH,flipV);}getSpriteAssetName(scale,layerId){const tag=this.getLayerTag(scale,this._direction,layerId);if(tag===FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.BRANDED_IMAGE&&this._imageUrl){return`${this._imageUrl}_${this.getFrameNumber(scale,layerId)}`;}return super.getSpriteAssetName(scale,layerId);}updateAnimation(scale){if(!this._imageReady||!this._isAnimated||this._totalFrames<=0)return 0;return 1;}getFrameNumber(scale,layerId){if(!this._imageReady||!this._isAnimated||this._totalFrames<=0)return 0;const tag=this.getLayerTag(scale,this._direction,layerId);if(tag===FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.BRANDED_IMAGE&&this._imageUrl){let newFrame=this._currentFrame;if(newFrame<0){newFrame=0;}else{newFrame+=1;}if(newFrame===this._totalFrames)newFrame=0;this._currentFrame=newFrame;return this._currentFrame;}return 0;}}FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.BRANDED_IMAGE='branded_image';FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_0=0;FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_1=1;FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_2=2;FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.STATE_3=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureBBVisualization.ts\nclass FurnitureBBVisualization_FurnitureBBVisualization extends FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization{getLayerXOffset(scale,direction,layerId){return super.getLayerXOffset(scale,direction,layerId)+this._offsetX;}getLayerYOffset(scale,direction,layerId){return super.getLayerYOffset(scale,direction,layerId)+this._offsetY;}getLayerZOffset(scale,direction,layerId){return super.getLayerZOffset(scale,direction,layerId)+this._offsetZ;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureBottleVisualization.ts\nclass FurnitureBottleVisualization_FurnitureBottleVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._stateQueue=void 0;this._running=void 0;this._stateQueue=[];this._running=false;}setAnimation(animationId){if(animationId===-1){if(!this._running){this._running=true;this._stateQueue=[];this._stateQueue.push(FurnitureBottleVisualization_FurnitureBottleVisualization.ANIMATION_ID_ROLL);return;}}if(animationId>=0&&animationId<=7){if(this._running){this._running=false;this._stateQueue=[];this._stateQueue.push(FurnitureBottleVisualization_FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW1);this._stateQueue.push(FurnitureBottleVisualization_FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW2+animationId);this._stateQueue.push(animationId);return;}super.setAnimation(animationId);}}updateAnimation(scale){if(this.getLastFramePlayed(0)){if(this._stateQueue.length)super.setAnimation(this._stateQueue.shift());}return super.updateAnimation(scale);}}FurnitureBottleVisualization_FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW1=20;FurnitureBottleVisualization_FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW2=9;FurnitureBottleVisualization_FurnitureBottleVisualization.ANIMATION_ID_ROLL=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureBuilderPlaceholderVisualization.ts\nclass FurnitureBuilderPlaceholderVisualization_FurnitureBuilderPlaceholderVisualization extends FurnitureVisualization_FurnitureVisualization{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureCounterClockVisualization.ts\nclass FurnitureCounterClockVisualization_FurnitureCounterClockVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{getFrameNumber(scale,layerId){const tag=this.getLayerTag(scale,this.direction,layerId);const animation=this.object.getState(0);switch(tag){case FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.SECONDS_SPRITE:return Math.floor(animation%60%10);case FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.TEN_SECONDS_SPRITE:return Math.floor(animation%60/10);case FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.MINUTES_SPRITE:return Math.floor(animation/60%10);case FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.TEN_MINUTES_SPRITE:return Math.floor(animation/60/10%10);default:return super.getFrameNumber(scale,layerId);}}get animationId(){return 0;}}FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.SECONDS_SPRITE='seconds_sprite';FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.TEN_SECONDS_SPRITE='ten_seconds_sprite';FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.MINUTES_SPRITE='minutes_sprite';FurnitureCounterClockVisualization_FurnitureCounterClockVisualization.TEN_MINUTES_SPRITE='ten_minutes_sprite';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureCuboidVisualization.ts\nclass FurnitureCuboidVisualization_FurnitureCuboidVisualization extends RoomObjectSpriteVisualization_RoomObjectSpriteVisualization{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/IsometricImageFurniVisualization.ts\nclass IsometricImageFurniVisualization_IsometricImageFurniVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._thumbnailAssetNameNormal=void 0;this._thumbnailImageNormal=void 0;this._thumbnailDirection=void 0;this._thumbnailChanged=void 0;this._hasOutline=void 0;this._thumbnailAssetNameNormal=null;this._thumbnailImageNormal=null;this._thumbnailDirection=-1;this._thumbnailChanged=false;this._hasOutline=false;}get hasThumbnailImage(){return!(this._thumbnailImageNormal==null);}setThumbnailImages(k){this._thumbnailImageNormal=k;this._thumbnailChanged=true;}updateModel(scale){const flag=super.updateModel(scale);if(!this._thumbnailChanged&&this._thumbnailDirection===this.direction)return flag;this.refreshThumbnail();return true;}refreshThumbnail(){if(this.asset==null)return;if(this._thumbnailImageNormal){this.addThumbnailAsset(this._thumbnailImageNormal,64);}else{this.asset.disposeAsset(this.getThumbnailAssetName(64));}this._thumbnailChanged=false;this._thumbnailDirection=this.direction;}addThumbnailAsset(k,scale){let layerId=0;while(layerId<this.totalSprites){if(this.getLayerTag(scale,this.direction,layerId)===IsometricImageFurniVisualization_IsometricImageFurniVisualization.THUMBNAIL){const assetName=this.cacheSpriteAssetName(scale,layerId,false)+this.getFrameNumber(scale,layerId);const asset=this.getAsset(assetName,layerId);if(asset){const _local_6=this.generateTransformedThumbnail(k,asset);const _local_7=this.getThumbnailAssetName(scale);this.asset.disposeAsset(_local_7);this.asset.addAsset(_local_7,_local_6,true,asset.offsetX,asset.offsetY,false,false);}return;}layerId++;}}generateTransformedThumbnail(texture,asset){if(this._hasOutline){const container=new NitroSprite_NitroSprite();const background=new NitroSprite_NitroSprite(NitroTexture_NitroTexture.WHITE);background.tint=0x000000;background.width=texture.width+40;background.height=texture.height+40;const sprite=new NitroSprite_NitroSprite(texture);const offsetX=(background.width-sprite.width)/2;const offsetY=(background.height-sprite.height)/2;sprite.position.set(offsetX,offsetY);container.addChild(background,sprite);texture=TextureUtils_TextureUtils.generateTexture(container);}const scale=1.1;const matrix=new math[\"d\" /* Matrix */]();const difference=asset.width/texture.width;switch(this.direction){case 2:matrix.a=difference;matrix.b=-0.5*difference;matrix.c=0;matrix.d=difference*scale;matrix.tx=0;matrix.ty=0.5*difference*texture.width;break;case 0:case 4:matrix.a=difference;matrix.b=0.5*difference;matrix.c=0;matrix.d=difference*scale;matrix.tx=0;matrix.ty=0;break;default:matrix.a=difference;matrix.b=0;matrix.c=0;matrix.d=difference;matrix.tx=0;matrix.ty=0;}const sprite=new NitroSprite_NitroSprite(texture);sprite.transform.setFromMatrix(matrix);return TextureUtils_TextureUtils.generateTexture(sprite);}getSpriteAssetName(scale,layerId){if(this._thumbnailImageNormal&&this.getLayerTag(scale,this.direction,layerId)===IsometricImageFurniVisualization_IsometricImageFurniVisualization.THUMBNAIL)return this.getThumbnailAssetName(scale);return super.getSpriteAssetName(scale,layerId);}getThumbnailAssetName(scale){this._thumbnailAssetNameNormal=this.getFullThumbnailAssetName(this.object.id,64);return this._thumbnailAssetNameNormal;}getFullThumbnailAssetName(k,_arg_2){return[this._type,k,'thumb',_arg_2].join('_');}}IsometricImageFurniVisualization_IsometricImageFurniVisualization.THUMBNAIL='THUMBNAIL';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureDynamicThumbnailVisualization.ts\nclass FurnitureDynamicThumbnailVisualization_FurnitureDynamicThumbnailVisualization extends IsometricImageFurniVisualization_IsometricImageFurniVisualization{constructor(){super();this._cachedUrl=void 0;this._cachedUrl=null;this._hasOutline=true;}updateModel(scale){if(this.object){const thumbnailUrl=this.getThumbnailURL();if(this._cachedUrl!==thumbnailUrl){this._cachedUrl=thumbnailUrl;if(this._cachedUrl&&this._cachedUrl!==''){const image=new Image();image.src=thumbnailUrl;image.crossOrigin='*';image.onload=()=>{const texture=esm_core[\"t\" /* Texture */].from(image);texture.baseTexture.scaleMode=constants[\"p\" /* SCALE_MODES */].LINEAR;this.setThumbnailImages(texture);};}else{this.setThumbnailImages(null);}}}return super.updateModel(scale);}getThumbnailURL(){throw new Error('This method must be overridden!');}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureExternalImageVisualization.ts\nclass FurnitureExternalImageVisualization_FurnitureExternalImageVisualization extends FurnitureDynamicThumbnailVisualization_FurnitureDynamicThumbnailVisualization{constructor(){super();this._url=void 0;this._typePrefix=void 0;this._url=null;this._typePrefix=null;}getThumbnailURL(){if(!this.object)return null;if(this._url)return this._url;const jsonString=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);if(!jsonString||jsonString==='')return null;if(this.object.type.indexOf('')>=0){this._typePrefix=this.object.type.indexOf('')>=0?'':'postcards/selfie/';}const json=JSON.parse(jsonString);let url=json.w||'';url=this.buildThumbnailUrl(url);this._url=url;return this._url;}buildThumbnailUrl(url){url=url.replace('.png','_small.png');if(url.indexOf('.png')===-1)url=url+'_small.png';return url;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/actions/IActionDefinition.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/actions/IActiveActionData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/actions/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/alias/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/IAnimation.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/IAnimationLayerData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/IAnimationManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/IAvatarDataContainer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/ISpriteDataContainer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/animation/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/cache/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarEditorFigureCategory.ts\nclass AvatarEditorFigureCategory{}AvatarEditorFigureCategory.GENERIC='hd';AvatarEditorFigureCategory.HEAD='head';AvatarEditorFigureCategory.TORSO='torso';AvatarEditorFigureCategory.LEGS='legs';AvatarEditorFigureCategory.HOTLOOKS='hotlooks';AvatarEditorFigureCategory.WARDROBE='wardrobe';AvatarEditorFigureCategory.EFFECTS='effects';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarEditorInstanceId.ts\nclass AvatarEditorInstanceId{}AvatarEditorInstanceId.OWN_AVATAR_EDITOR=0;AvatarEditorInstanceId.FURNITURE_AVATAR_EDITOR=1;AvatarEditorInstanceId.BOT_EDITOR=2;AvatarEditorInstanceId.DEV_TOOL_EDITOR=3;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/AvatarEditorSideCategory.ts\nclass AvatarEditorSideCategory{}AvatarEditorSideCategory.NOTHING='nothing';AvatarEditorSideCategory.WARDROBE='wardrobe';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/RenderMode.ts\nclass RenderMode{}RenderMode.TOOL='tool';RenderMode.COMPONENT='component';RenderMode.ONLINE_TOOL='online_tool';RenderMode.LOCAL_ONLY='local_only';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/enum/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/geometry/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/IAvatarEffectListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/IAvatarFigureContainer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/IAvatarImage.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/IAvatarImageListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/IAvatarRenderManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/IOutfit.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/pets/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/animation/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/IFigurePart.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/IFigurePartSet.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/IPalette.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/IPartColor.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/ISetType.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/figure/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/IFigureSetData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/IStructureData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/parts/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/structure/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/avatar/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureParticleSystemParticle.ts\nclass FurnitureParticleSystemParticle_FurnitureParticleSystemParticle{constructor(){this._x=void 0;this._y=void 0;this._z=void 0;this._lastX=void 0;this._lastY=void 0;this._lastZ=void 0;this._hasMoved=false;this._particleDirection=void 0;this._age=0;this._lifeTime=void 0;this._isEmitter=false;this._fade=false;this._fadeTime=void 0;this._alphaMultiplier=1;this._frames=void 0;}init(x,y,z,direction,energy,timeStep,lifeTime){let isEmitter=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;let frames=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let fade=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;this._x=x;this._y=y;this._z=z;this._particleDirection=new Vector3D(direction.x,direction.y,direction.z);this._particleDirection.scaleBy(energy);this._lastX=this._x-this._particleDirection.x*timeStep;this._lastY=this._y-this._particleDirection.y*timeStep;this._lastZ=this._z-this._particleDirection.z*timeStep;this._age=0;this._hasMoved=false;this._lifeTime=lifeTime;this._isEmitter=isEmitter;this._frames=frames;this._fade=fade;this._alphaMultiplier=1;this._fadeTime=0.5+Math.random()*0.5;}dispose(){this._particleDirection=null;}update(){this._age++;if(this._age===this._lifeTime)this.ignite();if(this._fade){if(this._age/this._lifeTime>this._fadeTime){this._alphaMultiplier=(this._lifeTime-this._age)/(this._lifeTime*(1-this._fadeTime));}}}getAsset(){if(this._frames&&this._frames.length>0){return this._frames[this._age%this._frames.length];}return null;}ignite(){}get fade(){return this._fade;}get alphaMultiplier(){return this._alphaMultiplier;}get direction(){return this._particleDirection;}get age(){return this._age;}get isEmitter(){return this._isEmitter;}get isAlive(){return this._age<=this._lifeTime;}get x(){return this._x;}set x(x){this._x=x;}get y(){return this._y;}set y(y){this._y=y;}get z(){return this._z;}set z(z){this._z=z;}get lastX(){return this._lastX;}set lastX(y){this._hasMoved=true;this._lastX=y;}get lastY(){return this._lastY;}set lastY(k){this._hasMoved=true;this._lastY=k;}get lastZ(){return this._lastZ;}set lastZ(z){this._hasMoved=true;this._lastZ=z;}get hasMoved(){return this._hasMoved;}toString(){return[this._x,this._y,this._z].toString();}copy(particle,scale){this._x=particle._x*scale;this._y=particle._y*scale;this._z=particle._z*scale;this._lastX=particle._lastX*scale;this._lastY=particle._lastY*scale;this._lastZ=particle._lastZ*scale;this._hasMoved=particle.hasMoved;this._particleDirection=particle._particleDirection;this._age=particle._age;this._lifeTime=particle._lifeTime;this._isEmitter=particle._isEmitter;this._fade=particle._fade;this._fadeTime=particle._fadeTime;this._alphaMultiplier=particle._alphaMultiplier;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureParticleSystemEmitter.ts\nclass FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter extends FurnitureParticleSystemParticle_FurnitureParticleSystemParticle{constructor(){let name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let spriteId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;super();this._name=void 0;this._roomObjectSpriteId=-1;this._force=void 0;this._timeStep=0.1;this._gravity=void 0;this._airFriction=void 0;this._explosionShape=void 0;this._particleConfigurations=void 0;this._particles=void 0;this._maxNumberOfParticles=void 0;this._particlesPerFrame=void 0;this._emittedParticles=void 0;this._fuseTime=10;this._energy=1;this._hasIgnited=false;this._burstPulse=1;this._emitterDirection=void 0;this._particles=[];this._name=name;this._roomObjectSpriteId=spriteId;this._particleConfigurations=[];}dispose(){for(const k of this._particles)k.dispose();this._particles=null;this._particleConfigurations=null;super.dispose();}setup(maxNumOfParticles,particlesPerFrame,force,direction,gravity,airFriction,explosionShape,energy,fuseTime,burstPulse){this._maxNumberOfParticles=maxNumOfParticles;this._particlesPerFrame=particlesPerFrame;this._force=force;this._emitterDirection=direction;this._emitterDirection.normalize();this._gravity=gravity;this._airFriction=airFriction;this._explosionShape=explosionShape;this._fuseTime=fuseTime;this._energy=energy;this._burstPulse=burstPulse;this.reset();}reset(){for(const particle of this._particles)particle.dispose();this._particles=[];this._emittedParticles=0;this._hasIgnited=false;this.init(0,0,0,this._emitterDirection,this._force,this._timeStep,this._fuseTime,true);}copyStateFrom(emitter,scale){super.copy(emitter,scale);this._force=emitter._force;this._emitterDirection=emitter._emitterDirection;this._gravity=emitter._gravity;this._airFriction=emitter._airFriction;this._explosionShape=emitter._explosionShape;this._fuseTime=emitter._fuseTime;this._energy=emitter._energy;this._burstPulse=emitter._burstPulse;this._timeStep=emitter._timeStep;this._hasIgnited=emitter._hasIgnited;}configureParticle(lifeTIme,isEmitter,frames,fade){const particle={};particle.lifeTime=lifeTIme;particle.isEmitter=isEmitter;particle.frames=frames;particle.fade=fade;this._particleConfigurations.push(particle);}ignite(){this._hasIgnited=true;if(this._emittedParticles<this._maxNumberOfParticles){if(this.age>1)this.releaseParticles(this,this.direction);}}releaseParticles(particle){let direction=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!direction)direction=new Vector3D();const newDirection=new Vector3D();const randomParticle=this.getRandomParticleConfiguration();let i=0;while(i<this._particlesPerFrame){switch(this._explosionShape){case FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter.CONE:newDirection.x=this.randomBoolean(0.5)?Math.random():-Math.random();newDirection.y=-(Math.random()+1);newDirection.z=this.randomBoolean(0.5)?Math.random():-Math.random();break;case FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter.PLANE:newDirection.x=this.randomBoolean(0.5)?Math.random():-Math.random();newDirection.y=0;newDirection.z=this.randomBoolean(0.5)?Math.random():-Math.random();break;case FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter.SPHERE:newDirection.x=this.randomBoolean(0.5)?Math.random():-Math.random();newDirection.y=this.randomBoolean(0.5)?Math.random():-Math.random();newDirection.z=this.randomBoolean(0.5)?Math.random():-Math.random();break;}newDirection.normalize();const newParticle=new FurnitureParticleSystemParticle_FurnitureParticleSystemParticle();let lifeTime=0;let isEmitter=false;let fade=false;let frames=[];if(randomParticle){lifeTime=Math.floor(Math.random()*randomParticle.lifeTime+10);isEmitter=randomParticle.isEmitter;frames=randomParticle.frames;fade=randomParticle.fade;}else{lifeTime=Math.trunc(Math.floor(Math.random()*20+10));isEmitter=false;frames=[];}newParticle.init(particle.x,particle.y,particle.z,newDirection,this._energy,this._timeStep,lifeTime,isEmitter,frames,fade);this._particles.push(newParticle);this._emittedParticles++;i++;}}getRandomParticleConfiguration(){const index=Math.trunc(Math.floor(Math.random()*this._particleConfigurations.length));return this._particleConfigurations[index];}update(){super.update();this.accumulateForces();this.verlet();this.satisfyConstraints();if(!this.isAlive&&this._emittedParticles<this._maxNumberOfParticles){if(this.age%this._burstPulse===0)this.releaseParticles(this,this.direction);}}verlet(){if(this.isAlive||this._emittedParticles<this._maxNumberOfParticles){const x=this.x;const y=this.y;const z=this.z;this.x=(2-this._airFriction)*this.x-(1-this._airFriction)*this.lastX;this.y=(2-this._airFriction)*this.y-(1-this._airFriction)*this.lastY+this._gravity*this._timeStep*this._timeStep;this.z=(2-this._airFriction)*this.z-(1-this._airFriction)*this.lastZ;this.lastX=x;this.lastY=y;this.lastZ=z;}const particles=[];for(const particle of this._particles){particle.update();const x=particle.x;const y=particle.y;const z=particle.z;particle.x=(2-this._airFriction)*particle.x-(1-this._airFriction)*particle.lastX;particle.y=(2-this._airFriction)*particle.y-(1-this._airFriction)*particle.lastY+this._gravity*this._timeStep*this._timeStep;particle.z=(2-this._airFriction)*particle.z-(1-this._airFriction)*particle.lastZ;particle.lastX=x;particle.lastY=y;particle.lastZ=z;if(particle.y>10||!particle.isAlive)particles.push(particle);}for(const particle of particles){if(particle.isEmitter){//\n}this._particles.splice(this._particles.indexOf(particle),1);particle.dispose();}}satisfyConstraints(){}accumulateForces(){for(const k of this._particles){//\n}}get particles(){return this._particles;}get hasIgnited(){return this._hasIgnited;}randomBoolean(k){return Math.random()<k;}get roomObjectSpriteId(){return this._roomObjectSpriteId;}}FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter.CONE='cone';FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter.PLANE='plane';FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter.SPHERE='sphere';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureParticleSystem.ts\nclass FurnitureParticleSystem_FurnitureParticleSystem{constructor(visualization){this._emitters=void 0;this._visualization=void 0;this._size=void 0;this._canvasId=-1;this._offsetY=void 0;this._currentEmitter=void 0;this._canvasTexture=void 0;this._roomSprite=void 0;this._hasIgnited=false;this._centerX=0;this._centerY=0;this._scaleMultiplier=1;this._blackOverlay=void 0;this._blackOverlayAlphaTransform=void 0;this._particleColorTransform=void 0;this._identityMatrix=void 0;this._translationMatrix=void 0;this._blend=1;this._bgColor=0xFF000000;this._emptySprite=void 0;this._isDone=false;this._emitters=new AdvancedMap();this._visualization=visualization;this._blackOverlayAlphaTransform=new filter_alpha[\"a\" /* AlphaFilter */]();this._blackOverlayAlphaTransform.alpha=1;this._particleColorTransform=new filter_alpha[\"a\" /* AlphaFilter */]();this._identityMatrix=new math[\"d\" /* Matrix */]();this._translationMatrix=new math[\"d\" /* Matrix */]();}dispose(){for(const emitter of this._emitters.getValues())emitter.dispose();this._emitters=null;if(this._canvasTexture){this._canvasTexture.destroy();this._canvasTexture=null;}if(this._blackOverlay){this._blackOverlay.destroy();this._blackOverlay=null;}if(this._emptySprite){this._emptySprite.destroy();this._emptySprite=null;}this._blackOverlayAlphaTransform=null;this._particleColorTransform=null;this._identityMatrix=null;this._translationMatrix=null;}reset(){if(this._currentEmitter)this._currentEmitter.reset();this._currentEmitter=null;this._hasIgnited=false;this._isDone=false;this.updateCanvas();}setAnimation(id){if(this._currentEmitter)this._currentEmitter.reset();this._currentEmitter=this._emitters.getValue(id);this._hasIgnited=false;this._isDone=false;this.updateCanvas();}updateCanvas(){if(!this._currentEmitter||this._canvasId===-1)return;this._roomSprite=this._visualization.getSprite(this._canvasId);if(this._roomSprite&&this._roomSprite.texture){if(this._roomSprite.width<=1||this._roomSprite.height<=1)return;if(this._canvasTexture&&(this._canvasTexture.width!==this._roomSprite.width||this._canvasTexture.height!==this._roomSprite.height))this._canvasTexture=null;this.clearCanvas();this._centerX=-this._roomSprite.offsetX;this._centerY=-this._roomSprite.offsetY;this._roomSprite.texture=this._canvasTexture;}}getLayerYOffset(scale,direction,layerId){if(this._currentEmitter&&this._currentEmitter.roomObjectSpriteId===layerId){return this._currentEmitter.y*this._scaleMultiplier;}return 0;}controlsSprite(k){if(this._currentEmitter)return this._currentEmitter.roomObjectSpriteId==k;return false;}updateSprites(){if(!this._currentEmitter||!this._roomSprite)return;if(this._canvasTexture&&this._roomSprite.texture!==this._canvasTexture){this._roomSprite.texture=this._canvasTexture;}if(this._hasIgnited){if(this._currentEmitter.roomObjectSpriteId>=0)this._visualization.getSprite(this._currentEmitter.roomObjectSpriteId).visible=false;}}updateAnimation(){if(!this._currentEmitter||!this._roomSprite||this._isDone)return;const k=10;if(!this._hasIgnited&&this._currentEmitter.hasIgnited)this._hasIgnited=true;const offsetY=this._offsetY*this._scaleMultiplier;this._currentEmitter.update();if(this._hasIgnited){if(this._currentEmitter.roomObjectSpriteId>=0){this._visualization.getSprite(this._currentEmitter.roomObjectSpriteId).visible=false;}if(!this._canvasTexture)this.updateCanvas();this.clearCanvas();for(const particle of this._currentEmitter.particles){const tx=this._centerX+(particle.x-particle.z)*k/10*this._scaleMultiplier;const ty=this._centerY-offsetY+(particle.y+(particle.x+particle.z)/2)*k/10*this._scaleMultiplier;const asset=particle.getAsset();if(asset&&asset.texture){if(particle.fade&&particle.alphaMultiplier<1){this._translationMatrix.identity();this._translationMatrix.translate(tx+asset.offsetX,ty+asset.offsetY);const sprite=new NitroSprite_NitroSprite(asset.texture);this._particleColorTransform.alpha=particle.alphaMultiplier;sprite.filters=[this._particleColorTransform];Nitro_Nitro.instance.renderer.render(sprite,{renderTexture:this._canvasTexture,transform:this._translationMatrix,clear:false});}else{const point=new NitroPoint_NitroPoint(tx+asset.offsetX,ty+asset.offsetY);const sprite=new NitroSprite_NitroSprite(asset.texture);sprite.x=point.x;sprite.y=point.y;Nitro_Nitro.instance.renderer.render(sprite,{renderTexture:this._canvasTexture,clear:false});}}else{const sprite=new NitroSprite_NitroSprite(esm_core[\"t\" /* Texture */].WHITE);sprite.tint=0xFFFFFF;sprite.x=tx-1;sprite.y=ty-1;sprite.width=2;sprite.height=2;Nitro_Nitro.instance.renderer.render(sprite,{renderTexture:this._canvasTexture,clear:false});}}if(!this._currentEmitter.particles.length){this._isDone=true;return;}}}parseData(particleSystem){this._size=particleSystem.size;this._canvasId=particleSystem.canvasId!==undefined?particleSystem.canvasId:-1;this._offsetY=particleSystem.offsetY!==undefined?particleSystem.offsetY:10;this._scaleMultiplier=this._size/64;this._blend=particleSystem.blend!==undefined?particleSystem.blend:1;this._blend=Math.min(this._blend,1);this._blackOverlayAlphaTransform.alpha=this._blend;const bgColor=particleSystem.bgColor!==undefined?particleSystem.bgColor:'0';this._bgColor=parseInt(bgColor,16)||0x000000;if(!particleSystem.emitters||!particleSystem.emitters.length)return;for(const emitter of particleSystem.emitters){const emitterId=emitter.id;const emitterName=emitter.name;const emitterSpriteId=emitter.spriteId;const particleEmitter=new FurnitureParticleSystemEmitter_FurnitureParticleSystemEmitter(emitterName,emitterSpriteId);this._emitters.add(emitterId,particleEmitter);const maxNumParticles=emitter.maxNumParticles;const particlesPerFrame=emitter.particlesPerFrame;const burstPulse=emitter.burstPulse!==undefined?emitter.burstPulse:1;const fuseTime=emitter.fuseTime;const simulationForce=emitter.simulation.force;const simulationDirection=emitter.simulation.direction;const simulationGravity=emitter.simulation.gravity;const simulationAirFriction=emitter.simulation.airFriction;const simulationShape=emitter.simulation.shape;const simulationEnergy=emitter.simulation.energy;for(const particle of emitter.particles){const lifeTime=particle.lifeTime;const isEmitter=particle.isEmitter||false;const fade=particle.fade||false;const frames=[];for(const name of particle.frames)frames.push(this._visualization.asset.getAsset(name));particleEmitter.configureParticle(lifeTime,isEmitter,frames,fade);}particleEmitter.setup(maxNumParticles,particlesPerFrame,simulationForce,new Vector3D(0,simulationDirection,0),simulationGravity,simulationAirFriction,simulationShape,simulationEnergy,fuseTime,burstPulse);}}_Str_17988(particleSystem){let emitterId=0;if(particleSystem._emitters&&particleSystem._currentEmitter){emitterId=particleSystem._emitters.getKey(particleSystem._emitters.getValues().indexOf(particleSystem._currentEmitter));}this.setAnimation(emitterId);if(this._currentEmitter)this._currentEmitter.copyStateFrom(particleSystem._currentEmitter,particleSystem._size/this._size);this._canvasTexture=null;}clearCanvas(){if(!this._emptySprite){this._emptySprite=new NitroSprite_NitroSprite(esm_core[\"t\" /* Texture */].EMPTY);this._emptySprite.alpha=0;}if(!this._canvasTexture){this._canvasTexture=esm_core[\"o\" /* RenderTexture */].create({width:this._roomSprite.width,height:this._roomSprite.height});}else{Nitro_Nitro.instance.renderer.render(this._emptySprite,{renderTexture:this._canvasTexture,clear:true});}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureFireworksVisualization.ts\nclass FurnitureFireworksVisualization_FurnitureFireworksVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super(...arguments);this._particleSystems=void 0;this._currentParticleSystem=void 0;}dispose(){super.dispose();this._currentParticleSystem=null;if(this._particleSystems){for(const particleSystem of this._particleSystems.getValues())particleSystem.dispose();this._particleSystems=null;}}updateObject(scale,direction){if(super.updateObject(scale,direction)){if(!this._particleSystems){this._Str_18684();if(this._particleSystems)this._currentParticleSystem=this._particleSystems.getValue(scale);else NitroLogger.log('ERROR Particle systems could not be read! '+this.object.type);}else{if(scale!==this._scale||this._particleSystems.getValue(scale)!==this._currentParticleSystem){const particleSystem=this._particleSystems.getValue(scale);particleSystem._Str_17988(this._currentParticleSystem);if(this._currentParticleSystem)this._currentParticleSystem.reset();this._currentParticleSystem=particleSystem;}}return true;}return false;}updateSprites(scale,update,animation){super.updateSprites(scale,update,animation);if(this._currentParticleSystem)this._currentParticleSystem.updateSprites();}updateAnimation(scale){if(this._currentParticleSystem)this._currentParticleSystem.updateAnimation();return super.updateAnimation(scale);}setAnimation(id){if(this._currentParticleSystem)this._currentParticleSystem.setAnimation(id);super.setAnimation(id);}getLayerYOffset(scale,direction,layerId){if(this._currentParticleSystem&&this._currentParticleSystem.controlsSprite(layerId)){return this._currentParticleSystem.getLayerYOffset(scale,direction,layerId);}return super.getLayerYOffset(scale,direction,layerId);}_Str_18684(){if(!this.object||!this.object.model)return false;const fireworksData=this.object.model.getValue(RoomObjectVariable.FURNITURE_FIREWORKS_DATA);if(!fireworksData||!fireworksData.length)return false;this._particleSystems=new AdvancedMap();for(const particleData of fireworksData){const size=particleData.size;const particleSystem=new FurnitureParticleSystem_FurnitureParticleSystem(this);particleSystem.parseData(particleData);this._particleSystems.add(size,particleSystem);}return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureGiftWrappedFireworksVisualization.ts\nclass FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization extends FurnitureFireworksVisualization_FurnitureFireworksVisualization{constructor(){super(...arguments);this._packetType=0;this._ribbonType=0;this._lastAnimationId=0;}update(geometry,time,update,skipUpdate){this.updatePresentWrap();super.update(geometry,time,update,skipUpdate);}updatePresentWrap(){if(!this.object)return;const local3=1000;const extras=this.object.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS);const typeIndex=parseInt(extras);const packetType=Math.floor(typeIndex/local3);const ribbonType=typeIndex%local3;this._packetType=packetType>FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization.MAX_PACKET_TYPE_VALUE?0:packetType;this._ribbonType=ribbonType>FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization.MAX_RIBBON_TYPE_VALUE?0:ribbonType;}getFrameNumber(scale,layerId){if(this._lastAnimationId===FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization.PRESENT_DEFAULT_STATE){if(layerId<=1)return this._packetType;if(layerId===2)return this._ribbonType;}return super.getFrameNumber(scale,layerId);}getSpriteAssetName(scale,layerId){const size=this.getValidSize(scale);let assetName=this._type;let layerCode='';if(layerId<this.spriteCount-1){layerCode=String.fromCharCode('a'.charCodeAt(0)+layerId);}else{layerCode='sd';}const frameNumber=this.getFrameNumber(scale,layerId);assetName=assetName+('_'+size+'_'+layerCode+'_'+this.direction);assetName=assetName+('_'+frameNumber);return assetName;}setAnimation(animationId){this._lastAnimationId=animationId;super.setAnimation(animationId);}}FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization.PRESENT_DEFAULT_STATE=0;FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization.MAX_PACKET_TYPE_VALUE=9;FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization.MAX_RIBBON_TYPE_VALUE=11;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureGiftWrappedVisualization.ts\nclass FurnitureGiftWrappedVisualization_FurnitureGiftWrappedVisualization extends FurnitureVisualization_FurnitureVisualization{constructor(){super(...arguments);this._packetType=0;this._ribbonType=0;}update(geometry,time,update,skipUpdate){this.updatePresentWrap();super.update(geometry,time,update,skipUpdate);}updatePresentWrap(){if(!this.object)return;const extras=this.object.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS);const local3=1000;const typeIndex=parseInt(extras);this._packetType=Math.floor(typeIndex/local3);this._ribbonType=typeIndex%local3;}getFrameNumber(scale,layerId){if(layerId<=1)return this._packetType;return this._ribbonType;}getSpriteAssetName(scale,layerId){const size=this.getValidSize(scale);let assetName=this._type;let layerCode='';if(layerId<this.spriteCount-1){layerCode=String.fromCharCode('a'.charCodeAt(0)+layerId);}else{layerCode='sd';}const frameNumber=this.getFrameNumber(scale,layerId);assetName=assetName+('_'+size+'_'+layerCode+'_'+this.direction);assetName=assetName+('_'+frameNumber);return assetName;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureGuildCustomizedVisualization.ts\nclass FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._color1=void 0;this._color2=void 0;this._badgeAssetNameNormalScale=void 0;this._badgeAssetNameSmallScale=void 0;this._color1=FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_1;this._color2=FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_2;this._badgeAssetNameNormalScale='';this._badgeAssetNameSmallScale='';}updateModel(scale){const flag=super.updateModel(scale);if(this._badgeAssetNameNormalScale===''){const assetName=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME);if(assetName){this._badgeAssetNameNormalScale=assetName;this._badgeAssetNameSmallScale=this._badgeAssetNameNormalScale+'_32';}}const color1=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1);this._color1=color1?color1:FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_1;const color2=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2);this._color2=color2?color2:FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_2;return flag;}getLayerColor(scale,layerId,colorId){const tag=this.getLayerTag(scale,this._direction,layerId);switch(tag){case FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.PRIMARY_COLOUR_SPRITE_TAG:return this._color1;case FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.SECONDARY_COLOUR_SPRITE_TAG:return this._color2;}return super.getLayerColor(scale,layerId,colorId);}getSpriteAssetName(scale,layerId){const tag=this.getLayerTag(scale,this._direction,layerId);if(tag===FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.BADGE){if(scale===32)return this._badgeAssetNameSmallScale;return this._badgeAssetNameNormalScale;}return super.getSpriteAssetName(scale,layerId);}getLibraryAssetNameForSprite(asset,sprite){if(sprite.tag===FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.BADGE){return'%group.badge.url%'+sprite.libraryAssetName.replace('badge_','');}return super.getLibraryAssetNameForSprite(asset,sprite);}}FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.PRIMARY_COLOUR_SPRITE_TAG='COLOR1';FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.SECONDARY_COLOUR_SPRITE_TAG='COLOR2';FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.BADGE='BADGE';FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_1=0xEEEEEE;FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_2=0x4B4B4B;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureGuildIsometricBadgeVisualization.ts\nclass FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization extends IsometricImageFurniVisualization_IsometricImageFurniVisualization{constructor(){super(...arguments);this._color1=void 0;this._color2=void 0;}updateModel(scale){const flag=super.updateModel(scale);if(!this.hasThumbnailImage){const assetName=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME);if(assetName&&assetName.length)this.setThumbnailImages(this.getBitmapAsset(assetName));}const color1=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1);this._color1=color1?color1:FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.DEFAULT_COLOR_1;const color2=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2);this._color2=color2?color2:FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.DEFAULT_COLOR_2;return flag;}getLayerColor(scale,layerId,colorId){const tag=this.getLayerTag(scale,this._direction,layerId);switch(tag){case FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.PRIMARY_COLOUR_SPRITE_TAG:return this._color1;case FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.SECONDARY_COLOUR_SPRITE_TAG:return this._color2;}return super.getLayerColor(scale,layerId,colorId);}getLibraryAssetNameForSprite(asset,sprite){if(sprite.tag===FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.THUMBNAIL){if(this.object&&this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME)){return'%group.badge.url%'+this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME);}}return super.getLibraryAssetNameForSprite(asset,sprite);}getBitmapAsset(name){const asset=this.asset.getAsset(name);if(!asset||!asset.texture)return null;return asset.texture;}}FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.PRIMARY_COLOUR_SPRITE_TAG='COLOR1';FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.SECONDARY_COLOUR_SPRITE_TAG='COLOR2';FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.DEFAULT_COLOR_1=0xEEEEEE;FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization.DEFAULT_COLOR_2=0x4B4B4B;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureHabboWheelVisualization.ts\nclass FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._stateQueue=void 0;this._running=void 0;this._stateQueue=[];this._running=false;}setAnimation(animationId){if(animationId===-1){if(!this._running){this._running=true;this._stateQueue=[];this._stateQueue.push(FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_START_ROLL);this._stateQueue.push(FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_ROLL);return;}}if(animationId>0&&animationId<=FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1){if(this._running){this._running=false;this._stateQueue=[];this._stateQueue.push(FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1+animationId);this._stateQueue.push(FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW2+animationId);this._stateQueue.push(animationId);return;}super.setAnimation(animationId);}}updateAnimation(scale){if(this.getLastFramePlayed(1)&&this.getLastFramePlayed(2)&&this.getLastFramePlayed(3)){if(this._stateQueue.length)super.setAnimation(this._stateQueue.shift());}return super.updateAnimation(scale);}}FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1=10;FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW2=20;FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_START_ROLL=31;FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization.ANIMATION_ID_ROLL=32;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureIsometricBBVisualization.ts\nclass FurnitureIsometricBBVisualization_FurnitureIsometricBBVisualization extends FurnitureBBVisualization_FurnitureBBVisualization{constructor(){super(...arguments);this._needsTransform=true;}transformGifTextures(asset){if(!this._gifCollection)return;const textures=this._gifCollection.textures;if(!textures.length)return;for(let i=0;i<textures.length;i++){const texture=textures[i];if(!texture)continue;const existingAsset=this.getAsset(`${this._imageUrl}_${i}`);if(!existingAsset)continue;const scale=1.1;const matrix=new math[\"d\" /* Matrix */]();const difference=asset.width/texture.width;switch(this.direction){case 2:matrix.a=difference;matrix.b=-0.5*difference;matrix.c=0;matrix.d=difference*scale;matrix.tx=0;matrix.ty=0.5*difference*texture.width;break;case 0:case 4:matrix.a=difference;matrix.b=0.5*difference;matrix.c=0;matrix.d=difference*scale;matrix.tx=0;matrix.ty=0;break;default:matrix.a=difference;matrix.b=0;matrix.c=0;matrix.d=difference;matrix.tx=0;matrix.ty=0;}const sprite=new NitroSprite_NitroSprite(texture);const renderTexture=esm_core[\"o\" /* RenderTexture */].create({width:asset.width+matrix.tx,height:asset.height+matrix.ty});Nitro_Nitro.instance.renderer.render(sprite,{renderTexture,clear:true,transform:matrix});this.asset.disposeAsset(`${this._imageUrl}_${i}`);this.asset.addAsset(`${this._imageUrl}_${i}`,renderTexture,true,asset.x,asset.y,asset.flipH,asset.flipV);}this._needsTransform=false;}generateTransformedImage(texture,asset){const scale=1.1;const matrix=new math[\"d\" /* Matrix */]();const difference=asset.width/texture.width;switch(this.direction){case 2:matrix.a=difference;matrix.b=-0.5*difference;matrix.c=0;matrix.d=difference*scale;matrix.tx=0;matrix.ty=0.5*difference*texture.width;break;case 0:case 4:matrix.a=difference;matrix.b=0.5*difference;matrix.c=0;matrix.d=difference*scale;matrix.tx=0;matrix.ty=0;break;default:matrix.a=difference;matrix.b=0;matrix.c=0;matrix.d=difference;matrix.tx=0;matrix.ty=0;}const sprite=new NitroSprite_NitroSprite(texture);const renderTexture=esm_core[\"o\" /* RenderTexture */].create({width:asset.width+matrix.tx,height:asset.height+matrix.ty});Nitro_Nitro.instance.renderer.render(sprite,{renderTexture,clear:true,transform:matrix});this.asset.disposeAsset(`${this._imageUrl}_0`);this.asset.addAsset(`${this._imageUrl}_0`,renderTexture,true,sprite.x,sprite.y,asset.flipH,asset.flipV);this._needsTransform=false;}checkAndCreateImageForCurrentState(){super.checkAndCreateImageForCurrentState();this._needsTransform=true;}getSpriteAssetName(scale,layerId){const tag=this.getLayerTag(scale,this._direction,layerId);if(tag===FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization.BRANDED_IMAGE&&this._imageUrl){if(this._needsTransform){if(this._isAnimated){this.transformGifTextures(this.getAsset(super.getSpriteAssetName(scale,layerId)));}else{this.generateTransformedImage(Nitro_Nitro.instance.core.asset.getTexture(this._imageUrl),this.getAsset(super.getSpriteAssetName(scale,layerId)));}}return`${this._imageUrl}_${this.getFrameNumber(scale,layerId)}`;}return super.getSpriteAssetName(scale,layerId);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureMannequinVisualizationData.ts\nclass FurnitureMannequinVisualizationData_FurnitureMannequinVisualizationData extends FurnitureVisualizationData_FurnitureVisualizationData{constructor(){super();this._avatarData=void 0;this._avatarData=new AvatarVisualizationData_AvatarVisualizationData();}dispose(){super.dispose();if(this._avatarData){this._avatarData.dispose();this._avatarData=null;}}createAvatarImage(figure,size){let gender=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let avatarListener=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let effectListener=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;return this._avatarData.createAvatarImage(figure,size,gender,avatarListener,effectListener);}set avatarManager(renderer){this._avatarData.avatarManager=renderer;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureMannequinVisualization.ts\nclass FurnitureMannequinVisualization_FurnitureMannequinVisualization extends FurnitureVisualization_FurnitureVisualization{constructor(){super();this._data=void 0;this._mannequinScale=void 0;this._figure=void 0;this._gender=void 0;this._dynamicAssetName=void 0;this._needsUpdate=void 0;this._placeHolderFigure=void 0;this._disposed=void 0;this._mannequinScale=-1;this._figure=null;this._gender=null;this._dynamicAssetName=null;this._needsUpdate=false;this._placeHolderFigure='hd-99999-99998';this._disposed=false;}initialize(data){if(!(data instanceof FurnitureMannequinVisualizationData_FurnitureMannequinVisualizationData))return false;return super.initialize(data);}dispose(){if(this._disposed)return;this._disposed=true;if(this._dynamicAssetName&&this.asset){this.asset.disposeAsset(this._dynamicAssetName);this._dynamicAssetName=null;}super.dispose();}updateObject(scale,direction){const updateObject=super.updateObject(scale,direction);if(updateObject){if(this._mannequinScale!==scale){this._mannequinScale=scale;this.updateAvatar();}}return updateObject;}updateModel(scale){let updateModel=super.updateModel(scale);if(updateModel){const figure=this.object.model.getValue(RoomObjectVariable.FURNITURE_MANNEQUIN_FIGURE)||null;if(figure){this._figure=figure+'.'+this._placeHolderFigure;this._gender=this.object.model.getValue(RoomObjectVariable.FURNITURE_MANNEQUIN_GENDER)||null;this.updateAvatar();}}updateModel=updateModel||this._needsUpdate;this._needsUpdate=false;return updateModel;}updateAvatar(){let forceUpdate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.avatarExists()||forceUpdate){const avatarImage=this._data.createAvatarImage(this._figure,this._mannequinScale,this._gender,this);if(avatarImage){avatarImage.setDirection(AvatarSetType.FULL,this.direction);if(this._dynamicAssetName)this.asset.disposeAsset(this._dynamicAssetName);this.asset.addAsset(this.getAvatarAssetName(),avatarImage.getImage(AvatarSetType.FULL,false,1,false),true);this._dynamicAssetName=this.getAvatarAssetName();this._needsUpdate=true;avatarImage.dispose();}}}avatarExists(){return this._figure&&this.getAsset(this.getAvatarAssetName())!==null;}getAvatarAssetName(){return'mannequin_'+this._figure+'_'+this._mannequinScale+'_'+this.direction+'_'+this.object.id;}resetFigure(figure){if(figure===this._figure)this.updateAvatar(true);}getSpriteAssetName(scale,layerId){const tag=this.getLayerTag(scale,this.direction,layerId);if(this._figure&&tag===FurnitureMannequinVisualization_FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists()){return this.getAvatarAssetName();}return super.getSpriteAssetName(scale,layerId);}getLayerXOffset(scale,direction,layerId){const tag=this.getLayerTag(scale,direction,layerId);if(tag===FurnitureMannequinVisualization_FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists())return-this.getSprite(layerId).width/2;return super.getLayerXOffset(scale,direction,layerId);}getLayerYOffset(scale,direction,layerId){const tag=this.getLayerTag(scale,direction,layerId);if(tag===FurnitureMannequinVisualization_FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists())return-this.getSprite(layerId).height;return super.getLayerYOffset(scale,direction,layerId);}get disposed(){return this._disposed;}}FurnitureMannequinVisualization_FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG='avatar_image';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurniturePartyBeamerVisualization.ts\nclass FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._animPhaseIndex=void 0;this._animDirectionIndex=void 0;this._animSpeedIndex=void 0;this._animFactorIndex=void 0;this._animOffsetIndex=void 0;this._animOffsetIndex=[];}updateAnimation(scale){if(!this._animSpeedIndex)this.initItems(scale);let sprite=this.getSprite(2);if(sprite)this._animOffsetIndex[0]=this.getNewPoint(scale,0);sprite=this.getSprite(3);if(sprite)this._animOffsetIndex[1]=this.getNewPoint(scale,1);return super.updateAnimation(scale);}getNewPoint(scale,layerId){let diameter=0;let animationPhase=this._animPhaseIndex[layerId];let animationDirection=this._animDirectionIndex[layerId];const animationSpeed=this._animSpeedIndex[layerId];const animationFactor=this._animFactorIndex[layerId];let _local_7=1;if(scale==32){diameter=FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.AREA_DIAMETER_SMALL;_local_7=0.5;}else{diameter=FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.AREA_DIAMETER_LARGE;}const _local_9=animationPhase+animationDirection*animationSpeed;if(Math.abs(_local_9)>=diameter){if(animationDirection>0){animationPhase=animationPhase-(_local_9-diameter);}else{animationPhase=animationPhase+(-diameter-_local_9);}animationDirection=-animationDirection;this._animDirectionIndex[layerId]=animationDirection;}const _local_10=(diameter-Math.abs(animationPhase))*animationFactor;let _local_11=animationDirection*Math.sin(Math.abs(animationPhase/4))*_local_10;if(animationDirection>0){_local_11=_local_11-_local_10;}else{_local_11=_local_11+_local_10;}animationPhase=animationPhase+animationDirection*animationSpeed*_local_7;this._animPhaseIndex[layerId]=animationPhase;if(Math.trunc(_local_11)==0)this._animFactorIndex[layerId]=this.getRandomAmplitudeFactor();return new NitroPoint_NitroPoint(animationPhase,_local_11);}initItems(scale){let diameter;if(scale===32){diameter=FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.AREA_DIAMETER_SMALL;}else{diameter=FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.AREA_DIAMETER_LARGE;}this._animPhaseIndex=[];this._animPhaseIndex.push(Math.random()*diameter*1.5);this._animPhaseIndex.push(Math.random()*diameter*1.5);this._animDirectionIndex=[];this._animDirectionIndex.push(1);this._animDirectionIndex.push(-1);this._animSpeedIndex=[];this._animSpeedIndex.push(FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.ANIM_SPEED_FAST);this._animSpeedIndex.push(FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.ANIM_SPEED_SLOW);this._animFactorIndex=[];this._animFactorIndex.push(this.getRandomAmplitudeFactor());this._animFactorIndex.push(this.getRandomAmplitudeFactor());}getLayerXOffset(scale,direction,layerId){if(layerId===2||layerId===3){if(this._animOffsetIndex.length==2){return this._animOffsetIndex[layerId-2].x;}}return super.getLayerXOffset(scale,direction,layerId);}getLayerYOffset(scale,direction,layerId){if(layerId===2||layerId===3){if(this._animOffsetIndex.length==2){return this._animOffsetIndex[layerId-2].y;}}return super.getLayerYOffset(scale,direction,layerId);}getRandomAmplitudeFactor(){return Math.random()*30/100+0.15;}}FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.UPDATE_INTERVAL=2;FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.AREA_DIAMETER_SMALL=15;FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.AREA_DIAMETER_LARGE=31;FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.ANIM_SPEED_FAST=2;FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization.ANIM_SPEED_SLOW=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurniturePlanetSystemVisualizationPlanetObject.ts\nclass FurniturePlanetSystemVisualizationPlanetObject_FurniturePlanetSystemVisualizationPlanetObject{constructor(name,index,radius,arcSpeed,arcOffset,height){this._name=void 0;this._index=void 0;this._radius=void 0;this._arcSpeed=void 0;this._arcOffset=void 0;this._height=void 0;this._position=void 0;this._positionVector=void 0;this._children=void 0;this._name=name;this._index=index;this._radius=radius;this._arcSpeed=arcSpeed*Math.PI*2/360;this._arcOffset=arcOffset*Math.PI*2/360;this._height=height;this._position=0;this._positionVector=new Vector3d(0,0,0);this._children=[];}dispose(){while(this._children.length>0){const child=this._children.shift();child.dispose();}}update(offsets,rootPosition,scale){this._position=this._position+this._arcSpeed/FurniturePlanetSystemVisualizationPlanetObject_FurniturePlanetSystemVisualizationPlanetObject.SYSTEM_TEMPO;offsets[this._index]=this.getPositionVector(rootPosition,scale);for(const child of this._children)child.update(offsets,this._positionVector,scale);}getPositionVector(position,scale){const cos=this._radius*Math.cos(this._position+this._arcOffset);const sine=this._radius*Math.sin(this._position+this._arcOffset);this._positionVector.x=(cos-sine)*(scale/2);this._positionVector.y=(sine+cos)*(scale/2)*0.5-this._height*(scale/2);this._positionVector.z=-Math.trunc(4*(cos+sine)-0.7);if(position)this._positionVector.add(position);return this._positionVector;}addChild(planetObject){if(this._children.indexOf(planetObject)>=0)return;this._children.push(planetObject);}hasChild(name){return!!this.getChild(name);}getChild(name){for(const child of this._children){if(child.name===name)return child;if(child.hasChild(name))return child.getChild(name);}return null;}get name(){return this._name;}}FurniturePlanetSystemVisualizationPlanetObject_FurniturePlanetSystemVisualizationPlanetObject.SYSTEM_TEMPO=30;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurniturePlanetSystemVisualization.ts\nclass FurniturePlanetSystemVisualization_FurniturePlanetSystemVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._planetIndex=void 0;this._planetNameIndex=void 0;this._offsetArray=void 0;this._rootPosition=void 0;this._offsetArray=[];this._rootPosition=new Vector3d();}dispose(){if(this._planetIndex){while(this._planetIndex.length>0){const planet=this._planetIndex.shift();planet.dispose();}}this._planetIndex=null;this._planetNameIndex=null;}updateAnimation(scale){if(!this._planetIndex&&this.spriteCount>0){if(!this.processPlanets())return 0;}if(this._planetIndex){for(const planet of this._planetIndex)planet.update(this._offsetArray,this._rootPosition,scale);return super.updateAnimation(scale);}return 0;}getLayerXOffset(scale,direction,layerId){if(this._offsetArray[layerId]){return this._offsetArray[layerId].x;}return super.getLayerXOffset(scale,direction,layerId);}getLayerYOffset(scale,direction,layerId){if(this._offsetArray[layerId]){return this._offsetArray[layerId].y;}return super.getLayerYOffset(scale,direction,layerId);}getLayerZOffset(scale,direction,layerId){if(this._offsetArray[layerId]){return this._offsetArray[layerId].z;}return super.getLayerZOffset(scale,direction,layerId);}processPlanets(){if(!this.object||!this.object.model)return;const planetSystems=this.object.model.getValue(RoomObjectVariable.FURNITURE_PLANETSYSTEM_DATA);if(!planetSystems)return false;this._planetIndex=[];this._planetNameIndex=[];for(const planet of planetSystems){const sprite=this.getSprite(planet.id);if(sprite){this.addPlanet(planet.name,planet.id,planet.parent,planet.radius||0,planet.arcSpeed||0,planet.arcOffset||0,planet.height||0);}}return true;}addPlanet(name,index,parentName,radius,arcSpeed,arcOffset,height){if(!this._planetIndex)return;const planet=new FurniturePlanetSystemVisualizationPlanetObject_FurniturePlanetSystemVisualizationPlanetObject(name,index,radius,arcSpeed,arcOffset,height);const existingPlanet=this.getPlanet(parentName);if(existingPlanet)existingPlanet.addChild(planet);else{this._planetIndex.push(planet);this._planetNameIndex.push(name);}}getPlanet(name){for(const planet of this._planetIndex){if(planet.name===name)return planet;if(planet.hasChild(name))return planet.getChild(name);}return null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurniturePosterVisualization.ts\nclass FurniturePosterVisualization_FurniturePosterVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureQueueTileVisualization.ts\nclass FurnitureQueueTileVisualization_FurnitureQueueTileVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._stateQueue=void 0;this._animationCounter=void 0;this._stateQueue=[];this._animationCounter=-1;}setAnimation(animationId){if(animationId===FurnitureQueueTileVisualization_FurnitureQueueTileVisualization.ANIMATION_ID_ROLL_ONCE){this._stateQueue=[];this._stateQueue.push(FurnitureQueueTileVisualization_FurnitureQueueTileVisualization.ANIMATION_ID_NORMAL);this._animationCounter=FurnitureQueueTileVisualization_FurnitureQueueTileVisualization.ANIMATION_DURATION;}return super.setAnimation(animationId);}updateAnimation(scale){if(this._animationCounter>0)this._animationCounter--;if(!this._animationCounter){if(this._stateQueue.length)super.setAnimation(this._stateQueue.shift());}return super.updateAnimation(scale);}usesAnimationResetting(){return true;}}FurnitureQueueTileVisualization_FurnitureQueueTileVisualization.ANIMATION_ID_ROLL=3;FurnitureQueueTileVisualization_FurnitureQueueTileVisualization.ANIMATION_ID_ROLL_ONCE=2;FurnitureQueueTileVisualization_FurnitureQueueTileVisualization.ANIMATION_ID_NORMAL=1;FurnitureQueueTileVisualization_FurnitureQueueTileVisualization.ANIMATION_DURATION=15;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureResettingAnimatedVisualization.ts\nclass FurnitureResettingAnimatedVisualization_FurnitureResettingAnimatedVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{usesAnimationResetting(){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureRoomBackgroundVisualization.ts\nclass FurnitureRoomBackgroundVisualization_FurnitureRoomBackgroundVisualization extends FurnitureBrandedImageVisualization_FurnitureBrandedImageVisualization{constructor(){super(...arguments);this._imageOffset=void 0;}imageReady(texture,imageUrl){super.imageReady(texture,imageUrl);if(!texture)return;this.setImageOffset(texture.width,texture.height);}setImageOffset(width,height){const offsetData=new DirectionalOffsetData();offsetData.setDirection(1,0,-height);offsetData.setDirection(3,0,0);offsetData.setDirection(5,-width,0);offsetData.setDirection(7,-width,-height);offsetData.setDirection(4,-width/2,-height/2);this._imageOffset=offsetData;}getLayerXOffset(scale,direction,layerId){if(this._imageOffset){const offset=this._imageOffset.getXOffset(direction,0);if(offset!==undefined)return offset+this._offsetX;}return super.getLayerXOffset(scale,direction,layerId)+this._offsetX;}getLayerYOffset(scale,direction,layerId){if(this._imageOffset){const offset=this._imageOffset.getYOffset(direction,0);if(offset!==undefined)return offset+this._offsetY;}return super.getLayerYOffset(scale,direction,layerId)+this._offsetY;}getLayerZOffset(scale,direction,layerId){return super.getLayerZOffset(scale,direction,layerId)+-this._offsetZ;}getLayerIgnoreMouse(scale,direction,layerId){return true;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureScoreBoardVisualization.ts\nclass FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{getFrameNumber(scale,layerId){const tag=this.getLayerTag(scale,this.direction,layerId);const animation=this.object.getState(0);switch(tag){case FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.ONES_SPRITE:return Math.floor(animation%10);case FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.TENS_SPRITE:return Math.floor(animation/10%10);case FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.HUNDREDS_SPRITE:return Math.floor(animation/100%10);case FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.THOUSANDS_SPRITE:return Math.floor(animation/1000%10);default:return super.getFrameNumber(scale,layerId);}}}FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.ONES_SPRITE='ones_sprite';FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.TENS_SPRITE='tens_sprite';FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.HUNDREDS_SPRITE='hundreds_sprite';FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization.THOUSANDS_SPRITE='thousands_sprite';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureSoundBlockVisualization.ts\nclass FurnitureSoundBlockVisualization_FurnitureSoundBlockVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super(...arguments);this._internalFrameIncreaseCounter=0;}updateAnimations(scale){this._internalFrameIncreaseCounter=this._internalFrameIncreaseCounter+this.object.model.getValue(RoomObjectVariable.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED);this._frameIncrease=this._internalFrameIncreaseCounter;this._internalFrameIncreaseCounter=this._internalFrameIncreaseCounter-this._frameIncrease;return super.updateAnimations(scale);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureStickieVisualization.ts\nclass FurnitureStickieVisualization_FurnitureStickieVisualization extends FurnitureVisualization_FurnitureVisualization{getLayerColor(scale,layerId,colorId){if(!this._data)return ColorData.DEFAULT_COLOR;return this._data.getLayerColor(scale,layerId,colorId);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureValRandomizerVisualization.ts\nclass FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._stateQueue=void 0;this._running=void 0;this._stateQueue=[];this._running=false;super.setAnimation(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFF);}setAnimation(animationId){if(animationId===0){if(!this._running){this._running=true;this._stateQueue=[];this._stateQueue.push(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_START_ROLL);this._stateQueue.push(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_ROLL);return;}}if(animationId>0&&animationId<=FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2){if(this._running){this._running=false;this._stateQueue=[];if(this.direction===2){this._stateQueue.push(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW1+5);this._stateQueue.push(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2+5);}else{this._stateQueue.push(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW1+animationId);this._stateQueue.push(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2+animationId);}this._stateQueue.push(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFF);return;}super.setAnimation(FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFF);}}updateAnimation(scale){if(this.getLastFramePlayed(11)){if(this._stateQueue.length)super.setAnimation(this._stateQueue.shift());}return super.updateAnimation(scale);}}FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW1=20;FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2=10;FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_START_ROLL=31;FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_ROLL=32;FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization.ANIMATION_ID_OFF=30;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureVoteCounterVisualization.ts\nclass FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{updateObject(scale,direction){super.updateObject(scale,direction);return true;}getFrameNumber(scale,layerId){const result=this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT);const tag=this.getLayerTag(scale,this.direction,layerId);switch(tag){case FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.ONES_SPRITE:return result%10;case FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.TENS_SPRITE:return result/10%10;case FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.HUNDREDS_SPRITE:return result/100%10;default:return super.getFrameNumber(scale,layerId);}}getLayerAlpha(scale,direction,layerId){const result=this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT);if(result===FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.HIDE_COUNTER_SCORE){const tag=this.getLayerTag(scale,direction,layerId);switch(tag){case FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.ONES_SPRITE:case FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.TENS_SPRITE:case FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.HUNDREDS_SPRITE:return 0;}}return super.getLayerAlpha(scale,direction,layerId);}}FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.ONES_SPRITE='ones_sprite';FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.TENS_SPRITE='tens_sprite';FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.HUNDREDS_SPRITE='hundreds_sprite';FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization.HIDE_COUNTER_SCORE=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureVoteMajorityVisualization.ts\nclass FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{getFrameNumber(scale,layerId){const result=this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT);const tag=this.getLayerTag(scale,this.direction,layerId);switch(tag){case FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.ONES_SPRITE:return result%10;case FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.TENS_SPRITE:return result/10%10;case FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.HUNDREDS_SPRITE:return result/100%10;default:return super.getFrameNumber(scale,layerId);}}getLayerAlpha(scale,direction,layerId){const result=this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT);if(!(FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.HIDE_RESULTS_STATES.indexOf(this.object.getState(0))===-1)||result===FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.HIDE_RESULTS_VALUE){const tag=this.getLayerTag(scale,direction,layerId);switch(tag){case FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.ONES_SPRITE:case FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.TENS_SPRITE:case FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.HUNDREDS_SPRITE:return 0;}}return super.getLayerAlpha(scale,direction,layerId);}}FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.ONES_SPRITE='ones_sprite';FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.TENS_SPRITE='tens_sprite';FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.HUNDREDS_SPRITE='hundreds_sprite';FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.HIDE_RESULTS_STATES=[-1,1];FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization.HIDE_RESULTS_VALUE=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureWaterAreaVisualization.ts\nclass FurnitureWaterAreaVisualization_FurnitureWaterAreaVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureYoutubeVisualization.ts\nclass FurnitureYoutubeVisualization_FurnitureYoutubeVisualization extends FurnitureDynamicThumbnailVisualization_FurnitureDynamicThumbnailVisualization{getThumbnailURL(){if(!this.object)return null;const furnitureData=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);if(furnitureData)return furnitureData[FurnitureYoutubeVisualization_FurnitureYoutubeVisualization.THUMBNAIL_URL]||null;return null;}}FurnitureYoutubeVisualization_FurnitureYoutubeVisualization.THUMBNAIL_URL='THUMBNAIL_URL';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/pet/ExperienceData.ts\nclass ExperienceData_ExperienceData{constructor(texture){this._sprite=void 0;this._texture=void 0;this._amount=void 0;this._alpha=void 0;this._sprite=new NitroSprite_NitroSprite(texture);this._texture=null;this._amount=-1;this._alpha=0;}renderBubble(amount){if(!this._sprite||this._amount===amount)return null;const container=new NitroContainer_NitroContainer();container.addChild(this._sprite);const text=new esm_text[\"a\" /* Text */]('+'+amount,{fontFamily:'Arial',fontSize:9,fill:0xFFFFFF,align:'center'});text.anchor.x=0.5;text.x=this._sprite.width/2;text.y=19;container.addChild(text);if(!this._texture){this._texture=TextureUtils_TextureUtils.generateTexture(container);}else{Nitro_Nitro.instance.renderer.render(container,{renderTexture:this._texture,clear:true});}return this._texture;}get amount(){return this._amount;}set amount(amount){this._amount=amount;}get alpha(){return this._alpha;}set alpha(alpha){this._alpha=alpha;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/PetSizeData.ts\nclass PetSizeData_PetSizeData extends AnimationSizeData_AnimationSizeData{constructor(layerCount,angle){super(layerCount,angle);this._posturesToAnimations=void 0;this._gesturesToAnimations=void 0;this._defaultPosture=void 0;this._posturesToAnimations=new Map();this._gesturesToAnimations=new Map();this._defaultPosture=null;}processPostures(postures){if(!postures)return false;if(postures.defaultPosture&&postures.defaultPosture.length)this._defaultPosture=postures.defaultPosture;if(!postures.postures)return false;for(const posture of postures.postures){if(this._posturesToAnimations.get(posture.id))continue;if(this._defaultPosture===null)this._defaultPosture=posture.id;this._posturesToAnimations.set(posture.id,posture.animationId);}if(this._posturesToAnimations.get(this._defaultPosture)===undefined)return false;return true;}processGestures(gestures){if(!gestures)return false;for(const gesture of gestures){if(this._gesturesToAnimations.get(gesture.id))continue;this._gesturesToAnimations.set(gesture.id,gesture.animationId);}return true;}postureToAnimation(posture){if(!this._posturesToAnimations.get(posture))posture=this._defaultPosture;return this._posturesToAnimations.get(posture);}getGestureDisabled(k){if(k==='ded')return true;return false;}gestureToAnimation(gesture){if(!this._gesturesToAnimations.get(gesture))return PetSizeData_PetSizeData.DEFAULT;return this._gesturesToAnimations.get(gesture);}animationToPosture(k,_arg_2){if(k>=0&&k<this._posturesToAnimations.size){const keys=this._posturesToAnimations.keys();for(;;){const key=keys.next();if(key.done)return null;if(k<=0)return key.value;--k;}}return _arg_2?this._defaultPosture:null;}animationToGesture(index){if(index>=0&&index<this._gesturesToAnimations.size){const keys=this._gesturesToAnimations.keys();for(;;){const key=keys.next();if(key.done)return null;if(index<=0)return key.value;--index;}}return null;}getGestureForAnimationId(k){for(const _local_2 of this._gesturesToAnimations.keys()){if(this._gesturesToAnimations.get(_local_2)===k)return _local_2;}return null;}get totalPostures(){return this._posturesToAnimations.size;}get totalGestures(){return this._gesturesToAnimations.size;}}PetSizeData_PetSizeData.DEFAULT=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/pet/PetVisualizationData.ts\nclass PetVisualizationData_PetVisualizationData extends FurnitureAnimatedVisualizationData_FurnitureAnimatedVisualizationData{constructor(){super();this._isAllowedToTurnHead=void 0;this._isAllowedToTurnHead=true;}createSizeData(scale,layerCount,angle){if(scale>1)return new PetSizeData_PetSizeData(layerCount,angle);else return new AnimationSizeData_AnimationSizeData(layerCount,angle);}defineVisualizations(visualizations){this._isAllowedToTurnHead=true;//check visualization for '@disableheadturn'\nreturn super.defineVisualizations(visualizations);}processVisualElement(sizeData,key,data){if(!sizeData||!key||!data)return false;switch(key){case'postures':if(!(sizeData instanceof PetSizeData_PetSizeData)||!sizeData.processPostures(data))return false;break;case'gestures':if(!(sizeData instanceof PetSizeData_PetSizeData)||!sizeData.processGestures(data))return false;break;default:if(!super.processVisualElement(sizeData,key,data))return false;break;}return true;}postureToAnimation(scale,posture){const size=this.getSizeData(scale);if(!size)return PetSizeData_PetSizeData.DEFAULT;return size.postureToAnimation(posture);}getGestureDisabled(scale,posture){const size=this.getSizeData(scale);if(!size)return false;return size.getGestureDisabled(posture);}gestureToAnimation(scale,gesture){const size=this.getSizeData(scale);if(!size)return PetSizeData_PetSizeData.DEFAULT;return size.gestureToAnimation(gesture);}animationToPosture(scale,index,useDefault){const size=this.getSizeData(scale);if(!size)return null;return size.animationToPosture(index,useDefault);}animationToGesture(scale,index){const size=this.getSizeData(scale);if(!size)return null;return size.animationToGesture(index);}getGestureForAnimationId(scale,_arg_2){const size=this.getSizeData(scale);if(!size)return null;return size.getGestureForAnimationId(_arg_2);}totalPostures(scale){const size=this.getSizeData(scale);if(!size)return 0;return size.totalPostures;}totalGestures(scale){const size=this.getSizeData(scale);if(!size)return 0;return size.totalGestures;}get isAllowedToTurnHead(){return this._isAllowedToTurnHead;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/pet/PetVisualization.ts\nclass PetVisualization_PetVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._data=void 0;this._posture=void 0;this._gesture=void 0;this._isSleeping=void 0;this._headDirection=void 0;this._headOnly=void 0;this._nonHeadSprites=void 0;this._headSprites=void 0;this._saddleSprites=void 0;this._animationOver=void 0;this._paletteIndex=void 0;this._paletteName=void 0;this._customLayerIds=void 0;this._customPartIds=void 0;this._customPaletteIds=void 0;this._isRiding=void 0;this._color=void 0;this._experience=void 0;this._experienceTimestamp=void 0;this._experienceData=void 0;this._previousAnimationDirection=void 0;this._animationStates=void 0;this._data=null;this._posture='';this._gesture='';this._isSleeping=false;this._headDirection=-1;this._headOnly=false;this._nonHeadSprites=[];this._headSprites=[];this._saddleSprites=[];this._animationOver=false;this._paletteIndex=-1;this._paletteName='';this._customLayerIds=[];this._customPartIds=[];this._customPaletteIds=[];this._isRiding=false;this._color=0xFFFFFF;this._experience=0;this._experienceTimestamp=0;this._experienceData=null;this._previousAnimationDirection=-1;this._animationStates=[];while(this._animationStates.length<PetVisualization_PetVisualization.ANIMATION_INDEX_COUNT)this._animationStates.push(new AnimationStateData_AnimationStateData());}initialize(data){if(!(data instanceof PetVisualizationData_PetVisualizationData))return false;const texture=this.getPetAdditionAsset(PetVisualization_PetVisualization.PET_EXPERIENCE_BUBBLE);if(texture){this._experienceData=new ExperienceData_ExperienceData(texture);}return super.initialize(data);}dispose(){super.dispose();if(this._animationStates){while(this._animationStates.length){const animationState=this._animationStates[0];if(animationState)animationState.dispose();this._animationStates.pop();}this._animationStates=null;}}getAnimationId(animationData){return animationData.animationId;}update(geometry,time,update,skipUpdate){super.update(geometry,time,update,skipUpdate);this.updateExperienceBubble(time);}updateExperienceBubble(time){if(!this._experienceData)return;this._experienceData.alpha=0;if(this._experienceTimestamp){const difference=time-this._experienceTimestamp;if(difference<PetVisualization_PetVisualization.EXPERIENCE_BUBBLE_VISIBLE_IN_MS){this._experienceData.alpha=Math.sin(difference/PetVisualization_PetVisualization.EXPERIENCE_BUBBLE_VISIBLE_IN_MS*Math.PI)*0xFF;}else{this._experienceTimestamp=0;}const sprite=this.getSprite(this.totalSprites-1);if(sprite){if(this._experienceData.alpha>0){const texture=this._experienceData.renderBubble(this._experience);if(texture){sprite.texture=texture;sprite.offsetX=-20;sprite.offsetY=-80;sprite.alpha=this._experienceData.alpha;sprite.visible=true;sprite.relativeDepth=-0.2;return;}}sprite.texture=null;sprite.visible=false;}}}updateModel(scale){const model=this.object&&this.object.model;if(!model)return false;if(this.updateModelCounter===model.updateCounter)return false;const posture=model.getValue(RoomObjectVariable.FIGURE_POSTURE);const gesture=model.getValue(RoomObjectVariable.FIGURE_GESTURE);this.setPostureAndGesture(posture,gesture);let alphaMultiplier=model.getValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER)||null;if(alphaMultiplier===null||isNaN(alphaMultiplier))alphaMultiplier=1;if(this._alphaMultiplier!==alphaMultiplier){this._alphaMultiplier=alphaMultiplier;this._alphaChanged=true;}this._isSleeping=model.getValue(RoomObjectVariable.FIGURE_SLEEP)>0;const headDirection=model.getValue(RoomObjectVariable.HEAD_DIRECTION);if(!isNaN(headDirection)&&this._data.isAllowedToTurnHead){this._headDirection=headDirection;}else{this._headDirection=this.object.getDirection().x;}this._experience=model.getValue(RoomObjectVariable.FIGURE_GAINED_EXPERIENCE);this._experienceTimestamp=model.getValue(RoomObjectVariable.FIGURE_EXPERIENCE_TIMESTAMP);const customPaletteIndex=model.getValue(RoomObjectVariable.PET_PALETTE_INDEX);const customLayerIds=model.getValue(RoomObjectVariable.PET_CUSTOM_LAYER_IDS);const customPartIds=model.getValue(RoomObjectVariable.PET_CUSTOM_PARTS_IDS);const customPaletteIds=model.getValue(RoomObjectVariable.PET_CUSTOM_PALETTE_IDS);const isRiding=model.getValue(RoomObjectVariable.PET_IS_RIDING);const headOnly=model.getValue(RoomObjectVariable.PET_HEAD_ONLY);const color=model.getValue(RoomObjectVariable.PET_COLOR);if(customPaletteIndex!==this._paletteIndex){this._paletteIndex=customPaletteIndex;this._paletteName=this._paletteIndex.toString();}this._customLayerIds=customLayerIds?customLayerIds:[];this._customPartIds=customPartIds?customPartIds:[];this._customPaletteIds=customPaletteIds?customPaletteIds:[];this._isRiding=!isNaN(isRiding)&&isRiding>0;this._headOnly=!isNaN(headOnly)&&headOnly>0;if(!isNaN(color)&&this._color!==color)this._color=color;this.updateModelCounter=model.updateCounter;return true;}updateAnimation(scale){if(this.object){const direction=this.object.getDirection().x;if(direction!==this._previousAnimationDirection){this._previousAnimationDirection=direction;this.resetAllAnimationFrames();}}return super.updateAnimation(scale);}setPostureAndGesture(posture,gesture){if(posture!==this._posture){this._posture=posture;this.setAnimationForIndex(PetVisualization_PetVisualization.POSTURE_ANIMATION_INDEX,this._data.postureToAnimation(this._scale,posture));}if(this._data.getGestureDisabled(this._scale,posture))gesture=null;if(gesture!==this._gesture){this._gesture=gesture;this.setAnimationForIndex(PetVisualization_PetVisualization.GESTURE_ANIMATION_INDEX,this._data.gestureToAnimation(this._scale,gesture));}}getAnimationStateData(k){if(k>=0&&k<this._animationStates.length)return this._animationStates[k];return null;}setAnimationForIndex(k,_arg_2){const animationStateData=this.getAnimationStateData(k);if(animationStateData){if(this.setSubAnimation(animationStateData,_arg_2))this._animationOver=false;}}resetAllAnimationFrames(){this._animationOver=false;let index=this._animationStates.length-1;while(index>=0){const stateData=this._animationStates[index];if(stateData)stateData.setLayerCount(this.animatedLayerCount);index--;}}updateAnimations(scale){if(this._animationOver)return 0;let animationOver=true;let _local_3=0;let index=0;while(index<this._animationStates.length){const stateData=this._animationStates[index];if(stateData){if(!stateData.animationOver){const _local_6=this.updateFramesForAnimation(stateData,scale);_local_3=_local_3|_local_6;if(!stateData.animationOver){animationOver=false;}else{if(AnimationData_AnimationData.isTransitionFromAnimation(stateData.animationId)||AnimationData_AnimationData.isTransitionToAnimation(stateData.animationId)){this.setAnimationForIndex(index,stateData.animationAfterTransitionId);animationOver=false;}}}}index++;}this._animationOver=animationOver;return _local_3;}getSpriteAssetName(scale,layerId){if(this._headOnly&&this.isNonHeadSprite(layerId))return null;if(this._isRiding&&this._parser3(layerId))return null;const totalSprites=this.totalSprites;if(layerId<totalSprites-PetVisualization_PetVisualization.ADDITIONAL_SPRITE_COUNT){const validScale=this.getValidSize(scale);if(layerId<totalSprites-(1+PetVisualization_PetVisualization.ADDITIONAL_SPRITE_COUNT)){if(layerId>=FurnitureVisualizationData_FurnitureVisualizationData.LAYER_LETTERS.length)return null;const layerLetter=FurnitureVisualizationData_FurnitureVisualizationData.LAYER_LETTERS[layerId];if(validScale===1)return this._type+'_icon_'+layerLetter;return this._type+'_'+validScale+'_'+layerLetter+'_'+this.getDirection(scale,layerId)+'_'+this.getFrameNumber(validScale,layerId);}return this._type+'_'+validScale+'_sd_'+this.getDirection(scale,layerId)+'_0';}return null;}getLayerColor(scale,layerId,colorId){if(layerId<this.totalSprites-PetVisualization_PetVisualization.ADDITIONAL_SPRITE_COUNT)return this._color;return 0xFFFFFF;}getLayerXOffset(scale,direction,layerId){let offset=super.getLayerXOffset(scale,direction,layerId);let index=this._animationStates.length-1;while(index>=0){const stateData=this._animationStates[index];if(stateData){const frame=stateData.getFrame(layerId);if(frame)offset+=frame.x;}index--;}return offset;}getLayerYOffset(scale,direction,layerId){let offset=super.getLayerYOffset(scale,direction,layerId);let index=this._animationStates.length-1;while(index>=0){const stateData=this._animationStates[index];if(stateData){const frame=stateData.getFrame(layerId);if(frame)offset+=frame.y;}index--;}return offset;}getLayerZOffset(scale,direction,layerId){if(!this._data)return LayerData.DEFAULT_ZOFFSET;return this._data.getLayerZOffset(scale,this.getDirection(scale,layerId),layerId);}getDirection(scale,layerId){if(!this.isHeadSprite(layerId))return this._direction;return this._data.getValidDirection(scale,this._headDirection);}getFrameNumber(scale,layerId){let index=this._animationStates.length-1;while(index>=0){const stateData=this._animationStates[index];if(stateData){const frame=stateData.getFrame(layerId);if(frame)return frame.id;}index--;}return super.getFrameNumber(scale,layerId);}isHeadSprite(layerId){if(this._headSprites[layerId]===undefined){const isHead=this._data.getLayerTag(this._scale,DirectionData_DirectionData.USE_DEFAULT_DIRECTION,layerId)===PetVisualization_PetVisualization.HEAD;const isHair=this._data.getLayerTag(this._scale,DirectionData_DirectionData.USE_DEFAULT_DIRECTION,layerId)===PetVisualization_PetVisualization.HAIR;if(isHead||isHair)this._headSprites[layerId]=true;else this._headSprites[layerId]=false;}return this._headSprites[layerId];}isNonHeadSprite(layerId){if(this._nonHeadSprites[layerId]===undefined){if(layerId<this.totalSprites-(1+PetVisualization_PetVisualization.ADDITIONAL_SPRITE_COUNT)){const tag=this._data.getLayerTag(this._scale,DirectionData_DirectionData.USE_DEFAULT_DIRECTION,layerId);if(tag&&tag.length>0&&tag!==PetVisualization_PetVisualization.HEAD&&tag!==PetVisualization_PetVisualization.HAIR){this._nonHeadSprites[layerId]=true;}else{this._nonHeadSprites[layerId]=false;}}else{this._nonHeadSprites[layerId]=true;}}return this._nonHeadSprites[layerId];}_parser3(layerId){if(this._saddleSprites[layerId]===undefined){if(this._data.getLayerTag(this._scale,DirectionData_DirectionData.USE_DEFAULT_DIRECTION,layerId)===PetVisualization_PetVisualization.SADDLE){this._saddleSprites[layerId]=true;}else{this._saddleSprites[layerId]=false;}}return this._saddleSprites[layerId];}getAsset(name){let layerId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;if(!this.asset)return null;const layerIndex=this._customLayerIds.indexOf(layerId);let paletteName=this._paletteName;let partId=-1;let paletteId=-1;if(layerIndex>-1){partId=this._customPartIds[layerIndex];paletteId=this._customPaletteIds[layerIndex];paletteName=paletteId>-1?paletteId.toString():this._paletteName;}if(!isNaN(partId)&&partId>-1){name=name+'_'+partId;}return this.asset.getAssetWithPalette(name,paletteName);}getAdditionalLayerCount(){return super.getAdditionalLayerCount()+PetVisualization_PetVisualization.ADDITIONAL_SPRITE_COUNT;}setLayerCount(count){super.setLayerCount(count);this._headSprites=[];}getPostureForAsset(scale,name){const parts=name.split('_');let length=parts.length;let i=0;while(i<parts.length){if(parts[i]==='64'||parts[i]==='32'){length=i+3;break;}i++;}let posture=null;if(length<parts.length){let part=parts[length];part=part.split('@')[0];posture=this._data.animationToPosture(scale,parseInt(part)/100,false);if(!posture)posture=this._data.getGestureForAnimationId(scale,parseInt(part)/100);}return posture;}getPetAdditionAsset(name){return Nitro_Nitro.instance.core.asset.getTexture(name);}}PetVisualization_PetVisualization.TYPE=RoomObjectVisualizationType.PET_ANIMATED;PetVisualization_PetVisualization.HEAD='head';PetVisualization_PetVisualization.SADDLE='saddle';PetVisualization_PetVisualization.HAIR='hair';PetVisualization_PetVisualization.ADDITIONAL_SPRITE_COUNT=1;PetVisualization_PetVisualization.EXPERIENCE_BUBBLE_VISIBLE_IN_MS=1000;PetVisualization_PetVisualization.PET_EXPERIENCE_BUBBLE='avatar_addition_pet_experience_bubble';PetVisualization_PetVisualization.POSTURE_ANIMATION_INDEX=0;PetVisualization_PetVisualization.GESTURE_ANIMATION_INDEX=1;PetVisualization_PetVisualization.ANIMATION_INDEX_COUNT=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomPlaneBitmapMaskData.ts\nclass RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData{constructor(type,loc,category){this._loc=void 0;this._type=void 0;this._category=void 0;this.type=type;this.loc=loc;this.category=category;}get loc(){return this._loc;}set loc(k){if(!this._loc)this._loc=new Vector3d();this._loc.assign(k);}get type(){return this._type;}set type(type){this._type=type;}get category(){return this._category;}set category(category){this._category=category;}dispose(){this._loc=null;}}RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData.WINDOW='window';RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData.HOLE='hole';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomMapMaskData.ts\nclass RoomMapMaskData{constructor(){this._masks=void 0;this._masks=[];}get masks(){return this._masks;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomPlaneBitmapMaskParser.ts\nclass RoomPlaneBitmapMaskParser_RoomPlaneBitmapMaskParser{constructor(){this._masks=void 0;this._masks=new Map();}get maskCount(){return this._masks.size;}dispose(){if(this._masks){this.reset();this._masks=null;}}initialize(k){if(!k)return false;this._masks.clear();if(k.masks.length){for(const mask of k.masks){if(!mask)continue;const location=mask.locations.length?mask.locations[0]:null;if(!location)continue;this._masks.set(mask.id,new RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData(mask.type,location,mask.category));}}return true;}reset(){for(const mask of this._masks.values()){if(!mask)continue;mask.dispose();}this._masks.clear();}addMask(k,_arg_2,_arg_3,_arg_4){const mask=new RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData(_arg_2,_arg_3,_arg_4);this._masks.delete(k);this._masks.set(k,mask);}removeMask(k){const existing=this._masks.get(k);if(existing){this._masks.delete(k);existing.dispose();return true;}return false;}getXML(){const data=new RoomMapMaskData();for(const[key,mask]of this._masks.entries()){if(!mask)continue;const type=this.getMaskType(mask);const category=this.getMaskCategory(mask);const location=this.getMaskLocation(mask);if(type&&category&&location){const newMask={id:key,type:type,category:category,locations:[{x:location.x,y:location.y,z:location.z}]};data.masks.push(newMask);}}return data;}getMaskLocation(mask){if(!mask)return null;return mask.loc;}getMaskType(mask){if(!mask)return null;return mask.type;}getMaskCategory(mask){if(!mask)return null;return mask.category;}get masks(){return this._masks;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/PlaneDrawingData.ts\nclass PlaneDrawingData{constructor(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._z=void 0;this._points=void 0;this._color=void 0;this._maskAssetNames=void 0;this._maskAssetLocations=void 0;this._maskAssetFlipHs=void 0;this._maskAssetFlipVs=void 0;this._alignBottom=void 0;this._assetNames=void 0;this._assetNames=[];this._maskAssetNames=[];this._maskAssetLocations=[];this._maskAssetFlipHs=[];this._maskAssetFlipVs=[];if(k!=null){this._maskAssetNames=k._maskAssetNames;this._maskAssetLocations=k._maskAssetLocations;this._maskAssetFlipHs=k._maskAssetFlipHs;this._maskAssetFlipVs=k._maskAssetFlipVs;}this._color=_arg_2;this._alignBottom=_arg_3;}addMask(k,_arg_2,_arg_3,_arg_4){this._maskAssetNames.push(k);this._maskAssetLocations.push(_arg_2);this._maskAssetFlipHs.push(_arg_3);this._maskAssetFlipVs.push(_arg_4);}addAssetColumn(k){this._assetNames.push(k);}set z(k){this._z=k;}get z(){return this._z;}set cornerPoints(k){this._points=k;}get cornerPoints(){return this._points;}get color(){return this._color;}get maskAssetNames(){return this._maskAssetNames;}get maskAssetLocations(){return this._maskAssetLocations;}get maskAssetFlipHs(){return this._maskAssetFlipHs;}get maskAssetFlipVs(){return this._maskAssetFlipVs;}isBottomAligned(){return this._alignBottom;}get assetNameColumns(){return this._assetNames;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/RoomPlaneBitmapMask.ts\nclass RoomPlaneBitmapMask{constructor(k,_arg_2,_arg_3){this._type=void 0;this._leftSideLoc=void 0;this._rightSideLoc=void 0;this._type=k;this._leftSideLoc=_arg_2;this._rightSideLoc=_arg_3;}get type(){return this._type;}get leftSideLoc(){return this._leftSideLoc;}get rightSideLoc(){return this._rightSideLoc;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/RoomPlaneRectangleMask.ts\nclass RoomPlaneRectangleMask{constructor(k,_arg_2,_arg_3,_arg_4){this._leftSideLoc=void 0;this._rightSideLoc=void 0;this._leftSideLength=void 0;this._rightSideLength=void 0;this._leftSideLoc=k;this._rightSideLoc=_arg_2;this._leftSideLength=_arg_3;this._rightSideLength=_arg_4;}get leftSideLoc(){return this._leftSideLoc;}get rightSideLoc(){return this._rightSideLoc;}get leftSideLength(){return this._leftSideLength;}get rightSideLength(){return this._rightSideLength;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/utils/PlaneBitmapData.ts\nclass PlaneBitmapData{constructor(k,_arg_2){this._bitmap=void 0;this._timeStamp=void 0;this._bitmap=k;this._timeStamp=_arg_2;}dispose(){this._bitmap=null;}get bitmap(){return this._bitmap;}get timeStamp(){return this._timeStamp;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/utils/Randomizer.ts\nclass Randomizer{constructor(){this._seed=1;this._modulus=16777216;this._multiplier=69069;this._increment=5;}static setSeed(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!Randomizer._randomizer)Randomizer._randomizer=new Randomizer();Randomizer._randomizer.seed=k;}static setModulus(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:16777216;if(!Randomizer._randomizer)Randomizer._randomizer=new Randomizer();Randomizer._randomizer.modulus=k;}static getValues(k,_arg_2,_arg_3){if(!Randomizer._randomizer)Randomizer._randomizer=new Randomizer();return Randomizer._randomizer.getRandomValues(k,_arg_2,_arg_3);}static getArray(k,_arg_2){if(!Randomizer._randomizer)Randomizer._randomizer=new Randomizer();return Randomizer._randomizer.getRandomArray(k,_arg_2);}set seed(k){this._seed=k;}set modulus(k){if(k<1)k=1;this._modulus=k;}dispose(){}getRandomValues(k,_arg_2,_arg_3){const _local_4=[];let _local_5=0;while(_local_5<k){_local_4.push(this.iterateScaled(_arg_2,_arg_3-_arg_2));_local_5++;}return _local_4;}getRandomArray(k,_arg_2){if(k>_arg_2||_arg_2>1000)return null;const _local_3=[];let _local_4=0;while(_local_4<=_arg_2){_local_3.push(_local_4);_local_4++;}const _local_5=[];let _local_6=0;while(_local_6<k){const _local_7=this.iterateScaled(0,_local_3.length-1);_local_5.push(_local_3[_local_7]);_local_3.splice(_local_7,1);_local_6++;}return _local_5;}iterate(){let k=this._multiplier*this._seed+this._increment;if(k<0)k=-k;k=k%this._modulus;this._seed=k;return k;}iterateScaled(k,_arg_2){let _local_3=this.iterate();if(_arg_2<1)return k;_local_3=k+_local_3/this._modulus*_arg_2;return _local_3;}}Randomizer.DEFAULT_SEED=1;Randomizer.DEFAULT_MODULUS=16777216;Randomizer._randomizer=null;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/RoomPlane.ts\nclass RoomPlane_RoomPlane{constructor(origin,location,leftSide,rightSide,type,usesMask,secondaryNormals,randomSeed){let textureOffsetX=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let textureOffsetY=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let textureMaxX=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let textureMaxY=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;this._disposed=void 0;this._randomSeed=void 0;this._origin=void 0;this._location=void 0;this._leftSide=void 0;this._rightSide=void 0;this._normal=void 0;this._secondaryNormals=void 0;this._geometryUpdateId=void 0;this._type=void 0;this._isVisible=void 0;this._bitmapTexture=void 0;this._bitmapData=void 0;this._hasTexture=void 0;this._offset=void 0;this._relativeDepth=void 0;this._color=void 0;this._rasterizer=void 0;this._maskManager=null;this._id=void 0;this._uniqueId=void 0;this._textureOffsetX=void 0;this._textureOffsetY=void 0;this._textureMaxX=void 0;this._textureMaxY=void 0;this._textures=void 0;this._activeTexture=void 0;this._useMask=void 0;this._bitmapMasks=void 0;this._rectangleMasks=void 0;this._maskChanged=void 0;this._maskBitmapData=void 0;this._bitmapMasksOld=void 0;this._rectangleMasksOld=void 0;this._cornerA=void 0;this._cornerB=void 0;this._cornerC=void 0;this._cornerD=void 0;this._width=0;this._height=0;this._canBeVisible=void 0;this._secondaryNormals=[];this._bitmapMasks=[];this._rectangleMasks=[];this._bitmapMasksOld=[];this._rectangleMasksOld=[];this._randomSeed=randomSeed;this._bitmapData=null;this._maskBitmapData=null;this._maskChanged=false;this._activeTexture=null;this._origin=new Vector3d();this._origin.assign(origin);this._location=new Vector3d();this._location.assign(location);this._leftSide=new Vector3d();this._leftSide.assign(leftSide);this._rightSide=new Vector3d();this._rightSide.assign(rightSide);this._normal=Vector3d.crossProduct(this._leftSide,this._rightSide);if(this._normal.length>0){this._normal.multiply(1/this._normal.length);}if(secondaryNormals!=null){for(const entry of secondaryNormals){if(!entry)continue;const vector=new Vector3d();vector.assign(entry);this._secondaryNormals.push(vector);}}this._disposed=false;this._isVisible=false;this._id=null;this._hasTexture=true;this._geometryUpdateId=-1;this._offset=new math[\"g\" /* Point */]();this._relativeDepth=0;this._type=type;this._color=0;this._rasterizer=null;this._canBeVisible=true;this._textures=new Map();this._cornerA=new Vector3d();this._cornerB=new Vector3d();this._cornerC=new Vector3d();this._cornerD=new Vector3d();this._width=0;this._height=0;this._textureOffsetX=textureOffsetX;this._textureOffsetY=textureOffsetY;this._textureMaxX=textureMaxX;this._textureMaxY=textureMaxY;this._useMask=usesMask;this._uniqueId=++RoomPlane_RoomPlane._uniqueIdCounter;}static blend(k,_arg_2){return 0;//return Canvas.colorize(_arg_2, (k | 0xFF000000)) & 0xFFFFFF;\n}set canBeVisible(k){if(k!==this._canBeVisible){if(!this._canBeVisible)this.resetTextureCache();this._canBeVisible=k;}}get canBeVisible(){return this._canBeVisible;}get bitmapData(){if(!this.visible||!this._bitmapData)return null;let texture=RoomVisualization_RoomVisualization.getTextureCache(this._bitmapData);if(!texture){texture=TextureUtils_TextureUtils.generateTexture(this._bitmapData,new math[\"j\" /* Rectangle */](0,0,this._width,this._height));RoomVisualization_RoomVisualization.addTextureCache(this._bitmapData,texture);}return texture;}get visible(){return this._isVisible&&this._canBeVisible;}get offset(){return this._offset;}get relativeDepth(){return this._relativeDepth;}get color(){return this._color;}set color(k){this._color=k;}get type(){return this._type;}get leftSide(){return this._leftSide;}get rightSide(){return this._rightSide;}get location(){return this._location;}get normal(){return this._normal;}get hasTexture(){return this._hasTexture;}set hasTexture(k){this._hasTexture=k;}set rasterizer(k){this._rasterizer=k;}set maskManager(k){this._maskManager=k;}set id(k){if(k===this._id)return;this.resetTextureCache();this._id=k;}get uniqueId(){return this._uniqueId;}dispose(){if(this._bitmapData){this._bitmapData.destroy();this._bitmapData=null;}if(this._textures){for(const bitmap of this._textures.values()){if(!bitmap)continue;if(bitmap.bitmap)bitmap.bitmap.destroy();bitmap.dispose();}this._textures=null;}this._activeTexture=null;this._location=null;this._origin=null;this._leftSide=null;this._rightSide=null;this._normal=null;this._rasterizer=null;this._cornerA=null;this._cornerB=null;this._cornerC=null;this._cornerD=null;this._bitmapMasks=null;this._rectangleMasks=null;if(this._maskBitmapData){this._maskBitmapData.destroy();this._maskBitmapData=null;}this._disposed=true;}copyBitmapData(k){if(!this.visible||!this._bitmapData||!k)return null;if(this._bitmapData.width!==k.width||this._bitmapData.height!==k.height)return null;//k.copyPixels(this._bitmapData, this._bitmapData.rect, RoomPlane.ZERO_POINT);\nreturn k;}cacheTexture(k,_arg_2){const existing=this._textures.get(k);if(existing){this._textures.delete(k);existing.dispose();}this._activeTexture=_arg_2;this._textures.set(k,_arg_2);return true;}resetTextureCache(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(this._textures&&this._textures.size){for(const bitmap of this._textures.values()){if(!bitmap)continue;bitmap.dispose();}this._textures.clear();}this._activeTexture=null;}getTextureIdentifier(k){if(this._rasterizer)return this._rasterizer.getTextureIdentifier(k,this.normal);return k.toString();}needsNewTexture(k,_arg_2){if(!k)return false;let planeBitmap=this._activeTexture;if(!planeBitmap){planeBitmap=this._textures.get(this.getTextureIdentifier(k.scale));}this.updateMaskChangeStatus();if(this._canBeVisible&&(!planeBitmap||planeBitmap.timeStamp>=0&&_arg_2>planeBitmap.timeStamp||this._maskChanged))return true;return false;}getTexture(k,_arg_2){if(!k)return null;let _local_3=null;if(this.needsNewTexture(k,_arg_2)){const _local_4=this.getTextureIdentifier(k.scale);const _local_5=this._leftSide.length*k.scale;const _local_6=this._rightSide.length*k.scale;const _local_7=k.getCoordinatePosition(this._normal);if(this._activeTexture){_local_3=this._activeTexture;}else{_local_3=this._textures.get(_local_4);}let _local_8=null;if(_local_3)_local_8=_local_3.bitmap;if(this._rasterizer){_local_3=this._rasterizer.render(_local_8,this._id,_local_5,_local_6,k.scale,_local_7,this._hasTexture,this._textureOffsetX,this._textureOffsetY,this._textureMaxX,this._textureMaxY,_arg_2);if(_local_3){if(_local_8&&_local_3.bitmap!==_local_8)_local_8.destroy();}}else{const _local_9=new esm_graphics[\"a\" /* Graphics */]();_local_9.beginFill(0xFFFFFF);_local_9.drawRect(0,0,_local_5,_local_6);_local_9.endFill();_local_3=new PlaneBitmapData(_local_9,-1);}if(_local_3){this.updateMask(_local_3.bitmap,k);this.cacheTexture(_local_4,_local_3);}}else{if(this._activeTexture){_local_3=this._activeTexture;}else{_local_3=this._textures.get(this.getTextureIdentifier(k.scale));}}if(_local_3){this._activeTexture=_local_3;return _local_3.bitmap;}return null;}resolveMasks(k){if(!this._useMask)return null;const _local_5=new PlaneDrawingData();const index=0;while(index<this._bitmapMasks.length){const mask=this._bitmapMasks[index];if(mask){const planeMask=this._maskManager.getMask(mask.type);if(planeMask){const assetName=planeMask.getAssetName(k.scale);if(assetName){const position=k.getCoordinatePosition(this._normal);const asset=planeMask.getGraphicAsset(k.scale,position);if(asset){const _local_3=this._maskBitmapData.width*(1-mask.leftSideLoc/this._leftSide.length);const _local_4=this._maskBitmapData.height*(1-mask.rightSideLoc/this._rightSide.length);const _local_11=new math[\"g\" /* Point */](_local_3+asset.offsetX,_local_4+asset.offsetY);_local_5.addMask(assetName,_local_11,asset.flipH,asset.flipV);}}}}}return _local_5;}screenWidth(k){const _local_2=k.getScreenPoint(new Vector3d(0,0,0));const _local_3=k.getScreenPoint(new Vector3d(0,1,0));return Math.round(this._leftSide.length*Math.abs(_local_2.x-_local_3.x));}getDrawingDatas(geometry){const drawingDatas=[];if(this._isVisible){const maskData=this.resolveMasks(geometry);const layers=this._rasterizer.getLayers(this._id);let i=0;while(i<layers.length){const layer=layers[i];if(layer){if(this._hasTexture&&layer.getMaterial()){const normal=geometry.getCoordinatePosition(this._normal);const cm=layer.getMaterial().getMaterialCellMatrix(normal);//const data      = new PlaneDrawingData(maskData, blend(this._color, layer.getColor()), cm.isBottomAligned());\nconst data=new PlaneDrawingData(maskData,this._color,cm.isBottomAligned());Randomizer.setSeed(this._randomSeed);for(const column of cm.getColumns(this.screenWidth(geometry))){const assetNames=[];for(const cell of column.getCells()){const name=cell.getAssetName(normal);if(name)assetNames.push(name);}if(assetNames.length>0){if(!column.isRepeated())assetNames.push('');data.addAssetColumn(assetNames);}}if(data.assetNameColumns.length>0)drawingDatas.push(data);}else{//data = new PlaneDrawingData(maskData, blend(this._color, layer.getColor()));\nconst data=new PlaneDrawingData(maskData,this._color);drawingDatas.push(data);}}i++;}if(!drawingDatas.length)drawingDatas.push(new PlaneDrawingData(maskData,this._color));}return drawingDatas;}// private _Str_25956(k:PlaneBitmapData): void\n// {\n// }\nupdate(geometry,timeSinceStartMs){if(!geometry||this._disposed)return false;let geometryChanged=false;if(this._geometryUpdateId!=geometry.updateId)geometryChanged=true;if(!geometryChanged||!this._canBeVisible){if(!this.visible)return false;}if(geometryChanged){this._activeTexture=null;let cosAngle=0;cosAngle=Vector3d.cosAngle(geometry.directionAxis,this.normal);if(cosAngle>-0.001){if(this._isVisible){this._isVisible=false;return true;}return false;}let i=0;while(i<this._secondaryNormals.length){cosAngle=Vector3d.cosAngle(geometry.directionAxis,this._secondaryNormals[i]);if(cosAngle>-0.001){if(this._isVisible){this._isVisible=false;return true;}return false;}i++;}this.updateCorners(geometry);const originPos=geometry.getScreenPosition(this._origin);const originZ=originPos.z;let relativeDepth=Math.max(this._cornerA.z,this._cornerB.z,this._cornerC.z,this._cornerD.z)-originZ;if(this._type===RoomPlane_RoomPlane.TYPE_FLOOR){relativeDepth=relativeDepth-(this._location.z+Math.min(0,this._leftSide.z,this._rightSide.z))*8;}if(this._type===RoomPlane_RoomPlane.TYPE_LANDSCAPE){relativeDepth=relativeDepth+0.02;}this._relativeDepth=relativeDepth;this._isVisible=true;this._geometryUpdateId=geometry.updateId;}if(geometryChanged||this.needsNewTexture(geometry,timeSinceStartMs)){if(!this._bitmapData||this._width!==this._bitmapData.width||this._height!==this._bitmapData.height){if(this._bitmapData){this._bitmapData.destroy();this._bitmapData=null;if(this._width<1||this._height<1)return true;}else{if(this._width<1||this._height<1)return false;}const graphic=new esm_graphics[\"a\" /* Graphics */]();graphic.beginFill(0xFFFFFF,0);graphic.drawRect(0,0,this._width,this._height);graphic.endFill();this._bitmapData=graphic;if(!this._bitmapData)return false;}else{//this._bitmapData.lock();\n//this._bitmapData.fillRect(this._bitmapData.rect, 0xFFFFFF);\n}Randomizer.setSeed(this._randomSeed);const texture=this.getTexture(geometry,timeSinceStartMs);if(texture){this.renderTexture(geometry,texture);}else{this.dispose();return false;}return texture!==null||geometryChanged;}return false;}updateCorners(k){this._cornerA.assign(k.getScreenPosition(this._location));this._cornerB.assign(k.getScreenPosition(Vector3d.sum(this._location,this._rightSide)));this._cornerC.assign(k.getScreenPosition(Vector3d.sum(Vector3d.sum(this._location,this._leftSide),this._rightSide)));this._cornerD.assign(k.getScreenPosition(Vector3d.sum(this._location,this._leftSide)));this._offset=k.getScreenPoint(this._origin);this._cornerA.x=Math.round(this._cornerA.x);this._cornerA.y=Math.round(this._cornerA.y);this._cornerB.x=Math.round(this._cornerB.x);this._cornerB.y=Math.round(this._cornerB.y);this._cornerC.x=Math.round(this._cornerC.x);this._cornerC.y=Math.round(this._cornerC.y);this._cornerD.x=Math.round(this._cornerD.x);this._cornerD.y=Math.round(this._cornerD.y);this._offset.x=Math.round(this._offset.x);this._offset.y=Math.round(this._offset.y);const _local_2=Math.min(this._cornerA.x,this._cornerB.x,this._cornerC.x,this._cornerD.x);let _local_3=Math.max(this._cornerA.x,this._cornerB.x,this._cornerC.x,this._cornerD.x);const _local_4=Math.min(this._cornerA.y,this._cornerB.y,this._cornerC.y,this._cornerD.y);let _local_5=Math.max(this._cornerA.y,this._cornerB.y,this._cornerC.y,this._cornerD.y);_local_3=_local_3-_local_2;this._offset.x=this._offset.x-_local_2;this._cornerA.x=this._cornerA.x-_local_2;this._cornerB.x=this._cornerB.x-_local_2;this._cornerC.x=this._cornerC.x-_local_2;this._cornerD.x=this._cornerD.x-_local_2;_local_5=_local_5-_local_4;this._offset.y=this._offset.y-_local_4;this._cornerA.y=this._cornerA.y-_local_4;this._cornerB.y=this._cornerB.y-_local_4;this._cornerC.y=this._cornerC.y-_local_4;this._cornerD.y=this._cornerD.y-_local_4;this._width=_local_3;this._height=_local_5;}renderTexture(k,_arg_2){if(this._cornerA==null||this._cornerB==null||this._cornerC==null||this._cornerD==null||_arg_2==null||this._bitmapData==null){return;}let _local_3=this._cornerD.x-this._cornerC.x;let _local_4=this._cornerD.y-this._cornerC.y;let _local_5=this._cornerB.x-this._cornerC.x;let _local_6=this._cornerB.y-this._cornerC.y;if(this._type==RoomPlane_RoomPlane.TYPE_WALL||this._type==RoomPlane_RoomPlane.TYPE_LANDSCAPE){if(Math.abs(_local_5-_arg_2.width)<=1){_local_5=_arg_2.width;}if(Math.abs(_local_6-_arg_2.width)<=1){_local_6=_arg_2.width;}if(Math.abs(_local_3-_arg_2.height)<=1){_local_3=_arg_2.height;}if(Math.abs(_local_4-_arg_2.height)<=1){_local_4=_arg_2.height;}}const _local_7=_local_5/_arg_2.width;const _local_8=_local_6/_arg_2.width;const _local_9=_local_3/_arg_2.height;const _local_10=_local_4/_arg_2.height;const _local_11=new math[\"d\" /* Matrix */]();_local_11.a=_local_7;_local_11.b=_local_8;_local_11.c=_local_9;_local_11.d=_local_10;_local_11.translate(this._cornerC.x,this._cornerC.y);this.draw(_arg_2,_local_11);}draw(k,matrix){const clone=k.clone();clone.transform.setFromMatrix(matrix);this._bitmapData=clone;}resetBitmapMasks(){if(this._disposed||!this._useMask||!this._bitmapMasks.length)return;this._maskChanged=true;this._bitmapMasks=[];}addBitmapMask(k,_arg_2,_arg_3){if(!this._useMask)return false;let _local_5=0;while(_local_5<this._bitmapMasks.length){const mask=this._bitmapMasks[_local_5];if(mask){if(mask.type===k&&mask.leftSideLoc===_arg_2&&mask.rightSideLoc===_arg_3)return false;}_local_5++;}const mask=new RoomPlaneBitmapMask(k,_arg_2,_arg_3);this._bitmapMasks.push(mask);this._maskChanged=true;return true;}resetRectangleMasks(){if(!this._useMask||!this._rectangleMasks.length)return;this._maskChanged=true;this._rectangleMasks=[];}addRectangleMask(k,_arg_2,_arg_3,_arg_4){if(this._useMask){for(const mask of this._rectangleMasks){if(!mask)continue;if(mask.leftSideLoc===k&&mask.rightSideLoc===_arg_2&&mask.leftSideLength===_arg_3&&mask.rightSideLength===_arg_4)return false;}const _local_5=new RoomPlaneRectangleMask(k,_arg_2,_arg_3,_arg_4);this._rectangleMasks.push(_local_5);this._maskChanged=true;return true;}return false;}updateMaskChangeStatus(){if(!this._maskChanged)return;let _local_3=true;let _local_6;if(this._bitmapMasks.length===this._bitmapMasksOld.length){for(const mask of this._bitmapMasks){if(!mask)continue;_local_6=false;for(const plane of this._bitmapMasksOld){if(!plane)continue;if(plane.type===mask.type&&plane.leftSideLoc===mask.leftSideLoc&&plane.rightSideLoc===mask.rightSideLoc){_local_6=true;break;}}if(!_local_6){_local_3=false;break;}}}else{_local_3=false;}if(this._rectangleMasks.length>this._rectangleMasksOld.length)_local_3=false;if(_local_3)this._maskChanged=false;}updateMask(texture,geometry){if(!texture||!geometry)return;if(!this._useMask||!this._bitmapMasks.length&&!this._rectangleMasks.length&&!this._maskChanged||!this._maskManager)return;const width=texture.width;const height=texture.height;this.updateMaskChangeStatus();if(!this._maskBitmapData||this._maskBitmapData.width!==width||this._maskBitmapData.height!==height){if(this._maskBitmapData){this._maskBitmapData.destroy();this._maskBitmapData=null;}const graphic=new esm_graphics[\"a\" /* Graphics */]();graphic.beginFill(0xFFFFFF,0).drawRect(0,0,width,height).endFill();this._maskBitmapData=graphic;this._maskChanged=true;}if(this._maskChanged){this._bitmapMasksOld=[];this._rectangleMasksOld=[];if(this._maskBitmapData){this._maskBitmapData.beginFill(0xFFFFFF,0).drawRect(0,0,width,height).endFill();}this.resetTextureCache(texture);const normal=geometry.getCoordinatePosition(this._normal);let type=null;let posX=0;let posY=0;let i=0;while(i<this._bitmapMasks.length){const mask=this._bitmapMasks[i];if(mask){type=mask.type;posX=this._maskBitmapData.width-this._maskBitmapData.width*mask.leftSideLoc/this._leftSide.length;posY=this._maskBitmapData.height-this._maskBitmapData.height*mask.rightSideLoc/this._rightSide.length;this._maskManager.updateMask(this._maskBitmapData,type,geometry.scale,normal,posX,posY);this._bitmapMasksOld.push(new RoomPlaneBitmapMask(type,mask.leftSideLoc,mask.rightSideLoc));}i++;}i=0;while(i<this._rectangleMasks.length){const rectMask=this._rectangleMasks[i];if(rectMask){posX=this._maskBitmapData.width-this._maskBitmapData.width*rectMask.leftSideLoc/this._leftSide.length;posY=this._maskBitmapData.height-this._maskBitmapData.height*rectMask.rightSideLoc/this._rightSide.length;const wd=this._maskBitmapData.width*rectMask.leftSideLength/this._leftSide.length;const ht=this._maskBitmapData.height*rectMask.rightSideLength/this._rightSide.length;this._maskBitmapData.beginFill(0xFF0000).drawRect(posX-wd,posY-ht,wd,ht).endFill();this._rectangleMasksOld.push(new RoomPlaneRectangleMask(rectMask.leftSideLength,rectMask.rightSideLoc,rectMask.leftSideLength,rectMask.rightSideLength));}i++;}this._maskChanged=false;}this.combineTextureMask(texture,this._maskBitmapData);}combineTextureMask(texture,mask){if(!texture||!mask)return;const maskCanvas=TextureUtils_TextureUtils.generateCanvas(mask);const textureCanvas=TextureUtils_TextureUtils.generateCanvas(texture);const textureCtx=textureCanvas.getContext('2d');textureCtx.drawImage(maskCanvas,0,0);const textureImageData=textureCtx.getImageData(0,0,textureCanvas.width,textureCanvas.height);const data=textureImageData.data;for(let i=0;i<data.length;i+=4){const red=data[i];const green=data[i+1];const blue=data[i+2];const alpha=data[i+3];if(!red&&!green&&!blue)data[i+3]=0;}textureCtx.putImageData(textureImageData,0,0);const newTexture=esm_core[\"t\" /* Texture */].from(textureCanvas);if(!newTexture)return;texture.clear().beginTextureFill({texture:newTexture}).drawRect(0,0,newTexture.width,newTexture.height).endFill();}}RoomPlane_RoomPlane.ZERO_POINT=new math[\"g\" /* Point */](0,0);RoomPlane_RoomPlane.TYPE_UNDEFINED=0;RoomPlane_RoomPlane.TYPE_WALL=1;RoomPlane_RoomPlane.TYPE_FLOOR=2;RoomPlane_RoomPlane.TYPE_LANDSCAPE=3;RoomPlane_RoomPlane._uniqueIdCounter=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/mask/PlaneMaskBitmap.ts\nclass PlaneMaskBitmap{constructor(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;this._asset=void 0;this._normalMinX=void 0;this._normalMaxX=void 0;this._normalMinY=void 0;this._normalMaxY=void 0;this._normalMinX=_arg_2;this._normalMaxX=_arg_3;this._normalMinY=_arg_4;this._normalMaxY=_arg_5;this._asset=k;}get asset(){return this._asset;}get normalMinX(){return this._normalMinX;}get normalMaxX(){return this._normalMaxX;}get normalMinY(){return this._normalMinY;}get normalMaxY(){return this._normalMaxY;}dispose(){this._asset=null;}}PlaneMaskBitmap.MIN_NORMAL_COORDINATE_VALUE=-1;PlaneMaskBitmap.MAX_NORMAL_COORDINATE_VALUE=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/mask/PlaneMaskVisualization.ts\nclass PlaneMaskVisualization_PlaneMaskVisualization{constructor(){this._bitmaps=void 0;this._bitmaps=[];}dispose(){for(const mask of this._bitmaps){if(!mask)continue;mask.dispose();}this._bitmaps=null;}addBitmap(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;this._bitmaps.push(new PlaneMaskBitmap(k,_arg_2,_arg_3,_arg_4,_arg_5));}getAsset(k){if(!k)return null;for(const mask of this._bitmaps){if(!mask)continue;if(k.x>=mask.normalMinX&&k.x<=mask.normalMaxX&&k.y>=mask.normalMinY&&k.y<=mask.normalMaxY){return mask.asset;}}return null;}}PlaneMaskVisualization_PlaneMaskVisualization.MIN_NORMAL_COORDINATE_VALUE=-1;PlaneMaskVisualization_PlaneMaskVisualization.MAX_NORMAL_COORDINATE_VALUE=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/mask/PlaneMask.ts\nclass PlaneMask_PlaneMask{constructor(){this._maskVisualizations=void 0;this._sizes=void 0;this._assetNames=void 0;this._lastMaskVisualization=void 0;this._lastSize=void 0;this._sizes=[];this._maskVisualizations=new Map();this._assetNames=new Map();this._lastMaskVisualization=null;this._lastSize=-1;}dispose(){if(this._maskVisualizations){for(const mask of this._maskVisualizations.values()){if(!mask)continue;mask.dispose();}this._maskVisualizations=null;}this._lastMaskVisualization=null;this._sizes=null;}createMaskVisualization(size){const existing=this._maskVisualizations.get(size);if(existing)return null;const visualization=new PlaneMaskVisualization_PlaneMaskVisualization();this._maskVisualizations.set(size,visualization);this._sizes.push(size);this._sizes.sort();return visualization;}getSizeIndex(k){let sizeIndex=0;const index=1;while(index<this._sizes.length){if(this._sizes[index]>k){if(this._sizes[index]-k<k-this._sizes[index-1])sizeIndex=index;break;}sizeIndex=index;}return sizeIndex;}getMaskVisualization(k){if(k===this._lastSize)return this._lastMaskVisualization;const sizeIndex=this.getSizeIndex(k);if(sizeIndex<this._sizes.length){this._lastMaskVisualization=this._maskVisualizations.get(this._sizes[sizeIndex]);}else{this._lastMaskVisualization=null;}this._lastSize=k;return this._lastMaskVisualization;}getGraphicAsset(k,_arg_2){const visualization=this.getMaskVisualization(k);if(!visualization)return null;return visualization.getAsset(_arg_2);}getAssetName(k){if(!this._assetNames)return null;return this._assetNames.get(k)||null;}setAssetName(k,_arg_2){if(!this._assetNames)return;this._assetNames.set(k,_arg_2);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/mask/PlaneMaskManager.ts\nclass PlaneMaskManager_PlaneMaskManager{constructor(){this._assetCollection=void 0;this._masks=void 0;this._data=void 0;this._assetCollection=null;this._masks=new Map();this._data=null;}get data(){return this._data;}dispose(){this._assetCollection=null;this._data=null;if(this._masks&&this._masks.size){for(const mask of this._masks.values()){if(!mask)continue;mask.dispose();}this._masks.clear();}}initialize(k){this._data=k;}initializeAssetCollection(k){if(!this.data)return;this._assetCollection=k;this.parseMasks(this.data,k);}parseMasks(k,_arg_2){if(!k||!_arg_2)return;if(k.masks&&k.masks.length){let index=0;while(index<k.masks.length){const mask=k.masks[index];if(mask){const id=mask.id;const existing=this._masks.get(id);if(existing)continue;const newMask=new PlaneMask_PlaneMask();if(mask.visualizations&&mask.visualizations.length){let visualIndex=0;while(visualIndex<mask.visualizations.length){const visualization=mask.visualizations[visualIndex];if(visualization){const size=visualization.size;const maskVisualization=newMask.createMaskVisualization(size);if(maskVisualization){const assetName=this.parseMaskBitmaps(visualization.bitmaps,maskVisualization,_arg_2);newMask.setAssetName(size,assetName);}}visualIndex++;}}this._masks.set(id,newMask);}index++;}}}parseMaskBitmaps(k,_arg_2,_arg_3){if(!k||!k.length)return null;let graphicName=null;for(const bitmap of k){if(!bitmap)continue;const assetName=bitmap.assetName;const asset=_arg_3.getAsset(assetName);if(!asset)continue;let normalMinX=PlaneMaskVisualization_PlaneMaskVisualization.MIN_NORMAL_COORDINATE_VALUE;let normalMaxX=PlaneMaskVisualization_PlaneMaskVisualization.MAX_NORMAL_COORDINATE_VALUE;let normalMinY=PlaneMaskVisualization_PlaneMaskVisualization.MIN_NORMAL_COORDINATE_VALUE;let normalMaxY=PlaneMaskVisualization_PlaneMaskVisualization.MAX_NORMAL_COORDINATE_VALUE;if(bitmap.normalMinX!==undefined)normalMinX=bitmap.normalMinX;if(bitmap.normalMaxX!==undefined)normalMaxX=bitmap.normalMaxX;if(bitmap.normalMinY!==undefined)normalMinY=bitmap.normalMinY;if(bitmap.normalMaxY!==undefined)normalMaxY=bitmap.normalMaxY;if(!asset.flipH)graphicName=assetName;_arg_2.addBitmap(asset,normalMinX,normalMaxX,normalMinY,normalMaxY);}return graphicName;}updateMask(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6){const mask=this._masks.get(_arg_2);if(!mask)return true;const asset=mask.getGraphicAsset(_arg_3,_arg_4);if(!asset)return true;const texture=asset.texture;if(!texture)return true;const point=new math[\"g\" /* Point */](_arg_5+asset.offsetX,_arg_6+asset.offsetY);const matrix=new math[\"d\" /* Matrix */]();let a=1;let b=1;let c=0;let d=0;if(asset.flipH){a=-1;c=-texture.width;}if(asset.flipV){b=-1;d=-texture.height;}matrix.scale(a,b);matrix.translate(point.x+c,point.y+d);k.beginTextureFill({texture,matrix}).drawRect(matrix.tx,matrix.ty,texture.width,texture.height).endFill();return true;}getMask(k){if(!this._masks||!this._masks.size)return null;return this._masks.get(k)||null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/animated/AnimationItem.ts\nclass AnimationItem_AnimationItem{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5){this._x=void 0;this._y=void 0;this._speedX=void 0;this._speedY=void 0;this._bitmapData=void 0;this._x=k;this._y=_arg_2;this._speedX=_arg_3;this._speedY=_arg_4;this._bitmapData=_arg_5;if(isNaN(this._x))this._x=0;if(isNaN(this._y))this._y=0;if(isNaN(this._speedX))this._speedX=0;if(isNaN(this._speedY))this._speedY=0;}get bitmapData(){return this._bitmapData;}dispose(){this._bitmapData=null;}getPosition(k,_arg_2,_arg_3,_arg_4,_arg_5){let _local_6=this._x;let _local_7=this._y;if(_arg_3>0)_local_6=_local_6+this._speedX/_arg_3*_arg_5/1000;if(_arg_4>0)_local_7=_local_7+this._speedY/_arg_4*_arg_5/1000;const _local_8=_local_6%1*k;const _local_9=_local_7%1*_arg_2;return new math[\"g\" /* Point */](_local_8,_local_9);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/animated/PlaneVisualizationAnimationLayer.ts\nclass PlaneVisualizationAnimationLayer_PlaneVisualizationAnimationLayer{constructor(k,_arg_2){this._color=0;this._bitmapData=null;this._isDisposed=false;this._items=void 0;this._color=0;this._bitmapData=null;this._isDisposed=false;this._items=[];if(k&&_arg_2){for(const item of k){if(!item)continue;const assetName=item.asset;if(assetName){const asset=_arg_2.getAsset(assetName);if(asset)this._items.push(new AnimationItem_AnimationItem(item.x,item.y,item.speedX,item.speedY,asset));}}}}get disposed(){return this._isDisposed;}dispose(){this._isDisposed=true;if(this._bitmapData){this._bitmapData.destroy();this._bitmapData=null;}if(this._items){for(const item of this._items)item&&item.dispose();this._items=[];}}clearCache(){if(this._bitmapData){this._bitmapData.destroy();this._bitmapData=null;}}render(canvas,width,height,normal,offsetX,offsetY,maxX,maxY,dimensionX,dimensionY,timeSinceStartMs){if(canvas==null||!(canvas.width==width)||!(canvas.height==height)){if(this._bitmapData==null||!(this._bitmapData.width==width)||!(this._bitmapData.height==height)){if(this._bitmapData!=null){this._bitmapData.destroy();}this._bitmapData=new esm_graphics[\"a\" /* Graphics */]().drawRect(0,0,width,height);}else{this._bitmapData.beginFill(0xFFFFFF).drawRect(0,0,this._bitmapData.width,this._bitmapData.height).endFill();//this._bitmapData.fillRect(this._bitmapData.rect, 0xFFFFFF);\n}canvas=this._bitmapData;}if(maxX>0&&maxY>0){let _local_12=0;while(_local_12<this._items.length){const _local_13=this._items[_local_12];if(_local_13!=null){const _local_14=_local_13.getPosition(maxX,maxY,dimensionX,dimensionY,timeSinceStartMs);_local_14.x=_local_14.x-offsetX;_local_14.y=_local_14.y-offsetY;if(_local_13.bitmapData){if(_local_14.x>0&&_local_14.x+_local_13.bitmapData.width<canvas.width){canvas.beginFill(0x00FF00).beginTextureFill({texture:_local_13.bitmapData.texture,matrix:new math[\"d\" /* Matrix */](1,0,0,1,_local_14.x,_local_14.y)}).drawRect(_local_14.x,_local_14.y,_local_13.bitmapData.width,_local_13.bitmapData.height).endFill();}else if(_local_14.x>0){const difference=canvas.width-_local_14.x;canvas.beginFill(0x00FF00).beginTextureFill({texture:_local_13.bitmapData.texture,matrix:new math[\"d\" /* Matrix */](1,0,0,1,_local_14.x,_local_14.y)}).drawRect(_local_14.x,_local_14.y,difference,_local_13.bitmapData.height).endFill();}else{//if(_local_14.x > -_local_13.bitmapData.width) \nconst difference=_local_13.bitmapData.width+_local_14.x;canvas.beginFill(0x00FF00).beginTextureFill({texture:_local_13.bitmapData.texture,matrix:new math[\"d\" /* Matrix */](1,0,0,1,_local_14.x,_local_14.y)}).drawRect(0,_local_14.y,difference,_local_13.bitmapData.height).endFill();}}}_local_12++;}}return canvas;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneVisualizationLayer.ts\nclass PlaneVisualizationLayer_PlaneVisualizationLayer{constructor(material,color,align){let offset=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;this._material=void 0;this._color=void 0;this._offset=void 0;this._align=void 0;this._bitmapData=void 0;this._isDisposed=void 0;this._material=material;this._offset=offset;this._align=align;this._color=color;this._bitmapData=null;this._isDisposed=false;}get offset(){return this._offset;}get align(){return this._align;}get disposed(){return this._isDisposed;}dispose(){this._isDisposed=true;this._material=null;this.clearCache();}clearCache(){if(this._bitmapData){this._bitmapData.destroy();this._bitmapData=null;}}render(canvas,width,height,normal,useTexture,offsetX,offsetY){if(!canvas||canvas.width!==width||canvas.height!==height)canvas=null;let bitmapData=null;if(this._material){bitmapData=this._material.render(null,width,height,normal,useTexture,offsetX,offsetY+this.offset,this.align===PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_TOP);if(bitmapData&&bitmapData!==canvas){if(this._bitmapData)this._bitmapData.destroy();this._bitmapData=bitmapData.clone();bitmapData=this._bitmapData;}}else{if(!canvas){if(this._bitmapData&&this._bitmapData.width===width&&this._bitmapData.height===height)return this._bitmapData;if(this._bitmapData)this._bitmapData.destroy();const graphic=new esm_graphics[\"a\" /* Graphics */]().beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();this._bitmapData=graphic;bitmapData=this._bitmapData;}else{canvas.beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();bitmapData=canvas;}}if(bitmapData){bitmapData.tint=this._color;if(canvas&&bitmapData!==canvas){let texture=RoomVisualization_RoomVisualization.getTextureCache(bitmapData);if(!texture){texture=TextureUtils_TextureUtils.generateTexture(bitmapData,new math[\"j\" /* Rectangle */](0,0,width,height));RoomVisualization_RoomVisualization.addTextureCache(bitmapData,texture);}canvas.beginTextureFill({texture}).drawRect(0,0,width,height).endFill();bitmapData=canvas;}}return bitmapData;}getMaterial(){return this._material;}getColor(){return this._color;}}PlaneVisualizationLayer_PlaneVisualizationLayer.DEFAULT_OFFSET=0;PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_TOP=1;PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_BOTTOM=2;PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_DEFAULT=PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_TOP;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneVisualization.ts\nclass PlaneVisualization_PlaneVisualization{constructor(size,totalLayers,geometry){this._layers=void 0;this._geometry=void 0;this._cachedBitmapData=void 0;this._cachedBitmapNormal=void 0;this._isCached=void 0;this._hasAnimationLayers=void 0;this._layers=[];this._geometry=geometry;this._cachedBitmapData=null;this._cachedBitmapNormal=new Vector3d();this._isCached=false;this._hasAnimationLayers=false;if(totalLayers<0)totalLayers=0;let index=0;while(index<totalLayers){this._layers.push(null);index++;}}get geometry(){return this._geometry;}get hasAnimationLayers(){return this._hasAnimationLayers;}dispose(){if(this._layers&&this._layers.length){for(const layer of this._layers){if(!layer)continue;layer.dispose();}this._layers=null;}this._geometry=null;if(this._cachedBitmapData){this._cachedBitmapData.destroy();this._cachedBitmapData=null;}if(this._cachedBitmapNormal)this._cachedBitmapNormal=null;}clearCache(){if(!this._isCached)return;if(this._cachedBitmapData){this._cachedBitmapData.destroy();this._cachedBitmapData=null;}if(this._cachedBitmapNormal){this._cachedBitmapNormal.assign(new Vector3d());}if(this._layers&&this._layers.length){for(const layer of this._layers){if(!layer)continue;const planeLayer=layer;planeLayer.clearCache();}}this._isCached=false;}setLayer(layerId,material,color,align){let offset=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;if(layerId<0||layerId>this._layers.length)return false;let layer=this._layers[layerId];if(layer)layer.dispose();layer=new PlaneVisualizationLayer_PlaneVisualizationLayer(material,color,align,offset);this._layers[layerId]=layer;return true;}setAnimationLayer(layerId,animationItems,collection){if(layerId<0||layerId>this._layers.length)return false;let layer=this._layers[layerId];if(layer)layer.dispose();layer=new PlaneVisualizationAnimationLayer_PlaneVisualizationAnimationLayer(animationItems,collection);this._layers[layerId]=layer;this._hasAnimationLayers=true;return true;}getLayers(){return this._layers;}render(canvas,width,height,normal,useTexture){let offsetX=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let offsetY=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;let maxX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let maxY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let dimensionX=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let dimensionY=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let timeSinceStartMs=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;if(width<1)width=1;if(height<1)height=1;if(!canvas||canvas.width!==width||canvas.height!==height)canvas=null;if(this._cachedBitmapData){if(this._cachedBitmapData.width===width&&this._cachedBitmapData.height===height&&Vector3d.isEqual(this._cachedBitmapNormal,normal)){if(!this.hasAnimationLayers){if(canvas){canvas.addChild(this._cachedBitmapData);return canvas;// const texture = TextureUtils.generateTexture(this._cachedBitmapData, new Rectangle(0, 0, width, height));\n// if(texture)\n// {\n//     canvas\n//         .beginTextureFill({ texture })\n//         .drawRect(0, 0, texture.width, texture.height)\n//         .endFill();\n//     return canvas;\n// }\n}return this._cachedBitmapData;}}else{this._cachedBitmapData.destroy();this._cachedBitmapData=null;}}this._isCached=true;if(!this._cachedBitmapData){this._cachedBitmapData=new esm_graphics[\"a\" /* Graphics */]().beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();}else{this._cachedBitmapData.beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();}if(!canvas)canvas=this._cachedBitmapData;this._cachedBitmapNormal.assign(normal);if(this._layers&&this._layers.length){for(const layer of this._layers){if(!layer)continue;if(layer instanceof PlaneVisualizationLayer_PlaneVisualizationLayer){layer.render(canvas,width,height,normal,useTexture,offsetX,offsetY);}else if(layer instanceof PlaneVisualizationAnimationLayer_PlaneVisualizationAnimationLayer){layer.render(canvas,width,height,normal,offsetX,offsetY,maxX,maxY,dimensionX,dimensionY,timeSinceStartMs);}}}if(canvas&&canvas!==this._cachedBitmapData){this._cachedBitmapData.addChild(canvas.clone());// const texture = TextureUtils.generateTexture(canvas, new Rectangle(0, 0, canvas.width, canvas.height));\n// this._cachedBitmapData\n//     .beginTextureFill({ texture })\n//     .drawRect(0, 0, canvas.width, canvas.height)\n//     .endFill();\nreturn canvas;}return this._cachedBitmapData;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/Plane.ts\nclass Plane_Plane{constructor(){this._planeVisualizations=void 0;this._sizes=void 0;this._lastPlaneVisualization=void 0;this._lastSize=void 0;this._planeVisualizations=new Map();this._sizes=[];this._lastPlaneVisualization=null;this._lastSize=-1;}isStatic(size){return true;}dispose(){for(const visualization of this._planeVisualizations.values()){if(!visualization)continue;visualization.dispose();}this._planeVisualizations=null;this._lastPlaneVisualization=null;this._sizes=null;this._lastSize=-1;}clearCache(){for(const visualization of this._planeVisualizations.values()){if(!visualization)continue;visualization.clearCache();}}createPlaneVisualization(size,totalLayers,geometry){const existing=this._planeVisualizations.get(size.toString());if(existing)return null;const plane=new PlaneVisualization_PlaneVisualization(size,totalLayers,geometry);this._planeVisualizations.set(size.toString(),plane);this._sizes.push(size);this._sizes.sort();return plane;}getSizeIndex(size){let sizeIndex=0;let i=1;while(i<this._sizes.length){if(this._sizes[i]>size){if(this._sizes[i]-size<size-this._sizes[i-1])sizeIndex=i;break;}sizeIndex=i;i++;}return sizeIndex;}getPlaneVisualization(size){if(size===this._lastSize)return this._lastPlaneVisualization;const sizeIndex=this.getSizeIndex(size);if(sizeIndex<this._sizes.length){this._lastPlaneVisualization=this._planeVisualizations.get(this._sizes[sizeIndex].toString());}else{this._lastPlaneVisualization=null;}this._lastSize=size;return this._lastPlaneVisualization;}getLayers(){return this.getPlaneVisualization(this._lastSize).getLayers();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/FloorPlane.ts\nclass FloorPlane_FloorPlane extends Plane_Plane{render(canvas,width,height,scale,normal,useTexture,offsetX,offsetY){const visualization=this.getPlaneVisualization(scale);if(!visualization||!visualization.geometry)return null;const _local_10=visualization.geometry.getScreenPoint(new Vector3d(0,0,0));const _local_11=visualization.geometry.getScreenPoint(new Vector3d(0,height/visualization.geometry.scale,0));const _local_12=visualization.geometry.getScreenPoint(new Vector3d(width/visualization.geometry.scale,0,0));let x=0;let y=0;if(_local_10&&_local_11&&_local_12){width=Math.round(Math.abs(_local_10.x-_local_12.x));height=Math.round(Math.abs(_local_10.x-_local_11.x));const _local_15=_local_10.x-visualization.geometry.getScreenPoint(new Vector3d(1,0,0)).x;x=offsetX*Math.trunc(Math.abs(_local_15));y=offsetY*Math.trunc(Math.abs(_local_15));}return visualization.render(canvas,width,height,normal,useTexture,x,y);}}FloorPlane_FloorPlane.DEFAULT_COLOR=0xFFFFFF;FloorPlane_FloorPlane.HORIZONTAL_ANGLE_DEFAULT=45;FloorPlane_FloorPlane.VERTICAL_ANGLE_DEFAULT=30;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterialCellColumn.ts\nclass PlaneMaterialCellColumn_PlaneMaterialCellColumn{constructor(width,cells){let repeatMode=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;this._cells=void 0;this._repeatMode=void 0;this._width=void 0;this._cachedTexture=void 0;this._cachedBitmapData=void 0;this._cachedBitmapNormal=void 0;this._cachedBitmapDataOffsetX=void 0;this._cachedBitmapDataOffsetY=void 0;this._isCached=void 0;this._isStatic=void 0;this._cells=[];this._repeatMode=repeatMode;this._width=width<1?1:width;this._cachedBitmapData=null;this._cachedBitmapNormal=null;this._cachedBitmapDataOffsetX=0;this._cachedBitmapDataOffsetY=0;this._isCached=false;this._isStatic=true;if(cells&&cells.length){let cellIndex=0;while(cellIndex<cells.length){const cell=cells[cellIndex];if(cell){this._cells.push(cell);if(!cell.isStatic)this._isStatic=false;}cellIndex++;}}}get isStatic(){return this._isStatic;}isRepeated(){return!(this._repeatMode===PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_NONE);}get width(){return this._width;}dispose(){if(this._cells&&this._cells.length){for(const cell of this._cells){if(!cell)continue;cell.dispose();}this._cells=null;}if(this._cachedBitmapData){this._cachedBitmapData.destroy();this._cachedBitmapData=null;}if(this._cachedBitmapNormal)this._cachedBitmapNormal=null;}clearCache(){if(!this._isCached)return;if(this._cachedBitmapData){this._cachedBitmapData.destroy();this._cachedBitmapData=null;}if(this._cachedBitmapNormal){this._cachedBitmapNormal.x=0;this._cachedBitmapNormal.y=0;this._cachedBitmapNormal.z=0;}if(this._cells&&this._cells.length){for(const cell of this._cells){if(!cell)continue;cell.clearCache();}}this._isCached=false;}render(height,normal,offsetX,offsetY){let ht=0;if(this._repeatMode==PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_NONE){ht=this.getCellsHeight(this._cells,normal);height=ht;}if(!this._cachedBitmapNormal)this._cachedBitmapNormal=new Vector3d();if(this.isStatic){if(this._cachedBitmapData){if(this._cachedBitmapData.height===height&&Vector3d.isEqual(this._cachedBitmapNormal,normal)&&this._cachedBitmapDataOffsetX===offsetX&&this._cachedBitmapDataOffsetY===offsetY){return this._cachedBitmapData;}this._cachedBitmapData.destroy();this._cachedBitmapData=null;}}else{if(this._cachedBitmapData){if(this._cachedBitmapData.height===height){this._cachedBitmapData.beginFill(0xFFFFFF).drawRect(0,0,this._cachedBitmapData.width,height).endFill();}else{this._cachedBitmapData.destroy();this._cachedBitmapData=null;}}}this._isCached=true;if(!this._cachedBitmapData){this._cachedBitmapData=new esm_graphics[\"a\" /* Graphics */]().beginFill(0xFFFFFF).drawRect(0,0,this._width,height).endFill();}this._cachedBitmapNormal.assign(normal);this._cachedBitmapDataOffsetX=offsetX;this._cachedBitmapDataOffsetY=offsetY;if(!this._cells.length)return this._cachedBitmapData;switch(this._repeatMode){case PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_NONE:this.renderRepeatNone(normal);break;case PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_BORDERS:console.log('REPEAT_MODE_BORDERS');//     this.renderRepeatBorders(normal);\nbreak;case PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_CENTER:console.log('REPEAT_MODE_CENTER');//     this.renderRepeatCenter(normal);\nbreak;case PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_FIRST:console.log('REPEAT_MODE_FIRST');//     this.renderRepeatFirst(normal);\nbreak;case PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_LAST:console.log('REPEAT_MODE_LAST');//     this.renderRepeatLast(normal);\nbreak;default:this.renderRepeatAll(normal,offsetX,offsetY);break;}return this._cachedBitmapData;}getCellsHeight(cells,normal){if(!cells||!cells.length)return 0;let height=0;let cellIterator=0;while(cellIterator<cells.length){const cell=cells[cellIterator];if(cell)height+=cell.getHeight(normal);cellIterator++;}return height;}renderCells(cells,index,flag,normal){let offsetX=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let offsetY=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(!cells||!cells.length||!this._cachedBitmapData)return index;let cellIndex=0;while(cellIndex<cells.length){let cell=null;if(flag){cell=cells[cellIndex];}else{cell=cells[cells.length-1-cellIndex];}if(cell){const graphic=cell.render(normal,offsetX,offsetY);if(graphic){if(!flag)index-=graphic.height;graphic.y=index;this._cachedBitmapData.addChild(graphic);if(flag)index=index+graphic.height;if(flag&&index>=this._cachedBitmapData.height||!flag&&index<=0)return index;}}cellIndex++;}return index;}renderRepeatNone(normal){if(!this._cells.length||!this._cachedBitmapData)return;this.renderCells(this._cells,0,true,normal);}renderRepeatAll(normal,offsetX,offsetY){if(!this._cells.length||!this._cachedBitmapData)return;let index=0;while(index<this._cachedBitmapData.height){index=this.renderCells(this._cells,index,true,normal,offsetX,offsetY);if(!index)return;}}// private renderRepeatBorders(k:IVector3D): void\n// {\n//     if (((this._cells.length == 0) || (this._cachedBitmapData == null)))\n//     {\n//         return;\n//     }\n//     var _local_2:PlaneMaterialCell;\n//     var _local_3:BitmapData;\n//     var _local_4:Array = [];\n//     var _local_5: number;\n//     var _local_6: number;\n//     var _local_7: number;\n//     _local_7 = 1;\n//     while (_local_7 < (this._cells.length - 1))\n//     {\n//         _local_2 = (this._cells[_local_7] as PlaneMaterialCell);\n//         if (_local_2 != null)\n//         {\n//             _local_6 = _local_2.getHeight(k);\n//             if (_local_6 > 0)\n//             {\n//                 _local_5 = (_local_5 + _local_6);\n//                 _local_4.push(_local_2);\n//             }\n//         }\n//         _local_7++;\n//     }\n//     if (this._cells.length == 1)\n//     {\n//         _local_2 = (this._cells[0] as PlaneMaterialCell);\n//         if (_local_2 != null)\n//         {\n//             _local_6 = _local_2.getHeight(k);\n//             if (_local_6 > 0)\n//             {\n//                 _local_5 = (_local_5 + _local_6);\n//                 _local_4.push(_local_2);\n//             }\n//         }\n//     }\n//     var _local_8:* = ((this._cachedBitmapData.height - _local_5) >> 1);\n//     var _local_9: number = this.renderCells(_local_4, _local_8, true, k);\n//     _local_2 = (this._cells[0] as PlaneMaterialCell);\n//     if (_local_2 != null)\n//     {\n//         _local_4 = [_local_2];\n//         while (_local_8 >= 0)\n//         {\n//             _local_8 = this.renderCells(_local_4, _local_8, false, k);\n//         }\n//     }\n//     _local_2 = (this._cells[(this._cells.length - 1)] as PlaneMaterialCell);\n//     if (_local_2 != null)\n//     {\n//         _local_4 = [_local_2];\n//         while (_local_9 < this._cachedBitmapData.height)\n//         {\n//             _local_9 = this.renderCells(_local_4, _local_9, true, k);\n//         }\n//     }\n// }\n// private renderRepeatCenter(k:IVector3D): void\n// {\n//     var _local_13: number;\n//     var _local_14: number;\n//     var _local_15: number;\n//     var _local_16:Array;\n//     if (((this._cells.length == 0) || (this._cachedBitmapData == null)))\n//     {\n//         return;\n//     }\n//     var _local_2:PlaneMaterialCell;\n//     var _local_3:BitmapData;\n//     var _local_4:Array = [];\n//     var _local_5:Array = [];\n//     var _local_6: number;\n//     var _local_7: number;\n//     var _local_8: number;\n//     var _local_9: number;\n//     _local_9 = 0;\n//     while (_local_9 < (this._cells.length >> 1))\n//     {\n//         _local_2 = (this._cells[_local_9] as PlaneMaterialCell);\n//         if (_local_2 != null)\n//         {\n//             _local_8 = _local_2.getHeight(k);\n//             if (_local_8 > 0)\n//             {\n//                 _local_6 = (_local_6 + _local_8);\n//                 _local_4.push(_local_2);\n//             }\n//         }\n//         _local_9++;\n//     }\n//     _local_9 = ((this._cells.length >> 1) + 1);\n//     while (_local_9 < this._cells.length)\n//     {\n//         _local_2 = (this._cells[_local_9] as PlaneMaterialCell);\n//         if (_local_2 != null)\n//         {\n//             _local_8 = _local_2.getHeight(k);\n//             if (_local_8 > 0)\n//             {\n//                 _local_7 = (_local_7 + _local_8);\n//                 _local_5.push(_local_2);\n//             }\n//         }\n//         _local_9++;\n//     }\n//     var _local_10: number;\n//     var _local_11: number;\n//     var _local_12: number = this._cachedBitmapData.height;\n//     if ((_local_6 + _local_7) > this._cachedBitmapData.height)\n//     {\n//         _local_10 = ((_local_6 + _local_7) - this._cachedBitmapData.height);\n//         _local_11 = (_local_11 - (_local_10 >> 1));\n//         _local_12 = (_local_12 + (_local_10 - (_local_10 >> 1)));\n//     }\n//     if (_local_10 == 0)\n//     {\n//         _local_2 = (this._cells[(this._cells.length >> 1)] as PlaneMaterialCell);\n//         if (_local_2 != null)\n//         {\n//             _local_8 = _local_2.getHeight(k);\n//             if (_local_8 > 0)\n//             {\n//                 _local_13 = (this._cachedBitmapData.height - (_local_6 + _local_7));\n//                 _local_14 = (Math.ceil((_local_13 / _local_8)) * _local_8);\n//                 _local_11 = (_local_6 - ((_local_14 - _local_13) >> 1));\n//                 _local_15 = (_local_11 + _local_14);\n//                 _local_16 = [_local_2];\n//                 while (_local_11 < _local_15)\n//                 {\n//                     _local_11 = this.renderCells(_local_16, _local_11, true, k);\n//                 }\n//             }\n//         }\n//     }\n//     _local_11 = 0;\n//     this.renderCells(_local_4, _local_11, true, k);\n//     this.renderCells(_local_5, _local_12, false, k);\n// }\n// private renderRepeatFirst(k:IVector3D): void\n// {\n//     var _local_4:Array;\n//     if (((this._cells.length == 0) || (this._cachedBitmapData == null)))\n//     {\n//         return;\n//     }\n//     var _local_2:PlaneMaterialCell;\n//     var _local_3: number = this._cachedBitmapData.height;\n//     _local_3 = this.renderCells(this._cells, _local_3, false, k);\n//     _local_2 = (this._cells[0] as PlaneMaterialCell);\n//     if (_local_2 != null)\n//     {\n//         _local_4 = [_local_2];\n//         while (_local_3 >= 0)\n//         {\n//             _local_3 = this.renderCells(_local_4, _local_3, false, k);\n//         }\n//     }\n// }\n// private renderRepeatLast(k: IVector3D): void\n// {\n//     if(!this._cells.length || !this._cachedBitmapData) return;\n//     var _local_4:Array;\n//     var _local_2:PlaneMaterialCell;\n//     var _local_3: number;\n//     _local_3 = this.renderCells(this._cells, _local_3, true, k);\n//     _local_2 = (this._cells[(this._cells.length - 1)] as PlaneMaterialCell);\n//     if (_local_2 != null)\n//     {\n//         _local_4 = [_local_2];\n//         while (_local_3 < this._cachedBitmapData.height)\n//         {\n//             _local_3 = this.renderCells(_local_4, _local_3, true, k);\n//         }\n//     }\n// }\ngetCells(){return this._cells;}}PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_NONE=0;PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_ALL=1;PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_BORDERS=2;PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_CENTER=3;PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_FIRST=4;PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_LAST=5;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterialCellMatrix.ts\nclass PlaneMaterialCellMatrix_PlaneMaterialCellMatrix{//1\n//1\nconstructor(totalColumns){let repeatMode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let align=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let normalMinX=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let normalMaxX=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;let normalMinY=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;let normalMaxY=arguments.length>6&&arguments[6]!==undefined?arguments[6]:1;this._columns=void 0;this._repeatMode=1;this._align=1;this._cachedBitmapData=void 0;this._cachedBitmapNormal=null;this._cachedBitmapHeight=0;this._isCached=false;this._isStatic=true;this._normalMinX=-1;this._normalMaxX=1;this._normalMinY=-1;this._normalMaxY=1;this._columns=[];if(totalColumns<1){totalColumns=1;}let _local_8=0;while(_local_8<totalColumns){this._columns.push(null);_local_8++;}this._repeatMode=repeatMode;this._align=align;this._normalMinX=normalMinX;this._normalMaxX=normalMaxX;this._normalMinY=normalMinY;this._normalMaxY=normalMaxY;if(this._repeatMode==PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_RANDOM){this._isStatic=false;}}static nextRandomColumnIndex(totalColumns){return Randomizer.getValues(1,0,totalColumns*17631)[0]%totalColumns;}get normalMinX(){return this._normalMinX;}get normalMaxX(){return this._normalMaxX;}get normalMinY(){return this._normalMinY;}get normalMaxY(){return this._normalMaxY;}isBottomAligned(){return this._align===PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_BOTTOM;}get isStatic(){return this._isStatic;}dispose(){if(this._cachedBitmapData){this._cachedBitmapData.destroy();this._cachedBitmapData=null;}if(this._cachedBitmapNormal)this._cachedBitmapNormal=null;}clearCache(){if(!this._isCached)return;if(this._cachedBitmapData){this._cachedBitmapData.destroy();this._cachedBitmapData=null;}if(this._cachedBitmapNormal){this._cachedBitmapNormal.x=0;this._cachedBitmapNormal.y=0;this._cachedBitmapNormal.z=0;}if(this._columns&&this._columns.length){for(const column of this._columns){if(!column)continue;column.clearCache();}}this._isCached=false;}createColumn(index,width,cells){let repeatMode=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;if(index<0||index>=this._columns.length)return false;const newColumn=new PlaneMaterialCellColumn_PlaneMaterialCellColumn(width,cells,repeatMode);const oldColumn=this._columns[index];if(oldColumn)oldColumn.dispose();this._columns[index]=newColumn;if(newColumn&&!newColumn.isStatic)this._isStatic=false;return true;}render(canvas,width,height,normal,useTexture,offsetX,offsetY,topAlign){if(width<1)width=1;if(height<1)height=1;if(!canvas||canvas.width!==width||canvas.height!==height)canvas=null;if(!this._cachedBitmapNormal)this._cachedBitmapNormal=new Vector3d();if(this.isStatic){if(this._cachedBitmapData){if(this._cachedBitmapData.width===width&&this._cachedBitmapData.height==height&&Vector3d.isEqual(this._cachedBitmapNormal,normal)){if(canvas){this.copyCachedBitmapOnCanvas(canvas,this._cachedBitmapHeight,offsetY,topAlign);return canvas;}return this._cachedBitmapData;}this._cachedBitmapData.destroy();this._cachedBitmapData=null;}}else{if(this._cachedBitmapData){if(this._cachedBitmapData.width===width&&this._cachedBitmapData.height===height){this._cachedBitmapData.beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();}else{this._cachedBitmapData.destroy();this._cachedBitmapData=null;}}}this._isCached=true;this._cachedBitmapNormal.assign(normal);if(!useTexture){this._cachedBitmapHeight=height;if(!this._cachedBitmapData){const graphic=new esm_graphics[\"a\" /* Graphics */]().beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();this._cachedBitmapData=graphic;}else{this._cachedBitmapData.beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();}if(canvas){this.copyCachedBitmapOnCanvas(canvas,height,offsetY,topAlign);return canvas;}return this._cachedBitmapData;}if(!this._cachedBitmapData){this._cachedBitmapHeight=height;const graphic=new esm_graphics[\"a\" /* Graphics */]().beginFill(0xFFFFFF).drawRect(0,0,width,height).endFill();this._cachedBitmapData=graphic;}const columns=[];let columnIndex=0;while(columnIndex<this._columns.length){const column=this._columns[columnIndex];if(column){const columnBitmapData=column.render(height,normal,offsetX,offsetY);if(columnBitmapData)columns.push(columnBitmapData);}columnIndex++;}if(!columns.length){if(canvas)return canvas;return this._cachedBitmapData;}let maxColumnHeight=0;switch(this._repeatMode){case PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_BORDERS://     maxColumnHeight = this.renderRepeatBorders(this._cachedBitmapData, columns);\nbreak;case PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_CENTER://     maxColumnHeight = this.renderRepeatCenter(this._cachedBitmapData, columns);\nbreak;case PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_FIRST://     maxColumnHeight = this.renderRepeatFirst(this._cachedBitmapData, columns);\nbreak;case PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_LAST://     maxColumnHeight = this.renderRepeatLast(this._cachedBitmapData, columns);\nbreak;case PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_RANDOM://     maxColumnHeight = this.renderRepeatRandom(this._cachedBitmapData, columns);\nbreak;default:maxColumnHeight=this.renderRepeatAll(this._cachedBitmapData,columns);break;}this._cachedBitmapHeight=maxColumnHeight;if(canvas){this.copyCachedBitmapOnCanvas(canvas,maxColumnHeight,offsetY,topAlign);return canvas;}return this._cachedBitmapData;}copyCachedBitmapOnCanvas(canvas,height,offsetY,topAlign){if(!canvas||!this._cachedBitmapData||canvas===this._cachedBitmapData)return;if(!topAlign)offsetY=canvas.height-height-offsetY;let _local_5;if(this._align==PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_TOP){_local_5=new math[\"j\" /* Rectangle */](0,0,this._cachedBitmapData.width,this._cachedBitmapHeight);}else{_local_5=new math[\"j\" /* Rectangle */](0,this._cachedBitmapData.height-this._cachedBitmapHeight,this._cachedBitmapData.width,this._cachedBitmapHeight);}const texture=TextureUtils_TextureUtils.generateTexture(this._cachedBitmapData,_local_5);if(texture){canvas.beginTextureFill({texture}).drawRect(0,offsetY,_local_5.width,_local_5.height).endFill();}}getColumnsWidth(columns){if(!columns||!columns.length)return 0;let width=0;for(const graphic of columns){if(!graphic)continue;width+=graphic.width;}return width;}renderColumns(canvas,columns,x,flag){if(!canvas||!columns||!columns.length)return new math[\"g\" /* Point */](x,0);let height=0;let i=0;while(i<columns.length){const column=flag?columns[i]:columns[columns.length-1-i];if(column){if(!flag)x=x-column.width;let y=0;if(this._align==PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_BOTTOM)y=canvas.height-column.height;let texture=RoomVisualization_RoomVisualization.getTextureCache(column);if(!texture){texture=TextureUtils_TextureUtils.generateTexture(column,new math[\"j\" /* Rectangle */](0,0,column.width,column.height));RoomVisualization_RoomVisualization.addTextureCache(column,texture);}canvas.beginTextureFill({texture});canvas.drawRect(x,y,texture.width,texture.height);canvas.endFill();if(column.height>height)height=column.height;if(flag)x=x+column.width;if(flag&&x>=canvas.width||!flag&&x<=0)return new math[\"g\" /* Point */](x,height);}i++;}return new math[\"g\" /* Point */](x,height);}renderRepeatAll(canvas,columns){if(!canvas||!columns||!columns.length)return 0;const totalWidth=this.getColumnsWidth(columns);let x=0;let y=0;while(x<canvas.width){const point=this.renderColumns(canvas,columns,x,true);x=point.x;if(point.y>y)y=point.y;if(!point.x)return y;}return y;}// private renderRepeatBorders(k:BitmapData, _arg_2:Array): number\n// {\n//     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))\n//     {\n//         return 0;\n//     }\n//     var _local_3: number;\n//     var _local_4:BitmapData;\n//     var _local_5:Array = [];\n//     var _local_6: number;\n//     var _local_7: number;\n//     _local_7 = 1;\n//     while (_local_7 < (_arg_2.length - 1))\n//     {\n//         _local_4 = (_arg_2[_local_7] as BitmapData);\n//         if (_local_4 != null)\n//         {\n//             _local_6 = (_local_6 + _local_4.width);\n//             _local_5.push(_local_4);\n//         }\n//         _local_7++;\n//     }\n//     if (this._columns.length == 1)\n//     {\n//         _local_4 = (this._columns[0] as BitmapData);\n//         if (_local_4 != null)\n//         {\n//             _local_6 = _local_4.width;\n//             _local_5.push(_local_4);\n//         }\n//     }\n//     var _local_8:* = ((k.width - _local_6) >> 1);\n//     var _local_9:Point;\n//     _local_9 = this.renderColumns(k, _local_5, _local_8, true);\n//     var _local_10: number = _local_9.x;\n//     if (_local_9.y > _local_3)\n//     {\n//         _local_3 = _local_9.y;\n//     }\n//     _local_4 = (_arg_2[0] as BitmapData);\n//     if (_local_4 != null)\n//     {\n//         _local_5 = [_local_4];\n//         while (_local_8 >= 0)\n//         {\n//             _local_9 = this.renderColumns(k, _local_5, _local_8, false);\n//             _local_8 = _local_9.x;\n//             if (_local_9.y > _local_3)\n//             {\n//                 _local_3 = _local_9.y;\n//             }\n//         }\n//     }\n//     _local_4 = (_arg_2[(_arg_2.length - 1)] as BitmapData);\n//     if (_local_4 != null)\n//     {\n//         _local_5 = [_local_4];\n//         while (_local_10 < k.height)\n//         {\n//             _local_9 = this.renderColumns(k, _local_5, _local_10, true);\n//             _local_10 = _local_9.x;\n//             if (_local_9.y > _local_3)\n//             {\n//                 _local_3 = _local_9.y;\n//             }\n//         }\n//     }\n//     return _local_3;\n// }\n// private renderRepeatCenter(k:BitmapData, _arg_2:Array): number\n// {\n//     var _local_14: number;\n//     var _local_15: number;\n//     var _local_16: number;\n//     var _local_17: number;\n//     var _local_18:Array;\n//     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))\n//     {\n//         return 0;\n//     }\n//     var _local_3: number;\n//     var _local_4:BitmapData;\n//     var _local_5:Array = [];\n//     var _local_6:Array = [];\n//     var _local_7: number;\n//     var _local_8: number;\n//     var _local_9: number;\n//     _local_9 = 0;\n//     while (_local_9 < (_arg_2.length >> 1))\n//     {\n//         _local_4 = (_arg_2[_local_9] as BitmapData);\n//         if (_local_4 != null)\n//         {\n//             _local_7 = (_local_7 + _local_4.width);\n//             _local_5.push(_local_4);\n//         }\n//         _local_9++;\n//     }\n//     _local_9 = ((_arg_2.length >> 1) + 1);\n//     while (_local_9 < _arg_2.length)\n//     {\n//         _local_4 = (_arg_2[_local_9] as BitmapData);\n//         if (_local_4 != null)\n//         {\n//             _local_8 = (_local_8 + _local_4.width);\n//             _local_6.push(_local_4);\n//         }\n//         _local_9++;\n//     }\n//     var _local_10:Point;\n//     var _local_11: number;\n//     var _local_12: number;\n//     var _local_13: number = k.width;\n//     if ((_local_7 + _local_8) > k.width)\n//     {\n//         _local_11 = ((_local_7 + _local_8) - k.width);\n//         _local_12 = (_local_12 - (_local_11 >> 1));\n//         _local_13 = (_local_13 + (_local_11 - (_local_11 >> 1)));\n//     }\n//     if (_local_11 == 0)\n//     {\n//         _local_4 = (_arg_2[(_arg_2.length >> 1)] as BitmapData);\n//         if (_local_4 != null)\n//         {\n//             _local_14 = _local_4.width;\n//             _local_15 = (k.width - (_local_7 + _local_8));\n//             _local_16 = (Math.ceil((_local_15 / _local_14)) * _local_14);\n//             _local_12 = (_local_7 - ((_local_16 - _local_15) >> 1));\n//             _local_17 = (_local_12 + _local_16);\n//             _local_18 = [_local_4];\n//             while (_local_12 < _local_17)\n//             {\n//                 _local_10 = this.renderColumns(k, _local_18, _local_12, true);\n//                 _local_12 = _local_10.x;\n//                 if (_local_10.y > _local_3)\n//                 {\n//                     _local_3 = _local_10.y;\n//                 }\n//             }\n//         }\n//     }\n//     _local_12 = 0;\n//     _local_10 = this.renderColumns(k, _local_5, _local_12, true);\n//     if (_local_10.y > _local_3)\n//     {\n//         _local_3 = _local_10.y;\n//     }\n//     _local_10 = this.renderColumns(k, _local_6, _local_13, false);\n//     if (_local_10.y > _local_3)\n//     {\n//         _local_3 = _local_10.y;\n//     }\n//     return _local_3;\n// }\n// private renderRepeatFirst(k:BitmapData, _arg_2:Array): number\n// {\n//     var _local_7:Array;\n//     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))\n//     {\n//         return 0;\n//     }\n//     var _local_3: number;\n//     var _local_4:BitmapData;\n//     var _local_5: number = k.width;\n//     var _local_6:Point = this.renderColumns(k, _arg_2, _local_5, false);\n//     _local_5 = _local_6.x;\n//     if (_local_6.y > _local_3)\n//     {\n//         _local_3 = _local_6.y;\n//     }\n//     _local_4 = (_arg_2[0] as BitmapData);\n//     if (_local_4 != null)\n//     {\n//         _local_7 = [_local_4];\n//         while (_local_5 >= 0)\n//         {\n//             _local_6 = this.renderColumns(k, _local_7, _local_5, false);\n//             _local_5 = _local_6.x;\n//             if (_local_6.y > _local_3)\n//             {\n//                 _local_3 = _local_6.y;\n//             }\n//         }\n//     }\n//     return _local_3;\n// }\n// private renderRepeatLast(k:BitmapData, _arg_2:Array): number\n// {\n//     var _local_7:Array;\n//     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))\n//     {\n//         return 0;\n//     }\n//     var _local_3: number;\n//     var _local_4:BitmapData;\n//     var _local_5: number;\n//     var _local_6:Point = this.renderColumns(k, _arg_2, _local_5, true);\n//     _local_5 = _local_6.x;\n//     if (_local_6.y > _local_3)\n//     {\n//         _local_3 = _local_6.y;\n//     }\n//     _local_4 = (_arg_2[(_arg_2.length - 1)] as BitmapData);\n//     if (_local_4 != null)\n//     {\n//         _local_7 = [_local_4];\n//         while (_local_5 < k.width)\n//         {\n//             _local_6 = this.renderColumns(k, _local_7, _local_5, true);\n//             _local_5 = _local_6.x;\n//             if (_local_6.y > _local_3)\n//             {\n//                 _local_3 = _local_6.y;\n//             }\n//         }\n//     }\n//     return _local_3;\n// }\n// private renderRepeatRandom(k:BitmapData, _arg_2:Array): number\n// {\n//     var _local_6:Array;\n//     var _local_7:Point;\n//     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))\n//     {\n//         return 0;\n//     }\n//     var _local_3: number;\n//     var _local_4:BitmapData;\n//     var _local_5: number;\n//     while (_local_5 < k.width)\n//     {\n//         _local_4 = (_arg_2[nextRandomColumnIndex(_arg_2.length)] as BitmapData);\n//         if (_local_4 != null)\n//         {\n//             _local_6 = [_local_4];\n//             _local_7 = this.renderColumns(k, _local_6, _local_5, true);\n//             _local_5 = _local_7.x;\n//             if (_local_7.y > _local_3)\n//             {\n//                 _local_3 = _local_7.y;\n//             }\n//         }\n//         else\n//         {\n//             return _local_3;\n//         }\n//     }\n//     return _local_3;\n// }\ngetColumns(width){if(this._repeatMode===PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_RANDOM){const columns=[];let columnIndex=0;while(columnIndex<width){const column=this._columns[PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.nextRandomColumnIndex(this._columns.length)];if(column){columns.push(column);if(column.width>1)columnIndex+=column.width;else break;}}return columns;}return this._columns;}}PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_ALL=1;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_BORDERS=2;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_CENTER=3;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_FIRST=4;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_LAST=5;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_RANDOM=6;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_DEFAULT=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_ALL;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.MIN_NORMAL_COORDINATE_VALUE=-1;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.MAX_NORMAL_COORDINATE_VALUE=1;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_TOP=1;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_BOTTOM=2;PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_DEFAULT=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_TOP;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterial.ts\nclass PlaneMaterial_PlaneMaterial{constructor(){this._planeMaterialItems=void 0;this._isCached=void 0;this._planeMaterialItems=[];this._isCached=false;}dispose(){if(this._planeMaterialItems&&this._planeMaterialItems.length){for(const item of this._planeMaterialItems){if(!item)continue;item.dispose();}this._planeMaterialItems=null;}this._isCached=false;}clearCache(){if(!this._isCached)return;if(this._planeMaterialItems&&this._planeMaterialItems.length){for(const item of this._planeMaterialItems){if(!item)continue;item.clearCache();}}this._isCached=false;}addMaterialCellMatrix(totalColumns,repeatMode,align){let normalMinX=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let normalMaxX=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;let normalMinY=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;let normalMaxY=arguments.length>6&&arguments[6]!==undefined?arguments[6]:1;const cellMatrix=new PlaneMaterialCellMatrix_PlaneMaterialCellMatrix(totalColumns,repeatMode,align,normalMinX,normalMaxX,normalMinY,normalMaxY);this._planeMaterialItems.push(cellMatrix);return cellMatrix;}getMaterialCellMatrix(normal){if(!normal)return null;if(this._planeMaterialItems&&this._planeMaterialItems.length){for(const item of this._planeMaterialItems){if(!item)continue;if(normal.x>=item.normalMinX&&normal.x<=item.normalMaxX&&normal.y>=item.normalMinY&&normal.y<=item.normalMaxY)return item;}}return null;}render(canvas,width,height,normal,useTexture,offsetX,offsetY,topAlign){if(width<1)width=1;if(height<1)height=1;const cellMatrix=this.getMaterialCellMatrix(normal);if(!cellMatrix)return null;this._isCached=true;return cellMatrix.render(canvas,width,height,normal,useTexture,offsetX,offsetY,topAlign);}}PlaneMaterial_PlaneMaterial.MIN_NORMAL_COORDINATE_VALUE=-1;PlaneMaterial_PlaneMaterial.MAX_NORMAL_COORDINATE_VALUE=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterialCell.ts\nclass PlaneMaterialCell_PlaneMaterialCell{constructor(texture){let assets=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let offsetPoints=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let limit=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;this._cachedSprite=void 0;this._texture=void 0;this._extraItemOffsets=void 0;this._extraItemAssets=void 0;this._extraItemCount=0;this._cachedSprite=null;this._texture=texture;this._extraItemOffsets=[];this._extraItemAssets=[];this._extraItemCount=0;if(assets&&assets.length&&limit>0){let assetIndex=0;while(assetIndex<assets.length){const graphic=assets[assetIndex];if(graphic)this._extraItemAssets.push(graphic);assetIndex++;}if(this._extraItemAssets.length){if(offsetPoints){let pointIndex=0;while(pointIndex<offsetPoints.length){const point=offsetPoints[pointIndex];if(point)this._extraItemOffsets.push(new math[\"g\" /* Point */](point.x,point.y));pointIndex++;}}this._extraItemCount=limit;}}}get isStatic(){return this._extraItemCount==0;}dispose(){if(this._texture){this._texture.dispose();this._texture=null;}if(this._cachedSprite){this._cachedSprite.destroy();this._cachedSprite=null;}this._extraItemAssets=null;this._extraItemOffsets=null;this._extraItemCount=0;}clearCache(){if(this._cachedSprite){this._cachedSprite.destroy();this._cachedSprite=null;}}getHeight(normal){if(this._texture){const texture=this._texture.getBitmap(normal);if(texture)return texture.height;}return 0;}render(normal,textureOffsetX,textureOffsetY){if(!this._texture)return null;const texture=this._texture.getBitmap(normal);if(!texture)return null;const bitmap=new NitroSprite_NitroSprite(texture);if(textureOffsetX!==0||textureOffsetY!==0){while(textureOffsetX<0)textureOffsetX+=texture.width;while(textureOffsetY<0)textureOffsetY+=texture.height;bitmap.x=textureOffsetX%texture.width;bitmap.y=textureOffsetY%texture.height;if(textureOffsetX){bitmap.anchor.x=1;bitmap.scale.x=-1;}if(textureOffsetY){bitmap.anchor.y=1;bitmap.scale.y=-1;}}if(bitmap){if(!this.isStatic){if(this._cachedSprite){if(this._cachedSprite.width!==bitmap.width||this._cachedSprite.height!==bitmap.height){this._cachedSprite.destroy();this._cachedSprite=null;}}if(!this._cachedSprite){this._cachedSprite=new NitroSprite_NitroSprite(texture);}const limitMin=Math.min(this._extraItemCount,this._extraItemOffsets.length);const limitMax=Math.max(this._extraItemCount,this._extraItemOffsets.length);const offsetIndexes=Randomizer.getArray(this._extraItemCount,limitMax);let i=0;while(i<limitMin){const offset=this._extraItemOffsets[offsetIndexes[i]];const item=this._extraItemAssets[i%this._extraItemAssets.length];if(offset&&item){const assetTexture=item.texture;if(assetTexture){const offsetFinal=new math[\"g\" /* Point */](offset.x+item.offsetX,offset.y+item.offsetY);const flipMatrix=new math[\"d\" /* Matrix */]();let x=1;let y=1;let translateX=0;let translateY=0;if(item.flipH){x=-1;translateX=assetTexture.width;}if(item.flipV){y=-1;translateY=assetTexture.height;}let offsetX=offsetFinal.x+translateX;offsetX=offsetX>>1<<1;flipMatrix.scale(x,y);flipMatrix.translate(offsetX,offsetFinal.y+translateY);const sprite=new NitroSprite_NitroSprite(assetTexture);sprite.transform.setFromMatrix(flipMatrix);sprite.x=flipMatrix.tx;sprite.y=flipMatrix.ty;this._cachedSprite.addChild(sprite);}}i++;}return this._cachedSprite;}return bitmap;}return null;}getAssetName(normal){return this._texture==null?null:this._texture.getAssetName(normal);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneTextureBitmap.ts\nclass PlaneTextureBitmap{constructor(texture){let normalMinX=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let normalMaxX=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let normalMinY=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let normalMaxY=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;let assetName=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;this._bitmap=void 0;this._normalMinX=void 0;this._normalMaxX=void 0;this._normalMinY=void 0;this._normalMaxY=void 0;this._assetName=void 0;this._normalMinX=normalMinX;this._normalMaxX=normalMaxX;this._normalMinY=normalMinY;this._normalMaxY=normalMaxY;this._assetName=assetName;this._bitmap=texture;}get bitmap(){return this._bitmap;}get normalMinX(){return this._normalMinX;}get normalMaxX(){return this._normalMaxX;}get normalMinY(){return this._normalMinY;}get normalMaxY(){return this._normalMaxY;}get assetName(){return this._assetName;}dispose(){this._bitmap=null;}}PlaneTextureBitmap.MIN_NORMAL_COORDINATE_VALUE=-1;PlaneTextureBitmap.MAX_NORMAL_COORDINATE_VALUE=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneTexture.ts\nclass PlaneTexture_PlaneTexture{constructor(){this._bitmaps=void 0;this._bitmaps=[];}dispose(){if(this._bitmaps){for(const bitmap of this._bitmaps){if(!bitmap)continue;bitmap.dispose();}this._bitmaps=null;}}addBitmap(texture){let normalMinX=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let normalMaxX=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let normalMinY=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;let normalMaxY=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;let assetName=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;this._bitmaps.push(new PlaneTextureBitmap(texture,normalMinX,normalMaxX,normalMinY,normalMaxY,assetName));}getBitmap(k){const _local_2=this.getPlaneTextureBitmap(k);if(!_local_2)return null;return _local_2.bitmap;}getPlaneTextureBitmap(k){if(!k)return null;for(const bitmap of this._bitmaps){if(!bitmap)continue;if(k.x>=bitmap.normalMinX&&k.x<=bitmap.normalMaxX&&k.y>=bitmap.normalMinY&&k.y<=bitmap.normalMaxY)return bitmap;}return null;}getAssetName(k){const _local_2=this.getPlaneTextureBitmap(k);return!_local_2?null:_local_2.assetName;}}PlaneTexture_PlaneTexture.MIN_NORMAL_COORDINATE_VALUE=-1;PlaneTexture_PlaneTexture.MAX_NORMAL_COORDINATE_VALUE=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/PlaneRasterizer.ts\nclass PlaneRasterizer_PlaneRasterizer{constructor(){this._assetCollection=void 0;this._materials=void 0;this._textures=void 0;this._planes=void 0;this._geometries=void 0;this._data=void 0;this._assetCollection=null;this._textures=new Map();this._materials=new Map();this._planes=new Map();this._geometries=new Map();this._data=null;}get data(){return this._data;}get assetCollection(){return this._assetCollection;}initializeDimensions(k,_arg_2){return true;}dispose(){if(this._planes){for(const plane of this._planes.values()){if(!plane)continue;plane.dispose();}this._planes=null;}if(this._materials){this.resetMaterials();this._materials=null;}if(this._textures){this.resetTextures();this._textures=null;}if(this._geometries){for(const geometry of this._geometries.values()){if(!geometry)continue;geometry.dispose();}this._geometries=null;}this._data=null;this._assetCollection=null;}clearCache(){for(const plane of this._planes.values()){if(!plane)continue;plane.clearCache();}for(const material of this._materials.values()){if(!material)continue;material.clearCache();}}initialize(data){this._data=data;}reinitialize(){this.resetTextures();this.resetMaterials();this.initializeAll();}resetMaterials(){for(const material of this._materials.values()){if(!material)continue;material.dispose();}this._materials.clear();}resetTextures(){for(const texture of this._textures.values()){if(!texture)continue;texture.dispose();}this._textures.clear();}getTexture(textureId){return this._textures.get(textureId);}getMaterial(materialId){return this._materials.get(materialId);}getPlane(planeId){return this._planes.get(planeId);}addPlane(id,plane){if(!plane)return false;const existing=this._planes.get(id);if(!existing){this._planes.set(id,plane);return true;}return false;}initializeAssetCollection(collection){if(!this._data)return;this._assetCollection=collection;this.initializeAll();}initializeAll(){if(!this._data)return;this.initializeTexturesAndMaterials();this.initializePlanes();}initializeTexturesAndMaterials(){if(this._data.textures&&this._data.textures.length)this.parseTextures(this._data.textures,this.assetCollection);if(this._data.materials&&this._data.materials.length)this.parsePlaneMaterials(this._data.materials);}initializePlanes(){}parseTextures(textures,collection){if(!textures||!collection)return;if(textures.length){for(const texture of textures){if(!texture)continue;const id=texture.id;if(!this._textures.get(id)){const plane=new PlaneTexture_PlaneTexture();if(texture.bitmaps&&texture.bitmaps.length){for(const bitmap of texture.bitmaps){if(!bitmap)continue;const assetName=bitmap.assetName;let normalMinX=PlaneTexture_PlaneTexture.MIN_NORMAL_COORDINATE_VALUE;let normalMaxX=PlaneTexture_PlaneTexture.MAX_NORMAL_COORDINATE_VALUE;let normalMinY=PlaneTexture_PlaneTexture.MIN_NORMAL_COORDINATE_VALUE;let normalMaxY=PlaneTexture_PlaneTexture.MAX_NORMAL_COORDINATE_VALUE;if(bitmap.normalMinX!==undefined)normalMinX=bitmap.normalMinX;if(bitmap.normalMaxX!==undefined)normalMaxX=bitmap.normalMaxX;if(bitmap.normalMinY!==undefined)normalMinY=bitmap.normalMinY;if(bitmap.normalMaxY!==undefined)normalMaxY=bitmap.normalMaxY;const asset=collection.getAsset(assetName);if(asset){const texture=asset.texture;if(texture){let newTexture=texture;if(asset.flipH){newTexture=Rasterizer_Rasterizer.getFlipHBitmapData(texture);}plane.addBitmap(newTexture,normalMinX,normalMaxX,normalMinY,normalMaxY,assetName);}}}}this._textures.set(id,plane);}}}}parsePlaneMaterials(materials){if(!materials||!materials.length)return;for(const material of materials){if(!material)continue;const id=material.id;const newMaterial=new PlaneMaterial_PlaneMaterial();if(material.matrices&&material.matrices.length){for(const matrix of material.matrices){if(!matrix)continue;let repeatMode=matrix.repeatMode;let align=matrix.align;const normalMinX=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.MIN_NORMAL_COORDINATE_VALUE;const normalMaxX=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.MAX_NORMAL_COORDINATE_VALUE;const normalMinY=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.MIN_NORMAL_COORDINATE_VALUE;const normalMaxY=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.MAX_NORMAL_COORDINATE_VALUE;switch(repeatMode){case'borders':repeatMode=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_BORDERS;break;case'center':repeatMode=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_CENTER;break;case'first':repeatMode=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_FIRST;break;case'last':repeatMode=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_LAST;break;case'random':repeatMode=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_RANDOM;break;default:repeatMode=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.REPEAT_MODE_DEFAULT;break;}switch(align){case'top':align=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_TOP;break;case'bottom':align=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_BOTTOM;break;default:align=PlaneMaterialCellMatrix_PlaneMaterialCellMatrix.ALIGN_DEFAULT;break;}if(matrix.columns&&matrix.columns.length){const cellMatrix=newMaterial.addMaterialCellMatrix(matrix.columns.length,repeatMode,align,normalMinX,normalMaxX,normalMinY,normalMaxY);let index=0;while(index<matrix.columns.length){const column=matrix.columns[index];if(column)this.parsePlaneMaterialCellColumn(column,cellMatrix,index);index++;}}}}this._materials.set(id,newMaterial);}}parsePlaneMaterialCellColumn(column,cellMatrix,index){if(!column||!cellMatrix)return;let repeatMode=PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_ALL;const width=column.width;const cells=this.parsePlaneMaterialCells(column);switch(column.repeatMode){case'borders':repeatMode=PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_BORDERS;break;case'center':repeatMode=PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_CENTER;break;case'first':repeatMode=PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_FIRST;break;case'last':repeatMode=PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_LAST;break;case'none':repeatMode=PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_NONE;break;default:repeatMode=PlaneMaterialCellColumn_PlaneMaterialCellColumn.REPEAT_MODE_ALL;break;}cellMatrix.createColumn(index,width,cells,repeatMode);}parsePlaneMaterialCells(column){if(!column||!column.cells||!column.cells.length)return null;const cells=[];let index=0;while(index<column.cells.length){const cell=column.cells[index];if(cell){const textureId=cell.textureId;let assetNames=null;let offsetPoints=null;let graphics=null;let limit=0;if(cell.extras&&cell.extras.length){const extra=cell.extras[0];const types=extra.types;const offsets=extra.offsets;if(types&&offsets){if(types.length&&offsets.length){const type=types[0];const offset=offsets[0];assetNames=this.parseExtraItemTypes(type);offsetPoints=this.parseExtraItemOffsets(offset);limit=offsetPoints.length;if(extra.limitMax)limit=extra.limitMax;}}}if(assetNames&&assetNames.length){graphics=[];for(const assetName of assetNames){if(!assetName)continue;const asset=this._assetCollection.getAsset(assetName);if(!asset)continue;graphics.push(asset);}}const texture=this.getTexture(textureId);const newCell=new PlaneMaterialCell_PlaneMaterialCell(texture,graphics,offsetPoints,limit);cells.push(newCell);}index++;}if(!cells||!cells.length)return null;return cells;}parseExtraItemTypes(k){const assetNames=[];if(k&&k.types&&k.types.length){let index=0;while(index<k.types.length){const type=k.types[index];const assetName=type.assetName;if(assetName)assetNames.push(assetName);index++;}}return assetNames;}parseExtraItemOffsets(k){const offsets=[];if(k&&k.offsets&&k.offsets.length){let index=0;while(index<k.offsets.length){const offset=k.offsets[index];const x=offset.x;const y=offset.y;offsets.push(new math[\"g\" /* Point */](x,y));index++;}}return offsets;}getGeometry(size,horizontalAngle,verticalAngle){horizontalAngle=Math.abs(horizontalAngle);if(horizontalAngle>90)horizontalAngle=90;verticalAngle=Math.abs(verticalAngle);if(verticalAngle>90)verticalAngle=90;const identifier=`${size}_${Math.round(horizontalAngle)}_${Math.round(verticalAngle)}`;let geometry=this._geometries.get(identifier);if(geometry)return geometry;geometry=new RoomGeometry_RoomGeometry(size,new Vector3d(horizontalAngle,verticalAngle),new Vector3d(-10,0,0));this._geometries.set(identifier,geometry);return geometry;}parseVisualizations(plane,visualizations){if(!plane||!visualizations)return;if(visualizations&&visualizations.length){for(const visualization of visualizations){if(!visualization)continue;const size=visualization.size;let horizontalAngle=FloorPlane_FloorPlane.HORIZONTAL_ANGLE_DEFAULT;let verticalAngle=FloorPlane_FloorPlane.VERTICAL_ANGLE_DEFAULT;if(visualization.horizontalAngle)horizontalAngle=visualization.horizontalAngle;if(visualization.verticalAngle)verticalAngle=visualization.verticalAngle;const layers=visualization.layers;const planeVisualization=plane.createPlaneVisualization(size,layers&&layers.length||0,this.getGeometry(size,horizontalAngle,verticalAngle));if(planeVisualization&&layers&&layers.length){let layerId=0;while(layerId<layers.length){const layer=layers[layerId];if(layer){let material=null;let align=PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_DEFAULT;let color=FloorPlane_FloorPlane.DEFAULT_COLOR;let offset=PlaneVisualizationLayer_PlaneVisualizationLayer.DEFAULT_OFFSET;if(layer.materialId)material=this.getMaterial(layer.materialId);if(layer.color)color=layer.color;if(layer.offset)offset=layer.offset;if(layer.align){if(layer.align==='bottom')align=PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_BOTTOM;else if(layer.align=='top')align=PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_TOP;}planeVisualization.setLayer(layerId,material,color,align,offset);}layerId++;}}}}}render(canvas,id,width,height,size,normal,useTexture){let offsetX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let offsetY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let maxX=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let maxY=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let timeSinceStartMs=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;return null;}getTextureIdentifier(k,normal){return k.toString();}getLayers(id){let planes=this.getPlane(id);if(!planes)planes=this.getPlane(PlaneRasterizer_PlaneRasterizer.DEFAULT);return planes.getLayers();}}PlaneRasterizer_PlaneRasterizer.DEFAULT='default';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/animated/LandscapePlane.ts\nclass LandscapePlane_LandscapePlane extends Plane_Plane{constructor(){super(...arguments);this._width=0;this._height=0;}isStatic(k){const _local_2=this.getPlaneVisualization(k);if(_local_2)return!_local_2.hasAnimationLayers;return super.isStatic(k);}initializeDimensions(k,_arg_2){if(k<0)k=0;if(_arg_2<0)_arg_2=0;if(k!==this._width||_arg_2!==this._height){this._width=k;this._height=_arg_2;}}render(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7,_arg_8,_arg_9,_arg_10,_arg_11){const visualization=this.getPlaneVisualization(_arg_4);if(!visualization||!visualization.geometry)return null;const _local_13=visualization.geometry.getScreenPoint(new Vector3d(0,0,0));const _local_14=visualization.geometry.getScreenPoint(new Vector3d(0,0,1));const _local_15=visualization.geometry.getScreenPoint(new Vector3d(0,1,0));if(_local_13&&_local_14&&_local_15){_arg_2=Math.round(Math.abs((_local_13.x-_local_15.x)*_arg_2/visualization.geometry.scale));_arg_3=Math.round(Math.abs((_local_13.y-_local_14.y)*_arg_3/visualization.geometry.scale));const _local_16=_arg_7*Math.abs(_local_13.x-_local_15.x);const _local_17=_arg_8*Math.abs(_local_13.y-_local_14.y);const _local_18=_arg_9*Math.abs(_local_13.x-_local_15.x);const _local_19=_arg_10*Math.abs(_local_13.y-_local_14.y);return visualization.render(k,_arg_2,_arg_3,_arg_5,_arg_6,_local_16,_local_17,_local_18,_local_19,_arg_9,_arg_10,_arg_11);}return null;}}LandscapePlane_LandscapePlane.DEFAULT_COLOR=0xFFFFFF;LandscapePlane_LandscapePlane.HORIZONTAL_ANGLE_DEFAULT=45;LandscapePlane_LandscapePlane.VERTICAL_ANGLE_DEFAULT=30;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/animated/LandscapeRasterizer.ts\nclass LandscapeRasterizer_LandscapeRasterizer extends PlaneRasterizer_PlaneRasterizer{constructor(){super(...arguments);this._landscapeWidth=0;this._landscapeHeight=0;}initializeDimensions(k,_arg_2){if(k<0)k=0;if(_arg_2<0)_arg_2=0;this._landscapeWidth=k;this._landscapeHeight=_arg_2;return true;}initializePlanes(){if(!this.data)return;const landscapes=this.data.landscapes;if(landscapes&&landscapes.length)this.parseLandscapes(landscapes);}parseLandscapes(k){if(!k)return;const randomNumber=Math.trunc(Math.random()*654321);for(const landscapeIndex in k){const landscape=k[landscapeIndex];if(!landscape)continue;const id=landscape.id;const visualizations=landscape.animatedVisualizations;const plane=new LandscapePlane_LandscapePlane();for(const visualization of visualizations){if(!visualization)continue;const size=visualization.size;let horizontalAngle=LandscapePlane_LandscapePlane.HORIZONTAL_ANGLE_DEFAULT;let verticalAngle=LandscapePlane_LandscapePlane.VERTICAL_ANGLE_DEFAULT;if(visualization.horizontalAngle)horizontalAngle=visualization.horizontalAngle;if(visualization.verticalAngle)verticalAngle=visualization.verticalAngle;const basicLayers=visualization.layers;const animatedLayers=visualization.animationLayers;const totalBasicLayers=basicLayers&&basicLayers.length||0;const totalAnimatedLayers=animatedLayers&&animatedLayers.length||0;const totalLayers=totalBasicLayers+totalAnimatedLayers;const planeVisualization=plane.createPlaneVisualization(size,totalLayers||0,this.getGeometry(size,horizontalAngle,verticalAngle));if(planeVisualization){Randomizer.setSeed(randomNumber);let layerId=0;if(totalBasicLayers){while(layerId<basicLayers.length){const layer=basicLayers[layerId];if(layer){let material=null;let align=PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_DEFAULT;let color=LandscapePlane_LandscapePlane.DEFAULT_COLOR;let offset=PlaneVisualizationLayer_PlaneVisualizationLayer.DEFAULT_OFFSET;if(layer.materialId)material=this.getMaterial(layer.materialId);if(layer.color)color=layer.color;if(layer.offset)offset=layer.offset;if(layer.align){if(layer.align==='bottom'){align=PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_BOTTOM;}else if(layer.align==='top')align=PlaneVisualizationLayer_PlaneVisualizationLayer.ALIGN_TOP;}planeVisualization.setLayer(layerId,material,color,align,offset);}layerId++;}}layerId=0;if(totalAnimatedLayers){const animationItems=[];while(layerId<animatedLayers.length){const layer=animatedLayers[layerId];if(layer){const items=layer.animationItems;if(items&&items.length){for(const item of items){if(item){const id=item.id;const assetId=item.assetId;const x=this.getCoordinateValue(item.x||'',item.randomX||'');const y=this.getCoordinateValue(item.y||'',item.randomY||'');const speedX=item.speedX?item.speedX/Nitro_Nitro.instance.getConfiguration('system.animation.fps'):0;const speedY=item.speedY?item.speedY/Nitro_Nitro.instance.getConfiguration('system.animation.fps'):0;animationItems.push({asset:assetId,x,y,speedX,speedY});}}}}layerId++;}planeVisualization.setAnimationLayer(layerId,animationItems,this.assetCollection);}}}if(!this.addPlane(id,plane))plane.dispose();}}getCoordinateValue(k,_arg_2){let _local_3=0;if(k.length>0){if(k.charAt(k.length-1)==='%'){k=k.substr(0,k.length-1);_local_3=parseFloat(k)/100;}}if(_arg_2.length>0){const _local_4=10000;const _local_5=Randomizer.getValues(1,0,_local_4);const _local_6=_local_5[0]/_local_4;if(_arg_2.charAt(_arg_2.length-1)==='%'){_arg_2=_arg_2.substr(0,_arg_2.length-1);_local_3=_local_3+_local_6*parseFloat(_arg_2)/100;}}return _local_3;}render(canvas,id,width,height,scale,normal,useTexture){let offsetX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let offsetY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let maxX=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let maxY=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let timeSinceStartMs=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;let plane=this.getPlane(id);if(!plane)plane=this.getPlane(LandscapeRasterizer_LandscapeRasterizer.DEFAULT);if(!plane)return null;if(canvas){canvas.clear();}let graphic=plane.render(canvas,width,height,scale,normal,useTexture,offsetX,offsetY,maxX,maxY,timeSinceStartMs);if(graphic&&graphic!==canvas){graphic=graphic.clone();if(!graphic)return null;}let planeBitmapData=null;if(!plane.isStatic(scale)&&LandscapeRasterizer_LandscapeRasterizer.UPDATE_INTERVAL>0){planeBitmapData=new PlaneBitmapData(graphic,Math.round(timeSinceStartMs/LandscapeRasterizer_LandscapeRasterizer.UPDATE_INTERVAL)*LandscapeRasterizer_LandscapeRasterizer.UPDATE_INTERVAL+LandscapeRasterizer_LandscapeRasterizer.UPDATE_INTERVAL);}else{planeBitmapData=new PlaneBitmapData(graphic,-1);}return planeBitmapData;}getTextureIdentifier(k,_arg_2){if(_arg_2){if(_arg_2.x<0)return k+'_0';return k+'_1';}return super.getTextureIdentifier(k,_arg_2);}}LandscapeRasterizer_LandscapeRasterizer.UPDATE_INTERVAL=500;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/FloorRasterizer.ts\nclass FloorRasterizer_FloorRasterizer extends PlaneRasterizer_PlaneRasterizer{initializePlanes(){if(!this.data)return;const floors=this.data.floors;if(floors&&floors.length)this.parseFloors(floors);}parseFloors(k){if(!k)return;for(const floorIndex in k){const floor=k[floorIndex];if(!floor)continue;const id=floor.id;const visualization=floor.visualizations;const plane=new FloorPlane_FloorPlane();this.parseVisualizations(plane,visualization);if(!this.addPlane(id,plane))plane.dispose();}}render(canvas,id,width,height,scale,normal,useTexture){let offsetX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let offsetY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let maxX=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let maxY=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let timeSinceStartMs=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;let plane=this.getPlane(id);if(!plane)plane=this.getPlane(PlaneRasterizer_PlaneRasterizer.DEFAULT);if(!plane)return null;if(canvas)canvas.clear();let graphic=plane.render(canvas,width,height,scale,normal,useTexture,offsetX,offsetY);if(graphic&&graphic!==canvas){graphic=graphic.clone();if(!graphic)return null;}return new PlaneBitmapData(graphic,-1);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/WallPlane.ts\nclass WallPlane_WallPlane extends Plane_Plane{render(canvas,width,height,size,normal,useTexture){const visualization=this.getPlaneVisualization(size);if(!visualization||!visualization.geometry)return null;const _local_8=visualization.geometry.getScreenPoint(new Vector3d(0,0,0));const _local_9=visualization.geometry.getScreenPoint(new Vector3d(0,0,height/visualization.geometry.scale));const _local_10=visualization.geometry.getScreenPoint(new Vector3d(0,width/visualization.geometry.scale,0));if(_local_8&&_local_9&&_local_10){width=Math.round(Math.abs(_local_8.x-_local_10.x));height=Math.round(Math.abs(_local_8.y-_local_9.y));}return visualization.render(canvas,width,height,normal,useTexture);}}WallPlane_WallPlane.DEFAULT_COLOR=0xFFFFFF;WallPlane_WallPlane.HORIZONTAL_ANGLE_DEFAULT=45;WallPlane_WallPlane.VERTICAL_ANGLE_DEFAULT=30;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/WallRasterizer.ts\nclass WallRasterizer_WallRasterizer extends PlaneRasterizer_PlaneRasterizer{initializePlanes(){if(!this.data)return;const walls=this.data.walls;if(walls&&walls.length)this.parseWalls(walls);}parseWalls(k){if(!k)return;for(const wallIndex in k){const wall=k[wallIndex];if(!wall)continue;const id=wall.id;const visualization=wall.visualizations;const plane=new WallPlane_WallPlane();this.parseVisualizations(plane,visualization);if(!this.addPlane(id,plane))plane.dispose();}}render(canvas,id,width,height,scale,normal,useTexture){let offsetX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let offsetY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let maxX=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let maxY=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let timeSinceStartMs=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;let plane=this.getPlane(id);if(!plane)plane=this.getPlane(PlaneRasterizer_PlaneRasterizer.DEFAULT);if(!plane)return null;if(canvas){const rectangle=canvas.getBounds();canvas.clear();canvas.drawRect(rectangle.x,rectangle.y,rectangle.width,rectangle.height);}let graphic=plane.render(canvas,width,height,scale,normal,useTexture);if(graphic&&graphic!==canvas){graphic=graphic.clone();if(!graphic)return null;}return new PlaneBitmapData(graphic,-1);}getTextureIdentifier(k,normal){if(normal){return`${k}_${normal.x}_${normal.y}_${normal.z}`;}return super.getTextureIdentifier(k,normal);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/RoomVisualizationData.ts\nclass RoomVisualizationData_RoomVisualizationData extends Disposable{constructor(){super();this._wallRasterizer=void 0;this._floorRasterizer=void 0;this._landscapeRasterizer=void 0;this._maskManager=void 0;this._initialized=void 0;this._wallRasterizer=new WallRasterizer_WallRasterizer();this._floorRasterizer=new FloorRasterizer_FloorRasterizer();this._landscapeRasterizer=new LandscapeRasterizer_LandscapeRasterizer();this._maskManager=new PlaneMaskManager_PlaneMaskManager();this._initialized=false;}initialize(asset){//@ts-ignore\nconst wallData=asset.wallData;if(wallData)this._wallRasterizer.initialize(wallData);//@ts-ignore\nconst floorData=asset.floorData;if(floorData)this._floorRasterizer.initialize(floorData);//@ts-ignore\nconst landscapeData=asset.landscapeData;if(landscapeData)this._landscapeRasterizer.initialize(landscapeData);//@ts-ignore\nconst maskData=asset.maskData;if(maskData)this._maskManager.initialize(maskData);return true;}onDispose(){if(this._wallRasterizer){this._wallRasterizer.dispose();this._wallRasterizer=null;}if(this._floorRasterizer){this._floorRasterizer.dispose();this._floorRasterizer=null;}if(this._landscapeRasterizer){this._landscapeRasterizer.dispose();this._landscapeRasterizer=null;}if(this._maskManager){this._maskManager.dispose();this._maskManager=null;}super.onDispose();}setGraphicAssetCollection(collection){if(this._initialized)return;this._wallRasterizer.initializeAssetCollection(collection);this._floorRasterizer.initializeAssetCollection(collection);this._landscapeRasterizer.initializeAssetCollection(collection);this._maskManager.initializeAssetCollection(collection);this._initialized=true;}clearCache(){if(this._wallRasterizer)this._wallRasterizer.clearCache();if(this._floorRasterizer)this._floorRasterizer.clearCache();if(this._landscapeRasterizer)this._landscapeRasterizer.clearCache();}get wallRasterizer(){return this._wallRasterizer;}get floorRasterizer(){return this._floorRasterizer;}get landscapeRasterizer(){return this._landscapeRasterizer;}get maskManager(){return this._maskManager;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/RoomVisualization.ts\nclass RoomVisualization_RoomVisualization extends RoomObjectSpriteVisualization_RoomObjectSpriteVisualization{constructor(){super();this._data=void 0;this._roomPlaneParser=void 0;this._roomPlaneBitmapMaskParser=void 0;this._geometryUpdateId=void 0;this._boundingRectangle=void 0;this._directionX=void 0;this._directionY=void 0;this._directionZ=void 0;this._floorThickness=void 0;this._wallThickness=void 0;this._holeUpdateTime=void 0;this._planes=void 0;this._visiblePlanes=void 0;this._visiblePlaneSpriteNumbers=void 0;this._roomScale=void 0;this._lastUpdateTime=void 0;this._updateIntervalTime=void 0;this._wallType=void 0;this._floorType=void 0;this._landscapeType=void 0;this._colorBackgroundOnly=void 0;this._color=void 0;this._redColor=void 0;this._greenColor=void 0;this._blueColor=void 0;this._typeVisibility=void 0;this._assetUpdateCounter=void 0;this._maskData=void 0;this._isPlaneSet=void 0;this._data=null;this._roomPlaneParser=new RoomPlaneParser_RoomPlaneParser();this._roomPlaneBitmapMaskParser=new RoomPlaneBitmapMaskParser_RoomPlaneBitmapMaskParser();this._geometryUpdateId=-1;this._directionX=0;this._directionY=0;this._directionZ=0;this._floorThickness=1;this._wallThickness=1;this._holeUpdateTime=NaN;this._planes=[];this._visiblePlanes=[];this._visiblePlaneSpriteNumbers=[];this._roomScale=0;this._lastUpdateTime=-1000;this._updateIntervalTime=250;this._wallType=null;this._floorType=null;this._landscapeType=null;this._colorBackgroundOnly=true;this._color=0xFFFFFF;this._redColor=0xFF;this._greenColor=0xFF;this._blueColor=0xFF;this._typeVisibility=[];this._assetUpdateCounter=0;this._maskData=null;this._isPlaneSet=false;this._typeVisibility[RoomPlane_RoomPlane.TYPE_UNDEFINED]=false;this._typeVisibility[RoomPlane_RoomPlane.TYPE_FLOOR]=true;this._typeVisibility[RoomPlane_RoomPlane.TYPE_WALL]=true;this._typeVisibility[RoomPlane_RoomPlane.TYPE_LANDSCAPE]=true;}static getTextureCache(key){const existing=RoomVisualization_RoomVisualization.RENDER_TEXTURE_CACHE.get(RoomVisualization_RoomVisualization.LAST_VISUALIZATION);if(!existing)return null;return existing.getValue(key);}static addTextureCache(key,value){if(!RoomVisualization_RoomVisualization.LAST_VISUALIZATION)return;let existing=RoomVisualization_RoomVisualization.RENDER_TEXTURE_CACHE.get(RoomVisualization_RoomVisualization.LAST_VISUALIZATION);if(!existing){existing=new AdvancedMap();RoomVisualization_RoomVisualization.RENDER_TEXTURE_CACHE.set(RoomVisualization_RoomVisualization.LAST_VISUALIZATION,existing);}existing.add(key,value);}initialize(data){if(!(data instanceof RoomVisualizationData_RoomVisualizationData))return false;this._data=data;super.initialize(data);this._data.setGraphicAssetCollection(this.asset);return true;}dispose(){super.dispose();this.clearPlanes();this._planes=null;this._visiblePlanes=null;this._visiblePlaneSpriteNumbers=null;if(this._roomPlaneParser){this._roomPlaneParser.dispose();this._roomPlaneParser=null;}if(this._roomPlaneBitmapMaskParser){this._roomPlaneBitmapMaskParser.dispose();this._roomPlaneBitmapMaskParser=null;}if(this._data){this._data.clearCache();this._data=null;}const existingTextureCache=RoomVisualization_RoomVisualization.RENDER_TEXTURE_CACHE.get(this);if(existingTextureCache){for(const texture of existingTextureCache.getValues()){texture.destroy(true);}existingTextureCache.dispose();RoomVisualization_RoomVisualization.RENDER_TEXTURE_CACHE.delete(this);}}reset(){super.reset();this._floorType=null;this._wallType=null;this._landscapeType=null;this._maskData=null;this._geometryUpdateId=-1;this._roomScale=0;}update(geometry,time,update,skipUpdate){if(!this.object||!geometry)return;RoomVisualization_RoomVisualization.LAST_VISUALIZATION=this;let removeCount=0;const existing=RoomVisualization_RoomVisualization.RENDER_TEXTURE_CACHE.get(RoomVisualization_RoomVisualization.LAST_VISUALIZATION);if(existing)removeCount=existing.length;const geometryUpdate=this.updateGeometry(geometry);const objectModel=this.object.model;let needsUpdate=false;if(this.updateThickness(objectModel))needsUpdate=true;if(this.updateHole(objectModel))needsUpdate=true;if(this.initializeRoomPlanes()){if(existing&&removeCount){setTimeout(()=>{while(removeCount){const texture=existing.getWithIndex(0);if(texture){texture.destroy(true);existing.remove(existing.getKey(0));}removeCount--;}},0);}}needsUpdate=this.updateMasks(objectModel);if(time<this._lastUpdateTime+this._updateIntervalTime&&!geometryUpdate&&!needsUpdate)return;if(this.updatePlaneTexturesAndVisibilities(objectModel))needsUpdate=true;if(this.updatePlanes(geometry,geometryUpdate,time))needsUpdate=true;if(needsUpdate){let index=0;while(index<this._visiblePlanes.length){const spriteIndex=this._visiblePlaneSpriteNumbers[index];const sprite=this.getSprite(spriteIndex);const plane=this._visiblePlanes[index];if(sprite&&plane&&plane.type!==RoomPlane_RoomPlane.TYPE_LANDSCAPE){if(this._colorBackgroundOnly){let _local_14=plane.color;const _local_15=(_local_14&0xFF)*this._redColor/0xFF;const _local_16=(_local_14>>8&0xFF)*this._greenColor/0xFF;const _local_17=(_local_14>>16&0xFF)*this._blueColor/0xFF;const _local_18=_local_14>>24;_local_14=(_local_18<<24)+(_local_17<<16)+(_local_16<<8)+_local_15;sprite.color=_local_14;}else{sprite.color=plane.color;}}index++;}this.updateSpriteCounter++;}this.updateModelCounter=objectModel.updateCounter;this._lastUpdateTime=time;}updateGeometry(k){if(!k)return false;if(this._geometryUpdateId===k.updateId)return false;this._geometryUpdateId=k.updateId;this._boundingRectangle=null;const direction=k.direction;if(direction&&(direction.x!==this._directionX||direction.y!==this._directionY||direction.z!==this._directionZ||k.scale!==this._roomScale)){this._directionX=direction.x;this._directionY=direction.y;this._directionZ=direction.z;this._roomScale=k.scale;return true;}return false;}updateThickness(k){if(this.updateModelCounter===k.updateCounter)return false;const floorThickness=k.getValue(RoomObjectVariable.ROOM_FLOOR_THICKNESS);const wallThickness=k.getValue(RoomObjectVariable.ROOM_WALL_THICKNESS);if(!isNaN(floorThickness)&&!isNaN(wallThickness)&&(floorThickness!==this._floorThickness||wallThickness!==this._wallThickness)){this._floorThickness=floorThickness;this._wallThickness=wallThickness;this.clearPlanes();return true;}return false;}updateHole(k){if(this.updateModelCounter===k.updateCounter)return false;const holeUpdate=k.getValue(RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME);if(!isNaN(holeUpdate)&&holeUpdate!==this._holeUpdateTime){this._holeUpdateTime=holeUpdate;this.clearPlanes();return true;}return false;}updateMasks(k){if(this.updateModelCounter===k.updateCounter)return false;let didUpdate=false;const planeMask=k.getValue(RoomObjectVariable.ROOM_PLANE_MASK_XML);if(planeMask!==this._maskData){this.updatePlaneMasks(planeMask);this._maskData=planeMask;didUpdate=true;}const backgroundColor=k.getValue(RoomObjectVariable.ROOM_BACKGROUND_COLOR);if(backgroundColor!==this._color){this._color=backgroundColor;this._redColor=this._color&0xFF;this._greenColor=this._color>>8&0xFF;this._blueColor=this._color>>16&0xFF;didUpdate=true;}const backgroundOnly=k.getValue(RoomObjectVariable.ROOM_COLORIZE_BG_ONLY)||false;if(backgroundOnly!==this._colorBackgroundOnly){this._colorBackgroundOnly=backgroundOnly;didUpdate=true;}return didUpdate;}updatePlaneTexturesAndVisibilities(model){if(this.updateModelCounter===model.updateCounter)return false;const floorType=model.getValue(RoomObjectVariable.ROOM_FLOOR_TYPE);const wallType=model.getValue(RoomObjectVariable.ROOM_WALL_TYPE);const landscapeType=model.getValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE);this.updatePlaneTypes(floorType,wallType,landscapeType);const floorVisibility=model.getValue(RoomObjectVariable.ROOM_FLOOR_VISIBILITY)===1;const wallVisibility=model.getValue(RoomObjectVariable.ROOM_WALL_VISIBILITY)===1;const landscapeVisibility=model.getValue(RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY)===1;this.updatePlaneVisibility(floorVisibility,wallVisibility,landscapeVisibility);return true;}clearPlanes(){if(this._planes){while(this._planes.length){const plane=this._planes[0];if(plane)plane.dispose();this._planes.pop();}this._planes=[];this._planes=[];}this._isPlaneSet=false;this._assetUpdateCounter=this._assetUpdateCounter+1;this.reset();}initializeRoomPlanes(){if(!this.object||this._isPlaneSet)return false;if(!isNaN(this._floorThickness))this._roomPlaneParser.floorThicknessMultiplier=this._floorThickness;if(!isNaN(this._wallThickness))this._roomPlaneParser.wallThicknessMultiplier=this._wallThickness;const mapData=this.object.model.getValue(RoomObjectVariable.ROOM_MAP_DATA);if(!this._roomPlaneParser.initializeFromMapData(mapData))return;const _local_3=this.getLandscapeWidth();const _local_4=this.getLandscapeHeight();let _local_5=0;let randomSeed=this.object.model.getValue(RoomObjectVariable.ROOM_RANDOM_SEED);let index=0;while(index<this._roomPlaneParser.planeCount){const location=this._roomPlaneParser.getPlaneLocation(index);const leftSide=this._roomPlaneParser.getPlaneLeftSide(index);const rightSide=this._roomPlaneParser.getPlaneRightSide(index);const secondaryNormals=this._roomPlaneParser.getPlaneSecondaryNormals(index);const planeType=this._roomPlaneParser.getPlaneType(index);let plane=null;if(location&&leftSide&&rightSide){const _local_14=Vector3d.crossProduct(leftSide,rightSide);randomSeed=randomSeed*7613+517;plane=null;if(planeType===RoomPlaneData_RoomPlaneData.PLANE_FLOOR){const _local_15=location.x+leftSide.x+0.5;const _local_16=location.y+rightSide.y+0.5;const textureOffsetX=Math.trunc(_local_15)-_local_15;const textureOffsetY=Math.trunc(_local_16)-_local_16;plane=new RoomPlane_RoomPlane(this.object.getLocation(),location,leftSide,rightSide,RoomPlane_RoomPlane.TYPE_FLOOR,true,secondaryNormals,randomSeed,-textureOffsetX,-textureOffsetY);if(_local_14.z!==0){plane.color=RoomVisualization_RoomVisualization.FLOOR_COLOR;}else{plane.color=_local_14.x!==0?RoomVisualization_RoomVisualization.FLOOR_COLOR_RIGHT:RoomVisualization_RoomVisualization.FLOOR_COLOR_LEFT;}if(this._data)plane.rasterizer=this._data.floorRasterizer;}else if(planeType===RoomPlaneData_RoomPlaneData.PLANE_WALL){plane=new RoomPlane_RoomPlane(this.object.getLocation(),location,leftSide,rightSide,RoomPlane_RoomPlane.TYPE_WALL,true,secondaryNormals,randomSeed);if(leftSide.length<1||rightSide.length<1){plane.hasTexture=false;}if(_local_14.x===0&&_local_14.y===0){plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_BORDER;}else{if(_local_14.y>0){plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_TOP;}else{if(_local_14.y===0){plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_SIDE;}else{plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_BOTTOM;}}}if(this._data)plane.rasterizer=this._data.wallRasterizer;}else if(planeType===RoomPlaneData_RoomPlaneData.PLANE_LANDSCAPE){plane=new RoomPlane_RoomPlane(this.object.getLocation(),location,leftSide,rightSide,RoomPlane_RoomPlane.TYPE_LANDSCAPE,true,secondaryNormals,randomSeed,_local_5,0,_local_3,_local_4);if(_local_14.y>0){plane.color=RoomVisualization_RoomVisualization.LANDSCAPE_COLOR_TOP;}else{if(_local_14.y==0){plane.color=RoomVisualization_RoomVisualization.LANDSCAPE_COLOR_SIDE;}else{plane.color=RoomVisualization_RoomVisualization.LANDSCAPE_COLOR_BOTTOM;}}if(this._data)plane.rasterizer=this._data.landscapeRasterizer;_local_5=_local_5+leftSide.length;}else if(planeType==RoomPlaneData_RoomPlaneData.PLANE_BILLBOARD){plane=new RoomPlane_RoomPlane(this.object.getLocation(),location,leftSide,rightSide,RoomPlane_RoomPlane.TYPE_WALL,true,secondaryNormals,randomSeed);if(leftSide.length<1||rightSide.length<1){plane.hasTexture=false;}if(_local_14.x==0&&_local_14.y==0){plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_BORDER;}else{if(_local_14.y>0){plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_TOP;}else{if(_local_14.y==0){plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_SIDE;}else{plane.color=RoomVisualization_RoomVisualization.WALL_COLOR_BOTTOM;}}}// if (this._Str_594 != null)\n// {\n//     _local_13.rasterizer = this._Str_594._Str_23913;\n// }\n}if(plane){plane.maskManager=this._data.maskManager;let _local_19=0;while(_local_19<this._roomPlaneParser.getPlaneMaskCount(index)){const _local_20=this._roomPlaneParser.getPlaneMaskLeftSideLoc(index,_local_19);const _local_21=this._roomPlaneParser.getPlaneMaskRightSideLoc(index,_local_19);const _local_22=this._roomPlaneParser.getPlaneMaskLeftSideLength(index,_local_19);const _local_23=this._roomPlaneParser.getPlaneMaskRightSideLength(index,_local_19);plane.addRectangleMask(_local_20,_local_21,_local_22,_local_23);_local_19++;}this._planes.push(plane);}}else{return;}index++;}this._isPlaneSet=true;this.defineSprites();return true;}defineSprites(){this.createSprites(this._planes.length);let planeIndex=0;while(planeIndex<this._planes.length){const plane=this._planes[planeIndex];const sprite=this.getSprite(planeIndex);if(plane&&sprite&&plane.leftSide&&plane.rightSide){if(plane.type===RoomPlane_RoomPlane.TYPE_WALL&&(plane.leftSide.length<1||plane.rightSide.length<1)){sprite.alphaTolerance=AlphaTolerance.MATCH_NOTHING;}else{sprite.alphaTolerance=AlphaTolerance.MATCH_OPAQUE_PIXELS;}if(plane.type===RoomPlane_RoomPlane.TYPE_WALL){sprite.tag='plane.wall@'+(planeIndex+1);}else if(plane.type===RoomPlane_RoomPlane.TYPE_FLOOR){sprite.tag='plane.floor@'+(planeIndex+1);}else{sprite.tag='plane@'+(planeIndex+1);}sprite.spriteType=RoomObjectSpriteType.ROOM_PLANE;}planeIndex++;}}getLandscapeWidth(){let length=0;let index=0;while(index<this._roomPlaneParser.planeCount){const type=this._roomPlaneParser.getPlaneType(index);if(type===RoomPlaneData_RoomPlaneData.PLANE_LANDSCAPE){const vector=this._roomPlaneParser.getPlaneLeftSide(index);length+=vector.length;}index++;}return length;}getLandscapeHeight(){let length=0;let index=0;while(index<this._roomPlaneParser.planeCount){const type=this._roomPlaneParser.getPlaneType(index);if(type===RoomPlaneData_RoomPlaneData.PLANE_LANDSCAPE){const vector=this._roomPlaneParser.getPlaneRightSide(index);if(vector.length>length)length=vector.length;}index++;}if(length>5)length=5;return length;}updatePlaneTypes(floorType,wallType,landscapeType){if(floorType!==this._floorType)this._floorType=floorType;else floorType=null;if(wallType!==this._wallType)this._wallType=wallType;else wallType=null;if(landscapeType!==this._landscapeType)this._landscapeType=landscapeType;else landscapeType=null;if(!floorType&&!wallType&&!landscapeType)return false;let index=0;while(index<this._planes.length){const plane=this._planes[index];if(plane){if(plane.type===RoomPlane_RoomPlane.TYPE_FLOOR&&floorType){plane.id=floorType;}else if(plane.type===RoomPlane_RoomPlane.TYPE_WALL&&wallType){plane.id=wallType;}else if(plane.type===RoomPlane_RoomPlane.TYPE_LANDSCAPE&&landscapeType){plane.id=landscapeType;}}index++;}return true;}updatePlaneVisibility(k,_arg_2,_arg_3){if(k===this._typeVisibility[RoomPlane_RoomPlane.TYPE_FLOOR]&&_arg_2===this._typeVisibility[RoomPlane_RoomPlane.TYPE_WALL]&&_arg_3===this._typeVisibility[RoomPlane_RoomPlane.TYPE_LANDSCAPE])return;this._typeVisibility[RoomPlane_RoomPlane.TYPE_FLOOR]=k;this._typeVisibility[RoomPlane_RoomPlane.TYPE_WALL]=_arg_2;this._typeVisibility[RoomPlane_RoomPlane.TYPE_LANDSCAPE]=_arg_3;this._visiblePlanes=[];this._visiblePlaneSpriteNumbers=[];}updatePlanes(k,_arg_2,_arg_3){if(!k||!this.object)return;this._assetUpdateCounter++;if(_arg_2){this._visiblePlanes=[];this._visiblePlaneSpriteNumbers=[];}const _local_8=this._visiblePlanes.length>0;let _local_6=this._visiblePlanes;if(!this._visiblePlanes.length)_local_6=this._planes;let depth=0;let updated=false;let index=0;while(index<_local_6.length){let _local_10=index;if(_local_8)_local_10=this._visiblePlaneSpriteNumbers[index];const _local_11=this.getSprite(_local_10);if(_local_11){const _local_12=_local_6[index];if(_local_12){_local_11.id=_local_12.uniqueId;if(_local_12.update(k,_arg_3)){if(_local_12.visible){depth=_local_12.relativeDepth+this.floorRelativeDepth+_local_10/1000;if(_local_12.type!==RoomPlane_RoomPlane.TYPE_FLOOR){depth=_local_12.relativeDepth+this.wallRelativeDepth+_local_10/1000;if(_local_12.leftSide.length<1||_local_12.rightSide.length<1){depth=depth+RoomVisualization_RoomVisualization.ROOM_DEPTH_OFFSET*0.5;}}const _local_14='plane '+_local_10+' '+k.scale;this.updateSprite(_local_11,_local_12,_local_14,depth);}updated=true;}if(_local_11.visible!=(_local_12.visible&&this._typeVisibility[_local_12.type])){_local_11.visible=!_local_11.visible;updated=true;}if(_local_11.visible){if(!_local_8){this._visiblePlanes.push(_local_12);this._visiblePlaneSpriteNumbers.push(index);}}}else{_local_11.id=0;if(_local_11.visible){_local_11.visible=false;updated=true;}}}index++;}return updated;}updatePlaneMasks(k){if(!k)return;this._roomPlaneBitmapMaskParser.initialize(k);const _local_4=[];const _local_5=[];let _local_6=false;let index=0;while(index<this._planes.length){const plane=this._planes[index];if(plane){plane.resetBitmapMasks();if(plane.type===RoomPlane_RoomPlane.TYPE_LANDSCAPE)_local_4.push(index);}index++;}for(const mask of this._roomPlaneBitmapMaskParser.masks.values()){const maskType=this._roomPlaneBitmapMaskParser.getMaskType(mask);const maskLocation=this._roomPlaneBitmapMaskParser.getMaskLocation(mask);const maskCategory=this._roomPlaneBitmapMaskParser.getMaskCategory(mask);if(maskLocation){let i=0;while(i<this._planes.length){const plane=this._planes[i];if(plane.type===RoomPlane_RoomPlane.TYPE_WALL||plane.type===RoomPlane_RoomPlane.TYPE_LANDSCAPE){if(plane&&plane.location&&plane.normal){const _local_14=Vector3d.dif(maskLocation,plane.location);const _local_15=Math.abs(Vector3d.scalarProjection(_local_14,plane.normal));if(_local_15<0.01){if(plane.leftSide&&plane.rightSide){const _local_16=Vector3d.scalarProjection(_local_14,plane.leftSide);const _local_17=Vector3d.scalarProjection(_local_14,plane.rightSide);if(plane.type===RoomPlane_RoomPlane.TYPE_WALL||plane.type===RoomPlane_RoomPlane.TYPE_LANDSCAPE&&maskCategory===RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData.HOLE){plane.addBitmapMask(maskType,_local_16,_local_17);}else{if(plane.type===RoomPlane_RoomPlane.TYPE_LANDSCAPE){if(!plane.canBeVisible)_local_6=true;plane.canBeVisible=true;_local_5.push(i);}}}}}}i++;}}}index=0;while(index<_local_4.length){const planeIndex=_local_4[index];if(_local_5.indexOf(planeIndex)<0){const plane=this._planes[planeIndex];plane.canBeVisible=false;_local_6=true;}index++;}if(_local_6){this._visiblePlanes=[];this._visiblePlaneSpriteNumbers=[];}}updateSprite(k,_arg_2,_arg_3,_arg_4){const offset=_arg_2.offset;k.offsetX=-offset.x;k.offsetY=-offset.y;k.relativeDepth=_arg_4;k.color=_arg_2.color;k.texture=this.getPlaneBitmap(_arg_2,_arg_3);k.name=_arg_3+'_'+this._assetUpdateCounter;}getPlaneBitmap(k,_arg_2){return k.bitmapData;}getBoundingRectangle(){if(!this._boundingRectangle)this._boundingRectangle=super.getBoundingRectangle();return new math[\"j\" /* Rectangle */](this._boundingRectangle.x,this._boundingRectangle.y,this._boundingRectangle.width,this._boundingRectangle.height);}get planes(){const planes=[];for(const plane of this._visiblePlanes)planes.push(plane);return planes;}get floorRelativeDepth(){return RoomVisualization_RoomVisualization.ROOM_DEPTH_OFFSET+0.1;}get wallRelativeDepth(){return RoomVisualization_RoomVisualization.ROOM_DEPTH_OFFSET+0.5;}}RoomVisualization_RoomVisualization.LAST_VISUALIZATION=null;RoomVisualization_RoomVisualization.RENDER_TEXTURE_CACHE=new Map();RoomVisualization_RoomVisualization.FLOOR_COLOR=0xFFFFFF;RoomVisualization_RoomVisualization.FLOOR_COLOR_LEFT=0xDDDDDD;RoomVisualization_RoomVisualization.FLOOR_COLOR_RIGHT=0xBBBBBB;RoomVisualization_RoomVisualization.WALL_COLOR_TOP=0xFFFFFF;RoomVisualization_RoomVisualization.WALL_COLOR_SIDE=0xCCCCCC;RoomVisualization_RoomVisualization.WALL_COLOR_BOTTOM=0x999999;RoomVisualization_RoomVisualization.WALL_COLOR_BORDER=0x999999;RoomVisualization_RoomVisualization.LANDSCAPE_COLOR_TOP=0xFFFFFF;RoomVisualization_RoomVisualization.LANDSCAPE_COLOR_SIDE=0xCCCCCC;RoomVisualization_RoomVisualization.LANDSCAPE_COLOR_BOTTOM=0x999999;RoomVisualization_RoomVisualization.ROOM_DEPTH_OFFSET=1000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/TileCursorVisualization.ts\nclass TileCursorVisualization_TileCursorVisualization extends FurnitureAnimatedVisualization_FurnitureAnimatedVisualization{constructor(){super();this._tileHeight=void 0;this._tileHeight=0;}getLayerYOffset(scale,direction,layerId){if(layerId===1){this._tileHeight=this.object.model.getValue(RoomObjectVariable.TILE_CURSOR_HEIGHT);return-this._tileHeight*32;// 32 = scale / 2\n}return super.getLayerYOffset(scale,direction,layerId);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectVisualizationFactory.ts\nclass RoomObjectVisualizationFactory_RoomObjectVisualizationFactory{constructor(){this._visualizationDatas=void 0;this._visualizationDatas=new Map();}getVisualization(type){const visualization=this.getVisualizationType(type);if(!visualization)return null;return new visualization();}getVisualizationType(type){if(!type)return null;let visualization=null;switch(type){case RoomObjectVisualizationType.ROOM:visualization=RoomVisualization_RoomVisualization;break;case RoomObjectVisualizationType.TILE_CURSOR:visualization=TileCursorVisualization_TileCursorVisualization;break;case RoomObjectVisualizationType.USER:case RoomObjectVisualizationType.BOT:case RoomObjectVisualizationType.RENTABLE_BOT:visualization=AvatarVisualization_AvatarVisualization;break;case RoomObjectVisualizationType.PET_ANIMATED:visualization=PetVisualization_PetVisualization;break;case RoomObjectVisualizationType.FURNITURE_STATIC:visualization=FurnitureVisualization_FurnitureVisualization;break;case RoomObjectVisualizationType.FURNITURE_ANIMATED:visualization=FurnitureAnimatedVisualization_FurnitureAnimatedVisualization;break;case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:visualization=FurnitureResettingAnimatedVisualization_FurnitureResettingAnimatedVisualization;break;case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:visualization=FurnitureBadgeDisplayVisualization_FurnitureBadgeDisplayVisualization;break;case RoomObjectVisualizationType.FURNITURE_BG:visualization=FurnitureRoomBackgroundVisualization_FurnitureRoomBackgroundVisualization;break;case RoomObjectVisualizationType.FURNITURE_BB:visualization=FurnitureBBVisualization_FurnitureBBVisualization;break;case RoomObjectVisualizationType.FURNITURE_ISOMETRIC_BB:visualization=FurnitureIsometricBBVisualization_FurnitureIsometricBBVisualization;break;case RoomObjectVisualizationType.FURNITURE_BOTTLE:visualization=FurnitureBottleVisualization_FurnitureBottleVisualization;break;case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:visualization=FurnitureBuilderPlaceholderVisualization_FurnitureBuilderPlaceholderVisualization;break;case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:visualization=FurnitureCounterClockVisualization_FurnitureCounterClockVisualization;break;case RoomObjectVisualizationType.FURNITURE_CUBOID:visualization=FurnitureCuboidVisualization_FurnitureCuboidVisualization;break;case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:visualization=FurnitureExternalImageVisualization_FurnitureExternalImageVisualization;break;case RoomObjectVisualizationType.FURNITURE_FIREWORKS:visualization=FurnitureFireworksVisualization_FurnitureFireworksVisualization;break;case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:visualization=FurnitureGiftWrappedFireworksVisualization_FurnitureGiftWrappedFireworksVisualization;break;case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:visualization=FurnitureGiftWrappedVisualization_FurnitureGiftWrappedVisualization;break;case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:visualization=FurnitureGuildCustomizedVisualization_FurnitureGuildCustomizedVisualization;break;case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:visualization=FurnitureGuildIsometricBadgeVisualization_FurnitureGuildIsometricBadgeVisualization;break;case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:visualization=FurnitureHabboWheelVisualization_FurnitureHabboWheelVisualization;break;case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:visualization=FurnitureMannequinVisualization_FurnitureMannequinVisualization;break;case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:visualization=FurniturePartyBeamerVisualization_FurniturePartyBeamerVisualization;break;case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:visualization=FurniturePlanetSystemVisualization_FurniturePlanetSystemVisualization;break;case RoomObjectVisualizationType.FURNITURE_POSTER:visualization=FurniturePosterVisualization_FurniturePosterVisualization;break;case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:visualization=FurnitureQueueTileVisualization_FurnitureQueueTileVisualization;break;case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:visualization=FurnitureScoreBoardVisualization_FurnitureScoreBoardVisualization;break;case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:visualization=FurnitureSoundBlockVisualization_FurnitureSoundBlockVisualization;break;case RoomObjectVisualizationType.FURNITURE_STICKIE:visualization=FurnitureStickieVisualization_FurnitureStickieVisualization;break;case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:visualization=FurnitureValRandomizerVisualization_FurnitureValRandomizerVisualization;break;case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:visualization=FurnitureVoteCounterVisualization_FurnitureVoteCounterVisualization;break;case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:visualization=FurnitureVoteMajorityVisualization_FurnitureVoteMajorityVisualization;break;case RoomObjectVisualizationType.FURNITURE_WATER_AREA:visualization=FurnitureWaterAreaVisualization_FurnitureWaterAreaVisualization;break;case RoomObjectVisualizationType.FURNITURE_YOUTUBE:visualization=FurnitureYoutubeVisualization_FurnitureYoutubeVisualization;break;}if(!visualization){NitroLogger.log(`Unknown Visualization: ${type}`);return null;}return visualization;}getVisualizationData(type,visualization,asset){const existing=this._visualizationDatas.get(type);if(existing)return existing;let visualizationData=null;switch(visualization){case RoomObjectVisualizationType.FURNITURE_STATIC:case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:case RoomObjectVisualizationType.FURNITURE_BB:case RoomObjectVisualizationType.FURNITURE_ISOMETRIC_BB:case RoomObjectVisualizationType.FURNITURE_BG:case RoomObjectVisualizationType.FURNITURE_STICKIE:case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:visualizationData=new FurnitureVisualizationData_FurnitureVisualizationData();break;case RoomObjectVisualizationType.FURNITURE_ANIMATED:case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:case RoomObjectVisualizationType.FURNITURE_POSTER:case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:case RoomObjectVisualizationType.FURNITURE_BOTTLE:case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:case RoomObjectVisualizationType.FURNITURE_WATER_AREA:case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:case RoomObjectVisualizationType.FURNITURE_FIREWORKS:case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:case RoomObjectVisualizationType.FURNITURE_YOUTUBE:case RoomObjectVisualizationType.TILE_CURSOR:visualizationData=new FurnitureAnimatedVisualizationData_FurnitureAnimatedVisualizationData();break;case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:visualizationData=new FurnitureMannequinVisualizationData_FurnitureMannequinVisualizationData();break;case RoomObjectVisualizationType.ROOM:visualizationData=new RoomVisualizationData_RoomVisualizationData();break;case RoomObjectVisualizationType.USER:case RoomObjectVisualizationType.BOT:case RoomObjectVisualizationType.RENTABLE_BOT:visualizationData=new AvatarVisualizationData_AvatarVisualizationData();break;case RoomObjectVisualizationType.PET_ANIMATED:visualizationData=new PetVisualizationData_PetVisualizationData();break;}if(!visualizationData)return null;if(!visualizationData.initialize(asset)){visualizationData.dispose();return null;}if(visualizationData instanceof AvatarVisualizationData_AvatarVisualizationData||visualizationData instanceof FurnitureMannequinVisualizationData_FurnitureMannequinVisualizationData){visualizationData.avatarManager=Nitro_Nitro.instance.avatar;}if(RoomObjectVisualizationFactory_RoomObjectVisualizationFactory.CACHING_ENABLED)this._visualizationDatas.set(type,visualizationData);return visualizationData;}}RoomObjectVisualizationFactory_RoomObjectVisualizationFactory.CACHING_ENABLED=true;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/RoomVariableEnum.ts\nclass RoomVariableEnum{}RoomVariableEnum.ROOM_MIN_X='room_min_x';RoomVariableEnum.ROOM_MAX_X='room_max_x';RoomVariableEnum.ROOM_MIN_Y='room_min_y';RoomVariableEnum.ROOM_MAX_Y='room_max_y';RoomVariableEnum.ROOM_IS_PUBLIC='room_is_public';RoomVariableEnum.ROOM_Z_SCALE='room_z_scale';RoomVariableEnum.AD_DISPLAY_DELAY='ad_display_delay';RoomVariableEnum.IS_PLAYING_GAME='is_playing_game';RoomVariableEnum.RESTRICTS_DRAGGING='restricts_dragging';RoomVariableEnum.RESTRICTS_SCALING='restricts_scaling';RoomVariableEnum.RESTRICTED_SCALE='room_scale';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/FurnitureStackingHeightMap.ts\nclass FurnitureStackingHeightMap{constructor(width,height){this._width=void 0;this._height=void 0;this._heights=void 0;this._isNotStackable=void 0;this._isRoomTile=void 0;this._width=width;this._height=height;this._heights=[];this._isNotStackable=[];this._isRoomTile=[];let total=width*height;while(total>0){this._heights.push(0);this._isNotStackable.push(false);this._isRoomTile.push(false);total--;}}dispose(){this._width=0;this._height=0;this._height=null;this._isNotStackable=null;this._isRoomTile=null;}validPosition(x,y){return x>=0&&x<this._width&&y>=0&&y<this._height;}getTileHeight(x,y){return this.validPosition(x,y)?this._heights[y*this._width+x]:0;}setTileHeight(x,y,height){if(this.validPosition(x,y))this._heights[y*this._width+x]=height;}setStackingBlocked(x,y,isNotStackable){if(this.validPosition(x,y))this._isNotStackable[y*this._width+x]=isNotStackable;}setIsRoomTile(x,y,isRoomTile){if(this.validPosition(x,y))this._isRoomTile[y*this._width+x]=isRoomTile;}validateLocation(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7,_arg_8,_arg_9){let _arg_10=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;let _local_12=0;let _local_13=0;if(!this.validPosition(k,_arg_2)||!this.validPosition(k+_arg_3-1,_arg_2+_arg_4-1))return false;if(_arg_5<0||_arg_5>=this._width)_arg_5=0;if(_arg_6<0||_arg_6>=this._height)_arg_6=0;_arg_7=Math.min(_arg_7,this._width-_arg_5);_arg_8=Math.min(_arg_8,this._height-_arg_6);if(_arg_10===-1)_arg_10=this.getTileHeight(k,_arg_2);let _local_11=_arg_2;while(_local_11<_arg_2+_arg_4){_local_12=k;while(_local_12<k+_arg_3){if(_local_12<_arg_5||_local_12>=_arg_5+_arg_7||_local_11<_arg_6||_local_11>=_arg_6+_arg_8){_local_13=_local_11*this._width+_local_12;if(_arg_9){if(!this._isRoomTile[_local_13])return false;}else{if(this._isNotStackable[_local_13]||!this._isRoomTile[_local_13]||Math.abs(this._heights[_local_13]-_arg_10)>0.01)return false;}}_local_12++;}_local_11++;}return true;}get width(){return this._width;}get height(){return this._height;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/LegacyWallGeometry.ts\nclass LegacyWallGeometry_LegacyWallGeometry{constructor(){this._isDisposed=void 0;this._scale=void 0;this._heightMap=void 0;this._width=void 0;this._height=void 0;this._floorHeight=void 0;this._isDisposed=false;this._scale=64;this._heightMap=[];this._width=0;this._height=0;this._floorHeight=0;}get disposed(){return this._isDisposed;}get scale(){return this._scale;}set scale(k){this._scale=k;}dispose(){this.reset();this._isDisposed=true;}initialize(width,height,floorHeight){if(width<=this._width&&height<=this._height){this._width=width;this._height=height;this._floorHeight=floorHeight;return;}this.reset();let y=0;while(y<height){const heights=[];this._heightMap.push(heights);let x=0;while(x<width){heights.push(0);x++;}y++;}this._width=width;this._height=height;this._floorHeight=floorHeight;}reset(){this._heightMap=[];}setHeight(x,y,height){if(x<0||x>=this._width||y<0||y>=this._height)return false;const heightMap=this._heightMap[y];if(!heightMap)return false;heightMap[x]=height;return true;}getHeight(x,y){if(x<0||x>=this._width||y<0||y>=this._height)return 0;const heightMap=this._heightMap[y];if(!heightMap)return 0;return heightMap[x];}getLocation(k,_arg_2,_arg_3,_arg_4,_arg_5){let _local_12;let _local_6;let _local_7;if(k==0&&_arg_2==0){k=this._width;_arg_2=this._height;_local_12=Math.round(this.scale/10);if(_arg_5==LegacyWallGeometry_LegacyWallGeometry.R){_local_7=this._width-1;while(_local_7>=0){_local_6=1;while(_local_6<this._height){if(this.getHeight(_local_7,_local_6)<=this._floorHeight){if(_local_6-1<_arg_2){k=_local_7;_arg_2=_local_6-1;}break;}_local_6++;}_local_7--;}_arg_4=_arg_4+(this.scale/4-_local_12/2);_arg_3=_arg_3+this.scale/2;}else{_local_6=this._height-1;while(_local_6>=0){_local_7=1;while(_local_7<this._width){if(this.getHeight(_local_7,_local_6)<=this._floorHeight){if(_local_7-1<k){k=_local_7-1;_arg_2=_local_6;}break;}_local_7++;}_local_6--;}_arg_4=_arg_4+(this.scale/4-_local_12/2);_arg_3=_arg_3-_local_12;}}let _local_8=k;let _local_9=_arg_2;let _local_10=this.getHeight(k,_arg_2);if(_arg_5==LegacyWallGeometry_LegacyWallGeometry.R){_local_8=_local_8+(_arg_3/(this._scale/2)-0.5);_local_9=_local_9+0.5;_local_10=_local_10-(_arg_4-_arg_3/2)/(this._scale/2);}else{_local_9=_local_9+((this._scale/2-_arg_3)/(this._scale/2)-0.5);_local_8=_local_8+0.5;_local_10=_local_10-(_arg_4-(this._scale/2-_arg_3)/2)/(this._scale/2);}const _local_11=new Vector3d(_local_8,_local_9,_local_10);return _local_11;}getLocationOldFormat(k,_arg_2,_arg_3){let _local_4;let _local_5;let _local_6=0;let _local_7=0;_local_5=Math.ceil(k);_local_6=_local_5-k;let _local_8;let _local_9;let _local_11;let _local_12=0;_local_4=0;while(_local_4<this._width){if(_local_5>=0&&_local_5<this._height){if(this.getHeight(_local_4,_local_5)<=this._floorHeight){_local_8=_local_4-1;_local_9=_local_5;_local_7=_local_4;_arg_3=LegacyWallGeometry_LegacyWallGeometry.L;break;}if(this.getHeight(_local_4,_local_5+1)<=this._floorHeight){_local_8=_local_4;_local_9=_local_5;_local_7=_local_9-k;_arg_3=LegacyWallGeometry_LegacyWallGeometry.R;break;}}_local_5++;_local_4++;}const _local_10=this.scale/2*_local_6;let _local_13=-_local_7*this.scale/2;_local_13=_local_13+-_arg_2*18/32*this.scale/2;_local_12=this.getHeight(_local_8,_local_9);_local_11=_local_12*this.scale/2+_local_13;if(_arg_3==LegacyWallGeometry_LegacyWallGeometry.R){_local_11=_local_11+_local_6*this.scale/4;}else{_local_11=_local_11+(1-_local_6)*this.scale/4;}return this.getLocation(_local_8,_local_9,_local_10,_local_11,_arg_3);}getOldLocation(k,_arg_2){if(k==null){return null;}let _local_3=0;let _local_4=0;let _local_5=0;let _local_6=0;let _local_7='';let _local_8=0;if(_arg_2==90){_local_3=Math.floor(k.x-0.5);_local_4=Math.floor(k.y+0.5);_local_8=this.getHeight(_local_3,_local_4);_local_5=this._scale/2-(k.y-_local_4+0.5)*(this._scale/2);_local_6=(_local_8-k.z)*(this._scale/2)+(this._scale/2-_local_5)/2;_local_7=LegacyWallGeometry_LegacyWallGeometry.L;}else{if(_arg_2==180){_local_3=Math.floor(k.x+0.5);_local_4=Math.floor(k.y-0.5);_local_8=this.getHeight(_local_3,_local_4);_local_5=(k.x+0.5-_local_3)*(this._scale/2);_local_6=(_local_8-k.z)*(this._scale/2)+_local_5/2;_local_7=LegacyWallGeometry_LegacyWallGeometry.R;}else{return null;}}return[_local_3,_local_4,_local_5,_local_6,_local_7];}getOldLocationString(k,_arg_2){const _local_3=this.getOldLocation(k,_arg_2);if(_local_3==null){return null;}const _local_4=Math.trunc(_local_3[0]);const _local_5=Math.trunc(_local_3[1]);const _local_6=Math.trunc(_local_3[2]);const _local_7=Math.trunc(_local_3[3]);const _local_8=_local_3[4];const _local_9=':w='+_local_4+','+_local_5+' l='+_local_6+','+_local_7+' '+_local_8;return _local_9;}getDirection(k){if(k==LegacyWallGeometry_LegacyWallGeometry.R){return 180;}return 90;}getFloorAltitude(k,_arg_2){const _local_3=this.getHeight(k,_arg_2);const _local_4=_local_3+1;return _local_3+(Math.trunc(this.getHeight(k-1,_arg_2-1))==_local_4||Math.trunc(this.getHeight(k,_arg_2-1))==_local_4||Math.trunc(this.getHeight(k+1,_arg_2-1))==_local_4||Math.trunc(this.getHeight(k-1,_arg_2))==_local_4||Math.trunc(this.getHeight(k+1,_arg_2))==_local_4||Math.trunc(this.getHeight(k-1,_arg_2+1))==_local_4||Math.trunc(this.getHeight(k,_arg_2+1))==_local_4||Math.trunc(this.getHeight(k+1,_arg_2+1))==_local_4?0.5:0);}isRoomTile(k,_arg_2){return k>=0&&k<this._width&&_arg_2>=0&&_arg_2<this._height&&this._heightMap[_arg_2][k]>=0;}}LegacyWallGeometry_LegacyWallGeometry.DEFAULT_SCALE=32;LegacyWallGeometry_LegacyWallGeometry.L='l';LegacyWallGeometry_LegacyWallGeometry.R='r';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/RoomMessageHandler.ts\nclass RoomMessageHandler_RoomMessageHandler extends Disposable{constructor(roomCreator){super();this._connection=void 0;this._roomCreator=void 0;this._planeParser=void 0;this._latestEntryTileEvent=void 0;this._currentRoomId=void 0;this._ownUserId=void 0;this._initialConnection=void 0;this._guideId=void 0;this._requesterId=void 0;this._connection=null;this._roomCreator=roomCreator;this._planeParser=new RoomPlaneParser_RoomPlaneParser();this._latestEntryTileEvent=null;this._currentRoomId=0;this._ownUserId=0;this._initialConnection=true;this._guideId=-1;this._requesterId=-1;}onDispose(){super.onDispose();this._connection=null;this._roomCreator=null;this._latestEntryTileEvent=null;if(this._planeParser){this._planeParser.dispose();this._planeParser=null;}}setConnection(connection){if(this._connection||!connection)return;this._connection=connection;this._connection.addMessageEvent(new UserInfoEvent_UserInfoEvent(this.onUserInfoEvent.bind(this)));this._connection.addMessageEvent(new RoomReadyMessageEvent_RoomReadyMessageEvent(this.onRoomReadyMessageEvent.bind(this)));this._connection.addMessageEvent(new RoomPaintEvent_RoomPaintEvent(this.onRoomPaintEvent.bind(this)));this._connection.addMessageEvent(new FloorHeightMapEvent_FloorHeightMapEvent(this.onRoomModelEvent.bind(this)));this._connection.addMessageEvent(new RoomHeightMapEvent_RoomHeightMapEvent(this.onRoomHeightMapEvent.bind(this)));this._connection.addMessageEvent(new RoomHeightMapUpdateEvent_RoomHeightMapUpdateEvent(this.onRoomHeightMapUpdateEvent.bind(this)));this._connection.addMessageEvent(new RoomVisualizationSettingsEvent_RoomVisualizationSettingsEvent(this.onRoomThicknessEvent.bind(this)));this._connection.addMessageEvent(new RoomEntryTileMessageEvent_RoomEntryTileMessageEvent(this.onRoomDoorEvent.bind(this)));this._connection.addMessageEvent(new ObjectsRollingEvent_ObjectsRollingEvent(this.onRoomRollingEvent.bind(this)));this._connection.addMessageEvent(new ObjectsDataUpdateEvent_ObjectsDataUpdateEvent(this.onObjectsDataUpdateEvent.bind(this)));this._connection.addMessageEvent(new FurnitureAliasesEvent_FurnitureAliasesEvent(this.onFurnitureAliasesEvent.bind(this)));this._connection.addMessageEvent(new FurnitureFloorAddEvent_FurnitureFloorAddEvent(this.onFurnitureFloorAddEvent.bind(this)));this._connection.addMessageEvent(new FurnitureFloorEvent_FurnitureFloorEvent(this.onFurnitureFloorEvent.bind(this)));this._connection.addMessageEvent(new FurnitureFloorRemoveEvent_FurnitureFloorRemoveEvent(this.onFurnitureFloorRemoveEvent.bind(this)));this._connection.addMessageEvent(new FurnitureFloorUpdateEvent_FurnitureFloorUpdateEvent(this.onFurnitureFloorUpdateEvent.bind(this)));this._connection.addMessageEvent(new FurnitureWallAddEvent_FurnitureWallAddEvent(this.onFurnitureWallAddEvent.bind(this)));this._connection.addMessageEvent(new FurnitureWallEvent_FurnitureWallEvent(this.onFurnitureWallEvent.bind(this)));this._connection.addMessageEvent(new FurnitureWallRemoveEvent_FurnitureWallRemoveEvent(this.onFurnitureWallRemoveEvent.bind(this)));this._connection.addMessageEvent(new FurnitureWallUpdateEvent_FurnitureWallUpdateEvent(this.onFurnitureWallUpdateEvent.bind(this)));this._connection.addMessageEvent(new FurnitureDataEvent_FurnitureDataEvent(this.onFurnitureDataEvent.bind(this)));this._connection.addMessageEvent(new ItemDataUpdateMessageEvent_ItemDataUpdateMessageEvent(this.onItemDataUpdateMessageEvent.bind(this)));this._connection.addMessageEvent(new OneWayDoorStatusMessageEvent_OneWayDoorStatusMessageEvent(this.onOneWayDoorStatusMessageEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitDanceEvent_RoomUnitDanceEvent(this.onRoomUnitDanceEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitEffectEvent_RoomUnitEffectEvent(this.onRoomUnitEffectEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitEvent_RoomUnitEvent(this.onRoomUnitEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitExpressionEvent_RoomUnitExpressionEvent(this.onRoomUnitExpressionEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitHandItemEvent_RoomUnitHandItemEvent(this.onRoomUnitHandItemEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitIdleEvent_RoomUnitIdleEvent(this.onRoomUnitIdleEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitInfoEvent_RoomUnitInfoEvent(this.onRoomUnitInfoEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitNumberEvent_RoomUnitNumberEvent(this.onRoomUnitNumberEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitRemoveEvent_RoomUnitRemoveEvent(this.onRoomUnitRemoveEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitStatusEvent_RoomUnitStatusEvent(this.onRoomUnitStatusEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitChatEvent_RoomUnitChatEvent(this.onRoomUnitChatEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitChatShoutEvent_RoomUnitChatShoutEvent(this.onRoomUnitChatEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitChatWhisperEvent_RoomUnitChatWhisperEvent(this.onRoomUnitChatEvent.bind(this)));this._connection.addMessageEvent(new RoomUnitTypingEvent_RoomUnitTypingEvent(this.onRoomUnitTypingEvent.bind(this)));this._connection.addMessageEvent(new PetFigureUpdateEvent_PetFigureUpdateEvent(this.onPetFigureUpdateEvent.bind(this)));this._connection.addMessageEvent(new PetExperienceEvent_PetExperienceEvent(this.onPetExperienceEvent.bind(this)));this._connection.addMessageEvent(new YouArePlayingGameEvent_YouArePlayingGameEvent(this.onYouArePlayingGameEvent.bind(this)));this._connection.addMessageEvent(new DiceValueMessageEvent_DiceValueMessageEvent(this.onDiceValueMessageEvent.bind(this)));this._connection.addMessageEvent(new IgnoreResultEvent_IgnoreResultEvent(this.onIgnoreResultEvent.bind(this)));this._connection.addMessageEvent(new GuideSessionStartedMessageEvent_GuideSessionStartedMessageEvent(this.onGuideSessionStartedMessageEvent.bind(this)));this._connection.addMessageEvent(new GuideSessionEndedMessageEvent_GuideSessionEndedMessageEvent(this.onGuideSessionEndedMessageEvent.bind(this)));this._connection.addMessageEvent(new GuideSessionErrorMessageEvent_GuideSessionErrorMessageEvent(this.onGuideSessionErrorMessageEvent.bind(this)));}setRoomId(id){if(this._currentRoomId!==0){if(this._roomCreator)this._roomCreator.destroyRoom(this._currentRoomId);}this._currentRoomId=id;this._latestEntryTileEvent=null;}clearRoomId(){this._currentRoomId=0;this._latestEntryTileEvent=null;}onUserInfoEvent(event){if(!(event instanceof UserInfoEvent_UserInfoEvent)||!event.connection)return;const parser=event.getParser();if(!parser)return;this._ownUserId=parser.userInfo.userId;}onRoomReadyMessageEvent(event){const parser=event.getParser();if(this._currentRoomId!==parser.roomId){this.setRoomId(parser.roomId);}if(this._roomCreator){this._roomCreator.setRoomInstanceModelName(parser.roomId,parser.name);}if(this._initialConnection){event.connection.send(new FurnitureAliasesComposer());this._initialConnection=false;return;}event.connection.send(new GetRoomEntryDataMessageComposer());}onRoomPaintEvent(event){if(!(event instanceof RoomPaintEvent_RoomPaintEvent))return;const parser=event.getParser();if(!parser)return;const floorType=parser.floorType;const wallType=parser.wallType;const landscapeType=parser.landscapeType;if(this._roomCreator){this._roomCreator.updateRoomInstancePlaneType(this._currentRoomId,floorType,wallType,landscapeType);}}onRoomModelEvent(event){if(!(event instanceof FloorHeightMapEvent_FloorHeightMapEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;const wallGeometry=this._roomCreator.getLegacyWallGeometry(this._currentRoomId);if(!wallGeometry)return;this._planeParser.reset();const width=parser.width;const height=parser.height;this._planeParser.initializeTileMap(width,height);let entryTile=null;if(this._latestEntryTileEvent)entryTile=this._latestEntryTileEvent.getParser();let doorX=-1;let doorY=-1;let doorZ=0;let doorDirection=0;let y=0;while(y<height){let x=0;while(x<width){const tileHeight=parser.getHeight(x,y);if((y>0&&y<height-1||x>0&&x<width-1)&&!(tileHeight==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED)&&(entryTile==null||x==entryTile.x&&y==entryTile.y)){if(parser.getHeight(x,y-1)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x-1,y)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x,y+1)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED){doorX=x+0.5;doorY=y;doorZ=tileHeight;doorDirection=90;}if(parser.getHeight(x,y-1)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x-1,y)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x+1,y)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED){doorX=x;doorY=y+0.5;doorZ=tileHeight;doorDirection=180;}}this._planeParser.setTileHeight(x,y,tileHeight);x++;}y++;}this._planeParser.setTileHeight(Math.floor(doorX),Math.floor(doorY),doorZ);this._planeParser.initializeFromTileData(parser.wallHeight);this._planeParser.setTileHeight(Math.floor(doorX),Math.floor(doorY),doorZ+this._planeParser.wallHeight);if(parser.scale===64){this._planeParser.restrictsDragging=true;this._planeParser.restrictsScaling=true;this._planeParser.restrictedScale=0.5;}else{this._planeParser.restrictsDragging=false;this._planeParser.restrictsScaling=false;this._planeParser.restrictedScale=1;}wallGeometry.scale=LegacyWallGeometry_LegacyWallGeometry.DEFAULT_SCALE;wallGeometry.initialize(width,height,this._planeParser.floorHeight);let heightIterator=parser.height-1;while(heightIterator>=0){let widthIterator=parser.width-1;while(widthIterator>=0){wallGeometry.setHeight(widthIterator,heightIterator,this._planeParser.getTileHeight(widthIterator,heightIterator));widthIterator--;}heightIterator--;}const roomMap=this._planeParser.getMapData();roomMap.doors.push({x:doorX,y:doorY,z:doorZ,dir:doorDirection});this._roomCreator.createRoomInstance(this._currentRoomId,roomMap);}onRoomHeightMapEvent(event){if(!(event instanceof RoomHeightMapEvent_RoomHeightMapEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;const width=parser.width;const height=parser.height;const heightMap=new FurnitureStackingHeightMap(width,height);let y=0;while(y<height){let x=0;while(x<width){heightMap.setTileHeight(x,y,parser.getTileHeight(x,y));heightMap.setStackingBlocked(x,y,parser.getStackingBlocked(x,y));heightMap.setIsRoomTile(x,y,parser.isRoomTile(x,y));x++;}y++;}this._roomCreator.setFurnitureStackingHeightMap(this._currentRoomId,heightMap);}onRoomHeightMapUpdateEvent(event){if(!(event instanceof RoomHeightMapUpdateEvent_RoomHeightMapUpdateEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;const heightMap=this._roomCreator.getFurnitureStackingHeightMap(this._currentRoomId);if(!heightMap)return;while(parser.next()){heightMap.setTileHeight(parser.x,parser.y,parser.tileHeight());heightMap.setStackingBlocked(parser.x,parser.y,parser.isStackingBlocked());heightMap.setIsRoomTile(parser.x,parser.y,parser.isRoomTile());}this._roomCreator.refreshTileObjectMap(this._currentRoomId,'RoomMessageHandler.onRoomHeightMapUpdateEvent()');}onRoomThicknessEvent(event){if(!(event instanceof RoomVisualizationSettingsEvent_RoomVisualizationSettingsEvent))return;const parser=event.getParser();if(!parser)return;const visibleWall=!parser.hideWalls;const visibleFloor=true;const thicknessWall=parser.thicknessWall;const thicknessFloor=parser.thicknessFloor;if(this._roomCreator){this._roomCreator.updateRoomInstancePlaneVisibility(this._currentRoomId,visibleWall,visibleFloor);this._roomCreator.updateRoomInstancePlaneThickness(this._currentRoomId,thicknessWall,thicknessFloor);}}onRoomDoorEvent(event){if(!(event instanceof RoomEntryTileMessageEvent_RoomEntryTileMessageEvent))return;this._latestEntryTileEvent=event;}onRoomRollingEvent(event){if(!(event instanceof ObjectsRollingEvent_ObjectsRollingEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,parser.rollerId,null,null,1,null);this._roomCreator.updateRoomObjectFloor(this._currentRoomId,parser.rollerId,null,null,2,null);const furnitureRolling=parser.itemsRolling;if(furnitureRolling&&furnitureRolling.length){for(const rollData of furnitureRolling){if(!rollData)continue;this._roomCreator.rollRoomObjectFloor(this._currentRoomId,rollData.id,rollData.location,rollData.targetLocation);}}const unitRollData=parser.unitRolling;if(unitRollData){this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId,unitRollData.id,unitRollData.location,unitRollData.targetLocation);const object=this._roomCreator.getRoomObjectUser(this._currentRoomId,unitRollData.id);if(object&&object.type!==RoomObjectUserType.MONSTER_PLANT){let posture='std';switch(unitRollData.movementType){case ObjectRolling.MOVE:posture='mv';break;case ObjectRolling.SLIDE:posture='std';break;}this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,unitRollData.id,posture);}}}onObjectsDataUpdateEvent(event){if(!(event instanceof ObjectsDataUpdateEvent_ObjectsDataUpdateEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;for(const object of parser.objects){this._roomCreator.updateRoomObjectFloor(this._currentRoomId,object.id,null,null,object.state,object.data);}}onFurnitureAliasesEvent(event){if(!(event instanceof FurnitureAliasesEvent_FurnitureAliasesEvent)||!event.connection||!this._roomCreator)return;const alises=event.getParser().aliases;this._connection.send(new GetRoomEntryDataMessageComposer());}onFurnitureFloorAddEvent(event){if(!(event instanceof FurnitureFloorAddEvent_FurnitureFloorAddEvent)||!event.connection||!this._roomCreator)return;const item=event.getParser().item;if(!item)return;this.addRoomObjectFurnitureFloor(this._currentRoomId,item);}onFurnitureFloorEvent(event){if(!(event instanceof FurnitureFloorEvent_FurnitureFloorEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;const totalObjects=parser.items.length;let iterator=0;while(iterator<totalObjects){const object=parser.items[iterator];if(object)this.addRoomObjectFurnitureFloor(this._currentRoomId,object);iterator++;}}onFurnitureFloorRemoveEvent(event){if(!(event instanceof FurnitureFloorRemoveEvent_FurnitureFloorRemoveEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;if(parser.delay>0){setTimeout(()=>{this._roomCreator.removeRoomObjectFloor(this._currentRoomId,parser.itemId,parser.isExpired?-1:parser.userId,true);},parser.delay);}else{this._roomCreator.removeRoomObjectFloor(this._currentRoomId,parser.itemId,parser.isExpired?-1:parser.userId,true);}}onFurnitureFloorUpdateEvent(event){if(!(event instanceof FurnitureFloorUpdateEvent_FurnitureFloorUpdateEvent)||!event.connection||!this._roomCreator)return;const item=event.getParser().item;if(!item)return;const location=new Vector3d(item.x,item.y,item.z);const direction=new Vector3d(item.direction);this._roomCreator.updateRoomObjectFloor(this._currentRoomId,item.itemId,location,direction,item.data.state,item.data,item.extra);this._roomCreator.updateRoomObjectFloorHeight(this._currentRoomId,item.itemId,item.stackHeight);this._roomCreator.updateRoomObjectFloorExpiration(this._currentRoomId,item.itemId,item.expires);}onFurnitureWallAddEvent(event){if(!(event instanceof FurnitureWallAddEvent_FurnitureWallAddEvent)||!event.connection||!this._roomCreator)return;const data=event.getParser().item;if(!data)return;this.addRoomObjectFurnitureWall(this._currentRoomId,data);}onFurnitureWallEvent(event){if(!(event instanceof FurnitureWallEvent_FurnitureWallEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;const totalObjects=parser.items.length;let iterator=0;while(iterator<totalObjects){const data=parser.items[iterator];if(data)this.addRoomObjectFurnitureWall(this._currentRoomId,data);iterator++;}}onFurnitureWallRemoveEvent(event){if(!(event instanceof FurnitureWallRemoveEvent_FurnitureWallRemoveEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;this._roomCreator.removeRoomObjectWall(this._currentRoomId,parser.itemId,parser.userId);}onFurnitureWallUpdateEvent(event){if(!(event instanceof FurnitureWallUpdateEvent_FurnitureWallUpdateEvent)||!event.connection||!this._roomCreator)return;const wallGeometry=this._roomCreator.getLegacyWallGeometry(this._currentRoomId);if(!wallGeometry)return;const item=event.getParser().item;if(!item)return;const location=wallGeometry.getLocation(item.width,item.height,item.localX,item.localY,item.direction);const direction=new Vector3d(wallGeometry.getDirection(item.direction));this._roomCreator.updateRoomObjectWall(this._currentRoomId,item.itemId,location,direction,item.state,item.stuffData);this._roomCreator.updateRoomObjectWallExpiration(this._currentRoomId,item.itemId,item.secondsToExpiration);}onFurnitureDataEvent(event){if(!(event instanceof FurnitureDataEvent_FurnitureDataEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,parser.furnitureId,null,null,parser.objectData.state,parser.objectData);}onItemDataUpdateMessageEvent(event){if(!(event instanceof ItemDataUpdateMessageEvent_ItemDataUpdateMessageEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();this._roomCreator.updateRoomObjectWallItemData(this._currentRoomId,parser.furnitureId,parser.data);}onOneWayDoorStatusMessageEvent(event){if(!(event instanceof OneWayDoorStatusMessageEvent_OneWayDoorStatusMessageEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,parser.itemId,null,null,parser.state,new LegacyDataType_LegacyDataType());}onDiceValueMessageEvent(event){if(!(event instanceof DiceValueMessageEvent_DiceValueMessageEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,parser.itemId,null,null,parser.value,new LegacyDataType_LegacyDataType());}onRoomUnitDanceEvent(event){if(!(event instanceof RoomUnitDanceEvent_RoomUnitDanceEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,event.getParser().unitId,RoomObjectVariable.FIGURE_DANCE,event.getParser().danceId);}onRoomUnitEffectEvent(event){if(!(event instanceof RoomUnitEffectEvent_RoomUnitEffectEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.updateRoomObjectUserEffect(this._currentRoomId,event.getParser().unitId,event.getParser().effectId,event.getParser().delay);}onRoomUnitEvent(event){if(!(event instanceof RoomUnitEvent_RoomUnitEvent)||!event.connection||!this._roomCreator)return;const users=event.getParser().users;if(!users||!users.length)return;for(const user of users){if(!user)continue;const location=new Vector3d(user.x,user.y,user.z);const direction=new Vector3d(user.dir);this._roomCreator.addRoomObjectUser(this._currentRoomId,user.roomIndex,location,direction,user.dir,user.userType,user.figure);if(user.webID===this._ownUserId){this._roomCreator.setRoomSessionOwnUser(this._currentRoomId,user.roomIndex);this._roomCreator.updateRoomObjectUserOwn(this._currentRoomId,user.roomIndex);}this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,user.roomIndex,user.figure,user.sex,user.subType,user.isRiding);if(RoomObjectUserType.getTypeString(user.userType)===RoomObjectUserType.PET){if(this._roomCreator.getPetTypeId(user.figure)===PetType.MONSTERPLANT){this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,user.roomIndex,user.petPosture);}}this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,user.roomIndex,RoomObjectVariable.FIGURE_IS_MUTED,this._roomCreator.sessionDataManager.isUserIgnored(user.name)?1:0);}this.updateGuideMarker();}onRoomUnitExpressionEvent(event){if(!(event instanceof RoomUnitExpressionEvent_RoomUnitExpressionEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,event.getParser().unitId,RoomObjectVariable.FIGURE_EXPRESSION,event.getParser().expression);}onRoomUnitHandItemEvent(event){if(!(event instanceof RoomUnitHandItemEvent_RoomUnitHandItemEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,event.getParser().unitId,RoomObjectVariable.FIGURE_CARRY_OBJECT,event.getParser().handId);}onRoomUnitIdleEvent(event){if(!(event instanceof RoomUnitIdleEvent_RoomUnitIdleEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,event.getParser().unitId,RoomObjectVariable.FIGURE_SLEEP,event.getParser().isIdle?1:0);}onRoomUnitInfoEvent(event){if(!(event instanceof RoomUnitInfoEvent_RoomUnitInfoEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,event.getParser().unitId,event.getParser().figure,event.getParser().gender);}onRoomUnitNumberEvent(event){if(!(event instanceof RoomUnitNumberEvent_RoomUnitNumberEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,parser.unitId,RoomObjectVariable.FIGURE_NUMBER_VALUE,parser.value);}onRoomUnitRemoveEvent(event){if(!(event instanceof RoomUnitRemoveEvent_RoomUnitRemoveEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.removeRoomObjectUser(this._currentRoomId,event.getParser().unitId);this.updateGuideMarker();}onRoomUnitStatusEvent(event){if(!(event instanceof RoomUnitStatusEvent_RoomUnitStatusEvent)||!event.connection||!this._roomCreator)return;const statuses=event.getParser().statuses;if(!statuses||!statuses.length)return;const roomInstance=this._roomCreator.getRoomInstance(this._currentRoomId);if(!roomInstance)return;const zScale=roomInstance.model.getValue(RoomVariableEnum.ROOM_Z_SCALE)||1;for(const status of statuses){if(!status)continue;let height=status.height;if(height)height=height/zScale;const location=new Vector3d(status.x,status.y,status.z+height);const direction=new Vector3d(status.direction);let goal=null;if(status.didMove)goal=new Vector3d(status.targetX,status.targetY,status.targetZ);this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId,status.id,location,goal,status.canStandUp,height,direction,status.headDirection);this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId,status.id,null);let isPosture=true;let postureUpdate=false;let postureType=RoomObjectVariable.STD;let parameter='';if(status.actions&&status.actions.length){for(const action of status.actions){if(!action)continue;switch(action.action){case'flatctrl':this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId,status.id,action.value);break;case'sign':if(status.actions.length===1)isPosture=false;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,status.id,RoomObjectVariable.FIGURE_SIGN,parseInt(action.value));break;case'gst':if(status.actions.length===1)isPosture=false;this._roomCreator.updateRoomObjectUserPetGesture(this._currentRoomId,status.id,action.value);break;case'wav':case'mv':postureUpdate=true;postureType=action.action;parameter=action.value;break;case'trd':break;default:postureUpdate=true;postureType=action.action;parameter=action.value;break;}}}if(postureUpdate)this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,status.id,postureType,parameter);else if(isPosture)this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,status.id,RoomObjectVariable.STD,'');}this.updateGuideMarker();}onRoomUnitChatEvent(event){if(!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;this._roomCreator.updateRoomObjectUserGesture(this._currentRoomId,parser.roomIndex,parser.gesture);this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,parser.roomIndex,RoomObjectVariable.FIGURE_TALK,parser.message.length/10);}onRoomUnitTypingEvent(event){if(!(event instanceof RoomUnitTypingEvent_RoomUnitTypingEvent)||!event.connection||!this._roomCreator)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,event.getParser().unitId,RoomObjectVariable.FIGURE_IS_TYPING,event.getParser().isTyping?1:0);}onPetFigureUpdateEvent(event){if(!(event instanceof PetFigureUpdateEvent_PetFigureUpdateEvent)||!event.connection||!this._roomCreator)return;const parser=event.getParser();if(!parser)return;this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,parser.roomIndex,parser.figureData.figuredata,'','',parser.isRiding);}onPetExperienceEvent(event){const parser=event.getParser();if(!parser)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,parser.roomIndex,RoomObjectVariable.FIGURE_GAINED_EXPERIENCE,parser.gainedExperience);}onYouArePlayingGameEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;this._roomCreator.setRoomEngineGameMode(this._currentRoomId,parser.isPlaying);}addRoomObjectFurnitureFloor(roomId,data){if(!data||!this._roomCreator)return;const location=new Vector3d(data.x,data.y,data.z);const direction=new Vector3d(data.direction);if(data.spriteName){this._roomCreator.addFurnitureFloorByTypeName(roomId,data.itemId,data.spriteName,location,direction,data.state,data.data,data.extra,data.expires,data.usagePolicy,data.userId,data.username,true,true,data.stackHeight);}else{this._roomCreator.addFurnitureFloor(roomId,data.itemId,data.spriteId,location,direction,data.state,data.data,data.extra,data.expires,data.usagePolicy,data.userId,data.username,true,true,data.stackHeight);}}addRoomObjectFurnitureWall(roomId,data){if(!data||!this._roomCreator)return;const wallGeometry=this._roomCreator.getLegacyWallGeometry(roomId);if(!wallGeometry)return;let location=null;if(!data.isOldFormat){location=wallGeometry.getLocation(data.width,data.height,data.localX,data.localY,data.direction);}else{//location = wallGeometry.getLocationOldFormat(data.y, data.z, data.direction);\n}const direction=new Vector3d(wallGeometry.getDirection(data.direction));this._roomCreator.addFurnitureWall(roomId,data.itemId,data.spriteId,location,direction,data.state,data.stuffData,data.secondsToExpiration,data.usagePolicy,data.userId,data.username);}onIgnoreResultEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;const roomSession=this._roomCreator.roomSessionManager.getSession(this._currentRoomId);if(!roomSession)return;const userData=roomSession.userDataManager.getUserDataByName(parser.name);if(!userData)return;switch(parser.result){case 1:case 2:this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,userData.roomIndex,RoomObjectVariable.FIGURE_IS_MUTED,1);return;case 3:this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,userData.roomIndex,RoomObjectVariable.FIGURE_IS_MUTED,0);return;}}onGuideSessionStartedMessageEvent(event){const parser=event.getParser();this._guideId=parser.guideUserId;this._requesterId=parser.requesterUserId;this.updateGuideMarker();}onGuideSessionEndedMessageEvent(k){this.removeGuideMarker();}onGuideSessionErrorMessageEvent(k){this.removeGuideMarker();}updateGuideMarker(){const userId=this._roomCreator.sessionDataManager.userId;this.setUserGuideStatus(this._guideId,this._requesterId===userId?AvatarGuideStatus.GUIDE:AvatarGuideStatus.NONE);this.setUserGuideStatus(this._requesterId,this._guideId===userId?AvatarGuideStatus.REQUESTER:AvatarGuideStatus.NONE);}removeGuideMarker(){this.setUserGuideStatus(this._guideId,AvatarGuideStatus.NONE);this.setUserGuideStatus(this._requesterId,AvatarGuideStatus.NONE);this._guideId=-1;this._requesterId=-1;}setUserGuideStatus(userId,status){if(!this._roomCreator||!this._roomCreator.roomSessionManager)return;const roomSession=this._roomCreator.roomSessionManager.getSession(this._currentRoomId);if(!roomSession)return;const userData=roomSession.userDataManager.getDataByType(userId,RoomObjectType.USER);if(!userData)return;this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,userData.roomIndex,RoomObjectVariable.FIGURE_GUIDE_STATUS,status);}// public _SafeStr_10580(event:_SafeStr_2242): void\n// {\n//     var arrayIndex: number;\n//     var discoColours:Array;\n//     var discoTimer:Timer;\n//     var eventParser:_SafeStr_4576 = (event.parser as _SafeStr_4576);\n//     switch (eventParser._SafeStr_7025)\n//     {\n//         case 0:\n//             _SafeStr_4588.init(250, 5000);\n//             _SafeStr_4588._SafeStr_6766();\n//             return;\n//         case 1:\n//             _SafeStr_4231.init(250, 5000);\n//             _SafeStr_4231._SafeStr_6766();\n//             return;\n//         case 2:\n//             this._SafeStr_10592.roomSessionManager.events.dispatchEvent(new _SafeStr_2821(this._SafeStr_10593, -1, true));\n//             return;\n//         case 3:\n//             arrayIndex = 0;\n//             discoColours = [29371, 16731195, 16764980, 0x99FF00, 29371, 16731195, 16764980, 0x99FF00, 0];\n//             discoTimer = new Timer(1000, (discoColours.length + 1));\n//             discoTimer.addEventListener(TimerEvent.TIMER, function (k:TimerEvent): void\n//             {\n//                 if (arrayIndex == discoColours.length)\n//                 {\n//                     _SafeStr_10592._SafeStr_21164(_SafeStr_10593, discoColours[arrayIndex++], 176, true);\n//                 } else\n//                 {\n//                     _SafeStr_10592._SafeStr_21164(_SafeStr_10593, discoColours[arrayIndex++], 176, false);\n//                 };\n//             });\n//             discoTimer.start();\n//             return;\n//     };\n// }\nget currentRoomId(){return this._currentRoomId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/enums/RoomObjectPlacementSource.ts\nclass RoomObjectPlacementSource{}RoomObjectPlacementSource.CATALOG='catalog';RoomObjectPlacementSource.INVENTORY='inventory';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAvatarSelectedMessage.ts\nclass ObjectAvatarSelectedMessage_ObjectAvatarSelectedMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(selected){super();this._selected=void 0;this._selected=selected;}get selected(){return this._selected;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectSelectedMessage.ts\nclass ObjectSelectedMessage_ObjectSelectedMessage extends ObjectStateUpdateMessage_ObjectStateUpdateMessage{constructor(selected){super();this._selected=void 0;this._selected=selected;}get selected(){return this._selected;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectTileCursorUpdateMessage.ts\nclass ObjectTileCursorUpdateMessage_ObjectTileCursorUpdateMessage extends RoomObjectUpdateMessage{constructor(k,height,visible,sourceEventId){let toggleVisibility=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;super(k,null);this._height=void 0;this._sourceEventId=void 0;this._visible=void 0;this._toggleVisibility=void 0;this._height=height;this._visible=visible;this._sourceEventId=sourceEventId;this._toggleVisibility=toggleVisibility;}get height(){return this._height;}get visible(){return this._visible;}get sourceEventId(){return this._sourceEventId;}get toggleVisibility(){return this._toggleVisibility;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectVisibilityUpdateMessage.ts\nclass ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage extends RoomObjectUpdateMessage{constructor(type){super(null,null);this._type=void 0;this._type=type;}get type(){return this._type;}}ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage.ENABLED='ROVUM_ENABLED';ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage.DISABLED='ROVUM_DISABLED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectOperationType.ts\nclass RoomObjectOperationType{}RoomObjectOperationType.OBJECT_UNDEFINED='OBJECT_UNDEFINED';RoomObjectOperationType.OBJECT_MOVE='OBJECT_MOVE';RoomObjectOperationType.OBJECT_PLACE='OBJECT_PLACE';RoomObjectOperationType.OBJECT_ROTATE_POSITIVE='OBJECT_ROTATE_POSITIVE';RoomObjectOperationType.OBJECT_ROTATE_NEGATIVE='OBJECT_ROTATE_NEGATIVE';RoomObjectOperationType.OBJECT_MOVE_TO='OBJECT_MOVE_TO';RoomObjectOperationType.OBJECT_PLACE_TO='OBJECT_PLACE_TO';RoomObjectOperationType.OBJECT_PICKUP='OBJECT_PICKUP';RoomObjectOperationType.OBJECT_PICKUP_BOT='OBJECT_PICKUP_BOT';RoomObjectOperationType.OBJECT_PICKUP_PET='OBJECT_PICKUP_PET';RoomObjectOperationType.OBJECT_EJECT='OBJECT_EJECT';RoomObjectOperationType.OBJECT_SAVE_STUFF_DATA='OBJECT_SAVE_STUFF_DATA';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/SelectedRoomObjectData.ts\nclass SelectedRoomObjectData_SelectedRoomObjectData{constructor(id,category,operation,location,direction){let typeId=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let instanceData=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;let stuffData=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let state=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;let frameNumber=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;let posture=arguments.length>10&&arguments[10]!==undefined?arguments[10]:null;this._id=0;this._category=0;this._operation='';this._loc=null;this._dir=null;this._typeId=0;this._instanceData=null;this._stuffData=null;this._state=-1;this._animFrame=-1;this._posture=null;this._id=id;this._category=category;this._operation=operation;this._loc=new Vector3d();this._loc.assign(location);this._dir=new Vector3d();this._dir.assign(direction);this._typeId=typeId;this._instanceData=instanceData;this._stuffData=stuffData;this._state=state;this._animFrame=frameNumber;this._posture=posture;}get id(){return this._id;}get category(){return this._category;}get operation(){return this._operation;}get loc(){return this._loc;}get dir(){return this._dir;}get typeId(){return this._typeId;}get instanceData(){return this._instanceData;}get stuffData(){return this._stuffData;}get state(){return this._state;}get animFrame(){return this._animFrame;}get posture(){return this._posture;}dispose(){this._loc=null;this._dir=null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/RoomObjectEventHandler.ts\nclass RoomObjectEventHandler_RoomObjectEventHandler extends Disposable{constructor(roomEngine){super();this._roomEngine=void 0;this._eventIds=void 0;this._selectedAvatarId=void 0;this._selectedObjectId=void 0;this._selectedObjectCategory=void 0;this._whereYouClickIsWhereYouGo=void 0;this._objectPlacementSource=void 0;this._roomEngine=roomEngine;this._eventIds=new Map();this._selectedAvatarId=-1;this._selectedObjectId=-1;this._selectedObjectCategory=-2;this._whereYouClickIsWhereYouGo=true;this._objectPlacementSource=null;this.onRoomEngineObjectEvent=this.onRoomEngineObjectEvent.bind(this);this._roomEngine.events.addEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED,this.onRoomEngineObjectEvent);}dispose(){if(this._eventIds){this._eventIds=null;}this._roomEngine.events.removeEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED,this.onRoomEngineObjectEvent);this._roomEngine=null;}onRoomEngineObjectEvent(event){let selectedData=this.getSelectedRoomObjectData(event.roomId);if(!selectedData)return;if(selectedData.operation===RoomObjectOperationType.OBJECT_PLACE&&selectedData.id===event.objectId){const roomObject=this._roomEngine.getRoomObject(event.roomId,selectedData.id,selectedData.category);if(roomObject&&roomObject.model){if(selectedData.category===RoomObjectCategory.FLOOR){const allowedDirections=roomObject.model.getValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS);if(allowedDirections&&allowedDirections.length){const direction=new Vector3d(allowedDirections[0]);roomObject.setDirection(direction);this.updateSelectedObjectData(event.roomId,selectedData.id,selectedData.category,selectedData.loc,direction,selectedData.operation,selectedData.typeId,selectedData.instanceData,selectedData.stuffData,selectedData.state,selectedData.animFrame,selectedData.posture);selectedData=this.getSelectedRoomObjectData(event.roomId);if(!selectedData)return;}}}this.setFurnitureAlphaMultiplier(roomObject,0.5);}}processRoomCanvasMouseEvent(event,object,geometry){if(!event||!object)return;if(RoomEnterEffect_RoomEnterEffect.isRunning())return;const type=object.type;let category=this._roomEngine.getRoomObjectCategoryForType(type);if(category!==RoomObjectCategory.ROOM&&(!this._roomEngine.isPlayingGame()||category!==RoomObjectCategory.UNIT))category=RoomObjectCategory.MINIMUM;const _local_7=this.getMouseEventId(category,event.type);if(_local_7===event.eventId){if(event.type===MouseEventType.MOUSE_CLICK||event.type===MouseEventType.DOUBLE_CLICK||event.type===MouseEventType.MOUSE_DOWN||event.type===MouseEventType.MOUSE_UP||event.type===MouseEventType.MOUSE_MOVE)return;}else{if(event.eventId){this.setMouseEventId(category,event.type,event.eventId);}}if(object.mouseHandler)object.mouseHandler.mouseEvent(event,geometry);}processRoomObjectPlacement(placementSource,roomId,id,category,typeId){let extra=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;let stuffData=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;let state=arguments.length>7&&arguments[7]!==undefined?arguments[7]:-1;let frameNumber=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;let posture=arguments.length>9&&arguments[9]!==undefined?arguments[9]:null;this._objectPlacementSource=placementSource;const location=new Vector3d(-100,-100);const direction=new Vector3d(0);this.setSelectedRoomObjectData(roomId,id,category,location,direction,RoomObjectOperationType.OBJECT_PLACE,typeId,extra,stuffData,state,frameNumber,posture);if(this._roomEngine){this._roomEngine.setObjectMoverIconSprite(typeId,category,false,extra,stuffData,state,frameNumber,posture);this._roomEngine.setObjectMoverIconSpriteVisible(false);}return true;}cancelRoomObjectInsert(k){this.resetSelectedObjectData(k);return true;}getMouseEventId(k,_arg_2){const existing=this._eventIds.get(k);if(!existing)return null;return existing.get(_arg_2)||null;}setMouseEventId(k,_arg_2,_arg_3){let existing=this._eventIds.get(k);if(!existing){existing=new Map();this._eventIds.set(k,existing);}existing.delete(_arg_2);existing.set(_arg_2,_arg_3);}handleRoomObjectEvent(event,roomId){if(!event)return;if(event instanceof RoomObjectMouseEvent_RoomObjectMouseEvent){this.handleRoomObjectMouseEvent(event,roomId);return;}switch(event.type){case RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE:case RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_RANDOM:this.onRoomObjectStateChangedEvent(event,roomId);return;case RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent.DIMMER_STATE:this.onRoomObjectDimmerStateUpdateEvent(event,roomId);return;case RoomObjectMoveEvent_RoomObjectMoveEvent.POSITION_CHANGED:case RoomObjectMoveEvent_RoomObjectMoveEvent.OBJECT_REMOVED:this.handleSelectedObjectRemove(event,roomId);return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_WIDGET:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_WIDGET:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PLACEHOLDER:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CREDITFURNI:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.STICKIE:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PRESENT:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TROPHY:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TEASER:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ECOTRONBOX:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.DIMMER:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOTHING_CHANGE:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MANNEQUIN:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BACKGROUND_COLOR:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_CONFIRM:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK:case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ROOM_LINK:this.onRoomObjectWidgetRequestEvent(event,roomId);return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_ACTIVATE:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_OFF:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.USE_HABBOWHEEL:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.STICKIE:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR:this.onRoomObjectFurnitureActionEvent(event,roomId);return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_START:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE:this.handleObjectSoundMachineEvent(event,roomId);return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_INIT:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_START:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE:this.handleObjectJukeboxEvent(event,roomId);return;case RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.ADD_HOLE:case RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.REMOVE_HOLE:this.onRoomObjectFloorHoleEvent(event,roomId);return;case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK:case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK:case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW:case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE:case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_LOAD_IMAGE:this.onRoomObjectRoomAdEvent(event,roomId);return;case RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE:this.onRoomObjectBadgeAssetEvent(event,roomId);return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_ARROW:case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON:this.handleMousePointer(event,roomId);return;case RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND:case RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH:this.handleRoomObjectPlaySoundEvent(event,roomId);return;case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED:case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED:case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.PLAY_SAMPLE:case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.CHANGE_PITCH:this.handleRoomObjectSamplePlaybackEvent(event,roomId);return;case RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR:this.onHSLColorEnableEvent(event,roomId);return;case RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID:case RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_URL_PREFIX:this.onRoomObjectDataRequestEvent(event,roomId);return;default:NitroLogger.log(`Unhandled Event: ${event.constructor.name}`,`Object ID: ${event.object.id}`);return;}}handleRoomObjectMouseEvent(event,roomId){if(!event||!event.type)return;switch(event.type){case RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK:this.handleRoomObjectMouseClickEvent(event,roomId);return;case RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_MOVE:this.handleRoomObjectMouseMoveEvent(event,roomId);return;case RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN:this.handleRoomObjectMouseDownEvent(event,roomId);return;case RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN_LONG:this.handleRoomObjectMouseDownLongEvent(event,roomId);return;case RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_ENTER:this.handleRoomObjectMouseEnterEvent(event,roomId);return;case RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_LEAVE:this.handleRoomObjectMouseLeaveEvent(event,roomId);return;}}handleRoomObjectMouseClickEvent(event,roomId){if(!event)return;let operation=RoomObjectOperationType.OBJECT_UNDEFINED;const selectedData=this.getSelectedRoomObjectData(roomId);if(selectedData)operation=selectedData.operation;let didWalk=false;let didMove=false;if(this._whereYouClickIsWhereYouGo){if(!operation||operation===RoomObjectOperationType.OBJECT_UNDEFINED){didWalk=this.handleMoveTargetFurni(roomId,event);}}const category=this._roomEngine.getRoomObjectCategoryForType(event.objectType);switch(operation){case RoomObjectOperationType.OBJECT_MOVE:if(category===RoomObjectCategory.ROOM){if(selectedData){this.modifyRoomObject(roomId,selectedData.id,selectedData.category,RoomObjectOperationType.OBJECT_MOVE_TO);}}else if(category===RoomObjectCategory.UNIT){if(selectedData&&event.objectType===RoomObjectUserType.MONSTER_PLANT){this.modifyRoomObject(roomId,selectedData.id,selectedData.category,RoomObjectOperationType.OBJECT_MOVE_TO);}if(event.eventId)this.setMouseEventId(RoomObjectCategory.ROOM,MouseEventType.MOUSE_CLICK,event.eventId);this.placeObjectOnUser(roomId,event.objectId,category);}didMove=true;if(event.objectId!==-1)this.setSelectedObject(roomId,event.objectId,category);break;case RoomObjectOperationType.OBJECT_PLACE:if(category===RoomObjectCategory.ROOM){this.placeObject(roomId,event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent,event instanceof RoomObjectWallMouseEvent_RoomObjectWallMouseEvent);}else if(category===RoomObjectCategory.UNIT){switch(event.objectType){case RoomObjectUserType.MONSTER_PLANT:case RoomObjectUserType.RENTABLE_BOT:this.placeObject(roomId,event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent,event instanceof RoomObjectWallMouseEvent_RoomObjectWallMouseEvent);break;default:if(event.eventId){this.setMouseEventId(RoomObjectCategory.ROOM,MouseEventType.MOUSE_CLICK,event.eventId);}this.placeObjectOnUser(roomId,event.objectId,category);break;}}break;case RoomObjectOperationType.OBJECT_UNDEFINED:if(category===RoomObjectCategory.ROOM){if(!didWalk&&event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent)this.onRoomObjectTileMouseEvent(roomId,event);}else{this.setSelectedObject(roomId,event.objectId,category);didMove=false;if(category===RoomObjectCategory.UNIT){if(event.ctrlKey&&!event.altKey&&!event.shiftKey&&event.objectType===RoomObjectUserType.RENTABLE_BOT){this.modifyRoomObject(roomId,event.objectId,category,RoomObjectOperationType.OBJECT_PICKUP_BOT);}else if(event.ctrlKey&&!event.altKey&&!event.shiftKey&&event.objectType===RoomObjectUserType.MONSTER_PLANT){this.modifyRoomObject(roomId,event.objectId,category,RoomObjectOperationType.OBJECT_PICKUP_PET);}else if(!event.ctrlKey&&!event.altKey&&event.shiftKey&&event.objectType===RoomObjectUserType.MONSTER_PLANT){this.modifyRoomObject(roomId,event.objectId,category,RoomObjectOperationType.OBJECT_ROTATE_POSITIVE);}if(!this._roomEngine.isPlayingGame()){didWalk=true;}else{didMove=true;}}else if(category===RoomObjectCategory.FLOOR||category===RoomObjectCategory.WALL){if(event.altKey||event.ctrlKey||event.shiftKey){if(!event.ctrlKey&&!event.altKey&&event.shiftKey){if(category===RoomObjectCategory.FLOOR){if(this._roomEngine.events){this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.REQUEST_ROTATE,roomId,event.objectId,category));}}}else if(event.ctrlKey&&!event.altKey&&!event.shiftKey){this.modifyRoomObject(roomId,event.objectId,category,RoomObjectOperationType.OBJECT_PICKUP);}if(!this._roomEngine.isPlayingGame()){didWalk=true;}else{didMove=true;}}}if(event.eventId){if(didWalk){this.setMouseEventId(RoomObjectCategory.ROOM,MouseEventType.MOUSE_CLICK,event.eventId);}if(didMove){this.setMouseEventId(RoomObjectCategory.MINIMUM,MouseEventType.MOUSE_CLICK,event.eventId);}}}break;}if(category===RoomObjectCategory.ROOM){const _local_15=this.getMouseEventId(RoomObjectCategory.MINIMUM,MouseEventType.MOUSE_CLICK);const _local_16=this.getMouseEventId(RoomObjectCategory.UNIT,MouseEventType.MOUSE_CLICK);if(_local_15!==event.eventId&&_local_16!==event.eventId&&!didMove){this.deselectObject(roomId);if(this._roomEngine.events)this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.DESELECTED,roomId,-1,RoomObjectCategory.MINIMUM));this.setSelectedAvatar(roomId,0,false);}}}handleRoomObjectMouseMoveEvent(event,roomId){if(!event)return;let operation=RoomObjectOperationType.OBJECT_UNDEFINED;const selectedData=this.getSelectedRoomObjectData(roomId);if(selectedData)operation=selectedData.operation;const category=this._roomEngine.getRoomObjectCategoryForType(event.objectType);if(this._roomEngine){const roomCursor=this._roomEngine.getRoomObjectCursor(roomId);if(roomCursor&&roomCursor.logic){let newEvent=null;if(event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent){newEvent=this.handleMouseOverTile(event,roomId);}else if(event.object&&event.object.id!==-1){if(this._whereYouClickIsWhereYouGo){newEvent=this.handleMouseOverObject(category,roomId,event);}}else{newEvent=new ObjectTileCursorUpdateMessage_ObjectTileCursorUpdateMessage(null,0,false,event.eventId);}roomCursor.processUpdateMessage(newEvent);}}switch(operation){case RoomObjectOperationType.OBJECT_MOVE:if(category===RoomObjectCategory.ROOM)this.handleObjectMove(event,roomId);return;case RoomObjectOperationType.OBJECT_PLACE:if(category===RoomObjectCategory.ROOM)this.handleObjectPlace(event,roomId);return;}}handleRoomObjectMouseDownEvent(event,roomId){if(!event)return;let operation=RoomObjectOperationType.OBJECT_UNDEFINED;const selectedData=this.getSelectedRoomObjectData(roomId);if(selectedData)operation=selectedData.operation;const category=this._roomEngine.getRoomObjectCategoryForType(event.objectType);switch(operation){case RoomObjectOperationType.OBJECT_UNDEFINED:if(category===RoomObjectCategory.FLOOR||category===RoomObjectCategory.WALL||event.objectType===RoomObjectUserType.MONSTER_PLANT){if(event.altKey&&!event.ctrlKey&&!event.shiftKey||this.decorateModeMove(event)){if(this._roomEngine.events)this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.REQUEST_MOVE,roomId,event.objectId,category));}}return;}}handleRoomObjectMouseDownLongEvent(event,roomId){if(!event)return;let operation=RoomObjectOperationType.OBJECT_UNDEFINED;const selectedData=this.getSelectedRoomObjectData(roomId);if(selectedData)operation=selectedData.operation;const category=this._roomEngine.getRoomObjectCategoryForType(event.objectType);switch(operation){case RoomObjectOperationType.OBJECT_UNDEFINED:if(category===RoomObjectCategory.FLOOR||category===RoomObjectCategory.WALL||event.objectType===RoomObjectUserType.MONSTER_PLANT){if(!event.ctrlKey&&!event.shiftKey||this.decorateModeMove(event)){if(this._roomEngine.events)this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.REQUEST_MANIPULATION,roomId,event.objectId,category));}}return;}}handleRoomObjectMouseEnterEvent(event,roomId){const id=event.objectId;const type=event.objectType;const category=this._roomEngine.getRoomObjectCategoryForType(type);if(this._roomEngine.events){this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.MOUSE_ENTER,roomId,id,category));}}handleRoomObjectMouseLeaveEvent(event,roomId){const id=event.objectId;const type=event.objectType;const category=this._roomEngine.getRoomObjectCategoryForType(type);if(category!==RoomObjectCategory.ROOM){if(category===RoomObjectCategory.UNIT){const cursor=this._roomEngine.getRoomObjectCursor(roomId);if(cursor)cursor.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(0,null));}}if(this._roomEngine.events){this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.MOUSE_LEAVE,roomId,id,category));}return;}onRoomObjectStateChangedEvent(event,roomId){if(!event)return;switch(event.type){case RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE:this.changeObjectState(roomId,event.object.id,event.object.type,event.state,false);return;case RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_RANDOM:this.changeObjectState(roomId,event.object.id,event.object.type,event.state,true);return;}}onRoomObjectDimmerStateUpdateEvent(event,roomId){if(!event)return;switch(event.type){case RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent.DIMMER_STATE:this._roomEngine.events.dispatchEvent(new RoomEngineDimmerStateEvent_RoomEngineDimmerStateEvent(roomId,event.state,event.presetId,event.effectId,event.color,event.brightness));return;}}handleSelectedObjectRemove(event,roomId){if(!event||!this._roomEngine)return;switch(event.type){case RoomObjectMoveEvent_RoomObjectMoveEvent.POSITION_CHANGED:{const objectId=event.objectId;const objectType=event.objectType;const objectCategory=this._roomEngine.getRoomObjectCategoryForType(objectType);const object=this._roomEngine.getRoomObject(roomId,objectId,objectCategory);const selectionArrow=this._roomEngine.getRoomObjectSelectionArrow(roomId);if(object&&selectionArrow&&selectionArrow.logic){const location=object.getLocation();selectionArrow.logic.processUpdateMessage(new RoomObjectUpdateMessage(location,null));}return;}case RoomObjectMoveEvent_RoomObjectMoveEvent.OBJECT_REMOVED:this.setSelectedAvatar(roomId,0,false);return;}}onRoomObjectWidgetRequestEvent(event,roomId){if(!event||!this._roomEngine)return;const objectId=event.objectId;const objectType=event.objectType;const objectCategory=this._roomEngine.getRoomObjectCategoryForType(objectType);const eventDispatcher=this._roomEngine.events;if(!eventDispatcher)return;switch(event.type){case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_WIDGET:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.OPEN_WIDGET,roomId,objectId,objectCategory,event.object.logic.widget));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_WIDGET:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.CLOSE_WIDGET,roomId,objectId,objectCategory,event.object.logic.widget));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.OPEN_FURNI_CONTEXT_MENU,roomId,objectId,objectCategory,event.object.logic.contextMenu));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.CLOSE_FURNI_CONTEXT_MENU,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PLACEHOLDER:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PLACEHOLDER,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CREDITFURNI:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_CREDITFURNI,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.STICKIE:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_STICKIE,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PRESENT:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PRESENT,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TROPHY:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_TROPHY,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TEASER:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_TEASER,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ECOTRONBOX:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ECOTRONBOX,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.DIMMER:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_DIMMER,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REMOVE_DIMMER,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOTHING_CHANGE:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_CLOTHING_CHANGE,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PLAYLIST_EDITOR,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MANNEQUIN:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MANNEQUIN,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU:eventDispatcher.dispatchEvent(new RoomEngineUseProductEvent_RoomEngineUseProductEvent(RoomEngineUseProductEvent_RoomEngineUseProductEvent.USE_PRODUCT_FROM_ROOM,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU:this._roomEngine.connection.send(new FurnitureGroupInfoComposer(event.objectId,event.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID)));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BACKGROUND_COLOR:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_BACKGROUND_COLOR,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYBOX_OPEN_DIALOG,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_EFFECTBOX_OPEN_DIALOG,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYTROPHY_OPEN_DIALOG,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN:this._roomEngine.connection.send(new GetResolutionAchievementsMessageComposer(event.objectId,0));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_CONFIRM:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_CONFIRM,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_ENGRAVING,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_BADGE_DISPLAY_ENGRAVING,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_HIGH_SCORE_DISPLAY,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_HIDE_HIGH_SCORE_DISPLAY,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_INTERNAL_LINK,roomId,objectId,objectCategory));return;case RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ROOM_LINK:eventDispatcher.dispatchEvent(new RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent_RoomEngineTriggerWidgetEvent.REQUEST_ROOM_LINK,roomId,objectId,objectCategory));return;}}onRoomObjectFurnitureActionEvent(event,roomId){if(!event)return;this.useObject(roomId,event.object.id,event.object.type,event.type);}handleObjectSoundMachineEvent(event,roomId){if(!event)return;const objectCategory=this._roomEngine.getRoomObjectCategoryForType(event.objectType);const selectedData=this.getSelectedRoomObjectData(roomId);if(selectedData){if(selectedData.category===objectCategory&&selectedData.id===event.objectId){if(selectedData.operation===RoomObjectOperationType.OBJECT_PLACE)return;}}switch(event.type){case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_INIT,roomId,event.objectId,objectCategory));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_START:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_SWITCHED_ON,roomId,event.objectId,objectCategory));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_SWITCHED_OFF,roomId,event.objectId,objectCategory));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_DISPOSE,roomId,event.objectId,objectCategory));return;}}handleObjectJukeboxEvent(event,roomId){if(!event)return;const objectCategory=this._roomEngine.getRoomObjectCategoryForType(event.objectType);const selectedData=this.getSelectedRoomObjectData(roomId);if(selectedData){if(selectedData.category===objectCategory&&selectedData.id===event.objectId){if(selectedData.operation===RoomObjectOperationType.OBJECT_PLACE)return;}}switch(event.type){case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_INIT:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_INIT,roomId,event.objectId,objectCategory));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_START:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_SWITCHED_ON,roomId,event.objectId,objectCategory));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_SWITCHED_OFF,roomId,event.objectId,objectCategory));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_DISPOSE,roomId,event.objectId,objectCategory));return;}}onRoomObjectFloorHoleEvent(event,roomId){if(!event)return;switch(event.type){case RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.ADD_HOLE:this._roomEngine.addRoomInstanceFloorHole(roomId,event.objectId);return;case RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.REMOVE_HOLE:this._roomEngine.removeRoomInstanceFloorHole(roomId,event.objectId);return;}}onRoomObjectRoomAdEvent(event,roomId){if(!event)return;let eventType=null;switch(event.type){case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK:this._roomEngine.events.dispatchEvent(event);if(event.clickUrl&&event.clickUrl.length>0){Nitro_Nitro.instance.createLinkEvent(event.clickUrl);}eventType=RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.FURNI_CLICK;break;case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK:if(event.clickUrl&&event.clickUrl.length>0){const catalogPage='CATALOG_PAGE';if(event.clickUrl.indexOf(catalogPage)===0){Nitro_Nitro.instance.createLinkEvent(event.clickUrl.substr(catalogPage.length));}}eventType=RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.FURNI_DOUBLE_CLICK;break;case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW:eventType=RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.TOOLTIP_SHOW;break;case RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE:eventType=RoomEngineRoomAdEvent_RoomEngineRoomAdEvent.TOOLTIP_HIDE;break;}if(eventType)this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(eventType,roomId,event.objectId,this._roomEngine.getRoomObjectCategoryForType(event.objectType)));}onRoomObjectBadgeAssetEvent(event,roomId){if(!event||!this._roomEngine)return;switch(event.type){case RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE:{const objectId=event.objectId;const objectType=event.objectType;const objectCategory=this._roomEngine.getRoomObjectCategoryForType(objectType);this._roomEngine.loadRoomObjectBadgeImage(roomId,objectId,objectCategory,event.badgeId,event.groupBadge);return;}}}handleMousePointer(event,roomId){if(!event)return;this._roomEngine.updateMousePointer(event.type,event.objectId,event.objectType);}handleRoomObjectPlaySoundEvent(event,roomId){const objectCategory=this._roomEngine.getRoomObjectCategoryForType(event.objectType);switch(event.type){case RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND:this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlaySoundEvent_RoomEngineObjectPlaySoundEvent(RoomEngineObjectPlaySoundEvent_RoomEngineObjectPlaySoundEvent.PLAY_SOUND,roomId,event.objectId,objectCategory,event.soundId,event.pitch));return;case RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH:this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlaySoundEvent_RoomEngineObjectPlaySoundEvent(RoomEngineObjectPlaySoundEvent_RoomEngineObjectPlaySoundEvent.PLAY_SOUND_AT_PITCH,roomId,event.objectId,objectCategory,event.soundId,event.pitch));return;}}handleRoomObjectSamplePlaybackEvent(event,roomId){if(!event)return;const objectCategory=this._roomEngine.getRoomObjectCategoryForType(event.objectType);switch(event.type){case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED,roomId,event.objectId,objectCategory,event.sampleId,event.pitch));break;case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.ROOM_OBJECT_DISPOSED,roomId,event.objectId,objectCategory,event.sampleId,event.pitch));break;case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.PLAY_SAMPLE:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.PLAY_SAMPLE,roomId,event.objectId,objectCategory,event.sampleId,event.pitch));break;case RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.CHANGE_PITCH:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.CHANGE_PITCH,roomId,event.objectId,objectCategory,event.sampleId,event.pitch));break;}}onHSLColorEnableEvent(event,roomId){if(!event||!this._roomEngine)return;switch(event.type){case RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR:this._roomEngine.events.dispatchEvent(new RoomObjectHSLColorEnabledEvent_RoomObjectHSLColorEnabledEvent(RoomObjectHSLColorEnabledEvent_RoomObjectHSLColorEnabledEvent.ROOM_BACKGROUND_COLOR,roomId,event.enable,event.hue,event.saturation,event.lightness));return;}}onRoomObjectDataRequestEvent(event,roomId){if(!event||!this._roomEngine||!event.object)return;switch(event.type){case RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID:event.object.model.setValue(RoomObjectVariable.SESSION_CURRENT_USER_ID,this._roomEngine.sessionDataManager.userId);return;case RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_URL_PREFIX:event.object.model.setValue(RoomObjectVariable.SESSION_URL_PREFIX,Nitro_Nitro.instance.getConfiguration('url.prefix'));return;}}onRoomObjectTileMouseEvent(roomId,event){if(!this._roomEngine||this._roomEngine.isDecorating||!this._roomEngine.roomSessionManager)return;const session=this._roomEngine.roomSessionManager.getSession(roomId);if(!session||session.isSpectator)return;this.sendWalkUpdate(event.tileXAsInt,event.tileYAsInt);}handleObjectMove(event,roomId){if(!event||!this._roomEngine)return;const eventDispatcher=this._roomEngine.events;if(!eventDispatcher)return;const selectedData=this.getSelectedRoomObjectData(roomId);if(!selectedData)return;const roomObject=this._roomEngine.getRoomObject(roomId,selectedData.id,selectedData.category);if(!roomObject)return;let _local_6=true;if(selectedData.category===RoomObjectCategory.FLOOR||selectedData.category===RoomObjectCategory.UNIT){const stackingHeightMap=this._roomEngine.getFurnitureStackingHeightMap(roomId);if(!(event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent&&this.handleFurnitureMove(roomObject,selectedData,Math.trunc(event.tileX+0.5),Math.trunc(event.tileY+0.5),stackingHeightMap))){this.handleFurnitureMove(roomObject,selectedData,selectedData.loc.x,selectedData.loc.y,stackingHeightMap);_local_6=false;}}else if(selectedData.category===RoomObjectCategory.WALL){_local_6=false;if(event instanceof RoomObjectWallMouseEvent_RoomObjectWallMouseEvent){const _local_10=event.wallLocation;const _local_11=event.wallWidth;const _local_12=event.wallHeight;const _local_13=event.x;const _local_14=event.y;const _local_15=event.direction;if(this.handleWallItemMove(roomObject,selectedData,_local_10,_local_11,_local_12,_local_13,_local_14,_local_15)){_local_6=true;}}if(!_local_6){roomObject.setLocation(selectedData.loc);roomObject.setDirection(selectedData.dir);}this._roomEngine.updateRoomObjectMask(roomId,selectedData.id,_local_6);}if(_local_6){this.setFurnitureAlphaMultiplier(roomObject,0.5);this._roomEngine.setObjectMoverIconSpriteVisible(false);}else{this.setFurnitureAlphaMultiplier(roomObject,0);this._roomEngine.setObjectMoverIconSpriteVisible(true);}}handleObjectPlace(event,roomId){if(!event||!this._roomEngine)return;const eventDispatcher=this._roomEngine.events;if(!eventDispatcher)return;let selectedData=this.getSelectedRoomObjectData(roomId);if(!selectedData)return;let roomObject=this._roomEngine.getRoomObject(roomId,selectedData.id,selectedData.category);if(!roomObject){if(event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent){if(selectedData.category===RoomObjectCategory.FLOOR){this._roomEngine.addFurnitureFloor(roomId,selectedData.id,selectedData.typeId,selectedData.loc,selectedData.dir,0,selectedData.stuffData,parseFloat(selectedData.instanceData),-1,0,0,'',false);}else if(selectedData.category===RoomObjectCategory.UNIT){this._roomEngine.addRoomObjectUser(roomId,selectedData.id,new Vector3d(),new Vector3d(180),180,selectedData.typeId,selectedData.instanceData);const roomObject=this._roomEngine.getRoomObject(roomId,selectedData.id,selectedData.category);roomObject&&selectedData.posture&&roomObject.model.setValue(RoomObjectVariable.FIGURE_POSTURE,selectedData.posture);}}else if(event instanceof RoomObjectWallMouseEvent_RoomObjectWallMouseEvent){if(selectedData.category===RoomObjectCategory.WALL){this._roomEngine.addFurnitureWall(roomId,selectedData.id,selectedData.typeId,selectedData.loc,selectedData.dir,0,selectedData.instanceData,0);}}roomObject=this._roomEngine.getRoomObject(roomId,selectedData.id,selectedData.category);if(roomObject){if(selectedData.category===RoomObjectCategory.FLOOR){const allowedDirections=roomObject.model.getValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS);if(allowedDirections&&allowedDirections.length){const direction=new Vector3d(allowedDirections[0]);roomObject.setDirection(direction);this.updateSelectedObjectData(roomId,selectedData.id,selectedData.category,selectedData.loc,direction,selectedData.operation,selectedData.typeId,selectedData.instanceData,selectedData.stuffData,selectedData.state,selectedData.animFrame,selectedData.posture);selectedData=this.getSelectedRoomObjectData(roomId);if(!selectedData)return;}}}this.setFurnitureAlphaMultiplier(roomObject,0.5);this._roomEngine.setObjectMoverIconSpriteVisible(true);}if(roomObject){let _local_12=true;const stackingHeightMap=this._roomEngine.getFurnitureStackingHeightMap(roomId);if(selectedData.category===RoomObjectCategory.FLOOR){if(!(event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent&&this.handleFurnitureMove(roomObject,selectedData,Math.trunc(event.tileX+0.5),Math.trunc(event.tileY+0.5),stackingHeightMap))){this._roomEngine.removeRoomObjectFloor(roomId,selectedData.id);_local_12=false;}}else if(selectedData.category===RoomObjectCategory.WALL){_local_12=false;if(event instanceof RoomObjectWallMouseEvent_RoomObjectWallMouseEvent){const _local_14=event.wallLocation;const _local_15=event.wallWidth;const _local_16=event.wallHeight;const _local_17=event.x;const _local_18=event.y;const _local_19=event.direction;if(this.handleWallItemMove(roomObject,selectedData,_local_14,_local_15,_local_16,_local_17,_local_18,_local_19)){_local_12=true;}}if(!_local_12){this._roomEngine.removeRoomObjectWall(roomId,selectedData.id);}this._roomEngine.updateRoomObjectMask(roomId,selectedData.id,_local_12);}else if(selectedData.category===RoomObjectCategory.UNIT){if(!(event instanceof RoomObjectTileMouseEvent_RoomObjectTileMouseEvent&&this.handleUserPlace(roomObject,Math.trunc(event.tileX+0.5),Math.trunc(event.tileY+0.5),this._roomEngine.getLegacyWallGeometry(roomId)))){this._roomEngine.removeRoomObjectUser(roomId,selectedData.id);_local_12=false;}}this._roomEngine.setObjectMoverIconSpriteVisible(!_local_12);}}handleFurnitureMove(roomObject,selectedObjectData,x,y,stackingHeightMap){if(!roomObject||!selectedObjectData)return false;const _local_6=new Vector3d();_local_6.assign(roomObject.getDirection());roomObject.setDirection(selectedObjectData.dir);const _local_7=new Vector3d(x,y,0);const _local_8=new Vector3d();_local_8.assign(roomObject.getDirection());let _local_9=this.validateFurnitureLocation(roomObject,_local_7,selectedObjectData.loc,selectedObjectData.dir,stackingHeightMap);if(!_local_9){_local_8.x=this.getValidRoomObjectDirection(roomObject,true);roomObject.setDirection(_local_8);_local_9=this.validateFurnitureLocation(roomObject,_local_7,selectedObjectData.loc,selectedObjectData.dir,stackingHeightMap);}if(!_local_9){roomObject.setDirection(_local_6);return false;}roomObject.setLocation(_local_9);if(_local_8)roomObject.setDirection(_local_8);return true;}handleWallItemMove(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7,_arg_8){if(!k||!_arg_2)return false;const _local_9=new Vector3d(_arg_8);const _local_10=this.validateWallItemLocation(k,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7,_arg_2);if(!_local_10)return false;k.setLocation(_local_10);k.setDirection(_local_9);return true;}validateFurnitureLocation(k,_arg_2,_arg_3,_arg_4,_arg_5){if(!k||!k.model||!_arg_2)return null;let _local_15=null;const _local_6=k.getDirection();if(!_local_6)return null;if(!_arg_3||!_arg_4)return null;if(_arg_2.x===_arg_3.x&&_arg_2.y===_arg_3.y){if(_local_6.x===_arg_4.x){_local_15=new Vector3d();_local_15.assign(_arg_3);return _local_15;}}let sizeX=k.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);let sizeY=k.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);if(sizeX<1)sizeX=1;if(sizeY<1)sizeY=1;const _local_9=_arg_3.x;const _local_10=_arg_3.y;let _local_11=sizeX;let _local_12=sizeY;let _local_13=0;let _local_14=Math.trunc(Math.trunc(_local_6.x+45)%360/90);if(_local_14===1||_local_14===3){_local_13=sizeX;sizeX=sizeY;sizeY=_local_13;}_local_14=Math.trunc(Math.trunc(_arg_4.x+45)%360/90);if(_local_14===1||_local_14===3){_local_13=_local_11;_local_11=_local_12;_local_12=_local_13;}if(_arg_5&&_arg_2){const stackable=k.model.getValue(RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE)===1;if(_arg_5.validateLocation(_arg_2.x,_arg_2.y,sizeX,sizeY,_local_9,_local_10,_local_11,_local_12,stackable)){return new Vector3d(_arg_2.x,_arg_2.y,_arg_5.getTileHeight(_arg_2.x,_arg_2.y));}return null;}return null;}validateWallItemLocation(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6,_arg_7){if(k==null||k.model==null||_arg_2==null||_arg_3==null||_arg_4==null||_arg_7==null)return null;const _local_8=k.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);const _local_9=k.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Z);const _local_10=k.model.getValue(RoomObjectVariable.FURNITURE_CENTER_Z);if(_arg_5<_local_8/2||_arg_5>_arg_3.length-_local_8/2||_arg_6<_local_10||_arg_6>_arg_4.length-(_local_9-_local_10)){if(_arg_5<_local_8/2&&_arg_5<=_arg_3.length-_local_8/2){_arg_5=_local_8/2;}else{if(_arg_5>=_local_8/2&&_arg_5>_arg_3.length-_local_8/2){_arg_5=_arg_3.length-_local_8/2;}}if(_arg_6<_local_10&&_arg_6<=_arg_4.length-(_local_9-_local_10)){_arg_6=_local_10;}else{if(_arg_6>=_local_10&&_arg_6>_arg_4.length-(_local_9-_local_10)){_arg_6=_arg_4.length-(_local_9-_local_10);}}}if(_arg_5<_local_8/2||_arg_5>_arg_3.length-_local_8/2||_arg_6<_local_10||_arg_6>_arg_4.length-(_local_9-_local_10)){return null;}let _local_11=Vector3d.sum(Vector3d.product(_arg_3,_arg_5/_arg_3.length),Vector3d.product(_arg_4,_arg_6/_arg_4.length));_local_11=Vector3d.sum(_arg_2,_local_11);return _local_11;}changeObjectState(roomId,objectId,type,state,isRandom){const category=this._roomEngine.getRoomObjectCategoryForType(type);this.changeRoomObjectState(roomId,objectId,category,state,isRandom);}useObject(roomId,objectId,type,action){if(!this._roomEngine||!this._roomEngine.connection)return;switch(action){case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_ACTIVATE:this._roomEngine.connection.send(new FurnitureDiceActivateComposer(objectId));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_OFF:this._roomEngine.connection.send(new FurnitureDiceDeactivateComposer(objectId));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.USE_HABBOWHEEL:this._roomEngine.connection.send(new FurnitureColorWheelComposer(objectId));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.STICKIE:this._roomEngine.connection.send(new GetItemDataComposer(objectId));return;case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR:this._roomEngine.connection.send(new FurnitureOneWayDoorComposer(objectId));return;}}changeRoomObjectState(roomId,objectId,category,state,isRandom){if(!this._roomEngine||!this._roomEngine.connection)return true;if(category===RoomObjectCategory.FLOOR){if(!isRandom){this._roomEngine.connection.send(new FurnitureMultiStateComposer(objectId,state));}else{this._roomEngine.connection.send(new FurnitureRandomStateComposer(objectId,state));}}else if(category===RoomObjectCategory.WALL){this._roomEngine.connection.send(new FurnitureWallMultiStateComposer(objectId,state));}return true;}sendWalkUpdate(x,y){if(!this._roomEngine||!this._roomEngine.connection)return;this._roomEngine.connection.send(new RoomUnitWalkComposer(x,y));}handleMouseOverObject(category,roomId,event){if(category!==RoomObjectCategory.FLOOR)return null;const roomObject=this._roomEngine.getRoomObject(roomId,event.objectId,RoomObjectCategory.FLOOR);if(!roomObject)return null;const location=this.getActiveSurfaceLocation(roomObject,event);if(!location)return null;const furnitureHeightMap=this._roomEngine.getFurnitureStackingHeightMap(roomId);if(!furnitureHeightMap)return null;const x=location.x;const y=location.y;const z=location.z;return new ObjectTileCursorUpdateMessage_ObjectTileCursorUpdateMessage(new Vector3d(x,y,roomObject.getLocation().z),z,true,event.eventId);}handleMoveTargetFurni(k,_arg_2){if(_arg_2.objectType===RoomObjectUserType.USER||_arg_2.objectType===RoomObjectUserType.PET||_arg_2.objectType===RoomObjectUserType.BOT||_arg_2.objectType===RoomObjectUserType.RENTABLE_BOT||_arg_2.objectType===RoomObjectUserType.MONSTER_PLANT)return;const _local_3=this._roomEngine.getRoomObject(k,_arg_2.objectId,RoomObjectCategory.FLOOR);const _local_4=this.getActiveSurfaceLocation(_local_3,_arg_2);if(_local_4){this.sendWalkUpdate(_local_4.x,_local_4.y);return true;}return false;}getActiveSurfaceLocation(k,_arg_2){if(!k||!_arg_2)return null;const furniData=this._roomEngine.sessionDataManager.getFloorItemDataByName(k.type);if(!furniData)return null;if(!furniData.canStandOn&&!furniData.canSitOn&&!furniData.canLayOn)return null;const model=k.model;if(!model)return null;const location=k.getLocation();const direction=k.getDirection();let sizeX=model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);let sizeY=model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);const sizeZ=model.getValue(RoomObjectVariable.FURNITURE_SIZE_Z);if(direction.x===90||direction.x===270)[sizeX,sizeY]=[sizeY,sizeX];if(sizeX<1)sizeX=1;if(sizeY<1)sizeY=1;const renderingCanvas=this._roomEngine.getActiveRoomInstanceRenderingCanvas();if(!renderingCanvas)return null;const scale=renderingCanvas.geometry.scale;const _local_13=furniData.canSitOn?0.5:0;const _local_14=(scale/2+_arg_2.spriteOffsetX+_arg_2.localX)/(scale/4);const _local_15=(_arg_2.spriteOffsetY+_arg_2.localY+(sizeZ-_local_13)*scale/2)/(scale/4);const _local_16=(_local_14+2*_local_15)/4;const _local_17=(_local_14-2*_local_15)/4;const _local_18=Math.floor(location.x+_local_16);const _local_19=Math.floor(location.y-_local_17+1);let _local_20=false;if(_local_18<location.x||_local_18>=location.x+sizeX)_local_20=true;else if(_local_19<location.y||_local_19>=location.y+sizeY)_local_20=true;const _local_21=furniData.canSitOn?sizeZ-0.5:sizeZ;if(!_local_20)return new Vector3d(_local_18,_local_19,_local_21);return null;}handleMouseOverTile(k,roomId){if(this._whereYouClickIsWhereYouGo){return new ObjectTileCursorUpdateMessage_ObjectTileCursorUpdateMessage(new Vector3d(k.tileXAsInt,k.tileYAsInt,k.tileZAsInt),0,true,k.eventId);}const roomObject=this._roomEngine.getRoomObjectCursor(roomId);if(roomObject&&roomObject.visualization){const _local_4=k.tileXAsInt;const _local_5=k.tileYAsInt;const _local_6=k.tileZAsInt;const _local_7=this._roomEngine.getRoomInstance(roomId);if(_local_7){const _local_8=this._roomEngine.getRoomTileObjectMap(roomId);if(_local_8){const _local_9=_local_8.getObjectIntTile(_local_4,_local_5);const _local_10=this._roomEngine.getFurnitureStackingHeightMap(roomId);if(_local_10){if(_local_9&&_local_9.model&&_local_9.model.getValue(RoomObjectVariable.FURNITURE_IS_VARIABLE_HEIGHT)>0){const _local_11=_local_10.getTileHeight(_local_4,_local_5);const _local_12=this._roomEngine.getLegacyWallGeometry(roomId).getHeight(_local_4,_local_5);return new ObjectTileCursorUpdateMessage_ObjectTileCursorUpdateMessage(new Vector3d(_local_4,_local_5,_local_6),_local_11-_local_12,true,k.eventId);}return new ObjectTileCursorUpdateMessage_ObjectTileCursorUpdateMessage(new Vector3d(_local_4,_local_5,_local_6),0,true,k.eventId);}}}}return null;}placeObject(roomId,isTileEvent,isWallEvent){const selectedData=this.getSelectedRoomObjectData(roomId);if(!selectedData)return;let roomObject=null;let objectId=selectedData.id;const category=selectedData.category;let x=0;let y=0;let z=0;let direction=0;let wallLocation='';if(this._roomEngine&&this._roomEngine.connection){roomObject=this._roomEngine.getRoomObject(roomId,objectId,category);if(roomObject){const location=roomObject.getLocation();direction=roomObject.getDirection().x;if(category===RoomObjectCategory.FLOOR||category===RoomObjectCategory.UNIT){x=location.x;y=location.y;z=location.z;}else if(category===RoomObjectCategory.WALL){x=location.x;y=location.y;z=location.z;const wallGeometry=this._roomEngine.getLegacyWallGeometry(roomId);if(wallGeometry)wallLocation=wallGeometry.getOldLocationString(location,direction);}direction=(direction/45%8+8)%8;if(objectId<0&&category===RoomObjectCategory.UNIT)objectId=objectId*-1;if(this._objectPlacementSource!==RoomObjectPlacementSource.CATALOG){if(category===RoomObjectCategory.UNIT){if(selectedData.typeId===RoomObjectType.PET){this._roomEngine.connection.send(new PetPlaceComposer(objectId,Math.trunc(x),Math.trunc(y)));}else if(selectedData.typeId===RoomObjectType.RENTABLE_BOT){this._roomEngine.connection.send(new BotPlaceComposer(objectId,Math.trunc(x),Math.trunc(y)));}}else if(roomObject.model.getValue(RoomObjectVariable.FURNITURE_IS_STICKIE)!==undefined){this._roomEngine.connection.send(new FurniturePostItPlaceComposer(objectId,wallLocation));}else{this._roomEngine.connection.send(new FurniturePlaceComposer_FurniturePlaceComposer(objectId,category,wallLocation,Math.trunc(x),Math.trunc(y),direction));}}}}this._roomEngine.setPlacedRoomObjectData(roomId,new SelectedRoomObjectData_SelectedRoomObjectData(selectedData.id,selectedData.category,null,selectedData.dir,null));this.resetSelectedObjectData(roomId);if(this._roomEngine&&this._roomEngine.events){const placedInRoom=roomObject&&roomObject.id===selectedData.id;this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlacedEvent_RoomEngineObjectPlacedEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.PLACED,roomId,objectId,category,wallLocation,x,y,z,direction,placedInRoom,isTileEvent,isWallEvent,selectedData.instanceData));}}modifyRoomObject(roomId,objectId,category,operation){if(!this._roomEngine)return false;const roomObject=this._roomEngine.getRoomObject(roomId,objectId,category);if(!roomObject)return false;let _local_9=true;switch(operation){case RoomObjectOperationType.OBJECT_ROTATE_POSITIVE:case RoomObjectOperationType.OBJECT_ROTATE_NEGATIVE:if(this._roomEngine.connection){let direction=0;if(operation==RoomObjectOperationType.OBJECT_ROTATE_NEGATIVE){direction=this.getValidRoomObjectDirection(roomObject,false);}else{direction=this.getValidRoomObjectDirection(roomObject,true);}const x=roomObject.getLocation().x;const y=roomObject.getLocation().y;if(this.isValidLocation(roomObject,new Vector3d(direction),this._roomEngine.getFurnitureStackingHeightMap(roomId))){direction=Math.trunc(direction/45);if(roomObject.type===RoomObjectUserType.MONSTER_PLANT){const roomSession=this._roomEngine.roomSessionManager.getSession(roomId);if(roomSession){const userData=roomSession.userDataManager.getUserDataByIndex(objectId);if(userData){this._roomEngine.connection.send(new PetMoveComposer(userData.webID,Math.trunc(x),Math.trunc(y),direction));}}}else{this._roomEngine.connection.send(new FurnitureFloorUpdateComposer(objectId,x,y,direction));}}}break;case RoomObjectOperationType.OBJECT_EJECT:case RoomObjectOperationType.OBJECT_PICKUP:if(this._roomEngine.connection)this._roomEngine.connection.send(new FurniturePickupComposer(category,objectId));break;case RoomObjectOperationType.OBJECT_PICKUP_PET:if(this._roomEngine.connection){const session=this._roomEngine.roomSessionManager.getSession(roomId);if(session){const userData=session.userDataManager.getUserDataByIndex(objectId);session.pickupPet(userData.webID);}}break;case RoomObjectOperationType.OBJECT_PICKUP_BOT:if(this._roomEngine.connection){const session=this._roomEngine.roomSessionManager.getSession(roomId);if(session){const userData=session.userDataManager.getUserDataByIndex(objectId);session.pickupBot(userData.webID);}}break;case RoomObjectOperationType.OBJECT_MOVE:_local_9=false;this.setFurnitureAlphaMultiplier(roomObject,0.5);this.setSelectedRoomObjectData(roomId,roomObject.id,category,roomObject.getLocation(),roomObject.getDirection(),operation);this._roomEngine.setObjectMoverIconSprite(roomObject.id,category,true);this._roomEngine.setObjectMoverIconSpriteVisible(false);break;case RoomObjectOperationType.OBJECT_MOVE_TO:{const selectedData=this.getSelectedRoomObjectData(roomId);this.updateSelectedObjectData(roomId,selectedData.id,selectedData.category,selectedData.loc,selectedData.dir,RoomObjectOperationType.OBJECT_MOVE_TO,selectedData.typeId,selectedData.instanceData,selectedData.stuffData,selectedData.state,selectedData.animFrame,selectedData.posture);this.setFurnitureAlphaMultiplier(roomObject,1);this._roomEngine.removeObjectMoverIconSprite();if(this._roomEngine.connection){if(category===RoomObjectCategory.FLOOR){const angle=roomObject.getDirection().x%360;const location=roomObject.getLocation();const direction=angle/45;this._roomEngine.connection.send(new FurnitureFloorUpdateComposer(objectId,location.x,location.y,direction));}else if(category===RoomObjectCategory.WALL){const angle=roomObject.getDirection().x%360;const wallGeometry=this._roomEngine.getLegacyWallGeometry(roomId);if(wallGeometry){const location=wallGeometry.getOldLocationString(roomObject.getLocation(),angle);if(location)this._roomEngine.connection.send(new FurnitureWallUpdateComposer(objectId,location));}}else if(category===RoomObjectCategory.UNIT){const angle=roomObject.getDirection().x%360;const location=roomObject.getLocation();const direction=angle/45;const race=parseInt(roomObject.model.getValue(RoomObjectVariable.RACE));const roomSession=this._roomEngine.roomSessionManager.getSession(roomId);if(roomSession){const userData=roomSession.userDataManager.getUserDataByIndex(objectId);if(userData)this._roomEngine.connection.send(new PetMoveComposer(userData.webID,location.x,location.y,direction));}}}break;}}if(_local_9)this.resetSelectedObjectData(roomId);return true;}modifyRoomObjectDataWithMap(roomId,objectId,category,operation,data){if(!this._roomEngine)return false;const roomObject=this._roomEngine.getRoomObject(roomId,objectId,category);if(!roomObject)return false;switch(operation){case RoomObjectOperationType.OBJECT_SAVE_STUFF_DATA:if(this._roomEngine.connection){this._roomEngine.connection.send(new SetObjectDataMessageComposer(objectId,data));}break;}return true;}modifyWallItemData(roomId,objectId,colorHex,text){if(!this._roomEngine||!this._roomEngine.connection)return false;this._roomEngine.connection.send(new SetItemDataMessageComposer(objectId,colorHex,text));return true;}deleteWallItem(roomId,itemId){if(!this._roomEngine||!this._roomEngine.connection)return false;this._roomEngine.connection.send(new RemoveWallItemComposer(itemId));return true;}getValidRoomObjectDirection(k,_arg_2){if(!k||!k.model)return 0;let _local_6=0;let _local_7=0;let allowedDirections=[];if(k.type===RoomObjectUserType.MONSTER_PLANT){allowedDirections=k.model.getValue(RoomObjectVariable.PET_ALLOWED_DIRECTIONS);}else{allowedDirections=k.model.getValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS);}let direction=k.getDirection().x;if(allowedDirections&&allowedDirections.length){_local_6=allowedDirections.indexOf(direction);if(_local_6<0){_local_6=0;_local_7=0;while(_local_7<allowedDirections.length){if(direction<=allowedDirections[_local_7])break;_local_6++;_local_7++;}_local_6=_local_6%allowedDirections.length;}if(_arg_2)_local_6=(_local_6+1)%allowedDirections.length;else _local_6=(_local_6-1+allowedDirections.length)%allowedDirections.length;direction=allowedDirections[_local_6];}return direction;}isValidLocation(object,goalDirection,stackingHeightMap){if(!object||!object.model||!goalDirection)return false;const direction=object.getDirection();const location=object.getLocation();if(!direction||!location)return false;if(direction.x%180===goalDirection.x%180)return true;let sizeX=object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);let sizeY=object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);if(sizeX<1)sizeX=1;if(sizeY<1)sizeY=1;let _local_8=sizeX;let _local_9=sizeY;let _local_11=Math.trunc(Math.trunc(goalDirection.x+45)%360/90);if(_local_11===1||_local_11===3)[sizeX,sizeY]=[sizeY,sizeX];_local_11=Math.trunc(Math.trunc(direction.x+45)%360/90);if(_local_11===1||_local_11===3)[_local_8,_local_9]=[_local_9,_local_8];if(stackingHeightMap&&location){const alwaysStackable=object.model.getValue(RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE)===1;if(stackingHeightMap.validateLocation(location.x,location.y,sizeX,sizeY,location.x,location.y,_local_8,_local_9,alwaysStackable,location.z))return true;}return false;}placeObjectOnUser(roomId,objectId,category){const _local_4=this.getSelectedRoomObjectData(roomId);if(!_local_4)return;const _local_5=this._roomEngine.getRoomObject(roomId,objectId,category);if(!_local_5)return;if(!this._roomEngine||!this._roomEngine.events)return;this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlacedOnUserEvent_RoomEngineObjectPlacedOnUserEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.PLACED_ON_USER,roomId,objectId,category,_local_4.id,_local_4.category));}setSelectedObject(roomId,objectId,category){if(!this._roomEngine)return;const eventDispatcher=this._roomEngine.events;if(!eventDispatcher)return;switch(category){case RoomObjectCategory.UNIT:case RoomObjectCategory.FLOOR:case RoomObjectCategory.WALL:if(category===RoomObjectCategory.UNIT){this.deselectObject(roomId);this.setSelectedAvatar(roomId,objectId,true);}else{this.setSelectedAvatar(roomId,0,false);if(objectId!==this._selectedObjectId){this.deselectObject(roomId);const roomObject=this._roomEngine.getRoomObject(roomId,objectId,category);if(roomObject&&roomObject.logic){roomObject.logic.processUpdateMessage(new ObjectSelectedMessage_ObjectSelectedMessage(true));this._selectedObjectId=objectId;this._selectedObjectCategory=category;}}}eventDispatcher.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.SELECTED,roomId,objectId,category));return;}}deselectObject(roomId){if(this._selectedObjectId===-1)return;const object=this._roomEngine.getRoomObject(roomId,this._selectedObjectId,this._selectedObjectCategory);if(object&&object.logic){object.logic.processUpdateMessage(new ObjectSelectedMessage_ObjectSelectedMessage(false));this._selectedObjectId=-1;this._selectedObjectCategory=RoomObjectCategory.MINIMUM;}}setSelectedAvatar(k,_arg_2,_arg_3){if(!this._roomEngine)return;const _local_4=RoomObjectCategory.UNIT;const _local_5=this._roomEngine.getRoomObject(k,this._selectedAvatarId,_local_4);if(_local_5&&_local_5.logic){_local_5.logic.processUpdateMessage(new ObjectAvatarSelectedMessage_ObjectAvatarSelectedMessage(false));this._selectedAvatarId=-1;}let _local_6=false;if(_arg_3){const _local_5=this._roomEngine.getRoomObject(k,_arg_2,_local_4);if(_local_5&&_local_5.logic){_local_5.logic.processUpdateMessage(new ObjectAvatarSelectedMessage_ObjectAvatarSelectedMessage(true));_local_6=true;this._selectedAvatarId=_arg_2;const location=_local_5.getLocation();if(location)this._roomEngine.connection.send(new RoomUnitLookComposer(~~location.x,~~location.y));}}const selectionArrow=this._roomEngine.getRoomObjectSelectionArrow(k);if(selectionArrow&&selectionArrow.logic){if(_local_6&&!this._roomEngine.isPlayingGame())selectionArrow.logic.processUpdateMessage(new ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage(ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage.ENABLED));else selectionArrow.logic.processUpdateMessage(new ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage(ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage.DISABLED));}}resetSelectedObjectData(roomId){if(!this._roomEngine)return;this._roomEngine.removeObjectMoverIconSprite();const selectedData=this.getSelectedRoomObjectData(roomId);if(selectedData){if(selectedData.operation===RoomObjectOperationType.OBJECT_MOVE||selectedData.operation===RoomObjectOperationType.OBJECT_MOVE_TO){const roomObject=this._roomEngine.getRoomObject(roomId,selectedData.id,selectedData.category);if(roomObject&&selectedData.operation!==RoomObjectOperationType.OBJECT_MOVE_TO){roomObject.setLocation(selectedData.loc);roomObject.setDirection(selectedData.dir);}this.setFurnitureAlphaMultiplier(roomObject,1);if(selectedData.category===RoomObjectCategory.WALL){this._roomEngine.updateRoomObjectMask(roomId,selectedData.id,true);}this.updateSelectedObjectData(roomId,selectedData.id,selectedData.category,selectedData.loc,selectedData.dir,RoomObjectOperationType.OBJECT_MOVE,selectedData.typeId,selectedData.instanceData,selectedData.stuffData,selectedData.state,selectedData.animFrame,selectedData.posture);}else if(selectedData.operation===RoomObjectOperationType.OBJECT_PLACE){const objectId=selectedData.id;const category=selectedData.category;switch(category){case RoomObjectCategory.FLOOR:this._roomEngine.removeRoomObjectFloor(roomId,objectId);break;case RoomObjectCategory.WALL:this._roomEngine.removeRoomObjectWall(roomId,objectId);break;case RoomObjectCategory.UNIT:this._roomEngine.removeRoomObjectUser(roomId,objectId);break;}}this._roomEngine.setSelectedRoomObjectData(roomId,null);}}getSelectedRoomObjectData(roomId){if(!this._roomEngine)return null;return this._roomEngine.getSelectedRoomObjectData(roomId);}setFurnitureAlphaMultiplier(object,multiplier){if(!object||!object.model)return;object.model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,multiplier);}decorateModeMove(event){return this._roomEngine.isDecorating&&!(event.ctrlKey||event.shiftKey);}cancelRoomObjectPlacement(roomId){this.resetSelectedObjectData(roomId);return true;}setSelectedRoomObjectData(roomId,id,category,location,direction,operation){let typeId=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;let instanceData=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let stuffData=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let state=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;let frameNumber=arguments.length>10&&arguments[10]!==undefined?arguments[10]:-1;let posture=arguments.length>11&&arguments[11]!==undefined?arguments[11]:null;this.resetSelectedObjectData(roomId);if(!this._roomEngine)return;const selectedData=new SelectedRoomObjectData_SelectedRoomObjectData(id,category,operation,location,direction,typeId,instanceData,stuffData,state,frameNumber,posture);this._roomEngine.setSelectedRoomObjectData(roomId,selectedData);}updateSelectedObjectData(roomId,id,category,location,direction,operation){let typeId=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;let instanceData=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let stuffData=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let state=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;let frameNumber=arguments.length>10&&arguments[10]!==undefined?arguments[10]:-1;let posture=arguments.length>11&&arguments[11]!==undefined?arguments[11]:null;if(!this._roomEngine)return null;const selectedData=new SelectedRoomObjectData_SelectedRoomObjectData(id,category,operation,location,direction,typeId,instanceData,stuffData,state,frameNumber,posture);this._roomEngine.setSelectedRoomObjectData(roomId,selectedData);}handleUserPlace(roomObject,x,y,wallGeometry){if(!wallGeometry.isRoomTile(x,y))return false;roomObject.setLocation(new Vector3d(x,y,wallGeometry.getHeight(x,y)));return true;}get engine(){return this._roomEngine;}get selectedAvatarId(){return this._selectedAvatarId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/IObjectData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/MovingObjectLogic.ts\nclass MovingObjectLogic_MovingObjectLogic extends RoomObjectLogicBase_RoomObjectLogicBase{constructor(){super();this._liftAmount=void 0;this._location=void 0;this._locationDelta=void 0;this._lastUpdateTime=void 0;this._changeTime=void 0;this._updateInterval=void 0;this._liftAmount=0;this._location=new Vector3d();this._locationDelta=new Vector3d();this._lastUpdateTime=0;this._changeTime=0;this._updateInterval=MovingObjectLogic_MovingObjectLogic.DEFAULT_UPDATE_INTERVAL;}onDispose(){this._liftAmount=0;super.onDispose();}update(time){super.update(time);const locationOffset=this.getLocationOffset();const model=this.object&&this.object.model;if(model){if(locationOffset){if(this._liftAmount!==locationOffset.z){this._liftAmount=locationOffset.z;model.setValue(RoomObjectVariable.FURNITURE_LIFT_AMOUNT,this._liftAmount);}}else{if(this._liftAmount!==0){this._liftAmount=0;model.setValue(RoomObjectVariable.FURNITURE_LIFT_AMOUNT,this._liftAmount);}}}if(this._locationDelta.length>0||locationOffset){const vector=MovingObjectLogic_MovingObjectLogic.TEMP_VECTOR;let difference=this.time-this._changeTime;if(difference===this._updateInterval>>1)difference++;if(difference>this._updateInterval)difference=this._updateInterval;if(this._locationDelta.length>0){vector.assign(this._locationDelta);vector.multiply(difference/this._updateInterval);vector.add(this._location);}else{vector.assign(this._location);}if(locationOffset)vector.add(locationOffset);this.object.setLocation(vector);if(difference===this._updateInterval){this._locationDelta.x=0;this._locationDelta.y=0;this._locationDelta.z=0;}}this._lastUpdateTime=this.time;}setObject(object){super.setObject(object);if(object)this._location.assign(object.getLocation());}processUpdateMessage(message){if(!message)return;super.processUpdateMessage(message);if(message.location)this._location.assign(message.location);if(message instanceof ObjectMoveUpdateMessage_ObjectMoveUpdateMessage)return this.processMoveMessage(message);}processMoveMessage(message){if(!message||!this.object||!message.location)return;this._changeTime=this._lastUpdateTime;this._locationDelta.assign(message.targetLocation);this._locationDelta.subtract(this._location);}getLocationOffset(){return null;}get lastUpdateTime(){return this._lastUpdateTime;}set updateInterval(interval){if(interval<=0)interval=1;this._updateInterval=interval;}}MovingObjectLogic_MovingObjectLogic.DEFAULT_UPDATE_INTERVAL=500;MovingObjectLogic_MovingObjectLogic.TEMP_VECTOR=new Vector3d();\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/avatar/AvatarLogic.ts\nclass AvatarLogic_AvatarLogic extends MovingObjectLogic_MovingObjectLogic{constructor(){super();this._selected=void 0;this._reportedLocation=void 0;this._effectChangeTimeStamp=void 0;this._newEffect=void 0;this._blinkingStartTimestamp=void 0;this._blinkingEndTimestamp=void 0;this._talkingEndTimestamp=void 0;this._talkingPauseStartTimestamp=void 0;this._talkingPauseEndTimestamp=void 0;this._carryObjectStartTimestamp=void 0;this._carryObjectEndTimestamp=void 0;this._allowUseCarryObject=void 0;this._animationEndTimestamp=void 0;this._signEndTimestamp=void 0;this._gestureEndTimestamp=void 0;this._numberValueEndTimestamp=void 0;this._selected=false;this._reportedLocation=null;this._effectChangeTimeStamp=0;this._newEffect=0;this._blinkingStartTimestamp=Nitro_Nitro.instance.time+this.randomBlinkStartTimestamp();this._blinkingEndTimestamp=0;this._talkingEndTimestamp=0;this._talkingPauseStartTimestamp=0;this._talkingPauseEndTimestamp=0;this._carryObjectStartTimestamp=0;this._carryObjectEndTimestamp=0;this._allowUseCarryObject=false;this._animationEndTimestamp=0;this._signEndTimestamp=0;this._gestureEndTimestamp=0;this._numberValueEndTimestamp=0;}getEventTypes(){const types=[RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK,RoomObjectMoveEvent_RoomObjectMoveEvent.POSITION_CHANGED,RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_ENTER,RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_LEAVE,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_ARROW];return this.mergeTypes(super.getEventTypes(),types);}dispose(){if(this._selected&&this.object){if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent_RoomObjectMoveEvent(RoomObjectMoveEvent_RoomObjectMoveEvent.OBJECT_REMOVED,this.object));}super.dispose();this._reportedLocation=null;}update(time){super.update(time);if(this._selected&&this.object){if(this.eventDispatcher){const location=this.object.getLocation();if(!this._reportedLocation||this._reportedLocation.x!==location.x||this._reportedLocation.y!==location.y||this._reportedLocation.z!==location.z){if(!this._reportedLocation)this._reportedLocation=new Vector3d();this._reportedLocation.assign(location);this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent_RoomObjectMoveEvent(RoomObjectMoveEvent_RoomObjectMoveEvent.POSITION_CHANGED,this.object));}}}const model=this.object&&this.object.model;if(model)this.updateModel(this.time,model);}updateModel(time,model){if(this._talkingEndTimestamp>0){if(time>this._talkingEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_TALK,0);this._talkingEndTimestamp=0;this._talkingPauseStartTimestamp=0;this._talkingPauseEndTimestamp=0;}else{if(!this._talkingPauseEndTimestamp&&!this._talkingPauseStartTimestamp){this._talkingPauseStartTimestamp=time+this.randomTalkingPauseStartTimestamp();this._talkingPauseEndTimestamp=this._talkingPauseStartTimestamp+this.randomTalkingPauseEndTimestamp();}else{if(this._talkingPauseStartTimestamp>0&&time>this._talkingPauseStartTimestamp){model.setValue(RoomObjectVariable.FIGURE_TALK,0);this._talkingPauseStartTimestamp=0;}else{if(this._talkingPauseEndTimestamp>0&&time>this._talkingPauseEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_TALK,1);this._talkingPauseEndTimestamp=0;}}}}}if(this._animationEndTimestamp>0&&time>this._animationEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_EXPRESSION,0);this._animationEndTimestamp=0;}if(this._gestureEndTimestamp>0&&time>this._gestureEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_GESTURE,0);this._gestureEndTimestamp=0;}if(this._signEndTimestamp>0&&time>this._signEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_SIGN,-1);this._signEndTimestamp=0;}if(this._carryObjectEndTimestamp>0){if(time>this._carryObjectEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_CARRY_OBJECT,0);model.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,0);this._carryObjectStartTimestamp=0;this._carryObjectEndTimestamp=0;this._allowUseCarryObject=false;}}if(this._allowUseCarryObject){if(time-this._carryObjectStartTimestamp>5000){if((time-this._carryObjectStartTimestamp)%10000<1000){model.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,1);}else{model.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,0);}}}if(this._blinkingStartTimestamp>-1&&time>this._blinkingStartTimestamp){model.setValue(RoomObjectVariable.FIGURE_BLINK,1);this._blinkingStartTimestamp=time+this.randomBlinkStartTimestamp();this._blinkingEndTimestamp=time+this.randomBlinkEndTimestamp();}if(this._blinkingEndTimestamp>0&&time>this._blinkingEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_BLINK,0);this._blinkingEndTimestamp=0;}if(this._effectChangeTimeStamp>0&&time>this._effectChangeTimeStamp){model.setValue(RoomObjectVariable.FIGURE_EFFECT,this._newEffect);this._effectChangeTimeStamp=0;}if(this._numberValueEndTimestamp>0&&time>this._numberValueEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_NUMBER_VALUE,0);this._numberValueEndTimestamp=0;}}processUpdateMessage(message){if(!message||!this.object)return;super.processUpdateMessage(message);const model=this.object&&this.object.model;if(!model)return;if(message instanceof ObjectAvatarPostureUpdateMessage_ObjectAvatarPostureUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_POSTURE,message.postureType);model.setValue(RoomObjectVariable.FIGURE_POSTURE_PARAMETER,message.parameter);return;}if(message instanceof ObjectAvatarChatUpdateMessage_ObjectAvatarChatUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_TALK,1);this._talkingEndTimestamp=this.time+message.numberOfWords*1000;return;}if(message instanceof ObjectAvatarTypingUpdateMessage_ObjectAvatarTypingUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_IS_TYPING,message.isTyping?1:0);return;}if(message instanceof ObjectAvatarMutedUpdateMessage_ObjectAvatarMutedUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_IS_MUTED,message.isMuted?1:0);return;}if(message instanceof ObjectAvatarPlayingGameUpdateMessage_ObjectAvatarPlayingGameUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_IS_PLAYING_GAME,message.isPlayingGame?1:0);return;}if(message instanceof ObjectAvatarUpdateMessage_ObjectAvatarUpdateMessage){model.setValue(RoomObjectVariable.HEAD_DIRECTION,message.headDirection);model.setValue(RoomObjectVariable.FIGURE_CAN_STAND_UP,message.canStandUp);model.setValue(RoomObjectVariable.FIGURE_VERTICAL_OFFSET,message.baseY);return;}if(message instanceof ObjectAvatarGestureUpdateMessage_ObjectAvatarGestureUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_GESTURE,message.gesture);this._gestureEndTimestamp=this.time+3000;return;}if(message instanceof ObjectAvatarExpressionUpdateMessage_ObjectAvatarExpressionUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_EXPRESSION,message.expressionType);this._animationEndTimestamp=AvatarAction.getExpressionTimeout(model.getValue(RoomObjectVariable.FIGURE_EXPRESSION));if(this._animationEndTimestamp>-1)this._animationEndTimestamp+=this.time;return;}if(message instanceof ObjectAvatarDanceUpdateMessage_ObjectAvatarDanceUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_DANCE,message.danceStyle);return;}if(message instanceof ObjectAvatarSleepUpdateMessage_ObjectAvatarSleepUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_SLEEP,message.isSleeping?1:0);if(message.isSleeping)this._blinkingStartTimestamp=-1;else this._blinkingStartTimestamp=this.time+this.randomBlinkStartTimestamp();return;}if(message instanceof ObjectAvatarPlayerValueUpdateMessage_ObjectAvatarPlayerValueUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_NUMBER_VALUE,message.value);this._numberValueEndTimestamp=this.time+3000;return;}if(message instanceof ObjectAvatarEffectUpdateMessage_ObjectAvatarEffectUpdateMessage){this.updateAvatarEffect(message.effect,message.delayMilliseconds,model);return;}if(message instanceof ObjectAvatarCarryObjectUpdateMessage_ObjectAvatarCarryObjectUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_CARRY_OBJECT,message.itemType);model.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,0);if(message.itemType===0){this._carryObjectStartTimestamp=0;this._carryObjectEndTimestamp=0;this._allowUseCarryObject=false;}else{this._carryObjectStartTimestamp=this.time;if(message.itemType<AvatarLogic_AvatarLogic.MAX_HAND_ID){this._carryObjectEndTimestamp=0;this._allowUseCarryObject=message.itemType<=AvatarLogic_AvatarLogic.MAX_HAND_USE_ID;}else{this._carryObjectEndTimestamp=this._carryObjectStartTimestamp+1500;this._allowUseCarryObject=false;}}return;}if(message instanceof ObjectAvatarUseObjectUpdateMessage_ObjectAvatarUseObjectUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,message.itemType);return;}if(message instanceof ObjectAvatarSignUpdateMessage_ObjectAvatarSignUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_SIGN,message.signType);this._signEndTimestamp=this.time+5000;return;}if(message instanceof ObjectAvatarFlatControlUpdateMessage_ObjectAvatarFlatControlUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_FLAT_CONTROL,message.level);return;}if(message instanceof ObjectAvatarFigureUpdateMessage_ObjectAvatarFigureUpdateMessage){model.setValue(RoomObjectVariable.FIGURE,message.figure);model.setValue(RoomObjectVariable.GENDER,message.gender);return;}if(message instanceof ObjectAvatarSelectedMessage_ObjectAvatarSelectedMessage){this._selected=message.selected;this._reportedLocation=null;return;}if(message instanceof ObjectAvatarOwnMessage_ObjectAvatarOwnMessage){model.setValue(RoomObjectVariable.OWN_USER,1);return;}}updateAvatarEffect(effect,delay,model){if(effect===AvatarLogic_AvatarLogic.EFFECT_TYPE_SPLASH){this._effectChangeTimeStamp=Nitro_Nitro.instance.time+AvatarLogic_AvatarLogic.EFFECT_SPLASH_LENGTH;this._newEffect=AvatarLogic_AvatarLogic.EFFECT_TYPE_SWIM;}else if(effect===AvatarLogic_AvatarLogic.EFFECT_TYPE_SPLASH_DARK){this._effectChangeTimeStamp=Nitro_Nitro.instance.time+AvatarLogic_AvatarLogic.EFFECT_SPLASH_LENGTH;this._newEffect=AvatarLogic_AvatarLogic.EFFECT_TYPE_SWIM_DARK;}else if(model.getValue(RoomObjectVariable.FIGURE_EFFECT)===AvatarLogic_AvatarLogic.EFFECT_TYPE_SWIM){this._effectChangeTimeStamp=Nitro_Nitro.instance.time+AvatarLogic_AvatarLogic.EFFECT_SPLASH_LENGTH;this._newEffect=effect;effect=AvatarLogic_AvatarLogic.EFFECT_TYPE_SPLASH;}else if(model.getValue(RoomObjectVariable.FIGURE_EFFECT)===AvatarLogic_AvatarLogic.EFFECT_TYPE_SWIM_DARK){this._effectChangeTimeStamp=Nitro_Nitro.instance.time+AvatarLogic_AvatarLogic.EFFECT_SPLASH_LENGTH;this._newEffect=effect;effect=AvatarLogic_AvatarLogic.EFFECT_TYPE_SPLASH_DARK;}else if(delay===0){this._effectChangeTimeStamp=0;}else{this._effectChangeTimeStamp=Nitro_Nitro.instance.time+delay;this._newEffect=effect;return;}model.setValue(RoomObjectVariable.FIGURE_EFFECT,effect);}mouseEvent(event,geometry){let eventType=null;switch(event.type){case MouseEventType.MOUSE_CLICK:eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK;break;case MouseEventType.ROLL_OVER:eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_ENTER;if(this.object.model)this.object.model.setValue(RoomObjectVariable.FIGURE_HIGHLIGHT,1);if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON,this.object));break;case MouseEventType.ROLL_OUT:eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_LEAVE;if(this.object.model)this.object.model.setValue(RoomObjectVariable.FIGURE_HIGHLIGHT,0);if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_ARROW,this.object));break;}if(eventType&&this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectMouseEvent_RoomObjectMouseEvent(eventType,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown));}randomTalkingPauseStartTimestamp(){return 100+Math.random()*200;}randomTalkingPauseEndTimestamp(){return 75+Math.random()*75;}randomBlinkStartTimestamp(){return 4500+Math.random()*1000;}randomBlinkEndTimestamp(){return 50+Math.random()*200;}}AvatarLogic_AvatarLogic.MAX_HAND_ID=999999999;AvatarLogic_AvatarLogic.MAX_HAND_USE_ID=999;AvatarLogic_AvatarLogic.EFFECT_TYPE_SPLASH=28;AvatarLogic_AvatarLogic.EFFECT_SPLASH_LENGTH=500;AvatarLogic_AvatarLogic.EFFECT_TYPE_SWIM=29;AvatarLogic_AvatarLogic.EFFECT_TYPE_SPLASH_DARK=184;AvatarLogic_AvatarLogic.EFFECT_TYPE_SWIM_DARK=185;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/avatar/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureLogic.ts\nclass FurnitureLogic_FurnitureLogic extends MovingObjectLogic_MovingObjectLogic{constructor(){super();this._sizeX=void 0;this._sizeY=void 0;this._sizeZ=void 0;this._centerX=void 0;this._centerY=void 0;this._centerZ=void 0;this._directions=void 0;this._mouseOver=void 0;this._locationOffset=void 0;this._bouncingStep=void 0;this._storedRotateMessage=void 0;this._directionInitialized=void 0;this._sizeX=0;this._sizeY=0;this._sizeZ=0;this._centerX=0;this._centerY=0;this._centerZ=0;this._directions=[];this._mouseOver=false;this._locationOffset=new Vector3d();this._bouncingStep=0;this._storedRotateMessage=null;this._directionInitialized=false;if(FurnitureLogic_FurnitureLogic.BOUNCING_STEPS===-1){FurnitureLogic_FurnitureLogic.BOUNCING_STEPS=Nitro_Nitro.instance.getConfiguration('furni.rotation.bounce.steps',8);}if(FurnitureLogic_FurnitureLogic.BOUNCING_Z===-1){FurnitureLogic_FurnitureLogic.BOUNCING_Z=Nitro_Nitro.instance.getConfiguration('furni.rotation.bounce.height',0.0625);}}getEventTypes(){const types=[RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK,RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN,RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN_LONG,RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW,RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE,RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK,RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK];if(this.widget)types.push(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_WIDGET,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_WIDGET);if(this.contextMenu)types.push(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU);return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){if(!asset)return;const model=this.object&&this.object.model;if(!model)return;if(asset.logic){if(asset.logic.model){const dimensions=asset.logic.model.dimensions;if(dimensions){this._sizeX=dimensions.x;this._sizeY=dimensions.y;this._sizeZ=dimensions.z;this._centerX=this._sizeX/2;this._centerY=this._sizeY/2;this._centerZ=this._sizeZ/2;}const directions=asset.logic.model.directions;if(directions&&directions.length){for(const direction of directions)this._directions.push(direction);this._directions.sort((a,b)=>a-b);}}if(asset.logic.customVars){const variables=asset.logic.customVars.variables;if(variables&&variables.length){model.setValue(RoomObjectVariable.FURNITURE_CUSTOM_VARIABLES,variables);}}}model.setValue(RoomObjectVariable.FURNITURE_SIZE_X,this._sizeX);model.setValue(RoomObjectVariable.FURNITURE_SIZE_Y,this._sizeY);model.setValue(RoomObjectVariable.FURNITURE_SIZE_Z,this._sizeZ);model.setValue(RoomObjectVariable.FURNITURE_CENTER_X,this._centerX);model.setValue(RoomObjectVariable.FURNITURE_CENTER_Y,this._centerY);model.setValue(RoomObjectVariable.FURNITURE_CENTER_Z,this._centerZ);model.setValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS,this._directions);model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,1);}onDispose(){this._storedRotateMessage=null;this._directions=null;super.onDispose();}setObject(object){super.setObject(object);if(object&&object.getLocation().length)this._directionInitialized=true;}getAdClickUrl(model){return model.getValue(RoomObjectVariable.FURNITURE_AD_URL);}handleAdClick(objectId,objectType,clickUrl){if(!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent_RoomObjectRoomAdEvent(RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK,this.object));}update(time){super.update(time);if(this._bouncingStep>0){this._bouncingStep++;if(this._bouncingStep>FurnitureLogic_FurnitureLogic.BOUNCING_STEPS)this._bouncingStep=0;}}processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){this.processDataUpdateMessage(message);return;}if(message instanceof ObjectHeightUpdateMessage_ObjectHeightUpdateMessage){this.processObjectHeightUpdateMessage(message);return;}if(message instanceof ObjectItemDataUpdateMessage_ObjectItemDataUpdateMessage){this.processItemDataUpdateMessage(message);return;}this._mouseOver=false;if(message.location&&message.direction){if(!(message instanceof ObjectMoveUpdateMessage_ObjectMoveUpdateMessage)){const direction=this.object.getDirection();const location=this.object.getLocation();if(direction.x!==message.direction.x&&this._directionInitialized){if(location.x===message.location.x&&location.y===message.location.y&&location.z===message.location.z){this._bouncingStep=1;this._storedRotateMessage=new RoomObjectUpdateMessage(message.location,message.direction);message=null;}}}this._directionInitialized=true;}if(message instanceof ObjectSelectedMessage_ObjectSelectedMessage){if(this.contextMenu&&this.eventDispatcher&&this.object){const eventType=message.selected?RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU:RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(eventType,this.object));}}super.processUpdateMessage(message);}processDataUpdateMessage(message){if(!message)return;this.object.setState(message.state,0);if(message.data)message.data.writeRoomObjectModel(this.object.model);if(message.extra!==null)this.object.model.setValue(RoomObjectVariable.FURNITURE_EXTRAS,message.extra.toString());this.object.model.setValue(RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME,this.lastUpdateTime);}processObjectHeightUpdateMessage(message){if(!message)return;this.object.model.setValue(RoomObjectVariable.FURNITURE_SIZE_Z,message.height);}processItemDataUpdateMessage(message){if(!message)return;this.object.model.setValue(RoomObjectVariable.FURNITURE_ITEMDATA,message.data);}mouseEvent(event,geometry){const adUrl=this.getAdClickUrl(this.object.model);switch(event.type){case MouseEventType.MOUSE_MOVE:if(this.eventDispatcher){const mouseEvent=new RoomObjectMouseEvent_RoomObjectMouseEvent(RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_MOVE,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);mouseEvent.localX=event.localX;mouseEvent.localY=event.localY;mouseEvent.spriteOffsetX=event.spriteOffsetX;mouseEvent.spriteOffsetY=event.spriteOffsetY;this.eventDispatcher.dispatchEvent(mouseEvent);}return;case MouseEventType.ROLL_OVER:if(!this._mouseOver){if(this.eventDispatcher){if(adUrl&&adUrl.indexOf('http')===0){this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent_RoomObjectRoomAdEvent(RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW,this.object));}const mouseEvent=new RoomObjectMouseEvent_RoomObjectMouseEvent(RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_ENTER,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);mouseEvent.localX=event.localX;mouseEvent.localY=event.localY;mouseEvent.spriteOffsetX=event.spriteOffsetX;mouseEvent.spriteOffsetY=event.spriteOffsetY;this.eventDispatcher.dispatchEvent(mouseEvent);}this._mouseOver=true;}return;case MouseEventType.ROLL_OUT:if(this._mouseOver){if(this.eventDispatcher){if(adUrl&&adUrl.indexOf('http')===0){this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent_RoomObjectRoomAdEvent(RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE,this.object));}const mouseEvent=new RoomObjectMouseEvent_RoomObjectMouseEvent(RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_LEAVE,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);mouseEvent.localX=event.localX;mouseEvent.localY=event.localY;mouseEvent.spriteOffsetX=event.spriteOffsetX;mouseEvent.spriteOffsetY=event.spriteOffsetY;this.eventDispatcher.dispatchEvent(mouseEvent);}this._mouseOver=false;}return;case MouseEventType.DOUBLE_CLICK:this.useObject();return;case MouseEventType.MOUSE_CLICK:if(this.eventDispatcher){const mouseEvent=new RoomObjectMouseEvent_RoomObjectMouseEvent(RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);mouseEvent.localX=event.localX;mouseEvent.localY=event.localY;mouseEvent.spriteOffsetX=event.spriteOffsetX;mouseEvent.spriteOffsetY=event.spriteOffsetY;this.eventDispatcher.dispatchEvent(mouseEvent);if(adUrl&&adUrl.indexOf('http')===0){this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent_RoomObjectRoomAdEvent(RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE,this.object));}if(adUrl&&adUrl.length)this.handleAdClick(this.object.id,this.object.type,adUrl);}return;case MouseEventType.MOUSE_DOWN:if(this.eventDispatcher){const mouseEvent=new RoomObjectMouseEvent_RoomObjectMouseEvent(RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);this.eventDispatcher.dispatchEvent(mouseEvent);}return;case MouseEventType.MOUSE_DOWN_LONG:if(this.eventDispatcher){const mouseEvent=new RoomObjectMouseEvent_RoomObjectMouseEvent(RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN_LONG,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);this.eventDispatcher.dispatchEvent(mouseEvent);}return;}}getLocationOffset(){if(this._bouncingStep<=0)return null;this._locationOffset.x=0;this._locationOffset.y=0;if(this._bouncingStep<=FurnitureLogic_FurnitureLogic.BOUNCING_STEPS/2){this._locationOffset.z=FurnitureLogic_FurnitureLogic.BOUNCING_Z*this._bouncingStep;}else{if(this._bouncingStep<=FurnitureLogic_FurnitureLogic.BOUNCING_STEPS){if(this._storedRotateMessage){super.processUpdateMessage(this._storedRotateMessage);this._storedRotateMessage=null;}this._locationOffset.z=FurnitureLogic_FurnitureLogic.BOUNCING_Z*(FurnitureLogic_FurnitureLogic.BOUNCING_STEPS-this._bouncingStep);}}return this._locationOffset;}useObject(){if(!this.object||!this.eventDispatcher)return;const clickUrl=this.getAdClickUrl(this.object.model);if(clickUrl&&clickUrl.length){this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent_RoomObjectRoomAdEvent(RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK,this.object,null,clickUrl));}if(this.widget)this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.OPEN_WIDGET,this.object));this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object));}tearDown(){if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){if(this.widget)this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_WIDGET,this.object));if(this.contextMenu)this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU,this.object));}super.tearDown();}}FurnitureLogic_FurnitureLogic.BOUNCING_STEPS=-1;FurnitureLogic_FurnitureLogic.BOUNCING_Z=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureBadgeDisplayLogic.ts\nclass FurnitureBadgeDisplayLogic_FurnitureBadgeDisplayLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING,RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE];return this.mergeTypes(super.getEventTypes(),types);}processUpdateMessage(message){super.processUpdateMessage(message);if(!this.object)return;if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){const data=message.data;if(data instanceof StringDataType_StringDataType)this.updateBadge(data.getValue(1));return;}if(message instanceof ObjectGroupBadgeUpdateMessage_ObjectGroupBadgeUpdateMessage){if(message.assetName!=='loading_icon'){this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_ASSET_NAME,message.assetName);this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS,1);this.update(Nitro_Nitro.instance.time);}return;}}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING,this.object));}updateBadge(badgeId){if(badgeId==='')return;if(this.eventDispatcher){this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS,-1);this.eventDispatcher.dispatchEvent(new RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent(RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE,this.object,badgeId,false));}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureAchievementResolutionLogic.ts\nclass FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic extends FurnitureBadgeDisplayLogic_FurnitureBadgeDisplayLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED,RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE];return this.mergeTypes(super.getEventTypes(),types);}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectGroupBadgeUpdateMessage_ObjectGroupBadgeUpdateMessage){if(message.assetName!=='loading_icon'){this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_VISIBLE_IN_STATE,FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.BADGE_VISIBLE_IN_STATE);}}if(message instanceof ObjectSelectedMessage_ObjectSelectedMessage){if(!this.eventDispatcher||!this.object)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU,this.object));}}useObject(){if(!this.object||!this.eventDispatcher)return;let event=null;switch(this.object.getState(0)){case FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_NOT_STARTED:case FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_IN_PROGRESS:event=new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN,this.object);break;case FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_ACHIEVED:event=new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING,this.object);break;case FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_FAILED:event=new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED,this.object);break;}if(event)this.eventDispatcher.dispatchEvent(event);}updateBadge(badgeId){if(badgeId===FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.ACH_NOT_SET)return;super.updateBadge(badgeId);}}FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_NOT_STARTED=0;FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_IN_PROGRESS=1;FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_ACHIEVED=2;FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.STATE_RESOLUTION_FAILED=3;FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.ACH_NOT_SET='ach_0';FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic.BADGE_VISIBLE_IN_STATE=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureChangeStateWhenStepOnLogic.ts\nclass FurnitureChangeStateWhenStepOnLogic_FurnitureChangeStateWhenStepOnLogic extends FurnitureLogic_FurnitureLogic{constructor(){super();this.onRoomToObjectOwnAvatarMoveEvent=this.onRoomToObjectOwnAvatarMoveEvent.bind(this);}initialize(asset){super.initialize(asset);if(this.eventDispatcher)this.eventDispatcher.addEventListener(RoomToObjectOwnAvatarMoveEvent_RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent);}tearDown(){if(this.eventDispatcher)this.eventDispatcher.removeEventListener(RoomToObjectOwnAvatarMoveEvent_RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent);super.tearDown();}onRoomToObjectOwnAvatarMoveEvent(event){if(!event||!this.object)return;const location=this.object.getLocation();const targetLocation=event.targetLocation;if(!targetLocation)return;let sizeX=this.object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);let sizeY=this.object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);const direction=(Math.floor(this.object.getDirection().x)+45)%360/90;if(direction===1||direction===3)[sizeX,sizeY]=[sizeY,sizeX];if(targetLocation.x>=location.x&&targetLocation.x<location.x+sizeX&&targetLocation.y>=location.y&&targetLocation.y<location.y+sizeY){this.object.setState(1,0);}else{this.object.setState(0,0);}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureCounterClockLogic.ts\nclass FurnitureCounterClockLogic_FurnitureCounterClockLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),types);}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;let objectEvent=null;switch(event.type){case MouseEventType.DOUBLE_CLICK:switch(event.spriteTag){case'start_stop':objectEvent=new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1);break;case'reset':objectEvent=new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,2);break;}if(this.eventDispatcher&&objectEvent){this.eventDispatcher.dispatchEvent(objectEvent);return;}break;}super.mouseEvent(event,geometry);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/RoomWidgetEnumItemExtradataParameter.ts\nclass RoomWidgetEnumItemExtradataParameter{}RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM='RWEIEP_INFOSTAND_EXTRA_PARAM';RoomWidgetEnumItemExtradataParameter.JUKEBOX='RWEIEP_JUKEBOX';RoomWidgetEnumItemExtradataParameter.USABLE_PRODUCT='RWEIEP_USABLE_PRODUCT';RoomWidgetEnumItemExtradataParameter.SONGDISK='RWEIEP_SONGDISK';RoomWidgetEnumItemExtradataParameter.CRACKABLE_FURNI='RWEIEP_CRACKABLE_FURNI';RoomWidgetEnumItemExtradataParameter.BRANDING_OPTIONS='RWEIEP_BRANDING_OPTIONS';RoomWidgetEnumItemExtradataParameter.USABLE='RWEIEP_USABLE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureCrackableLogic.ts\nclass FurnitureCrackableLogic_FurnitureCrackableLogic extends FurnitureLogic_FurnitureLogic{processUpdateMessage(message){super.processUpdateMessage(message);if(!this.object)return;if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.CRACKABLE_FURNI);}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/TouchEventType.ts\nclass TouchEventType{}TouchEventType.TOUCH_START='touchstart';TouchEventType.TOUCH_MOVE='touchmove';TouchEventType.TOUCH_CANCEL='touchcancel';TouchEventType.TOUCH_END='touchend';TouchEventType.TOUCH_LONG='touchlong';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/AvatarExpressionEnum.ts\nclass AvatarExpressionEnum{constructor(k){this._ordinal=void 0;this._ordinal=k;}get ordinal(){return this._ordinal;}equals(k){return k&&k._ordinal==this._ordinal;}}AvatarExpressionEnum.NONE=new AvatarExpressionEnum(0);AvatarExpressionEnum.WAVE=new AvatarExpressionEnum(1);AvatarExpressionEnum.BLOW=new AvatarExpressionEnum(2);AvatarExpressionEnum.LAUGH=new AvatarExpressionEnum(3);AvatarExpressionEnum.CRY=new AvatarExpressionEnum(4);AvatarExpressionEnum.IDLE=new AvatarExpressionEnum(5);AvatarExpressionEnum.JUMP=new AvatarExpressionEnum(6);AvatarExpressionEnum.RESPECT=new AvatarExpressionEnum(7);\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/ContextMenuEnum.ts\nclass ContextMenuEnum{}ContextMenuEnum.DUMMY='DUMMY';ContextMenuEnum.FRIEND_FURNITURE='FRIEND_FURNITURE';ContextMenuEnum.MONSTERPLANT_SEED='MONSTERPLANT_SEED';ContextMenuEnum.MYSTERY_BOX='MYSTERY_BOX';ContextMenuEnum.EFFECT_BOX='EFFECT_BOX';ContextMenuEnum.MYSTERY_TROPHY='MYSTERY_TROPHY';ContextMenuEnum.RANDOM_TELEPORT='RANDOM_TELEPORT';ContextMenuEnum.PURCHASABLE_CLOTHING='PURCHASABLE_CLOTHING';ContextMenuEnum.GENERIC_USABLE='GENERIC_USABLE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/FriendWidgetEngravingWidgetTypeEnum.ts\nclass FriendWidgetEngravingWidgetTypeEnum{}FriendWidgetEngravingWidgetTypeEnum.LOVE_LOCK=0;FriendWidgetEngravingWidgetTypeEnum.CARVE_A_TREE=1;FriendWidgetEngravingWidgetTypeEnum.FRIENDS_PORTRAIT=2;FriendWidgetEngravingWidgetTypeEnum.WILD_WEST_WANTED=3;FriendWidgetEngravingWidgetTypeEnum.HABBOWEEN=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/RoomWidgetEnum.ts\nclass RoomWidgetEnum{}RoomWidgetEnum.CHAT_WIDGET='RWE_CHAT_WIDGET';RoomWidgetEnum.INFOSTAND='RWE_INFOSTAND';RoomWidgetEnum.ME_MENU='RWE_ME_MENU';RoomWidgetEnum.CHAT_INPUT_WIDGET='RWE_CHAT_INPUT_WIDGET';RoomWidgetEnum.FURNI_PLACEHOLDER='RWE_FURNI_PLACEHOLDER';RoomWidgetEnum.FURNI_CREDIT_WIDGET='RWE_FURNI_CREDIT_WIDGET';RoomWidgetEnum.FURNI_STICKIE_WIDGET='RWE_FURNI_STICKIE_WIDGET';RoomWidgetEnum.FURNI_TROPHY_WIDGET='RWE_FURNI_TROPHY_WIDGET';RoomWidgetEnum.FURNI_LOVELOCK_WIDGET='RWE_FURNI_LOVELOCK_WIDGET';RoomWidgetEnum.FURNI_PRESENT_WIDGET='RWE_FURNI_PRESENT_WIDGET';RoomWidgetEnum.FURNI_ECOTRONBOX_WIDGET='RWE_FURNI_ECOTRONBOX_WIDGET';RoomWidgetEnum.FURNI_PET_PACKAGE_WIDGET='RWE_FURNI_PET_PACKAGE_WIDGET';RoomWidgetEnum.PLAYLIST_EDITOR_WIDGET='RWE_PLAYLIST_EDITOR_WIDGET';RoomWidgetEnum.DOORBELL='RWE_DOORBELL';RoomWidgetEnum.LOADINGBAR='RWE_LOADINGBAR';RoomWidgetEnum.ROOM_QUEUE='RWE_ROOM_QUEUE';RoomWidgetEnum.ROOM_POLL='RWE_ROOM_POLL';RoomWidgetEnum.ROOM_VOTE='RWE_ROOM_VOTE';RoomWidgetEnum.USER_CHOOSER='RWE_USER_CHOOSER';RoomWidgetEnum.FURNI_CHOOSER='RWE_FURNI_CHOOSER';RoomWidgetEnum.ROOM_DIMMER='RWE_ROOM_DIMMER';RoomWidgetEnum.FRIEND_REQUEST='RWE_FRIEND_REQUEST';RoomWidgetEnum.CLOTHING_CHANGE='RWE_CLOTHING_CHANGE';RoomWidgetEnum.CONVERSION_TRACKING='RWE_CONVERSION_TRACKING';RoomWidgetEnum.USER_NOTIFICATION='RWE_USER_NOTIFICATION';RoomWidgetEnum.FRIENDS_BAR='RWE_FRIENDS_BAR';RoomWidgetEnum.PURSE_WIDGET='RWE_PURSE_WIDGET';RoomWidgetEnum.AVATAR_INFO='RWE_AVATAR_INFO';RoomWidgetEnum.WELCOME_GIFT='RWE_WELCOME_GIFT';RoomWidgetEnum.SPAMWALL_POSTIT_WIDGET='RWE_SPAMWALL_POSTIT_WIDGET';RoomWidgetEnum.EFFECTS='RWE_EFFECTS';RoomWidgetEnum.MANNEQUIN='RWE_MANNEQUIN';RoomWidgetEnum.FURNITURE_CONTEXT_MENU='RWE_FURNITURE_CONTEXT_MENU';RoomWidgetEnum.LOCATION_WIDGET='RWE_LOCATION_WIDGET';RoomWidgetEnum.CAMERA='RWE_CAMERA';RoomWidgetEnum.ROOM_THUMBNAIL_CAMERA='RWE_ROOM_THUMBNAIL_CAMERA';RoomWidgetEnum.ROOM_BACKGROUND_COLOR='RWE_ROOM_BACKGROUND_COLOR';RoomWidgetEnum.CUSTOM_USER_NOTIFICATION='RWE_CUSTOM_USER_NOTIFICATION';RoomWidgetEnum.FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING='RWE_FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING';RoomWidgetEnum.FRIEND_FURNI_CONFIRM='RWE_FRIEND_FURNI_CONFIRM';RoomWidgetEnum.FRIEND_FURNI_ENGRAVING='RWE_FRIEND_FURNI_ENGRAVING';RoomWidgetEnum.HIGH_SCORE_DISPLAY='RWE_HIGH_SCORE_DISPLAY';RoomWidgetEnum.INTERNAL_LINK='RWE_INTERNAL_LINK';RoomWidgetEnum.CUSTOM_STACK_HEIGHT='RWE_CUSTOM_STACK_HEIGHT';RoomWidgetEnum.YOUTUBE='RWE_YOUTUBE';RoomWidgetEnum.RENTABLESPACE='RWE_RENTABLESPACE';RoomWidgetEnum.VIMEO='RWE_VIMEO';RoomWidgetEnum.ROOM_TOOLS='RWE_ROOM_TOOLS';RoomWidgetEnum.EXTERNAL_IMAGE='RWE_EXTERNAL_IMAGE';RoomWidgetEnum.WORD_QUIZZ='RWE_WORD_QUIZZ';RoomWidgetEnum.UI_HELP_BUBBLE='RWE_UI_HELP_BUBBLE';RoomWidgetEnum.ROOM_LINK='RWE_ROOM_LINK';RoomWidgetEnum.CRAFTING='RWE_CRAFTING';RoomWidgetEnum.ROOMGAME_CHECKERS='RWE_GAME_CHECKERS';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/RoomWidgetFurniInfoUsagePolicyEnum.ts\nclass RoomWidgetFurniInfoUsagePolicyEnum{}RoomWidgetFurniInfoUsagePolicyEnum.NOBODY=0;RoomWidgetFurniInfoUsagePolicyEnum.CONTROLLER=1;RoomWidgetFurniInfoUsagePolicyEnum.EVERYBODY=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/SystemChatStyleEnum.ts\nclass SystemChatStyleEnum{}SystemChatStyleEnum.NORMAL=0;SystemChatStyleEnum.GENERIC=1;SystemChatStyleEnum.BOT=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/enums/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/widget/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/ui/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureCraftingGizmoLogic.ts\nclass FurnitureCraftingGizmoLogic_FurnitureCraftingGizmoLogic extends FurnitureLogic_FurnitureLogic{get widget(){return RoomWidgetEnum.CRAFTING;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureCreditLogic.ts\nclass FurnitureCreditLogic_FurnitureCreditLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CREDITFURNI];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);let creditValue=0;if(asset.logic){if(asset.logic.credits&&asset.logic.credits!==''&&asset.logic.credits.length>0)creditValue=parseInt(asset.logic.credits);}this.object.model.setValue(RoomObjectVariable.FURNITURE_CREDIT_VALUE,creditValue);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CREDITFURNI,this.object));super.useObject();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureMultiStateLogic.ts\nclass FurnitureMultiStateLogic_FurnitureMultiStateLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_ARROW];return this.mergeTypes(super.getEventTypes(),types);}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;switch(event.type){case MouseEventType.ROLL_OVER:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON,this.object));break;case MouseEventType.ROLL_OUT:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_ARROW,this.object));break;}super.mouseEvent(event,geometry);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureCustomStackHeightLogic.ts\nclass FurnitureCustomStackHeightLogic_FurnitureCustomStackHeightLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{initialize(asset){super.initialize(asset);if(this.object&&this.object.model)this.object.model.setValue(RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE,1);}get widget(){return RoomWidgetEnum.CUSTOM_STACK_HEIGHT;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureDiceLogic.ts\nclass FurnitureDiceLogic_FurnitureDiceLogic extends FurnitureLogic_FurnitureLogic{constructor(){super();this._noTags=void 0;this._noTagsLastStateActivate=void 0;this._noTags=false;this._noTagsLastStateActivate=false;}getEventTypes(){const types=[RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_ACTIVATE,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_OFF];return this.mergeTypes(super.getEventTypes(),types);}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;let objectEvent=null;switch(event.type){case MouseEventType.DOUBLE_CLICK:if(this._noTags){if(!this._noTagsLastStateActivate||this.object.getState(0)===0||this.object.getState(0)===100){objectEvent=new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_ACTIVATE,this.object);this._noTagsLastStateActivate=true;}else{objectEvent=new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_OFF,this.object);this._noTagsLastStateActivate=false;}}else{if(event.spriteTag==='activate'||this.object.getState(0)===0||this.object.getState(0)===100){objectEvent=new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_ACTIVATE,this.object);}else if(event.spriteTag==='deactivate'){objectEvent=new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.DICE_OFF,this.object);}}if(objectEvent&&this.eventDispatcher)this.eventDispatcher.dispatchEvent(objectEvent);return;}super.mouseEvent(event,geometry);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureEcotronBoxLogic.ts\nclass FurnitureEcotronBoxLogic_FurnitureEcotronBoxLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ECOTRONBOX];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ECOTRONBOX,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureEditableInternalLinkLogic.ts\nclass FurnitureEditableInternalLinkLogic_FurnitureEditableInternalLinkLogic extends FurnitureLogic_FurnitureLogic{constructor(){super();this._showStateOnceRendered=void 0;this._updateCount=void 0;this._showStateOnceRendered=false;this._updateCount=0;}getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.action){if(asset.logic.action.startState===1)this._showStateOnceRendered=true;}}}update(time){super.update(time);if(!this._showStateOnceRendered)return;this._updateCount++;if(this._showStateOnceRendered&&this._updateCount>20){this.setAutomaticStateIndex(1);this._showStateOnceRendered=false;}}setAutomaticStateIndex(state){if(!this.object)return;if(this.object.model){this.object.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,state);}}mouseEvent(event,geometry){if(!event||!geometry)return;if(event.type===MouseEventType.DOUBLE_CLICK){this.setAutomaticStateIndex(0);}super.mouseEvent(event,geometry);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureEditableRoomLinkLogic.ts\nclass FurnitureEditableRoomLinkLogic_FurnitureEditableRoomLinkLogic extends FurnitureLogic_FurnitureLogic{constructor(){super(...arguments);this._timer=void 0;}getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ROOM_LINK];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.action){if(asset.logic.action.link&&asset.logic.action.link!==''&&asset.logic.action.link.length>0){this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK,asset.logic.action.link);}}}}onDispose(){if(this._timer){clearTimeout(this._timer);this._timer=null;}super.onDispose();}setAutomaticStateIndex(state){if(!this.object)return;if(this.object.model){this.object.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,state);}}useObject(){this.setAutomaticStateIndex(1);if(this._timer){clearTimeout(this._timer);this._timer=null;}this._timer=setTimeout(()=>{this.setAutomaticStateIndex(0);this._timer=null;},2500);if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.ROOM_LINK,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureEffectBoxLogic.ts\nclass FurnitureEffectBoxLogic_FurnitureEffectBoxLogic extends FurnitureLogic_FurnitureLogic{constructor(){super(...arguments);this._timer=void 0;}getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG,this.object));}get contextMenu(){return ContextMenuEnum.EFFECT_BOX;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureExternalImageLogic.ts\nclass FurnitureExternalImageLogic_FurnitureExternalImageLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{initialize(asset){super.initialize(asset);if(!asset)return;if(this.object&&this.object.model){let maskType='';if(asset.logic){if(asset.logic.maskType&&asset.logic.maskType!==''&&asset.logic.maskType.length>0)maskType=asset.logic.maskType;}this.object.model.setValue(RoomObjectVariable.FURNITURE_USES_PLANE_MASK,0);this.object.model.setValue(RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE,maskType);}}get widget(){return RoomWidgetEnum.EXTERNAL_IMAGE;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureFireworksLogic.ts\nclass FurnitureFireworksLogic_FurnitureFireworksLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.particleSystems&&asset.logic.particleSystems.length){this.object.model.setValue(RoomObjectVariable.FURNITURE_FIREWORKS_DATA,asset.logic.particleSystems);}}}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;let objectEvent=null;switch(event.type){case MouseEventType.DOUBLE_CLICK:switch(event.spriteTag){case'start_stop':objectEvent=new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1);break;case'reset':objectEvent=new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,2);break;}if(this.eventDispatcher&&objectEvent){this.eventDispatcher.dispatchEvent(objectEvent);return;}break;}super.mouseEvent(event,geometry);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,0));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureFloorHoleLogic.ts\nclass FurnitureFloorHoleLogic_FurnitureFloorHoleLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super();this._currentState=void 0;this._currentLocation=void 0;this._currentState=-1;this._currentLocation=null;}getEventTypes(){const types=[RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.ADD_HOLE,RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.REMOVE_HOLE];return this.mergeTypes(super.getEventTypes(),types);}onDispose(){if(this._currentState===FurnitureFloorHoleLogic_FurnitureFloorHoleLogic.STATE_HOLE){this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.REMOVE_HOLE,this.object));}super.onDispose();}update(time){super.update(time);this.handleAutomaticStateUpdate();}processUpdateMessage(message){super.processUpdateMessage(message);if(!this.object)return;if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){this.handleStateUpdate(this.object.getState(0));}const location=this.object.getLocation();if(!this._currentLocation){this._currentLocation=new Vector3d();}else{if(location.x!==this._currentLocation.x||location.y!==this._currentLocation.y){if(this._currentState===FurnitureFloorHoleLogic_FurnitureFloorHoleLogic.STATE_HOLE){if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.ADD_HOLE,this.object));}}}this._currentLocation.assign(location);}handleStateUpdate(state){if(state===this._currentState)return;if(this.eventDispatcher){if(state===FurnitureFloorHoleLogic_FurnitureFloorHoleLogic.STATE_HOLE){this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.ADD_HOLE,this.object));}else if(this._currentState===FurnitureFloorHoleLogic_FurnitureFloorHoleLogic.STATE_HOLE){this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent_RoomObjectFloorHoleEvent.REMOVE_HOLE,this.object));}}this._currentState=state;}handleAutomaticStateUpdate(){if(!this.object)return;const model=this.object.model;if(!model)return;const stateIndex=model.getValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX);if(!isNaN(stateIndex))this.handleStateUpdate(stateIndex%2);}}FurnitureFloorHoleLogic_FurnitureFloorHoleLogic.STATE_HOLE=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureFriendFurniLogic.ts\nclass FurnitureFriendFurniLogic_FurnitureFriendFurniLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super(...arguments);this._state=-1;}initialize(asset){super.initialize(asset);if(this.object)this.object.model.setValue(RoomObjectVariable.FURNITURE_FRIENDFURNI_ENGRAVING,this.engravingDialogType);}processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){const data=message.data;if(data){this._state=data.state;}else{this._state=message.state;}}super.processUpdateMessage(message);}getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;if(this._state===FurnitureFriendFurniLogic_FurnitureFriendFurniLogic.STATE_LOCKED){this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING,this.object));}else{super.useObject();}}get engravingDialogType(){return 0;}get contextMenu(){return this._state===FurnitureFriendFurniLogic_FurnitureFriendFurniLogic.STATE_UNLOCKED?ContextMenuEnum.FRIEND_FURNITURE:ContextMenuEnum.DUMMY;}}FurnitureFriendFurniLogic_FurnitureFriendFurniLogic.STATE_UNINITIALIZED=-1;FurnitureFriendFurniLogic_FurnitureFriendFurniLogic.STATE_UNLOCKED=0;FurnitureFriendFurniLogic_FurnitureFriendFurniLogic.STATE_LOCKED=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectAdUpdateMessage.ts\nclass ObjectAdUpdateMessage_ObjectAdUpdateMessage extends RoomObjectUpdateMessage{constructor(type){super(null,null);this._type=void 0;this._type=type;}get type(){return this._type;}}ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADED='ROAUM_IMAGE_LOADED';ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADING_FAILED='ROAUM_IMAGE_FAILED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/ObjectRoomMapUpdateMessage.ts\nclass ObjectRoomMapUpdateMessage_ObjectRoomMapUpdateMessage extends RoomObjectUpdateMessage{constructor(mapData){super(null,null);this._type=void 0;this._mapData=void 0;this._type=ObjectRoomMapUpdateMessage_ObjectRoomMapUpdateMessage.UPDATE_MAP;this._mapData=mapData;}get type(){return this._type;}get mapData(){return this._mapData;}}ObjectRoomMapUpdateMessage_ObjectRoomMapUpdateMessage.UPDATE_MAP='RORMUM_UPDATE_MAP';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/messages/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureGuildCustomizedLogic.ts\nclass FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{getEventTypes(){const types=[RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU];return this.mergeTypes(super.getEventTypes(),types);}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){const data=message.data;if(data instanceof StringDataType_StringDataType){this.updateGroupId(data.getValue(FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.GROUPID_KEY));this.updateBadge(data.getValue(FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.BADGE_KEY));this.updateColors(data.getValue(FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.COLOR1_KEY),data.getValue(FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.COLOR2_KEY));}}else if(message instanceof ObjectGroupBadgeUpdateMessage_ObjectGroupBadgeUpdateMessage){if(message.assetName!=='loading_icon'){this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME,message.assetName);this.update(Nitro_Nitro.instance.time);}}else if(message instanceof ObjectSelectedMessage_ObjectSelectedMessage){if(!message.selected){this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU,this.object));}}}updateGroupId(id){this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID,parseInt(id));}updateBadge(badge){this.eventDispatcher.dispatchEvent(new RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent(RoomObjectBadgeAssetEvent_RoomObjectBadgeAssetEvent.LOAD_BADGE,this.object,badge,true));}updateColors(color1,color2){this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1,parseInt(color1,16));this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2,parseInt(color2,16));}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;switch(event.type){case MouseEventType.MOUSE_CLICK:this.openContextMenu();}super.mouseEvent(event,geometry);}openContextMenu(){this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU,this.object));}}FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.GROUPID_KEY=1;FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.BADGE_KEY=2;FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.COLOR1_KEY=3;FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic.COLOR2_KEY=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureGroupForumTerminalLogic.ts\nclass FurnitureGroupForumTerminalLogic_FurnitureGroupForumTerminalLogic extends FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),types);}updateGroupId(id){super.updateGroupId(id);this.object.model.setValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK,`groupforum/${id}`);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK,this.object));super.useObject();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureHabboWheelLogic.ts\nclass FurnitureHabboWheelLogic_FurnitureHabboWheelLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.USE_HABBOWHEEL];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.USE_HABBOWHEEL,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureHighScoreLogic.ts\nclass FurnitureHighScoreLogic_FurnitureHighScoreLogic extends FurnitureLogic_FurnitureLogic{constructor(){super(...arguments);this._state=-1;}getEventTypes(){return[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY];}tearDown(){if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY,this.object));}super.tearDown();}processUpdateMessage(message){super.processUpdateMessage(message);if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)!==1)return;if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){if(message.state===FurnitureHighScoreLogic_FurnitureHighScoreLogic.SHOW_WIDGET_IN_STATE){this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY,this.object));}else{this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY,this.object));}this._state=message.state;}}}FurnitureHighScoreLogic_FurnitureHighScoreLogic.SHOW_WIDGET_IN_STATE=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureHockeyScoreLogic.ts\nclass FurnitureHockeyScoreLogic_FurnitureHockeyScoreLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),types);}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;let objectEvent=null;switch(event.type){case MouseEventType.DOUBLE_CLICK:switch(event.spriteTag){case'off':objectEvent=new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,3);break;}break;case MouseEventType.MOUSE_CLICK:switch(event.spriteTag){case'inc':objectEvent=new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,2);break;case'dec':objectEvent=new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1);break;}break;}if(this.eventDispatcher&&objectEvent){this.eventDispatcher.dispatchEvent(objectEvent);return;}super.mouseEvent(event,geometry);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,3));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/enums/FriendFurniEngravingWidgetType.ts\nclass FriendFurniEngravingWidgetType{}FriendFurniEngravingWidgetType.LOVE_LOCK=0;FriendFurniEngravingWidgetType.CARVE_A_TREE=1;FriendFurniEngravingWidgetType.FRIENDS_PORTRAIT=2;FriendFurniEngravingWidgetType.WILD_WEST_WANTED=3;FriendFurniEngravingWidgetType.HABBOWEEN=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/enums/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureHweenLovelockLogic.ts\nclass FurnitureHweenLovelockLogic_FurnitureHweenLovelockLogic extends FurnitureFriendFurniLogic_FurnitureFriendFurniLogic{get engravingDialogType(){return FriendFurniEngravingWidgetType.HABBOWEEN;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureIceStormLogic.ts\nclass FurnitureIceStormLogic_FurnitureIceStormLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super();this._nextState=void 0;this._nextStateExtra=void 0;this._nextStateTimestamp=void 0;this._nextState=0;this._nextStateTimestamp=0;}update(totalTimeRunning){if(this._nextStateTimestamp>0&&totalTimeRunning>=this._nextStateTimestamp){this._nextStateTimestamp=0;const data=new LegacyDataType_LegacyDataType();data.setString(this._nextState.toString());super.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(this._nextState,data,this._nextStateExtra));}super.update(totalTimeRunning);}processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){this.processUpdate(message);return;}super.processUpdateMessage(message);}processUpdate(message){if(!message)return;const state=~~(message.state/1000);const time=~~(message.state%1000);if(!time){this._nextStateTimestamp=0;const data=new LegacyDataType_LegacyDataType();data.setString(state.toString());super.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(state,data,message.extra));}else{this._nextState=state;this._nextStateExtra=message.extra;this._nextStateTimestamp=this.time+time;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureInternalLinkLogic.ts\nclass FurnitureInternalLinkLogic_FurnitureInternalLinkLogic extends FurnitureLogic_FurnitureLogic{constructor(){super(...arguments);this._showStateOnceRendered=false;this._updateCount=0;}getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.action){this.object.model.setValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK,asset.logic.action.link);if(asset.logic.action.startState===1)this._showStateOnceRendered=true;}}}update(time){super.update(time);if(!this._showStateOnceRendered)return;this._updateCount++;if(this._showStateOnceRendered&&this._updateCount===20){this.setAutomaticStateIndex(1);this._showStateOnceRendered=false;}}setAutomaticStateIndex(state){if(!this.object)return;if(this.object.model){this.object.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,state);}}mouseEvent(event,geometry){if(!event||!geometry)return;if(event.type===MouseEventType.DOUBLE_CLICK&&this._showStateOnceRendered){this.setAutomaticStateIndex(0);}super.mouseEvent(event,geometry);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.INERNAL_LINK,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureJukeboxLogic.ts\nclass FurnitureJukeboxLogic_FurnitureJukeboxLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super(...arguments);this._disposeEventsAllowed=false;this._isInitialized=false;this._currentState=-1;}getEventTypes(){const types=[RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_START,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_INIT,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR];return this.mergeTypes(super.getEventTypes(),types);}onDispose(){this.requestDispose();super.onDispose();}processUpdateMessage(message){super.processUpdateMessage(message);if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)!==1)return;if(!this._isInitialized)this.requestInit();this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.JUKEBOX);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){const state=this.object.getState(0);if(state!==this._currentState){this._currentState=state;if(state===1)this.requestPlayList();else if(state===0)this.requestStopPlaying();}}}requestInit(){if(!this.object||!this.eventDispatcher)return;this._disposeEventsAllowed=true;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_INIT,this.object));this._isInitialized=true;}requestPlayList(){if(!this.object||!this.eventDispatcher)return;this._disposeEventsAllowed=true;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_START,this.object));}requestStopPlaying(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP,this.object));}requestDispose(){if(!this._disposeEventsAllowed||!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE,this.object));}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR,this.object));this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object,-1));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureLoveLockLogic.ts\nclass FurnitureLoveLockLogic_FurnitureLoveLockLogic extends FurnitureFriendFurniLogic_FurnitureFriendFurniLogic{get engravingDialogType(){return FriendFurniEngravingWidgetType.LOVE_LOCK;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureMannequinLogic.ts\nclass FurnitureMannequinLogic_FurnitureMannequinLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MANNEQUIN];return this.mergeTypes(super.getEventTypes(),types);}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){message.data.writeRoomObjectModel(this.object.model);this.processObjectData();}}processObjectData(){if(!this.object||!this.object.model)return;const data=new MapDataType_MapDataType();data.initializeFromRoomObjectModel(this.object.model);this.object.model.setValue(RoomObjectVariable.FURNITURE_MANNEQUIN_GENDER,data.getValue(FurnitureMannequinLogic_FurnitureMannequinLogic.GENDER));this.object.model.setValue(RoomObjectVariable.FURNITURE_MANNEQUIN_FIGURE,data.getValue(FurnitureMannequinLogic_FurnitureMannequinLogic.FIGURE));this.object.model.setValue(RoomObjectVariable.FURNITURE_MANNEQUIN_NAME,data.getValue(FurnitureMannequinLogic_FurnitureMannequinLogic.OUTFIT_NAME));}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MANNEQUIN,this.object));}}FurnitureMannequinLogic_FurnitureMannequinLogic.GENDER='GENDER';FurnitureMannequinLogic_FurnitureMannequinLogic.FIGURE='FIGURE';FurnitureMannequinLogic_FurnitureMannequinLogic.OUTFIT_NAME='OUTFIT_NAME';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureMonsterplantSeedLogic.ts\nclass FurnitureMonsterplantSeedLogic_FurnitureMonsterplantSeedLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,this.object));}get contextMenu(){return ContextMenuEnum.MONSTERPLANT_SEED;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureMultiHeightLogic.ts\nclass FurnitureMultiHeightLogic_FurnitureMultiHeightLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{initialize(asset){super.initialize(asset);if(this.object&&this.object.model)this.object.model.setValue(RoomObjectVariable.FURNITURE_IS_VARIABLE_HEIGHT,1);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureMysteryBoxLogic.ts\nclass FurnitureMysteryBoxLogic_FurnitureMysteryBoxLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG,this.object));}get contextMenu(){return ContextMenuEnum.MYSTERY_BOX;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureMysteryTrophyLogic.ts\nclass FurnitureMysteryTrophyLogic_FurnitureMysteryTrophyLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG,this.object));}get contextMenu(){return ContextMenuEnum.MYSTERY_TROPHY;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureOneWayDoorLogic.ts\nclass FurnitureOneWayDoorLogic_FurnitureOneWayDoorLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurniturePetCustomizationLogic.ts\nclass FurniturePetCustomizationLogic_FurniturePetCustomizationLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU];return this.mergeTypes(super.getEventTypes(),types);}processUpdateMessage(message){super.processUpdateMessage(message);if(!this.object)return;if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.USABLE_PRODUCT);}}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurniturePlaceholderLogic.ts\nclass FurniturePlaceholderLogic_FurniturePlaceholderLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PLACEHOLDER];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PLACEHOLDER,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurniturePlanetSystemLogic.ts\nclass FurniturePlanetSystemLogic_FurniturePlanetSystemLogic extends FurnitureLogic_FurnitureLogic{initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.planetSystems){this.object.model.setValue(RoomObjectVariable.FURNITURE_PLANETSYSTEM_DATA,asset.logic.planetSystems);}}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurniturePresentLogic.ts\nclass FurniturePresentLogic_FurniturePresentLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PRESENT];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.particleSystems&&asset.logic.particleSystems.length){this.object.model.setValue(RoomObjectVariable.FURNITURE_FIREWORKS_DATA,asset.logic.particleSystems);}}}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){message.data.writeRoomObjectModel(this.object.model);this.updateStuffData();}if(message instanceof ObjectModelDataUpdateMessage_ObjectModelDataUpdateMessage){if(message.numberKey===RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION){this.object.model.setValue(RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION,message.numberValue);}}}updateStuffData(){if(!this.object||!this.object.model)return;const stuffData=new MapDataType_MapDataType();stuffData.initializeFromRoomObjectModel(this.object.model);const message=stuffData.getValue(FurniturePresentLogic_FurniturePresentLogic.MESSAGE);const data=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);if(!message&&typeof data==='string'){this.object.model.setValue(RoomObjectVariable.FURNITURE_DATA,data.substr(1));}else{this.object.model.setValue(RoomObjectVariable.FURNITURE_DATA,stuffData.getValue(FurniturePresentLogic_FurniturePresentLogic.MESSAGE));}this.writeToModel(RoomObjectVariable.FURNITURE_TYPE_ID,stuffData.getValue(FurniturePresentLogic_FurniturePresentLogic.PRODUCT_CODE));this.writeToModel(RoomObjectVariable.FURNITURE_PURCHASER_NAME,stuffData.getValue(FurniturePresentLogic_FurniturePresentLogic.PURCHASER_NAME));this.writeToModel(RoomObjectVariable.FURNITURE_PURCHASER_FIGURE,stuffData.getValue(FurniturePresentLogic_FurniturePresentLogic.PURCHASER_FIGURE));}writeToModel(key,value){if(!value)return;this.object.model.setValue(key,value);}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;switch(event.type){case MouseEventType.ROLL_OVER:this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON,this.object));break;case MouseEventType.ROLL_OUT:this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_ARROW,this.object));break;}super.mouseEvent(event,geometry);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PRESENT,this.object));}}FurniturePresentLogic_FurniturePresentLogic.MESSAGE='MESSAGE';FurniturePresentLogic_FurniturePresentLogic.PRODUCT_CODE='PRODUCT_CODE';FurniturePresentLogic_FurniturePresentLogic.EXTRA_PARAM='EXTRA_PARAM';FurniturePresentLogic_FurniturePresentLogic.PURCHASER_NAME='PURCHASER_NAME';FurniturePresentLogic_FurniturePresentLogic.PURCHASER_FIGURE='PURCHASER_FIGURE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurniturePurchaseableClothingLogic.ts\nclass FurniturePurchaseableClothingLogic_FurniturePurchaseableClothingLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,this.object));}get contextMenu(){return ContextMenuEnum.PURCHASABLE_CLOTHING;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurniturePushableLogic.ts\nclass FurniturePushableLogic_FurniturePushableLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super();this._oldLocation=void 0;this.updateInterval=MovingObjectLogic_MovingObjectLogic.DEFAULT_UPDATE_INTERVAL;this._oldLocation=new Vector3d();}processUpdateMessage(message){if(!message)return;const isMoveMessage=message instanceof ObjectMoveUpdateMessage_ObjectMoveUpdateMessage;if(this.object&&!isMoveMessage&&message.location){const location=this.object.getLocation();const difference=Vector3d.dif(message.location,location);if(difference){if(Math.abs(difference.x)<2&&Math.abs(difference.y)<2){let prevLocation=location;if(Math.abs(difference.x)>1||Math.abs(difference.y)>1){prevLocation=Vector3d.sum(location,Vector3d.product(difference,0.5));}super.processUpdateMessage(new ObjectMoveUpdateMessage_ObjectMoveUpdateMessage(prevLocation,message.location,message.direction));return;}}}if(message.location&&!isMoveMessage)super.processUpdateMessage(new ObjectMoveUpdateMessage_ObjectMoveUpdateMessage(message.location,message.location,message.direction));if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){if(message.state>0){this.updateInterval=MovingObjectLogic_MovingObjectLogic.DEFAULT_UPDATE_INTERVAL/this.getUpdateIntervalValue(message.state);}else{this.updateInterval=1;}this.handleDataUpdate(message);return;}if(isMoveMessage&&message.isSlide)this.updateInterval=MovingObjectLogic_MovingObjectLogic.DEFAULT_UPDATE_INTERVAL;super.processUpdateMessage(message);}getUpdateIntervalValue(value){return value/FurniturePushableLogic_FurniturePushableLogic.MAX_ANIMATION_COUNT;}getAnimationValue(value){return value%FurniturePushableLogic_FurniturePushableLogic.MAX_ANIMATION_COUNT;}handleDataUpdate(message){const animation=this.getAnimationValue(message.state);if(animation!==message.state){const legacyStuff=new LegacyDataType_LegacyDataType();legacyStuff.setString(animation.toString());message=new ObjectDataUpdateMessage_ObjectDataUpdateMessage(animation,legacyStuff,message.extra);}super.processUpdateMessage(message);}update(time){if(!this.object)return;this._oldLocation.assign(this.object.getLocation());super.update(time);if(Vector3d.dif(this.object.getLocation(),this._oldLocation).length!==0)return;if(this.object.getState(0)!==FurniturePushableLogic_FurniturePushableLogic.ANIMATION_NOT_MOVING)this.object.setState(FurniturePushableLogic_FurniturePushableLogic.ANIMATION_NOT_MOVING,0);}}FurniturePushableLogic_FurniturePushableLogic.ANIMATION_NOT_MOVING=0;FurniturePushableLogic_FurniturePushableLogic.ANIMATION_MOVING=1;FurniturePushableLogic_FurniturePushableLogic.MAX_ANIMATION_COUNT=10;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRandomStateLogic.ts\nclass FurnitureRandomStateLogic_FurnitureRandomStateLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_RANDOM];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_RANDOM,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRandomTeleportLogic.ts\nclass FurnitureRandomTeleportLogic_FurnitureRandomTeleportLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{get contextMenu(){return ContextMenuEnum.RANDOM_TELEPORT;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRentableSpaceLogic.ts\nclass FurnitureRentableSpaceLogic_FurnitureRentableSpaceLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID];return this.mergeTypes(super.getEventTypes(),types);}update(time){super.update(time);if(this.object&&this.object.model){if(!this.object.model.getValue(RoomObjectVariable.SESSION_CURRENT_USER_ID)){this.eventDispatcher.dispatchEvent(new RoomObjectDataRequestEvent_RoomObjectDataRequestEvent(RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID,this.object));}const renterId=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA).getValue('renterId');const userId=this.object.model.getValue(RoomObjectVariable.SESSION_CURRENT_USER_ID);if(renterId){if(parseInt(renterId)===userId)this.object.setState(2,0);else this.object.setState(1,0);}else{this.object.setState(0,0);}}}get widget(){return RoomWidgetEnum.RENTABLESPACE;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRoomBackgroundColorLogic.ts\nclass FurnitureRoomBackgroundColorLogic_FurnitureRoomBackgroundColorLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super();this._roomColorUpdated=void 0;this._roomColorUpdated=false;}getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BACKGROUND_COLOR,RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR];return this.mergeTypes(super.getEventTypes(),types);}onDispose(){if(this._roomColorUpdated){if(this.eventDispatcher&&this.object){const realRoomObject=this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT);if(realRoomObject===1){this.eventDispatcher.dispatchEvent(new RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent(RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR,this.object,false,0,0,0));}}this._roomColorUpdated=false;}super.onDispose();}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){message.data.writeRoomObjectModel(this.object.model);const realRoomObject=this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT);if(realRoomObject===1)this.processColorUpdate();}}processColorUpdate(){if(!this.object||!this.object.model)return;const numberData=new NumberDataType_NumberDataType();numberData.initializeFromRoomObjectModel(this.object.model);const state=numberData.getValue(0);const hue=numberData.getValue(1);const saturation=numberData.getValue(2);const lightness=numberData.getValue(3);if(state>-1&&hue>-1&&saturation>-1&&lightness>-1){this.object.model.setValue(RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_HUE,hue);this.object.model.setValue(RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION,saturation);this.object.model.setValue(RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS,lightness);this.object.setState(state,0);if(this.eventDispatcher){this.eventDispatcher.dispatchEvent(new RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent(RoomObjectHSLColorEnableEvent_RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR,this.object,state===1,hue,saturation,lightness));}this._roomColorUpdated=true;}}mouseEvent(event,geometry){if(!event||!geometry||!this.object)return;switch(event.type){case MouseEventType.DOUBLE_CLICK:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.BACKGROUND_COLOR,this.object));return;}super.mouseEvent(event,geometry);}}\n// EXTERNAL MODULE: ./node_modules/gifuct-js/lib/index.js\nvar gifuct_js_lib = __webpack_require__(63);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRoomBrandingLogic.ts\nclass FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic extends FurnitureLogic_FurnitureLogic{constructor(){super();this._disableFurnitureSelection=void 0;this._hasClickUrl=void 0;this._disableFurnitureSelection=true;this._hasClickUrl=false;}getEventTypes(){const types=[RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_LOAD_IMAGE];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(this._disableFurnitureSelection){this.object.model.setValue(RoomObjectVariable.FURNITURE_SELECTION_DISABLED,1);}}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage)this.processAdDataUpdateMessage(message);if(message instanceof ObjectAdUpdateMessage_ObjectAdUpdateMessage)this.processAdUpdate(message);}processAdDataUpdateMessage(message){if(!message)return;const objectData=new MapDataType_MapDataType();objectData.initializeFromRoomObjectModel(this.object.model);const state=parseInt(objectData.getValue(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.STATE));if(!isNaN(state)&&this.object.getState(0)!==state)this.object.setState(state,0);const imageUrl=objectData.getValue(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.IMAGEURL_KEY);const existingUrl=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL);if(!existingUrl||existingUrl!==imageUrl){this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL,imageUrl);this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS,0);this.downloadBackground();}const clickUrl=objectData.getValue(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.CLICKURL_KEY);if(clickUrl){const existingUrl=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_URL);if(!existingUrl||existingUrl!==clickUrl){if(this.object.model)this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_URL,clickUrl);}}const offsetX=parseInt(objectData.getValue(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETX_KEY));const offsetY=parseInt(objectData.getValue(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETY_KEY));const offsetZ=parseInt(objectData.getValue(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETZ_KEY));if(!isNaN(offsetX))this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_X,offsetX);if(!isNaN(offsetY))this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Y,offsetY);if(!isNaN(offsetZ))this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Z,offsetZ);let options=FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.IMAGEURL_KEY+'='+(imageUrl!==null?imageUrl:'')+'\\t';if(this._hasClickUrl){options=options+(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.CLICKURL_KEY+'='+(clickUrl!==null?clickUrl:'')+'\\t');}options=options+(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETX_KEY+'='+offsetX+'\\t');options=options+(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETY_KEY+'='+offsetY+'\\t');options=options+(FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETZ_KEY+'='+offsetZ+'\\t');this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.BRANDING_OPTIONS+options);}processAdUpdate(message){if(!message||!this.object)return;switch(message.type){case ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADED:this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS,1);break;case ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADING_FAILED:this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS,-1);break;}}mouseEvent(event,geometry){if(!event||!geometry)return;if(event.type===MouseEventType.MOUSE_MOVE||event.type===MouseEventType.DOUBLE_CLICK)return;super.mouseEvent(event,geometry);}downloadBackground(){const model=this.object&&this.object.model;if(!model)return;const imageUrl=model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL);const imageStatus=model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS);if(!imageUrl||imageUrl===''||imageStatus===1)return;if(imageUrl.endsWith('.gif')){this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IS_ANIMATED,true);fetch(imageUrl).then(resp=>resp.arrayBuffer()).then(buff=>Object(gifuct_js_lib[\"parseGIF\"])(buff)).then(gif=>{const width=gif.lsd.width;const height=gif.lsd.height;const wh=width*height;const frames=Object(gifuct_js_lib[\"decompressFrames\"])(gif,false);const textures=[];const durations=[];let frame=new Uint8Array(wh*4);for(let ind=0;ind<frames.length;ind++){if(ind>0)frame=frame.slice(0);const pixels=frames[ind].pixels;const colorTable=frames[ind].colorTable;const trans=frames[ind].transparentIndex;const dims=frames[ind].dims;for(let j=0;j<dims.height;j++){for(let i=0;i<dims.width;i++){const pixel=pixels[j*dims.width+i];const coord=(j+dims.top)*width+(i+dims.left);if(trans!==pixel){const c=colorTable[pixel];frame[4*coord]=c[0];frame[4*coord+1]=c[1];frame[4*coord+2]=c[2];frame[4*coord+3]=255;}}}const baseTexture=esm_core[\"c\" /* BaseTexture */].fromBuffer(frame,width,height);textures.push(new esm_core[\"t\" /* Texture */](baseTexture));durations.push(frames[ind].delay);}Nitro_Nitro.instance.roomEngine.roomContentLoader.createGifCollection(imageUrl,textures,durations);this.processUpdateMessage(new ObjectAdUpdateMessage_ObjectAdUpdateMessage(ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADED));}).catch(error=>{this.processUpdateMessage(new ObjectAdUpdateMessage_ObjectAdUpdateMessage(ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADING_FAILED));});}else{const asset=Nitro_Nitro.instance.core&&Nitro_Nitro.instance.core.asset;if(!asset)return;const texture=asset.getTexture(imageUrl);if(!texture){asset.downloadAsset(imageUrl,flag=>{if(flag){this.processUpdateMessage(new ObjectAdUpdateMessage_ObjectAdUpdateMessage(ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADED));}else{this.processUpdateMessage(new ObjectAdUpdateMessage_ObjectAdUpdateMessage(ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADING_FAILED));}});return;}this.processUpdateMessage(new ObjectAdUpdateMessage_ObjectAdUpdateMessage(ObjectAdUpdateMessage_ObjectAdUpdateMessage.IMAGE_LOADED));}}}FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.STATE='state';FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.IMAGEURL_KEY='imageUrl';FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.CLICKURL_KEY='clickUrl';FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETX_KEY='offsetX';FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETY_KEY='offsetY';FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic.OFFSETZ_KEY='offsetZ';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRoomBackgroundLogic.ts\nclass FurnitureRoomBackgroundLogic_FurnitureRoomBackgroundLogic extends FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic{getAdClickUrl(model){return null;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/utils/FixedSizeStack.ts\nclass FixedSizeStack{constructor(k){this._data=void 0;this._maxSize=void 0;this._index=void 0;this._data=[];this._maxSize=k;this._index=0;}reset(){this._data=[];this._index=0;}addValue(k){if(this._data.length<this._maxSize){this._data.push(k);}else{this._data[this._index]=k;}this._index=(this._index+1)%this._maxSize;}getMax(){let k=Number.MIN_VALUE;let _local_2=0;while(_local_2<this._maxSize){if(this._data[_local_2]>k)k=this._data[_local_2];_local_2++;}return k;}getMin(){let k=Number.MAX_VALUE;let _local_2=0;while(_local_2<this._maxSize){if(this._data[_local_2]<k)k=this._data[_local_2];_local_2++;}return k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/utils/FriendlyTime.ts\nclass FriendlyTime_FriendlyTime{static format(seconds){let key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let threshold=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;if(seconds>threshold*FriendlyTime_FriendlyTime.YEAR)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.years'+key,Math.round(seconds/FriendlyTime_FriendlyTime.YEAR));if(seconds>threshold*FriendlyTime_FriendlyTime.MONTH)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.months'+key,Math.round(seconds/FriendlyTime_FriendlyTime.MONTH));if(seconds>threshold*FriendlyTime_FriendlyTime.DAY)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.days'+key,Math.round(seconds/FriendlyTime_FriendlyTime.DAY));if(seconds>threshold*FriendlyTime_FriendlyTime.HOUR)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.hours'+key,Math.round(seconds/FriendlyTime_FriendlyTime.HOUR));if(seconds>threshold*FriendlyTime_FriendlyTime.MINUTE)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.minutes'+key,Math.round(seconds/FriendlyTime_FriendlyTime.MINUTE));return FriendlyTime_FriendlyTime.getLocalization('friendlytime.seconds'+key,Math.round(seconds));}static shortFormat(seconds){let key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let threshold=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;if(seconds>threshold*FriendlyTime_FriendlyTime.YEAR)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.years.short'+key,Math.round(seconds/FriendlyTime_FriendlyTime.YEAR));if(seconds>threshold*FriendlyTime_FriendlyTime.MONTH)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.months.short'+key,Math.round(seconds/FriendlyTime_FriendlyTime.MONTH));if(seconds>threshold*FriendlyTime_FriendlyTime.DAY)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.days.short'+key,Math.round(seconds/FriendlyTime_FriendlyTime.DAY));if(seconds>threshold*FriendlyTime_FriendlyTime.HOUR)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.hours.short'+key,Math.round(seconds/FriendlyTime_FriendlyTime.HOUR));if(seconds>threshold*FriendlyTime_FriendlyTime.MINUTE)return FriendlyTime_FriendlyTime.getLocalization('friendlytime.minutes.short'+key,Math.round(seconds/FriendlyTime_FriendlyTime.MINUTE));return FriendlyTime_FriendlyTime.getLocalization('friendlytime.seconds.short'+key,Math.round(seconds));}static getLocalization(key,amount){return Nitro_Nitro.instance.getLocalizationWithParameter(key,'amount',amount.toString());}}FriendlyTime_FriendlyTime.MINUTE=60;FriendlyTime_FriendlyTime.HOUR=60*FriendlyTime_FriendlyTime.MINUTE;FriendlyTime_FriendlyTime.DAY=24*FriendlyTime_FriendlyTime.HOUR;FriendlyTime_FriendlyTime.WEEK=7*FriendlyTime_FriendlyTime.DAY;FriendlyTime_FriendlyTime.MONTH=30*FriendlyTime_FriendlyTime.DAY;FriendlyTime_FriendlyTime.YEAR=365*FriendlyTime_FriendlyTime.DAY;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/utils/HabboWebTools.ts\nclass HabboWebTools_HabboWebTools{static logEventLog(data){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('logEventLog',data);}}catch(e){NitroLogger.log('External interface not working, failed to log event log.');}}static openPage(pageUrl){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('openPage',pageUrl);}else{NitroLogger.log('External interface not available, openPage failed.');}}catch(e){NitroLogger.log('Failed to open web page '+pageUrl);}}static openWebPage(pageUrl){window.open(pageUrl);}static sendHeartBeat(){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('heartBeat');}}catch(e){NitroLogger.log('Failed to send heartbeat');}}static openWebPageAndMinimizeClient(pageUrl){try{if(LegacyExternalInterface.available){HabboWebTools_HabboWebTools.openPage(pageUrl);}}catch(e){NitroLogger.log('Failed to open web page '+pageUrl);}}static closeWebPageAndRestoreClient(){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('closeWebPageAndRestoreClient');}}catch(e){NitroLogger.log('Failed to close web page and restore client!');}}static openHabblet(name){let param=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('openHabblet',name,param);}}catch(e){NitroLogger.log('Failed to open Habblet '+name);}}static closeHabblet(name){let param=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('closeHabblet',name,param);}}catch(e){NitroLogger.log('Failed to close Habblet '+name);}}static send(reasonCode,reasonString){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('disconnect',reasonCode,reasonString);}}catch(e){NitroLogger.log('Failed to close send ');}}static showGame(gameUrl){try{if(LegacyExternalInterface.available){LegacyExternalInterface.callGame('showGame',gameUrl);}}catch(e){NitroLogger.log('Failed to open game: '+e);}}static hideGame(){try{if(LegacyExternalInterface.available){LegacyExternalInterface.callGame('hideGame');}}catch(e){NitroLogger.log('Failed to hide game');}}static open(url){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('openExternalLink',escape(url));}else{NitroLogger.log('External interface not available. Could not request to open: '+url);}}catch(e){NitroLogger.log('External interface not working. Could not request to open: '+url);}}static roomVisited(roomId){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('roomVisited',roomId);}else{NitroLogger.log('External interface not available. Could not store last room visit.');}}catch(e){NitroLogger.log('External interface not working. Could not store last room visit.');}}static openMinimail(target){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('openMinimail',target);}else{NitroLogger.log('External interface not available. Could not open minimail.');}}catch(e){NitroLogger.log('External interface not working. Could not open minimail.');}}static openNews(){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('openNews');}else{NitroLogger.log('External interface not available. Could not open news.');}}catch(e){NitroLogger.log('External interface not working. Could not open news.');}}static closeNews(){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('closeNews');}else{NitroLogger.log('External interface not available. Could not close news.');}}catch(e){NitroLogger.log('External interface not working. Could not close news.');}}static openAvatars(){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('openAvatars');}else{NitroLogger.log('External interface not available. Could not open avatars.');}}catch(e){NitroLogger.log('External interface not working. Could not open avatars.');}}static openRoomEnterAd(){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('openRoomEnterAd');}else{NitroLogger.log('External interface not available. Could not open roomenterad.');}}catch(e){NitroLogger.log('External interface not working. Could not open roomenterad.');}}static updateFigure(figure){try{if(LegacyExternalInterface.available){LegacyExternalInterface.call('updateFigure',figure);}else{NitroLogger.log('External interface not available. Could not update figure.');}}catch(e){NitroLogger.log('External interface not working. Could not update figure.');}}}HabboWebTools_HabboWebTools.ADVERTISEMENT='advertisement';HabboWebTools_HabboWebTools.OPENLINK='openlink';HabboWebTools_HabboWebTools.OPENROOM='openroom';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/utils/WebGL.ts\nclass WebGL_WebGL{static isWebGLAvailable(){return Object(utils[\"q\" /* isWebGLSupported */])();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRoomBillboardLogic.ts\nclass FurnitureRoomBillboardLogic_FurnitureRoomBillboardLogic extends FurnitureRoomBrandingLogic_FurnitureRoomBrandingLogic{constructor(){super();this._hasClickUrl=true;}getAdClickUrl(model){return model.getValue(RoomObjectVariable.FURNITURE_BRANDING_URL);}handleAdClick(objectId,objectType,clickUrl){if(clickUrl.indexOf('http')===0){HabboWebTools_HabboWebTools.openWebPage(clickUrl);return;}if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent_RoomObjectRoomAdEvent(RoomObjectRoomAdEvent_RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK,this.object,'',clickUrl));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureRoomDimmerLogic.ts\nclass FurnitureRoomDimmerLogic_FurnitureRoomDimmerLogic extends FurnitureLogic_FurnitureLogic{constructor(){super();this._roomColorUpdated=void 0;this._roomColorUpdated=false;}getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.DIMMER,RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER,RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent.DIMMER_STATE];return this.mergeTypes(super.getEventTypes(),types);}onDispose(){if(this._roomColorUpdated){if(this.eventDispatcher&&this.object){const realRoomObject=this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT);if(realRoomObject===1){this.eventDispatcher.dispatchEvent(new RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent(this.object,0,1,1,0xFFFFFF,0xFF));this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER,this.object));}this._roomColorUpdated=false;}}super.onDispose();}processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){if(message.data){const extra=message.data.getLegacyString();const realRoomObject=this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT);if(realRoomObject===1)this.processDimmerData(extra);super.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(this.getStateFromDimmerData(extra),message.data));}return;}super.processUpdateMessage(message);}getStateFromDimmerData(data){if(!data)return 0;const parts=data.split(',');if(parts.length>=5)return parseInt(parts[0])-1;return 0;}processDimmerData(data){if(!data)return;const parts=data.split(',');if(parts.length>=5){const state=this.getStateFromDimmerData(data);const presetId=parseInt(parts[1]);const effectId=parseInt(parts[2]);const color=parts[3];let colorCode=parseInt(color.substr(1),16);let brightness=parseInt(parts[4]);if(!state){colorCode=0xFFFFFF;brightness=0xFF;}if(this.eventDispatcher&&this.object){this.eventDispatcher.dispatchEvent(new RoomObjectDimmerStateUpdateEvent_RoomObjectDimmerStateUpdateEvent(this.object,state,presetId,effectId,colorCode,brightness));this._roomColorUpdated=true;}}}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.DIMMER,this.object));}update(time){super.update(time);// if(this.object && this.object.model)\n// {\n//     const realRoomObject = this.object.model.getValue<number>(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT);\n//     if(realRoomObject === 1)\n//     {\n//         const data = this.object.model.getValue<string>(RoomObjectVariable.FURNITURE_DATA);\n//         if(data && data.length > 0)\n//         {\n//             this.object.model.setValue(RoomObjectVariable.FURNITURE_DATA, '');\n//             this.processDimmerData(data);\n//         }\n//     }\n// }\n}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureScoreLogic.ts\nclass FurnitureScoreLogic_FurnitureScoreLogic extends FurnitureLogic_FurnitureLogic{constructor(){super();this._score=void 0;this._scoreIncreaser=void 0;this._scoreTimer=void 0;this._score=0;this._scoreIncreaser=50;this._scoreTimer=0;}processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage)return this.updateScore(message.state);super.processUpdateMessage(message);}updateScore(count){this._score=count;const currentScore=this.object.getState(0);if(this._score!==currentScore){let difference=this._score-currentScore;if(difference<0)difference=-difference;if(difference*FurnitureScoreLogic_FurnitureScoreLogic.UPDATE_INTERVAL>FurnitureScoreLogic_FurnitureScoreLogic.MAX_UPDATE_TIME)this._scoreIncreaser=FurnitureScoreLogic_FurnitureScoreLogic.MAX_UPDATE_TIME/difference;else this._scoreIncreaser=FurnitureScoreLogic_FurnitureScoreLogic.UPDATE_INTERVAL;this._scoreTimer=Nitro_Nitro.instance.time;}}update(time){super.update(time);const currentScore=this.object.getState(0);if(currentScore!==this._score&&time>=this._scoreTimer+this._scoreIncreaser){const _local_3=time-this._scoreTimer;let _local_4=_local_3/this._scoreIncreaser;let _local_5=1;if(this._score<currentScore)_local_5=-1;if(_local_4>_local_5*(this._score-currentScore))_local_4=_local_5*(this._score-currentScore);this.object.setState(currentScore+_local_5*_local_4,0);this._scoreTimer=time-(_local_3-_local_4*this._scoreIncreaser);}}}FurnitureScoreLogic_FurnitureScoreLogic.UPDATE_INTERVAL=50;FurnitureScoreLogic_FurnitureScoreLogic.MAX_UPDATE_TIME=3000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureSongDiskLogic.ts\nclass FurnitureSongDiskLogic_FurnitureSongDiskLogic extends FurnitureLogic_FurnitureLogic{processUpdateMessage(message){super.processUpdateMessage(message);if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){const extras=this.object.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS);const diskId=parseInt(extras);this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.SONGDISK+diskId);}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureSoundBlockLogic.ts\nclass FurnitureSoundBlockLogic_FurnitureSoundBlockLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super(...arguments);this._state=-1;this._sampleId=-1;this._noPitch=false;this._lastLocZ=0;}getEventTypes(){const types=[RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED,RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED,RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.PLAY_SAMPLE,RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.CHANGE_PITCH];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);if(asset.logic){if(asset.logic.soundSample){this._sampleId=asset.logic.soundSample.id;this._noPitch=asset.logic.soundSample.noPitch;}}this.object.model.setValue(RoomObjectVariable.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED,1);}onDispose(){if(this._state!==FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.STATE_UNINITIALIZED){this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED,this.object,this._sampleId));}super.onDispose();}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage)this.updateSoundBlockMessage(message);}updateSoundBlockMessage(message){if(!message)return;const model=this.object&&this.object.model;const location=this.object&&this.object.location;if(!model||!location)return;if(this._state===FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.STATE_UNINITIALIZED&&model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){this._lastLocZ=location.z;this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED,this.object,this._sampleId,this.getPitchForHeight(location.z)));}if(this._state!==FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.STATE_UNINITIALIZED&&model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){if(this._lastLocZ!==location.z){this._lastLocZ=location.z;this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.CHANGE_PITCH,this.object,this._sampleId,this.getPitchForHeight(location.z)));}}if(this._state!==FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.STATE_UNINITIALIZED&&message.state!==this._state){this.playSoundAt(location.z);}this._state=message.state;}playSoundAt(height){if(!this.object)return;const pitch=this.getPitchForHeight(height);this.object.model.setValue(RoomObjectVariable.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED,pitch);this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent_RoomObjectSamplePlaybackEvent.PLAY_SAMPLE,this.object,this._sampleId,pitch));}getPitchForHeight(height){if(this._noPitch)return 1;let heightScaled=height*2;if(heightScaled>FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.HIGHEST_SEMITONE){heightScaled=Math.min(0,FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.LOWEST_SEMITONE+(heightScaled-FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.HIGHEST_SEMITONE-1));}return Math.pow(2,heightScaled/12);}}FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.HIGHEST_SEMITONE=12;FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.LOWEST_SEMITONE=-12;FurnitureSoundBlockLogic_FurnitureSoundBlockLogic.STATE_UNINITIALIZED=-1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureSoundMachineLogic.ts\nclass FurnitureSoundMachineLogic_FurnitureSoundMachineLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super(...arguments);this._disposeEventsAllowed=false;this._isInitialized=false;this._currentState=-1;}getEventTypes(){const types=[RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_START,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT];return this.mergeTypes(super.getEventTypes(),types);}onDispose(){this.requestDispose();super.onDispose();}processUpdateMessage(message){super.processUpdateMessage(message);if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)!==1)return;if(!this._isInitialized)this.requestInit();this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.JUKEBOX);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){const state=this.object.getState(0);if(state!==this._currentState){this._currentState=state;if(state===1)this.requestPlayList();else if(state===0)this.requestStopPlaying();}}}requestInit(){if(!this.object||!this.eventDispatcher)return;this._disposeEventsAllowed=true;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT,this.object));this._isInitialized=true;}requestPlayList(){if(!this.object||!this.eventDispatcher)return;this._disposeEventsAllowed=true;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_START,this.object));}requestStopPlaying(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP,this.object));}requestDispose(){if(!this._disposeEventsAllowed||!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureStickieLogic.ts\nclass FurnitureStickieLogic_FurnitureStickieLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.STICKIE,RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.STICKIE];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);this.updateColor();if(this.object)this.object.model.setValue(RoomObjectVariable.FURNITURE_IS_STICKIE,'');}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectItemDataUpdateMessage_ObjectItemDataUpdateMessage){this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.STICKIE,this.object));}this.updateColor();}updateColor(){if(!this.object)return;const furnitureData=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);let colorIndex=FurnitureStickieLogic_FurnitureStickieLogic.STICKIE_COLORS.indexOf(furnitureData);if(colorIndex<0)colorIndex=3;this.object.model.setValue(RoomObjectVariable.FURNITURE_COLOR,colorIndex+1);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.STICKIE,this.object));}}FurnitureStickieLogic_FurnitureStickieLogic.STICKIE_COLORS=['9CCEFF','FF9CFF','9CFF9C','FFFF33'];\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureTrophyLogic.ts\nclass FurnitureTrophyLogic_FurnitureTrophyLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TROPHY];return this.mergeTypes(super.getEventTypes(),types);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.TROPHY,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureVoteCounterLogic.ts\nclass FurnitureVoteCounterLogic_FurnitureVoteCounterLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super();this._total=void 0;this._lastUpdate=void 0;this._interval=void 0;this._total=0;this._lastUpdate=0;this._interval=33;}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){const stuffData=message.data;if(!stuffData)return;this.updateTotal(stuffData.result);}}updateTotal(k){this._total=k;if(!this._lastUpdate){this.object.model.setValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT,k);this._lastUpdate=Nitro_Nitro.instance.time;return;}if(this._total!==this.currentTotal){const difference=Math.abs(this._total-this.currentTotal);if(difference*FurnitureVoteCounterLogic_FurnitureVoteCounterLogic.UPDATE_INTERVAL>FurnitureVoteCounterLogic_FurnitureVoteCounterLogic.MAX_UPDATE_TIME){this._interval=FurnitureVoteCounterLogic_FurnitureVoteCounterLogic.MAX_UPDATE_TIME/difference;}else{this._interval=FurnitureVoteCounterLogic_FurnitureVoteCounterLogic.UPDATE_INTERVAL;}this._lastUpdate=Nitro_Nitro.instance.time;}}update(time){super.update(time);if(this.object){if(this.currentTotal!==this._total&&time>=this._lastUpdate+this._interval){const _local_2=time-this._lastUpdate;let _local_3=_local_2/this._interval;let _local_4=1;if(this._total<this.currentTotal)_local_4=-1;if(_local_3>_local_4*(this._total-this.currentTotal))_local_3=_local_4*(this._total-this.currentTotal);this.object.model.setValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT,this.currentTotal+_local_4*_local_3);this._lastUpdate=time-(_local_2-_local_3*this._interval);}}}get currentTotal(){return this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT);}}FurnitureVoteCounterLogic_FurnitureVoteCounterLogic.UPDATE_INTERVAL=33;FurnitureVoteCounterLogic_FurnitureVoteCounterLogic.MAX_UPDATE_TIME=1000;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureVoteMajorityLogic.ts\nclass FurnitureVoteMajorityLogic_FurnitureVoteMajorityLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{processUpdateMessage(message){super.processUpdateMessage(message);if(!this.object)return;if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){const data=message.data;if(data instanceof VoteDataType_VoteDataType)this.object.model.setValue(RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT,data.result);}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureWelcomeGiftLogic.ts\nclass FurnitureWelcomeGiftLogic_FurnitureWelcomeGiftLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{mouseEvent(event,geometry){if(!event||!geometry)return;if(event.type===MouseEventType.DOUBLE_CLICK){if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent_RoomObjectStateChangedEvent(RoomObjectStateChangedEvent_RoomObjectStateChangedEvent.STATE_CHANGE,this.object));}super.mouseEvent(event,geometry);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureWindowLogic.ts\nclass FurnitureWindowLogic_FurnitureWindowLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{initialize(asset){super.initialize(asset);let maskType='';if(asset.logic){if(asset.logic.maskType&&asset.logic.maskType!==''&&asset.logic.maskType.length>0)maskType=asset.logic.maskType;}this.object.model.setValue(RoomObjectVariable.FURNITURE_USES_PLANE_MASK,0);this.object.model.setValue(RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE,maskType);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureYoutubeLogic.ts\nclass FurnitureYoutubeLogic_FurnitureYoutubeLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_URL_PREFIX];return this.mergeTypes(super.getEventTypes(),types);}update(time){super.update(time);if(!this.object.model.getValue(RoomObjectVariable.SESSION_URL_PREFIX)){this.eventDispatcher.dispatchEvent(new RoomObjectDataRequestEvent_RoomObjectDataRequestEvent(RoomObjectDataRequestEvent_RoomObjectDataRequestEvent.RODRE_URL_PREFIX,this.object));}}get widget(){return RoomWidgetEnum.YOUTUBE;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/pet/PetLogic.ts\nclass PetLogic_PetLogic extends MovingObjectLogic_MovingObjectLogic{constructor(){super();this._selected=void 0;this._reportedLocation=void 0;this._postureIndex=void 0;this._gestureIndex=void 0;this._headDirectionDelta=void 0;this._directions=void 0;this._talkingEndTimestamp=void 0;this._gestureEndTimestamp=void 0;this._expressionEndTimestamp=void 0;this._selected=false;this._reportedLocation=null;this._postureIndex=0;this._gestureIndex=0;this._headDirectionDelta=0;this._directions=[];this._talkingEndTimestamp=0;this._gestureEndTimestamp=0;this._expressionEndTimestamp=0;}getEventTypes(){const types=[RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK,RoomObjectMoveEvent_RoomObjectMoveEvent.POSITION_CHANGED];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){if(!asset)return;const model=this.object&&this.object.model;if(!model)return;if(asset.logic){if(asset.logic.model){const directions=asset.logic.model.directions;if(directions&&directions.length){for(const direction of directions)this._directions.push(direction);this._directions.sort();}}}model.setValue(RoomObjectVariable.PET_ALLOWED_DIRECTIONS,this._directions);}dispose(){if(this._selected&&this.object){if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent_RoomObjectMoveEvent(RoomObjectMoveEvent_RoomObjectMoveEvent.OBJECT_REMOVED,this.object));}this._directions=null;this._reportedLocation=null;}update(totalTimeRunning){super.update(totalTimeRunning);if(this._selected&&this.object){if(this.eventDispatcher){const location=this.object.getLocation();if(!this._reportedLocation||this._reportedLocation.x!==location.x||this._reportedLocation.y!==location.y||this._reportedLocation.z!==location.z){if(!this._reportedLocation)this._reportedLocation=new Vector3d();this._reportedLocation.assign(location);this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent_RoomObjectMoveEvent(RoomObjectMoveEvent_RoomObjectMoveEvent.POSITION_CHANGED,this.object));}}}if(this.object&&this.object.model)this.updateModel(totalTimeRunning,this.object.model);}updateModel(time,model){if(this._gestureEndTimestamp>0&&time>this._gestureEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_GESTURE,null);this._gestureEndTimestamp=0;}if(this._talkingEndTimestamp>0){if(time>this._talkingEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_TALK,0);this._talkingEndTimestamp=0;}}if(this._expressionEndTimestamp>0&&time>this._expressionEndTimestamp){model.setValue(RoomObjectVariable.FIGURE_EXPRESSION,0);this._expressionEndTimestamp=0;}}processUpdateMessage(message){if(!message||!this.object)return;super.processUpdateMessage(message);const model=this.object&&this.object.model;if(!model)return;if(message instanceof ObjectAvatarUpdateMessage_ObjectAvatarUpdateMessage){model.setValue(RoomObjectVariable.HEAD_DIRECTION,message.headDirection);return;}if(message instanceof ObjectAvatarFigureUpdateMessage_ObjectAvatarFigureUpdateMessage){const petFigureData=new PetFigureData_PetFigureData(message.figure);model.setValue(RoomObjectVariable.FIGURE,message.figure);model.setValue(RoomObjectVariable.RACE,message.subType);model.setValue(RoomObjectVariable.PET_PALETTE_INDEX,petFigureData.paletteId);model.setValue(RoomObjectVariable.PET_COLOR,petFigureData.color);model.setValue(RoomObjectVariable.PET_TYPE,petFigureData.typeId);model.setValue(RoomObjectVariable.PET_CUSTOM_LAYER_IDS,petFigureData.customLayerIds);model.setValue(RoomObjectVariable.PET_CUSTOM_PARTS_IDS,petFigureData.customPartIds);model.setValue(RoomObjectVariable.PET_CUSTOM_PALETTE_IDS,petFigureData.customPaletteIds);model.setValue(RoomObjectVariable.PET_IS_RIDING,message.isRiding?1:0);return;}if(message instanceof ObjectAvatarPostureUpdateMessage_ObjectAvatarPostureUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_POSTURE,message.postureType);return;}if(message instanceof ObjectAvatarChatUpdateMessage_ObjectAvatarChatUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_TALK,1);this._talkingEndTimestamp=this.time+message.numberOfWords*1000;return;}if(message instanceof ObjectAvatarSleepUpdateMessage_ObjectAvatarSleepUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_SLEEP,message.isSleeping?1:0);return;}if(message instanceof ObjectAvatarPetGestureUpdateMessage_ObjectAvatarPetGestureUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_GESTURE,message.gesture);this._gestureEndTimestamp=this.time+3000;return;}if(message instanceof ObjectAvatarSelectedMessage_ObjectAvatarSelectedMessage){this._selected=message.selected;this._reportedLocation=null;return;}if(message instanceof ObjectAvatarExperienceUpdateMessage_ObjectAvatarExperienceUpdateMessage){model.setValue(RoomObjectVariable.FIGURE_EXPERIENCE_TIMESTAMP,this.time);model.setValue(RoomObjectVariable.FIGURE_GAINED_EXPERIENCE,message.gainedExperience);return;}}mouseEvent(event,geometry){let eventType=null;switch(event.type){case MouseEventType.MOUSE_CLICK:eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK;break;case MouseEventType.DOUBLE_CLICK:break;case MouseEventType.MOUSE_DOWN:{const petType=this.object.model.getValue(RoomObjectVariable.PET_TYPE);if(petType===PetType.MONSTERPLANT){if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectMouseEvent_RoomObjectMouseEvent(RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown));}break;}}if(eventType&&this.eventDispatcher)this.eventDispatcher.dispatchEvent(new RoomObjectMouseEvent_RoomObjectMouseEvent(eventType,this.object,event.eventId,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/pet/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/room/RoomLogic.ts\nclass RoomLogic_RoomLogic extends RoomObjectLogicBase_RoomObjectLogicBase{constructor(){super();this._planeParser=void 0;this._planeBitmapMaskParser=void 0;this._color=void 0;this._light=void 0;this._originalColor=void 0;this._originalLight=void 0;this._targetColor=void 0;this._targetLight=void 0;this._colorChangedTime=void 0;this._colorTransitionLength=void 0;this._lastHoleUpdate=void 0;this._needsMapUpdate=void 0;this._skipColorTransition=void 0;this._planeParser=new RoomPlaneParser_RoomPlaneParser();this._planeBitmapMaskParser=new RoomPlaneBitmapMaskParser_RoomPlaneBitmapMaskParser();this._color=0xFFFFFF;this._light=0xFF;this._originalColor=0xFFFFFF;this._originalLight=0xFF;this._targetColor=0xFFFFFF;this._targetLight=0xFF;this._colorChangedTime=0;this._colorTransitionLength=1500;this._lastHoleUpdate=0;this._needsMapUpdate=false;this._skipColorTransition=false;}getEventTypes(){const types=[RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_MOVE,RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK];return this.mergeTypes(super.getEventTypes(),types);}dispose(){super.dispose();if(this._planeParser){this._planeParser.dispose();this._planeParser=null;}if(this._planeBitmapMaskParser){this._planeBitmapMaskParser.dispose();this._planeBitmapMaskParser=null;}}initialize(roomMap){if(!roomMap||!this.object)return;if(!(roomMap instanceof RoomMapData))return;if(!this._planeParser.initializeFromMapData(roomMap))return;this.object.model.setValue(RoomObjectVariable.ROOM_MAP_DATA,roomMap);this.object.model.setValue(RoomObjectVariable.ROOM_BACKGROUND_COLOR,0xFFFFFF);this.object.model.setValue(RoomObjectVariable.ROOM_FLOOR_VISIBILITY,1);this.object.model.setValue(RoomObjectVariable.ROOM_WALL_VISIBILITY,1);this.object.model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY,1);this._skipColorTransition=Nitro_Nitro.instance.getConfiguration('room.color.skip.transition')===true;}update(time){super.update(time);this.updateBackgroundColor(time);if(this._needsMapUpdate){if(this._lastHoleUpdate&&time-this._lastHoleUpdate<5)return;const model=this.object&&this.object.model;if(model){const mapData=this._planeParser.getMapData();model.setValue(RoomObjectVariable.ROOM_MAP_DATA,mapData);model.setValue(RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME,time);this._planeParser.initializeFromMapData(mapData);}this._lastHoleUpdate=0;this._needsMapUpdate=false;}}updateBackgroundColor(k){if(!this.object||!this._colorChangedTime)return;let color=this._color;let newColor=this._light;if(k-this._colorChangedTime>=this._colorTransitionLength){color=this._targetColor;newColor=this._targetLight;this._colorChangedTime=0;}else{let _local_7=this._originalColor>>16&0xFF;let _local_8=this._originalColor>>8&0xFF;let _local_9=this._originalColor&0xFF;const _local_10=this._targetColor>>16&0xFF;const _local_11=this._targetColor>>8&0xFF;const _local_12=this._targetColor&0xFF;const _local_13=(k-this._colorChangedTime)/this._colorTransitionLength;_local_7=_local_7+(_local_10-_local_7)*_local_13;_local_8=_local_8+(_local_11-_local_8)*_local_13;_local_9=_local_9+(_local_12-_local_9)*_local_13;color=(_local_7<<16)+(_local_8<<8)+_local_9;newColor=this._originalLight+(this._targetLight-this._originalLight)*_local_13;this._color=color;this._light=newColor;}let _local_5=ColorConverter_ColorConverter.rgbToHSL(color);_local_5=(_local_5&0xFFFF00)+newColor;color=ColorConverter_ColorConverter.hslToRGB(_local_5);if(this.object.model)this.object.model.setValue(RoomObjectVariable.ROOM_BACKGROUND_COLOR,color);}processUpdateMessage(message){if(!message||!this.object)return;const model=this.object.model;if(!model)return;if(message instanceof ObjectRoomUpdateMessage_ObjectRoomUpdateMessage){this.onObjectRoomUpdateMessage(message,model);return;}if(message instanceof ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage){this.onObjectRoomMaskUpdateMessage(message,model);return;}if(message instanceof ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage){this.onObjectRoomPlaneVisibilityUpdateMessage(message,model);return;}if(message instanceof ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage){this.onObjectRoomPlanePropertyUpdateMessage(message,model);return;}if(message instanceof ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage){this.onObjectRoomFloorHoleUpdateMessage(message,model);return;}if(message instanceof ObjectRoomColorUpdateMessage_ObjectRoomColorUpdateMessage){this.onObjectRoomColorUpdateMessage(message,model);return;}if(message instanceof ObjectRoomMapUpdateMessage_ObjectRoomMapUpdateMessage){this.onObjectRoomMapUpdateMessage(message);}}onObjectRoomUpdateMessage(message,model){switch(message.type){case ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE:model.setValue(RoomObjectVariable.ROOM_FLOOR_TYPE,message.value);return;case ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_WALL_UPDATE:model.setValue(RoomObjectVariable.ROOM_WALL_TYPE,message.value);return;case ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE:model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE,message.value);return;}}onObjectRoomMaskUpdateMessage(message,_arg_2){let maskType=null;let update=false;switch(message.type){case ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.ADD_MASK:maskType=RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData.WINDOW;if(message.maskCategory===ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.HOLE)maskType=RoomPlaneBitmapMaskData_RoomPlaneBitmapMaskData.HOLE;this._planeBitmapMaskParser.addMask(message.maskId,message.maskType,message.maskLocation,maskType);update=true;break;case ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.REMOVE_MASK:update=this._planeBitmapMaskParser.removeMask(message.maskId);break;}if(update)_arg_2.setValue(RoomObjectVariable.ROOM_PLANE_MASK_XML,this._planeBitmapMaskParser.getXML());}onObjectRoomPlaneVisibilityUpdateMessage(message,model){let visible=0;if(message.visible)visible=1;switch(message.type){case ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage.FLOOR_VISIBILITY:model.setValue(RoomObjectVariable.ROOM_FLOOR_VISIBILITY,visible);return;case ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage.WALL_VISIBILITY:model.setValue(RoomObjectVariable.ROOM_WALL_VISIBILITY,visible);model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY,visible);return;}}onObjectRoomPlanePropertyUpdateMessage(message,model){switch(message.type){case ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage.FLOOR_THICKNESS:model.setValue(RoomObjectVariable.ROOM_FLOOR_THICKNESS,message.value);return;case ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage.WALL_THICKNESS:model.setValue(RoomObjectVariable.ROOM_WALL_THICKNESS,message.value);return;}}onObjectRoomFloorHoleUpdateMessage(message,model){switch(message.type){case ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage.ADD:this._planeParser.addFloorHole(message.id,message.x,message.y,message.width,message.height);this._needsMapUpdate=true;return;case ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage.REMOVE:this._planeParser.removeFloorHole(message.id);this._needsMapUpdate=true;return;}this._lastHoleUpdate=this.time;}onObjectRoomColorUpdateMessage(message,model){if(!message||!model)return;this._originalColor=this._color;this._originalLight=this._light;this._targetColor=message.color;this._targetLight=message.light;this._colorChangedTime=this.time;if(this._skipColorTransition)this._colorTransitionLength=0;else this._colorTransitionLength=1500;model.setValue(RoomObjectVariable.ROOM_COLORIZE_BG_ONLY,message.backgroundOnly);}onObjectRoomMapUpdateMessage(message){if(!message||!message.mapData)return;this.object.model.setValue(RoomObjectVariable.ROOM_MAP_DATA,message.mapData);this.object.model.setValue(RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME,this.time);this._planeParser.initializeFromMapData(message.mapData);}mouseEvent(event,geometry){if(!event||!geometry||!this.object||!this.object.model)return;const tag=event.spriteTag;let planeId=0;if(tag&&tag.indexOf('@')>=0){planeId=parseInt(tag.substr(tag.indexOf('@')+1));}if(planeId<1||planeId>this._planeParser.planeCount){if(event.type===MouseEventType.ROLL_OUT){this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,0);}return;}planeId--;let planePosition=null;const planeLocation=this._planeParser.getPlaneLocation(planeId);const planeLeftSide=this._planeParser.getPlaneLeftSide(planeId);const planeRightSide=this._planeParser.getPlaneRightSide(planeId);const planeNormalDirection=this._planeParser.getPlaneNormalDirection(planeId);const planeType=this._planeParser.getPlaneType(planeId);if(planeLocation==null||planeLeftSide==null||planeRightSide==null||planeNormalDirection==null)return;const leftSideLength=planeLeftSide.length;const rightSideLength=planeRightSide.length;if(leftSideLength==0||rightSideLength==0)return;const screenX=event.screenX;const screenY=event.screenY;const screenPoint=new math[\"g\" /* Point */](screenX,screenY);planePosition=geometry.getPlanePosition(screenPoint,planeLocation,planeLeftSide,planeRightSide);if(!planePosition){this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,0);return;}const _local_18=Vector3d.product(planeLeftSide,planePosition.x/leftSideLength);_local_18.add(Vector3d.product(planeRightSide,planePosition.y/rightSideLength));_local_18.add(planeLocation);const tileX=_local_18.x;const tileY=_local_18.y;const tileZ=_local_18.z;if(planePosition.x>=0&&planePosition.x<leftSideLength&&planePosition.y>=0&&planePosition.y<rightSideLength){this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_X,tileX);this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_Y,tileY);this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_Z,tileZ);this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,planeId+1);}else{this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,0);return;}let eventType=null;if(event.type===MouseEventType.MOUSE_MOVE||event.type===MouseEventType.ROLL_OVER)eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_MOVE;else if(event.type===MouseEventType.MOUSE_CLICK)eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK;switch(event.type){case MouseEventType.MOUSE_MOVE:case MouseEventType.ROLL_OVER:case MouseEventType.MOUSE_CLICK:{let newEvent=null;if(planeType===RoomPlaneData_RoomPlaneData.PLANE_FLOOR){newEvent=new RoomObjectTileMouseEvent_RoomObjectTileMouseEvent(eventType,this.object,event.eventId,tileX,tileY,tileZ,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);}else if(planeType===RoomPlaneData_RoomPlaneData.PLANE_WALL||planeType===RoomPlaneData_RoomPlaneData.PLANE_LANDSCAPE){let direction=90;if(planeNormalDirection){direction=planeNormalDirection.x+90;if(direction>360)direction-=360;}const _local_27=planeLeftSide.length*planePosition.x/leftSideLength;const _local_28=planeRightSide.length*planePosition.y/rightSideLength;newEvent=new RoomObjectWallMouseEvent_RoomObjectWallMouseEvent(eventType,this.object,event.eventId,planeLocation,planeLeftSide,planeRightSide,_local_27,_local_28,direction,event.altKey,event.ctrlKey,event.shiftKey,event.buttonDown);}if(this.eventDispatcher)this.eventDispatcher.dispatchEvent(newEvent);return;}}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/room/SelectionArrowLogic.ts\nclass SelectionArrowLogic_SelectionArrowLogic extends RoomObjectLogicBase_RoomObjectLogicBase{initialize(data){if(!this.object)return;this.object.model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,1);this.object.setState(1,0);}processUpdateMessage(message){super.processUpdateMessage(message);if(!(message instanceof ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage))return;if(this.object){switch(message.type){case ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage.ENABLED:this.object.setState(0,0);return;case ObjectVisibilityUpdateMessage_ObjectVisibilityUpdateMessage.DISABLED:this.object.setState(1,0);return;}}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/room/TileCursorLogic.ts\nclass TileCursorLogic_TileCursorLogic extends RoomObjectLogicBase_RoomObjectLogicBase{constructor(){super();this._lastEventId=void 0;this._isHidden=void 0;this._lastEventId=null;this._isHidden=false;}initialize(data){if(!this.object)return;this.object.model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,1);this.object.setState(TileCursorLogic_TileCursorLogic.CURSOR_HIDDEN_STATE,0);}processUpdateMessage(message){if(!(message instanceof ObjectTileCursorUpdateMessage_ObjectTileCursorUpdateMessage))return;if(this._lastEventId&&this._lastEventId===message.sourceEventId)return;if(message.toggleVisibility)this._isHidden=!this._isHidden;super.processUpdateMessage(message);if(this.object){if(this._isHidden){this.object.setState(TileCursorLogic_TileCursorLogic.CURSOR_HIDDEN_STATE,0);}else{if(!message.visible){this.object.setState(TileCursorLogic_TileCursorLogic.CURSOR_HIDDEN_STATE,0);}else{this.object.model.setValue(RoomObjectVariable.TILE_CURSOR_HEIGHT,message.height);this.object.setState(message.height>0.8?TileCursorLogic_TileCursorLogic.CURSOR_HEIGHT_STATE:TileCursorLogic_TileCursorLogic.CURSOR_VISIBLE_STATE);}}}this._lastEventId=message.sourceEventId;}}TileCursorLogic_TileCursorLogic.CURSOR_VISIBLE_STATE=0;TileCursorLogic_TileCursorLogic.CURSOR_HIDDEN_STATE=1;TileCursorLogic_TileCursorLogic.CURSOR_HEIGHT_STATE=6;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/room/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectLogicType.ts\nclass RoomObjectLogicType{}RoomObjectLogicType.FURNITURE_BASIC='furniture_basic';RoomObjectLogicType.FURNITURE_MULTISTATE='furniture_multistate';RoomObjectLogicType.FURNITURE_MULTIHEIGHT='furniture_multiheight';RoomObjectLogicType.FURNITURE_RANDOMSTATE='furniture_randomstate';RoomObjectLogicType.FURNITURE_PLACEHOLDER='furniture_placeholder';RoomObjectLogicType.FURNITURE_CREDIT='furniture_credit';RoomObjectLogicType.FURNITURE_STICKIE='furniture_stickie';RoomObjectLogicType.FURNITURE_PRESENT='furniture_present';RoomObjectLogicType.FURNITURE_TROPHY='furniture_trophy';RoomObjectLogicType.FURNITURE_ECOTRON_BOX='furniture_ecotron_box';RoomObjectLogicType.FURNITURE_DICE='furniture_dice';RoomObjectLogicType.FURNITURE_HOCKEY_SCORE='furniture_hockey_score';RoomObjectLogicType.FURNITURE_HABBOWHEEL='furniture_habbowheel';RoomObjectLogicType.FURNITURE_ONE_WAY_DOOR='furniture_one_way_door';RoomObjectLogicType.FURNITURE_PLANET_SYSTEM='furniture_planet_system';RoomObjectLogicType.FURNITURE_WINDOW='furniture_window';RoomObjectLogicType.FURNITURE_EXTERNAL_IMAGE_WALLITEM='furniture_external_image_wallitem';RoomObjectLogicType.FURNITURE_ROOMDIMMER='furniture_roomdimmer';RoomObjectLogicType.FURNITURE_SOUND_MACHINE='furniture_sound_machine';RoomObjectLogicType.FURNITURE_JUKEBOX='furniture_jukebox';RoomObjectLogicType.FURNITURE_CRACKABLE='furniture_crackable';RoomObjectLogicType.FURNITURE_PUSHABLE='furniture_pushable';RoomObjectLogicType.FURNITURE_CLOTHING_CHANGE='furniture_clothing_change';RoomObjectLogicType.FURNITURE_COUNTER_CLOCK='furniture_counter_clock';RoomObjectLogicType.FURNITURE_SCORE='furniture_score';RoomObjectLogicType.FURNITURE_ES='furniture_es';RoomObjectLogicType.FURNITURE_FIREWORKS='furniture_fireworks';RoomObjectLogicType.FURNITURE_SONG_DISK='furniture_song_disk';RoomObjectLogicType.FURNITURE_BB='furniture_bb';RoomObjectLogicType.FURNITURE_BG='furniture_bg';RoomObjectLogicType.FURNITURE_WELCOME_GIFT='furniture_welcome_gift';RoomObjectLogicType.FURNITURE_FLOOR_HOLE='furniture_floor_hole';RoomObjectLogicType.FURNITURE_MANNEQUIN='furniture_mannequin';RoomObjectLogicType.FURNITURE_GUILD_CUSTOMIZED='furniture_guild_customized';RoomObjectLogicType.FURNITURE_GROUP_FORUM_TERMINAL='furniture_group_forum_terminal';RoomObjectLogicType.FURNITURE_PET_CUSTOMIZATION='furniture_pet_customization';RoomObjectLogicType.FURNITURE_CUCKOO_CLOCK='furniture_cuckoo_clock';RoomObjectLogicType.FURNITURE_VOTE_COUNTER='furniture_vote_counter';RoomObjectLogicType.FURNITURE_VOTE_MAJORITY='furniture_vote_majority';RoomObjectLogicType.FURNITURE_SOUNDBLOCK='furniture_soundblock';RoomObjectLogicType.FURNITURE_RANDOM_TELEPORT='furniture_random_teleport';RoomObjectLogicType.FURNITURE_MONSTERPLANT_SEED='furniture_monsterplant_seed';RoomObjectLogicType.FURNITURE_PURCHASABLE_CLOTHING='furniture_purchasable_clothing';RoomObjectLogicType.FURNITURE_BACKGROUND_COLOR='furniture_background_color';RoomObjectLogicType.FURNITURE_MYSTERYBOX='furniture_mysterybox';RoomObjectLogicType.FURNITURE_EFFECTBOX='furniture_effectbox';RoomObjectLogicType.FURNITURE_MYSTERYTROPHY='furniture_mysterytrophy';RoomObjectLogicType.FURNITURE_ACHIEVEMENT_RESOLUTION='furniture_achievement_resolution';RoomObjectLogicType.FURNITURE_LOVELOCK='furniture_lovelock';RoomObjectLogicType.FURNITURE_WILDWEST_WANTED='furniture_wildwest_wanted';RoomObjectLogicType.FURNITURE_HWEEN_LOVELOCK='furniture_hween_lovelock';RoomObjectLogicType.FURNITURE_BADGE_DISPLAY='furniture_badge_display';RoomObjectLogicType.FURNITURE_HIGH_SCORE='furniture_high_score';RoomObjectLogicType.FURNITURE_INTERNAL_LINK='furniture_internal_link';RoomObjectLogicType.FURNITURE_CUSTOM_STACK_HEIGHT='furniture_custom_stack_height';RoomObjectLogicType.FURNITURE_YOUTUBE='furniture_youtube';RoomObjectLogicType.FURNITURE_RENTABLE_SPACE='furniture_rentable_space';RoomObjectLogicType.FURNITURE_CHANGE_STATE_WHEN_STEP_ON='furniture_change_state_when_step_on';RoomObjectLogicType.FURNITURE_VIMEO='furniture_vimeo';RoomObjectLogicType.FURNITURE_EDITABLE_INTERNAL_LINK='furniture_editable_internal_link';RoomObjectLogicType.FURNITURE_EDITABLE_ROOM_LINK='furniture_editable_room_link';RoomObjectLogicType.FURNITURE_CRAFTING_GIZMO='furniture_crafting_gizmo';RoomObjectLogicType.ROOM='room';RoomObjectLogicType.USER='user';RoomObjectLogicType.BOT='bot';RoomObjectLogicType.RENTABLE_BOT='rentable_bot';RoomObjectLogicType.PET='pet';RoomObjectLogicType.TILE_CURSOR='tile_cursor';RoomObjectLogicType.SELECTION_ARROW='selection_arrow';RoomObjectLogicType.GAME_SNOWBALL='game_snowball';RoomObjectLogicType.GAME_SNOWSPLASH='game_snowsplash';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/IAvatarAddition.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/IExpressionAddition.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/additions/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/avatar/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/ParticleSystemParticle.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/data/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/pet/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/mask/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/animated/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/basic/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/IPlaneRasterizer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/rasterizer/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/room/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureClothingChangeLogic.ts\nclass FurnitureClothingChangeLogic_FurnitureClothingChangeLogic extends FurnitureLogic_FurnitureLogic{getEventTypes(){const types=[RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOTHING_CHANGE];return this.mergeTypes(super.getEventTypes(),types);}initialize(asset){super.initialize(asset);const furniData=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);this.updateClothingData(furniData);}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage)message.data&&this.updateClothingData(message.data.getLegacyString());}updateClothingData(furnitureData){if(!furnitureData||!furnitureData.length)return;const[boyClothing,girlClothing]=furnitureData.split(',');if(boyClothing&&boyClothing.length)this.object.model.setValue(RoomObjectVariable.FURNITURE_CLOTHING_BOY,boyClothing);if(girlClothing&&girlClothing.length)this.object.model.setValue(RoomObjectVariable.FURNITURE_CLOTHING_GIRL,girlClothing);}useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent_RoomObjectWidgetRequestEvent.CLOTHING_CHANGE,this.object));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/object/logic/furniture/FurnitureCuckooClockLogic.ts\nclass FurnitureCuckooClockLogic_FurnitureCuckooClockLogic extends FurnitureMultiStateLogic_FurnitureMultiStateLogic{constructor(){super(...arguments);this._state=1;}getEventTypes(){const types=[RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH];return this.mergeTypes(super.getEventTypes(),types);}processUpdateMessage(message){super.processUpdateMessage(message);if(message instanceof ObjectDataUpdateMessage_ObjectDataUpdateMessage){if(this._state!==-1&&message.state!==this._state){this.dispatchSoundEvent(this.object.location.z);}this._state=message.state;}}dispatchSoundEvent(height){const pitch=Math.pow(2,height-1.2);this.eventDispatcher.dispatchEvent(new RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent(RoomObjectPlaySoundIdEvent_RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH,this.object,'FURNITURE_cuckoo_clock',pitch));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/RoomObjectLogicFactory.ts\nclass RoomObjectLogicFactory_RoomObjectLogicFactory{constructor(){this._events=void 0;this._cachedEvents=void 0;this._registeredEvents=void 0;this._functions=void 0;this._events=new EventDispatcher_EventDispatcher();this._cachedEvents=new Map();this._registeredEvents=new Map();this._functions=[];}getLogic(type){const logic=this.getLogicType(type);if(!logic)return null;const instance=new logic();if(!instance)return null;instance.eventDispatcher=this._events;if(!this._cachedEvents.get(type)){this._cachedEvents.set(type,true);const eventTypes=instance.getEventTypes();for(const eventType of eventTypes){if(!eventType)continue;this.registerEventType(eventType);}}return instance;}registerEventType(type){if(this._registeredEvents.get(type))return;this._registeredEvents.set(type,true);for(const func of this._functions){if(!func)continue;this._events.addEventListener(type,func);}}registerEventFunction(func){if(!func)return;if(this._functions.indexOf(func)>=0)return;this._functions.push(func);for(const eventType of this._registeredEvents.keys()){if(!eventType)continue;this._events.addEventListener(eventType,func);}}removeEventFunction(func){if(!func)return;const index=this._functions.indexOf(func);if(index===-1)return;this._functions.splice(index,1);for(const event of this._registeredEvents.keys()){if(!event)continue;this._events.removeEventListener(event,func);}}getLogicType(type){if(!type)return null;let logic=null;switch(type){case RoomObjectLogicType.ROOM:logic=RoomLogic_RoomLogic;break;case RoomObjectLogicType.TILE_CURSOR:logic=TileCursorLogic_TileCursorLogic;break;case RoomObjectLogicType.SELECTION_ARROW:logic=SelectionArrowLogic_SelectionArrowLogic;break;case RoomObjectLogicType.USER:case RoomObjectLogicType.BOT:case RoomObjectLogicType.RENTABLE_BOT:logic=AvatarLogic_AvatarLogic;break;case RoomObjectLogicType.PET:logic=PetLogic_PetLogic;break;case RoomObjectLogicType.FURNITURE_BASIC:logic=FurnitureLogic_FurnitureLogic;break;case RoomObjectLogicType.FURNITURE_BADGE_DISPLAY:logic=FurnitureBadgeDisplayLogic_FurnitureBadgeDisplayLogic;break;case RoomObjectLogicType.FURNITURE_CHANGE_STATE_WHEN_STEP_ON:logic=FurnitureChangeStateWhenStepOnLogic_FurnitureChangeStateWhenStepOnLogic;break;case RoomObjectLogicType.FURNITURE_COUNTER_CLOCK:logic=FurnitureCounterClockLogic_FurnitureCounterClockLogic;break;case RoomObjectLogicType.FURNITURE_CRACKABLE:logic=FurnitureCrackableLogic_FurnitureCrackableLogic;break;case RoomObjectLogicType.FURNITURE_CREDIT:logic=FurnitureCreditLogic_FurnitureCreditLogic;break;case RoomObjectLogicType.FURNITURE_CUSTOM_STACK_HEIGHT:logic=FurnitureCustomStackHeightLogic_FurnitureCustomStackHeightLogic;break;case RoomObjectLogicType.FURNITURE_DICE:logic=FurnitureDiceLogic_FurnitureDiceLogic;break;case RoomObjectLogicType.FURNITURE_EDITABLE_INTERNAL_LINK:logic=FurnitureEditableInternalLinkLogic_FurnitureEditableInternalLinkLogic;break;case RoomObjectLogicType.FURNITURE_EDITABLE_ROOM_LINK:logic=FurnitureEditableRoomLinkLogic_FurnitureEditableRoomLinkLogic;break;case RoomObjectLogicType.FURNITURE_EXTERNAL_IMAGE_WALLITEM:logic=FurnitureExternalImageLogic_FurnitureExternalImageLogic;break;case RoomObjectLogicType.FURNITURE_FIREWORKS:logic=FurnitureFireworksLogic_FurnitureFireworksLogic;break;case RoomObjectLogicType.FURNITURE_FLOOR_HOLE:logic=FurnitureFloorHoleLogic_FurnitureFloorHoleLogic;break;case RoomObjectLogicType.FURNITURE_GUILD_CUSTOMIZED:logic=FurnitureGuildCustomizedLogic_FurnitureGuildCustomizedLogic;break;case RoomObjectLogicType.FURNITURE_HIGH_SCORE:logic=FurnitureHighScoreLogic_FurnitureHighScoreLogic;break;case RoomObjectLogicType.FURNITURE_HOCKEY_SCORE:logic=FurnitureHockeyScoreLogic_FurnitureHockeyScoreLogic;break;case RoomObjectLogicType.FURNITURE_ES:logic=FurnitureIceStormLogic_FurnitureIceStormLogic;break;case RoomObjectLogicType.FURNITURE_MANNEQUIN:logic=FurnitureMannequinLogic_FurnitureMannequinLogic;break;case RoomObjectLogicType.FURNITURE_MULTIHEIGHT:logic=FurnitureMultiHeightLogic_FurnitureMultiHeightLogic;break;case RoomObjectLogicType.FURNITURE_MULTISTATE:logic=FurnitureMultiStateLogic_FurnitureMultiStateLogic;break;case RoomObjectLogicType.FURNITURE_ONE_WAY_DOOR:logic=FurnitureOneWayDoorLogic_FurnitureOneWayDoorLogic;break;case RoomObjectLogicType.FURNITURE_PET_CUSTOMIZATION:logic=FurniturePetCustomizationLogic_FurniturePetCustomizationLogic;break;case RoomObjectLogicType.FURNITURE_PRESENT:logic=FurniturePresentLogic_FurniturePresentLogic;break;case RoomObjectLogicType.FURNITURE_PURCHASABLE_CLOTHING:logic=FurniturePurchaseableClothingLogic_FurniturePurchaseableClothingLogic;break;case RoomObjectLogicType.FURNITURE_PUSHABLE:logic=FurniturePushableLogic_FurniturePushableLogic;break;case RoomObjectLogicType.FURNITURE_BACKGROUND_COLOR:logic=FurnitureRoomBackgroundColorLogic_FurnitureRoomBackgroundColorLogic;break;case RoomObjectLogicType.FURNITURE_BG:logic=FurnitureRoomBackgroundLogic_FurnitureRoomBackgroundLogic;break;case RoomObjectLogicType.FURNITURE_BB:logic=FurnitureRoomBillboardLogic_FurnitureRoomBillboardLogic;break;case RoomObjectLogicType.FURNITURE_ROOMDIMMER:logic=FurnitureRoomDimmerLogic_FurnitureRoomDimmerLogic;break;case RoomObjectLogicType.FURNITURE_SCORE:logic=FurnitureScoreLogic_FurnitureScoreLogic;break;case RoomObjectLogicType.FURNITURE_SOUNDBLOCK:logic=FurnitureSoundBlockLogic_FurnitureSoundBlockLogic;break;case RoomObjectLogicType.FURNITURE_STICKIE:logic=FurnitureStickieLogic_FurnitureStickieLogic;break;case RoomObjectLogicType.FURNITURE_TROPHY:logic=FurnitureTrophyLogic_FurnitureTrophyLogic;break;case RoomObjectLogicType.FURNITURE_VOTE_COUNTER:logic=FurnitureVoteCounterLogic_FurnitureVoteCounterLogic;break;case RoomObjectLogicType.FURNITURE_VOTE_MAJORITY:logic=FurnitureVoteMajorityLogic_FurnitureVoteMajorityLogic;break;case RoomObjectLogicType.FURNITURE_WINDOW:logic=FurnitureWindowLogic_FurnitureWindowLogic;break;case RoomObjectLogicType.FURNITURE_LOVELOCK:logic=FurnitureLoveLockLogic_FurnitureLoveLockLogic;break;case RoomObjectLogicType.FURNITURE_YOUTUBE:logic=FurnitureYoutubeLogic_FurnitureYoutubeLogic;break;case RoomObjectLogicType.FURNITURE_CRAFTING_GIZMO:logic=FurnitureCraftingGizmoLogic_FurnitureCraftingGizmoLogic;break;case RoomObjectLogicType.FURNITURE_RENTABLE_SPACE:logic=FurnitureRentableSpaceLogic_FurnitureRentableSpaceLogic;break;case RoomObjectLogicType.FURNITURE_EFFECTBOX:logic=FurnitureEffectBoxLogic_FurnitureEffectBoxLogic;break;case RoomObjectLogicType.FURNITURE_MONSTERPLANT_SEED:logic=FurnitureMonsterplantSeedLogic_FurnitureMonsterplantSeedLogic;break;case RoomObjectLogicType.FURNITURE_MYSTERYBOX:logic=FurnitureMysteryBoxLogic_FurnitureMysteryBoxLogic;break;case RoomObjectLogicType.FURNITURE_MYSTERYTROPHY:logic=FurnitureMysteryTrophyLogic_FurnitureMysteryTrophyLogic;break;case RoomObjectLogicType.FURNITURE_RANDOM_TELEPORT:logic=FurnitureRandomTeleportLogic_FurnitureRandomTeleportLogic;break;case RoomObjectLogicType.FURNITURE_CLOTHING_CHANGE:logic=FurnitureClothingChangeLogic_FurnitureClothingChangeLogic;break;case RoomObjectLogicType.FURNITURE_CUCKOO_CLOCK:logic=FurnitureCuckooClockLogic_FurnitureCuckooClockLogic;break;case RoomObjectLogicType.FURNITURE_ECOTRON_BOX:logic=FurnitureEcotronBoxLogic_FurnitureEcotronBoxLogic;break;case RoomObjectLogicType.FURNITURE_GROUP_FORUM_TERMINAL:logic=FurnitureGroupForumTerminalLogic_FurnitureGroupForumTerminalLogic;break;case RoomObjectLogicType.FURNITURE_HWEEN_LOVELOCK:logic=FurnitureHweenLovelockLogic_FurnitureHweenLovelockLogic;break;case RoomObjectLogicType.FURNITURE_INTERNAL_LINK:logic=FurnitureInternalLinkLogic_FurnitureInternalLinkLogic;break;case RoomObjectLogicType.FURNITURE_JUKEBOX:logic=FurnitureJukeboxLogic_FurnitureJukeboxLogic;break;case RoomObjectLogicType.FURNITURE_PLACEHOLDER:logic=FurniturePlaceholderLogic_FurniturePlaceholderLogic;break;case RoomObjectLogicType.FURNITURE_PLANET_SYSTEM:logic=FurniturePlanetSystemLogic_FurniturePlanetSystemLogic;break;case RoomObjectLogicType.FURNITURE_RANDOMSTATE:logic=FurnitureRandomStateLogic_FurnitureRandomStateLogic;break;case RoomObjectLogicType.FURNITURE_SONG_DISK:logic=FurnitureSongDiskLogic_FurnitureSongDiskLogic;break;case RoomObjectLogicType.FURNITURE_SOUND_MACHINE:logic=FurnitureSoundMachineLogic_FurnitureSoundMachineLogic;break;case RoomObjectLogicType.FURNITURE_WELCOME_GIFT:logic=FurnitureWelcomeGiftLogic_FurnitureWelcomeGiftLogic;break;case RoomObjectLogicType.FURNITURE_ACHIEVEMENT_RESOLUTION:logic=FurnitureAchievementResolutionLogic_FurnitureAchievementResolutionLogic;break;default:logic=FurnitureLogic_FurnitureLogic;break;}if(!logic){NitroLogger.log(`Unknown Logic: ${type}`);return null;}return logic;}get events(){return this._events;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/RoomData.ts\nclass RoomData{constructor(roomId,data){this._roomId=void 0;this._data=void 0;this._floorType=void 0;this._wallType=void 0;this._landscapeType=void 0;this._roomId=roomId;this._data=data;this._floorType=null;this._wallType=null;this._landscapeType=null;}get roomId(){return this._roomId;}get data(){return this._data;}get floorType(){return this._floorType;}set floorType(k){this._floorType=k;}get wallType(){return this._wallType;}set wallType(k){this._wallType=k;}get landscapeType(){return this._landscapeType;}set landscapeType(k){this._landscapeType=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/RoomFurnitureData.ts\nclass RoomFurnitureData_RoomFurnitureData{constructor(id,typeId,type,location,direction,state,objectData){let extra=arguments.length>7&&arguments[7]!==undefined?arguments[7]:NaN;let expires=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;let usagePolicy=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let ownerId=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let ownerName=arguments.length>11&&arguments[11]!==undefined?arguments[11]:'';let synchronized=arguments.length>12&&arguments[12]!==undefined?arguments[12]:true;let realRoomObject=arguments.length>13&&arguments[13]!==undefined?arguments[13]:true;let sizeZ=arguments.length>14&&arguments[14]!==undefined?arguments[14]:-1;this._id=void 0;this._typeId=void 0;this._type=void 0;this._location=void 0;this._direction=void 0;this._state=void 0;this._data=void 0;this._extra=void 0;this._expiryTime=void 0;this._usagePolicy=void 0;this._ownerId=void 0;this._ownerName=void 0;this._synchronized=void 0;this._realRoomObject=void 0;this._sizeZ=void 0;this._id=id;this._typeId=typeId;this._type=type;this._state=state;this._data=objectData;this._extra=extra;this._expiryTime=expires;this._usagePolicy=usagePolicy;this._ownerId=ownerId;this._ownerName=ownerName;this._synchronized=synchronized;this._realRoomObject=realRoomObject;this._sizeZ=sizeZ;this._location=new Vector3d();this._direction=new Vector3d();this._location.assign(location);this._direction.assign(direction);}get id(){return this._id;}get typeId(){return this._typeId;}get type(){return this._type;}get location(){return this._location;}get direction(){return this._direction;}get state(){return this._state;}get data(){return this._data;}get extra(){return this._extra;}get expiryTime(){return this._expiryTime;}get usagePolicy(){return this._usagePolicy;}get ownerId(){return this._ownerId;}get ownerName(){return this._ownerName;}get synchronized(){return this._synchronized;}get realRoomObject(){return this._realRoomObject;}get sizeZ(){return this._sizeZ;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/RoomCamera.ts\nclass RoomCamera_RoomCamera{constructor(){this._targetId=-1;this._targetCategory=-2;this._targetLoc=null;this._moveDistance=0;this._previousMoveSpeed=0;this._maintainPreviousMoveSpeed=false;this._currentLoc=null;this._targetObjectLoc=void 0;this._limitedLocX=false;this._limitedLocY=false;this._centeredLocX=false;this._centeredLocY=false;this._screenWd=0;this._screenHt=0;this._scale=0;this._roomWd=0;this._roomHt=0;this._geometryUpdateId=-1;this._scaleChanged=false;this._followDuration=void 0;this._targetObjectLoc=new Vector3d();}get location(){return this._currentLoc;}get targetId(){return this._targetId;}set targetId(k){this._targetId=k;}get targetCategory(){return this._targetCategory;}set targetCategory(k){this._targetCategory=k;}get targetObjectLoc(){return this._targetObjectLoc;}set targetObjectLoc(k){this._targetObjectLoc.assign(k);}get limitedLocationX(){return this._limitedLocX;}set limitedLocationX(k){this._limitedLocX=k;}get limitedLocationY(){return this._limitedLocY;}set limitedLocationY(k){this._limitedLocY=k;}get centeredLocX(){return this._centeredLocX;}set centeredLocX(k){this._centeredLocX=k;}get centeredLocY(){return this._centeredLocY;}set centeredLocY(k){this._centeredLocY=k;}get screenWd(){return this._screenWd;}set screenWd(k){this._screenWd=k;}get screenHt(){return this._screenHt;}set screenHt(k){this._screenHt=k;}get scale(){return this._scale;}set scale(k){if(this._scale!=k){this._scale=k;this._scaleChanged=true;}}get roomWd(){return this._roomWd;}set roomWd(k){this._roomWd=k;}get roomHt(){return this._roomHt;}set roomHt(k){this._roomHt=k;}get geometryUpdateId(){return this._geometryUpdateId;}set geometryUpdateId(k){this._geometryUpdateId=k;}get isMoving(){if(!(this._targetLoc==null)&&!(this._currentLoc==null)){return true;}return false;}set target(k){let _local_2;if(this._targetLoc==null){this._targetLoc=new Vector3d();}if(!(this._targetLoc.x==k.x)||!(this._targetLoc.y==k.y)||!(this._targetLoc.z==k.z)){this._targetLoc.assign(k);_local_2=Vector3d.dif(this._targetLoc,this._currentLoc);this._moveDistance=_local_2.length;this._maintainPreviousMoveSpeed=true;}}dispose(){this._targetLoc=null;this._currentLoc=null;}initializeLocation(k){if(this._currentLoc!=null){return;}this._currentLoc=new Vector3d();this._currentLoc.assign(k);}resetLocation(k){if(this._currentLoc==null){this._currentLoc=new Vector3d();}this._currentLoc.assign(k);}update(k,_arg_2){let _local_3;let _local_4;let _local_5;let _local_6;let _local_7;if(this._followDuration>0&&!(this._targetLoc==null)&&!(this._currentLoc==null)){if(this._scaleChanged){this._scaleChanged=false;this._currentLoc=this._targetLoc;this._targetLoc=null;return;}_local_3=Vector3d.dif(this._targetLoc,this._currentLoc);if(_local_3.length>this._moveDistance){this._moveDistance=_local_3.length;}if(_local_3.length<=_arg_2){this._currentLoc=this._targetLoc;this._targetLoc=null;this._previousMoveSpeed=0;}else{_local_4=Math.sin(Math.PI*_local_3.length/this._moveDistance);_local_5=_arg_2*0.5;_local_6=this._moveDistance/RoomCamera_RoomCamera.MOVE_SPEED_DENOMINATOR;_local_7=_local_5+(_local_6-_local_5)*_local_4;if(this._maintainPreviousMoveSpeed){if(_local_7<this._previousMoveSpeed){_local_7=this._previousMoveSpeed;if(_local_7>_local_3.length){_local_7=_local_3.length;}}else{this._maintainPreviousMoveSpeed=false;}}this._previousMoveSpeed=_local_7;_local_3.divide(_local_3.length);_local_3.multiply(_local_7);this._currentLoc=Vector3d.sum(this._currentLoc,_local_3);}}}reset(){this._geometryUpdateId=-1;}activateFollowing(k){this._followDuration=k;}}RoomCamera_RoomCamera.MOVE_SPEED_DENOMINATOR=12;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/TileObjectMap.ts\nclass TileObjectMap_TileObjectMap{constructor(k,_arg_2){this._tileObjectMap=void 0;this._width=void 0;this._height=void 0;this._tileObjectMap=new Map();let index=0;while(index<_arg_2){this._tileObjectMap.set(index,new Map());index++;}this._width=k;this._height=_arg_2;}clear(){for(const k of this._tileObjectMap.values()){if(!k)continue;k.clear();}this._tileObjectMap.clear();}populate(k){this.clear();for(const _local_2 of k)this.addRoomObject(_local_2);}dispose(){this._tileObjectMap=null;this._width=0;this._height=0;}getObjectIntTile(k,_arg_2){if(k>=0&&k<this._width&&_arg_2>=0&&_arg_2<this._height){const existing=this._tileObjectMap.get(_arg_2);if(existing)return existing.get(k);}return null;}setObjectInTile(k,_arg_2,_arg_3){if(!_arg_3.isReady){NitroLogger.log('Assigning non initialized object to tile object map!');return;}if(k>=0&&k<this._width&&_arg_2>=0&&_arg_2<this._height){const existing=this._tileObjectMap.get(_arg_2);if(existing)existing.set(k,_arg_3);}}addRoomObject(k){if(!k||!k.model||!k.isReady)return;const location=k.getLocation();const direction=k.getDirection();if(!location||!direction)return;let sizeX=k.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);let sizeY=k.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);if(sizeX<1)sizeX=1;if(sizeY<1)sizeY=1;const directionNumber=Math.trunc(direction.x+45)%360/90;if(directionNumber===1||directionNumber===3)[sizeX,sizeY]=[sizeY,sizeX];let y=location.y;while(y<location.y+sizeY){let x=location.x;while(x<location.x+sizeX){const roomObject=this.getObjectIntTile(x,y);if(!roomObject||!(roomObject===k)&&roomObject.getLocation().z<=location.z){this.setObjectInTile(x,y,k);}x++;}y++;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/RoomInstanceData.ts\nclass RoomInstanceData_RoomInstanceData{constructor(roomId){this._roomId=void 0;this._modelName=void 0;this._legacyGeometry=void 0;this._tileObjectMap=void 0;this._roomCamera=void 0;this._selectedObject=void 0;this._placedObject=void 0;this._furnitureStackingHeightMap=void 0;this._floorStack=void 0;this._wallStack=void 0;this._mouseButtonCursorOwners=void 0;this._roomId=roomId;this._modelName=null;this._legacyGeometry=new LegacyWallGeometry_LegacyWallGeometry();this._tileObjectMap=null;this._roomCamera=new RoomCamera_RoomCamera();this._selectedObject=null;this._placedObject=null;this._furnitureStackingHeightMap=null;this._floorStack=new Map();this._wallStack=new Map();this._mouseButtonCursorOwners=[];}dispose(){return;}setModelName(name){this._modelName=name;}setSelectedObject(data){if(this._selectedObject){this._selectedObject.dispose();}this._selectedObject=data;}setPlacedObject(data){if(this._placedObject){this._placedObject.dispose();}this._placedObject=data;}setFurnitureStackingHeightMap(heightMap){if(this._furnitureStackingHeightMap)this._furnitureStackingHeightMap.dispose();this._furnitureStackingHeightMap=heightMap;if(this._tileObjectMap)this._tileObjectMap.dispose();if(this._furnitureStackingHeightMap){this._tileObjectMap=new TileObjectMap_TileObjectMap(this._furnitureStackingHeightMap.width,this._furnitureStackingHeightMap.height);}}addPendingFurnitureFloor(data){if(!data)return;this._floorStack.delete(data.id);this._floorStack.set(data.id,data);}removePendingFunitureFloor(id){const existing=this._floorStack.get(id);if(!existing)return null;this._floorStack.delete(id);return existing;}getPendingFurnitureFloor(id){const existing=this._floorStack.get(id);if(!existing)return null;this._floorStack.delete(id);return existing;}getNextPendingFurnitureFloor(){if(!this._floorStack.size)return null;const keys=this._floorStack.keys();return this.getPendingFurnitureFloor(keys.next().value);}addPendingFurnitureWall(data){if(!data)return;this._wallStack.delete(data.id);this._wallStack.set(data.id,data);}removePendingFurnitureWall(id){const existing=this._wallStack.get(id);if(!existing)return null;this._wallStack.delete(id);return existing;}getPendingFurnitureWall(id){const existing=this._wallStack.get(id);if(!existing)return null;this._wallStack.delete(id);return existing;}getNextPendingFurnitureWall(){if(!this._wallStack.size)return null;const keys=this._wallStack.keys();return this.getPendingFurnitureWall(keys.next().value);}addButtonMouseCursorOwner(k){const _local_2=this._mouseButtonCursorOwners.indexOf(k);if(_local_2===-1){this._mouseButtonCursorOwners.push(k);return true;}return false;}removeButtonMouseCursorOwner(k){const _local_2=this._mouseButtonCursorOwners.indexOf(k);if(_local_2>-1){this._mouseButtonCursorOwners.splice(_local_2,1);return true;}return false;}hasButtonMouseCursorOwners(){return this._mouseButtonCursorOwners.length>0;}get roomId(){return this._roomId;}get modelName(){return this._modelName;}get legacyGeometry(){return this._legacyGeometry;}get tileObjectMap(){return this._tileObjectMap;}get roomCamera(){return this._roomCamera;}get selectedObject(){return this._selectedObject;}get placedObject(){return this._placedObject;}get furnitureStackingHeightMap(){return this._furnitureStackingHeightMap;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/RoomObjectBadgeImageAssetListener.ts\nclass RoomObjectBadgeImageAssetListener{constructor(object,groupBadge){this._object=void 0;this._groupBadge=void 0;this._object=object;this._groupBadge=groupBadge;}get object(){return this._object;}get groupBadge(){return this._groupBadge;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/SpriteDataCollector.ts\nclass SpriteDataCollector_SpriteDataCollector{constructor(){this.maxZ=void 0;this.spriteCount=0;this.externalImageCount=0;}static addMannequinSprites(k,_arg_2){const datas=[];for(const data of k){if(!data)continue;if(data.type==='boutique_mannequin1'&&data.name.indexOf('mannequin_')===0){const roomObject=_arg_2.getRoomObject(_arg_2.activeRoomId,data.objectId,RoomObjectCategory.FLOOR);if(roomObject){const spriteList=roomObject.visualization.getSpriteList();if(spriteList){for(const sprite of spriteList){sprite.x=sprite.x+(data.x+data.width/2+SpriteDataCollector_SpriteDataCollector.MANNEQUIN_MAGIC_X_OFFSET);sprite.y=sprite.y+(data.y+data.height+SpriteDataCollector_SpriteDataCollector.MANNEQUIN_MAGIC_Y_OFFSET);sprite.z=sprite.z+data.z;datas.push(sprite);}}}}else{datas.push(data);}}return datas;}static sortSpriteDataObjects(k,_arg_2){if(k.z<_arg_2.z)return 1;if(k.z>_arg_2.z)return-1;return-1;}static isSpriteInViewPort(k,_arg_2,_arg_3){return true;// var _local_4 = new Rectangle((k.x + _arg_3.screenOffsetX), (k.y + _arg_3.screenOffsetY), k.width, k.height);\n// // intersects\n// return _local_4.contains(_arg_2.x, _arg_2.y);\n}static sortQuadPoints(k,_arg_2,_arg_3,_arg_4){const points=[];if(k.x==_arg_2.x){points.push(k,_arg_3,_arg_2,_arg_4);}else{if(k.x==_arg_3.x){points.push(k,_arg_2,_arg_3,_arg_4);}else{if(_arg_2.x<k.x&&_arg_2.y>k.y||_arg_2.x>k.x&&_arg_2.y<k.y){points.push(k,_arg_3,_arg_2,_arg_4);}else{points.push(k,_arg_2,_arg_3,_arg_4);}}}if(points[0].x<points[1].x){let _local_6=points[0];points[0]=points[1];points[1]=_local_6;_local_6=points[2];points[2]=points[3];points[3]=_local_6;}if(points[0].y<points[2].y){let _local_6=points[0];points[0]=points[2];points[2]=_local_6;_local_6=points[1];points[1]=points[3];points[3]=_local_6;}return points;}getFurniData(k,_arg_2,_arg_3,_arg_4){const _local_5=[];let _local_6=_arg_2.getSortableSpriteList();const _local_7=_arg_3.getRoomObjects(_arg_3.activeRoomId,RoomObjectCategory.UNIT);for(const _local_8 of _local_7){if(_local_8.id!==_arg_4){const _local_11=_local_8.visualization.getSpriteList();if(_local_11){let _local_12=0;let _local_13=0;for(const _local_14 of _local_6){if(_local_14.name==='avatar_'+_local_8.id){_local_12=_local_14.z;_local_13=_local_14.y+_local_14.height-_arg_2.geometry.scale/4;break;}}const _local_15=_arg_3.getRoomObjectScreenLocation(_arg_3.activeRoomId,_local_8.id,RoomObjectCategory.UNIT,_arg_2.id);if(_local_15){if(_local_13===0)_local_13=_local_15.y;for(const _local_16 of _local_11){_local_16.x=_local_16.x+(_local_15.x-_arg_2.screenOffsetX);_local_16.y=_local_16.y+_local_13;_local_16.z=_local_16.z+_local_12;if(_local_16.name.indexOf('h_std_fx29_')===0||_local_16.name.indexOf('h_std_fx185_')===0){_local_16.y=_local_16.y+SpriteDataCollector_SpriteDataCollector.AVATAR_WATER_EFFECT_MAGIC_Y_OFFSET;}_local_6.push(_local_16);}}}}}_local_6=SpriteDataCollector_SpriteDataCollector.addMannequinSprites(_local_6,_arg_3);_local_6.sort(SpriteDataCollector_SpriteDataCollector.sortSpriteDataObjects);for(const _local_9 of _local_6){if(!(_local_9.name===null)&&_local_9.name.length>0&&!(_local_9.name.indexOf('tile_cursor_')===0)&&SpriteDataCollector_SpriteDataCollector.isSpriteInViewPort(_local_9,k,_arg_2)&&(_arg_4<0||!(_local_9.objectId==_arg_4))){_local_5.push(this.getSpriteDataObject(_local_9,k,_arg_2,_arg_3));if(!this.maxZ)this.maxZ=_local_9.z;this.spriteCount++;}}return JSON.stringify(_local_5);}getRoomRenderingModifiers(k){return JSON.stringify(new Object());}getSpriteDataObject(k,_arg_2,_arg_3,_arg_4){let _local_7=null;let _local_9=[];const _local_5={};let _local_6=k.name;if(k.name.indexOf('@')!==-1){_local_9=k.name.split('@');_local_6=_local_9[0];_local_7=_local_9[1];}// if(((_local_7) && (k.type)))\n// {\n//     const _local_10 = _arg_4.roomContentLoader.getCollection(k.type);\n//     if(_local_10)\n//     {\n//         const _local_11 = _local_10.getPalette(_local_7);\n//         if (((!(_local_11 == null)) && (!(_local_11.@source == null))))\n//         {\n//             _local_5.paletteSourceName = (_local_11.@source + '');\n//         }\n//     }\n// }\n// var _local_8: string = _arg_4.configuration.getProperty('image.library.url');\n// _local_6 = _local_6.replace('%image.library.url%', _local_8);\n// if (_local_6.indexOf('%group.badge.url%') != -1)\n// {\n//     _local_12 = _arg_4.configuration.getProperty('group.badge.url');\n//     _local_6 = _local_6.replace('%group.badge.url%', '');\n//     _local_13 = _local_12.replace('%imagerdata%', _local_6);\n//     _local_6 = _local_13;\n// }\n_local_5.name=_local_6;_local_5.x=k.x-_arg_2.x;_local_5.y=k.y-_arg_2.y;_local_5.x=_local_5.x+_arg_3.screenOffsetX;_local_5.y=_local_5.y+_arg_3.screenOffsetY;_local_5.z=k.z;if(k.alpha&&k.alpha.toString()!=='255')_local_5.alpha=k.alpha;if(k.flipH)_local_5.flipH=k.flipH;if(k.skew)_local_5.skew=k.skew;if(k.frame)_local_5.frame=k.frame;if(k.color&&k.color.length>0)_local_5.color=parseInt(k.color);if(k.blendMode&&k.blendMode!=='normal')_local_5.blendMode=k.blendMode;if(_local_6.indexOf('http')===0){_local_5.width=k.width;_local_5.height=k.height;this.externalImageCount++;if(this.externalImageCount>SpriteDataCollector_SpriteDataCollector.MAX_EXTERNAL_IMAGE_COUNT)_local_5.name='box';}if(k.posture)_local_5.posture=k.posture;return _local_5;}makeBackgroundPlane(k,_arg_2,_arg_3){const _local_4=new math[\"g\" /* Point */](0,0);const _local_5=new math[\"g\" /* Point */](k.width,0);const _local_6=new math[\"g\" /* Point */](0,k.height);const _local_7=new math[\"g\" /* Point */](k.width,k.height);const _local_8=SpriteDataCollector_SpriteDataCollector.sortQuadPoints(_local_4,_local_5,_local_6,_local_7);let _local_9=0;if(_arg_3.length>0){_local_9=_arg_3[0].z;if(this.maxZ)_local_9=Math.max(this.maxZ,_local_9);}else{_local_9=this.maxZ?this.maxZ:0;}_local_9=_local_9+(this.spriteCount*1.776104+_arg_3.length*2.31743);const _local_10=new PlaneDrawingData(null,_arg_2);_local_10.cornerPoints=_local_8;_local_10.z=_local_9;return _local_10;}sortRoomPlanes(k,_arg_2,_arg_3){const _local_4=new Map();let _local_5=1;if(this.maxZ){_local_5=_local_5+this.maxZ;}for(const _local_6 of k){const _local_10={plane:_local_6,z:_local_5};_local_4.set(_local_6.uniqueId,_local_10);}const sprites=_arg_2.getPlaneSortableSprites();sprites.sort((a,b)=>{return b.z-a.z;});sprites.reverse();let _local_8=[];for(const sprite of sprites){const objectSprite=sprite.sprite;if(objectSprite){const _local_10=_local_4.get(objectSprite.id);if(_local_10){_local_4.delete(objectSprite.id);_local_10.z=sprite.z;_local_8.push(_local_10);}}}_local_8=_local_8.concat(Array.from(_local_4.values()));return _local_8;}getRoomPlanes(k,_arg_2,_arg_3,_arg_4){const _local_5=[];const roomObject=_arg_3.getRoomObject(_arg_3.activeRoomId,RoomEngine_RoomEngine.ROOM_OBJECT_ID,RoomObjectCategory.ROOM);const visualization=roomObject.visualization;if(visualization){const _local_8=_arg_2.geometry;const _local_9=this.sortRoomPlanes(visualization.planes,_arg_2,_arg_3);const _local_10=Nitro_Nitro.instance.stage;for(const _local_11 of _local_9){const _local_12=_local_11.plane;const _local_13=[];const _local_14=Vector3d.sum(_local_12.location,_local_12.leftSide);const _local_15=_local_8.getScreenPoint(_local_12.location);const _local_16=_local_8.getScreenPoint(_local_14);const _local_17=_local_8.getScreenPoint(Vector3d.sum(_local_12.location,_local_12.rightSide));const _local_18=_local_8.getScreenPoint(Vector3d.sum(_local_14,_local_12.rightSide));_local_13.push(_local_15,_local_16,_local_17,_local_18);let _local_19=0;let _local_20=0;for(const _local_21 of _local_13){_local_21.x+=_local_10.width/2;_local_21.y+=_local_10.height/2;_local_21.x+=_arg_2.screenOffsetX;_local_21.y+=_arg_2.screenOffsetY;_local_21.x+=-k.x;_local_21.y+=-k.y;if(_local_21.x<0)_local_19--;else if(_local_21.x>=k.width)_local_19++;if(_local_21.y<0)_local_20--;else if(_local_21.y>=k.height)_local_20++;}if(Math.abs(_local_19)===4||Math.abs(_local_20)===4){//\n}else{const _local_22=SpriteDataCollector_SpriteDataCollector.sortQuadPoints(_local_15,_local_16,_local_17,_local_18);for(const _local_23 of _local_12.getDrawingDatas(_local_8)){_local_23.cornerPoints=_local_22;_local_23.z=_local_11.z;_local_5.push(_local_23);}}}_local_5.unshift(this.makeBackgroundPlane(k,_arg_4,_local_5));}return _local_5;}}SpriteDataCollector_SpriteDataCollector.MANNEQUIN_MAGIC_X_OFFSET=1;SpriteDataCollector_SpriteDataCollector.MANNEQUIN_MAGIC_Y_OFFSET=-16;SpriteDataCollector_SpriteDataCollector.AVATAR_WATER_EFFECT_MAGIC_Y_OFFSET=-52;SpriteDataCollector_SpriteDataCollector.MAX_EXTERNAL_IMAGE_COUNT=30;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/RoomEngine.ts\nclass RoomEngine_RoomEngine extends NitroManager_NitroManager{constructor(communication){super();this._communication=void 0;this._roomRendererFactory=void 0;this._roomManager=void 0;this._visualizationFactory=void 0;this._sessionDataManager=void 0;this._roomSessionManager=void 0;this._roomObjectEventHandler=void 0;this._roomMessageHandler=void 0;this._roomContentLoader=void 0;this._ready=void 0;this._roomContentLoaderReady=void 0;this._imageObjectIdBank=void 0;this._imageCallbacks=void 0;this._thumbnailObjectIdBank=void 0;this._thumbnailCallbacks=void 0;this._activeRoomId=void 0;this._activeRoomActiveCanvas=void 0;this._activeRoomActiveCanvasMouseX=void 0;this._activeRoomActiveCanvasMouseY=void 0;this._activeRoomIsDragged=void 0;this._activeRoomWasDragged=void 0;this._activeRoomDragStartX=void 0;this._activeRoomDragStartY=void 0;this._activeRoomDragX=void 0;this._activeRoomDragY=void 0;this._roomDraggingAlwaysCenters=void 0;this._roomAllowsDragging=void 0;this._roomDatas=void 0;this._roomInstanceDatas=void 0;this._skipFurnitureCreationForNextFrame=void 0;this._mouseCursorUpdate=void 0;this._badgeListenerObjects=void 0;this._logicFactory=void 0;this._communication=communication;this._sessionDataManager=null;this._roomSessionManager=null;this._roomManager=null;this._roomObjectEventHandler=new RoomObjectEventHandler_RoomObjectEventHandler(this);this._roomMessageHandler=new RoomMessageHandler_RoomMessageHandler(this);this._roomContentLoader=new RoomContentLoader_RoomContentLoader();this._ready=false;this._roomContentLoaderReady=false;this._activeRoomId=-1;this._activeRoomActiveCanvas=-1;this._roomInstanceDatas=new Map();this._roomDatas=new Map();this._roomRendererFactory=new RoomRendererFactory_RoomRendererFactory();this._visualizationFactory=new RoomObjectVisualizationFactory_RoomObjectVisualizationFactory();this._logicFactory=new RoomObjectLogicFactory_RoomObjectLogicFactory();this._activeRoomActiveCanvasMouseX=0;this._activeRoomActiveCanvasMouseY=0;this._activeRoomIsDragged=false;this._activeRoomWasDragged=false;this._activeRoomDragStartX=0;this._activeRoomDragStartY=0;this._activeRoomDragX=0;this._activeRoomDragY=0;this._skipFurnitureCreationForNextFrame=false;this._mouseCursorUpdate=false;this._imageObjectIdBank=null;this._imageCallbacks=new Map();this._thumbnailCallbacks=new Map();this._roomDraggingAlwaysCenters=false;this._roomAllowsDragging=true;this._badgeListenerObjects=new Map();this.runVisibilityUpdate=this.runVisibilityUpdate.bind(this);this.processRoomObjectEvent=this.processRoomObjectEvent.bind(this);this.onRoomSessionEvent=this.onRoomSessionEvent.bind(this);this.onRoomContentLoaderReadyEvent=this.onRoomContentLoaderReadyEvent.bind(this);this.onBadgeImageReadyEvent=this.onBadgeImageReadyEvent.bind(this);}onInit(){if(this._ready)return;this._imageObjectIdBank=new NumberBank(1000);this._thumbnailObjectIdBank=new NumberBank(1000);this._logicFactory.registerEventFunction(this.processRoomObjectEvent);if(this._roomManager){this._roomManager.setContentLoader(this._roomContentLoader);this._roomManager.addUpdateCategory(RoomObjectCategory.FLOOR);this._roomManager.addUpdateCategory(RoomObjectCategory.WALL);this._roomManager.addUpdateCategory(RoomObjectCategory.UNIT);this._roomManager.addUpdateCategory(RoomObjectCategory.CURSOR);this._roomManager.addUpdateCategory(RoomObjectCategory.ROOM);}this._roomMessageHandler.setConnection(this._communication.connection);this._roomContentLoader.initialize(this.events);this._roomContentLoader.setSessionDataManager(this._sessionDataManager);this._roomContentLoader.setIconListener(this);if(this._roomSessionManager){this._roomSessionManager.events.addEventListener(RoomSessionEvent_RoomSessionEvent.STARTED,this.onRoomSessionEvent);this._roomSessionManager.events.addEventListener(RoomSessionEvent_RoomSessionEvent.ENDED,this.onRoomSessionEvent);}this.events.addEventListener(RoomContentLoader_RoomContentLoader.LOADER_READY,this.onRoomContentLoaderReadyEvent);Nitro_Nitro.instance.ticker.add(this.update,this);document.addEventListener('visibilitychange',this.runVisibilityUpdate);}onDispose(){if(!this._ready)return;for(const[key,value]of this._roomInstanceDatas){this.removeRoomInstance(key);}document.removeEventListener('visibilitychange',this.runVisibilityUpdate);Nitro_Nitro.instance.ticker.remove(this.update,this);if(this._roomObjectEventHandler)this._roomObjectEventHandler.dispose();if(this._roomMessageHandler)this._roomMessageHandler.dispose();if(this._roomContentLoader)this._roomContentLoader.dispose();this.events.removeEventListener(RoomContentLoader_RoomContentLoader.LOADER_READY,this.onRoomContentLoaderReadyEvent);if(this._roomSessionManager){this._roomSessionManager.events.removeEventListener(RoomSessionEvent_RoomSessionEvent.STARTED,this.onRoomSessionEvent);this._roomSessionManager.events.removeEventListener(RoomSessionEvent_RoomSessionEvent.ENDED,this.onRoomSessionEvent);}super.onDispose();}onRoomSessionEvent(event){if(!(event instanceof RoomSessionEvent_RoomSessionEvent))return;switch(event.type){case RoomSessionEvent_RoomSessionEvent.STARTED:if(this._roomMessageHandler)this._roomMessageHandler.setRoomId(event.session.roomId);return;case RoomSessionEvent_RoomSessionEvent.ENDED:if(this._roomMessageHandler){this._roomMessageHandler.clearRoomId();this.removeRoomInstance(event.session.roomId);}return;}}onRoomContentLoaderReadyEvent(event){this._roomContentLoaderReady=true;this._roomManager.init();}setActiveRoomId(roomId){this._activeRoomId=roomId;}destroyRoom(roomId){this.removeRoomInstance(roomId);}getRoomInstance(roomId){return this._roomManager&&this._roomManager.getRoomInstance(this.getRoomId(roomId))||null;}removeRoomInstance(roomId){const instance=this.getRoomInstance(roomId);if(instance){this._roomManager&&this._roomManager.removeRoomInstance(this.getRoomId(roomId));}const existing=this._roomInstanceDatas.get(roomId);if(existing){this._roomInstanceDatas.delete(existing.roomId);existing.dispose();}this.events.dispatchEvent(new RoomEngineEvent_RoomEngineEvent(RoomEngineEvent_RoomEngineEvent.DISPOSED,roomId));}createRoomInstance(roomId,roomMap){let floorType='111';let wallType='201';let landscapeType='1';if(!this._ready){let data=this._roomDatas.get(roomId);if(data){this._roomDatas.delete(roomId);floorType=data.floorType;wallType=data.wallType;landscapeType=data.landscapeType;}data=new RoomData(roomId,roomMap);data.floorType=floorType;data.wallType=wallType;data.landscapeType=landscapeType;this._roomDatas.set(roomId,data);NitroLogger.log('Room Engine not initilized yet, can not create room. Room data stored for later initialization.');return;}if(!roomMap){NitroLogger.log('Room property messages received before floor height map, will initialize when floor height map received.');return;}const data=this._roomDatas.get(roomId);if(data){this._roomDatas.delete(roomId);if(data.floorType)floorType=data.floorType;if(data.wallType)wallType=data.wallType;if(data.landscapeType)landscapeType=data.landscapeType;}const instance=this.setupRoomInstance(roomId,roomMap,floorType,wallType,landscapeType,this.getRoomInstanceModelName(roomId));if(!instance)return;if(roomMap.restrictsDragging){this._roomAllowsDragging=false;}else{this._roomAllowsDragging=true;}this.events.dispatchEvent(new RoomEngineEvent_RoomEngineEvent(RoomEngineEvent_RoomEngineEvent.INITIALIZED,roomId));}setupRoomInstance(roomId,roomMap,floorType,wallType,landscapeType,worldType){if(!this._ready||!this._roomManager)return;const instance=this._roomManager.createRoomInstance(this.getRoomId(roomId));if(!instance)return null;const category=RoomObjectCategory.ROOM;const roomObject=instance.createRoomObjectAndInitalize(RoomEngine_RoomEngine.ROOM_OBJECT_ID,RoomEngine_RoomEngine.ROOM_OBJECT_TYPE,category);instance.model.setValue(RoomVariableEnum.ROOM_IS_PUBLIC,0);instance.model.setValue(RoomVariableEnum.ROOM_Z_SCALE,1);if(roomMap){instance.model.setValue(RoomVariableEnum.RESTRICTS_DRAGGING,roomMap.restrictsDragging);instance.model.setValue(RoomVariableEnum.RESTRICTS_SCALING,roomMap.restrictsScaling);instance.model.setValue(RoomVariableEnum.RESTRICTED_SCALE,roomMap.restrictedScale);const dimensions=roomMap.dimensions;if(dimensions){const minX=roomMap.dimensions.minX;const maxX=roomMap.dimensions.maxX;const minY=roomMap.dimensions.minY;const maxY=roomMap.dimensions.maxY;instance.model.setValue(RoomVariableEnum.ROOM_MIN_X,minX);instance.model.setValue(RoomVariableEnum.ROOM_MAX_X,maxX);instance.model.setValue(RoomVariableEnum.ROOM_MIN_Y,minY);instance.model.setValue(RoomVariableEnum.ROOM_MAX_Y,maxY);const seed=minX*423+maxX*671+minY*913+maxY*7509;if(roomObject&&roomObject.model)roomObject.model.setValue(RoomObjectVariable.ROOM_RANDOM_SEED,seed);}}const logic=roomObject&&roomObject.logic||null;if(logic){logic.initialize(roomMap);if(floorType){logic.processUpdateMessage(new ObjectRoomUpdateMessage_ObjectRoomUpdateMessage(ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE,floorType));instance.model.setValue(RoomObjectVariable.ROOM_FLOOR_TYPE,floorType);}if(wallType){logic.processUpdateMessage(new ObjectRoomUpdateMessage_ObjectRoomUpdateMessage(ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_WALL_UPDATE,wallType));instance.model.setValue(RoomObjectVariable.ROOM_WALL_TYPE,wallType);}if(landscapeType){logic.processUpdateMessage(new ObjectRoomUpdateMessage_ObjectRoomUpdateMessage(ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE,landscapeType));instance.model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE,landscapeType);}}if(roomMap&&roomMap.doors.length){let doorIndex=0;while(doorIndex<roomMap.doors.length){const door=roomMap.doors[doorIndex];if(door){const doorX=door.x;const doorY=door.y;const doorZ=door.z;const doorDir=door.dir;const maskType=ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.DOOR;const maskId='door_'+doorIndex;const maskLocation=new Vector3d(doorX,doorY,doorZ);logic.processUpdateMessage(new ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.ADD_MASK,maskId,maskType,maskLocation,ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.HOLE));if(doorDir===90||doorDir===180){if(doorDir===90){instance.model.setValue(RoomObjectVariable.ROOM_DOOR_X,doorX-0.5);instance.model.setValue(RoomObjectVariable.ROOM_DOOR_Y,doorY);}if(doorDir===180){instance.model.setValue(RoomObjectVariable.ROOM_DOOR_X,doorX);instance.model.setValue(RoomObjectVariable.ROOM_DOOR_Y,doorY-0.5);}instance.model.setValue(RoomObjectVariable.ROOM_DOOR_Z,doorZ);instance.model.setValue(RoomObjectVariable.ROOM_DOOR_DIR,doorDir);}}doorIndex++;}}instance.createRoomObjectAndInitalize(RoomEngine_RoomEngine.CURSOR_OBJECT_ID,RoomEngine_RoomEngine.CURSOR_OBJECT_TYPE,RoomObjectCategory.CURSOR);if(Nitro_Nitro.instance.getConfiguration('enable.avatar.arrow',false))instance.createRoomObjectAndInitalize(RoomEngine_RoomEngine.ARROW_OBJECT_ID,RoomEngine_RoomEngine.ARROW_OBJECT_TYPE,RoomObjectCategory.CURSOR);return instance;}getRoomInstanceDisplay(roomId,id,width,height,scale){const instance=this.getRoomInstance(roomId);if(!instance)return null;let renderer=instance.renderer;if(!renderer){renderer=this._roomRendererFactory.createRenderer();if(!renderer)return null;}renderer.roomObjectVariableAccurateZ=RoomObjectVariable.OBJECT_ACCURATE_Z_VALUE;instance.setRenderer(renderer);const canvas=renderer.createCanvas(id,width,height,scale);if(!canvas)return null;const restrictedScaling=instance.model.getValue(RoomVariableEnum.RESTRICTS_SCALING);if(restrictedScaling){let restrictedScale=instance.model.getValue(RoomVariableEnum.RESTRICTED_SCALE);if(!restrictedScale)restrictedScale=1;canvas.setScale(restrictedScale);canvas.restrictsScaling=true;}else{canvas.restrictsScaling=false;}canvas.setMouseListener(this._roomObjectEventHandler);if(canvas.geometry){canvas.geometry.z_scale=instance.model.getValue(RoomVariableEnum.ROOM_Z_SCALE);const doorX=instance.model.getValue(RoomObjectVariable.ROOM_DOOR_X);const doorY=instance.model.getValue(RoomObjectVariable.ROOM_DOOR_Y);const doorZ=instance.model.getValue(RoomObjectVariable.ROOM_DOOR_Z);const doorDirection=instance.model.getValue(RoomObjectVariable.ROOM_DOOR_DIR);const vector=new Vector3d(doorX,doorY,doorZ);let direction=null;if(doorDirection===90)direction=new Vector3d(-2000,0,0);if(doorDirection===180)direction=new Vector3d(0,-2000,0);canvas.geometry.setDisplacement(vector,direction);const displayObject=canvas.master;if(displayObject){const overlay=new NitroSprite_NitroSprite(esm_core[\"t\" /* Texture */].EMPTY);overlay.name=RoomEngine_RoomEngine.OVERLAY;overlay.interactive=false;displayObject.addChild(overlay);}}return canvas.master;}setRoomInstanceRenderingCanvasMask(roomId,canvasId,flag){const roomCanvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(roomCanvas)roomCanvas.setMask(flag);}setRoomInstanceRenderingCanvasScale(roomId,canvasId,scale){let point=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let offsetPoint=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let override=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let asDelta=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;const roomCanvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(roomCanvas){if(roomCanvas.restrictsScaling&&!override)return;roomCanvas.setScale(scale,point,offsetPoint,override,asDelta);this.events.dispatchEvent(new RoomEngineEvent_RoomEngineEvent(RoomEngineEvent_RoomEngineEvent.ROOM_ZOOMED,roomId));}}getRoomInstanceRenderingCanvas(roomId){let canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;const instance=this.getRoomInstance(roomId);if(!instance)return null;const renderer=instance.renderer;if(!renderer)return null;if(canvasId===-1)canvasId=this._activeRoomActiveCanvas;const canvas=renderer.getCanvas(canvasId);if(!canvas)return null;return canvas;}getActiveRoomInstanceRenderingCanvas(){return this.getRoomInstanceRenderingCanvas(this._activeRoomId,this._activeRoomActiveCanvas);}getRoomInstanceRenderingCanvasOffset(roomId){let canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;if(canvasId===-1)canvasId=this._activeRoomActiveCanvas;const renderingCanvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(!renderingCanvas)return null;return new math[\"g\" /* Point */](renderingCanvas.screenOffsetX,renderingCanvas.screenOffsetY);}setRoomInstanceRenderingCanvasOffset(roomId,canvasId,point){const renderingCanvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(!renderingCanvas||!point)return false;const x=~~point.x;const y=~~point.y;if(renderingCanvas.screenOffsetX===x&&renderingCanvas.screenOffsetY===y)return;this.events.dispatchEvent(new RoomDragEvent_RoomDragEvent(roomId,-(renderingCanvas.screenOffsetX-x),-(renderingCanvas.screenOffsetY-y)));renderingCanvas.screenOffsetX=x;renderingCanvas.screenOffsetY=y;return true;}getRoomInstanceRenderingCanvasScale(){let roomId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1000;let canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;if(roomId===-1000)roomId=this._activeRoomId;if(canvasId===-1)canvasId=this._activeRoomActiveCanvas;const canvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(!canvas)return 1;return canvas.scale;}initializeRoomInstanceRenderingCanvas(roomId,canvasId,width,height){const canvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(!canvas)return;canvas.initialize(width,height);}getRoomInstanceGeometry(roomId){let canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;const instance=this.getRoomInstance(roomId);if(!instance)return null;const renderer=instance.renderer;if(!renderer)return null;if(canvasId===-1)canvasId=this._activeRoomActiveCanvas;const canvas=renderer.getCanvas(canvasId);if(!canvas)return null;return canvas.geometry;}getRoomInstanceVariable(roomId,key){const instance=this.getRoomInstance(roomId);if(!instance)return null;return instance.model&&instance.model.getValue(key)||null;}updateRoomInstancePlaneVisibility(roomId,wallVisible){let floorVisible=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const object=this.getRoomOwnObject(roomId);if(!object)return false;object.processUpdateMessage(new ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage(ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage.WALL_VISIBILITY,wallVisible));object.processUpdateMessage(new ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage(ObjectRoomPlaneVisibilityUpdateMessage_ObjectRoomPlaneVisibilityUpdateMessage.FLOOR_VISIBILITY,floorVisible));return true;}updateRoomInstancePlaneThickness(roomId,wallThickness,floorThickness){const object=this.getRoomOwnObject(roomId);if(!object)return false;object.processUpdateMessage(new ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage(ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage.WALL_THICKNESS,wallThickness));object.processUpdateMessage(new ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage(ObjectRoomPlanePropertyUpdateMessage_ObjectRoomPlanePropertyUpdateMessage.FLOOR_THICKNESS,floorThickness));return true;}updateRoomInstancePlaneType(roomId){let floorType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let wallType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let landscapeType=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const roomObject=this.getRoomOwnObject(roomId);const roomInstance=this.getRoomInstance(roomId);if(!roomObject){let roomData=this._roomDatas.get(roomId);if(!roomData){roomData=new RoomData(roomId,null);this._roomDatas.set(roomId,roomData);}if(floorType)roomData.floorType=floorType;if(wallType)roomData.wallType=wallType;if(landscapeType)roomData.landscapeType=landscapeType;return true;}if(floorType){if(roomInstance&&!_arg_5)roomInstance.model.setValue(RoomObjectVariable.ROOM_FLOOR_TYPE,floorType);roomObject.processUpdateMessage(new ObjectRoomUpdateMessage_ObjectRoomUpdateMessage(ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE,floorType));}if(wallType){if(roomInstance&&!_arg_5)roomInstance.model.setValue(RoomObjectVariable.ROOM_WALL_TYPE,wallType);roomObject.processUpdateMessage(new ObjectRoomUpdateMessage_ObjectRoomUpdateMessage(ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_WALL_UPDATE,wallType));}if(landscapeType){if(roomInstance&&!_arg_5)roomInstance.model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE,landscapeType);roomObject.processUpdateMessage(new ObjectRoomUpdateMessage_ObjectRoomUpdateMessage(ObjectRoomUpdateMessage_ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE,landscapeType));}return true;}updateObjectRoomColor(k,_arg_2,_arg_3,_arg_4){const roomObject=this.getRoomOwnObject(k);if(!roomObject||!roomObject.logic)return false;const event=new ObjectRoomColorUpdateMessage_ObjectRoomColorUpdateMessage(ObjectRoomColorUpdateMessage_ObjectRoomColorUpdateMessage.BACKGROUND_COLOR,_arg_2,_arg_3,_arg_4);roomObject.logic.processUpdateMessage(event);this.events.dispatchEvent(new RoomBackgroundColorEvent_RoomBackgroundColorEvent(k,_arg_2,_arg_3,_arg_4));return true;}addRoomInstanceFloorHole(roomId,objectId){if(objectId<0)return;const roomOwnObject=this.getRoomOwnObject(roomId);const roomObject=this.getRoomObjectFloor(roomId,objectId);if(roomOwnObject&&roomOwnObject.logic&&roomObject&&roomObject.model){const location=roomObject.getLocation();const sizeX=roomObject.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);const sizeY=roomObject.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);roomOwnObject.processUpdateMessage(new ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage(ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage.ADD,objectId,location.x,location.y,sizeX,sizeY));}}removeRoomInstanceFloorHole(roomId,objectId){if(objectId<0)return;const roomOwnObject=this.getRoomOwnObject(roomId);if(roomOwnObject){roomOwnObject.processUpdateMessage(new ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage(ObjectRoomFloorHoleUpdateMessage_ObjectRoomFloorHoleUpdateMessage.REMOVE,objectId));}}setRoomEngineGameMode(roomId,isPlaying){const roomInstance=this.getRoomInstance(roomId);if(!roomInstance)return;const mode=isPlaying?1:0;roomInstance.model.setValue(RoomVariableEnum.IS_PLAYING_GAME,mode);if(mode===0){this.events.dispatchEvent(new RoomEngineEvent_RoomEngineEvent(RoomEngineEvent_RoomEngineEvent.NORMAL_MODE,roomId));}else{this.events.dispatchEvent(new RoomEngineEvent_RoomEngineEvent(RoomEngineEvent_RoomEngineEvent.GAME_MODE,roomId));}}isRoomIdPlayingGame(roomId){const roomInstance=this.getRoomInstance(roomId);if(!roomInstance)return false;return roomInstance.model.getValue(RoomVariableEnum.IS_PLAYING_GAME)>0;}isPlayingGame(){return this.isRoomIdPlayingGame(this._activeRoomId);}disableUpdate(flag){if(flag){Nitro_Nitro.instance.ticker.remove(this.update,this);}else{Nitro_Nitro.instance.ticker.remove(this.update,this);Nitro_Nitro.instance.ticker.add(this.update,this);}}runUpdate(){this.update(1);}runVisibilityUpdate(){if(!document.hidden)this.update(1,true);}update(time){let update=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._roomManager)return;time=Nitro_Nitro.instance.time;RoomEnterEffect_RoomEnterEffect.turnVisualizationOn();this.processPendingFurniture();this._roomManager.update(time,update);this.updateRoomCameras(time);if(this._mouseCursorUpdate)this.setPointer();RoomEnterEffect_RoomEnterEffect.turnVisualizationOff();}setPointer(){this._mouseCursorUpdate=false;const instanceData=this.getRoomInstanceData(this._activeRoomId);if(instanceData&&instanceData.hasButtonMouseCursorOwners()){document.body.style.cursor='pointer';}else{document.body.style.cursor='auto';}}processPendingFurniture(){if(this._skipFurnitureCreationForNextFrame){this._skipFurnitureCreationForNextFrame=false;return;}const startTime=new Date().valueOf();const furniturePerTick=5;const hasTickLimit=true;for(const instanceData of this._roomInstanceDatas.values()){if(!instanceData)continue;let pendingData=null;let totalFurnitureAdded=0;let furnitureAdded=false;while(pendingData=instanceData.getNextPendingFurnitureFloor()){furnitureAdded=this.processPendingFurnitureFloor(instanceData.roomId,pendingData.id,pendingData);if(hasTickLimit){if(!(++totalFurnitureAdded%furniturePerTick)){const time=new Date().valueOf();if(time-startTime>=40){this._skipFurnitureCreationForNextFrame=true;break;}}}}while(!this._skipFurnitureCreationForNextFrame&&(pendingData=instanceData.getNextPendingFurnitureWall())){furnitureAdded=this.processPendingFurnitureWall(instanceData.roomId,pendingData.id,pendingData);if(hasTickLimit){if(!(++totalFurnitureAdded%furniturePerTick)){const time=new Date().valueOf();if(time-startTime>=40){this._skipFurnitureCreationForNextFrame=true;break;}}}}if(furnitureAdded&&this._roomManager){const roomInstance=this._roomManager.getRoomInstance(this.getRoomId(instanceData.roomId));if(!roomInstance.hasUninitializedObjects())this.objectsInitialized(instanceData.roomId.toString());}if(this._skipFurnitureCreationForNextFrame)return;}}onRoomEngineInitalized(flag){if(!flag)return;this._ready=true;this.events.dispatchEvent(new RoomEngineEvent_RoomEngineEvent(RoomEngineEvent_RoomEngineEvent.ENGINE_INITIALIZED,0));for(const roomData of this._roomDatas.values()){if(!roomData)continue;this.createRoomInstance(roomData.roomId,roomData.data);}}processPendingFurnitureFloor(roomId,id,data){if(!data){const instanceData=this.getRoomInstanceData(roomId);if(instanceData)data=instanceData.getPendingFurnitureFloor(id);if(!data)return false;}let type=data.type;let didLoad=false;if(!type){type=this.getFurnitureFloorName(data.typeId);didLoad=true;}const object=this.createRoomObjectFloor(roomId,id,type);if(!object)return false;const model=object.model;if(model){model.setValue(RoomObjectVariable.FURNITURE_COLOR,this.getFurnitureFloorColorIndex(data.typeId));model.setValue(RoomObjectVariable.FURNITURE_TYPE_ID,data.typeId);model.setValue(RoomObjectVariable.FURNITURE_AD_URL,this.getRoomObjectAdUrl(data.type));model.setValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT,data.realRoomObject?1:0);model.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,data.expiryTime);model.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,Nitro_Nitro.instance.time);model.setValue(RoomObjectVariable.FURNITURE_USAGE_POLICY,data.usagePolicy);model.setValue(RoomObjectVariable.FURNITURE_OWNER_ID,data.ownerId);model.setValue(RoomObjectVariable.FURNITURE_OWNER_NAME,data.ownerName);}if(!this.updateRoomObjectFloor(roomId,id,data.location,data.direction,data.state,data.data,data.extra))return false;if(data.sizeZ>=0){if(!this.updateRoomObjectFloorHeight(roomId,id,data.sizeZ))return false;}if(this.events)this.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED,roomId,id,RoomObjectCategory.FLOOR));const selectedRoomObjectData=this.getPlacedRoomObjectData(roomId);if(selectedRoomObjectData&&selectedRoomObjectData.id===id&&selectedRoomObjectData.category===RoomObjectCategory.FLOOR){this.selectRoomObject(roomId,id,RoomObjectCategory.FLOOR);}if(object.isReady&&data.synchronized)this.addObjectToTileMap(roomId,object);return true;}processPendingFurnitureWall(roomId,id,data){if(!data){const instanceData=this.getRoomInstanceData(roomId);if(instanceData)data=instanceData.getPendingFurnitureWall(id);if(!data)return false;}let extra='';if(data.data)extra=data.data.getLegacyString();let type=this.getFurnitureWallName(data.typeId,extra);if(!type)type='';const object=this.createRoomObjectWall(roomId,id,type);if(!object)return false;const model=object.model;if(model){model.setValue(RoomObjectVariable.FURNITURE_COLOR,this.getFurnitureWallColorIndex(data.typeId));model.setValue(RoomObjectVariable.FURNITURE_TYPE_ID,data.typeId);model.setValue(RoomObjectVariable.FURNITURE_AD_URL,this.getRoomObjectAdUrl(data.type));model.setValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT,data.realRoomObject?1:0);model.setValue(RoomObjectVariable.OBJECT_ACCURATE_Z_VALUE,1);model.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,data.expiryTime);model.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,Nitro_Nitro.instance.time);model.setValue(RoomObjectVariable.FURNITURE_USAGE_POLICY,data.usagePolicy);model.setValue(RoomObjectVariable.FURNITURE_OWNER_ID,data.ownerId);model.setValue(RoomObjectVariable.FURNITURE_OWNER_NAME,data.ownerName);}if(!this.updateRoomObjectWall(roomId,id,data.location,data.direction,data.state,extra))return false;if(this.events)this.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED,roomId,id,RoomObjectCategory.WALL));const selectedRoomObjectData=this.getPlacedRoomObjectData(roomId);if(selectedRoomObjectData&&Math.abs(selectedRoomObjectData.id)===id&&selectedRoomObjectData.category===RoomObjectCategory.WALL){this.selectRoomObject(roomId,id,RoomObjectCategory.WALL);}return true;}setRoomSessionOwnUser(roomId,objectId){if(!this._roomSessionManager)return;const session=this._roomSessionManager.getSession(roomId);if(session){session.setOwnRoomIndex(objectId);}const camera=this.getRoomCamera(roomId);if(camera){camera.targetId=objectId;camera.targetCategory=RoomObjectCategory.UNIT;camera.activateFollowing(this.cameraFollowDuration);}}get cameraFollowDuration(){return 1000;//return (getBoolean(\"room.camera.follow_user\")) ? 1000 : 0;\n}updateRoomCameras(time){for(const instanceData of this._roomInstanceDatas.values()){if(!instanceData)continue;const camera=instanceData.roomCamera;if(!camera)continue;let location=null;const object=this.getRoomObject(instanceData.roomId,camera.targetId,camera.targetCategory);if(object)location=object.getLocation();if(!location)continue;if(instanceData.roomId!==this._activeRoomId||!this._activeRoomIsDragged){this.updateRoomCamera(instanceData.roomId,1,location,time);}}if(this._activeRoomWasDragged){const renderingCanvas=this.getRoomInstanceRenderingCanvas(this._activeRoomId,1);if(renderingCanvas)this.setRoomInstanceRenderingCanvasOffset(this._activeRoomId,1,new math[\"g\" /* Point */](renderingCanvas.screenOffsetX+this._activeRoomDragX,renderingCanvas.screenOffsetY+this._activeRoomDragY));this._activeRoomDragX=0;this._activeRoomDragY=0;}}updateRoomCamera(roomId,canvasId,objectLocation,time){const renderingCanvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);const instanceData=this.getRoomInstanceData(roomId);if(!renderingCanvas||!instanceData||renderingCanvas.scale!==1)return;const roomGeometry=renderingCanvas.geometry;const roomCamera=instanceData.roomCamera;const roomInstance=this.getRoomInstance(roomId);if(!roomGeometry||!roomCamera||!roomInstance)return;const canvasRectangle=this.getRoomCanvasRectangle(roomId,canvasId);if(!canvasRectangle)return;let _local_10=Math.floor(objectLocation.z)+1;const width=Math.round(canvasRectangle.width);const height=Math.round(canvasRectangle.height);const bounds=this.getCanvasBoundingRectangle(canvasId);if(bounds&&(bounds.right<0||bounds.bottom<0||bounds.left>=width||bounds.top>=height)){roomCamera.reset();}if(roomCamera.screenWd!==width||roomCamera.screenHt!==height||roomCamera.scale!==roomGeometry.scale||roomCamera.geometryUpdateId!==roomGeometry.updateId||!Vector3d.isEqual(objectLocation,roomCamera.targetObjectLoc)||roomCamera.isMoving){roomCamera.targetObjectLoc=objectLocation;const _local_15=new Vector3d();_local_15.assign(objectLocation);_local_15.x=Math.round(_local_15.x);_local_15.y=Math.round(_local_15.y);const _local_16=roomInstance.model.getValue(RoomVariableEnum.ROOM_MIN_X)-0.5;const _local_17=roomInstance.model.getValue(RoomVariableEnum.ROOM_MIN_Y)-0.5;const _local_18=roomInstance.model.getValue(RoomVariableEnum.ROOM_MAX_X)+0.5;const _local_19=roomInstance.model.getValue(RoomVariableEnum.ROOM_MAX_Y)+0.5;const _local_20=Math.round((_local_16+_local_18)/2);const _local_21=Math.round((_local_17+_local_19)/2);const _local_22=2;let _local_23=new math[\"g\" /* Point */](_local_15.x-_local_20,_local_15.y-_local_21);const _local_24=roomGeometry.scale/Math.sqrt(2);const _local_25=_local_24/2;const _local_26=new math[\"d\" /* Matrix */]();_local_26.rotate(-(roomGeometry.direction.x+90)/180*Math.PI);_local_23=_local_26.apply(_local_23);_local_23.y=_local_23.y*(_local_25/_local_24);const _local_27=canvasRectangle.width/2/_local_24-1;const _local_28=canvasRectangle.height/2/_local_25-1;let _local_29=0;let _local_30=0;let _local_31=0;let _local_32=0;let _local_33=roomGeometry.getScreenPoint(new Vector3d(_local_20,_local_21,_local_22));if(!_local_33)return;_local_33.x=_local_33.x+Math.round(canvasRectangle.width/2);_local_33.y=_local_33.y+Math.round(canvasRectangle.height/2);if(bounds){bounds.x+=-renderingCanvas.screenOffsetX;bounds.y+=-renderingCanvas.screenOffsetY;if(bounds.width>1&&bounds.height>1){_local_29=(bounds.left-_local_33.x-roomGeometry.scale*0.25)/_local_24;_local_31=(bounds.right-_local_33.x+roomGeometry.scale*0.25)/_local_24;_local_30=(bounds.top-_local_33.y-roomGeometry.scale*0.5)/_local_25;_local_32=(bounds.bottom-_local_33.y+roomGeometry.scale*0.5)/_local_25;}else{roomGeometry.adjustLocation(new Vector3d(-30,-30),25);return;}}else{roomGeometry.adjustLocation(new Vector3d(0,0),25);return;}let _local_34=false;let _local_35=false;let _local_36=false;let _local_37=false;const _local_38=Math.round((_local_31-_local_29)*_local_24);if(_local_38<canvasRectangle.width){_local_10=2;_local_23.x=(_local_31+_local_29)/2;_local_36=true;}else{if(_local_23.x>_local_31-_local_27){_local_23.x=_local_31-_local_27;_local_34=true;}if(_local_23.x<_local_29+_local_27){_local_23.x=_local_29+_local_27;_local_34=true;}}const _local_39=Math.round((_local_32-_local_30)*_local_25);if(_local_39<canvasRectangle.height){_local_10=2;_local_23.y=(_local_32+_local_30)/2;_local_37=true;}else{if(_local_23.y>_local_32-_local_28){_local_23.y=_local_32-_local_28;_local_35=true;}if(_local_23.y<_local_30+_local_28){_local_23.y=_local_30+_local_28;_local_35=true;}if(_local_35){_local_23.y=_local_23.y/(_local_25/_local_24);}}_local_26.invert();_local_23=_local_26.apply(_local_23);_local_23.x=_local_23.x+_local_20;_local_23.y=_local_23.y+_local_21;let _local_40=0.35;let _local_41=0.2;let _local_42=0.2;const _local_43=10;const _local_44=10;if(_local_42*width>100){_local_42=100/width;}if(_local_40*height>150){_local_40=150/height;}if(_local_41*height>150){_local_41=150/height;}if(roomCamera.limitedLocationX&&roomCamera.screenWd==width&&roomCamera.screenHt==height){_local_42=0;}if(roomCamera.limitedLocationY&&roomCamera.screenWd==width&&roomCamera.screenHt==height){_local_40=0;_local_41=0;}canvasRectangle.width=canvasRectangle.width*(1-_local_42*2);canvasRectangle.height=canvasRectangle.height*(1-(_local_40+_local_41));if(canvasRectangle.width<_local_43){canvasRectangle.width=_local_43;}if(canvasRectangle.height<_local_44){canvasRectangle.height=_local_44;}if(_local_40+_local_41>0){canvasRectangle.x+=-canvasRectangle.width/2;canvasRectangle.y+=-canvasRectangle.height*(_local_41/(_local_40+_local_41));}else{canvasRectangle.x+=-canvasRectangle.width/2;canvasRectangle.y+=-canvasRectangle.height/2;}_local_33=roomGeometry.getScreenPoint(_local_15);if(!_local_33)return;if(_local_33){_local_33.x=_local_33.x+renderingCanvas.screenOffsetX;_local_33.y=_local_33.y+renderingCanvas.screenOffsetY;_local_15.z=_local_10;_local_15.x=Math.round(_local_23.x*2)/2;_local_15.y=Math.round(_local_23.y*2)/2;if(!roomCamera.location){roomGeometry.location=_local_15;if(this.useOffsetScrolling){roomCamera.initializeLocation(new Vector3d(0,0,0));}else{roomCamera.initializeLocation(_local_15);}}const _local_45=roomGeometry.getScreenPoint(_local_15);const _local_46=new Vector3d(0,0,0);if(_local_45){_local_46.x=_local_45.x;_local_46.y=_local_45.y;}if((_local_33.x<canvasRectangle.left||_local_33.x>canvasRectangle.right)&&!roomCamera.centeredLocX||(_local_33.y<canvasRectangle.top||_local_33.y>canvasRectangle.bottom)&&!roomCamera.centeredLocY||_local_36&&!roomCamera.centeredLocX&&!(roomCamera.screenWd==width)||_local_37&&!roomCamera.centeredLocY&&!(roomCamera.screenHt==height)||!(roomCamera.roomWd==bounds.width)||!(roomCamera.roomHt==bounds.height)||!(roomCamera.screenWd==width)||!(roomCamera.screenHt==height)){roomCamera.limitedLocationX=_local_34;roomCamera.limitedLocationY=_local_35;if(this.useOffsetScrolling){roomCamera.target=_local_46;}else{roomCamera.target=_local_15;}}else{if(!_local_34)roomCamera.limitedLocationX=false;if(!_local_35)roomCamera.limitedLocationY=false;}}roomCamera.centeredLocX=_local_36;roomCamera.centeredLocY=_local_37;roomCamera.screenWd=width;roomCamera.screenHt=height;roomCamera.scale=roomGeometry.scale;roomCamera.geometryUpdateId=roomGeometry.updateId;roomCamera.roomWd=bounds.width;roomCamera.roomHt=bounds.height;if(!this._sessionDataManager.isCameraFollowDisabled){if(this.useOffsetScrolling){roomCamera.update(time,8);}else{roomCamera.update(time,0.5);}}if(this.useOffsetScrolling){this.setRoomInstanceRenderingCanvasOffset(this.activeRoomId,1,new math[\"g\" /* Point */](-roomCamera.location.x,-roomCamera.location.y));}else{roomGeometry.adjustLocation(roomCamera.location,25);}}else{roomCamera.limitedLocationX=false;roomCamera.limitedLocationY=false;roomCamera.centeredLocX=false;roomCamera.centeredLocY=false;}}getRoomCanvasRectangle(roomId,canvasId){const canvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(!canvas)return null;return new math[\"j\" /* Rectangle */](0,0,canvas.width,canvas.height);}getRoomObjectBoundingRectangle(roomId,objectId,category,canvasId){const geometry=this.getRoomInstanceGeometry(roomId,canvasId);if(!geometry)return null;const roomObject=this.getRoomObject(roomId,objectId,category);if(!roomObject)return null;const visualization=roomObject.visualization;if(!visualization)return null;const rectangle=visualization.getBoundingRectangle();const canvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);const scale=canvas?canvas.scale:1;const screenPoint=geometry.getScreenPoint(roomObject.getLocation());if(!screenPoint)return null;screenPoint.x=Math.round(screenPoint.x);screenPoint.y=Math.round(screenPoint.y);rectangle.x=rectangle.x*scale;rectangle.y=rectangle.y*scale;rectangle.width=rectangle.width*scale;rectangle.height=rectangle.height*scale;screenPoint.x=screenPoint.x*scale;screenPoint.y=screenPoint.y*scale;rectangle.x+=screenPoint.x;rectangle.y+=screenPoint.y;if(!canvas)return null;rectangle.x+=Math.round(canvas.width/2)+canvas.screenOffsetX;rectangle.y+=Math.round(canvas.height/2)+canvas.screenOffsetY;return rectangle;}getCanvasBoundingRectangle(canvasId){return this.getRoomObjectBoundingRectangle(this._activeRoomId,RoomEngine_RoomEngine.ROOM_OBJECT_ID,RoomObjectCategory.ROOM,canvasId);}getFurnitureFloorName(typeId){if(!this._roomContentLoader)return null;return this._roomContentLoader.getFurnitureFloorNameForTypeId(typeId);}getFurnitureWallName(typeId){let extra=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!this._roomContentLoader)return null;return this._roomContentLoader.getFurnitureWallNameForTypeId(typeId,extra);}getFurnitureFloorColorIndex(typeId){if(!this._roomContentLoader)return null;return this._roomContentLoader.getFurnitureFloorColorIndex(typeId);}getFurnitureWallColorIndex(typeId){if(!this._roomContentLoader)return null;return this._roomContentLoader.getFurnitureWallColorIndex(typeId);}getRoomInstanceData(roomId){const existing=this._roomInstanceDatas.get(roomId);if(existing)return existing;const data=new RoomInstanceData_RoomInstanceData(roomId);this._roomInstanceDatas.set(data.roomId,data);return data;}getRoomInstanceModelName(roomId){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;return instanceData.modelName;}setRoomInstanceModelName(roomId,name){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return;instanceData.setModelName(name);}getRoomTileObjectMap(k){const roomInstance=this.getRoomInstanceData(k);if(!roomInstance)return null;return roomInstance.tileObjectMap;}getCurrentRoomCamera(){return this.getRoomCamera(this._activeRoomId);}getRoomCamera(roomId){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;return instanceData.roomCamera;}getSelectedRoomObjectData(roomId){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;return instanceData.selectedObject;}setSelectedRoomObjectData(roomId,data){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;instanceData.setSelectedObject(data);if(data)instanceData.setPlacedObject(null);}getPlacedRoomObjectData(roomId){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;return instanceData.placedObject;}setPlacedRoomObjectData(roomId,data){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;instanceData.setPlacedObject(data);}cancelRoomObjectPlacement(){if(!this._roomObjectEventHandler)return;this._roomObjectEventHandler.cancelRoomObjectPlacement(this._activeRoomId);}getFurnitureStackingHeightMap(roomId){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;return instanceData.furnitureStackingHeightMap;}setFurnitureStackingHeightMap(roomId,heightMap){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;instanceData.setFurnitureStackingHeightMap(heightMap);}getLegacyWallGeometry(roomId){const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return null;return instanceData.legacyGeometry;}createRoomObjectAndInitialize(roomId,objectId,type,category){const instance=this.getRoomInstance(roomId);if(!instance)return null;return instance.createRoomObjectAndInitalize(objectId,type,category);}getTotalObjectsForManager(roomId,category){const instance=this.getRoomInstance(roomId);if(!instance)return 0;return instance.getTotalObjectsForManager(category);}getRoomObject(roomId,objectId,category){if(!this._ready)return null;let roomIdString=this.getRoomId(roomId);if(roomId===0)roomIdString=RoomEngine_RoomEngine.TEMPORARY_ROOM;return this.getObject(roomIdString,objectId,category);}getObject(roomId,objectId,category){let roomInstance=null;if(this._roomManager)roomInstance=this._roomManager.getRoomInstance(roomId);if(!roomInstance)return null;let roomObject=roomInstance.getRoomObject(objectId,category);if(!roomObject){switch(category){case RoomObjectCategory.FLOOR:this.processPendingFurnitureFloor(this.getRoomIdFromString(roomId),objectId,null);roomObject=roomInstance.getRoomObject(objectId,category);break;case RoomObjectCategory.WALL:this.processPendingFurnitureWall(this.getRoomIdFromString(roomId),objectId,null);roomObject=roomInstance.getRoomObject(objectId,category);break;}}return roomObject;}getRoomObjectByIndex(roomId,index,category){const instance=this.getRoomInstance(roomId);if(!instance)return null;return instance.getRoomObjectByIndex(index,category);}getRoomObjectCategoryForType(type){if(!type||!this._roomContentLoader)return RoomObjectCategory.MINIMUM;return this._roomContentLoader.getCategoryForType(type);}getRoomObjectCursor(roomId){return this.getObject(this.getRoomId(roomId),RoomEngine_RoomEngine.CURSOR_OBJECT_ID,RoomObjectCategory.CURSOR);}getRoomObjectSelectionArrow(roomId){return this.getObject(this.getRoomId(roomId),RoomEngine_RoomEngine.ARROW_OBJECT_ID,RoomObjectCategory.CURSOR);}getRoomOwnObject(roomId){return this.getObject(this.getRoomId(roomId),RoomEngine_RoomEngine.ROOM_OBJECT_ID,RoomObjectCategory.ROOM);}getRoomObjectUser(roomId,objectId){return this.getObject(this.getRoomId(roomId),objectId,RoomObjectCategory.UNIT);}removeRoomObjectUser(roomId,objectId){return this.removeRoomObject(roomId,objectId,RoomObjectCategory.UNIT);}createRoomObjectUser(roomId,objectId,type){return this.createRoomObjectAndInitialize(roomId,objectId,type,RoomObjectCategory.UNIT);}getRoomObjectFloor(roomId,objectId){return this.getObject(this.getRoomId(roomId),objectId,RoomObjectCategory.FLOOR);}createRoomObjectFloor(roomId,id,type){return this.createRoomObjectAndInitialize(roomId,id,type,RoomObjectCategory.FLOOR);}removeRoomObjectFloor(roomId,objectId){let userId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const roomInstanceData=this.getRoomInstanceData(roomId);if(roomInstanceData)roomInstanceData.removePendingFunitureFloor(objectId);if(this._sessionDataManager&&userId===this._sessionDataManager.userId&&!FurniId.isBuilderClubId(objectId)){const roomObject=this.getRoomObject(roomId,objectId,RoomObjectCategory.FLOOR);if(roomObject){const screenLocation=this.getRoomObjectScreenLocation(roomId,objectId,RoomObjectCategory.FLOOR,this._activeRoomActiveCanvas);if(screenLocation){const disabledPickingAnimation=roomObject.model.getValue(RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION)===1;if(!disabledPickingAnimation){const typeId=roomObject.model.getValue(RoomObjectVariable.FURNITURE_TYPE_ID);const extras=roomObject.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS);const dataKey=roomObject.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT);const objectData=ObjectDataFactory_ObjectDataFactory.getData(dataKey);const icon=this.getFurnitureFloorIcon(typeId,null,extras,objectData).data;if(icon){const image=TextureUtils_TextureUtils.generateImage(icon);if(this.events){const event=new NitroToolbarAnimateIconEvent_NitroToolbarAnimateIconEvent(image,screenLocation.x,screenLocation.y);event.iconName=ToolbarIconEnum.INVENTORY;this.events.dispatchEvent(event);}}}}}}this.removeRoomObject(roomId,objectId,RoomObjectCategory.FLOOR);this.setMouseDefault(roomId,RoomObjectCategory.FLOOR,objectId);if(_arg_4)this.refreshTileObjectMap(roomId,'RoomEngine.disposeObjectFurniture()');}getRoomObjectWall(roomId,objectId){return this.getObject(this.getRoomId(roomId),objectId,RoomObjectCategory.WALL);}removeRoomObjectWall(roomId,objectId){let userId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;if(this._sessionDataManager&&userId===this._sessionDataManager.userId&&!FurniId.isBuilderClubId(objectId)){const roomObject=this.getRoomObject(roomId,objectId,RoomObjectCategory.WALL);if(roomObject&&roomObject.type.indexOf('post_it')===-1&&roomObject.type.indexOf('external_image_wallitem')===-1){const screenLocation=this.getRoomObjectScreenLocation(roomId,objectId,RoomObjectCategory.WALL,this._activeRoomActiveCanvas);if(screenLocation){const typeId=roomObject.model.getValue(RoomObjectVariable.FURNITURE_TYPE_ID);const objectData=roomObject.model.getValue(RoomObjectVariable.FURNITURE_DATA);const icon=this.getFurnitureWallIcon(typeId,null,objectData).data;if(icon){const image=TextureUtils_TextureUtils.generateImage(icon);if(this.events){const event=new NitroToolbarAnimateIconEvent_NitroToolbarAnimateIconEvent(image,screenLocation.x,screenLocation.y);event.iconName=ToolbarIconEnum.INVENTORY;this.events.dispatchEvent(event);}}}}}this.removeRoomObject(roomId,objectId,RoomObjectCategory.WALL);this.updateRoomObjectMask(roomId,objectId,false);this.setMouseDefault(roomId,RoomObjectCategory.WALL,objectId);}createRoomObjectWall(roomId,id,type){return this.createRoomObjectAndInitialize(roomId,id,type,RoomObjectCategory.WALL);}removeRoomObject(roomId,objectId,category){const instance=this.getRoomInstance(roomId);if(!instance)return null;instance.removeRoomObject(objectId,category);if(this.events)this.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.REMOVED,roomId,objectId,category));}addFurnitureFloor(roomId,id,typeId,location,direction,state,objectData){let extra=arguments.length>7&&arguments[7]!==undefined?arguments[7]:NaN;let expires=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;let usagePolicy=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let ownerId=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let ownerName=arguments.length>11&&arguments[11]!==undefined?arguments[11]:'';let synchronized=arguments.length>12&&arguments[12]!==undefined?arguments[12]:true;let realRoomObject=arguments.length>13&&arguments[13]!==undefined?arguments[13]:true;let sizeZ=arguments.length>14&&arguments[14]!==undefined?arguments[14]:-1;const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return false;const furnitureData=new RoomFurnitureData_RoomFurnitureData(id,typeId,null,location,direction,state,objectData,extra,expires,usagePolicy,ownerId,ownerName,synchronized,realRoomObject,sizeZ);instanceData.addPendingFurnitureFloor(furnitureData);return true;}addFurnitureFloorByTypeName(roomId,id,typeName,location,direction,state,objectData){let extra=arguments.length>7&&arguments[7]!==undefined?arguments[7]:NaN;let expires=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;let usagePolicy=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let ownerId=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;let ownerName=arguments.length>11&&arguments[11]!==undefined?arguments[11]:'';let synchronized=arguments.length>12&&arguments[12]!==undefined?arguments[12]:true;let realRoomObject=arguments.length>13&&arguments[13]!==undefined?arguments[13]:true;let sizeZ=arguments.length>14&&arguments[14]!==undefined?arguments[14]:-1;const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return false;const furnitureData=new RoomFurnitureData_RoomFurnitureData(id,0,typeName,location,direction,state,objectData,extra,expires,usagePolicy,ownerId,ownerName,synchronized,realRoomObject,sizeZ);instanceData.addPendingFurnitureFloor(furnitureData);return true;}addFurnitureWall(roomId,id,typeId,location,direction,state,extra){let expires=arguments.length>7&&arguments[7]!==undefined?arguments[7]:-1;let usagePolicy=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let ownerId=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;let ownerName=arguments.length>10&&arguments[10]!==undefined?arguments[10]:'';let realRoomObject=arguments.length>11&&arguments[11]!==undefined?arguments[11]:true;const instanceData=this.getRoomInstanceData(roomId);if(!instanceData)return false;const objectData=new LegacyDataType_LegacyDataType();objectData.setString(extra);const furnitureData=new RoomFurnitureData_RoomFurnitureData(id,typeId,null,location,direction,state,objectData,NaN,expires,usagePolicy,ownerId,ownerName,true,realRoomObject);instanceData.addPendingFurnitureWall(furnitureData);return true;}updateRoomObjectFloor(roomId,objectId,location,direction,state,data){let extra=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;const object=this.getRoomObjectFloor(roomId,objectId);if(!object)return false;object.processUpdateMessage(new RoomObjectUpdateMessage(location,direction));object.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(state,data,extra));return true;}updateRoomObjectWall(roomId,objectId,location,direction,state){let extra=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;const object=this.getRoomObjectWall(roomId,objectId);if(!object||!object.logic)return false;const updateMessage=new RoomObjectUpdateMessage(location,direction);const data=new LegacyDataType_LegacyDataType();const dataUpdateMessage=new ObjectDataUpdateMessage_ObjectDataUpdateMessage(state,data);data.setString(extra);object.logic.processUpdateMessage(updateMessage);object.logic.processUpdateMessage(dataUpdateMessage);this.updateRoomObjectMask(roomId,objectId);return true;}updateRoomObjectWallItemData(roomId,objectId,data){const object=this.getRoomObjectWall(roomId,objectId);if(!object||!object.logic)return false;object.logic.processUpdateMessage(new ObjectItemDataUpdateMessage_ObjectItemDataUpdateMessage(data));return true;}updateRoomObjectFloorHeight(roomId,objectId,height){const object=this.getRoomObjectFloor(roomId,objectId);if(!object)return false;object.processUpdateMessage(new ObjectHeightUpdateMessage_ObjectHeightUpdateMessage(null,null,height));return true;}updateRoomObjectFloorExpiration(roomId,objectId,expires){const object=this.getRoomObjectFloor(roomId,objectId);if(!object)return false;object.model.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,expires);object.model.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,Nitro_Nitro.instance.time);return true;}updateRoomObjectWallExpiration(roomId,objectId,expires){const object=this.getRoomObjectWall(roomId,objectId);if(!object)return false;object.model.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,expires);object.model.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,Nitro_Nitro.instance.time);return true;}updateRoomObjectMask(roomId,objectId){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const maskName=RoomObjectCategory.WALL+'_'+objectId;const roomObject=this.getRoomObjectWall(roomId,objectId);let maskUpdate=null;if(roomObject&&roomObject.model){if(roomObject.model.getValue(RoomObjectVariable.FURNITURE_USES_PLANE_MASK)>0){const maskType=roomObject.model.getValue(RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE);const location=roomObject.getLocation();if(_arg_3)maskUpdate=new ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.ADD_MASK,maskName,maskType,location);else maskUpdate=new ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.REMOVE_MASK,maskName);}}else{maskUpdate=new ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage_ObjectRoomMaskUpdateMessage.REMOVE_MASK,maskName);}const roomOwnObject=this.getRoomOwnObject(roomId);if(roomOwnObject&&roomOwnObject.logic&&maskUpdate)roomOwnObject.logic.processUpdateMessage(maskUpdate);}rollRoomObjectFloor(roomId,objectId,location,targetLocation){const object=this.getRoomObjectFloor(roomId,objectId);if(!object)return;object.processUpdateMessage(new ObjectMoveUpdateMessage_ObjectMoveUpdateMessage(location,targetLocation,null,!!targetLocation));}updateRoomObjectWallLocation(roomId,objectId,location){const roomObject=this.getRoomObjectWall(roomId,objectId);if(!roomObject)return false;if(roomObject.logic)roomObject.logic.processUpdateMessage(new ObjectMoveUpdateMessage_ObjectMoveUpdateMessage(location,null,null));this.updateRoomObjectMask(roomId,objectId);return true;}addRoomObjectUser(roomId,objectId,location,direction,headDirection,type,figure){const existing=this.getRoomObjectUser(roomId,objectId);if(existing)return false;let objectType=RoomObjectUserType.getTypeString(type);if(objectType===RoomObjectUserType.PET)objectType=this.getPetType(figure);const object=this.createRoomObjectUser(roomId,objectId,objectType);if(!object)return false;//object.model.setValue(RoomObjectVariable.FIGURE_HIGHLIGHT_ENABLE, 1);\nobject.processUpdateMessage(new ObjectAvatarUpdateMessage_ObjectAvatarUpdateMessage(this.fixedUserLocation(roomId,location),null,direction,headDirection,false,0));if(figure)object.processUpdateMessage(new ObjectAvatarFigureUpdateMessage_ObjectAvatarFigureUpdateMessage(figure));if(this.events)this.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED,roomId,objectId,RoomObjectCategory.UNIT));return true;}updateRoomObjectUserLocation(roomId,objectId,location,targetLocation){let canStandUp=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let baseY=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let direction=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;let headDirection=arguments.length>7&&arguments[7]!==undefined?arguments[7]:NaN;const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;if(!location)location=object.getLocation();if(!direction)direction=object.getDirection();if(isNaN(headDirection))headDirection=object.model.getValue(RoomObjectVariable.HEAD_DIRECTION);object.processUpdateMessage(new ObjectAvatarUpdateMessage_ObjectAvatarUpdateMessage(this.fixedUserLocation(roomId,location),this.fixedUserLocation(roomId,targetLocation),direction,headDirection,canStandUp,baseY));const roomSession=this._roomSessionManager&&this._roomSessionManager.getSession(roomId)||null;if(roomSession&&roomSession.ownRoomIndex===objectId){this._logicFactory.events.dispatchEvent(new RoomToObjectOwnAvatarMoveEvent_RoomToObjectOwnAvatarMoveEvent(RoomToObjectOwnAvatarMoveEvent_RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,targetLocation));}return true;}fixedUserLocation(roomId,location){if(!location)return null;const heightMap=this.getFurnitureStackingHeightMap(roomId);const wallGeometry=this.getLegacyWallGeometry(roomId);if(!heightMap||!wallGeometry)return location;let _local_5=location.z;const _local_6=heightMap.getTileHeight(location.x,location.y);const _local_7=wallGeometry.getHeight(location.x,location.y);if(Math.abs(_local_5-_local_6)<0.1&&Math.abs(_local_6-_local_7)<0.1){_local_5=wallGeometry.getFloorAltitude(location.x,location.y);}return new Vector3d(location.x,location.y,_local_5);}updateRoomObjectUserAction(roomId,objectId,action,value){let parameter=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;let message=null;switch(action){case RoomObjectVariable.FIGURE_TALK:message=new ObjectAvatarChatUpdateMessage_ObjectAvatarChatUpdateMessage(value);break;case RoomObjectVariable.FIGURE_SLEEP:message=new ObjectAvatarSleepUpdateMessage_ObjectAvatarSleepUpdateMessage(value===1);break;case RoomObjectVariable.FIGURE_IS_TYPING:message=new ObjectAvatarTypingUpdateMessage_ObjectAvatarTypingUpdateMessage(value===1);break;case RoomObjectVariable.FIGURE_IS_MUTED:message=new ObjectAvatarMutedUpdateMessage_ObjectAvatarMutedUpdateMessage(value===1);break;case RoomObjectVariable.FIGURE_CARRY_OBJECT:message=new ObjectAvatarCarryObjectUpdateMessage_ObjectAvatarCarryObjectUpdateMessage(value,parameter);break;case RoomObjectVariable.FIGURE_USE_OBJECT:message=new ObjectAvatarUseObjectUpdateMessage_ObjectAvatarUseObjectUpdateMessage(value);break;case RoomObjectVariable.FIGURE_DANCE:message=new ObjectAvatarDanceUpdateMessage_ObjectAvatarDanceUpdateMessage(value);break;case RoomObjectVariable.FIGURE_GAINED_EXPERIENCE:message=new ObjectAvatarExperienceUpdateMessage_ObjectAvatarExperienceUpdateMessage(value);break;case RoomObjectVariable.FIGURE_NUMBER_VALUE:message=new ObjectAvatarPlayerValueUpdateMessage_ObjectAvatarPlayerValueUpdateMessage(value);break;case RoomObjectVariable.FIGURE_SIGN:message=new ObjectAvatarSignUpdateMessage_ObjectAvatarSignUpdateMessage(value);break;case RoomObjectVariable.FIGURE_EXPRESSION:message=new ObjectAvatarExpressionUpdateMessage_ObjectAvatarExpressionUpdateMessage(value);break;case RoomObjectVariable.FIGURE_IS_PLAYING_GAME:message=new ObjectAvatarPlayingGameUpdateMessage_ObjectAvatarPlayingGameUpdateMessage(value===1);break;case RoomObjectVariable.FIGURE_GUIDE_STATUS:message=new ObjectAvatarGuideStatusUpdateMessage_ObjectAvatarGuideStatusUpdateMessage(value);break;}if(!message)return false;object.processUpdateMessage(message);return true;}updateRoomObjectUserFigure(roomId,objectId,figure){let gender=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let subType=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let isRiding=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;object.processUpdateMessage(new ObjectAvatarFigureUpdateMessage_ObjectAvatarFigureUpdateMessage(figure,gender,subType,isRiding));return true;}updateRoomObjectUserFlatControl(roomId,objectId,level){const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;object.processUpdateMessage(new ObjectAvatarFlatControlUpdateMessage_ObjectAvatarFlatControlUpdateMessage(parseInt(level)));return true;}updateRoomObjectUserEffect(roomId,objectId,effectId){let delay=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;object.processUpdateMessage(new ObjectAvatarEffectUpdateMessage_ObjectAvatarEffectUpdateMessage(effectId,delay));return true;}updateRoomObjectUserGesture(roomId,objectId,gestureId){const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;object.processUpdateMessage(new ObjectAvatarGestureUpdateMessage_ObjectAvatarGestureUpdateMessage(gestureId));return true;}updateRoomObjectUserPetGesture(roomId,objectId,gesture){const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;object.processUpdateMessage(new ObjectAvatarPetGestureUpdateMessage_ObjectAvatarPetGestureUpdateMessage(gesture));return true;}updateRoomObjectUserPosture(roomId,objectId,type){let parameter=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;const object=this.getRoomObjectUser(roomId,objectId);if(!object)return false;object.processUpdateMessage(new ObjectAvatarPostureUpdateMessage_ObjectAvatarPostureUpdateMessage(type,parameter));return true;}updateRoomObjectUserOwn(roomId,objectId){const object=this.getRoomObjectUser(roomId,objectId);if(!object)return;object.processUpdateMessage(new ObjectAvatarOwnMessage_ObjectAvatarOwnMessage());}useRoomObject(objectId,category){const roomObject=this.getRoomObject(this._activeRoomId,objectId,category);if(roomObject){const eventHandler=roomObject.logic;if(eventHandler){eventHandler.useObject();return true;}}return false;}objectInitialized(roomId,objectId,category){const id=this.getRoomIdFromString(roomId);if(category===RoomObjectCategory.WALL){this.updateRoomObjectMask(id,objectId);}const object=this.getRoomObject(id,objectId,category);if(object&&object.model&&object.logic){const dataFormat=object.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT);if(!isNaN(dataFormat)){const data=ObjectDataFactory_ObjectDataFactory.getData(dataFormat);data.initializeFromRoomObjectModel(object.model);object.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(object.getState(0),data));}this.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.CONTENT_UPDATED,id,objectId,category));}if(roomId!==RoomEngine_RoomEngine.TEMPORARY_ROOM)this.addObjectToTileMap(id,object);}changeObjectModelData(roomId,objectId,category,numberKey,numberValue){const roomObject=this.getObject(this.getRoomId(roomId),objectId,category);if(!roomObject||!roomObject.logic)return false;const message=new ObjectModelDataUpdateMessage_ObjectModelDataUpdateMessage(numberKey,numberValue);roomObject.processUpdateMessage(message);return true;}changeObjectState(roomId,objectId,category){const roomObject=this.getObject(this.getRoomId(roomId),objectId,category);if(!roomObject||!roomObject.model)return;let stateIndex=roomObject.model.getValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX);if(isNaN(stateIndex))stateIndex=1;else stateIndex=stateIndex+1;roomObject.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,stateIndex);const objectDataKey=roomObject.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT);const objectData=ObjectDataFactory_ObjectDataFactory.getData(objectDataKey);objectData.initializeFromRoomObjectModel(roomObject.model);if(roomObject.logic)roomObject.logic.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(stateIndex,objectData));}loadRoomObjectBadgeImage(roomId,objectId,objectCategory,badgeId){let groupBadge=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;if(!this._sessionDataManager)return;let roomObject=null;if(roomId===0){const room=this._roomManager.getRoomInstance(RoomEngine_RoomEngine.TEMPORARY_ROOM);if(room)roomObject=room.getRoomObject(objectId,objectCategory);}else{roomObject=this.getRoomObjectFloor(roomId,objectId);}if(!roomObject||!roomObject.logic)return;let badgeName=groupBadge?this._sessionDataManager.loadGroupBadgeImage(badgeId):this._sessionDataManager.loadBadgeImage(badgeId);if(!badgeName){badgeName='loading_icon';if(!this._badgeListenerObjects)this._badgeListenerObjects=new Map();if(!this._badgeListenerObjects.size){this._sessionDataManager.events.addEventListener(BadgeImageReadyEvent_BadgeImageReadyEvent.IMAGE_READY,this.onBadgeImageReadyEvent);}let listeners=this._badgeListenerObjects.get(badgeId);if(!listeners)listeners=[];listeners.push(new RoomObjectBadgeImageAssetListener(roomObject,groupBadge));this._badgeListenerObjects.set(badgeId,listeners);}else{this.putBadgeInObjectAssets(roomObject,badgeId,groupBadge);}roomObject.logic.processUpdateMessage(new ObjectGroupBadgeUpdateMessage_ObjectGroupBadgeUpdateMessage(badgeId,badgeName));}onBadgeImageReadyEvent(k){if(!this._sessionDataManager)return;const listeners=this._badgeListenerObjects&&this._badgeListenerObjects.get(k.badgeId);if(!listeners)return;for(const listener of listeners){if(!listener)continue;this.putBadgeInObjectAssets(listener.object,k.badgeId,listener.groupBadge);const badgeName=listener.groupBadge?this._sessionDataManager.loadGroupBadgeImage(k.badgeId):this._sessionDataManager.loadBadgeImage(k.badgeId);if(listener.object&&listener.object.logic)listener.object.logic.processUpdateMessage(new ObjectGroupBadgeUpdateMessage_ObjectGroupBadgeUpdateMessage(k.badgeId,badgeName));}this._badgeListenerObjects.delete(k.badgeId);if(!this._badgeListenerObjects.size){this._sessionDataManager.events.removeEventListener(BadgeImageReadyEvent_BadgeImageReadyEvent.IMAGE_READY,this.onBadgeImageReadyEvent);}}putBadgeInObjectAssets(object,badgeId){let groupBadge=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!this._roomContentLoader||!this._sessionDataManager)return;const badgeName=groupBadge?this._sessionDataManager.loadGroupBadgeImage(badgeId):this._sessionDataManager.loadBadgeImage(badgeId);const badgeImage=groupBadge?this._sessionDataManager.getGroupBadgeImage(badgeId):this._sessionDataManager.getBadgeImage(badgeId);if(badgeImage)this._roomContentLoader.addAssetToCollection(object.type,badgeName,badgeImage,false);}dispatchMouseEvent(canvasId,x,y,type,altKey,ctrlKey,shiftKey,buttonDown){const canvas=this.getRoomInstanceRenderingCanvas(this._activeRoomId,canvasId);if(!canvas)return;const overlay=this.getRenderingCanvasOverlay(canvas);const sprite=this.getOverlayIconSprite(overlay,RoomEngine_RoomEngine.OBJECT_ICON_SPRITE);if(sprite){const rectangle=sprite.getLocalBounds();sprite.x=x-rectangle.width/2;sprite.y=y-rectangle.height/2;}if(!this.handleRoomDragging(canvas,x,y,type,altKey,ctrlKey,shiftKey)){if(!canvas.handleMouseEvent(x,y,type,altKey,ctrlKey,shiftKey,buttonDown)){let eventType=null;if(type===MouseEventType.MOUSE_CLICK){if(this.events){this.events.dispatchEvent(new RoomEngineObjectEvent_RoomEngineObjectEvent(RoomEngineObjectEvent_RoomEngineObjectEvent.DESELECTED,this._activeRoomId,-1,RoomObjectCategory.MINIMUM));}eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.CLICK;}else{if(type===MouseEventType.MOUSE_MOVE)eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_MOVE;else if(type===MouseEventType.MOUSE_DOWN)eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN;else if(type===MouseEventType.MOUSE_DOWN_LONG)eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_DOWN_LONG;else if(type===MouseEventType.MOUSE_UP)eventType=RoomObjectMouseEvent_RoomObjectMouseEvent.MOUSE_UP;}this._roomObjectEventHandler.handleRoomObjectEvent(new RoomObjectMouseEvent_RoomObjectMouseEvent(eventType,this.getRoomObject(this._activeRoomId,RoomEngine_RoomEngine.ROOM_OBJECT_ID,RoomObjectCategory.ROOM),null,altKey),this._activeRoomId);}}this._activeRoomActiveCanvas=canvasId;this._activeRoomActiveCanvasMouseX=x;this._activeRoomActiveCanvasMouseY=y;}handleRoomDragging(canvas,x,y,type,altKey,ctrlKey,shiftKey){let offsetX=x-this._activeRoomActiveCanvasMouseX;let offsetY=y-this._activeRoomActiveCanvasMouseY;if(type===MouseEventType.MOUSE_DOWN){if(!altKey&&!ctrlKey&&!shiftKey&&!this.isDecorating){if(this._roomAllowsDragging){this._activeRoomIsDragged=true;this._activeRoomWasDragged=false;this._activeRoomDragStartX=this._activeRoomActiveCanvasMouseX;this._activeRoomDragStartY=this._activeRoomActiveCanvasMouseY;}}}else if(type===MouseEventType.MOUSE_UP){if(this._activeRoomIsDragged){this._activeRoomIsDragged=false;if(this._activeRoomWasDragged){const instanceData=this.getRoomInstanceData(this._activeRoomId);if(instanceData){const camera=instanceData.roomCamera;if(camera){if(this.useOffsetScrolling){if(!camera.isMoving){camera.centeredLocX=false;camera.centeredLocY=false;}camera.resetLocation(new Vector3d(-canvas.screenOffsetX,-canvas.screenOffsetY));}if(this._roomDraggingAlwaysCenters)camera.reset();}}}}}else if(type===MouseEventType.MOUSE_MOVE){if(this._activeRoomIsDragged){if(!this._activeRoomWasDragged){offsetX=x-this._activeRoomDragStartX;offsetY=y-this._activeRoomDragStartY;if(offsetX<=-RoomEngine_RoomEngine.DRAG_THRESHOLD||offsetX>=RoomEngine_RoomEngine.DRAG_THRESHOLD||offsetY<=-RoomEngine_RoomEngine.DRAG_THRESHOLD||offsetY>=RoomEngine_RoomEngine.DRAG_THRESHOLD){this._activeRoomWasDragged=true;}offsetX=0;offsetY=0;}if(!(offsetX==0)||!(offsetY==0)){this._activeRoomDragX+=offsetX;this._activeRoomDragY+=offsetY;this._activeRoomWasDragged=true;}}}else if(type===MouseEventType.MOUSE_CLICK||type===MouseEventType.DOUBLE_CLICK){this._activeRoomIsDragged=false;if(this._activeRoomWasDragged){this._activeRoomWasDragged=false;return true;}}return false;}updateMousePointer(type,objectId,objectType){const category=this.getRoomObjectCategoryForType(objectType);switch(type){case RoomObjectFurnitureActionEvent_RoomObjectFurnitureActionEvent.MOUSE_BUTTON:this.setMouseButton(this._activeRoomId,category,objectId);return;default:this.setMouseDefault(this._activeRoomId,category,objectId);return;}}setMouseButton(roomId,category,objectId){if(!this._roomSessionManager)return;const session=this._roomSessionManager.getSession(roomId);if(!session)return;if(category!==RoomObjectCategory.FLOOR&&category!==RoomObjectCategory.WALL||session.controllerLevel>=RoomControllerLevel.GUEST){const instanceData=this.getRoomInstanceData(roomId);if(instanceData){if(instanceData.addButtonMouseCursorOwner(category+'_'+objectId))this._mouseCursorUpdate=true;}}}setMouseDefault(roomId,category,objectId){if(!this._roomSessionManager)return;const instanceData=this.getRoomInstanceData(roomId);if(instanceData){if(instanceData.removeButtonMouseCursorOwner(category+'_'+objectId))this._mouseCursorUpdate=true;}}processRoomObjectOperation(objectId,category,operation){if(!this._roomObjectEventHandler)return false;this._roomObjectEventHandler.modifyRoomObject(this._activeRoomId,objectId,category,operation);}modifyRoomObjectDataWithMap(objectId,category,operation,data){if(!this._roomObjectEventHandler)return false;if(category!==RoomObjectCategory.FLOOR)return;this._roomObjectEventHandler.modifyRoomObjectDataWithMap(this._activeRoomId,objectId,category,operation,data);}modifyRoomObjectData(objectId,category,colorHex,data){if(!this._roomObjectEventHandler)return false;if(category!==RoomObjectCategory.WALL)return;this._roomObjectEventHandler.modifyWallItemData(this._activeRoomId,objectId,colorHex,data);}processRoomObjectEvent(event){if(!this._roomObjectEventHandler)return;const roomIdString=this.getRoomObjectRoomId(event.object);if(!roomIdString)return;const roomId=this.getRoomIdFromString(roomIdString);this._roomObjectEventHandler.handleRoomObjectEvent(event,roomId);}processRoomObjectPlacement(placementSource,id,category,typeId){let extra=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let stuffData=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;let state=arguments.length>6&&arguments[6]!==undefined?arguments[6]:-1;let frameNumber=arguments.length>7&&arguments[7]!==undefined?arguments[7]:-1;let posture=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;const roomInstance=this.getRoomInstance(this._activeRoomId);if(!roomInstance||roomInstance.model.getValue(RoomVariableEnum.ROOM_IS_PUBLIC)!==0)return false;if(!this._roomObjectEventHandler)return false;return this._roomObjectEventHandler.processRoomObjectPlacement(placementSource,this._activeRoomId,id,category,typeId,extra,stuffData,state,frameNumber,posture);}getRoomObjectScreenLocation(roomId,objectId,objectType){let canvasId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;if(canvasId==-1)canvasId=this._activeRoomActiveCanvas;const geometry=this.getRoomInstanceGeometry(roomId,canvasId);if(!geometry)return null;const roomObject=this.getRoomObject(roomId,objectId,objectType);if(!roomObject)return null;const screenPoint=geometry.getScreenPoint(roomObject.getLocation());if(!screenPoint)return null;const renderingCanvas=this.getRoomInstanceRenderingCanvas(roomId,canvasId);if(!renderingCanvas)return null;screenPoint.x=screenPoint.x*renderingCanvas.scale;screenPoint.y=screenPoint.y*renderingCanvas.scale;screenPoint.x+=renderingCanvas.width/2+renderingCanvas.screenOffsetX;screenPoint.y+=renderingCanvas.height/2+renderingCanvas.screenOffsetY;screenPoint.x=Math.round(screenPoint.x);screenPoint.y=Math.round(screenPoint.y);return screenPoint;}selectRoomObject(roomId,objectId,objectCategory){if(!this._roomObjectEventHandler)return;this._roomObjectEventHandler.setSelectedObject(roomId,objectId,objectCategory);}setSelectedAvatar(roomId,objectId){if(this._roomObjectEventHandler)return;this._roomObjectEventHandler.setSelectedAvatar(roomId,objectId,true);}cancelRoomObjectInsert(){if(!this._roomObjectEventHandler)return;this._roomObjectEventHandler.cancelRoomObjectInsert(this._activeRoomId);}addOverlayIconSprite(k,_arg_2,_arg_3){let scale=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;if(!k||!_arg_3)return;let sprite=this.getOverlayIconSprite(k,_arg_2);if(sprite)return null;sprite=new NitroSprite_NitroSprite(_arg_3);sprite.name=_arg_2;sprite.scale.set(scale);k.addChild(sprite);return sprite;}onRoomContentLoaded(id,assetName,success){if(!this._roomContentLoader||id===-1)return;this._thumbnailObjectIdBank.freeNumber(id-1);const listeners=this._thumbnailCallbacks.get(assetName);if(listeners){this._thumbnailCallbacks.delete(assetName);const image=this._roomContentLoader.getImage(assetName);if(image){for(const listener of listeners){if(!listener)continue;listener.imageReady(id,null,image);}}}}setObjectMoverIconSprite(objectId,category,_arg_3){let instanceData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let stuffData=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let state=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;let frameNumber=arguments.length>6&&arguments[6]!==undefined?arguments[6]:-1;let posture=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let type=null;let colorIndex=0;let imageResult=null;const scale=1;if(_arg_3){imageResult=this.getRoomObjectImage(this._activeRoomId,objectId,category,new Vector3d(),1,null);}else{if(this._roomContentLoader){if(category===RoomObjectCategory.FLOOR){type=this._roomContentLoader.getFurnitureFloorNameForTypeId(objectId);colorIndex=this._roomContentLoader.getFurnitureFloorColorIndex(objectId);}else if(category===RoomObjectCategory.WALL){type=this._roomContentLoader.getFurnitureWallNameForTypeId(objectId,instanceData);colorIndex=this._roomContentLoader.getFurnitureWallColorIndex(objectId);}if(category===RoomObjectCategory.UNIT){type=RoomObjectUserType.getTypeString(objectId);if(type==='pet'){type=this.getPetType(instanceData);const petFigureData=new PetFigureData_PetFigureData(instanceData);imageResult=this.getRoomObjectPetImage(petFigureData.typeId,petFigureData.paletteId,petFigureData.color,new Vector3d(180),64,null,true,0,petFigureData.customParts,posture);}else{imageResult=this.getGenericRoomObjectImage(type,instanceData,new Vector3d(180),64,null,0,null,stuffData,state,frameNumber,posture);}}else{imageResult=this.getGenericRoomObjectImage(type,colorIndex.toString(),new Vector3d(),1,null,0,instanceData,stuffData,state,frameNumber,posture);}}}if(!imageResult||!imageResult.data)return;const canvas=this.getActiveRoomInstanceRenderingCanvas();if(!canvas)return;const overlay=this.getRenderingCanvasOverlay(canvas);this.removeOverlayIconSprite(overlay,RoomEngine_RoomEngine.OBJECT_ICON_SPRITE);const _local_15=this.addOverlayIconSprite(overlay,RoomEngine_RoomEngine.OBJECT_ICON_SPRITE,imageResult.data,scale);if(_local_15){_local_15.x=this._activeRoomActiveCanvasMouseX-imageResult.data.width/2;_local_15.y=this._activeRoomActiveCanvasMouseY-imageResult.data.height/2;}}getRoomObjectImage(roomId,objectId,category,direction,scale,listener){let bgColor=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;if(!this._roomManager)return null;let id=-1;let type=null;let data=null;let color='';let extras=null;const roomIdString=this.getRoomId(roomId);const roomInstance=this._roomManager.getRoomInstance(roomIdString);if(roomInstance){const roomObject=roomInstance.getRoomObject(objectId,category);if(roomObject&&roomObject.model){id=roomObject.id;type=roomObject.type;switch(category){case RoomObjectCategory.FLOOR:case RoomObjectCategory.WALL:{color=roomObject.model.getValue(RoomObjectVariable.FURNITURE_COLOR).toString();extras=roomObject.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS);const dataFormat=roomObject.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT);if(dataFormat!==LegacyDataType_LegacyDataType.FORMAT_KEY){data=ObjectDataFactory_ObjectDataFactory.getData(dataFormat);data.initializeFromRoomObjectModel(roomObject.model);}break;}case RoomObjectCategory.UNIT:color=roomObject.model.getValue(RoomObjectVariable.FIGURE);break;}}}return this.getGenericRoomObjectImage(type,color,direction,scale,listener,bgColor,extras,data,-1,-1,null,id);}getFurnitureFloorIconUrl(typeId){let type=null;let color='';if(this._roomContentLoader){type=this._roomContentLoader.getFurnitureFloorNameForTypeId(typeId);color=this._roomContentLoader.getFurnitureFloorColorIndex(typeId).toString();return this._roomContentLoader.getAssetIconUrl(type,color);}return null;}getFurnitureFloorIcon(typeId,listener){let extras=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let objectData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return this.getFurnitureFloorImage(typeId,new Vector3d(),1,listener,0,extras,-1,-1,objectData);}getFurnitureWallIconUrl(typeId){let extra=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let type=null;let color='';if(this._roomContentLoader){type=this._roomContentLoader.getFurnitureWallNameForTypeId(typeId,extra);color=this._roomContentLoader.getFurnitureWallColorIndex(typeId).toString();return this._roomContentLoader.getAssetIconUrl(type,color);}return null;}getFurnitureWallIcon(typeId,listener){let extras=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return this.getFurnitureWallImage(typeId,new Vector3d(),1,listener,0,extras);}getFurnitureFloorImage(typeId,direction,scale,listener){let bgColor=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let extras=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;let state=arguments.length>6&&arguments[6]!==undefined?arguments[6]:-1;let frameCount=arguments.length>7&&arguments[7]!==undefined?arguments[7]:-1;let objectData=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let type=null;let color='';if(this._roomContentLoader){type=this._roomContentLoader.getFurnitureFloorNameForTypeId(typeId);color=this._roomContentLoader.getFurnitureFloorColorIndex(typeId).toString();}if(scale===1&&listener){return this.getGenericRoomObjectThumbnail(type,color,listener,extras,objectData);}return this.getGenericRoomObjectImage(type,color,direction,scale,listener,bgColor,extras,objectData,state,frameCount);}getFurnitureWallImage(typeId,direction,scale,listener){let bgColor=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let extras=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;let state=arguments.length>6&&arguments[6]!==undefined?arguments[6]:-1;let frameCount=arguments.length>7&&arguments[7]!==undefined?arguments[7]:-1;let type=null;let color='';if(this._roomContentLoader){type=this._roomContentLoader.getFurnitureWallNameForTypeId(typeId);color=this._roomContentLoader.getFurnitureWallColorIndex(typeId).toString();}if(scale===1&&listener){return this.getGenericRoomObjectThumbnail(type,color,listener,extras,null);}return this.getGenericRoomObjectImage(type,color,direction,scale,listener,bgColor,extras,null,state,frameCount);}getRoomObjectPetImage(typeId,paletteId,color,direction,scale,listener){let headOnly=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let bgColor=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let customParts=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let posture=arguments.length>9&&arguments[9]!==undefined?arguments[9]:null;let type=null;let value=typeId+' '+paletteId+' '+color.toString(16);if(headOnly)value=value+(' '+'head');if(customParts){value=value+(' '+customParts.length);for(const _local_13 of customParts){value=value+(' '+_local_13.layerId+' '+_local_13.partId+' '+_local_13.paletteId);}}if(this._roomContentLoader)type=this._roomContentLoader.getPetNameForType(typeId);return this.getGenericRoomObjectImage(type,value,direction,scale,listener,bgColor,null,null,-1,-1,posture);}getGenericRoomObjectImage(type,value,direction,scale,listener){let bgColor=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let extras=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;let objectData=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let state=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;let frameCount=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;let posture=arguments.length>10&&arguments[10]!==undefined?arguments[10]:null;let originalId=arguments.length>11&&arguments[11]!==undefined?arguments[11]:-1;if(!this._roomManager)return null;const imageResult=new ImageResult_ImageResult();imageResult.id=-1;if(!this._ready||!type)return imageResult;let roomInstance=this._roomManager.getRoomInstance(RoomEngine_RoomEngine.TEMPORARY_ROOM);if(!roomInstance){roomInstance=this._roomManager.createRoomInstance(RoomEngine_RoomEngine.TEMPORARY_ROOM);if(!roomInstance)return imageResult;}let objectId=this._imageObjectIdBank.reserveNumber();const objectCategory=this.getRoomObjectCategoryForType(type);if(objectId<0)return imageResult;objectId++;const roomObject=roomInstance.createRoomObjectAndInitalize(objectId,type,objectCategory);if(!roomObject||!roomObject.model||!roomObject.logic)return imageResult;const model=roomObject.model;switch(objectCategory){case RoomObjectCategory.FLOOR:case RoomObjectCategory.WALL:model.setValue(RoomObjectVariable.FURNITURE_COLOR,parseInt(value));model.setValue(RoomObjectVariable.FURNITURE_EXTRAS,extras);break;case RoomObjectCategory.UNIT:if(type===RoomObjectUserType.USER||type===RoomObjectUserType.BOT||type===RoomObjectUserType.RENTABLE_BOT||type===RoomObjectUserType.PET){model.setValue(RoomObjectVariable.FIGURE,value);}else{const figureData=new PetFigureData_PetFigureData(value);model.setValue(RoomObjectVariable.PET_PALETTE_INDEX,figureData.paletteId);model.setValue(RoomObjectVariable.PET_COLOR,figureData.color);if(figureData.headOnly)model.setValue(RoomObjectVariable.PET_HEAD_ONLY,1);if(figureData.hasCustomParts){model.setValue(RoomObjectVariable.PET_CUSTOM_LAYER_IDS,figureData.customLayerIds);model.setValue(RoomObjectVariable.PET_CUSTOM_PARTS_IDS,figureData.customPartIds);model.setValue(RoomObjectVariable.PET_CUSTOM_PALETTE_IDS,figureData.customPaletteIds);}if(posture)model.setValue(RoomObjectVariable.FIGURE_POSTURE,posture);}break;case RoomObjectCategory.ROOM:break;}roomObject.setDirection(direction);const visualization=roomObject.visualization;if(!visualization){roomInstance.removeRoomObject(objectId,objectCategory);return imageResult;}if(state>-1||objectData){if(objectData&&objectData.getLegacyString()!==''){roomObject.logic.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(parseInt(objectData.getLegacyString()),objectData));}else{roomObject.logic.processUpdateMessage(new ObjectDataUpdateMessage_ObjectDataUpdateMessage(state,objectData));}}const geometry=new RoomGeometry_RoomGeometry(scale,new Vector3d(-135,30,0),new Vector3d(11,11,5));visualization.update(geometry,0,true,false);if(frameCount>0){let i=0;while(i<frameCount){visualization.update(geometry,0,true,false);i++;}}const texture=visualization.getImage(bgColor,originalId);imageResult.data=texture;imageResult.id=objectId;if(!this.isRoomContentTypeLoaded(type)&&listener){let imageListeners=this._imageCallbacks.get(objectId.toString());if(!imageListeners){imageListeners=[];this._imageCallbacks.set(objectId.toString(),imageListeners);}imageListeners.push(listener);model.setValue(RoomObjectVariable.IMAGE_QUERY_SCALE,scale);}else{roomInstance.removeRoomObject(objectId,objectCategory);this._imageObjectIdBank.freeNumber(objectId-1);imageResult.id=0;}geometry.dispose();return imageResult;}getGenericRoomObjectThumbnail(type,param,listener){let extraData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let stuffData=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(!this._roomManager)return null;const imageResult=new ImageResult_ImageResult();imageResult.id=-1;if(!this._ready||!type)return imageResult;let roomInstance=this._roomManager.getRoomInstance(RoomEngine_RoomEngine.TEMPORARY_ROOM);if(!roomInstance){roomInstance=this._roomManager.createRoomInstance(RoomEngine_RoomEngine.TEMPORARY_ROOM);if(!roomInstance)return imageResult;}let objectId=this._thumbnailObjectIdBank.reserveNumber();const objectCategory=this.getRoomObjectCategoryForType(type);if(objectId<0)return imageResult;objectId++;imageResult.id=objectId;imageResult.data=null;imageResult.image=null;const assetName=[type,param].join('_');const asset=this._roomContentLoader.getImage(assetName);if(!asset&&listener){let contentListeners=this._thumbnailCallbacks.get(assetName);if(!contentListeners){contentListeners=[];this._thumbnailCallbacks.set(assetName,contentListeners);this._roomContentLoader.downloadImage(objectId,type,param,null);}contentListeners.push(listener);}else{if(asset){imageResult.image=asset;}this._thumbnailObjectIdBank.freeNumber(objectId-1);imageResult.id=0;}return imageResult;}initalizeTemporaryObjectsByType(type,_arg_2){const roomInstance=this._roomManager.getRoomInstance(RoomEngine_RoomEngine.TEMPORARY_ROOM);if(!roomInstance||!this._roomContentLoader)return;const objectCategory=this._roomContentLoader.getCategoryForType(type);const objectManager=roomInstance.getManager(objectCategory);let geometry=null;let scale=0;if(objectManager&&objectManager.objects.length){for(const roomObject of objectManager.objects.getValues()){if(roomObject&&roomObject.model&&roomObject.type===type){const objectId=roomObject.id;const visualization=roomObject.visualization;let texture=null;if(visualization){const imageScale=roomObject.model.getValue(RoomObjectVariable.IMAGE_QUERY_SCALE);if(geometry&&scale!==imageScale){geometry.dispose();geometry=null;}if(!geometry){scale=imageScale;geometry=new RoomGeometry_RoomGeometry(imageScale,new Vector3d(-135,30,0),new Vector3d(11,11,5));}visualization.update(geometry,0,true,false);texture=visualization.image;}roomInstance.removeRoomObject(objectId,objectCategory);this._imageObjectIdBank.freeNumber(objectId-1);const imageListeners=this._imageCallbacks.get(objectId.toString());if(imageListeners){this._imageCallbacks.delete(objectId.toString());for(const imageListener of imageListeners){if(!imageListener)continue;if(texture)imageListener.imageReady(objectId,texture);else imageListener.imageFailed(objectId);}}}}}if(geometry)geometry.dispose();}setObjectMoverIconSpriteVisible(k){const canvas=this.getActiveRoomInstanceRenderingCanvas();if(!canvas)return;const overlay=this.getRenderingCanvasOverlay(canvas);const sprite=this.getOverlayIconSprite(overlay,RoomEngine_RoomEngine.OBJECT_ICON_SPRITE);if(sprite){sprite.visible=k;}}removeObjectMoverIconSprite(){const canvas=this.getActiveRoomInstanceRenderingCanvas();if(!canvas)return;const sprite=this.getRenderingCanvasOverlay(canvas);this.removeOverlayIconSprite(sprite,RoomEngine_RoomEngine.OBJECT_ICON_SPRITE);}getRenderingCanvasOverlay(k){if(!k)return null;const displayObject=k.master;if(!displayObject)return null;return displayObject.getChildByName(RoomEngine_RoomEngine.OVERLAY)||null;}removeOverlayIconSprite(k,_arg_2){if(!k)return false;let index=k.children.length-1;while(index>=0){const child=k.getChildAt(index);if(child){if(child.name===_arg_2){k.removeChildAt(index);if(child.children.length){const firstChild=child.getChildAt(0);firstChild.parent.removeChild(firstChild);firstChild.destroy();}return true;}}index--;}return false;}getOverlayIconSprite(k,_arg_2){if(!k)return null;let index=k.children.length-1;while(index>=0){const child=k.getChildAt(index);if(child){if(child.name===_arg_2)return child;}index--;}return null;}getRoomObjects(roomId,category){if(this._ready){const _local_3=this.getRoomId(roomId);const _local_4=this._roomManager.getRoomInstance(_local_3);if(_local_4)return _local_4.getRoomObjectsForCategory(category);}return[];}addObjectToTileMap(k,_arg_2){const tileObjectMap=this.getRoomInstanceData(k).tileObjectMap;if(tileObjectMap)tileObjectMap.addRoomObject(_arg_2);}refreshTileObjectMap(k,_arg_2){const tileObjectMap=this.getRoomInstanceData(k).tileObjectMap;if(tileObjectMap)tileObjectMap.populate(this.getRoomObjects(k,RoomObjectCategory.FLOOR));}getRenderRoomMessage(k,_arg_2){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let canvasId=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;let canvas=null;if(canvasId>-1){canvas=this.getRoomInstanceRenderingCanvas(this._activeRoomId,canvasId);}else{canvas=this.getActiveRoomInstanceRenderingCanvas();}if(!canvas)return null;if(_arg_5){canvas.skipSpriteVisibilityChecking();}let _local_8=-1;if(!_arg_4&&!(this._roomSessionManager.getSession(this._activeRoomId)==null)){_local_8=this._roomSessionManager.getSession(this._activeRoomId).ownRoomIndex;}const _local_9=new SpriteDataCollector_SpriteDataCollector();const _local_10=_local_9.getFurniData(k,canvas,this,_local_8);const _local_11=_local_9.getRoomRenderingModifiers(this);const _local_12=_local_9.getRoomPlanes(k,canvas,this,_arg_2);if(_arg_5)canvas.resumeSpriteVisibilityChecking();if(_arg_3){//return new RenderRoomThumbnailMessageComposer(_local_12, _local_10, _local_11, this._activeRoomId, this._sessionDataManager._Str_8500);\n}console.log(_local_10,_local_11,_local_12);//return new RenderRoomMessageComposer(_local_12, _local_10, _local_11, this._activeRoomId, this._sessionDataManager._Str_8500);\nreturn null;}createTextureFromRoom(roomId){let canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let bounds=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let canvas=null;if(canvasId>-1){canvas=this.getRoomInstanceRenderingCanvas(this._activeRoomId,canvasId);}else{canvas=this.getActiveRoomInstanceRenderingCanvas();}let texture=null;if(bounds){texture=TextureUtils_TextureUtils.generateTexture(canvas.master,bounds);}else{texture=canvas.getDisplayAsTexture();}return texture;}saveTextureAsScreenshot(texture){let saveAsThumbnail=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let composer=null;if(saveAsThumbnail)composer=new RenderRoomThumbnailMessageComposer_RenderRoomThumbnailMessageComposer();else composer=new RenderRoomMessageComposer_RenderRoomMessageComposer();composer.assignBitmap(texture);this._communication.connection.send(composer);}saveBase64AsScreenshot(base64){let saveAsThumbnail=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let composer=null;if(saveAsThumbnail)composer=new RenderRoomThumbnailMessageComposer_RenderRoomThumbnailMessageComposer();else composer=new RenderRoomMessageComposer_RenderRoomMessageComposer();composer.assignBase64(base64);this._communication.connection.send(composer);}objectsInitialized(k){const roomId=this.getRoomIdFromString(k);this.events.dispatchEvent(new RoomEngineEvent_RoomEngineEvent(RoomEngineEvent_RoomEngineEvent.OBJECTS_INITIALIZED,roomId));}getRoomId(id){return id.toString();}getRoomIdFromString(roomId){if(!roomId)return-1;const split=roomId.split('_');if(split.length<=0)return-1;return parseInt(split[0])||0;}getRoomObjectRoomId(object){if(!object||!object.model)return null;return object.model.getValue(RoomObjectVariable.OBJECT_ROOM_ID);}getRoomObjectAdUrl(type){return this._roomContentLoader.getRoomObjectAdUrl(type);}getPetTypeId(figure){let type=-1;if(figure){const parts=figure.split(' ');if(parts.length>1)type=parseInt(parts[0]);}return type;}getPetType(type){if(!type)return null;const parts=type.split(' ');if(parts.length>1){const typeId=parseInt(parts[0]);if(this._roomContentLoader)return this._roomContentLoader.getPetNameForType(typeId);return'pet';}return null;}isRoomContentTypeLoaded(name){if(!this._roomContentLoader)return false;return this._roomContentLoader.getCollection(name)!==null;}getPetColorResult(petIndex,paletteIndex){if(!this._roomContentLoader)return null;return this._roomContentLoader.getPetColorResult(petIndex,paletteIndex);}getPetColorResultsForTag(petIndex,tagName){if(!this._roomContentLoader)return null;return this._roomContentLoader.getPetColorResultsForTag(petIndex,tagName);}deleteRoomObject(objectId,objectCategory){if(!this._roomObjectEventHandler||objectCategory!==RoomObjectCategory.WALL)return false;return this._roomObjectEventHandler.deleteWallItem(this._activeRoomId,objectId);}get connection(){return this._communication.connection;}get sessionDataManager(){return this._sessionDataManager;}set sessionDataManager(manager){this._sessionDataManager=manager;}get roomSessionManager(){return this._roomSessionManager;}set roomSessionManager(manager){this._roomSessionManager=manager;}get roomManager(){return this._roomManager;}set roomManager(manager){this._roomManager=manager;}get objectEventHandler(){return this._roomObjectEventHandler;}get roomRendererFactory(){return this._roomRendererFactory;}get visualizationFactory(){return this._visualizationFactory;}get logicFactory(){return this._logicFactory;}get activeRoomId(){return this._activeRoomId;}get ready(){return this._ready;}get roomContentLoader(){return this._roomContentLoader;}get isDecorating(){if(!this._roomSessionManager)return false;const session=this._roomSessionManager.getSession(this._activeRoomId);return session&&session.isDecorating||false;}get useOffsetScrolling(){return true;}get selectedAvatarId(){if(!this._roomObjectEventHandler)return-1;return this._roomObjectEventHandler.selectedAvatarId;}getRoomObjectCount(roomId,categoryId){if(this._roomManager==null)return 0;return this._roomManager.getRoomInstance(roomId.toString()).getRoomObjectsForCategory(categoryId).length;}}RoomEngine_RoomEngine.ROOM_OBJECT_ID=-1;RoomEngine_RoomEngine.ROOM_OBJECT_TYPE='room';RoomEngine_RoomEngine.CURSOR_OBJECT_ID=-2;RoomEngine_RoomEngine.CURSOR_OBJECT_TYPE='tile_cursor';RoomEngine_RoomEngine.ARROW_OBJECT_ID=-3;RoomEngine_RoomEngine.ARROW_OBJECT_TYPE='selection_arrow';RoomEngine_RoomEngine.OVERLAY='overlay';RoomEngine_RoomEngine.OBJECT_ICON_SPRITE='object_icon_sprite';RoomEngine_RoomEngine.DRAG_THRESHOLD=15;RoomEngine_RoomEngine.TEMPORARY_ROOM='temporary_room';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/enum/GenericErrorEnum.ts\nclass GenericErrorEnum{}GenericErrorEnum.KICKED_OUT_OF_ROOM=4008;GenericErrorEnum.STRIP_LOCKED_FOR_TRADING=-13001;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionErrorMessageEvent.ts\nclass RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;super(k,_arg_2);this._message=void 0;this._message=_arg_3;}get message(){return this._message;}}RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_KICKED='RSEME_KICKED';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_PETS_FORBIDDEN_IN_HOTEL='RSEME_PETS_FORBIDDEN_IN_HOTEL';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_PETS_FORBIDDEN_IN_FLAT='RSEME_PETS_FORBIDDEN_IN_FLAT';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_MAX_PETS='RSEME_MAX_PETS';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_MAX_NUMBER_OF_OWN_PETS='RSEME_MAX_NUMBER_OF_OWN_PETS';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_NO_FREE_TILES_FOR_PET='RSEME_NO_FREE_TILES_FOR_PET';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET='RSEME_SELECTED_TILE_NOT_FREE_FOR_PET';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOTS_FORBIDDEN_IN_HOTEL='RSEME_BOTS_FORBIDDEN_IN_HOTEL';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOTS_FORBIDDEN_IN_FLAT='RSEME_BOTS_FORBIDDEN_IN_FLAT';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOT_LIMIT_REACHED='RSEME_BOT_LIMIT_REACHED';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT='RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT';RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOT_NAME_NOT_ACCEPTED='RSEME_BOT_NAME_NOT_ACCEPTED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/BaseHandler.ts\nclass BaseHandler_BaseHandler extends Disposable{constructor(connection,listener){super();this._connection=void 0;this._listener=void 0;this._roomId=void 0;this._connection=connection;this._listener=listener;this._roomId=0;}onDispose(){this._connection=null;this._listener=null;}setRoomId(id){this._roomId=id;}get connection(){return this._connection;}get listener(){return this._listener;}get roomId(){return this._roomId;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/GenericErrorHandler.ts\nclass GenericErrorHandler_GenericErrorHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new GenericErrorEvent_GenericErrorEvent(this.onRoomGenericError.bind(this)));}onRoomGenericError(event){if(!(event instanceof GenericErrorEvent_GenericErrorEvent))return;const parser=event.getParser();if(!parser)return;const roomSession=this.listener.getSession(this.roomId);if(!roomSession)return;let type=null;switch(parser.errorCode){case GenericErrorEnum.KICKED_OUT_OF_ROOM:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_KICKED;break;default:return;}if(!type||type.length==0)return;this.listener.events.dispatchEvent(new RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent(type,roomSession));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPollEvent.ts\nclass RoomSessionPollEvent_RoomSessionPollEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3){super(k,_arg_2);this._id=-1;this._headline=void 0;this._summary=void 0;this._numQuestions=0;this._startMessage='';this._endMessage='';this._questionArray=null;this._npsPoll=false;this._id=_arg_3;}get id(){return this._id;}get headline(){return this._headline;}set headline(k){this._headline=k;}get summary(){return this._summary;}set summary(k){this._summary=k;}get numQuestions(){return this._numQuestions;}set numQuestions(k){this._numQuestions=k;}get startMessage(){return this._startMessage;}set startMessage(k){this._startMessage=k;}get endMessage(){return this._endMessage;}set endMessage(k){this._endMessage=k;}get questionArray(){return this._questionArray;}set questionArray(k){this._questionArray=k;}get npsPoll(){return this._npsPoll;}set npsPoll(k){this._npsPoll=k;}}RoomSessionPollEvent_RoomSessionPollEvent.OFFER='RSPE_POLL_OFFER';RoomSessionPollEvent_RoomSessionPollEvent.ERROR='RSPE_POLL_ERROR';RoomSessionPollEvent_RoomSessionPollEvent.CONTENT='RSPE_POLL_CONTENT';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/PollHandler.ts\nclass PollHandler_PollHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new PollContentsEvent_PollContentsEvent(this.onPollContentsEvent.bind(this)));connection.addMessageEvent(new PollOfferEvent_PollOfferEvent(this.onPollOfferEvent.bind(this)));connection.addMessageEvent(new PollErrorEvent_PollErrorEvent(this.onPollErrorEvent.bind(this)));}onPollContentsEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const pollEvent=new RoomSessionPollEvent_RoomSessionPollEvent(RoomSessionPollEvent_RoomSessionPollEvent.CONTENT,session,parser.id);pollEvent.startMessage=parser.startMessage;pollEvent.endMessage=parser.endMessage;pollEvent.numQuestions=parser.numQuestions;pollEvent.questionArray=parser.questionArray;pollEvent.npsPoll=parser.npsPoll;this.listener.events.dispatchEvent(pollEvent);}onPollOfferEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const pollEvent=new RoomSessionPollEvent_RoomSessionPollEvent(RoomSessionPollEvent_RoomSessionPollEvent.OFFER,session,parser.id);pollEvent.summary=parser.headline;pollEvent.summary=parser.summary;this.listener.events.dispatchEvent(pollEvent);}onPollErrorEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const pollEvent=new RoomSessionPollEvent_RoomSessionPollEvent(RoomSessionPollEvent_RoomSessionPollEvent.ERROR,session,-1);pollEvent.headline='???';pollEvent.summary='???';this.listener.events.dispatchEvent(pollEvent);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionChatEvent.ts\nclass RoomSessionChatEvent_RoomSessionChatEvent extends RoomSessionEvent_RoomSessionEvent{constructor(type,session,objectId,message,chatType){let style=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let links=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;let extraParam=arguments.length>7&&arguments[7]!==undefined?arguments[7]:-1;super(type,session);this._objectId=void 0;this._message=void 0;this._chatType=void 0;this._links=void 0;this._extraParam=void 0;this._style=void 0;this._objectId=objectId;this._message=message;this._chatType=chatType;this._links=links;this._extraParam=extraParam;this._style=style;}get objectId(){return this._objectId;}get message(){return this._message;}get chatType(){return this._chatType;}get links(){return this._links;}get extraParam(){return this._extraParam;}get style(){return this._style;}}RoomSessionChatEvent_RoomSessionChatEvent.CHAT_EVENT='RSCE_CHAT_EVENT';RoomSessionChatEvent_RoomSessionChatEvent.FLOOD_EVENT='RSCE_FLOOD_EVENT';RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_SPEAK=0;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_WHISPER=1;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_SHOUT=2;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_RESPECT=3;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PETRESPECT=4;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_HAND_ITEM_RECEIVED=5;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PETTREAT=6;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PETREVIVE=7;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PET_REBREED_FERTILIZE=8;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PET_SPEED_FERTILIZE=9;RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_MUTE_REMAINING=10;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/RoomChatHandler.ts\nclass RoomChatHandler_RoomChatHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new RoomUnitChatEvent_RoomUnitChatEvent(this.onRoomUnitChatEvent.bind(this)));connection.addMessageEvent(new RoomUnitChatShoutEvent_RoomUnitChatShoutEvent(this.onRoomUnitChatEvent.bind(this)));connection.addMessageEvent(new RoomUnitChatWhisperEvent_RoomUnitChatWhisperEvent(this.onRoomUnitChatEvent.bind(this)));connection.addMessageEvent(new RoomUnitHandItemReceivedEvent_RoomUnitHandItemReceivedEvent(this.onRoomUnitHandItemReceivedEvent.bind(this)));connection.addMessageEvent(new RespectReceivedEvent_RespectReceivedEvent(this.onRespectReceivedEvent.bind(this)));connection.addMessageEvent(new PetRespectNoficationEvent_PetRespectNoficationEvent(this.onPetRespectNoficationEvent.bind(this)));connection.addMessageEvent(new PetSupplementedNotificationEvent_PetSupplementedNotificationEvent(this.onPetSupplementedNotificationEvent.bind(this)));connection.addMessageEvent(new FloodControlEvent_FloodControlEvent(this.onFloodControlEvent.bind(this)));connection.addMessageEvent(new RemainingMuteEvent_RemainingMuteEvent(this.onRemainingMuteEvent.bind(this)));}onRoomUnitChatEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;let chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_SPEAK;if(event instanceof RoomUnitChatShoutEvent_RoomUnitChatShoutEvent)chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_SHOUT;else if(event instanceof RoomUnitChatWhisperEvent_RoomUnitChatWhisperEvent)chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_WHISPER;const chatEvent=new RoomSessionChatEvent_RoomSessionChatEvent(RoomSessionChatEvent_RoomSessionChatEvent.CHAT_EVENT,session,parser.roomIndex,parser.message,chatType,parser.bubble);this.listener.events.dispatchEvent(chatEvent);}onRoomUnitHandItemReceivedEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;this.listener.events.dispatchEvent(new RoomSessionChatEvent_RoomSessionChatEvent(RoomSessionChatEvent_RoomSessionChatEvent.CHAT_EVENT,session,parser.giverUserId,'',RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_HAND_ITEM_RECEIVED,SystemChatStyleEnum.GENERIC,null,parser.handItemType));}onRespectReceivedEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const userData=session.userDataManager.getUserData(parser.userId);if(!userData)return;this.listener.events.dispatchEvent(new RoomSessionChatEvent_RoomSessionChatEvent(RoomSessionChatEvent_RoomSessionChatEvent.CHAT_EVENT,session,userData.roomIndex,'',RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_RESPECT,SystemChatStyleEnum.GENERIC));}onPetRespectNoficationEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const petData=session.userDataManager.getPetData(parser.petData.id);if(!petData)return;let chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PETRESPECT;if(parser.isTreat)chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PETTREAT;this.listener.events.dispatchEvent(new RoomSessionChatEvent_RoomSessionChatEvent(RoomSessionChatEvent_RoomSessionChatEvent.CHAT_EVENT,session,petData.roomIndex,'',chatType,SystemChatStyleEnum.GENERIC));}onPetSupplementedNotificationEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const petData=session.userDataManager.getPetData(parser.petId);if(!petData)return;let userRoomIndex=-1;const userData=session.userDataManager.getUserData(parser.userId);if(userData)userRoomIndex=userData.roomIndex;let chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PETREVIVE;switch(parser.supplementType){case PetSupplementTypeEnum.REVIVE:chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PETREVIVE;break;case PetSupplementTypeEnum.REBREED_FERTILIZER:chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PET_REBREED_FERTILIZE;break;case PetSupplementTypeEnum.SPEED_FERTILIZER:chatType=RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_PET_SPEED_FERTILIZE;break;}this.listener.events.dispatchEvent(new RoomSessionChatEvent_RoomSessionChatEvent(RoomSessionChatEvent_RoomSessionChatEvent.CHAT_EVENT,session,petData.roomIndex,'',chatType,SystemChatStyleEnum.GENERIC,null,userRoomIndex));}onFloodControlEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const seconds=parser.seconds;this.listener.events.dispatchEvent(new RoomSessionChatEvent_RoomSessionChatEvent(RoomSessionChatEvent_RoomSessionChatEvent.FLOOD_EVENT,session,-1,seconds.toString(),0,0));}onRemainingMuteEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;this.listener.events.dispatchEvent(new RoomSessionChatEvent_RoomSessionChatEvent(RoomSessionChatEvent_RoomSessionChatEvent.CHAT_EVENT,session,session.ownRoomIndex,'',RoomSessionChatEvent_RoomSessionChatEvent.CHAT_TYPE_MUTE_REMAINING,SystemChatStyleEnum.GENERIC,null,parser.seconds));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPropertyUpdateEvent.ts\nclass RoomSessionPropertyUpdateEvent_RoomSessionPropertyUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2){super(k,_arg_2);}}RoomSessionPropertyUpdateEvent_RoomSessionPropertyUpdateEvent.RSDUE_ALLOW_PETS='RSDUE_ALLOW_PETS';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/RoomDataHandler.ts\nclass RoomDataHandler_RoomDataHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new GetGuestRoomResultEvent_GetGuestRoomResultEvent(this.onGetGuestRoomResultEvent.bind(this)));}onGetGuestRoomResultEvent(event){if(!(event instanceof GetGuestRoomResultEvent_GetGuestRoomResultEvent))return;const parser=event.getParser();if(!parser)return;if(parser.roomForward)return;const roomSession=this.listener.getSession(this.roomId);if(!roomSession)return;const roomData=parser.data;roomSession.tradeMode=roomData.tradeMode;roomSession.isGuildRoom=roomData.habboGroupId!==0;roomSession.doorMode=roomData.doorMode;roomSession.allowPets=roomData.allowPets;roomSession.moderationSettings=parser.moderation;this.listener.events.dispatchEvent(new RoomSessionPropertyUpdateEvent_RoomSessionPropertyUpdateEvent(RoomSessionPropertyUpdateEvent_RoomSessionPropertyUpdateEvent.RSDUE_ALLOW_PETS,roomSession));this.listener.events.dispatchEvent(new RoomSessionEvent_RoomSessionEvent(RoomSessionEvent_RoomSessionEvent.ROOM_DATA,roomSession));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionDimmerPresetsEventPresetItem.ts\nclass RoomSessionDimmerPresetsEventPresetItem{constructor(id,type,color,brightness){this._id=void 0;this._type=void 0;this._color=void 0;this._brightness=void 0;this._id=id;this._type=type;this._color=color;this._brightness=brightness;}get id(){return this._id;}get type(){return this._type;}get color(){return this._color;}get brightness(){return this._brightness;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionDimmerPresetsEvent.ts\nclass RoomSessionDimmerPresetsEvent_RoomSessionDimmerPresetsEvent extends RoomSessionEvent_RoomSessionEvent{constructor(type,session){super(type,session);this._selectedPresetId=0;this._presets=void 0;this._presets=[];}storePreset(id,type,color,brightness){this._presets[id-1]=new RoomSessionDimmerPresetsEventPresetItem(id,type,color,brightness);}getPreset(id){if(id<0||id>=this._presets.length)return null;return this._presets[id];}get presetCount(){return this._presets.length;}get selectedPresetId(){return this._selectedPresetId;}set selectedPresetId(id){this._selectedPresetId=id;}}RoomSessionDimmerPresetsEvent_RoomSessionDimmerPresetsEvent.ROOM_DIMMER_PRESETS='RSDPE_PRESETS';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/RoomDimmerPresetsHandler.ts\nclass RoomDimmerPresetsHandler_RoomDimmerPresetsHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new RoomDimmerPresetsMessageEvent_RoomDimmerPresetsEvent(this.onRoomDimmerPresets.bind(this)));}onRoomDimmerPresets(event){if(!event)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;const presetEvent=new RoomSessionDimmerPresetsEvent_RoomSessionDimmerPresetsEvent(RoomSessionDimmerPresetsEvent_RoomSessionDimmerPresetsEvent.ROOM_DIMMER_PRESETS,session);presetEvent.selectedPresetId=parser.selectedPresetId;let i=0;while(i<parser.presetCount){const preset=parser.getPreset(i);if(preset)presetEvent.storePreset(preset.id,preset.type,preset.color,preset.brightness);i++;}this.listener&&this.listener.events.dispatchEvent(presetEvent);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/RoomPermissionsHandler.ts\nclass RoomPermissionsHandler_RoomPermissionsHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new RoomRightsEvent_RoomRightsEvent(this.onRoomRightsEvent.bind(this)));connection.addMessageEvent(new RoomRightsClearEvent_RoomRightsClearEvent(this.onRoomRightsClearEvent.bind(this)));connection.addMessageEvent(new RoomRightsOwnerEvent_RoomRightsOwnerEvent(this.onRoomRightsOwnerEvent.bind(this)));}onRoomRightsEvent(event){if(!(event instanceof RoomRightsEvent_RoomRightsEvent))return;const session=this.listener.getSession(this.roomId);if(!session)return;session.setControllerLevel(event.getParser().controllerLevel);}onRoomRightsClearEvent(event){if(!(event instanceof RoomRightsClearEvent_RoomRightsClearEvent))return;const session=this.listener.getSession(this.roomId);if(!session)return;session.setControllerLevel(RoomControllerLevel.NONE);}onRoomRightsOwnerEvent(event){if(!(event instanceof RoomRightsOwnerEvent_RoomRightsOwnerEvent))return;const session=this.listener.getSession(this.roomId);if(!session)return;session.setRoomOwner();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPresentEvent.ts\nclass RoomSessionPresentEvent_RoomSessionPresentEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,classId,itemType,productCode,placedItemId,placedItemType,placedInRoom,petFigureString){super(k,_arg_2);this._classId=0;this._itemType='';this._productCode=void 0;this._placedItemId=0;this._placedItemType='';this._placedInRoom=void 0;this._petFigureString=void 0;this._classId=classId;this._itemType=itemType;this._productCode=productCode;this._placedItemId=placedItemId;this._placedItemType=placedItemType;this._placedInRoom=placedInRoom;this._petFigureString=petFigureString;}get classId(){return this._classId;}get itemType(){return this._itemType;}get productCode(){return this._productCode;}get placedItemId(){return this._placedItemId;}get placedInRoom(){return this._placedInRoom;}get placedItemType(){return this._placedItemType;}get petFigureString(){return this._petFigureString;}}RoomSessionPresentEvent_RoomSessionPresentEvent.RSPE_PRESENT_OPENED='RSPE_PRESENT_OPENED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/RoomPresentHandler.ts\nclass RoomPresentHandler_RoomPresentHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);if(!connection)return;connection.addMessageEvent(new PresentOpenedMessageEvent_PresentOpenedMessageEvent(this.onFurnitureGiftOpenedEvent.bind(this)));}onFurnitureGiftOpenedEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;if(this.listener&&this.listener.events)this.listener.events.dispatchEvent(new RoomSessionPresentEvent_RoomSessionPresentEvent(RoomSessionPresentEvent_RoomSessionPresentEvent.RSPE_PRESENT_OPENED,session,parser.classId,parser.itemType,parser.productCode,parser.placedItemId,parser.placedItemType,parser.placedInRoom,parser.petFigureString));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionDoorbellEvent.ts\nclass RoomSessionDoorbellEvent_RoomSessionDoorbellEvent extends RoomSessionEvent_RoomSessionEvent{constructor(type,session,userName){super(type,session);this._userName='';this._userName=userName;}get userName(){return this._userName;}}RoomSessionDoorbellEvent_RoomSessionDoorbellEvent.DOORBELL='RSDE_DOORBELL';RoomSessionDoorbellEvent_RoomSessionDoorbellEvent.RSDE_REJECTED='RSDE_REJECTED';RoomSessionDoorbellEvent_RoomSessionDoorbellEvent.RSDE_ACCEPTED='RSDE_ACCEPTED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionSpectatorModeEvent.ts\nclass RoomSessionSpectatorModeEvent_RoomSessionSpectatorModeEvent extends RoomSessionEvent_RoomSessionEvent{constructor(type,session){super(type,session);}}RoomSessionSpectatorModeEvent_RoomSessionSpectatorModeEvent.SPECTATOR_MODE='RSSME_SPECTATOR_MODE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/RoomSessionHandler.ts\nclass RoomSessionHandler_RoomSessionHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new RoomEnterEvent_RoomEnterEvent(this.onRoomEnterEvent.bind(this)));connection.addMessageEvent(new RoomReadyMessageEvent_RoomReadyMessageEvent(this.onRoomReadyMessageEvent.bind(this)));connection.addMessageEvent(new DesktopViewEvent_DesktopViewEvent(this.onDesktopViewEvent.bind(this)));connection.addMessageEvent(new RoomDoorbellAcceptedEvent_RoomDoorbellAcceptedEvent(this.onRoomDoorbellAcceptedEvent.bind(this)));connection.addMessageEvent(new RoomDoorbellRejectedEvent_RoomDoorbellRejectedEvent(this.onRoomDoorbellRejectedEvent.bind(this)));connection.addMessageEvent(new YouAreSpectatorMessageEvent_YouAreSpectatorMessageEvent(this.onYouAreSpectatorMessageEvent.bind(this)));}onRoomEnterEvent(event){if(!(event instanceof RoomEnterEvent_RoomEnterEvent))return;if(this.listener)this.listener.sessionUpdate(this.roomId,RoomSessionHandler_RoomSessionHandler.RS_CONNECTED);}onRoomReadyMessageEvent(event){if(!(event instanceof RoomReadyMessageEvent_RoomReadyMessageEvent))return;const fromRoomId=this.roomId;const toRoomId=event.getParser().roomId;if(this.listener){this.listener.sessionReinitialize(fromRoomId,toRoomId);this.listener.sessionUpdate(this.roomId,RoomSessionHandler_RoomSessionHandler.RS_READY);}}onDesktopViewEvent(event){if(!(event instanceof DesktopViewEvent_DesktopViewEvent))return;if(this.listener)this.listener.sessionUpdate(this.roomId,RoomSessionHandler_RoomSessionHandler.RS_DISCONNECTED);}onRoomDoorbellAcceptedEvent(event){if(!(event instanceof RoomDoorbellAcceptedEvent_RoomDoorbellAcceptedEvent)||!this.listener)return;const parser=event.getParser();if(!parser)return;const username=parser.userName;if(!username||!username.length){this.connection.send(new GoToFlatMessageComposer(this.roomId));}else{if(this.listener.events){const session=this.listener.getSession(this.roomId);if(!session)return;this.listener.events.dispatchEvent(new RoomSessionDoorbellEvent_RoomSessionDoorbellEvent(RoomSessionDoorbellEvent_RoomSessionDoorbellEvent.RSDE_ACCEPTED,session,username));}}}onRoomDoorbellRejectedEvent(event){if(!(event instanceof RoomDoorbellRejectedEvent_RoomDoorbellRejectedEvent)||!this.listener)return;const parser=event.getParser();if(!parser)return;const username=parser.userName;if(!username||!username.length){this.listener.sessionUpdate(this.roomId,RoomSessionHandler_RoomSessionHandler.RS_DISCONNECTED);}else{if(this.listener.events){const session=this.listener.getSession(this.roomId);if(!session)return;this.listener.events.dispatchEvent(new RoomSessionDoorbellEvent_RoomSessionDoorbellEvent(RoomSessionDoorbellEvent_RoomSessionDoorbellEvent.RSDE_REJECTED,session,username));}}}onYouAreSpectatorMessageEvent(event){if(this.listener){const session=this.listener.getSession(this.roomId);if(!session)return;session.isSpectator=true;this.listener.events.dispatchEvent(new RoomSessionSpectatorModeEvent_RoomSessionSpectatorModeEvent(RoomSessionSpectatorModeEvent_RoomSessionSpectatorModeEvent.SPECTATOR_MODE,session));}}}RoomSessionHandler_RoomSessionHandler.RS_CONNECTED='RS_CONNECTED';RoomSessionHandler_RoomSessionHandler.RS_READY='RS_READY';RoomSessionHandler_RoomSessionHandler.RS_DISCONNECTED='RS_DISCONNECTED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/MysteryBoxKeysUpdateEvent.ts\nclass MysteryBoxKeysUpdateEvent_MysteryBoxKeysUpdateEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(boxColor,keyColor){super(MysteryBoxKeysUpdateEvent_MysteryBoxKeysUpdateEvent.MYSTERY_BOX_KEYS_UPDATE);this._boxColor=void 0;this._keyColor=void 0;this._boxColor=boxColor;this._keyColor=keyColor;}get boxColor(){return this._boxColor;}get keyColor(){return this._keyColor;}}MysteryBoxKeysUpdateEvent_MysteryBoxKeysUpdateEvent.MYSTERY_BOX_KEYS_UPDATE='mbke_update';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/PerksUpdatedEvent.ts\nclass PerksUpdatedEvent_PerksUpdatedEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(){super(PerksUpdatedEvent_PerksUpdatedEvent.PERKS_UPDATED);}}PerksUpdatedEvent_PerksUpdatedEvent.PERKS_UPDATED='PUE_perks_updated';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionConfirmPetBreedingEvent.ts\nclass RoomSessionConfirmPetBreedingEvent_RoomSessionConfirmPetBreedingEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6){super(RoomSessionConfirmPetBreedingEvent_RoomSessionConfirmPetBreedingEvent.CONFIRM_PET_BREEDING,k);this._nestId=void 0;this._pet1=void 0;this._pet2=void 0;this._rarityCategories=void 0;this._resultPetTypeId=void 0;this._nestId=_arg_2;this._pet1=_arg_3;this._pet2=_arg_4;this._rarityCategories=_arg_5;this._resultPetTypeId=_arg_6;}get rarityCategories(){return this._rarityCategories;}get nestId(){return this._nestId;}get pet1(){return this._pet1;}get pet2(){return this._pet2;}get resultPetTypeId(){return this._resultPetTypeId;}}RoomSessionConfirmPetBreedingEvent_RoomSessionConfirmPetBreedingEvent.CONFIRM_PET_BREEDING='RSPFUE_CONFIRM_PET_BREEDING';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionConfirmPetBreedingResultEvent.ts\nclass RoomSessionConfirmPetBreedingResultEvent_RoomSessionConfirmPetBreedingResultEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3){super(RoomSessionConfirmPetBreedingResultEvent_RoomSessionConfirmPetBreedingResultEvent.RSPFUE_CONFIRM_PET_BREEDING_RESULT,k);this._breedingNestStuffId=void 0;this._result=void 0;this._breedingNestStuffId=_arg_2;this._result=_arg_3;}get breedingNestStuffId(){return this._breedingNestStuffId;}get result(){return this._result;}}RoomSessionConfirmPetBreedingResultEvent_RoomSessionConfirmPetBreedingResultEvent.RSPFUE_CONFIRM_PET_BREEDING_RESULT='RSPFUE_CONFIRM_PET_BREEDING_RESULT';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionDanceEvent.ts\nclass RoomSessionDanceEvent_RoomSessionDanceEvent extends RoomSessionEvent_RoomSessionEvent{constructor(session,roomIndex,danceId){super(RoomSessionDanceEvent_RoomSessionDanceEvent.RSDE_DANCE,session);this._roomIndex=void 0;this._danceId=void 0;this._roomIndex=roomIndex;this._danceId=danceId;}get roomIndex(){return this._roomIndex;}get danceId(){return this._danceId;}}RoomSessionDanceEvent_RoomSessionDanceEvent.RSDE_DANCE='RSDE_DANCE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionFavoriteGroupUpdateEvent.ts\nclass RoomSessionFavoriteGroupUpdateEvent_RoomSessionFavoriteGroupUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(session,roomIndex,groupId,status,groupName){super(RoomSessionFavoriteGroupUpdateEvent_RoomSessionFavoriteGroupUpdateEvent.FAVOURITE_GROUP_UPDATE,session);this._roomIndex=void 0;this._habboGroupId=void 0;this._habboGroupName=void 0;this._status=void 0;this._roomIndex=roomIndex;this._habboGroupId=groupId;this._habboGroupName=groupName;this._status=status;}get roomIndex(){return this._roomIndex;}get habboGroupId(){return this._habboGroupId;}get habboGroupName(){return this._habboGroupName;}get status(){return this._status;}}RoomSessionFavoriteGroupUpdateEvent_RoomSessionFavoriteGroupUpdateEvent.FAVOURITE_GROUP_UPDATE='RSFGUE_FAVOURITE_GROUP_UPDATE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionFriendRequestEvent.ts\nclass RoomSessionFriendRequestEvent_RoomSessionFriendRequestEvent extends RoomSessionEvent_RoomSessionEvent{constructor(session,requestId,userId,userName){super(RoomSessionFriendRequestEvent_RoomSessionFriendRequestEvent.RSFRE_FRIEND_REQUEST,session);this._requestId=0;this._userId=0;this._userName=void 0;this._requestId=requestId;this._userId=userId;this._userName=userName;}get requestId(){return this._requestId;}get userId(){return this._userId;}get userName(){return this._userName;}}RoomSessionFriendRequestEvent_RoomSessionFriendRequestEvent.RSFRE_FRIEND_REQUEST='RSFRE_FRIEND_REQUEST';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionNestBreedingSuccessEvent.ts\nclass RoomSessionNestBreedingSuccessEvent_RoomSessionNestBreedingSuccessEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3){super(RoomSessionNestBreedingSuccessEvent_RoomSessionNestBreedingSuccessEvent.NEST_BREEDING_SUCCESS,k);this._rarityCategory=void 0;this._petId=void 0;this._petId=_arg_2;this._rarityCategory=_arg_3;}get rarityCategory(){return this._rarityCategory;}get petId(){return this._petId;}}RoomSessionNestBreedingSuccessEvent_RoomSessionNestBreedingSuccessEvent.NEST_BREEDING_SUCCESS='RSPFUE_NEST_BREEDING_SUCCESS';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetBreedingEvent.ts\nclass RoomSessionPetBreedingEvent_RoomSessionPetBreedingEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3,_arg_4){super(RoomSessionPetBreedingEvent_RoomSessionPetBreedingEvent.PET_BREEDING,k);this._state=void 0;this._ownPetId=void 0;this._otherPetId=void 0;this._state=_arg_2;this._ownPetId=_arg_3;this._otherPetId=_arg_4;}get state(){return this._state;}get ownPetId(){return this._ownPetId;}get otherPetId(){return this._otherPetId;}}RoomSessionPetBreedingEvent_RoomSessionPetBreedingEvent.PET_BREEDING='RSPFUE_PET_BREEDING';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetBreedingResultEvent.ts\nclass RoomSessionPetBreedingResultEvent_RoomSessionPetBreedingResultEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3){super(RoomSessionPetBreedingResultEvent_RoomSessionPetBreedingResultEvent.PET_BREEDING_RESULT,k);this._resultData=void 0;this._otherResultData=void 0;this._resultData=_arg_2;this._otherResultData=_arg_3;}get resultData(){return this._resultData;}get otherResultData(){return this._otherResultData;}}RoomSessionPetBreedingResultEvent_RoomSessionPetBreedingResultEvent.PET_BREEDING_RESULT='RSPFUE_PET_BREEDING_RESULT';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetCommandsUpdateEvent.ts\nclass RoomSessionPetCommandsUpdateEvent_RoomSessionPetCommandsUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,id,commands,enabledCommands){super(RoomSessionPetCommandsUpdateEvent_RoomSessionPetCommandsUpdateEvent.PET_COMMANDS,k);this._petId=void 0;this._allCommandIds=void 0;this._enabledCommandIds=void 0;this._petId=id;this._allCommandIds=commands;this._enabledCommandIds=enabledCommands;}get id(){return this._petId;}get commands(){return this._allCommandIds;}get enabledCommands(){return this._enabledCommandIds;}}RoomSessionPetCommandsUpdateEvent_RoomSessionPetCommandsUpdateEvent.PET_COMMANDS='RSPIUE_ENABLED_PET_COMMANDS';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetFigureUpdateEvent.ts\nclass RoomSessionPetFigureUpdateEvent_RoomSessionPetFigureUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(roomSession,id,figure){super(RoomSessionPetFigureUpdateEvent_RoomSessionPetFigureUpdateEvent.PET_FIGURE_UPDATE,roomSession);this._petId=void 0;this._figure=void 0;this._petId=id;this._figure=figure;}get id(){return this._petId;}get figure(){return this._figure;}}RoomSessionPetFigureUpdateEvent_RoomSessionPetFigureUpdateEvent.PET_FIGURE_UPDATE='RSPFUE_PET_FIGURE_UPDATE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetInfoUpdateEvent.ts\nclass RoomSessionPetInfoUpdateEvent_RoomSessionPetInfoUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2){super(RoomSessionPetInfoUpdateEvent_RoomSessionPetInfoUpdateEvent.PET_INFO,k);this._petInfo=void 0;this._petInfo=_arg_2;}get petInfo(){return this._petInfo;}}RoomSessionPetInfoUpdateEvent_RoomSessionPetInfoUpdateEvent.PET_INFO='RSPIUE_PET_INFO';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetLevelUpdateEvent.ts\nclass RoomSessionPetLevelUpdateEvent_RoomSessionPetLevelUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3){super(RoomSessionPetLevelUpdateEvent_RoomSessionPetLevelUpdateEvent.PET_LEVEL_UPDATE,k);this._petId=void 0;this._level=void 0;this._petId=_arg_2;this._level=_arg_3;}get petId(){return this._petId;}get level(){return this._level;}}RoomSessionPetLevelUpdateEvent_RoomSessionPetLevelUpdateEvent.PET_LEVEL_UPDATE='RSPLUE_PET_LEVEL_UPDATE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetPackageEvent.ts\nclass RoomSessionPetPackageEvent_RoomSessionPetPackageEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3,_arg_4,_arg_5,_arg_6){super(k,_arg_2);this._objectId=-1;this._figureData=void 0;this._nameValidationStatus=0;this._nameValidationInfo=null;this._objectId=_arg_3;this._figureData=_arg_4;this._nameValidationStatus=_arg_5;this._nameValidationInfo=_arg_6;}get objectId(){return this._objectId;}get figureData(){return this._figureData;}get nameValidationStatus(){return this._nameValidationStatus;}get nameValidationInfo(){return this._nameValidationInfo;}}RoomSessionPetPackageEvent_RoomSessionPetPackageEvent.RSOPPE_OPEN_PET_PACKAGE_REQUESTED='RSOPPE_OPEN_PET_PACKAGE_REQUESTED';RoomSessionPetPackageEvent_RoomSessionPetPackageEvent.RSOPPE_OPEN_PET_PACKAGE_RESULT='RSOPPE_OPEN_PET_PACKAGE_RESULT';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionPetStatusUpdateEvent.ts\nclass RoomSessionPetStatusUpdateEvent_RoomSessionPetStatusUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(roomSession,petId,canBreed,canHarvest,canRevive,hasBreedingPermission){super(RoomSessionPetStatusUpdateEvent_RoomSessionPetStatusUpdateEvent.PET_STATUS_UPDATE,roomSession);this._petId=void 0;this._canBreed=void 0;this._canHarvest=void 0;this._canRevive=void 0;this._hasBreedingPermission=void 0;this._petId=petId;this._canBreed=canBreed;this._canHarvest=canHarvest;this._canRevive=canRevive;this._hasBreedingPermission=hasBreedingPermission;}get petId(){return this._petId;}get canBreed(){return this._canBreed;}get canHarvest(){return this._canHarvest;}get canRevive(){return this._canRevive;}get hasBreedingPermission(){return this._hasBreedingPermission;}}RoomSessionPetStatusUpdateEvent_RoomSessionPetStatusUpdateEvent.PET_STATUS_UPDATE='RSPFUE_PET_STATUS_UPDATE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionQueueEvent.ts\nclass RoomSessionQueueEvent_RoomSessionQueueEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3){let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;super(RoomSessionQueueEvent_RoomSessionQueueEvent.QUEUE_STATUS,k);this._name=void 0;this._target=void 0;this._queues=void 0;this._isActive=void 0;this._activeQueue=void 0;this._name=_arg_2;this._target=_arg_3;this._queues=new Map();this._isActive=_arg_4;}get isActive(){return this._isActive;}get queueSetName(){return this._name;}get queueSetTarget(){return this._target;}get queueTypes(){return Array.from(this._queues.keys());}getQueueSize(k){return this._queues.get(k);}addQueue(k,_arg_2){this._queues.set(k,_arg_2);}}RoomSessionQueueEvent_RoomSessionQueueEvent.QUEUE_STATUS='RSQE_QUEUE_STATUS';RoomSessionQueueEvent_RoomSessionQueueEvent.QUEUE_TYPE_CLUB='c';RoomSessionQueueEvent_RoomSessionQueueEvent.QUEUE_TYPE_NORMAL='d';RoomSessionQueueEvent_RoomSessionQueueEvent.QUEUE_TARGET_VISITOR=2;RoomSessionQueueEvent_RoomSessionQueueEvent.QUEUE_TARGET_SPECTATOR=1;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionUserBadgesEvent.ts\nclass RoomSessionUserBadgesEvent_RoomSessionUserBadgesEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2,_arg_3){super(RoomSessionUserBadgesEvent_RoomSessionUserBadgesEvent.RSUBE_BADGES,k);this._userId=0;this._badges=void 0;this._badges=[];this._userId=_arg_2;this._badges=_arg_3;}get userId(){return this._userId;}get badges(){return this._badges;}}RoomSessionUserBadgesEvent_RoomSessionUserBadgesEvent.RSUBE_BADGES='RSUBE_BADGES';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionUserDataUpdateEvent.ts\nclass RoomSessionUserDataUpdateEvent_RoomSessionUserDataUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(session,addedUsers){super(RoomSessionUserDataUpdateEvent_RoomSessionUserDataUpdateEvent.USER_DATA_UPDATED,session);this._addedUsers=void 0;this._addedUsers=addedUsers;}get addedUsers(){return this._addedUsers;}}RoomSessionUserDataUpdateEvent_RoomSessionUserDataUpdateEvent.USER_DATA_UPDATED='RMUDUE_USER_DATA_UPDATED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionUserFigureUpdateEvent.ts\nclass RoomSessionUserFigureUpdateEvent_RoomSessionUserFigureUpdateEvent extends RoomSessionEvent_RoomSessionEvent{constructor(session,roomIndex,figure,gender,customInfo,achievementScore){super(RoomSessionUserFigureUpdateEvent_RoomSessionUserFigureUpdateEvent.USER_FIGURE,session);this._roomIndex=0;this._figure='';this._gender='';this._customInfo='';this._achievementScore=void 0;this._roomIndex=roomIndex;this._figure=figure;this._gender=gender;this._customInfo=customInfo;this._achievementScore=achievementScore;}get roomIndex(){return this._roomIndex;}get figure(){return this._figure;}get gender(){return this._gender;}get customInfo(){return this._customInfo;}get activityPoints(){return this._achievementScore;}}RoomSessionUserFigureUpdateEvent_RoomSessionUserFigureUpdateEvent.USER_FIGURE='RSUBE_FIGURE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionUserTagsEvent.ts\nclass RoomSessionUserTagsEvent_RoomSessionUserTagsEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(k,_arg_2){super(RoomSessionUserTagsEvent_RoomSessionUserTagsEvent.UTRE_USER_TAGS_RECEIVED);this._userId=void 0;this._tags=void 0;this._userId=k;this._tags=_arg_2;}get userId(){return this._userId;}get tags(){return this._tags;}}RoomSessionUserTagsEvent_RoomSessionUserTagsEvent.UTRE_USER_TAGS_RECEIVED='UTRE_USER_TAGS_RECEIVED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionVoteEvent.ts\nclass RoomSessionVoteEvent_RoomSessionVoteEvent extends RoomSessionEvent_RoomSessionEvent{constructor(_arg_1,_arg_2,_arg_3,_arg_4){let _arg_5=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let _arg_6=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;super(_arg_1,_arg_2);this._question='';this._choices=void 0;this._SafeStr_7651=void 0;this._SafeStr_7654=0;this._choices=[];this._SafeStr_7651=[];this._question=_arg_3;this._choices=_arg_4;this._SafeStr_7651=_arg_5;if(this._SafeStr_7651==null){this._SafeStr_7651=[];}this._SafeStr_7654=_arg_6;}get question(){return this._question;}get choices(){return this._choices.slice();}get _SafeStr_4173(){return this._SafeStr_7651.slice();}get _SafeStr_4174(){return this._SafeStr_7654;}}RoomSessionVoteEvent_RoomSessionVoteEvent.VOTE_QUESTION='RSPE_VOTE_QUESTION';RoomSessionVoteEvent_RoomSessionVoteEvent.VOTE_RESULT='RSPE_VOTE_RESULT';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/RoomSessionWordQuizEvent.ts\nclass RoomSessionWordQuizEvent_RoomSessionWordQuizEvent extends RoomSessionEvent_RoomSessionEvent{constructor(k,_arg_2){let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;super(k,_arg_2);this._id=-1;this._pollType=null;this._pollId=-1;this._questionId=-1;this._duration=-1;this._question=null;this._userId=-1;this._value=void 0;this._answerCounts=void 0;this._id=_arg_3;}get id(){return this._id;}get pollType(){return this._pollType;}set pollType(k){this._pollType=k;}get pollId(){return this._pollId;}set pollId(k){this._pollId=k;}get questionId(){return this._questionId;}set questionId(k){this._questionId=k;}get duration(){return this._duration;}set duration(k){this._duration=k;}get question(){return this._question;}set question(k){this._question=k;}get userId(){return this._userId;}set userId(k){this._userId=k;}get value(){return this._value;}set value(k){this._value=k;}get answerCounts(){return this._answerCounts;}set answerCounts(k){this._answerCounts=k;}}RoomSessionWordQuizEvent_RoomSessionWordQuizEvent.QUESTION='RWPUW_NEW_QUESTION';RoomSessionWordQuizEvent_RoomSessionWordQuizEvent.FINISHED='RWPUW_QUESION_FINSIHED';RoomSessionWordQuizEvent_RoomSessionWordQuizEvent.ANSWERED='RWPUW_QUESTION_ANSWERED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/SessionDataPreferencesEvent.ts\nclass SessionDataPreferencesEvent_SessionDataPreferencesEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(k){super(SessionDataPreferencesEvent_SessionDataPreferencesEvent.UPDATED);this._uiFlags=void 0;this._uiFlags=k;}get uiFlags(){return this._uiFlags;}}SessionDataPreferencesEvent_SessionDataPreferencesEvent.UPDATED='APUE_UPDATED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/UserNameUpdateEvent.ts\nclass UserNameUpdateEvent_UserNameUpdateEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(k){super(UserNameUpdateEvent_UserNameUpdateEvent.UNUE_NAME_UPDATED);this._name=void 0;this._name=k;}get name(){return this._name;}}UserNameUpdateEvent_UserNameUpdateEvent.UNUE_NAME_UPDATED='unue_name_updated';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/RoomPetData.ts\nclass RoomPetData{constructor(){this._id=void 0;this._level=void 0;this._maximumLevel=void 0;this._experience=void 0;this._levelExperienceGoal=void 0;this._energy=void 0;this._maximumEnergy=void 0;this._happyness=void 0;this._maximumHappyness=void 0;this._ownerId=void 0;this._ownerName=void 0;this._respect=void 0;this._age=void 0;this._unknownRarity=void 0;this._saddle=void 0;this._rider=void 0;this._breedable=void 0;this._skillThresholds=void 0;this._publiclyRideable=void 0;this._fullyGrown=void 0;this._dead=void 0;this._maximumTimeToLive=void 0;this._remainingTimeToLive=void 0;this._remainingGrowTime=void 0;this._rarityLevel=void 0;this._publiclyBreedable=void 0;this._adultLevel=7;}get id(){return this._id;}set id(k){this._id=k;}get level(){return this._level;}set level(level){this._level=level;}get maximumLevel(){return this._maximumLevel;}set maximumLevel(k){this._maximumLevel=k;}get experience(){return this._experience;}set experience(experience){this._experience=experience;}get levelExperienceGoal(){return this._levelExperienceGoal;}set levelExperienceGoal(k){this._levelExperienceGoal=k;}get energy(){return this._energy;}set energy(energy){this._energy=energy;}get maximumEnergy(){return this._maximumEnergy;}set maximumEnergy(k){this._maximumEnergy=k;}get happyness(){return this._happyness;}set happyness(k){this._happyness=k;}get maximumHappyness(){return this._maximumHappyness;}set maximumHappyness(k){this._maximumHappyness=k;}get ownerId(){return this._ownerId;}set ownerId(k){this._ownerId=k;}get ownerName(){return this._ownerName;}set ownerName(ownerName){this._ownerName=ownerName;}get respect(){return this._respect;}set respect(k){this._respect=k;}get age(){return this._age;}set age(age){this._age=age;}get unknownRarity(){return this._unknownRarity;}set unknownRarity(k){this._unknownRarity=k;}get saddle(){return this._saddle;}set saddle(k){this._saddle=k;}get rider(){return this._rider;}set rider(k){this._rider=k;}get skillTresholds(){return this._skillThresholds;}set skillTresholds(k){this._skillThresholds=k;}get publiclyRideable(){return this._publiclyRideable;}set publiclyRideable(k){this._publiclyRideable=k;}get breedable(){return this._breedable;}set breedable(k){this._breedable=k;}get fullyGrown(){return this._fullyGrown;}set fullyGrown(k){this._fullyGrown=k;}get dead(){return this._dead;}set dead(k){this._dead=k;}get rarityLevel(){return this._rarityLevel;}set rarityLevel(rarityLevel){this._rarityLevel=rarityLevel;}get maximumTimeToLive(){return this._maximumTimeToLive;}set maximumTimeToLive(k){this._maximumTimeToLive=k;}get remainingTimeToLive(){return this._remainingTimeToLive;}set remainingTimeToLive(k){this._remainingTimeToLive=k;}get remainingGrowTime(){return this._remainingGrowTime;}set remainingGrowTime(k){this._remainingGrowTime=k;}get publiclyBreedable(){return this._publiclyBreedable;}set publiclyBreedable(k){this._publiclyBreedable=k;}get adultLevel(){return this._adultLevel;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/RoomUserData.ts\nclass RoomUserData{constructor(k){this._roomIndex=-1;this._name='';this._type=0;this._sex='';this._figure='';this._custom='';this._activityPoints=void 0;this._webID=0;this._groupID=0;this._groupStatus=0;this._groupName='';this._ownerId=0;this._ownerName='';this._petLevel=0;this._rarityLevel=0;this._hasSaddle=void 0;this._isRiding=void 0;this._canBreed=void 0;this._canHarvest=void 0;this._canRevive=void 0;this._hasBreedingPermission=void 0;this._botSkills=void 0;this._isModerator=void 0;this._roomIndex=k;}get roomIndex(){return this._roomIndex;}get activityPoints(){return this._activityPoints;}set activityPoints(k){this._activityPoints=k;}get name(){return this._name;}set name(k){this._name=k;}get type(){return this._type;}set type(k){this._type=k;}get sex(){return this._sex;}set sex(k){this._sex=k;}get figure(){return this._figure;}set figure(k){this._figure=k;}get custom(){return this._custom;}set custom(k){this._custom=k;}get webID(){return this._webID;}set webID(k){this._webID=k;}get groupId(){return this._groupID;}set groupId(groupId){this._groupID=groupId;}get groupName(){return this._groupName;}set groupName(k){this._groupName=k;}get groupStatus(){return this._groupStatus;}set groupStatus(k){this._groupStatus=k;}get ownerId(){return this._ownerId;}set ownerId(k){this._ownerId=k;}get ownerName(){return this._ownerName;}set ownerName(k){this._ownerName=k;}get rarityLevel(){return this._rarityLevel;}set rarityLevel(k){this._rarityLevel=k;}get hasSaddle(){return this._hasSaddle;}set hasSaddle(k){this._hasSaddle=k;}get isRiding(){return this._isRiding;}set isRiding(k){this._isRiding=k;}get canBreed(){return this._canBreed;}set canBreed(k){this._canBreed=k;}get canHarvest(){return this._canHarvest;}set canHarvest(k){this._canHarvest=k;}get canRevive(){return this._canRevive;}set canRevive(k){this._canRevive=k;}get hasBreedingPermission(){return this._hasBreedingPermission;}set hasBreedingPermission(k){this._hasBreedingPermission=k;}get petLevel(){return this._petLevel;}set petLevel(k){this._petLevel=k;}get botSkills(){return this._botSkills;}set botSkills(k){this._botSkills=k;}get isModerator(){return this._isModerator;}set isModerator(k){this._isModerator=k;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/RoomUsersHandler.ts\nclass RoomUsersHandler_RoomUsersHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new RoomUnitEvent_RoomUnitEvent(this.onRoomUnitEvent.bind(this)));connection.addMessageEvent(new RoomUnitInfoEvent_RoomUnitInfoEvent(this.onRoomUnitInfoEvent.bind(this)));connection.addMessageEvent(new RoomUnitRemoveEvent_RoomUnitRemoveEvent(this.onRoomUnitRemoveEvent.bind(this)));connection.addMessageEvent(new RoomUnitDanceEvent_RoomUnitDanceEvent(this.onRoomUnitDanceEvent.bind(this)));connection.addMessageEvent(new UserCurrentBadgesEvent_UserCurrentBadgesEvent(this.onUserCurrentBadgesEvent.bind(this)));connection.addMessageEvent(new RoomDoorbellEvent_RoomDoorbellEvent(this.onRoomDoorbellEvent.bind(this)));connection.addMessageEvent(new UserNameChangeMessageEvent_UserNameChangeMessageEvent(this.onUserNameChangeMessageEvent.bind(this)));connection.addMessageEvent(new NewFriendRequestEvent_NewFriendRequestEvent(this.onNewFriendRequestEvent.bind(this)));connection.addMessageEvent(new PetInfoEvent_PetInfoEvent(this.onPetInfoEvent.bind(this)));connection.addMessageEvent(new PetStatusUpdateEvent_PetStatusUpdateEvent(this.onPetStatusUpdateEvent.bind(this)));connection.addMessageEvent(new PetFigureUpdateEvent_PetFigureUpdateEvent(this.onPetFigureUpdateEvent.bind(this)));connection.addMessageEvent(new PetPlacingErrorEvent_PetPlacingErrorEvent(this.onPetPlacingError.bind(this)));connection.addMessageEvent(new BotErrorEvent_BotErrorEvent(this.onBotError.bind(this)));connection.addMessageEvent(new FavoriteMembershipUpdateMessageEvent_FavoriteMembershipUpdateMessageEvent(this.onFavoriteMembershipUpdateMessageEvent.bind(this)));}onRoomUnitEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const users=event.getParser().users;const usersToAdd=[];if(users&&users.length){for(const user of users){if(!user)continue;const userData=new RoomUserData(user.roomIndex);userData.name=user.name;userData.custom=user.custom;userData.activityPoints=user.activityPoints;userData.figure=user.figure;userData.type=user.userType;userData.webID=user.webID;userData.groupId=user.groupID;userData.groupName=user.groupName;userData.groupStatus=user.groupStatus;userData.sex=user.sex;userData.ownerId=user.ownerId;userData.ownerName=user.ownerName;userData.rarityLevel=user.rarityLevel;userData.hasSaddle=user.hasSaddle;userData.isRiding=user.isRiding;userData.canBreed=user.canBreed;userData.canHarvest=user.canHarvest;userData.canRevive=user.canRevive;userData.hasBreedingPermission=user.hasBreedingPermission;userData.petLevel=user.petLevel;userData.botSkills=user.botSkills;userData.isModerator=user.isModerator;if(!session.userDataManager.getUserData(user.roomIndex))usersToAdd.push(userData);session.userDataManager.updateUserData(userData);}}this.listener.events.dispatchEvent(new RoomSessionUserDataUpdateEvent_RoomSessionUserDataUpdateEvent(session,usersToAdd));}onRoomUnitInfoEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;session.userDataManager.updateFigure(parser.unitId,parser.figure,parser.gender,false,false);session.userDataManager.updateMotto(parser.unitId,parser.motto);session.userDataManager.updateAchievementScore(parser.unitId,parser.achievementScore);this.listener.events.dispatchEvent(new RoomSessionUserFigureUpdateEvent_RoomSessionUserFigureUpdateEvent(session,parser.unitId,parser.figure,parser.gender,parser.motto,parser.achievementScore));}onRoomUnitRemoveEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;session.userDataManager.removeUserData(event.getParser().unitId);}onRoomUnitDanceEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;this.listener.events.dispatchEvent(new RoomSessionDanceEvent_RoomSessionDanceEvent(session,parser.unitId,parser.danceId));}onUserCurrentBadgesEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;session.userDataManager.setUserBadges(parser.userId,parser.badges);this.listener.events.dispatchEvent(new RoomSessionUserBadgesEvent_RoomSessionUserBadgesEvent(session,parser.userId,parser.badges));}onRoomDoorbellEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const username=parser.userName;if(!username||!username.length)return;const session=this.listener.getSession(this.roomId);if(!session)return;this.listener.events.dispatchEvent(new RoomSessionDoorbellEvent_RoomSessionDoorbellEvent(RoomSessionDoorbellEvent_RoomSessionDoorbellEvent.DOORBELL,session,username));}onUserNameChangeMessageEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;session.userDataManager.updateName(parser.id,parser.newName);}onNewFriendRequestEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;const request=parser.request;this.listener.events.dispatchEvent(new RoomSessionFriendRequestEvent_RoomSessionFriendRequestEvent(session,request.requestId,request.requesterUserId,request.requesterName));}onPetInfoEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;const petData=new RoomPetData();petData.id=parser.id;petData.level=parser.level;petData.maximumLevel=parser.maximumLevel;petData.experience=parser.experience;petData.levelExperienceGoal=parser.levelExperienceGoal;petData.energy=parser.energy;petData.maximumEnergy=parser.maximumEnergy;petData.happyness=parser.happyness;petData.maximumHappyness=parser.maximumHappyness;petData.ownerId=parser.ownerId;petData.ownerName=parser.ownerName;petData.respect=parser.respect;petData.age=parser.age;petData.unknownRarity=parser.unknownRarity;petData.saddle=parser.saddle;petData.rider=parser.rider;petData.breedable=parser.breedable;petData.fullyGrown=parser.fullyGrown;petData.rarityLevel=parser.rarityLevel;petData.dead=parser.dead;petData.skillTresholds=parser.skillTresholds;petData.publiclyRideable=parser.publiclyRideable;petData.maximumTimeToLive=parser.maximumTimeToLive;petData.remainingTimeToLive=parser.remainingTimeToLive;petData.remainingGrowTime=parser.remainingGrowTime;petData.publiclyBreedable=parser.publiclyBreedable;this.listener.events.dispatchEvent(new RoomSessionPetInfoUpdateEvent_RoomSessionPetInfoUpdateEvent(session,petData));}onPetStatusUpdateEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;session.userDataManager.updatePetBreedingStatus(parser.roomIndex,parser.canBreed,parser.canHarvest,parser.canRevive,parser.hasBreedingPermission);this.listener.events.dispatchEvent(new RoomSessionPetStatusUpdateEvent_RoomSessionPetStatusUpdateEvent(session,parser.petId,parser.canBreed,parser.canHarvest,parser.canRevive,parser.hasBreedingPermission));}onPetFigureUpdateEvent(event){if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;const figure=parser.figureData.figuredata;session.userDataManager.updateFigure(parser.roomIndex,figure,'',parser.hasSaddle,parser.isRiding);this.listener.events.dispatchEvent(new RoomSessionPetFigureUpdateEvent_RoomSessionPetFigureUpdateEvent(session,parser.petId,figure));}onPetPlacingError(event){if(!event)return;if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;let type=null;switch(parser.errorCode){case 0:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_PETS_FORBIDDEN_IN_HOTEL;break;case 1:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_PETS_FORBIDDEN_IN_FLAT;break;case 2:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_MAX_PETS;break;case 3:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_NO_FREE_TILES_FOR_PET;break;case 4:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET;break;case 5:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_MAX_NUMBER_OF_OWN_PETS;break;}if(!type||type.length==0)return;this.listener.events.dispatchEvent(new RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent(type,session));}onBotError(event){if(!event)return;if(!this.listener)return;const parser=event.getParser();if(!parser)return;const session=this.listener.getSession(this.roomId);if(!session)return;let type=null;switch(parser.errorCode){case 0:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOTS_FORBIDDEN_IN_HOTEL;break;case 1:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOTS_FORBIDDEN_IN_FLAT;break;case 2:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOT_LIMIT_REACHED;break;case 3:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT;break;case 4:type=RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent.RSEME_BOT_NAME_NOT_ACCEPTED;break;}if(!type||type.length==0)return;this.listener.events.dispatchEvent(new RoomSessionErrorMessageEvent_RoomSessionErrorMessageEvent(type,session));}onFavoriteMembershipUpdateMessageEvent(event){if(!this.listener)return;const parser=event.getParser();const session=this.listener.getSession(this.roomId);if(!session)return;const userData=session.userDataManager.getUserDataByIndex(parser.roomIndex);if(!userData)return;userData.groupId=parser.groupId;userData.groupName=parser.groupName;this.listener.events.dispatchEvent(new RoomSessionFavoriteGroupUpdateEvent_RoomSessionFavoriteGroupUpdateEvent(session,parser.roomIndex,parser.groupId,parser.status,parser.groupName));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/WordQuizHandler.ts\nclass WordQuizHandler_WordQuizHandler extends BaseHandler_BaseHandler{constructor(connection,listener){super(connection,listener);connection.addMessageEvent(new QuestionEvent_QuestionEvent(this.onQuestionEvent.bind(this)));connection.addMessageEvent(new QuestionAnsweredEvent_QuestionAnsweredEvent(this.onQuestionAnsweredEvent.bind(this)));connection.addMessageEvent(new QuestionFinishedEvent_QuestionFinishedEvent(this.onQuestionFinishedEvent.bind(this)));}onQuestionEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const quizEvent=new RoomSessionWordQuizEvent_RoomSessionWordQuizEvent(RoomSessionWordQuizEvent_RoomSessionWordQuizEvent.QUESTION,session,parser.pollId);quizEvent.question=parser.question;quizEvent.duration=parser.duration;quizEvent.pollType=parser.pollType;quizEvent.questionId=parser.questionId;quizEvent.pollId=parser.pollId;this.listener.events.dispatchEvent(quizEvent);}onQuestionAnsweredEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const quizEvent=new RoomSessionWordQuizEvent_RoomSessionWordQuizEvent(RoomSessionWordQuizEvent_RoomSessionWordQuizEvent.ANSWERED,session,parser.userId);quizEvent.value=parser.value;quizEvent.userId=parser.userId;quizEvent.answerCounts=parser.answerCounts;this.listener.events.dispatchEvent(quizEvent);}onQuestionFinishedEvent(event){if(!this.listener)return;const session=this.listener.getSession(this.roomId);if(!session)return;const parser=event.getParser();if(!parser)return;const quizEvent=new RoomSessionWordQuizEvent_RoomSessionWordQuizEvent(RoomSessionWordQuizEvent_RoomSessionWordQuizEvent.FINISHED,session);quizEvent.questionId=parser.questionId;quizEvent.answerCounts=parser.answerCounts;this.listener.events.dispatchEvent(quizEvent);}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/enum/RoomTradingLevelEnum.ts\nclass RoomTradingLevelEnum{static getLocalizationKey(k){switch(k){case RoomTradingLevelEnum.FREE_TRADING:return'${trading.mode.free}';case RoomTradingLevelEnum.ROOM_CONTROLLER_REQUIRED:return'${trading.mode.controller}';case RoomTradingLevelEnum.NO_TRADING:return'${trading.mode.not.allowed}';}return'';}}RoomTradingLevelEnum.NO_TRADING=0;RoomTradingLevelEnum.ROOM_CONTROLLER_REQUIRED=1;RoomTradingLevelEnum.FREE_TRADING=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/UserDataManager.ts\nclass UserDataManager_UserDataManager extends Disposable{constructor(){super();this._connection=void 0;this._userDataByType=void 0;this._userDataByRoomIndex=void 0;this._userBadges=void 0;this._connection=null;this._userDataByType=new Map();this._userDataByRoomIndex=new Map();this._userBadges=new Map();}onDispose(){this._connection=null;}setConnection(connection){this._connection=connection;}getUserData(webID){return this.getDataByType(webID,UserDataManager_UserDataManager.TYPE_USER);}getPetData(webID){return this.getDataByType(webID,UserDataManager_UserDataManager.TYPE_PET);}getBotData(webID){return this.getDataByType(webID,UserDataManager_UserDataManager.TYPE_BOT);}getRentableBotData(webID){return this.getDataByType(webID,UserDataManager_UserDataManager.TYPE_RENTABLE_BOT);}getDataByType(webID,type){const existing=this._userDataByType.get(type);if(!existing)return null;const userData=existing.get(webID);if(!userData)return null;return userData;}getUserDataByIndex(roomIndex){const existing=this._userDataByRoomIndex.get(roomIndex);if(!existing)return null;return existing;}getUserDataByName(name){for(const userData of this._userDataByRoomIndex.values()){if(!userData||userData.name!==name)continue;return userData;}return null;}updateUserData(data){if(!data)return;this.removeUserData(data.roomIndex);let existingType=this._userDataByType.get(data.type);if(!existingType){existingType=new Map();this._userDataByType.set(data.type,existingType);}existingType.set(data.webID,data);this._userDataByRoomIndex.set(data.roomIndex,data);}removeUserData(roomIndex){const existing=this.getUserDataByIndex(roomIndex);if(!existing)return;this._userDataByRoomIndex.delete(roomIndex);const existingType=this._userDataByType.get(existing.type);if(existingType)existingType.delete(existing.webID);}getUserBadges(userId){if(this._connection){this._connection.send(new UserCurrentBadgesComposer(userId));}const badges=this._userBadges.get(userId);if(!badges)return[];return badges;}setUserBadges(userId,badges){this._userBadges.set(userId,badges);}updateFigure(roomIndex,figure,sex,hasSaddle,isRiding){const userData=this.getUserDataByIndex(roomIndex);if(!userData)return;userData.figure=figure;userData.sex=sex;userData.hasSaddle=hasSaddle;userData.isRiding=isRiding;}updateName(roomIndex,name){const userData=this.getUserDataByIndex(roomIndex);if(!userData)return;userData.name=name;}updateMotto(roomIndex,custom){const userData=this.getUserDataByIndex(roomIndex);if(!userData)return;userData.custom=custom;}updateAchievementScore(roomIndex,score){const userData=this.getUserDataByIndex(roomIndex);if(!userData)return;userData.activityPoints=score;}updatePetLevel(roomIndex,level){const userData=this.getUserDataByIndex(roomIndex);if(userData)userData.petLevel=level;}updatePetBreedingStatus(roomIndex,canBreed,canHarvest,canRevive,hasBreedingPermission){const userData=this.getUserDataByIndex(roomIndex);if(!userData)return;userData.canBreed=canBreed;userData.canHarvest=canHarvest;userData.canRevive=canRevive;userData.hasBreedingPermission=hasBreedingPermission;}requestPetInfo(id){if(!this._connection)return;const petData=this.getPetData(id);if(!petData)return;this._connection.send(new RequestPetInfoComposer(id));}get connection(){return this._connection;}}UserDataManager_UserDataManager.TYPE_USER=1;UserDataManager_UserDataManager.TYPE_PET=2;UserDataManager_UserDataManager.TYPE_BOT=3;UserDataManager_UserDataManager.TYPE_RENTABLE_BOT=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/RoomSession.ts\nclass RoomSession_RoomSession extends Disposable{constructor(){super();this._connection=void 0;this._userData=void 0;this._roomId=void 0;this._password=void 0;this._state=void 0;this._tradeMode=void 0;this._doorMode=void 0;this._allowPets=void 0;this._controllerLevel=void 0;this._ownRoomIndex=void 0;this._isGuildRoom=void 0;this._isRoomOwner=void 0;this._isDecorating=void 0;this._isSpectator=void 0;this._moderationSettings=void 0;this._connection=null;this._userData=new UserDataManager_UserDataManager();this._roomId=0;this._password=null;this._state=RoomSessionEvent_RoomSessionEvent.CREATED;this._tradeMode=RoomTradingLevelEnum.NO_TRADING;this._doorMode=0;this._controllerLevel=RoomControllerLevel.NONE;this._ownRoomIndex=-1;this._isGuildRoom=false;this._isRoomOwner=false;this._isDecorating=false;this._isSpectator=false;this._moderationSettings=null;}onDispose(){if(this._userData){this._userData.dispose();this._userData=null;}this._connection=null;}setConnection(connection){if(this._connection||!connection)return;this._connection=connection;if(this._userData)this._userData.setConnection(connection);}setControllerLevel(level){if(level>=RoomControllerLevel.NONE&&level<=RoomControllerLevel.MODERATOR){this._controllerLevel=level;return;}this._controllerLevel=RoomControllerLevel.NONE;}setOwnRoomIndex(roomIndex){this._ownRoomIndex=roomIndex;}setRoomOwner(){this._isRoomOwner=true;}start(){if(this._state!==RoomSessionEvent_RoomSessionEvent.CREATED||!this._connection)return false;this._state=RoomSessionEvent_RoomSessionEvent.STARTED;return this.enterRoom();}enterRoom(){if(!this._connection)return false;this._connection.send(new RoomEnterComposer(this._roomId,this._password));return true;}reset(roomId){if(roomId===this._roomId)return;this._roomId=roomId;}sendChatMessage(text,styleId){this._connection.send(new RoomUnitChatComposer(text,styleId));}sendShoutMessage(text,styleId){this._connection.send(new RoomUnitChatShoutComposer(text,styleId));}sendWhisperMessage(recipientName,text,styleId){this._connection.send(new RoomUnitChatWhisperComposer(recipientName,text,styleId));}sendChatTypingMessage(isTyping){if(isTyping)this._connection.send(new RoomUnitTypingStartComposer());else this._connection.send(new RoomUnitTypingStopComposer());}sendMottoMessage(motto){this._connection.send(new UserMottoComposer(motto));}sendDanceMessage(danceId){this._connection.send(new RoomUnitDanceComposer(danceId));}sendExpressionMessage(expression){this._connection.send(new RoomUnitActionComposer(expression));}sendSignMessage(sign){if(sign<0||sign>17)return;this._connection.send(new RoomUnitSignComposer(sign));}sendPostureMessage(posture){this._connection.send(new RoomUnitPostureComposer(posture));}sendDoorbellApprovalMessage(userName,flag){this._connection.send(new RoomDoorbellAccessComposer(userName,flag));}sendAmbassadorAlertMessage(userId){this._connection.send(new RoomAmbassadorAlertComposer(userId));}sendKickMessage(userId){this._connection.send(new RoomKickUserComposer(userId));}sendMuteMessage(userId,minutes){this._connection.send(new RoomMuteUserComposer(userId,minutes,this._roomId));}sendBanMessage(userId,type){this._connection.send(new RoomBanUserComposer(userId,this._roomId,type));}sendGiveRightsMessage(userId){this._connection.send(new RoomGiveRightsComposer(userId));}sendTakeRightsMessage(userId){this._connection.send(new RoomTakeRightsComposer(userId));}sendPollStartMessage(pollId){this._connection.send(new PollStartComposer(pollId));}sendPollRejectMessage(pollId){this._connection.send(new PollRejectComposer(pollId));}sendPollAnswerMessage(pollId,questionId,answers){this._connection.send(new PollAnswerComposer(pollId,questionId,answers));}updateMoodlightData(id,effectId,color,brightness,apply){let colorString='000000'+color.toString(16).toUpperCase();colorString='#'+colorString.substring(colorString.length-6);this.connection.send(new MoodlightSettingsSaveComposer(id,effectId,colorString,brightness,apply));}toggleMoodlightState(){this.connection.send(new MoodlightTogggleStateComposer());}pickupPet(id){if(!this._connection)return;this._connection.send(new PetRemoveComposer(id));}pickupBot(id){if(!this._connection)return;this._connection.send(new BotRemoveComposer(id));}requestMoodlightSettings(){if(!this._connection)return;this._connection.send(new MoodlightSettingsComposer());}openGift(objectId){this._connection.send(new OpenPresentComposer(objectId));}mountPet(id){this._connection.send(new PetMountComposer(id,true));}dismountPet(id){this._connection.send(new PetMountComposer(id,false));}usePetProduct(itemId,petId){this._connection.send(new UsePetProductComposer(itemId,petId));}removePetSaddle(id){this._connection.send(new RemovePetSaddleComposer(id));}togglePetBreeding(id){this._connection.send(new TogglePetBreedingComposer(id));}togglePetRiding(id){this._connection.send(new TogglePetRidingComposer(id));}useMultistateItem(id){this._connection.send(new FurnitureMultiStateComposer(id));}harvestPet(id){this._connection.send(new HarvestPetMessageComposer_HarvestPetMessageComposer(id));}compostPlant(id){this._connection.send(new CompostPlantMessageComposer_CompostPlantMessageComposer(id));}get connection(){return this._connection;}get userDataManager(){return this._userData;}get roomId(){return this._roomId;}set roomId(roomId){this._roomId=roomId;}get password(){return this._password;}set password(password){this._password=password;}get state(){return this._state;}get _Str_7411(){return true;}get tradeMode(){return this._tradeMode;}set tradeMode(mode){this._tradeMode=mode;}get doorMode(){return this._doorMode;}set doorMode(mode){this._doorMode=mode;}get allowPets(){return this._allowPets;}set allowPets(flag){this._allowPets=flag;}get controllerLevel(){return this._controllerLevel;}get ownRoomIndex(){return this._ownRoomIndex;}get isGuildRoom(){return this._isGuildRoom;}set isGuildRoom(flag){this._isGuildRoom=flag;}get isRoomOwner(){return this._isRoomOwner;}get isDecorating(){return this._isDecorating;}set isDecorating(flag){this._isDecorating=flag;}get isSpectator(){return this._isSpectator;}set isSpectator(flag){this._isSpectator=flag;}get moderationSettings(){return this._moderationSettings;}set moderationSettings(parser){this._moderationSettings=parser;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/RoomSessionManager.ts\nclass RoomSessionManager_RoomSessionManager extends NitroManager_NitroManager{constructor(communication,roomEngine){super();this._communication=void 0;this._roomEngine=void 0;this._handlers=void 0;this._sessions=void 0;this._pendingSession=void 0;this._sessionStarting=void 0;this._viewerSession=void 0;this._communication=communication;this._roomEngine=roomEngine;this._handlers=[];this._sessions=new Map();this._pendingSession=null;this._sessionStarting=false;this._viewerSession=null;this.onRoomEngineEvent=this.onRoomEngineEvent.bind(this);}onInit(){this.createHandlers();this.processPendingSession();this._roomEngine.events.addEventListener(RoomEngineEvent_RoomEngineEvent.ENGINE_INITIALIZED,this.onRoomEngineEvent);}onDispose(){this._roomEngine.events.removeEventListener(RoomEngineEvent_RoomEngineEvent.ENGINE_INITIALIZED,this.onRoomEngineEvent);super.onDispose();}createHandlers(){const connection=this._communication&&this._communication.connection;if(!connection)return;this._handlers.push(new RoomChatHandler_RoomChatHandler(connection,this),new RoomDataHandler_RoomDataHandler(connection,this),new RoomDimmerPresetsHandler_RoomDimmerPresetsHandler(connection,this),new RoomPermissionsHandler_RoomPermissionsHandler(connection,this),new RoomSessionHandler_RoomSessionHandler(connection,this),new RoomUsersHandler_RoomUsersHandler(connection,this),new RoomPresentHandler_RoomPresentHandler(connection,this),new GenericErrorHandler_GenericErrorHandler(connection,this),new WordQuizHandler_WordQuizHandler(connection,this),new PollHandler_PollHandler(connection,this));}setHandlers(session){if(!this._handlers||!this._handlers.length)return;for(const handler of this._handlers){if(!handler)continue;handler.setRoomId(session.roomId);}}onRoomEngineEvent(event){this.processPendingSession();}processPendingSession(){if(!this._pendingSession||!this._roomEngine.ready)return;this.addSession(this._pendingSession);this._pendingSession=null;}getSession(id){const existing=this._sessions.get(this.getRoomId(id));if(!existing)return null;return existing;}createSession(roomId){let password=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const session=new RoomSession_RoomSession();session.roomId=roomId;session.password=password;return this.addSession(session);}addSession(roomSession){if(!this._roomEngine.ready){this._pendingSession=roomSession;return false;}this._sessionStarting=true;if(this._sessions.get(this.getRoomId(roomSession.roomId))){this.removeSession(roomSession.roomId,false);}roomSession.setConnection(this._communication.connection);this._sessions.set(this.getRoomId(roomSession.roomId),roomSession);this.events.dispatchEvent(new RoomSessionEvent_RoomSessionEvent(RoomSessionEvent_RoomSessionEvent.CREATED,roomSession));this._viewerSession=roomSession;this.startSession(this._viewerSession);return true;}startSession(session){if(session.state===RoomSessionEvent_RoomSessionEvent.STARTED)return false;this._sessionStarting=false;if(!session.start()){this.removeSession(session.roomId);return false;}this.events.dispatchEvent(new RoomSessionEvent_RoomSessionEvent(RoomSessionEvent_RoomSessionEvent.STARTED,session));this.setHandlers(session);return true;}removeSession(id){let openLandingView=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const session=this.getSession(id);if(!session)return;this._sessions.delete(this.getRoomId(id));this.events.dispatchEvent(new RoomSessionEvent_RoomSessionEvent(RoomSessionEvent_RoomSessionEvent.ENDED,session,openLandingView));session.dispose();}sessionUpdate(id,type){const session=this.getSession(id);if(!session)return;switch(type){case RoomSessionHandler_RoomSessionHandler.RS_CONNECTED:return;case RoomSessionHandler_RoomSessionHandler.RS_READY:return;case RoomSessionHandler_RoomSessionHandler.RS_DISCONNECTED:this.removeSession(id);return;}}sessionReinitialize(fromRoomId,toRoomId){const existing=this.getSession(fromRoomId);if(!existing)return;this._sessions.delete(this.getRoomId(fromRoomId));existing.reset(toRoomId);this._sessions.set(this.getRoomId(toRoomId),existing);this.setHandlers(existing);}getRoomId(id){return'hard_coded_room_id';}get communication(){return this._communication;}get roomEngine(){return this._roomEngine;}get viewerSession(){return this._viewerSession;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/events/NitroSettingsEvent.ts\nclass NitroSettingsEvent_NitroSettingsEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(){super(NitroSettingsEvent_NitroSettingsEvent.SETTINGS_UPDATED);this._volumeSystem=void 0;this._volumeFurni=void 0;this._volumeTrax=void 0;this._oldChat=void 0;this._roomInvites=void 0;this._cameraFollow=void 0;this._flags=void 0;this._chatType=void 0;}clone(){const clone=new NitroSettingsEvent_NitroSettingsEvent();clone._volumeSystem=this._volumeSystem;clone._volumeFurni=this._volumeFurni;clone._volumeTrax=this._volumeTrax;clone._oldChat=this._oldChat;clone._roomInvites=this._roomInvites;clone._cameraFollow=this._cameraFollow;clone._flags=this._flags;clone._chatType=this._chatType;return clone;}get volumeSystem(){return this._volumeSystem;}set volumeSystem(volume){this._volumeSystem=volume;}get volumeFurni(){return this._volumeFurni;}set volumeFurni(volume){this._volumeFurni=volume;}get volumeTrax(){return this._volumeTrax;}set volumeTrax(volume){this._volumeTrax=volume;}get oldChat(){return this._oldChat;}set oldChat(value){this._oldChat=value;}get roomInvites(){return this._roomInvites;}set roomInvites(value){this._roomInvites=value;}get cameraFollow(){return this._cameraFollow;}set cameraFollow(value){this._cameraFollow=value;}get flags(){return this._flags;}set flags(flags){this._flags=flags;}get chatType(){return this._chatType;}set chatType(type){this._chatType=type;}}NitroSettingsEvent_NitroSettingsEvent.SETTINGS_UPDATED='NSE_SETTINGS_UPDATED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/badge/BadgeInfo.ts\nclass BadgeInfo{constructor(image,placeHolder){this._image=void 0;this._placeHolder=void 0;this._image=image;this._placeHolder=placeHolder;}get image(){return this._image;}get placeHolder(){return this._placeHolder;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/badge/GroupBadge.ts\nclass GroupBadge{constructor(code){this._code=void 0;this._parts=void 0;this._code=code;this._parts=[];}get code(){return this._code;}get parts(){return this._parts;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/badge/GroupBadgePart.ts\nclass GroupBadgePart_GroupBadgePart{constructor(type){let key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let color=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let position=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;this.type=void 0;this.key=void 0;this.color=void 0;this.position=void 0;this.type=type;this.key=key;this.color=color;this.position=position;}get code(){if(this.key===0)return null;return GroupBadgePart_GroupBadgePart.getCode(this.type,this.key,this.color,this.position);}static getCode(type,key,color,position){return(type===GroupBadgePart_GroupBadgePart.BASE?type:key>=100?GroupBadgePart_GroupBadgePart.SYMBOL_ALT:GroupBadgePart_GroupBadgePart.SYMBOL)+(key<10?'0':'')+(type===GroupBadgePart_GroupBadgePart.BASE?key:key>=100?key-100:key)+(color<10?'0':'')+color+position;}calculatePosition(asset){const gridPos=this.calculateGridPos(this.position);let x=GroupBadgePart_GroupBadgePart.CELL_WIDTH*gridPos.x+GroupBadgePart_GroupBadgePart.CELL_WIDTH/2-asset.width/2;let y=GroupBadgePart_GroupBadgePart.CELL_HEIGHT*gridPos.y+GroupBadgePart_GroupBadgePart.CELL_HEIGHT/2-asset.height/2;if(x<0)x=0;if(x+asset.width>GroupBadgePart_GroupBadgePart.IMAGE_WIDTH)x=GroupBadgePart_GroupBadgePart.IMAGE_WIDTH-asset.width;if(y<0)y=0;if(y+asset.height>GroupBadgePart_GroupBadgePart.IMAGE_HEIGHT)y=GroupBadgePart_GroupBadgePart.IMAGE_HEIGHT-asset.height;return new NitroPoint_NitroPoint(Math.floor(x),Math.floor(y));}calculateGridPos(gridVal){const point=new NitroPoint_NitroPoint();point.x=Math.floor(gridVal%3);point.y=Math.floor(gridVal/3);return point;}}GroupBadgePart_GroupBadgePart.BASE='b';GroupBadgePart_GroupBadgePart.SYMBOL='s';GroupBadgePart_GroupBadgePart.SYMBOL_ALT='t';GroupBadgePart_GroupBadgePart.BASE_PART=0;GroupBadgePart_GroupBadgePart.LAYER_PART=1;GroupBadgePart_GroupBadgePart.IMAGE_WIDTH=39;GroupBadgePart_GroupBadgePart.IMAGE_HEIGHT=39;GroupBadgePart_GroupBadgePart.CELL_WIDTH=13;GroupBadgePart_GroupBadgePart.CELL_HEIGHT=13;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/badge/BadgeImageManager.ts\nclass BadgeImageManager_BadgeImageManager{constructor(assetManager,sessionDataManager){this._assets=void 0;this._sessionDataManager=void 0;this._messages=void 0;this._groupBases=void 0;this._groupSymbols=void 0;this._groupPartColors=void 0;this._requestedBadges=void 0;this._groupBadgesQueue=void 0;this._readyToGenerateGroupBadges=void 0;this._assets=assetManager;this._sessionDataManager=sessionDataManager;this._groupBases=new Map();this._groupSymbols=new Map();this._groupPartColors=new Map();this._requestedBadges=new Map();this._groupBadgesQueue=new Map();this._readyToGenerateGroupBadges=false;}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new GroupBadgePartsEvent_GroupBadgePartsEvent(this.onGroupBadgePartsEvent.bind(this))];for(const message of this._messages)this._sessionDataManager.communication.registerMessageEvent(message);//this._sessionDataManager.send(new GroupBadgePartsComposer());\n}}dispose(){if(this._messages&&this._messages.length){for(const message of this._messages)this._sessionDataManager.communication.removeMessageEvent(message);this._messages=null;}this._sessionDataManager=null;}getBadgeImage(badgeName){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:BadgeImageManager_BadgeImageManager.NORMAL_BADGE;let load=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let badge=this.getBadgeTexture(badgeName,type);if(!badge&&load)badge=this.getBadgePlaceholder();return badge;}getBadgeInfo(k){const badge=this.getBadgeTexture(k);return badge?new BadgeInfo(badge,false):new BadgeInfo(this.getBadgePlaceholder(),true);}loadBadgeImage(badgeName){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:BadgeImageManager_BadgeImageManager.NORMAL_BADGE;if(this._assets.getTexture(this.getBadgeUrl(badgeName,type)))return badgeName;this.getBadgeTexture(badgeName,type);return null;}getBadgeTexture(badgeName){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:BadgeImageManager_BadgeImageManager.NORMAL_BADGE;const url=this.getBadgeUrl(badgeName,type);if(!url||!url.length)return null;const existing=this._assets.getTexture(url);if(existing)return existing.clone();if(type===BadgeImageManager_BadgeImageManager.NORMAL_BADGE){if(this._requestedBadges.get(badgeName))return null;this._requestedBadges.set(badgeName,true);this._assets.downloadAsset(url,flag=>{if(flag){this._requestedBadges.delete(badgeName);const texture=this._assets.getTexture(url);if(texture&&this._sessionDataManager)this._sessionDataManager.events.dispatchEvent(new BadgeImageReadyEvent_BadgeImageReadyEvent(badgeName,texture.clone()));}});}else if(type===BadgeImageManager_BadgeImageManager.GROUP_BADGE){if(this._groupBadgesQueue.get(badgeName))return;this._groupBadgesQueue.set(badgeName,true);if(this._readyToGenerateGroupBadges)this.loadGroupBadge(badgeName);}return null;}getBadgePlaceholder(){const url=Nitro_Nitro.instance.getConfiguration('images.url')+'/loading_icon.png';const existing=this._assets.getTexture(url);if(!existing)return null;return existing.clone();}getBadgeUrl(badge){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:BadgeImageManager_BadgeImageManager.NORMAL_BADGE;let url=null;switch(type){case BadgeImageManager_BadgeImageManager.NORMAL_BADGE:url=Nitro_Nitro.instance.getConfiguration('badge.asset.url').replace('%badgename%',badge);break;case BadgeImageManager_BadgeImageManager.GROUP_BADGE:url=badge;break;}return url;}loadGroupBadge(badgeCode){const groupBadge=new GroupBadge(badgeCode);const partMatches=[...badgeCode.matchAll(/[b|s][0-9]{4,6}/g)];for(const partMatch of partMatches){const partCode=partMatch[0];const shortMethod=partCode.length===6;const partType=partCode[0];const partId=parseInt(partCode.slice(1,shortMethod?3:4));const partColor=parseInt(partCode.slice(shortMethod?3:4,shortMethod?5:6));const partPosition=partCode.length<6?0:parseInt(partCode.slice(shortMethod?5:6,shortMethod?6:7));// sometimes position is ommitted \nconst part=new GroupBadgePart_GroupBadgePart(partType,partId,partColor,partPosition);groupBadge.parts.push(part);}this.renderGroupBadge(groupBadge);}renderGroupBadge(groupBadge){const container=new NitroContainer_NitroContainer();const tempSprite=new NitroSprite_NitroSprite(NitroTexture_NitroTexture.EMPTY);tempSprite.width=GroupBadgePart_GroupBadgePart.IMAGE_WIDTH;tempSprite.height=GroupBadgePart_GroupBadgePart.IMAGE_HEIGHT;container.addChild(tempSprite);for(const part of groupBadge.parts){let isFirst=true;const partNames=part.type==='b'?this._groupBases.get(part.key):this._groupSymbols.get(part.key);if(partNames){for(const partName of partNames){if(!partName||!partName.length)continue;const texture=this._assets.getTexture(`badgepart_${partName}`);if(!texture)continue;const{x,y}=part.calculatePosition(texture);const sprite=new NitroSprite_NitroSprite(texture);sprite.position.set(x,y);if(isFirst)sprite.tint=parseInt(this._groupPartColors.get(part.color),16);isFirst=false;container.addChild(sprite);}}}this._requestedBadges.delete(groupBadge.code);this._groupBadgesQueue.delete(groupBadge.code);const texture=TextureUtils_TextureUtils.generateTexture(container);this._assets.setTexture(groupBadge.code,texture);if(this._sessionDataManager)this._sessionDataManager.events.dispatchEvent(new BadgeImageReadyEvent_BadgeImageReadyEvent(groupBadge.code,texture));}onGroupBadgePartsEvent(event){if(!event)return;const data=event.getParser();if(!data)return;data.bases.forEach((names,id)=>this._groupBases.set(id,names.map(val=>val.replace('.png','').replace('.gif',''))));data.symbols.forEach((names,id)=>this._groupSymbols.set(id,names.map(val=>val.replace('.png','').replace('.gif',''))));this._groupPartColors=data.partColors;this._readyToGenerateGroupBadges=true;for(const badgeCode of this._groupBadgesQueue.keys())this.loadGroupBadge(badgeCode);}get disposed(){return!!this._sessionDataManager;}}BadgeImageManager_BadgeImageManager.GROUP_BADGE='group_badge';BadgeImageManager_BadgeImageManager.NORMAL_BADGE='normal_badge';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/enum/NoobnessLevelEnum.ts\nclass NoobnessLevelEnum{}NoobnessLevelEnum.OLD_IDENTITY=0;NoobnessLevelEnum.NEW_IDENTITY=1;NoobnessLevelEnum.REAL_NOOB=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/enum/SecurityLevel.ts\nclass SecurityLevel{}SecurityLevel.SUPER_USER=9;SecurityLevel.ADMINISTRATOR=8;SecurityLevel.COMMUNITY=7;SecurityLevel.PLAYER_SUPPORT=6;SecurityLevel.MODERATOR=5;SecurityLevel.EMPLOYEE=4;SecurityLevel.BUS_PARTNER=3;SecurityLevel.PARTNER=2;SecurityLevel.CELEBRITY=1;SecurityLevel.NONE=0;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/furniture/FurnitureData.ts\nclass FurnitureData{constructor(type,id,fullName,className,category,localizedName,description,revision,tileSizeX,tileSizeY,tileSizeZ,colors,hadIndexedColor,colorIndex,adUrl,purchaseOfferId,purchaseCouldBeUsedForBuyout,rentOfferId,rentCouldBeUsedForBuyout,availableForBuildersClub,customParams,specialType,canStandOn,canSitOn,canLayOn,excludedfromDynamic,furniLine,environment,rare){this._type=void 0;this._id=void 0;this._className=void 0;this._fullName=void 0;this._category=void 0;this._hasIndexedColor=void 0;this._colourIndex=void 0;this._revision=void 0;this._tileSizeX=void 0;this._tileSizeY=void 0;this._tileSizeZ=void 0;this._colors=void 0;this._localizedName=void 0;this._description=void 0;this._adUrl=void 0;this._purchaseOfferId=void 0;this._rentOfferId=void 0;this._customParams=void 0;this._specialType=void 0;this._purchaseCouldBeUsedForBuyout=void 0;this._rentCouldBeUsedForBuyout=void 0;this._availableForBuildersClub=void 0;this._canStandOn=void 0;this._canSitOn=void 0;this._canLayOn=void 0;this._excludedFromDynamic=void 0;this._furniLine=void 0;this._environment=void 0;this._rare=void 0;this._type=type;this._id=id;this._fullName=fullName;this._className=className;this._category=category;this._revision=revision;this._tileSizeX=tileSizeX;this._tileSizeY=tileSizeY;this._tileSizeZ=tileSizeZ;this._colors=colors;this._hasIndexedColor=hadIndexedColor;this._colourIndex=colorIndex;this._localizedName=localizedName;this._description=description;this._adUrl=adUrl;this._purchaseOfferId=purchaseOfferId;this._purchaseCouldBeUsedForBuyout=purchaseCouldBeUsedForBuyout;this._rentOfferId=rentOfferId;this._rentCouldBeUsedForBuyout=rentCouldBeUsedForBuyout;this._customParams=customParams;this._specialType=specialType;this._availableForBuildersClub=availableForBuildersClub;this._canStandOn=canStandOn;this._canSitOn=canSitOn;this._canLayOn=canLayOn;this._excludedFromDynamic=excludedfromDynamic;this._furniLine=furniLine;this._environment=environment;this._rare=rare;}get type(){return this._type;}get id(){return this._id;}get className(){return this._className;}set className(k){this._className=k;}get fullName(){return this._fullName;}get category(){return this._category;}get hasIndexedColor(){return this._hasIndexedColor;}get colorIndex(){return this._colourIndex;}get revision(){return this._revision;}get tileSizeX(){return this._tileSizeX;}get tileSizeY(){return this._tileSizeY;}get tileSizeZ(){return this._tileSizeZ;}get colors(){return this._colors;}get name(){return this._localizedName;}get description(){return this._description;}get adUrl(){return this._adUrl;}get purchaseOfferId(){return this._purchaseOfferId;}get customParams(){return this._customParams;}get specialType(){return this._specialType;}get rentOfferId(){return this._rentOfferId;}get purchaseCouldBeUsedForBuyout(){return this._purchaseCouldBeUsedForBuyout;}get rentCouldBeUsedForBuyout(){return this._rentCouldBeUsedForBuyout;}get availableForBuildersClub(){return this._availableForBuildersClub;}get canStandOn(){return this._canStandOn;}get canSitOn(){return this._canSitOn;}get canLayOn(){return this._canLayOn;}get isExternalImage(){return!(this._className.indexOf('external_image')===-1);}get excludeDynamic(){return this._excludedFromDynamic;}get furniLine(){return this._furniLine;}get environment(){return this._environment;}get rare(){return this._rare;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/furniture/FurnitureDataLoader.ts\nclass FurnitureDataLoader_FurnitureDataLoader extends EventDispatcher_EventDispatcher{constructor(floorItems,wallItems,localization){super();this._floorItems=void 0;this._wallItems=void 0;this._localization=void 0;this._nitroLogger=void 0;this._floorItems=floorItems;this._wallItems=wallItems;this._localization=localization;this._nitroLogger=new NitroLogger(this.constructor.name);}loadFurnitureData(url){if(!url)return;fetch(url).then(response=>response.json()).then(data=>this.onFurnitureDataLoaded(data)).catch(err=>this.onFurnitureDataError(err));}onFurnitureDataLoaded(data){if(!data)return;if(typeof data.roomitemtypes=='undefined'||typeof data.wallitemtypes=='undefined')this._nitroLogger.warn('Could not find `roomitemtypes` or `wallitemtypes` in furnidata.');if(data.roomitemtypes)this.parseFloorItems(data.roomitemtypes);if(data.wallitemtypes)this.parseWallItems(data.wallitemtypes);this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](FurnitureDataLoader_FurnitureDataLoader.FURNITURE_DATA_READY));}onFurnitureDataError(error){if(!error)return;console.error(error);this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](FurnitureDataLoader_FurnitureDataLoader.FURNITURE_DATA_ERROR));}parseFloorItems(data){if(!data||!data.furnitype)return;for(const furniture of data.furnitype){if(!furniture)continue;const colors=[];if(furniture.partcolors){for(const color of furniture.partcolors.color){let colorCode=color;if(colorCode.charAt(0)==='#'){colorCode=colorCode.replace('#','');colors.push(parseInt(colorCode,16));}else{colors.push(parseInt(colorCode,16));}}}const classSplit=furniture.classname.split('*');const className=classSplit[0];const colorIndex=classSplit.length>1?parseInt(classSplit[1]):0;const hasColorIndex=classSplit.length>1;const furnitureData=new FurnitureData(FurnitureType.FLOOR,furniture.id,furniture.classname,className,furniture.category,furniture.name,furniture.description,furniture.revision,furniture.xdim,furniture.ydim,0,colors,hasColorIndex,colorIndex,furniture.adurl,furniture.offerid,furniture.buyout,furniture.rentofferid,furniture.rentbuyout,furniture.bc,furniture.customparams,furniture.specialtype,furniture.canstandon,furniture.cansiton,furniture.canlayon,furniture.excludeddynamic,furniture.furniline,furniture.environment,furniture.rare);this._floorItems.set(furnitureData.id,furnitureData);this.updateLocalizations(furnitureData);}}parseWallItems(data){if(!data||!data.furnitype)return;for(const furniture of data.furnitype){if(!furniture)continue;const furnitureData=new FurnitureData(FurnitureType.WALL,furniture.id,furniture.classname,furniture.classname,furniture.category,furniture.name,furniture.description,furniture.revision,0,0,0,null,false,0,furniture.adurl,furniture.offerid,furniture.buyout,furniture.rentofferid,furniture.rentbuyout,furniture.bc,null,furniture.specialtype,false,false,false,furniture.excludeddynamic,furniture.furniline,furniture.environment,furniture.rare);this._wallItems.set(furnitureData.id,furnitureData);this.updateLocalizations(furnitureData);}}updateLocalizations(furniture){if(!this._localization)return;switch(furniture.type){case FurnitureType.FLOOR:this._localization.setValue('roomItem.name.'+furniture.id,furniture.name);this._localization.setValue('roomItem.desc.'+furniture.id,furniture.description);return;case FurnitureType.WALL:this._localization.setValue('wallItem.name.'+furniture.id,furniture.name);this._localization.setValue('wallItem.desc.'+furniture.id,furniture.description);return;}}}FurnitureDataLoader_FurnitureDataLoader.FURNITURE_DATA_READY='FDP_FURNITURE_DATA_READY';FurnitureDataLoader_FurnitureDataLoader.FURNITURE_DATA_ERROR='FDP_FURNITURE_DATA_ERROR';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/GroupInformationManager.ts\nclass GroupInformationManager_GroupInformationManager{constructor(sessionDataManager){this._sessionDataManager=void 0;this._groupBadges=void 0;this._messages=void 0;this._sessionDataManager=sessionDataManager;this._groupBadges=new Map();}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new RoomReadyMessageEvent_RoomReadyMessageEvent(this.onRoomReadyMessageEvent.bind(this)),new HabboGroupBadgesMessageEvent_HabboGroupBadgesMessageEvent(this.onGroupBadgesEvent.bind(this))];for(const message of this._messages)this._sessionDataManager.communication.registerMessageEvent(message);}}dispose(){if(this.disposed)return;if(this._messages&&this._messages.length){for(const message of this._messages)this._sessionDataManager.communication.removeMessageEvent(message);this._messages=null;}this._groupBadges=null;this._sessionDataManager=null;}onRoomReadyMessageEvent(event){this._sessionDataManager.send(new GetHabboGroupBadgesMessageComposer());}onGroupBadgesEvent(event){const parser=event.getParser();for(const[groupId,badgeId]of parser.badges.entries())this._groupBadges.set(groupId,badgeId);}getGroupBadge(groupId){return this._groupBadges.get(groupId);}get disposed(){return!!this._sessionDataManager;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/IgnoredUsersManager.ts\nclass IgnoredUsersManager_IgnoredUsersManager{constructor(sessionDataManager){this._sessionDataManager=void 0;this._ignoredUsers=void 0;this._messages=void 0;this._sessionDataManager=sessionDataManager;this._ignoredUsers=[];}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new IgnoredUsersEvent_IgnoredUsersEvent(this.onIgnoredUsersEvent.bind(this)),new IgnoreResultEvent_IgnoreResultEvent(this.onIgnoreResultEvent.bind(this))];for(const message of this._messages)this._sessionDataManager.communication.registerMessageEvent(message);}}dispose(){if(this.disposed)return;if(this._messages&&this._messages.length){for(const message of this._messages)this._sessionDataManager.communication.removeMessageEvent(message);this._messages=null;}this._sessionDataManager=null;}requestIgnoredUsers(){this._sessionDataManager.send(new GetIgnoredUsersComposer(this._sessionDataManager.userName));}onIgnoredUsersEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;this._ignoredUsers=parser.ignoredUsers;}onIgnoreResultEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;const name=parser.name;switch(parser.result){case 0:return;case 1:this.addUserToIgnoreList(name);return;case 2:this.addUserToIgnoreList(name);this._ignoredUsers.shift();return;case 3:this.removeUserFromIgnoreList(name);return;}}addUserToIgnoreList(name){if(this._ignoredUsers.indexOf(name)<0)this._ignoredUsers.push(name);}removeUserFromIgnoreList(name){const index=this._ignoredUsers.indexOf(name);if(index>=0)this._ignoredUsers.splice(index,1);}ignoreUserId(id){this._sessionDataManager.send(new IgnoreUserIdComposer(id));}ignoreUser(name){this._sessionDataManager.send(new IgnoreUserComposer(name));}unignoreUser(name){this._sessionDataManager.send(new UnignoreUserComposer(name));}isIgnored(name){return this._ignoredUsers.indexOf(name)>=0;}get disposed(){return!!this._sessionDataManager;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/product/ProductData.ts\nclass ProductData{constructor(type,name,description){this._type=void 0;this._name=void 0;this._description=void 0;this._type=type;this._name=name;this._description=description;}get type(){return this._type;}get name(){return this._name;}get description(){return this._description;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/product/ProductDataLoader.ts\nclass ProductDataLoader_ProductDataLoader extends EventDispatcher_EventDispatcher{constructor(products){super();this._products=void 0;this._products=products;}dispose(){this._products=null;}loadProductData(url){if(!url)return;fetch(url).then(response=>response.json()).then(data=>this.onProductDataLoadedEvent(data)).catch(err=>this.onProductDataError(err));}onProductDataLoadedEvent(data){if(!data)return;this.parseProducts(data.productdata);this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](ProductDataLoader_ProductDataLoader.PDP_PRODUCT_DATA_READY));}onProductDataError(error){if(!error)return;this.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](ProductDataLoader_ProductDataLoader.PDP_PRODUCT_DATA_FAILED));}parseProducts(data){if(!data)return;for(const product of data.product)product&&this._products.set(product.code,new ProductData(product.code,product.name,product.description));}}ProductDataLoader_ProductDataLoader.PDP_PRODUCT_DATA_READY='PDP_PRODUCT_DATA_READY';ProductDataLoader_ProductDataLoader.PDP_PRODUCT_DATA_FAILED='PDP_PRODUCT_DATA_FAILED';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/SessionDataManager.ts\nclass SessionDataManager_SessionDataManager extends NitroManager_NitroManager{constructor(communication){super();this._communication=void 0;this._userId=void 0;this._name=void 0;this._figure=void 0;this._gender=void 0;this._realName=void 0;this._respectsReceived=void 0;this._respectsLeft=void 0;this._respectsPetLeft=void 0;this._canChangeName=void 0;this._ignoredUsersManager=void 0;this._groupInformationManager=void 0;this._clubLevel=void 0;this._securityLevel=void 0;this._isAmbassador=void 0;this._noobnessLevel=void 0;this._systemOpen=void 0;this._systemShutdown=void 0;this._isAuthenticHabbo=void 0;this._isRoomCameraFollowDisabled=void 0;this._chatStyle=void 0;this._uiFlags=void 0;this._floorItems=void 0;this._wallItems=void 0;this._products=void 0;this._furnitureData=void 0;this._productData=void 0;this._furnitureReady=void 0;this._productsReady=void 0;this._furnitureListenersNotified=void 0;this._pendingFurnitureListeners=void 0;this._pendingProductListeners=void 0;this._badgeImageManager=void 0;this._communication=communication;this.resetUserInfo();this._ignoredUsersManager=new IgnoredUsersManager_IgnoredUsersManager(this);this._groupInformationManager=new GroupInformationManager_GroupInformationManager(this);this._clubLevel=0;this._securityLevel=0;this._isAmbassador=false;this._noobnessLevel=-1;this._systemOpen=false;this._systemShutdown=false;this._isAuthenticHabbo=false;this._isRoomCameraFollowDisabled=false;this._chatStyle=0;this._uiFlags=0;this._floorItems=new Map();this._wallItems=new Map();this._products=new Map();this._furnitureData=null;this._furnitureReady=false;this._productsReady=false;this._furnitureListenersNotified=false;this._pendingFurnitureListeners=[];this._pendingProductListeners=[];this._badgeImageManager=null;this.onFurnitureDataReadyEvent=this.onFurnitureDataReadyEvent.bind(this);this.onProductDataReadyEvent=this.onProductDataReadyEvent.bind(this);this.onNitroSettingsEvent=this.onNitroSettingsEvent.bind(this);}onInit(){this.loadFurnitureData();this.loadProductData();this.loadBadgeImageManager();this._ignoredUsersManager&&this._ignoredUsersManager.init();this._groupInformationManager&&this._groupInformationManager.init();this._communication.registerMessageEvent(new FigureUpdateEvent_FigureUpdateEvent(this.onUserFigureEvent.bind(this)));this._communication.registerMessageEvent(new UserInfoEvent_UserInfoEvent(this.onUserInfoEvent.bind(this)));this._communication.registerMessageEvent(new UserPermissionsEvent_UserPermissionsEvent(this.onUserPermissionsEvent.bind(this)));this._communication.registerMessageEvent(new AvailabilityStatusMessageEvent_AvailabilityStatusMessageEvent(this.onAvailabilityStatusMessageEvent.bind(this)));this._communication.registerMessageEvent(new ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent(this.onChangeNameUpdateEvent.bind(this)));this._communication.registerMessageEvent(new UserNameChangeMessageEvent_UserNameChangeMessageEvent(this.onUserNameChangeMessageEvent.bind(this)));this._communication.registerMessageEvent(new RoomReadyMessageEvent_RoomReadyMessageEvent(this.onRoomModelNameEvent.bind(this)));this._communication.registerMessageEvent(new InClientLinkEvent_InClientLinkEvent(this.onInClientLinkEvent.bind(this)));this._communication.registerMessageEvent(new MysteryBoxKeysEvent_MysteryBoxKeysEvent(this.onMysteryBoxKeysEvent.bind(this)));this._communication.registerMessageEvent(new NoobnessLevelMessageEvent_NoobnessLevelMessageEvent(this.onNoobnessLevelMessageEvent.bind(this)));Nitro_Nitro.instance.events.addEventListener(NitroSettingsEvent_NitroSettingsEvent.SETTINGS_UPDATED,this.onNitroSettingsEvent);}onDispose(){this.destroyFurnitureData();if(this._ignoredUsersManager){this._ignoredUsersManager.dispose();this._ignoredUsersManager=null;}if(this._groupInformationManager){this._groupInformationManager.dispose();this._groupInformationManager=null;}Nitro_Nitro.instance.events.removeEventListener(NitroSettingsEvent_NitroSettingsEvent.SETTINGS_UPDATED,this.onNitroSettingsEvent);super.onDispose();}resetUserInfo(){this._userId=0;this._name=null;this._figure=null;this._gender=null;this._realName=null;this._canChangeName=false;}loadFurnitureData(){this.destroyFurnitureData();this._furnitureData=new FurnitureDataLoader_FurnitureDataLoader(this._floorItems,this._wallItems,Nitro_Nitro.instance.localization);this._furnitureData.addEventListener(FurnitureDataLoader_FurnitureDataLoader.FURNITURE_DATA_READY,this.onFurnitureDataReadyEvent);this._furnitureData.loadFurnitureData(Nitro_Nitro.instance.getConfiguration('furnidata.url'));}loadProductData(){this.destroyProductData();this._productData=new ProductDataLoader_ProductDataLoader(this._products);this._productData.addEventListener(ProductDataLoader_ProductDataLoader.PDP_PRODUCT_DATA_READY,this.onProductDataReadyEvent);this._productData.loadProductData(Nitro_Nitro.instance.getConfiguration('productdata.url'));}loadBadgeImageManager(){if(this._badgeImageManager)return;this._badgeImageManager=new BadgeImageManager_BadgeImageManager(Nitro_Nitro.instance.core.asset,this);this._badgeImageManager.init();}hasProductData(listener){if(this._productsReady)return true;if(listener&&this._pendingProductListeners.indexOf(listener)===-1)this._pendingProductListeners.push(listener);return false;}getAllFurnitureData(listener){if(!this._furnitureReady){if(this._pendingFurnitureListeners.indexOf(listener)===-1)this._pendingFurnitureListeners.push(listener);return null;}const furnitureData=[];for(const data of this._floorItems.values()){if(!data)continue;furnitureData.push(data);}for(const data of this._wallItems.values()){if(!data)continue;furnitureData.push(data);}return furnitureData;}removePendingFurniDataListener(listener){if(!this._pendingFurnitureListeners)return;const index=this._pendingFurnitureListeners.indexOf(listener);if(index===-1)return;this._pendingFurnitureListeners.splice(index,1);}onUserFigureEvent(event){if(!event||!event.connection)return;this._figure=event.getParser().figure;this._gender=event.getParser().gender;HabboWebTools_HabboWebTools.updateFigure(this._figure);}onUserInfoEvent(event){if(!event||!event.connection)return;this.resetUserInfo();const userInfo=event.getParser().userInfo;if(!userInfo)return;this._userId=userInfo.userId;this._name=userInfo.username;this._figure=userInfo.figure;this._gender=userInfo.gender;this._realName=userInfo.realName;this._respectsReceived=userInfo.respectsReceived;this._respectsLeft=userInfo.respectsRemaining;this._respectsPetLeft=userInfo.respectsPetRemaining;this._canChangeName=userInfo.canChangeName;this._ignoredUsersManager&&this._ignoredUsersManager.requestIgnoredUsers();}onUserPermissionsEvent(event){if(!event||!event.connection)return;this._clubLevel=event.getParser().clubLevel;this._securityLevel=event.getParser().securityLevel;this._isAmbassador=event.getParser().isAmbassador;}onAvailabilityStatusMessageEvent(event){if(!event||!event.connection)return;const parser=event.getParser();if(!parser)return;this._systemOpen=parser.isOpen;this._systemShutdown=parser.onShutdown;this._isAuthenticHabbo=parser.isAuthenticUser;}onChangeNameUpdateEvent(event){if(!event||!event.connection)return;const parser=event.getParser();if(!parser)return;if(parser.resultCode!==ChangeUserNameResultMessageEvent_ChangeUserNameResultMessageEvent.NAME_OK)return;this._canChangeName=false;this.events.dispatchEvent(new UserNameUpdateEvent_UserNameUpdateEvent(parser.name));}onUserNameChangeMessageEvent(event){if(!event||!event.connection)return;const parser=event.getParser();if(!parser)return;if(parser.webId!==this.userId)return;this._name=parser.newName;this._canChangeName=false;this.events.dispatchEvent(new UserNameUpdateEvent_UserNameUpdateEvent(this._name));}onRoomModelNameEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;HabboWebTools_HabboWebTools.roomVisited(parser.roomId);}onFurnitureDataReadyEvent(event){this._furnitureData.removeEventListener(FurnitureDataLoader_FurnitureDataLoader.FURNITURE_DATA_READY,this.onFurnitureDataReadyEvent);this._furnitureReady=true;if(!this._furnitureListenersNotified){this._furnitureListenersNotified=true;if(this._pendingFurnitureListeners&&this._pendingFurnitureListeners.length){for(const listener of this._pendingFurnitureListeners)listener&&listener.loadFurnitureData();}}this._pendingProductListeners=[];}onProductDataReadyEvent(event){this._productData.removeEventListener(ProductDataLoader_ProductDataLoader.PDP_PRODUCT_DATA_READY,this.onProductDataReadyEvent);this._productsReady=true;for(const listener of this._pendingProductListeners)listener&&listener.loadProductData();this._pendingProductListeners=[];}onInClientLinkEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;Nitro_Nitro.instance.createLinkEvent(parser.link);}onMysteryBoxKeysEvent(event){if(!event)return;const parser=event.getParser();if(!parser)return;this.events.dispatchEvent(new MysteryBoxKeysUpdateEvent_MysteryBoxKeysUpdateEvent(parser.boxColor,parser.keyColor));}onNoobnessLevelMessageEvent(event){this._noobnessLevel=event.getParser().noobnessLevel;if(this._noobnessLevel!==NoobnessLevelEnum.OLD_IDENTITY){Nitro_Nitro.instance.core.configuration.setValue('new.identity',1);}}onNitroSettingsEvent(event){this._isRoomCameraFollowDisabled=event.cameraFollow;this._chatStyle=event.chatType;this._uiFlags=event.flags;this.events.dispatchEvent(new SessionDataPreferencesEvent_SessionDataPreferencesEvent(this._uiFlags));}destroyFurnitureData(){if(!this._furnitureData)return;this._furnitureData.dispose();this._furnitureData=null;}destroyProductData(){if(!this._productData)return;this._productData.dispose();this._productData=null;}getFloorItemData(id){const existing=this._floorItems.get(id);if(!existing)return null;return existing;}getFloorItemDataByName(name){if(!name||!this._floorItems||!this._floorItems.size)return null;for(const item of this._floorItems.values()){if(!item||item.className!==name)continue;return item;}}getWallItemData(id){const existing=this._wallItems.get(id);if(!existing)return null;return existing;}getWallItemDataByName(name){if(!name||!this._wallItems||!this._wallItems.size)return null;for(const item of this._wallItems.values()){if(!item||item.className!==name)continue;return item;}}getProductData(type){if(!this._productsReady)this.loadProductData();return this._products.get(type);}getBadgeUrl(name){return this._badgeImageManager.getBadgeUrl(name);}getGroupBadgeUrl(name){return this._badgeImageManager.getBadgeUrl(name,BadgeImageManager_BadgeImageManager.GROUP_BADGE);}getBadgeImage(name){return this._badgeImageManager.getBadgeImage(name);}getGroupBadgeImage(name){return this._badgeImageManager.getBadgeImage(name,BadgeImageManager_BadgeImageManager.GROUP_BADGE);}loadBadgeImage(name){return this._badgeImageManager.loadBadgeImage(name);}loadGroupBadgeImage(name){return this._badgeImageManager.loadBadgeImage(name,BadgeImageManager_BadgeImageManager.GROUP_BADGE);}hasSecurity(level){return this._securityLevel>=level;}giveRespect(userId){if(userId<0||this._respectsLeft<=0)return;this.send(new UserRespectComposer(userId));this._respectsLeft--;}givePetRespect(petId){if(petId<0||this._respectsPetLeft<=0)return;this.send(new PetRespectComposer(petId));this._respectsPetLeft--;}sendSpecialCommandMessage(text){let styleId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.send(new RoomUnitChatComposer(text));}sendChatStyleUpdate(styleId){this._chatStyle=styleId;this.send(new RoomUnitChatStyleComposer(styleId));}ignoreUser(name){this._ignoredUsersManager&&this._ignoredUsersManager.ignoreUser(name);}unignoreUser(name){this._ignoredUsersManager&&this._ignoredUsersManager.unignoreUser(name);}isUserIgnored(name){return this._ignoredUsersManager&&this._ignoredUsersManager.isIgnored(name);}getGroupBadge(groupId){return this._groupInformationManager&&this._groupInformationManager.getGroupBadge(groupId);}send(composer){this._communication.connection.send(composer);}get communication(){return this._communication;}get userId(){return this._userId;}get userName(){return this._name;}get figure(){return this._figure;}get gender(){return this._gender;}get realName(){return this._realName;}get ignoredUsersManager(){return this._ignoredUsersManager;}get groupInformationManager(){return this._groupInformationManager;}get respectsReceived(){return this._respectsReceived;}get respectsLeft(){return this._respectsLeft;}get respectsPetLeft(){return this._respectsPetLeft;}get canChangeName(){return this._canChangeName;}get clubLevel(){return this._clubLevel;}get securityLevel(){return this._securityLevel;}get isAmbassador(){return this._isAmbassador;}get isNoob(){return this._noobnessLevel!==NoobnessLevelEnum.OLD_IDENTITY;}get isRealNoob(){return this._noobnessLevel===NoobnessLevelEnum.REAL_NOOB;}get isSystemOpen(){return this._systemOpen;}get isSystemShutdown(){return this._systemShutdown;}get isAuthenticHabbo(){return this._isAuthenticHabbo;}get isModerator(){return this._securityLevel>=SecurityLevel.MODERATOR;}get isCameraFollowDisabled(){return this._isRoomCameraFollowDisabled;}get chatStyle(){return this._chatStyle;}get uiFlags(){return this._uiFlags;}}\n// EXTERNAL MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/events/NitroSoundEvent.ts\nvar NitroSoundEvent = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/sound/events/SoundManagerEvent.ts\nclass SoundManagerEvent_SoundManagerEvent extends NitroEvent[\"a\" /* NitroEvent */]{constructor(type){super(type);}}SoundManagerEvent_SoundManagerEvent.TRAX_SONG_COMPLETE='SME_TRAX_SONG_COMPLETE';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/sound/music/MusicPriorities.ts\nclass MusicPriorities{}MusicPriorities.PRIORITY_ROOM_PLAYLIST=0;MusicPriorities.PRIORITY_USER_PLAYLIST=1;MusicPriorities.PRIORITY_SONG_PLAY=2;MusicPriorities.PRIORITY_PURCHASE_PREVIEW=3;MusicPriorities.PRIORITY_COUNT=4;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/sound/music/MusicManager.ts\nclass MusicManager_MusicManager extends NitroManager_NitroManager{constructor(){super();this._timerInstance=void 0;this._songRequestList=void 0;this._requestedSongs=void 0;this._availableSongs=void 0;this._songRequestsPerPriority=void 0;this._currentEntryId=void 0;this._playPosition=void 0;this._isPlaying=void 0;this._timerInstance=null;this._songRequestList=[];this._requestedSongs=new Map();this._availableSongs=new Map();this._songRequestsPerPriority=[];this._currentEntryId=-1;this._playPosition=-1;this._isPlaying=false;this.onEvent=this.onEvent.bind(this);this._timerInstance=setInterval(this.onTick.bind(this),1000);}onInit(){Nitro_Nitro.instance.communication.connection.addMessageEvent(new TraxSongInfoMessageEvent_TraxSongInfoMessageEvent(this.onEvent));Nitro_Nitro.instance.communication.connection.addMessageEvent(new UserSongDisksInventoryMessageEvent_UserSongDisksInventoryMessageEvent(this.onEvent));Nitro_Nitro.instance.communication.connection.addMessageEvent(new NowPlayingMessageEvent_NowPlayingMessageEvent(this.onNowPlayingMessageEvent.bind(this)));Nitro_Nitro.instance.communication.connection.addMessageEvent(new JukeboxSongDisksMessageEvent_JukeboxSongDisksMessageEvent(this.onEvent));Nitro_Nitro.instance.communication.connection.addMessageEvent(new JukeboxPlayListFullMessageEvent_JukeboxPlayListFullMessageEvent(this.onEvent));Nitro_Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_INIT,this.onEvent);Nitro_Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_DISPOSE,this.onEvent);Nitro_Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_INIT,this.onEvent);Nitro_Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_DISPOSE,this.onEvent);this.events.addEventListener(SoundManagerEvent_SoundManagerEvent.TRAX_SONG_COMPLETE,this.onEvent);}onDispose(){if(this._timerInstance){clearInterval(this._timerInstance);this._timerInstance=null;}Nitro_Nitro.instance.communication.connection.removeMessageEvent(new TraxSongInfoMessageEvent_TraxSongInfoMessageEvent(this.onEvent));Nitro_Nitro.instance.communication.connection.removeMessageEvent(new UserSongDisksInventoryMessageEvent_UserSongDisksInventoryMessageEvent(this.onEvent));Nitro_Nitro.instance.communication.connection.removeMessageEvent(new NowPlayingMessageEvent_NowPlayingMessageEvent(this.onNowPlayingMessageEvent.bind(this)));Nitro_Nitro.instance.communication.connection.removeMessageEvent(new JukeboxSongDisksMessageEvent_JukeboxSongDisksMessageEvent(this.onEvent));Nitro_Nitro.instance.communication.connection.removeMessageEvent(new JukeboxPlayListFullMessageEvent_JukeboxPlayListFullMessageEvent(this.onEvent));Nitro_Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_INIT,this.onEvent);Nitro_Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.JUKEBOX_DISPOSE,this.onEvent);Nitro_Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_INIT,this.onEvent);Nitro_Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent_RoomObjectSoundMachineEvent.SOUND_MACHINE_DISPOSE,this.onEvent);this.events.removeEventListener(SoundManagerEvent_SoundManagerEvent.TRAX_SONG_COMPLETE,this.onEvent);}onEvent(event){}onTraxSongInfoMessageEvent(event){const parser=event.getParser();for(const song of parser.songs){const songAvailable=this._availableSongs.get(song.id)!==null;const areSamplesRequested=this._requestedSongs.get(song.id)!==null;if(!songAvailable){if(areSamplesRequested){//LoadTraxSong\n}const songInfoEntry=new SongInfoEntry_SongInfoEntry(song.id,song.length,song.name,song.creator,song.data);this._availableSongs.set(song.id,songInfoEntry);const topRequestPriotityIndex=this.getTopRequestPriority();const songId=this.getSongIdRequestedAtPriority(topRequestPriotityIndex);}}}onNowPlayingMessageEvent(event){const parser=event.getParser();this._isPlaying=parser.currentSongId!==-1;if(parser.currentSongId>=0){this.playSong(parser.currentSongId,MusicPriorities.PRIORITY_ROOM_PLAYLIST,parser.syncCount/1000,0,1,1);}else{this.stopPlaying();}if(parser.nextSongId>=0)this.requestSong(parser.nextSongId,true);this._playPosition=parser.currentPosition;//Dispatch local event NowPlayingEvent\n}onTick(){if(this._songRequestList.length===0)return;Nitro_Nitro.instance.communication.connection.send(new GetSongInfoMessageComposer(...this._songRequestList));this._songRequestList=[];}requestSong(songId,arg2){if(this._requestedSongs.get(songId)===null){this._requestedSongs.set(songId,arg2);this._songRequestList.push(songId);}}playSong(songId,priority){let startPos=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let playLength=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let fadeInSeconds=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0.5;let fadeOutSeconds=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0.5;}stopPlaying(){this._currentEntryId=-1;this._playPosition=-1;this._isPlaying=false;}getTopRequestPriority(){return this._songRequestsPerPriority.length-1;}getSongIdRequestedAtPriority(priorityIndex){if(priorityIndex<0||priorityIndex>=MusicPriorities.PRIORITY_COUNT)return-1;if(!this._songRequestsPerPriority[priorityIndex])return-1;return this._songRequestsPerPriority[priorityIndex].songId;}get playPosition(){return this._playPosition;}set playPosition(value){this._playPosition=value;}}MusicManager_MusicManager.SKIP_POSITION_SET=-1;MusicManager_MusicManager.MAXIMUM_NOTIFY_PRIORITY=MusicPriorities.PRIORITY_ROOM_PLAYLIST;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/sound/SoundManager.ts\nclass SoundManager_SoundManager extends NitroManager_NitroManager{constructor(){super();this._volumeSystem=void 0;this._volumeFurni=void 0;this._volumeTrax=void 0;this._internalSamples=void 0;this._furniSamples=void 0;this._furnitureBeingPlayed=void 0;this._musicManager=void 0;this._volumeSystem=0.5;this._volumeFurni=0.5;this._volumeTrax=0.5;this._internalSamples=new AdvancedMap();this._furniSamples=new AdvancedMap();this._furnitureBeingPlayed=new AdvancedMap();this._musicManager=new MusicManager_MusicManager();this.onEvent=this.onEvent.bind(this);}onInit(){this._musicManager.init();Nitro_Nitro.instance.roomEngine.events.addEventListener(RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.PLAY_SAMPLE,this.onEvent);Nitro_Nitro.instance.roomEngine.events.addEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.REMOVED,this.onEvent);Nitro_Nitro.instance.roomEngine.events.addEventListener(RoomEngineEvent_RoomEngineEvent.DISPOSED,this.onEvent);Nitro_Nitro.instance.events.addEventListener(NitroSettingsEvent_NitroSettingsEvent.SETTINGS_UPDATED,this.onEvent);Nitro_Nitro.instance.events.addEventListener(NitroSoundEvent[\"a\" /* NitroSoundEvent */].PLAY_SOUND,this.onEvent);}onDispose(){if(this._musicManager){this._musicManager.dispose();this._musicManager=null;}Nitro_Nitro.instance.roomEngine.events.removeEventListener(RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.PLAY_SAMPLE,this.onEvent);Nitro_Nitro.instance.roomEngine.events.removeEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.REMOVED,this.onEvent);Nitro_Nitro.instance.roomEngine.events.removeEventListener(RoomEngineEvent_RoomEngineEvent.DISPOSED,this.onEvent);Nitro_Nitro.instance.events.removeEventListener(NitroSettingsEvent_NitroSettingsEvent.SETTINGS_UPDATED,this.onEvent);Nitro_Nitro.instance.events.removeEventListener(NitroSoundEvent[\"a\" /* NitroSoundEvent */].PLAY_SOUND,this.onEvent);}onEvent(event){switch(event.type){case RoomEngineSamplePlaybackEvent_RoomEngineSamplePlaybackEvent.PLAY_SAMPLE:{const castedEvent=event;this.playFurniSample(castedEvent.objectId,castedEvent.sampleId,castedEvent.pitch);return;}case RoomEngineObjectEvent_RoomEngineObjectEvent.REMOVED:{const castedEvent=event;this.stopFurniSample(castedEvent.objectId);return;}case RoomEngineEvent_RoomEngineEvent.DISPOSED:{this._furnitureBeingPlayed.getKeys().forEach(objectId=>{this.stopFurniSample(objectId);});return;}case NitroSettingsEvent_NitroSettingsEvent.SETTINGS_UPDATED:{const castedEvent=event;const volumeFurniUpdated=castedEvent.volumeFurni!==this._volumeFurni;this._volumeSystem=castedEvent.volumeSystem/100;this._volumeFurni=castedEvent.volumeFurni/100;this._volumeTrax=castedEvent.volumeTrax/100;if(volumeFurniUpdated)this.updateFurniSamplesVolume(this._volumeFurni);return;}case NitroSoundEvent[\"a\" /* NitroSoundEvent */].PLAY_SOUND:{const castedEvent=event;this.playInternalSample(castedEvent.sampleCode);return;}}}playSample(sample,volume){let pitch=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;sample.volume=volume;sample.currentTime=0;try{sample.play();}catch(e){console.log(e);}}playInternalSample(code){let sample=this._internalSamples.getValue(code);if(!sample){const sampleUrl=Nitro_Nitro.instance.getConfiguration('sounds.url');sample=new Audio(sampleUrl.replace('%sample%',code));this._internalSamples.add(code,sample);}this.playSample(sample,this._volumeSystem);}playFurniSample(objectId,code,pitch){let sample=this._furniSamples.getValue(code);if(!sample){const sampleUrl=Nitro_Nitro.instance.getConfiguration('external.samples.url');sample=new Audio(sampleUrl.replace('%sample%',code.toString()));this._furniSamples.add(code,sample);}if(!this._furnitureBeingPlayed.hasKey(objectId))this._furnitureBeingPlayed.add(objectId,code);sample.onended=event=>{this.stopFurniSample(objectId);};sample.onpause=event=>{this.stopFurniSample(objectId);};sample.onerror=event=>{this.stopFurniSample(objectId);};this.playSample(sample,this._volumeFurni,pitch);}stopInternalSample(code){const sample=this._internalSamples.getValue(code);if(!sample)return;try{sample.pause();}catch(e){console.log(e);}}stopFurniSample(objectId){const furnitureBeingPlayed=this._furnitureBeingPlayed.getValue(objectId);if(!furnitureBeingPlayed)return;const sample=this._furniSamples.getValue(furnitureBeingPlayed);this._furnitureBeingPlayed.remove(objectId);if(!sample)return;try{sample.pause();}catch(e){console.log(e);}}updateInternalSamplesVolume(volume){this._internalSamples.getValues().forEach(sample=>{sample.volume=volume;});}updateFurniSamplesVolume(volume){this._furniSamples.getValues().forEach(sample=>{sample.volume=volume;});}get musicManager(){return this._musicManager;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/Nitro.ts\nLegacyExternalInterface.available;settings[\"b\" /* settings */].SCALE_MODE=!(window.devicePixelRatio%1)?constants[\"p\" /* SCALE_MODES */].NEAREST:constants[\"p\" /* SCALE_MODES */].LINEAR;settings[\"b\" /* settings */].ROUND_PIXELS=true;class Nitro_Nitro extends app[\"a\" /* Application */]{constructor(core,options){super(options);this._nitroTimer=void 0;this._worker=void 0;this._core=void 0;this._events=void 0;this._communication=void 0;this._localization=void 0;this._avatar=void 0;this._roomEngine=void 0;this._sessionDataManager=void 0;this._roomSessionManager=void 0;this._roomManager=void 0;this._cameraManager=void 0;this._soundManager=void 0;this._linkTrackers=void 0;this._workerTrackers=void 0;this._isReady=void 0;this._isDisposed=void 0;if(!Nitro_Nitro.INSTANCE)Nitro_Nitro.INSTANCE=this;this._nitroTimer=new NitroTimer();this._worker=null;this._core=core;this._events=new EventDispatcher_EventDispatcher();this._communication=new NitroCommunicationManager_NitroCommunicationManager(core.communication);this._localization=new NitroLocalizationManager_NitroLocalizationManager(this._communication);this._avatar=new AvatarRenderManager_AvatarRenderManager();this._roomEngine=new RoomEngine_RoomEngine(this._communication);this._sessionDataManager=new SessionDataManager_SessionDataManager(this._communication);this._roomSessionManager=new RoomSessionManager_RoomSessionManager(this._communication,this._roomEngine);this._roomManager=new RoomManager_RoomManager(this._roomEngine,this._roomEngine.visualizationFactory,this._roomEngine.logicFactory);this._cameraManager=new RoomCameraWidgetManager_RoomCameraWidgetManager();this._soundManager=new SoundManager_SoundManager();this._linkTrackers=[];this._workerTrackers=[];this._isReady=false;this._isDisposed=false;this._core.configuration.events.addEventListener(ConfigurationEvent_ConfigurationEvent.LOADED,this.onConfigurationLoadedEvent.bind(this));this._roomEngine.events.addEventListener(RoomEngineEvent_RoomEngineEvent.ENGINE_INITIALIZED,this.onRoomEngineReady.bind(this));if(this._worker)this._worker.onmessage=this.createWorkerEvent.bind(this);}static bootstrap(){if(Nitro_Nitro.INSTANCE){Nitro_Nitro.INSTANCE.dispose();Nitro_Nitro.INSTANCE=null;}const canvas=document.createElement('canvas');const instance=new this(new NitroCore_NitroCore(),{autoDensity:false,resolution:window.devicePixelRatio,width:window.innerWidth,height:window.innerHeight,view:canvas});canvas.addEventListener('webglcontextlost',()=>instance.events.dispatchEvent(new NitroEvent[\"a\" /* NitroEvent */](Nitro_Nitro.WEBGL_CONTEXT_LOST)));}init(){if(this._isReady||this._isDisposed)return;if(this._avatar)this._avatar.init();if(this._soundManager)this._soundManager.init();if(this._roomEngine){this._roomEngine.sessionDataManager=this._sessionDataManager;this._roomEngine.roomSessionManager=this._roomSessionManager;this._roomEngine.roomManager=this._roomManager;if(this._sessionDataManager)this._sessionDataManager.init();if(this._roomSessionManager)this._roomSessionManager.init();this._roomEngine.init();}if(!this._communication.connection){throw new Error('No connection found');}new GameMessageHandler_GameMessageHandler(this._communication.connection);this._isReady=true;}dispose(){if(this._isDisposed)return;if(this._roomManager){this._roomManager.dispose();this._roomManager=null;}if(this._roomSessionManager){this._roomSessionManager.dispose();this._roomSessionManager=null;}if(this._sessionDataManager){this._sessionDataManager.dispose();this._sessionDataManager=null;}if(this._roomEngine){this._roomEngine.dispose();this._roomEngine=null;}if(this._avatar){this._avatar.dispose();this._avatar=null;}if(this._soundManager){this._soundManager.dispose();this._soundManager=null;}if(this._communication){this._communication.dispose();this._communication=null;}super.destroy();this._isDisposed=true;this._isReady=false;}onConfigurationLoadedEvent(event){const animationFPS=this.getConfiguration('system.animation.fps',24);const limitsFPS=this.getConfiguration('system.limits.fps',true);if(limitsFPS)Nitro_Nitro.instance.ticker.maxFPS=animationFPS;}onRoomEngineReady(event){this.startSendingHeartBeat();}getConfiguration(key){let value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this._core.configuration.getValue(key,value);}getLocalization(key){return this._localization.getValue(key);}getLocalizationWithParameter(key,parameter,replacement){return this._localization.getValueWithParameter(key,parameter,replacement);}getLocalizationWithParameters(key,parameters,replacements){return this._localization.getValueWithParameters(key,parameters,replacements);}addWorkerEventTracker(tracker){if(this._workerTrackers.indexOf(tracker)>=0)return;this._workerTrackers.push(tracker);}removeWorkerEventTracker(tracker){const index=this._workerTrackers.indexOf(tracker);if(index===-1)return;this._workerTrackers.splice(index,1);}createWorkerEvent(message){if(!message)return;const data=message.data;for(const tracker of this._workerTrackers){if(!tracker)continue;tracker.workerMessageReceived(data);}}sendWorkerEvent(message){if(!message||!this._worker)return;this._worker.postMessage(message);}addLinkEventTracker(tracker){if(this._linkTrackers.indexOf(tracker)>=0)return;this._linkTrackers.push(tracker);}removeLinkEventTracker(tracker){const index=this._linkTrackers.indexOf(tracker);if(index===-1)return;this._linkTrackers.splice(index,1);}createLinkEvent(link){if(!link||link==='')return;for(const tracker of this._linkTrackers){if(!tracker)continue;const prefix=tracker.eventUrlPrefix;if(prefix.length>0){if(link.substr(0,prefix.length)===prefix)tracker.linkReceived(link);}else{tracker.linkReceived(link);}}}startSendingHeartBeat(){this.sendHeartBeat();setInterval(this.sendHeartBeat,10000);}sendHeartBeat(){HabboWebTools_HabboWebTools.sendHeartBeat();}setWorker(val){this._worker=val;this._worker.onmessage=this.createWorkerEvent.bind(this);}get nitroTimer(){return this._nitroTimer;}get core(){return this._core;}get events(){return this._events;}get localization(){return this._localization;}get communication(){return this._communication;}get avatar(){return this._avatar;}get roomEngine(){return this._roomEngine;}get sessionDataManager(){return this._sessionDataManager;}get roomSessionManager(){return this._roomSessionManager;}get roomManager(){return this._roomManager;}get cameraManager(){return this._cameraManager;}get soundManager(){return this._soundManager;}get width(){return this.renderer.width;}get height(){return this.renderer.height;}get ticker(){return ticker[\"a\" /* Ticker */].shared;}get time(){return this.ticker.lastTime;}get isReady(){return this._isReady;}get isDisposed(){return this._isDisposed;}static get instance(){return this.INSTANCE||null;}}Nitro_Nitro.WEBGL_CONTEXT_LOST='NE_WEBGL_CONTEXT_LOST';Nitro_Nitro.WEBGL_UNAVAILABLE='NE_WEBGL_UNAVAILABLE';Nitro_Nitro.READY='NE_READY!';Nitro_Nitro.INSTANCE=null;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/room/object/visualization/utils/GraphicAssetCollection.ts\nclass GraphicAssetCollection_GraphicAssetCollection{constructor(data,spritesheet){this._referenceCount=void 0;this._referenceTimestamp=void 0;this._name=void 0;this._baseTexture=void 0;this._data=void 0;this._textures=void 0;this._assets=void 0;this._palettes=void 0;this._paletteAssetNames=void 0;if(!data)throw new Error('invalid_collection');this._name=data.name;this._baseTexture=spritesheet&&spritesheet.baseTexture||null;this._data=data;this._textures=new Map();this._assets=new Map();this._palettes=new Map();this._paletteAssetNames=[];if(spritesheet)this.addLibraryAsset(spritesheet.textures);this.define(data);}dispose(){if(this._palettes){for(const palette of this._palettes.values())palette.dispose();this._palettes.clear();}if(this._paletteAssetNames){this.disposePaletteAssets();this._paletteAssetNames=null;}if(this._assets){for(const asset of this._assets.values())asset.recycle();this._assets.clear();}}addReference(){this._referenceCount++;this._referenceTimestamp=Nitro_Nitro.instance.time;}removeReference(){this._referenceCount--;if(this._referenceCount<=0){this._referenceCount=0;this._referenceTimestamp=Nitro_Nitro.instance.time;this.disposePaletteAssets(false);}}define(data){const assets=data.assets;const palettes=data.palettes;if(assets)this.defineAssets(assets);if(palettes)this.definePalettes(palettes);}defineAssets(assets){if(!assets)return;for(const name in assets){const asset=assets[name];if(!asset)continue;const x=-asset.x||0;const y=-asset.y||0;let flipH=false;const flipV=false;const usesPalette=asset.usesPalette||false;let source=asset.source||'';if(asset.flipH&&source.length)flipH=true;// if(asset.flipV && source.length) flipV = true;\nif(!source.length)source=name;const texture=this.getLibraryAsset(source);if(!texture)continue;let didAddAsset=this.createAsset(name,source,texture,flipH,flipV,x,y,usesPalette);if(!didAddAsset){const existingAsset=this.getAsset(name);if(existingAsset&&existingAsset.name!==existingAsset.source){didAddAsset=this.replaceAsset(name,source,texture,flipH,flipV,x,y,usesPalette);}}}}definePalettes(palettes){if(!palettes)return;for(const name in palettes){const palette=palettes[name];if(!palette)continue;const id=palette.id.toString();if(this._palettes.get(id))continue;let colorOne=0xFFFFFF;let colorTwo=0xFFFFFF;let color=palette.color1;if(color&&color.length>0)colorOne=parseInt(color,16);color=palette.color2;if(color&&color.length>0)colorTwo=parseInt(color,16);this._palettes.set(id,new GraphicAssetPalette_GraphicAssetPalette(palette.rgb,colorOne,colorTwo));}}createAsset(name,source,texture,flipH,flipV,x,y,usesPalette){if(this._assets.get(name))return false;const graphicAsset=GraphicAsset_GraphicAsset.createAsset(name,source,texture,x,y,flipH,flipV,usesPalette);this._assets.set(name,graphicAsset);return true;}replaceAsset(name,source,texture,flipH,flipV,x,y,usesPalette){const existing=this._assets.get(name);if(existing){this._assets.delete(name);existing.recycle();}return this.createAsset(name,source,texture,flipH,flipV,x,y,usesPalette);}getAsset(name){if(!name)return null;const existing=this._assets.get(name);if(!existing)return null;return existing;}getAssetWithPalette(name,paletteName){const saveName=name+'@'+paletteName;let asset=this.getAsset(saveName);if(!asset){asset=this.getAsset(name);if(!asset||!asset.usesPalette)return asset;const palette=this.getPalette(paletteName);if(palette){const texture=palette.applyPalette(asset.texture);if(texture){this._paletteAssetNames.push(saveName);this.createAsset(saveName,asset.source+'@'+paletteName,texture,asset.flipH,asset.flipV,asset.x,asset.y,false);asset=this.getAsset(saveName);}}}return asset;}getTexture(name){return this._textures.get(name);}getPaletteNames(){return Array.from(this._palettes.keys());}getPaletteColors(paletteName){const palette=this.getPalette(paletteName);if(palette)return[palette.primaryColor,palette.secondaryColor];return null;}getPalette(name){if(!name)return null;const existing=this._palettes.get(name);if(!existing)return null;return existing;}addAsset(name,texture,override){let x=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let y=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let flipH=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let flipV=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(!name||!texture)return false;const existingTexture=this.getLibraryAsset(name);if(!existingTexture){this._textures.set(name,texture);return this.createAsset(name,name,texture,flipH,flipV,x,y,false);}if(override){existingTexture.baseTexture=texture.baseTexture;existingTexture.frame=texture.frame;existingTexture.trim=texture.trim;existingTexture.updateUvs();return true;}return false;}disposeAsset(name){const existing=this._assets.get(name);if(!existing)return;this._assets.delete(name);const texture=this.getLibraryAsset(existing.source);if(texture){this._textures.delete(existing.source);texture.destroy(true);}existing.recycle();}getLibraryAsset(name){if(!name)return null;name=this._name+'_'+name;const texture=this._textures.get(name);if(!texture)return null;return texture;}addLibraryAsset(textures){if(!textures)return;for(const name in textures){const texture=textures[name];if(!texture)continue;this._textures.set(AssetManager_AssetManager.removeFileExtension(name),texture);}}disposePaletteAssets(){let disposeAll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(this._paletteAssetNames){if(disposeAll||this._paletteAssetNames.length>GraphicAssetCollection_GraphicAssetCollection.PALETTE_ASSET_DISPOSE_THRESHOLD){for(const name of this._paletteAssetNames)this.disposeAsset(name);this._paletteAssetNames=[];}}}get referenceCount(){return this._referenceCount;}get referenceTimestamp(){return this._referenceTimestamp;}get name(){return this._name;}get baseTexture(){return this._baseTexture;}get data(){return this._data;}get textures(){return this._textures;}get assets(){return this._assets;}}GraphicAssetCollection_GraphicAssetCollection.PALETTE_ASSET_DISPOSE_THRESHOLD=10;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/AssetManager.ts\nclass AssetManager_AssetManager extends Disposable{constructor(){super();this._logger=void 0;this._textures=void 0;this._collections=void 0;this._logger=new NitroLogger(this.constructor.name);this._textures=new Map();this._collections=new Map();}static removeFileExtension(name){return name.substring(0,name.lastIndexOf('.'))||name;}getTexture(name){if(!name)return null;const existing=this._textures.get(name);if(!existing)return null;return existing;}setTexture(name,texture){if(!name||!texture)return;this._textures.set(name,texture);}getAsset(name){if(!name)return null;for(const collection of this._collections.values()){if(!collection)continue;const existing=collection.getAsset(name);if(!existing)continue;return existing;}return null;}getCollection(name){if(!name)return null;const existing=this._collections.get(name);if(!existing)return null;return existing;}createCollection(data,spritesheet){if(!data)return null;const collection=new GraphicAssetCollection_GraphicAssetCollection(data,spritesheet);if(collection){for(const[name,texture]of collection.textures.entries())this.setTexture(name,texture);this._collections.set(collection.name,collection);}return collection;}downloadAsset(assetUrl,cb){this.downloadAssets([assetUrl],cb);}downloadAssets(assetUrls,cb){if(!assetUrls||!assetUrls.length){cb(true);return;}const loader=new loaders[\"b\" /* Loader */]();for(const url of assetUrls){if(!url)continue;loader.add({url,crossOrigin:'anonymous',loadType:loaders[\"c\" /* LoaderResource */].LOAD_TYPE.XHR,xhrType:loaders[\"c\" /* LoaderResource */].XHR_RESPONSE_TYPE.BUFFER});}let remaining=assetUrls.length;const onDownloaded=(status,url)=>{if(!status){this._logger.error('Failed to download asset: '+url);loader.destroy();cb(false);return;}remaining--;if(!remaining){loader.destroy();cb(true);return;}};loader.load((loader,resources)=>{for(const key in resources){const resource=resources[key];if(!resource||resource.error||!resource.xhr){onDownloaded(false,resource.url);return;}const resourceType=resource.xhr.getResponseHeader('Content-Type')||'application/octet-stream';if(resourceType==='application/octet-stream'){const nitroBundle=new NitroBundle_NitroBundle(resource.data);this.processAsset(nitroBundle.baseTexture,nitroBundle.jsonFile,status=>{onDownloaded(status,resource.url);});continue;}if(resourceType==='image/png'||resourceType==='image/gif'){const base64=ArrayBufferToBase64(resource.data);const baseTexture=new esm_core[\"c\" /* BaseTexture */](`data:${resourceType};base64,${base64}`);if(baseTexture.valid){const texture=new esm_core[\"t\" /* Texture */](baseTexture);this.setTexture(resource.name,texture);onDownloaded(true,resource.url);}else{baseTexture.once('update',()=>{const texture=new esm_core[\"t\" /* Texture */](baseTexture);this.setTexture(resource.name,texture);onDownloaded(true,resource.url);});}continue;}onDownloaded(false,resource.url);}});}processAsset(baseTexture,data,onDownloaded){const spritesheetData=data.spritesheet;if(!baseTexture||!spritesheetData||!Object.keys(spritesheetData).length){this.createCollection(data,null);onDownloaded(true);return;}const createAsset=()=>{const spritesheet=new esm_spritesheet[\"a\" /* Spritesheet */](baseTexture,spritesheetData);spritesheet.parse(()=>{this.createCollection(data,spritesheet);onDownloaded(true);});};if(baseTexture.valid){createAsset();}else{baseTexture.once('update',()=>createAsset());}}get collections(){return this._collections;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/IAssetManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimation.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationAdd.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationAvatar.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationDirection.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationFrame.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationFramePart.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationFramePartItem.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationOverride.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationRemove.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationShadow.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationSprite.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/IAssetAnimationSpriteDirection.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/animation/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/IAsset.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/IAssetAlias.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/IAssetData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/IAssetPalette.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/IAssetLogicCustomVars.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/IAssetLogicData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/IAssetLogicPlanetSystem.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/ISoundSample.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/model/IAssetDimension.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/model/IAssetLogicModel.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/model/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/particlesystem/IParticleSystem.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/particlesystem/IParticleSystemEmitter.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/particlesystem/IParticleSystemParticle.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/particlesystem/IParticleSystemSimulation.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/particlesystem/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/logic/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/spritesheet/ISpritesheetData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/spritesheet/ISpritesheetFrame.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/spritesheet/ISpritesheetMeta.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/spritesheet/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/animation/IAssetVisualAnimation.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/animation/IAssetVisualAnimationLayer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/animation/IAssetVisualAnimationSequence.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/animation/IAssetVisualAnimationSequenceFrame.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/animation/IAssetVisualAnimationSequenceFrameOffset.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/animation/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/color/IAssetColor.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/color/IAssetColorLayer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/color/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/gestures/IAssetGesture.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/gestures/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/IAssetVisualizationData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/IAssetVisualizationDirection.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/IAssetVisualizationLayer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/postures/IAssetPosture.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/postures/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/visualization/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/interfaces/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/asset/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/disposable/IDisposable.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/disposable/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/INitroManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/IUpdateReceiver.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/logger/INitroLogger.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/logger/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/common/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/evawire/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/ICodec.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/codec/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/enums/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/IConnection.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/IConnectionStateListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/connections/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/ICommunicationManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/IMessageComposer.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/IMessageConfiguration.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/IMessageDataWrapper.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/IMessageEvent.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/IMessageParser.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/messages/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/communication/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/configuration/IConfigurationManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/configuration/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/events/IEventDispatcher.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/events/ILinkEventTracker.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/events/IWorkerEventTracker.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/INitroCore.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/NitroVersion.ts\nclass NitroVersion{}NitroVersion.RENDERER_VERSION='1.2.5';NitroVersion.UI_VERSION='';\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/IRoomCameraWidgetEffect.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/IRoomCameraWidgetManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/IRoomCameraWidgetSelectedEffect.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/RoomCameraWidgetSelectedEffect.ts\nclass RoomCameraWidgetSelectedEffect{constructor(effect,alpha){this._effect=void 0;this._alpha=void 0;this._effect=effect;this._alpha=alpha;}get effect(){return this._effect;}get alpha(){return this._alpha;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/camera/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/enums/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/events/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/externalInterface/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/game/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/INitro.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/localization/INitroLocalizationManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/localization/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/IGetImageListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/IRoomContentListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/IRoomCreator.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/IRoomEngine.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/IRoomEngineServices.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/ISelectedRoomObjectData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/preview/RoomPreviewer.ts\nclass RoomPreviewer_RoomPreviewer{constructor(roomEngine){let roomId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this._roomEngine=void 0;this._planeParser=void 0;this._previewRoomId=1;this._currentPreviewObjectType=0;this._currentPreviewObjectCategory=0;this._currentPreviewObjectData='';this._currentPreviewRectangle=null;this._currentPreviewCanvasWidth=0;this._currentPreviewCanvasHeight=0;this._currentPreviewScale=64;this._currentPreviewNeedsZoomOut=void 0;this._automaticStateChange=void 0;this._previousAutomaticStateChangeTime=void 0;this._addViewOffset=void 0;this._backgroundColor=305148561;this._backgroundSprite=null;this._disableUpdate=false;this._roomEngine=roomEngine;this._planeParser=new RoomPlaneParser_RoomPlaneParser();this._previewRoomId=RoomId.makeRoomPreviewerId(roomId);this._addViewOffset=new math[\"g\" /* Point */](0,0);this.onRoomObjectAdded=this.onRoomObjectAdded.bind(this);this.onRoomInitializedonRoomInitialized=this.onRoomInitializedonRoomInitialized.bind(this);if(this.isRoomEngineReady&&this._roomEngine.events){this._roomEngine.events.addEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED,this.onRoomObjectAdded);this._roomEngine.events.addEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.CONTENT_UPDATED,this.onRoomObjectAdded);this._roomEngine.events.addEventListener(RoomEngineEvent_RoomEngineEvent.INITIALIZED,this.onRoomInitializedonRoomInitialized);}this.createRoomForPreview();}dispose(){this.reset(true);if(this.isRoomEngineReady&&this._roomEngine.events){this._roomEngine.events.removeEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.ADDED,this.onRoomObjectAdded);this._roomEngine.events.removeEventListener(RoomEngineObjectEvent_RoomEngineObjectEvent.CONTENT_UPDATED,this.onRoomObjectAdded);this._roomEngine.events.removeEventListener(RoomEngineEvent_RoomEngineEvent.INITIALIZED,this.onRoomInitializedonRoomInitialized);}if(this._backgroundSprite){this._backgroundSprite.destroy();this._backgroundSprite=null;}if(this._planeParser){this._planeParser.dispose();this._planeParser=null;}}createRoomForPreview(){if(this.isRoomEngineReady){const size=7;const planeParser=new RoomPlaneParser_RoomPlaneParser();planeParser.initializeTileMap(size+2,size+2);let y=1;while(y<1+size){let x=1;while(x<1+size){planeParser.setTileHeight(x,y,0);x++;}y++;}planeParser.initializeFromTileData();this._roomEngine.createRoomInstance(this._previewRoomId,planeParser.getMapData());planeParser.dispose();}}reset(k){if(this.isRoomEngineReady){this._roomEngine.removeRoomObjectFloor(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID);this._roomEngine.removeRoomObjectWall(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID);this._roomEngine.removeRoomObjectUser(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID);if(!k)this.updatePreviewRoomView();}this._currentPreviewObjectCategory=RoomObjectCategory.MINIMUM;}updatePreviewModel(model,wallHeight){let scale=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const parser=new FloorHeightMapMessageParser_FloorHeightMapMessageParser();parser.flush();parser.parseModel(model,wallHeight,scale);//@ts-ignore\nconst wallGeometry=this._roomEngine.getLegacyWallGeometry(this._previewRoomId);if(!wallGeometry)return;this._planeParser.reset();const width=parser.width;const height=parser.height;this._planeParser.initializeTileMap(width,height);const entryTile=null;let doorX=-1;let doorY=-1;let doorZ=0;let doorDirection=0;let y=0;while(y<height){let x=0;while(x<width){const tileHeight=parser.getHeight(x,y);if((y>0&&y<height-1||x>0&&x<width-1)&&!(tileHeight==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED)&&(entryTile==null||x==entryTile.x&&y==entryTile.y)){if(parser.getHeight(x,y-1)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x-1,y)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x,y+1)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED){doorX=x+0.5;doorY=y;doorZ=tileHeight;doorDirection=90;}if(parser.getHeight(x,y-1)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x-1,y)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED&&parser.getHeight(x+1,y)==RoomPlaneParser_RoomPlaneParser.TILE_BLOCKED){doorX=x;doorY=y+0.5;doorZ=tileHeight;doorDirection=180;}}this._planeParser.setTileHeight(x,y,tileHeight);x++;}y++;}this._planeParser.setTileHeight(Math.floor(doorX),Math.floor(doorY),doorZ);this._planeParser.initializeFromTileData(parser.wallHeight);this._planeParser.setTileHeight(Math.floor(doorX),Math.floor(doorY),doorZ+this._planeParser.wallHeight);wallGeometry.scale=LegacyWallGeometry_LegacyWallGeometry.DEFAULT_SCALE;wallGeometry.initialize(width,height,this._planeParser.floorHeight);let heightIterator=parser.height-1;while(heightIterator>=0){let widthIterator=parser.width-1;while(widthIterator>=0){wallGeometry.setHeight(widthIterator,heightIterator,this._planeParser.getTileHeight(widthIterator,heightIterator));widthIterator--;}heightIterator--;}const roomMap=this._planeParser.getMapData();roomMap.doors.push({x:doorX,y:doorY,z:doorZ,dir:doorDirection});const roomObject=this.getRoomPreviewOwnRoomObject();if(roomObject)roomObject.processUpdateMessage(new ObjectRoomMapUpdateMessage_ObjectRoomMapUpdateMessage(roomMap));}addFurnitureIntoRoom(classId,direction){let objectData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let extra=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(!objectData)objectData=new LegacyDataType_LegacyDataType();if(this.isRoomEngineReady){this.reset(false);this._currentPreviewObjectType=classId;this._currentPreviewObjectCategory=RoomObjectCategory.FLOOR;this._currentPreviewObjectData='';if(this._roomEngine.addFurnitureFloor(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,classId,new Vector3d(RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y,0),direction,0,objectData,NaN,-1,0,-1,'',true,false)){this._previousAutomaticStateChangeTime=Nitro_Nitro.instance.time;this._automaticStateChange=true;const roomObject=this._roomEngine.getRoomObject(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(roomObject&&extra)roomObject.model.setValue(RoomObjectVariable.FURNITURE_EXTRAS,extra);this.updatePreviewRoomView();return RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID;}}return-1;}addWallItemIntoRoom(classId,direction,objectData){if(this.isRoomEngineReady){if(this._currentPreviewObjectCategory===RoomObjectCategory.WALL&&this._currentPreviewObjectType===classId&&this._currentPreviewObjectData===objectData)return RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID;this.reset(false);this._currentPreviewObjectType=classId;this._currentPreviewObjectCategory=RoomObjectCategory.WALL;this._currentPreviewObjectData=objectData;if(this._roomEngine.addFurnitureWall(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,classId,new Vector3d(0.5,2.3,1.8),direction,0,objectData,0,0,-1,'',false)){this._previousAutomaticStateChangeTime=Nitro_Nitro.instance.time;this._automaticStateChange=true;this.updatePreviewRoomView();return RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID;}}return-1;}addAvatarIntoRoom(figure,effect){if(this.isRoomEngineReady){this.reset(false);this._currentPreviewObjectType=1;this._currentPreviewObjectCategory=RoomObjectCategory.UNIT;this._currentPreviewObjectData=figure;if(this._roomEngine.addRoomObjectUser(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,new Vector3d(RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y,0),new Vector3d(90,0,0),135,RoomObjectUserType.getTypeNumber(RoomObjectUserType.USER),figure)){this._previousAutomaticStateChangeTime=Nitro_Nitro.instance.time;this._automaticStateChange=true;this.updateUserGesture(1);this.updateUserEffect(effect);this.updateUserPosture('std');}this.updatePreviewRoomView();return RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID;}return-1;}addPetIntoRoom(figure){if(this.isRoomEngineReady){this.reset(false);this._currentPreviewObjectType=1;this._currentPreviewObjectCategory=RoomObjectCategory.UNIT;this._currentPreviewObjectData=figure;if(this._roomEngine.addRoomObjectUser(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,new Vector3d(RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y,0),new Vector3d(90,0,0),90,RoomObjectUserType.getTypeNumber(RoomObjectUserType.PET),figure)){this._previousAutomaticStateChangeTime=Nitro_Nitro.instance.time;this._automaticStateChange=false;this.updateUserGesture(1);this.updateUserPosture('std');}this.updatePreviewRoomView();return RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID;}return-1;}updateUserPosture(type){let parameter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';if(this.isRoomEngineReady)this._roomEngine.updateRoomObjectUserPosture(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,type,parameter);}updateUserGesture(gestureId){if(this.isRoomEngineReady)this._roomEngine.updateRoomObjectUserGesture(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,gestureId);}updateUserEffect(effectId){if(this.isRoomEngineReady)this._roomEngine.updateRoomObjectUserEffect(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,effectId);}updateObjectUserFigure(figure){let gender=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let subType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let isRiding=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(this.isRoomEngineReady)return this._roomEngine.updateRoomObjectUserFigure(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,figure,gender,subType,isRiding);return false;}updateObjectUserAction(action,value){let parameter=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(this.isRoomEngineReady)this._roomEngine.updateRoomObjectUserAction(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,action,value,parameter);}updateObjectStuffData(stuffData){if(this.isRoomEngineReady)this._roomEngine.updateRoomObjectFloor(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,null,null,stuffData.state,stuffData);}changeRoomObjectState(){if(this.isRoomEngineReady){this._automaticStateChange=false;if(this._currentPreviewObjectCategory!==RoomObjectCategory.UNIT)this._roomEngine.changeObjectState(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);}}changeRoomObjectDirection(){if(this.isRoomEngineReady){const roomObject=this._roomEngine.getRoomObject(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(!roomObject)return;const direction=this._roomEngine.objectEventHandler.getValidRoomObjectDirection(roomObject,true);switch(this._currentPreviewObjectCategory){case RoomObjectCategory.FLOOR:{const floorLocation=new Vector3d(RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y);const floorDirection=new Vector3d(direction,direction,direction);this._roomEngine.updateRoomObjectFloor(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,floorLocation,floorDirection,null,null);return;}case RoomObjectCategory.WALL://this._roomEngine.updateRoomObjectWall(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, null, direction, null, null);\nreturn;}}}checkAutomaticRoomObjectStateChange(){if(this._automaticStateChange){const time=Nitro_Nitro.instance.time;if(time>this._previousAutomaticStateChangeTime+RoomPreviewer_RoomPreviewer.AUTOMATIC_STATE_CHANGE_INTERVAL){this._previousAutomaticStateChangeTime=time;if(this.isRoomEngineReady)this._roomEngine.changeObjectState(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);}}}getRoomCanvas(width,height){if(this.isRoomEngineReady){const displayObject=this._roomEngine.getRoomInstanceDisplay(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,width,height,this._currentPreviewScale);if(displayObject&&this._backgroundColor!==null){let backgroundSprite=this._backgroundSprite;if(!backgroundSprite){backgroundSprite=new NitroSprite_NitroSprite(esm_core[\"t\" /* Texture */].WHITE);displayObject.addChildAt(backgroundSprite,0);}backgroundSprite.width=width;backgroundSprite.height=height;backgroundSprite.tint=this._backgroundColor;}this._roomEngine.setRoomInstanceRenderingCanvasMask(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,true);const geometry=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID);if(geometry)geometry.adjustLocation(new Vector3d(RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y,0),30);this._currentPreviewCanvasWidth=width;this._currentPreviewCanvasHeight=height;return displayObject;}return null;}modifyRoomCanvas(width,height){if(this.isRoomEngineReady){this._currentPreviewCanvasWidth=width;this._currentPreviewCanvasHeight=height;if(this._backgroundSprite){this._backgroundSprite.width=width;this._backgroundSprite.height=height;}this._roomEngine.initializeRoomInstanceRenderingCanvas(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,width,height);}}set addViewOffset(point){this._addViewOffset=point;}get addViewOffset(){return this._addViewOffset;}updatePreviewObjectBoundingRectangle(point){const objectBounds=this._roomEngine.getRoomObjectBoundingRectangle(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID);if(objectBounds&&point){objectBounds.x+=-(this._currentPreviewCanvasWidth>>1);objectBounds.y+=-(this._currentPreviewCanvasHeight>>1);objectBounds.x+=-point.x;objectBounds.y+=-point.y;if(!this._currentPreviewRectangle){this._currentPreviewRectangle=objectBounds;}else{const bounds=this._currentPreviewRectangle.clone().enlarge(objectBounds);if(bounds.width-this._currentPreviewRectangle.width>this._currentPreviewCanvasWidth-this._currentPreviewRectangle.width>>1||bounds.height-this._currentPreviewRectangle.height>this._currentPreviewCanvasHeight-this._currentPreviewRectangle.height>>1||this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)this._currentPreviewRectangle=bounds;}}}validatePreviewSize(point){if(this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1){return point;}if(this.isRoomEngineReady){const geometry=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID);if(this._currentPreviewRectangle.width>this._currentPreviewCanvasWidth*(1+RoomPreviewer_RoomPreviewer.ALLOWED_IMAGE_CUT)||this._currentPreviewRectangle.height>this._currentPreviewCanvasHeight*(1+RoomPreviewer_RoomPreviewer.ALLOWED_IMAGE_CUT)){if(RoomPreviewer_RoomPreviewer.ZOOM_ENABLED){if(this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID)!==0.5){this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,0.5,null,null);this._currentPreviewScale=RoomPreviewer_RoomPreviewer.SCALE_SMALL;this._currentPreviewNeedsZoomOut=true;point.x=point.x>>1;point.y=point.y>>1;this._currentPreviewRectangle.x=this._currentPreviewRectangle.x>>2;this._currentPreviewRectangle.y=this._currentPreviewRectangle.y>>2;this._currentPreviewRectangle.width=this._currentPreviewRectangle.width>>2;this._currentPreviewRectangle.height=this._currentPreviewRectangle.height>>2;}}else{if(geometry.isZoomedIn()){geometry.performZoomOut();this._currentPreviewScale=RoomPreviewer_RoomPreviewer.SCALE_SMALL;this._currentPreviewNeedsZoomOut=true;}}}else if(!this._currentPreviewNeedsZoomOut){if(RoomPreviewer_RoomPreviewer.ZOOM_ENABLED){if(this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID)!==1){this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,1,null,null);this._currentPreviewScale=RoomPreviewer_RoomPreviewer.SCALE_NORMAL;}}else{if(!geometry.isZoomedIn()){geometry.performZoomIn();this._currentPreviewScale=RoomPreviewer_RoomPreviewer.SCALE_NORMAL;}}}}return point;}zoomIn(){if(this.isRoomEngineReady){if(RoomPreviewer_RoomPreviewer.ZOOM_ENABLED){this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,1);}else{const geometry=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID);geometry.performZoomIn();}}this._currentPreviewScale=RoomPreviewer_RoomPreviewer.SCALE_NORMAL;}zoomOut(){if(this.isRoomEngineReady){if(RoomPreviewer_RoomPreviewer.ZOOM_ENABLED){this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,0.5);}else{const geometry=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID);geometry.performZoomOut();}}this._currentPreviewScale=RoomPreviewer_RoomPreviewer.SCALE_SMALL;}updateAvatarDirection(direction,headDirection){if(this.isRoomEngineReady){this._roomEngine.updateRoomObjectUserLocation(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,new Vector3d(RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y,0),new Vector3d(RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y,0),false,0,new Vector3d(direction*45,0,0),headDirection*45);}}updateObjectRoom(){let floorType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let wallType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let landscapeType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let _arg_4=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(this.isRoomEngineReady)return this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId,floorType,wallType,landscapeType,_arg_4);return false;}updateRoomWallsAndFloorVisibility(wallsVisible){let floorsVisible=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(this.isRoomEngineReady)this._roomEngine.updateRoomInstancePlaneVisibility(this._previewRoomId,wallsVisible,floorsVisible);}getCanvasOffset(point){if(this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)return point;let x=-(this._currentPreviewRectangle.left+this._currentPreviewRectangle.right)>>1;let y=-(this._currentPreviewRectangle.top+this._currentPreviewRectangle.bottom)>>1;const height=this._currentPreviewCanvasHeight-this._currentPreviewRectangle.height>>1;if(height>10){y=y+Math.min(15,height-10);}else{if(this._currentPreviewObjectCategory!==RoomObjectCategory.UNIT){y=y+(5-Math.max(0,height/2));}else{y=y-(5-Math.min(0,height/2));}}y=y+this._addViewOffset.y;x=x+this._addViewOffset.x;const offsetX=x-point.x;const offsetY=y-point.y;if(offsetX!==0||offsetY!==0){const _local_7=Math.sqrt(offsetX*offsetX+offsetY*offsetY);if(_local_7>10){x=point.x+offsetX*10/_local_7;y=point.y+offsetY*10/_local_7;}return new math[\"g\" /* Point */](x,y);}return null;}updatePreviewRoomView(){let k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this._disableUpdate&&!k)return;this.checkAutomaticRoomObjectStateChange();if(this.isRoomEngineReady){let offset=this._roomEngine.getRoomInstanceRenderingCanvasOffset(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID);if(offset){this.updatePreviewObjectBoundingRectangle(offset);if(this._currentPreviewRectangle){const scale=this._currentPreviewScale;offset=this.validatePreviewSize(offset);const canvasOffset=this.getCanvasOffset(offset);if(canvasOffset){this._roomEngine.setRoomInstanceRenderingCanvasOffset(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID,canvasOffset);}if(this._currentPreviewScale!==scale)this._currentPreviewRectangle=null;}}}}set disableUpdate(flag){this._disableUpdate=flag;}set disableRoomEngineUpdate(flag){if(this.isRoomEngineReady)this._roomEngine.disableUpdate(flag);}onRoomInitializedonRoomInitialized(event){if(!event)return;switch(event.type){case RoomEngineEvent_RoomEngineEvent.INITIALIZED:if(event.roomId===this._previewRoomId&&this.isRoomEngineReady){this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId,'110','99999');}return;}}onRoomObjectAdded(event){if(event.roomId===this._previewRoomId&&event.objectId===RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID&&event.category===this._currentPreviewObjectCategory){this._currentPreviewRectangle=null;this._currentPreviewNeedsZoomOut=false;const roomObject=this._roomEngine.getRoomObject(event.roomId,event.objectId,event.category);if(roomObject&&roomObject.model&&event.category===RoomObjectCategory.WALL){const sizeZ=roomObject.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Z);const centerZ=roomObject.model.getValue(RoomObjectVariable.FURNITURE_CENTER_Z);if(sizeZ!==null||centerZ!==null){this._roomEngine.updateRoomObjectWallLocation(event.roomId,event.objectId,new Vector3d(0.5,2.3,(3.6-sizeZ)/2+centerZ));}}}}updateRoomEngine(){if(this.isRoomEngineReady)this._roomEngine.runUpdate();}getRenderingCanvas(){const renderingCanvas=this._roomEngine.getRoomInstanceRenderingCanvas(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID);if(!renderingCanvas)return null;return renderingCanvas;}getGenericRoomObjectImage(type,value,direction,scale,listener){let bgColor=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let extras=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;let objectData=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let state=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;let frame=arguments.length>9&&arguments[9]!==undefined?arguments[9]:-1;let posture=arguments.length>10&&arguments[10]!==undefined?arguments[10]:null;if(this.isRoomEngineReady){return this._roomEngine.getGenericRoomObjectImage(type,value,direction,scale,listener,bgColor,extras,objectData,state,frame,posture);}return null;}getRoomObjectImage(direction,scale,listener){let bgColor=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(this.isRoomEngineReady){return this._roomEngine.getRoomObjectImage(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory,direction,scale,listener,bgColor);}return null;}getRoomObjectCurrentImage(){if(this.isRoomEngineReady){const roomObject=this._roomEngine.getRoomObject(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(roomObject&&roomObject.visualization)return roomObject.visualization.getImage(0xFFFFFF,-1);}return null;}getRoomPreviewObject(){if(this.isRoomEngineReady){const roomObject=this._roomEngine.getRoomObject(this._previewRoomId,RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(roomObject)return roomObject;}return null;}getRoomPreviewOwnRoomObject(){if(this.isRoomEngineReady){const roomObject=this._roomEngine.getRoomObject(this._previewRoomId,RoomEngine_RoomEngine.ROOM_OBJECT_ID,RoomObjectCategory.ROOM);if(roomObject)return roomObject;}return null;}get isRoomEngineReady(){return this._roomEngine&&this._roomEngine.ready;}get roomId(){return this._previewRoomId;}get backgroundColor(){return this._backgroundColor;}set backgroundColor(color){this._backgroundColor=color;}get width(){return this._currentPreviewCanvasWidth;}get height(){return this._currentPreviewCanvasHeight;}}RoomPreviewer_RoomPreviewer.SCALE_NORMAL=64;RoomPreviewer_RoomPreviewer.SCALE_SMALL=32;RoomPreviewer_RoomPreviewer.PREVIEW_COUNTER=0;RoomPreviewer_RoomPreviewer.PREVIEW_CANVAS_ID=1;RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_ID=1;RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_X=2;RoomPreviewer_RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y=2;RoomPreviewer_RoomPreviewer.ALLOWED_IMAGE_CUT=0.25;RoomPreviewer_RoomPreviewer.AUTOMATIC_STATE_CHANGE_INTERVAL=2500;RoomPreviewer_RoomPreviewer.ZOOM_ENABLED=true;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/preview/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/utils/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/room/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/badge/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/enum/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/furniture/IFurnitureData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/furniture/IFurnitureDataListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/furniture/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/HabboClubLevelEnum.ts\nclass HabboClubLevelEnum{}HabboClubLevelEnum.NO_CLUB=0;HabboClubLevelEnum.CLUB=1;HabboClubLevelEnum.VIP=2;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/handler/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/IRoomHandlerListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/IRoomSession.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/IRoomSessionManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/ISessionDataManager.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/product/IProductData.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/product/IProductDataListener.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/product/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/session/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Motion.ts\nclass Motion{constructor(target){this._target=void 0;this._running=void 0;this._complete=true;this._tag=void 0;this._target=target;}get running(){return this._running&&!!this._target;}get complete(){return this._complete;}set target(k){this._target=k;}get target(){return this._target;}set tag(k){this._tag=k;}get tag(){return this._tag;}start(){this._running=true;}update(k){}stop(){this._target=null;this._running=false;}tick(k){}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Callback.ts\nclass Callback_Callback extends Motion{constructor(k){super(null);this._callback=void 0;this._callback=k;}get running(){return this._running&&!!this._callback;}tick(k){super.tick(k);if(this._callback){this._callback();this._callback=null;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Combo.ts\nclass Combo_Combo extends Motion{constructor(){for(var _len=arguments.length,motions=new Array(_len),_key=0;_key<_len;_key++){motions[_key]=arguments[_key];}super(motions&&motions.length?motions[0].target:null);this._runningMotions=void 0;this._removedMotions=void 0;this._runningMotions=[];this._removedMotions=[];for(const motion of motions)this._runningMotions.push(motion);}start(){super.start();for(const motion of this._runningMotions)motion.start();}tick(k){super.tick(k);let motion=null;while((motion=this._removedMotions.pop())!==null){this._runningMotions.splice(this._removedMotions.indexOf(motion),1);if(motion.running)motion.stop();}for(const motion of this._runningMotions){if(motion.running)motion.tick(k);if(motion.complete)this._removedMotions.push(motion);}if(this._runningMotions.length>0){for(const motion of this._runningMotions){this._target=motion.target;if(this._target)break;}this._complete=false;}else{this._complete=true;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Dispose.ts\nclass Dispose_Dispose extends Motion{constructor(k){super(k);}tick(k){super.tick(k);if(this.target){this.target.remove();this.target=null;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Interval.ts\nclass Interval_Interval extends Motion{constructor(target,duration){super(target);this._startTimeMs=void 0;this._duration=void 0;this._complete=false;this._duration=duration;}get duration(){return this._duration;}start(){super.start();this._complete=false;this._startTimeMs=Nitro_Nitro.instance.time;}tick(time){super.tick(time);const elapsed=(time-this._startTimeMs)/this._duration;if(elapsed<1){this.update(elapsed);}else{this.update(1);this._complete=true;}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/DropBounce.ts\nclass DropBounce_DropBounce extends Interval_Interval{constructor(target,duration,height){super(target,duration);this._height=void 0;this._offset=void 0;this._height=height;}start(){super.start();this._offset=0;this.target.style.top=this._offset-this._height+'px';}update(time){super.update(time);this.target.style.top=this._offset-this._height+this.getBounceOffset(time)*this._height+'px';}getBounceOffset(k){if(k<0.364)return 7.5625*k*k;if(k<0.727){k=k-0.545;return 7.5625*k*k+0.75;}if(k<0.909){k=k-0.9091;return 7.5625*k*k+0.9375;}k=k-0.955;return 7.5625*k*k+0.984375;}stop(){this.target.style.top=this._offset+'px';super.stop();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Ease.ts\nclass Ease_Ease extends Interval_Interval{constructor(k){super(k.target,k.duration);this._interval=void 0;this._interval=k;}start(){super.start();this._interval.start();}update(k){super.update(k);this._interval.update(k);}stop(){super.stop();this._interval.stop();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/EaseRate.ts\nclass EaseRate_EaseRate extends Ease_Ease{constructor(k,_arg_2){super(k);this._rate=void 0;this._rate=_arg_2;}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/EaseOut.ts\nclass EaseOut_EaseOut extends EaseRate_EaseRate{constructor(k,_arg_2){super(k,_arg_2);}update(k){this._interval.update(Math.pow(k,1/this._rate));}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/JumpBy.ts\nclass JumpBy_JumpBy extends Interval_Interval{constructor(target,duration,deltaX,deltaY,height,numJumps){super(target,duration);this._startX=void 0;this._startY=void 0;this._deltaX=void 0;this._deltaY=void 0;this._height=void 0;this._numJumps=void 0;this._deltaX=deltaX;this._deltaY=deltaY;this._height=-height;this._numJumps=numJumps;}start(){super.start();this._startX=this.target.offsetLeft;this._startY=this.target.offsetTop;}update(k){super.update(k);this.target.style.left=this._startX+this._deltaX*k+'px';this.target.style.top=this._startY+this._height*Math.abs(Math.sin(k*Math.PI*this._numJumps))+this._deltaY*k+'px';}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Motions.ts\nclass Motions_Motions{static get TIMER_TIME(){return 1000/Nitro_Nitro.instance.ticker.FPS;}static runMotion(k){if(Motions_Motions._RUNNING_MOTIONS.indexOf(k)===-1&&Motions_Motions._QUEUED_MOTIONS.indexOf(k)===-1){if(Motions_Motions._IS_UPDATING){Motions_Motions._QUEUED_MOTIONS.push(k);}else{Motions_Motions._RUNNING_MOTIONS.push(k);k.start();}Motions_Motions.startTimer();}return k;}static removeMotion(k){let _local_2=Motions_Motions._RUNNING_MOTIONS.indexOf(k);if(_local_2>-1){if(Motions_Motions._IS_UPDATING){_local_2=Motions_Motions._REMOVED_MOTIONS.indexOf(k);if(_local_2==-1)Motions_Motions._REMOVED_MOTIONS.push(k);}else{Motions_Motions._RUNNING_MOTIONS.splice(_local_2,1);if(k.running)k.stop();if(!Motions_Motions._RUNNING_MOTIONS.length)Motions_Motions.stopTimer();}}else{_local_2=Motions_Motions._QUEUED_MOTIONS.indexOf(k);if(_local_2>-1)Motions_Motions._QUEUED_MOTIONS.splice(_local_2,1);}}static getMotionByTag(k){for(const _local_2 of Motions_Motions._RUNNING_MOTIONS){if(_local_2.tag==k)return _local_2;}for(const _local_2 of Motions_Motions._QUEUED_MOTIONS){if(_local_2.tag==k)return _local_2;}return null;}static getMotionByTarget(k){for(const _local_2 of Motions_Motions._RUNNING_MOTIONS){if(_local_2.target==k)return _local_2;}for(const _local_2 of Motions_Motions._QUEUED_MOTIONS){if(_local_2.target==k)return _local_2;}return null;}static getMotionByTagAndTarget(k,_arg_2){for(const _local_3 of Motions_Motions._RUNNING_MOTIONS){if(_local_3.tag==k&&_local_3.target==_arg_2)return _local_3;}for(const _local_3 of Motions_Motions._QUEUED_MOTIONS){if(_local_3.tag==k&&_local_3.target==_arg_2)return _local_3;}return null;}static get isRunning(){return!!Motions_Motions._TIMER;}static get isUpdating(){return Motions_Motions._IS_UPDATING;}static onTick(){Motions_Motions._IS_UPDATING=true;const _local_2=Nitro_Nitro.instance.time;let _local_3=null;// eslint-disable-next-line no-cond-assign\nwhile(_local_3=Motions_Motions._QUEUED_MOTIONS.pop())Motions_Motions._RUNNING_MOTIONS.push(_local_3);// eslint-disable-next-line no-cond-assign\nwhile(_local_3=Motions_Motions._REMOVED_MOTIONS.pop()){Motions_Motions._RUNNING_MOTIONS.splice(Motions_Motions._RUNNING_MOTIONS.indexOf(_local_3),1);if(_local_3.running)_local_3.stop();}for(_local_3 of Motions_Motions._RUNNING_MOTIONS){if(_local_3.running){_local_3.tick(_local_2);if(_local_3.complete){Motions_Motions.removeMotion(_local_3);}}else{Motions_Motions.removeMotion(_local_3);}}if(!Motions_Motions._RUNNING_MOTIONS.length)Motions_Motions.stopTimer();Motions_Motions._IS_UPDATING=false;}static startTimer(){if(!Motions_Motions._TIMER){Motions_Motions._TIMER=setInterval(Motions_Motions.onTick,Motions_Motions.TIMER_TIME);}}static stopTimer(){if(Motions_Motions._TIMER){clearInterval(Motions_Motions._TIMER);Motions_Motions._TIMER=null;}}getNumRunningMotions(k){let _local_2=0;for(const _local_3 of Motions_Motions._RUNNING_MOTIONS){if(_local_3.target===k)_local_2++;}return _local_2;}}Motions_Motions._QUEUED_MOTIONS=[];Motions_Motions._RUNNING_MOTIONS=[];Motions_Motions._REMOVED_MOTIONS=[];Motions_Motions._TIMER=null;Motions_Motions._IS_UPDATING=false;\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/MoveTo.ts\nclass MoveTo_MoveTo extends Interval_Interval{constructor(k,_arg_2,_arg_3,_arg_4){super(k,_arg_2);this._startX=void 0;this._startY=void 0;this._endX=void 0;this._endY=void 0;this._deltaX=void 0;this._deltaY=void 0;this._endX=_arg_3;this._endY=_arg_4;}start(){super.start();this._startX=this.target.offsetLeft;this._startY=this.target.offsetTop;this._deltaX=this._endX-this._startX;this._deltaY=this._endY-this._startY;}update(k){this.target.style.left=this._startX+this._deltaX*k+'px';this.target.style.top=this._startY+this._deltaY*k+'px';}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/MoveBy.ts\nclass MoveBy_MoveBy extends MoveTo_MoveTo{constructor(k,_arg_2,_arg_3,_arg_4){super(k,_arg_2,_arg_3,_arg_4);}start(){this._endX=this.target.offsetLeft+this._endX;this._endY=this.target.offsetTop+this._endY;super.start();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Queue.ts\nclass Queue_Queue extends Motion{constructor(){for(var _len=arguments.length,motions=new Array(_len),_key=0;_key<_len;_key++){motions[_key]=arguments[_key];}super(motions?motions[0].target:null);this._motion=void 0;this._queue=void 0;this._queue=[];for(const motion of motions)this._queue.push(motion);this._motion=motions[0];this._complete=!this._motion;}get running(){return this._running&&this._motion?this._motion.running:false;}start(){super.start();this._motion.start();}update(k){super.update(k);if(this._motion.running)this._motion.update(k);}stop(){super.stop();this._motion.stop();}tick(k){super.tick(k);this._motion.tick(k);if(this._motion.complete){this._motion.stop();const index=this._queue.indexOf(this._motion);if(index<this._queue.length-1){this._motion=this._queue[index+1];this._target=this._motion.target;this._motion.start();}else{this._complete=true;}}}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/ResizeTo.ts\nclass ResizeTo_ResizeTo extends Interval_Interval{constructor(k,_arg_2,_arg_3,_arg_4){super(k,_arg_2);this._startW=void 0;this._startH=void 0;this._endW=void 0;this._endH=void 0;this._deltaW=void 0;this._deltaH=void 0;this._endW=_arg_3;this._endH=_arg_4;}start(){super.start();this._startW=this.target.offsetWidth;this._startH=this.target.offsetHeight;this._deltaW=this._endW-this._startW;this._deltaH=this._endH-this._startH;}update(k){this.target.style.width=this._startW+this._deltaW*k+'px';this.target.style.height=this._startH+this._deltaH*k+'px';}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Wait.ts\nclass Wait_Wait extends Motion{constructor(k){super(null);this._startTimeMs=void 0;this._waitTimeMs=void 0;this._waitTimeMs=k;}get running(){return this._running;}start(){super.start();this._complete=false;this._startTimeMs=Nitro_Nitro.instance.time;}tick(k){super.tick(k);this._complete=k-this._startTimeMs>=this._waitTimeMs;if(this._complete)this.stop();}}\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/window/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/index.ts\n\n// CONCATENATED MODULE: ./node_modules/@nitrots/nitro-renderer/src/index.ts\n\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NitroEvent; });\nclass NitroEvent{constructor(type){this._type=void 0;this._type=type;}get type(){return this._type;}}\n\n/***/ })\n\n}]);","inputSourceMap":null}